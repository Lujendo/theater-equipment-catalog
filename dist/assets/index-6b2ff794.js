var ck=Object.defineProperty;var uk=(e,t,n)=>t in e?ck(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ue=(e,t,n)=>(uk(e,typeof t!="symbol"?t+"":t,n),n);function f3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ch(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h3={exports:{}},Eh={},p3={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=Symbol.for("react.element"),dk=Symbol.for("react.portal"),fk=Symbol.for("react.fragment"),hk=Symbol.for("react.strict_mode"),pk=Symbol.for("react.profiler"),mk=Symbol.for("react.provider"),gk=Symbol.for("react.context"),xk=Symbol.for("react.forward_ref"),vk=Symbol.for("react.suspense"),yk=Symbol.for("react.memo"),wk=Symbol.for("react.lazy"),dy=Symbol.iterator;function bk(e){return e===null||typeof e!="object"?null:(e=dy&&e[dy]||e["@@iterator"],typeof e=="function"?e:null)}var m3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g3=Object.assign,x3={};function _c(e,t,n){this.props=e,this.context=t,this.refs=x3,this.updater=n||m3}_c.prototype.isReactComponent={};_c.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_c.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function v3(){}v3.prototype=_c.prototype;function Pg(e,t,n){this.props=e,this.context=t,this.refs=x3,this.updater=n||m3}var Fg=Pg.prototype=new v3;Fg.constructor=Pg;g3(Fg,_c.prototype);Fg.isPureReactComponent=!0;var fy=Array.isArray,y3=Object.prototype.hasOwnProperty,Bg={current:null},w3={key:!0,ref:!0,__self:!0,__source:!0};function b3(e,t,n){var r,i={},a=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(a=""+t.key),t)y3.call(t,r)&&!w3.hasOwnProperty(r)&&(i[r]=t[r]);var g=arguments.length-2;if(g===1)i.children=n;else if(1<g){for(var x=Array(g),v=0;v<g;v++)x[v]=arguments[v+2];i.children=x}if(e&&e.defaultProps)for(r in g=e.defaultProps,g)i[r]===void 0&&(i[r]=g[r]);return{$$typeof:hd,type:e,key:a,ref:d,props:i,_owner:Bg.current}}function Ck(e,t){return{$$typeof:hd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ug(e){return typeof e=="object"&&e!==null&&e.$$typeof===hd}function Ek(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hy=/\/+/g;function m1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ek(""+e.key):t.toString(36)}function Zf(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(a){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case hd:case dk:d=!0}}if(d)return d=e,i=i(d),e=r===""?"."+m1(d,0):r,fy(i)?(n="",e!=null&&(n=e.replace(hy,"$&/")+"/"),Zf(i,t,n,"",function(v){return v})):i!=null&&(Ug(i)&&(i=Ck(i,n+(!i.key||d&&d.key===i.key?"":(""+i.key).replace(hy,"$&/")+"/")+e)),t.push(i)),1;if(d=0,r=r===""?".":r+":",fy(e))for(var g=0;g<e.length;g++){a=e[g];var x=r+m1(a,g);d+=Zf(a,t,n,x,i)}else if(x=bk(e),typeof x=="function")for(e=x.call(e),g=0;!(a=e.next()).done;)a=a.value,x=r+m1(a,g++),d+=Zf(a,t,n,x,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Sf(e,t,n){if(e==null)return e;var r=[],i=0;return Zf(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Nk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vr={current:null},Jf={transition:null},_k={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:Jf,ReactCurrentOwner:Bg};function C3(){throw Error("act(...) is not supported in production builds of React.")}At.Children={map:Sf,forEach:function(e,t,n){Sf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sf(e,function(){t++}),t},toArray:function(e){return Sf(e,function(t){return t})||[]},only:function(e){if(!Ug(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};At.Component=_c;At.Fragment=fk;At.Profiler=pk;At.PureComponent=Pg;At.StrictMode=hk;At.Suspense=vk;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_k;At.act=C3;At.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g3({},e.props),i=e.key,a=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,d=Bg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(x in t)y3.call(t,x)&&!w3.hasOwnProperty(x)&&(r[x]=t[x]===void 0&&g!==void 0?g[x]:t[x])}var x=arguments.length-2;if(x===1)r.children=n;else if(1<x){g=Array(x);for(var v=0;v<x;v++)g[v]=arguments[v+2];r.children=g}return{$$typeof:hd,type:e.type,key:i,ref:a,props:r,_owner:d}};At.createContext=function(e){return e={$$typeof:gk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mk,_context:e},e.Consumer=e};At.createElement=b3;At.createFactory=function(e){var t=b3.bind(null,e);return t.type=e,t};At.createRef=function(){return{current:null}};At.forwardRef=function(e){return{$$typeof:xk,render:e}};At.isValidElement=Ug;At.lazy=function(e){return{$$typeof:wk,_payload:{_status:-1,_result:e},_init:Nk}};At.memo=function(e,t){return{$$typeof:yk,type:e,compare:t===void 0?null:t}};At.startTransition=function(e){var t=Jf.transition;Jf.transition={};try{e()}finally{Jf.transition=t}};At.unstable_act=C3;At.useCallback=function(e,t){return Vr.current.useCallback(e,t)};At.useContext=function(e){return Vr.current.useContext(e)};At.useDebugValue=function(){};At.useDeferredValue=function(e){return Vr.current.useDeferredValue(e)};At.useEffect=function(e,t){return Vr.current.useEffect(e,t)};At.useId=function(){return Vr.current.useId()};At.useImperativeHandle=function(e,t,n){return Vr.current.useImperativeHandle(e,t,n)};At.useInsertionEffect=function(e,t){return Vr.current.useInsertionEffect(e,t)};At.useLayoutEffect=function(e,t){return Vr.current.useLayoutEffect(e,t)};At.useMemo=function(e,t){return Vr.current.useMemo(e,t)};At.useReducer=function(e,t,n){return Vr.current.useReducer(e,t,n)};At.useRef=function(e){return Vr.current.useRef(e)};At.useState=function(e){return Vr.current.useState(e)};At.useSyncExternalStore=function(e,t,n){return Vr.current.useSyncExternalStore(e,t,n)};At.useTransition=function(){return Vr.current.useTransition()};At.version="18.3.1";p3.exports=At;var M=p3.exports;const ue=Ch(M),zg=f3({__proto__:null,default:ue},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk=M,Ak=Symbol.for("react.element"),kk=Symbol.for("react.fragment"),Tk=Object.prototype.hasOwnProperty,Dk=Sk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jk={key:!0,ref:!0,__self:!0,__source:!0};function E3(e,t,n){var r,i={},a=null,d=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)Tk.call(t,r)&&!jk.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Ak,type:e,key:a,ref:d,props:i,_owner:Dk.current}}Eh.Fragment=kk;Eh.jsx=E3;Eh.jsxs=E3;h3.exports=Eh;var l=h3.exports,am={},N3={exports:{}},Ns={},_3={exports:{}},S3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ce,ve){var Oe=ce.length;ce.push(ve);e:for(;0<Oe;){var Ye=Oe-1>>>1,Je=ce[Ye];if(0<i(Je,ve))ce[Ye]=ve,ce[Oe]=Je,Oe=Ye;else break e}}function n(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var ve=ce[0],Oe=ce.pop();if(Oe!==ve){ce[0]=Oe;e:for(var Ye=0,Je=ce.length,ke=Je>>>1;Ye<ke;){var Xe=2*(Ye+1)-1,st=ce[Xe],_e=Xe+1,Ct=ce[_e];if(0>i(st,Oe))_e<Je&&0>i(Ct,st)?(ce[Ye]=Ct,ce[_e]=Oe,Ye=_e):(ce[Ye]=st,ce[Xe]=Oe,Ye=Xe);else if(_e<Je&&0>i(Ct,Oe))ce[Ye]=Ct,ce[_e]=Oe,Ye=_e;else break e}}return ve}function i(ce,ve){var Oe=ce.sortIndex-ve.sortIndex;return Oe!==0?Oe:ce.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var x=[],v=[],w=1,E=null,_=3,k=!1,A=!1,I=!1,L=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ce){for(var ve=n(v);ve!==null;){if(ve.callback===null)r(v);else if(ve.startTime<=ce)r(v),ve.sortIndex=ve.expirationTime,t(x,ve);else break;ve=n(v)}}function W(ce){if(I=!1,R(ce),!A)if(n(x)!==null)A=!0,Se(Z);else{var ve=n(v);ve!==null&&we(W,ve.startTime-ce)}}function Z(ce,ve){A=!1,I&&(I=!1,j(V),V=-1),k=!0;var Oe=_;try{for(R(ve),E=n(x);E!==null&&(!(E.expirationTime>ve)||ce&&!de());){var Ye=E.callback;if(typeof Ye=="function"){E.callback=null,_=E.priorityLevel;var Je=Ye(E.expirationTime<=ve);ve=e.unstable_now(),typeof Je=="function"?E.callback=Je:E===n(x)&&r(x),R(ve)}else r(x);E=n(x)}if(E!==null)var ke=!0;else{var Xe=n(v);Xe!==null&&we(W,Xe.startTime-ve),ke=!1}return ke}finally{E=null,_=Oe,k=!1}}var U=!1,O=null,V=-1,Y=5,ee=-1;function de(){return!(e.unstable_now()-ee<Y)}function ie(){if(O!==null){var ce=e.unstable_now();ee=ce;var ve=!0;try{ve=O(!0,ce)}finally{ve?le():(U=!1,O=null)}}else U=!1}var le;if(typeof D=="function")le=function(){D(ie)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,ne=Te.port2;Te.port1.onmessage=ie,le=function(){ne.postMessage(null)}}else le=function(){L(ie,0)};function Se(ce){O=ce,U||(U=!0,le())}function we(ce,ve){V=L(function(){ce(e.unstable_now())},ve)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ce){ce.callback=null},e.unstable_continueExecution=function(){A||k||(A=!0,Se(Z))},e.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<ce?Math.floor(1e3/ce):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(x)},e.unstable_next=function(ce){switch(_){case 1:case 2:case 3:var ve=3;break;default:ve=_}var Oe=_;_=ve;try{return ce()}finally{_=Oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ce,ve){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Oe=_;_=ce;try{return ve()}finally{_=Oe}},e.unstable_scheduleCallback=function(ce,ve,Oe){var Ye=e.unstable_now();switch(typeof Oe=="object"&&Oe!==null?(Oe=Oe.delay,Oe=typeof Oe=="number"&&0<Oe?Ye+Oe:Ye):Oe=Ye,ce){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=Oe+Je,ce={id:w++,callback:ve,priorityLevel:ce,startTime:Oe,expirationTime:Je,sortIndex:-1},Oe>Ye?(ce.sortIndex=Oe,t(v,ce),n(x)===null&&ce===n(v)&&(I?(j(V),V=-1):I=!0,we(W,Oe-Ye))):(ce.sortIndex=Je,t(x,ce),A||k||(A=!0,Se(Z))),ce},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(ce){var ve=_;return function(){var Oe=_;_=ve;try{return ce.apply(this,arguments)}finally{_=Oe}}}})(S3);_3.exports=S3;var Ik=_3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk=M,Es=Ik;function De(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A3=new Set,Uu={};function hl(e,t){lc(e,t),lc(e+"Capture",t)}function lc(e,t){for(Uu[e]=t,e=0;e<t.length;e++)A3.add(t[e])}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),om=Object.prototype.hasOwnProperty,Ok=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,py={},my={};function Mk(e){return om.call(my,e)?!0:om.call(py,e)?!1:Ok.test(e)?my[e]=!0:(py[e]=!0,!1)}function Lk(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pk(e,t,n,r){if(t===null||typeof t>"u"||Lk(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Yr(e,t,n,r,i,a,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=d}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wr[e]=new Yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wr[t]=new Yr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wr[e]=new Yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wr[e]=new Yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wr[e]=new Yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wr[e]=new Yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wr[e]=new Yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wr[e]=new Yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wr[e]=new Yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wg=/[\-:]([a-z])/g;function Hg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wg,Hg);wr[t]=new Yr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wg,Hg);wr[t]=new Yr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wg,Hg);wr[t]=new Yr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wr[e]=new Yr(e,1,!1,e.toLowerCase(),null,!1,!1)});wr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wr[e]=new Yr(e,1,!1,e.toLowerCase(),null,!0,!0)});function qg(e,t,n,r){var i=wr.hasOwnProperty(t)?wr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pk(t,n,i,r)&&(n=null),r||i===null?Mk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ba=Rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Af=Symbol.for("react.element"),Bl=Symbol.for("react.portal"),Ul=Symbol.for("react.fragment"),Vg=Symbol.for("react.strict_mode"),lm=Symbol.for("react.profiler"),k3=Symbol.for("react.provider"),T3=Symbol.for("react.context"),Yg=Symbol.for("react.forward_ref"),cm=Symbol.for("react.suspense"),um=Symbol.for("react.suspense_list"),$g=Symbol.for("react.memo"),za=Symbol.for("react.lazy"),D3=Symbol.for("react.offscreen"),gy=Symbol.iterator;function du(e){return e===null||typeof e!="object"?null:(e=gy&&e[gy]||e["@@iterator"],typeof e=="function"?e:null)}var Tn=Object.assign,g1;function Nu(e){if(g1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);g1=t&&t[1]||""}return`
`+g1+e}var x1=!1;function v1(e,t){if(!e||x1)return"";x1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var i=v.stack.split(`
`),a=r.stack.split(`
`),d=i.length-1,g=a.length-1;1<=d&&0<=g&&i[d]!==a[g];)g--;for(;1<=d&&0<=g;d--,g--)if(i[d]!==a[g]){if(d!==1||g!==1)do if(d--,g--,0>g||i[d]!==a[g]){var x=`
`+i[d].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=d&&0<=g);break}}}finally{x1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nu(e):""}function Fk(e){switch(e.tag){case 5:return Nu(e.type);case 16:return Nu("Lazy");case 13:return Nu("Suspense");case 19:return Nu("SuspenseList");case 0:case 2:case 15:return e=v1(e.type,!1),e;case 11:return e=v1(e.type.render,!1),e;case 1:return e=v1(e.type,!0),e;default:return""}}function dm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ul:return"Fragment";case Bl:return"Portal";case lm:return"Profiler";case Vg:return"StrictMode";case cm:return"Suspense";case um:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T3:return(e.displayName||"Context")+".Consumer";case k3:return(e._context.displayName||"Context")+".Provider";case Yg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $g:return t=e.displayName||null,t!==null?t:dm(e.type)||"Memo";case za:t=e._payload,e=e._init;try{return dm(e(t))}catch{}}return null}function Bk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dm(t);case 8:return t===Vg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function j3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Uk(e){var t=j3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(d){r=""+d,a.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kf(e){e._valueTracker||(e._valueTracker=Uk(e))}function I3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=j3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function C0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fm(e,t){var n=t.checked;return Tn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=lo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function R3(e,t){t=t.checked,t!=null&&qg(e,"checked",t,!1)}function hm(e,t){R3(e,t);var n=lo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pm(e,t.type,n):t.hasOwnProperty("defaultValue")&&pm(e,t.type,lo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pm(e,t,n){(t!=="number"||C0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _u=Array.isArray;function Jl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function mm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(De(91));return Tn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(De(92));if(_u(n)){if(1<n.length)throw Error(De(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:lo(n)}}function O3(e,t){var n=lo(t.value),r=lo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function M3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?M3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tf,L3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tf=Tf||document.createElement("div"),Tf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zk=["Webkit","ms","Moz","O"];Object.keys(Du).forEach(function(e){zk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Du[t]=Du[e]})});function P3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Du.hasOwnProperty(e)&&Du[e]?(""+t).trim():t+"px"}function F3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=P3(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Wk=Tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xm(e,t){if(t){if(Wk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(De(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(De(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(De(61))}if(t.style!=null&&typeof t.style!="object")throw Error(De(62))}}function vm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ym=null;function Gg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wm=null,ec=null,tc=null;function by(e){if(e=gd(e)){if(typeof wm!="function")throw Error(De(280));var t=e.stateNode;t&&(t=kh(t),wm(e.stateNode,e.type,t))}}function B3(e){ec?tc?tc.push(e):tc=[e]:ec=e}function U3(){if(ec){var e=ec,t=tc;if(tc=ec=null,by(e),t)for(e=0;e<t.length;e++)by(t[e])}}function z3(e,t){return e(t)}function W3(){}var y1=!1;function H3(e,t,n){if(y1)return e(t,n);y1=!0;try{return z3(e,t,n)}finally{y1=!1,(ec!==null||tc!==null)&&(W3(),U3())}}function Wu(e,t){var n=e.stateNode;if(n===null)return null;var r=kh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(De(231,t,typeof n));return n}var bm=!1;if(pa)try{var fu={};Object.defineProperty(fu,"passive",{get:function(){bm=!0}}),window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{bm=!1}function Hk(e,t,n,r,i,a,d,g,x){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(w){this.onError(w)}}var ju=!1,E0=null,N0=!1,Cm=null,qk={onError:function(e){ju=!0,E0=e}};function Vk(e,t,n,r,i,a,d,g,x){ju=!1,E0=null,Hk.apply(qk,arguments)}function Yk(e,t,n,r,i,a,d,g,x){if(Vk.apply(this,arguments),ju){if(ju){var v=E0;ju=!1,E0=null}else throw Error(De(198));N0||(N0=!0,Cm=v)}}function pl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function q3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cy(e){if(pl(e)!==e)throw Error(De(188))}function $k(e){var t=e.alternate;if(!t){if(t=pl(e),t===null)throw Error(De(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Cy(i),e;if(a===r)return Cy(i),t;a=a.sibling}throw Error(De(188))}if(n.return!==r.return)n=i,r=a;else{for(var d=!1,g=i.child;g;){if(g===n){d=!0,n=i,r=a;break}if(g===r){d=!0,r=i,n=a;break}g=g.sibling}if(!d){for(g=a.child;g;){if(g===n){d=!0,n=a,r=i;break}if(g===r){d=!0,r=a,n=i;break}g=g.sibling}if(!d)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?e:t}function V3(e){return e=$k(e),e!==null?Y3(e):null}function Y3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Y3(e);if(t!==null)return t;e=e.sibling}return null}var $3=Es.unstable_scheduleCallback,Ey=Es.unstable_cancelCallback,Gk=Es.unstable_shouldYield,Xk=Es.unstable_requestPaint,Wn=Es.unstable_now,Qk=Es.unstable_getCurrentPriorityLevel,Xg=Es.unstable_ImmediatePriority,G3=Es.unstable_UserBlockingPriority,_0=Es.unstable_NormalPriority,Kk=Es.unstable_LowPriority,X3=Es.unstable_IdlePriority,Nh=null,Ii=null;function Zk(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(Nh,e,void 0,(e.current.flags&128)===128)}catch{}}var ai=Math.clz32?Math.clz32:tT,Jk=Math.log,eT=Math.LN2;function tT(e){return e>>>=0,e===0?32:31-(Jk(e)/eT|0)|0}var Df=64,jf=4194304;function Su(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function S0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,d=n&268435455;if(d!==0){var g=d&~i;g!==0?r=Su(g):(a&=d,a!==0&&(r=Su(a)))}else d=n&~i,d!==0?r=Su(d):a!==0&&(r=Su(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ai(t),i=1<<n,r|=e[n],t&=~i;return r}function nT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var d=31-ai(a),g=1<<d,x=i[d];x===-1?(!(g&n)||g&r)&&(i[d]=nT(g,t)):x<=t&&(e.expiredLanes|=g),a&=~g}}function Em(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Q3(){var e=Df;return Df<<=1,!(Df&4194240)&&(Df=64),e}function w1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ai(t),e[t]=n}function sT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ai(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Qg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ai(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var en=0;function K3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Z3,Kg,J3,e4,t4,Nm=!1,If=[],Ka=null,Za=null,Ja=null,Hu=new Map,qu=new Map,qa=[],iT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ny(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":Hu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(t.pointerId)}}function hu(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=gd(t),t!==null&&Kg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function aT(e,t,n,r,i){switch(t){case"focusin":return Ka=hu(Ka,e,t,n,r,i),!0;case"dragenter":return Za=hu(Za,e,t,n,r,i),!0;case"mouseover":return Ja=hu(Ja,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Hu.set(a,hu(Hu.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,qu.set(a,hu(qu.get(a)||null,e,t,n,r,i)),!0}return!1}function n4(e){var t=Yo(e.target);if(t!==null){var n=pl(t);if(n!==null){if(t=n.tag,t===13){if(t=q3(n),t!==null){e.blockedOn=t,t4(e.priority,function(){J3(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function e0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_m(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ym=r,n.target.dispatchEvent(r),ym=null}else return t=gd(n),t!==null&&Kg(t),e.blockedOn=n,!1;t.shift()}return!0}function _y(e,t,n){e0(e)&&n.delete(t)}function oT(){Nm=!1,Ka!==null&&e0(Ka)&&(Ka=null),Za!==null&&e0(Za)&&(Za=null),Ja!==null&&e0(Ja)&&(Ja=null),Hu.forEach(_y),qu.forEach(_y)}function pu(e,t){e.blockedOn===t&&(e.blockedOn=null,Nm||(Nm=!0,Es.unstable_scheduleCallback(Es.unstable_NormalPriority,oT)))}function Vu(e){function t(i){return pu(i,e)}if(0<If.length){pu(If[0],e);for(var n=1;n<If.length;n++){var r=If[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ka!==null&&pu(Ka,e),Za!==null&&pu(Za,e),Ja!==null&&pu(Ja,e),Hu.forEach(t),qu.forEach(t),n=0;n<qa.length;n++)r=qa[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qa.length&&(n=qa[0],n.blockedOn===null);)n4(n),n.blockedOn===null&&qa.shift()}var nc=ba.ReactCurrentBatchConfig,A0=!0;function lT(e,t,n,r){var i=en,a=nc.transition;nc.transition=null;try{en=1,Zg(e,t,n,r)}finally{en=i,nc.transition=a}}function cT(e,t,n,r){var i=en,a=nc.transition;nc.transition=null;try{en=4,Zg(e,t,n,r)}finally{en=i,nc.transition=a}}function Zg(e,t,n,r){if(A0){var i=_m(e,t,n,r);if(i===null)D1(e,t,r,k0,n),Ny(e,r);else if(aT(i,e,t,n,r))r.stopPropagation();else if(Ny(e,r),t&4&&-1<iT.indexOf(e)){for(;i!==null;){var a=gd(i);if(a!==null&&Z3(a),a=_m(e,t,n,r),a===null&&D1(e,t,r,k0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else D1(e,t,r,null,n)}}var k0=null;function _m(e,t,n,r){if(k0=null,e=Gg(r),e=Yo(e),e!==null)if(t=pl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=q3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return k0=e,null}function r4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qk()){case Xg:return 1;case G3:return 4;case _0:case Kk:return 16;case X3:return 536870912;default:return 16}default:return 16}}var $a=null,Jg=null,t0=null;function s4(){if(t0)return t0;var e,t=Jg,n=t.length,r,i="value"in $a?$a.value:$a.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===i[a-r];r++);return t0=i.slice(e,1<r?1-r:void 0)}function n0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rf(){return!0}function Sy(){return!1}function _s(e){function t(n,r,i,a,d){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(a):a[g]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Rf:Sy,this.isPropagationStopped=Sy,this}return Tn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rf)},persist:function(){},isPersistent:Rf}),t}var Sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ex=_s(Sc),md=Tn({},Sc,{view:0,detail:0}),uT=_s(md),b1,C1,mu,_h=Tn({},md,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mu&&(mu&&e.type==="mousemove"?(b1=e.screenX-mu.screenX,C1=e.screenY-mu.screenY):C1=b1=0,mu=e),b1)},movementY:function(e){return"movementY"in e?e.movementY:C1}}),Ay=_s(_h),dT=Tn({},_h,{dataTransfer:0}),fT=_s(dT),hT=Tn({},md,{relatedTarget:0}),E1=_s(hT),pT=Tn({},Sc,{animationName:0,elapsedTime:0,pseudoElement:0}),mT=_s(pT),gT=Tn({},Sc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xT=_s(gT),vT=Tn({},Sc,{data:0}),ky=_s(vT),yT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bT[e])?!!t[e]:!1}function tx(){return CT}var ET=Tn({},md,{key:function(e){if(e.key){var t=yT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=n0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tx,charCode:function(e){return e.type==="keypress"?n0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?n0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NT=_s(ET),_T=Tn({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ty=_s(_T),ST=Tn({},md,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tx}),AT=_s(ST),kT=Tn({},Sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),TT=_s(kT),DT=Tn({},_h,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jT=_s(DT),IT=[9,13,27,32],nx=pa&&"CompositionEvent"in window,Iu=null;pa&&"documentMode"in document&&(Iu=document.documentMode);var RT=pa&&"TextEvent"in window&&!Iu,i4=pa&&(!nx||Iu&&8<Iu&&11>=Iu),Dy=String.fromCharCode(32),jy=!1;function a4(e,t){switch(e){case"keyup":return IT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zl=!1;function OT(e,t){switch(e){case"compositionend":return o4(t);case"keypress":return t.which!==32?null:(jy=!0,Dy);case"textInput":return e=t.data,e===Dy&&jy?null:e;default:return null}}function MT(e,t){if(zl)return e==="compositionend"||!nx&&a4(e,t)?(e=s4(),t0=Jg=$a=null,zl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i4&&t.locale!=="ko"?null:t.data;default:return null}}var LT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LT[e.type]:t==="textarea"}function l4(e,t,n,r){B3(r),t=T0(t,"onChange"),0<t.length&&(n=new ex("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ru=null,Yu=null;function PT(e){y4(e,0)}function Sh(e){var t=ql(e);if(I3(t))return e}function FT(e,t){if(e==="change")return t}var c4=!1;if(pa){var N1;if(pa){var _1="oninput"in document;if(!_1){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),_1=typeof Ry.oninput=="function"}N1=_1}else N1=!1;c4=N1&&(!document.documentMode||9<document.documentMode)}function Oy(){Ru&&(Ru.detachEvent("onpropertychange",u4),Yu=Ru=null)}function u4(e){if(e.propertyName==="value"&&Sh(Yu)){var t=[];l4(t,Yu,e,Gg(e)),H3(PT,t)}}function BT(e,t,n){e==="focusin"?(Oy(),Ru=t,Yu=n,Ru.attachEvent("onpropertychange",u4)):e==="focusout"&&Oy()}function UT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sh(Yu)}function zT(e,t){if(e==="click")return Sh(t)}function WT(e,t){if(e==="input"||e==="change")return Sh(t)}function HT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ui=typeof Object.is=="function"?Object.is:HT;function $u(e,t){if(ui(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!om.call(t,i)||!ui(e[i],t[i]))return!1}return!0}function My(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ly(e,t){var n=My(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=My(n)}}function d4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?d4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function f4(){for(var e=window,t=C0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=C0(e.document)}return t}function rx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qT(e){var t=f4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&d4(n.ownerDocument.documentElement,n)){if(r!==null&&rx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Ly(n,a);var d=Ly(n,r);i&&d&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VT=pa&&"documentMode"in document&&11>=document.documentMode,Wl=null,Sm=null,Ou=null,Am=!1;function Py(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Am||Wl==null||Wl!==C0(r)||(r=Wl,"selectionStart"in r&&rx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ou&&$u(Ou,r)||(Ou=r,r=T0(Sm,"onSelect"),0<r.length&&(t=new ex("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wl)))}function Of(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hl={animationend:Of("Animation","AnimationEnd"),animationiteration:Of("Animation","AnimationIteration"),animationstart:Of("Animation","AnimationStart"),transitionend:Of("Transition","TransitionEnd")},S1={},h4={};pa&&(h4=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function Ah(e){if(S1[e])return S1[e];if(!Hl[e])return e;var t=Hl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in h4)return S1[e]=t[n];return e}var p4=Ah("animationend"),m4=Ah("animationiteration"),g4=Ah("animationstart"),x4=Ah("transitionend"),v4=new Map,Fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(e,t){v4.set(e,t),hl(t,[e])}for(var A1=0;A1<Fy.length;A1++){var k1=Fy[A1],YT=k1.toLowerCase(),$T=k1[0].toUpperCase()+k1.slice(1);ho(YT,"on"+$T)}ho(p4,"onAnimationEnd");ho(m4,"onAnimationIteration");ho(g4,"onAnimationStart");ho("dblclick","onDoubleClick");ho("focusin","onFocus");ho("focusout","onBlur");ho(x4,"onTransitionEnd");lc("onMouseEnter",["mouseout","mouseover"]);lc("onMouseLeave",["mouseout","mouseover"]);lc("onPointerEnter",["pointerout","pointerover"]);lc("onPointerLeave",["pointerout","pointerover"]);hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Au));function By(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Yk(r,t,void 0,e),e.currentTarget=null}function y4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var d=r.length-1;0<=d;d--){var g=r[d],x=g.instance,v=g.currentTarget;if(g=g.listener,x!==a&&i.isPropagationStopped())break e;By(i,g,v),a=x}else for(d=0;d<r.length;d++){if(g=r[d],x=g.instance,v=g.currentTarget,g=g.listener,x!==a&&i.isPropagationStopped())break e;By(i,g,v),a=x}}}if(N0)throw e=Cm,N0=!1,Cm=null,e}function hn(e,t){var n=t[Im];n===void 0&&(n=t[Im]=new Set);var r=e+"__bubble";n.has(r)||(w4(t,e,2,!1),n.add(r))}function T1(e,t,n){var r=0;t&&(r|=4),w4(n,e,r,t)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function Gu(e){if(!e[Mf]){e[Mf]=!0,A3.forEach(function(n){n!=="selectionchange"&&(GT.has(n)||T1(n,!1,e),T1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mf]||(t[Mf]=!0,T1("selectionchange",!1,t))}}function w4(e,t,n,r){switch(r4(t)){case 1:var i=lT;break;case 4:i=cT;break;default:i=Zg}n=i.bind(null,t,n,e),i=void 0,!bm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function D1(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var g=r.stateNode.containerInfo;if(g===i||g.nodeType===8&&g.parentNode===i)break;if(d===4)for(d=r.return;d!==null;){var x=d.tag;if((x===3||x===4)&&(x=d.stateNode.containerInfo,x===i||x.nodeType===8&&x.parentNode===i))return;d=d.return}for(;g!==null;){if(d=Yo(g),d===null)return;if(x=d.tag,x===5||x===6){r=a=d;continue e}g=g.parentNode}}r=r.return}H3(function(){var v=a,w=Gg(n),E=[];e:{var _=v4.get(e);if(_!==void 0){var k=ex,A=e;switch(e){case"keypress":if(n0(n)===0)break e;case"keydown":case"keyup":k=NT;break;case"focusin":A="focus",k=E1;break;case"focusout":A="blur",k=E1;break;case"beforeblur":case"afterblur":k=E1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Ay;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=fT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=AT;break;case p4:case m4:case g4:k=mT;break;case x4:k=TT;break;case"scroll":k=uT;break;case"wheel":k=jT;break;case"copy":case"cut":case"paste":k=xT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ty}var I=(t&4)!==0,L=!I&&e==="scroll",j=I?_!==null?_+"Capture":null:_;I=[];for(var D=v,R;D!==null;){R=D;var W=R.stateNode;if(R.tag===5&&W!==null&&(R=W,j!==null&&(W=Wu(D,j),W!=null&&I.push(Xu(D,W,R)))),L)break;D=D.return}0<I.length&&(_=new k(_,A,null,n,w),E.push({event:_,listeners:I}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",_&&n!==ym&&(A=n.relatedTarget||n.fromElement)&&(Yo(A)||A[ma]))break e;if((k||_)&&(_=w.window===w?w:(_=w.ownerDocument)?_.defaultView||_.parentWindow:window,k?(A=n.relatedTarget||n.toElement,k=v,A=A?Yo(A):null,A!==null&&(L=pl(A),A!==L||A.tag!==5&&A.tag!==6)&&(A=null)):(k=null,A=v),k!==A)){if(I=Ay,W="onMouseLeave",j="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(I=Ty,W="onPointerLeave",j="onPointerEnter",D="pointer"),L=k==null?_:ql(k),R=A==null?_:ql(A),_=new I(W,D+"leave",k,n,w),_.target=L,_.relatedTarget=R,W=null,Yo(w)===v&&(I=new I(j,D+"enter",A,n,w),I.target=R,I.relatedTarget=L,W=I),L=W,k&&A)t:{for(I=k,j=A,D=0,R=I;R;R=Ll(R))D++;for(R=0,W=j;W;W=Ll(W))R++;for(;0<D-R;)I=Ll(I),D--;for(;0<R-D;)j=Ll(j),R--;for(;D--;){if(I===j||j!==null&&I===j.alternate)break t;I=Ll(I),j=Ll(j)}I=null}else I=null;k!==null&&Uy(E,_,k,I,!1),A!==null&&L!==null&&Uy(E,L,A,I,!0)}}e:{if(_=v?ql(v):window,k=_.nodeName&&_.nodeName.toLowerCase(),k==="select"||k==="input"&&_.type==="file")var Z=FT;else if(Iy(_))if(c4)Z=WT;else{Z=UT;var U=BT}else(k=_.nodeName)&&k.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(Z=zT);if(Z&&(Z=Z(e,v))){l4(E,Z,n,w);break e}U&&U(e,_,v),e==="focusout"&&(U=_._wrapperState)&&U.controlled&&_.type==="number"&&pm(_,"number",_.value)}switch(U=v?ql(v):window,e){case"focusin":(Iy(U)||U.contentEditable==="true")&&(Wl=U,Sm=v,Ou=null);break;case"focusout":Ou=Sm=Wl=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,Py(E,n,w);break;case"selectionchange":if(VT)break;case"keydown":case"keyup":Py(E,n,w)}var O;if(nx)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else zl?a4(e,n)&&(V="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(i4&&n.locale!=="ko"&&(zl||V!=="onCompositionStart"?V==="onCompositionEnd"&&zl&&(O=s4()):($a=w,Jg="value"in $a?$a.value:$a.textContent,zl=!0)),U=T0(v,V),0<U.length&&(V=new ky(V,e,null,n,w),E.push({event:V,listeners:U}),O?V.data=O:(O=o4(n),O!==null&&(V.data=O)))),(O=RT?OT(e,n):MT(e,n))&&(v=T0(v,"onBeforeInput"),0<v.length&&(w=new ky("onBeforeInput","beforeinput",null,n,w),E.push({event:w,listeners:v}),w.data=O))}y4(E,t)})}function Xu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function T0(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Wu(e,n),a!=null&&r.unshift(Xu(e,a,i)),a=Wu(e,t),a!=null&&r.push(Xu(e,a,i))),e=e.return}return r}function Ll(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uy(e,t,n,r,i){for(var a=t._reactName,d=[];n!==null&&n!==r;){var g=n,x=g.alternate,v=g.stateNode;if(x!==null&&x===r)break;g.tag===5&&v!==null&&(g=v,i?(x=Wu(n,a),x!=null&&d.unshift(Xu(n,x,g))):i||(x=Wu(n,a),x!=null&&d.push(Xu(n,x,g)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var XT=/\r\n?/g,QT=/\u0000|\uFFFD/g;function zy(e){return(typeof e=="string"?e:""+e).replace(XT,`
`).replace(QT,"")}function Lf(e,t,n){if(t=zy(t),zy(e)!==t&&n)throw Error(De(425))}function D0(){}var km=null,Tm=null;function Dm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jm=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(e){return Wy.resolve(null).then(e).catch(JT)}:jm;function JT(e){setTimeout(function(){throw e})}function j1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Vu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vu(t)}function eo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ac=Math.random().toString(36).slice(2),ki="__reactFiber$"+Ac,Qu="__reactProps$"+Ac,ma="__reactContainer$"+Ac,Im="__reactEvents$"+Ac,eD="__reactListeners$"+Ac,tD="__reactHandles$"+Ac;function Yo(e){var t=e[ki];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[ki]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hy(e);e!==null;){if(n=e[ki])return n;e=Hy(e)}return t}e=n,n=e.parentNode}return null}function gd(e){return e=e[ki]||e[ma],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ql(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(De(33))}function kh(e){return e[Qu]||null}var Rm=[],Vl=-1;function po(e){return{current:e}}function mn(e){0>Vl||(e.current=Rm[Vl],Rm[Vl]=null,Vl--)}function un(e,t){Vl++,Rm[Vl]=e.current,e.current=t}var co={},Rr=po(co),ts=po(!1),rl=co;function cc(e,t){var n=e.type.contextTypes;if(!n)return co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ns(e){return e=e.childContextTypes,e!=null}function j0(){mn(ts),mn(Rr)}function qy(e,t,n){if(Rr.current!==co)throw Error(De(168));un(Rr,t),un(ts,n)}function b4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(De(108,Bk(e)||"Unknown",i));return Tn({},n,r)}function I0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||co,rl=Rr.current,un(Rr,e),un(ts,ts.current),!0}function Vy(e,t,n){var r=e.stateNode;if(!r)throw Error(De(169));n?(e=b4(e,t,rl),r.__reactInternalMemoizedMergedChildContext=e,mn(ts),mn(Rr),un(Rr,e)):mn(ts),un(ts,n)}var sa=null,Th=!1,I1=!1;function C4(e){sa===null?sa=[e]:sa.push(e)}function nD(e){Th=!0,C4(e)}function mo(){if(!I1&&sa!==null){I1=!0;var e=0,t=en;try{var n=sa;for(en=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sa=null,Th=!1}catch(i){throw sa!==null&&(sa=sa.slice(e+1)),$3(Xg,mo),i}finally{en=t,I1=!1}}return null}var Yl=[],$l=0,R0=null,O0=0,zs=[],Ws=0,sl=null,ia=1,aa="";function Wo(e,t){Yl[$l++]=O0,Yl[$l++]=R0,R0=e,O0=t}function E4(e,t,n){zs[Ws++]=ia,zs[Ws++]=aa,zs[Ws++]=sl,sl=e;var r=ia;e=aa;var i=32-ai(r)-1;r&=~(1<<i),n+=1;var a=32-ai(t)+i;if(30<a){var d=i-i%5;a=(r&(1<<d)-1).toString(32),r>>=d,i-=d,ia=1<<32-ai(t)+i|n<<i|r,aa=a+e}else ia=1<<a|n<<i|r,aa=e}function sx(e){e.return!==null&&(Wo(e,1),E4(e,1,0))}function ix(e){for(;e===R0;)R0=Yl[--$l],Yl[$l]=null,O0=Yl[--$l],Yl[$l]=null;for(;e===sl;)sl=zs[--Ws],zs[Ws]=null,aa=zs[--Ws],zs[Ws]=null,ia=zs[--Ws],zs[Ws]=null}var bs=null,ys=null,bn=!1,ii=null;function N4(e,t){var n=qs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bs=e,ys=eo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bs=e,ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sl!==null?{id:ia,overflow:aa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bs=e,ys=null,!0):!1;default:return!1}}function Om(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mm(e){if(bn){var t=ys;if(t){var n=t;if(!Yy(e,t)){if(Om(e))throw Error(De(418));t=eo(n.nextSibling);var r=bs;t&&Yy(e,t)?N4(r,n):(e.flags=e.flags&-4097|2,bn=!1,bs=e)}}else{if(Om(e))throw Error(De(418));e.flags=e.flags&-4097|2,bn=!1,bs=e}}}function $y(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bs=e}function Pf(e){if(e!==bs)return!1;if(!bn)return $y(e),bn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dm(e.type,e.memoizedProps)),t&&(t=ys)){if(Om(e))throw _4(),Error(De(418));for(;t;)N4(e,t),t=eo(t.nextSibling)}if($y(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ys=eo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ys=null}}else ys=bs?eo(e.stateNode.nextSibling):null;return!0}function _4(){for(var e=ys;e;)e=eo(e.nextSibling)}function uc(){ys=bs=null,bn=!1}function ax(e){ii===null?ii=[e]:ii.push(e)}var rD=ba.ReactCurrentBatchConfig;function gu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(d){var g=i.refs;d===null?delete g[a]:g[a]=d},t._stringRef=a,t)}if(typeof e!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,e))}return e}function Ff(e,t){throw e=Object.prototype.toString.call(t),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gy(e){var t=e._init;return t(e._payload)}function S4(e){function t(j,D){if(e){var R=j.deletions;R===null?(j.deletions=[D],j.flags|=16):R.push(D)}}function n(j,D){if(!e)return null;for(;D!==null;)t(j,D),D=D.sibling;return null}function r(j,D){for(j=new Map;D!==null;)D.key!==null?j.set(D.key,D):j.set(D.index,D),D=D.sibling;return j}function i(j,D){return j=so(j,D),j.index=0,j.sibling=null,j}function a(j,D,R){return j.index=R,e?(R=j.alternate,R!==null?(R=R.index,R<D?(j.flags|=2,D):R):(j.flags|=2,D)):(j.flags|=1048576,D)}function d(j){return e&&j.alternate===null&&(j.flags|=2),j}function g(j,D,R,W){return D===null||D.tag!==6?(D=B1(R,j.mode,W),D.return=j,D):(D=i(D,R),D.return=j,D)}function x(j,D,R,W){var Z=R.type;return Z===Ul?w(j,D,R.props.children,W,R.key):D!==null&&(D.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===za&&Gy(Z)===D.type)?(W=i(D,R.props),W.ref=gu(j,D,R),W.return=j,W):(W=c0(R.type,R.key,R.props,null,j.mode,W),W.ref=gu(j,D,R),W.return=j,W)}function v(j,D,R,W){return D===null||D.tag!==4||D.stateNode.containerInfo!==R.containerInfo||D.stateNode.implementation!==R.implementation?(D=U1(R,j.mode,W),D.return=j,D):(D=i(D,R.children||[]),D.return=j,D)}function w(j,D,R,W,Z){return D===null||D.tag!==7?(D=Jo(R,j.mode,W,Z),D.return=j,D):(D=i(D,R),D.return=j,D)}function E(j,D,R){if(typeof D=="string"&&D!==""||typeof D=="number")return D=B1(""+D,j.mode,R),D.return=j,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Af:return R=c0(D.type,D.key,D.props,null,j.mode,R),R.ref=gu(j,null,D),R.return=j,R;case Bl:return D=U1(D,j.mode,R),D.return=j,D;case za:var W=D._init;return E(j,W(D._payload),R)}if(_u(D)||du(D))return D=Jo(D,j.mode,R,null),D.return=j,D;Ff(j,D)}return null}function _(j,D,R,W){var Z=D!==null?D.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return Z!==null?null:g(j,D,""+R,W);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Af:return R.key===Z?x(j,D,R,W):null;case Bl:return R.key===Z?v(j,D,R,W):null;case za:return Z=R._init,_(j,D,Z(R._payload),W)}if(_u(R)||du(R))return Z!==null?null:w(j,D,R,W,null);Ff(j,R)}return null}function k(j,D,R,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number")return j=j.get(R)||null,g(D,j,""+W,Z);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Af:return j=j.get(W.key===null?R:W.key)||null,x(D,j,W,Z);case Bl:return j=j.get(W.key===null?R:W.key)||null,v(D,j,W,Z);case za:var U=W._init;return k(j,D,R,U(W._payload),Z)}if(_u(W)||du(W))return j=j.get(R)||null,w(D,j,W,Z,null);Ff(D,W)}return null}function A(j,D,R,W){for(var Z=null,U=null,O=D,V=D=0,Y=null;O!==null&&V<R.length;V++){O.index>V?(Y=O,O=null):Y=O.sibling;var ee=_(j,O,R[V],W);if(ee===null){O===null&&(O=Y);break}e&&O&&ee.alternate===null&&t(j,O),D=a(ee,D,V),U===null?Z=ee:U.sibling=ee,U=ee,O=Y}if(V===R.length)return n(j,O),bn&&Wo(j,V),Z;if(O===null){for(;V<R.length;V++)O=E(j,R[V],W),O!==null&&(D=a(O,D,V),U===null?Z=O:U.sibling=O,U=O);return bn&&Wo(j,V),Z}for(O=r(j,O);V<R.length;V++)Y=k(O,j,V,R[V],W),Y!==null&&(e&&Y.alternate!==null&&O.delete(Y.key===null?V:Y.key),D=a(Y,D,V),U===null?Z=Y:U.sibling=Y,U=Y);return e&&O.forEach(function(de){return t(j,de)}),bn&&Wo(j,V),Z}function I(j,D,R,W){var Z=du(R);if(typeof Z!="function")throw Error(De(150));if(R=Z.call(R),R==null)throw Error(De(151));for(var U=Z=null,O=D,V=D=0,Y=null,ee=R.next();O!==null&&!ee.done;V++,ee=R.next()){O.index>V?(Y=O,O=null):Y=O.sibling;var de=_(j,O,ee.value,W);if(de===null){O===null&&(O=Y);break}e&&O&&de.alternate===null&&t(j,O),D=a(de,D,V),U===null?Z=de:U.sibling=de,U=de,O=Y}if(ee.done)return n(j,O),bn&&Wo(j,V),Z;if(O===null){for(;!ee.done;V++,ee=R.next())ee=E(j,ee.value,W),ee!==null&&(D=a(ee,D,V),U===null?Z=ee:U.sibling=ee,U=ee);return bn&&Wo(j,V),Z}for(O=r(j,O);!ee.done;V++,ee=R.next())ee=k(O,j,V,ee.value,W),ee!==null&&(e&&ee.alternate!==null&&O.delete(ee.key===null?V:ee.key),D=a(ee,D,V),U===null?Z=ee:U.sibling=ee,U=ee);return e&&O.forEach(function(ie){return t(j,ie)}),bn&&Wo(j,V),Z}function L(j,D,R,W){if(typeof R=="object"&&R!==null&&R.type===Ul&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Af:e:{for(var Z=R.key,U=D;U!==null;){if(U.key===Z){if(Z=R.type,Z===Ul){if(U.tag===7){n(j,U.sibling),D=i(U,R.props.children),D.return=j,j=D;break e}}else if(U.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===za&&Gy(Z)===U.type){n(j,U.sibling),D=i(U,R.props),D.ref=gu(j,U,R),D.return=j,j=D;break e}n(j,U);break}else t(j,U);U=U.sibling}R.type===Ul?(D=Jo(R.props.children,j.mode,W,R.key),D.return=j,j=D):(W=c0(R.type,R.key,R.props,null,j.mode,W),W.ref=gu(j,D,R),W.return=j,j=W)}return d(j);case Bl:e:{for(U=R.key;D!==null;){if(D.key===U)if(D.tag===4&&D.stateNode.containerInfo===R.containerInfo&&D.stateNode.implementation===R.implementation){n(j,D.sibling),D=i(D,R.children||[]),D.return=j,j=D;break e}else{n(j,D);break}else t(j,D);D=D.sibling}D=U1(R,j.mode,W),D.return=j,j=D}return d(j);case za:return U=R._init,L(j,D,U(R._payload),W)}if(_u(R))return A(j,D,R,W);if(du(R))return I(j,D,R,W);Ff(j,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,D!==null&&D.tag===6?(n(j,D.sibling),D=i(D,R),D.return=j,j=D):(n(j,D),D=B1(R,j.mode,W),D.return=j,j=D),d(j)):n(j,D)}return L}var dc=S4(!0),A4=S4(!1),M0=po(null),L0=null,Gl=null,ox=null;function lx(){ox=Gl=L0=null}function cx(e){var t=M0.current;mn(M0),e._currentValue=t}function Lm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rc(e,t){L0=e,ox=Gl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(es=!0),e.firstContext=null)}function Ys(e){var t=e._currentValue;if(ox!==e)if(e={context:e,memoizedValue:t,next:null},Gl===null){if(L0===null)throw Error(De(308));Gl=e,L0.dependencies={lanes:0,firstContext:e}}else Gl=Gl.next=e;return t}var $o=null;function ux(e){$o===null?$o=[e]:$o.push(e)}function k4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ux(t)):(n.next=i.next,i.next=n),t.interleaved=n,ga(e,r)}function ga(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wa=!1;function dx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function to(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Bt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ga(e,n)}return i=r.interleaved,i===null?(t.next=t,ux(r)):(t.next=i.next,i.next=t),r.interleaved=t,ga(e,n)}function r0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qg(e,n)}}function Xy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=d:a=a.next=d,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function P0(e,t,n,r){var i=e.updateQueue;Wa=!1;var a=i.firstBaseUpdate,d=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var x=g,v=x.next;x.next=null,d===null?a=v:d.next=v,d=x;var w=e.alternate;w!==null&&(w=w.updateQueue,g=w.lastBaseUpdate,g!==d&&(g===null?w.firstBaseUpdate=v:g.next=v,w.lastBaseUpdate=x))}if(a!==null){var E=i.baseState;d=0,w=v=x=null,g=a;do{var _=g.lane,k=g.eventTime;if((r&_)===_){w!==null&&(w=w.next={eventTime:k,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var A=e,I=g;switch(_=t,k=n,I.tag){case 1:if(A=I.payload,typeof A=="function"){E=A.call(k,E,_);break e}E=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=I.payload,_=typeof A=="function"?A.call(k,E,_):A,_==null)break e;E=Tn({},E,_);break e;case 2:Wa=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[g]:_.push(g))}else k={eventTime:k,lane:_,tag:g.tag,payload:g.payload,callback:g.callback,next:null},w===null?(v=w=k,x=E):w=w.next=k,d|=_;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;_=g,g=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(1);if(w===null&&(x=E),i.baseState=x,i.firstBaseUpdate=v,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do d|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);al|=d,e.lanes=d,e.memoizedState=E}}function Qy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(De(191,i));i.call(r)}}}var xd={},Ri=po(xd),Ku=po(xd),Zu=po(xd);function Go(e){if(e===xd)throw Error(De(174));return e}function fx(e,t){switch(un(Zu,t),un(Ku,e),un(Ri,xd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gm(t,e)}mn(Ri),un(Ri,t)}function fc(){mn(Ri),mn(Ku),mn(Zu)}function D4(e){Go(Zu.current);var t=Go(Ri.current),n=gm(t,e.type);t!==n&&(un(Ku,e),un(Ri,n))}function hx(e){Ku.current===e&&(mn(Ri),mn(Ku))}var Sn=po(0);function F0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var R1=[];function px(){for(var e=0;e<R1.length;e++)R1[e]._workInProgressVersionPrimary=null;R1.length=0}var s0=ba.ReactCurrentDispatcher,O1=ba.ReactCurrentBatchConfig,il=0,kn=null,sr=null,dr=null,B0=!1,Mu=!1,Ju=0,sD=0;function kr(){throw Error(De(321))}function mx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ui(e[n],t[n]))return!1;return!0}function gx(e,t,n,r,i,a){if(il=a,kn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,s0.current=e===null||e.memoizedState===null?lD:cD,e=n(r,i),Mu){a=0;do{if(Mu=!1,Ju=0,25<=a)throw Error(De(301));a+=1,dr=sr=null,t.updateQueue=null,s0.current=uD,e=n(r,i)}while(Mu)}if(s0.current=U0,t=sr!==null&&sr.next!==null,il=0,dr=sr=kn=null,B0=!1,t)throw Error(De(300));return e}function xx(){var e=Ju!==0;return Ju=0,e}function Ni(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?kn.memoizedState=dr=e:dr=dr.next=e,dr}function $s(){if(sr===null){var e=kn.alternate;e=e!==null?e.memoizedState:null}else e=sr.next;var t=dr===null?kn.memoizedState:dr.next;if(t!==null)dr=t,sr=e;else{if(e===null)throw Error(De(310));sr=e,e={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},dr===null?kn.memoizedState=dr=e:dr=dr.next=e}return dr}function ed(e,t){return typeof t=="function"?t(e):t}function M1(e){var t=$s(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=sr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var d=i.next;i.next=a.next,a.next=d}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var g=d=null,x=null,v=a;do{var w=v.lane;if((il&w)===w)x!==null&&(x=x.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var E={lane:w,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};x===null?(g=x=E,d=r):x=x.next=E,kn.lanes|=w,al|=w}v=v.next}while(v!==null&&v!==a);x===null?d=r:x.next=g,ui(r,t.memoizedState)||(es=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=x,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,kn.lanes|=a,al|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function L1(e){var t=$s(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var d=i=i.next;do a=e(a,d.action),d=d.next;while(d!==i);ui(a,t.memoizedState)||(es=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function j4(){}function I4(e,t){var n=kn,r=$s(),i=t(),a=!ui(r.memoizedState,i);if(a&&(r.memoizedState=i,es=!0),r=r.queue,vx(M4.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||dr!==null&&dr.memoizedState.tag&1){if(n.flags|=2048,td(9,O4.bind(null,n,r,i,t),void 0,null),fr===null)throw Error(De(349));il&30||R4(n,t,i)}return i}function R4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kn.updateQueue,t===null?(t={lastEffect:null,stores:null},kn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function O4(e,t,n,r){t.value=n,t.getSnapshot=r,L4(t)&&P4(e)}function M4(e,t,n){return n(function(){L4(t)&&P4(e)})}function L4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ui(e,n)}catch{return!0}}function P4(e){var t=ga(e,1);t!==null&&oi(t,e,1,-1)}function Ky(e){var t=Ni();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:e},t.queue=e,e=e.dispatch=oD.bind(null,kn,e),[t.memoizedState,e]}function td(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=kn.updateQueue,t===null?(t={lastEffect:null,stores:null},kn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function F4(){return $s().memoizedState}function i0(e,t,n,r){var i=Ni();kn.flags|=e,i.memoizedState=td(1|t,n,void 0,r===void 0?null:r)}function Dh(e,t,n,r){var i=$s();r=r===void 0?null:r;var a=void 0;if(sr!==null){var d=sr.memoizedState;if(a=d.destroy,r!==null&&mx(r,d.deps)){i.memoizedState=td(t,n,a,r);return}}kn.flags|=e,i.memoizedState=td(1|t,n,a,r)}function Zy(e,t){return i0(8390656,8,e,t)}function vx(e,t){return Dh(2048,8,e,t)}function B4(e,t){return Dh(4,2,e,t)}function U4(e,t){return Dh(4,4,e,t)}function z4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function W4(e,t,n){return n=n!=null?n.concat([e]):null,Dh(4,4,z4.bind(null,t,e),n)}function yx(){}function H4(e,t){var n=$s();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function q4(e,t){var n=$s();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function V4(e,t,n){return il&21?(ui(n,t)||(n=Q3(),kn.lanes|=n,al|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,es=!0),e.memoizedState=n)}function iD(e,t){var n=en;en=n!==0&&4>n?n:4,e(!0);var r=O1.transition;O1.transition={};try{e(!1),t()}finally{en=n,O1.transition=r}}function Y4(){return $s().memoizedState}function aD(e,t,n){var r=ro(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$4(e))G4(t,n);else if(n=k4(e,t,n,r),n!==null){var i=qr();oi(n,e,r,i),X4(n,t,r)}}function oD(e,t,n){var r=ro(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($4(e))G4(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var d=t.lastRenderedState,g=a(d,n);if(i.hasEagerState=!0,i.eagerState=g,ui(g,d)){var x=t.interleaved;x===null?(i.next=i,ux(t)):(i.next=x.next,x.next=i),t.interleaved=i;return}}catch{}finally{}n=k4(e,t,i,r),n!==null&&(i=qr(),oi(n,e,r,i),X4(n,t,r))}}function $4(e){var t=e.alternate;return e===kn||t!==null&&t===kn}function G4(e,t){Mu=B0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function X4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qg(e,n)}}var U0={readContext:Ys,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},lD={readContext:Ys,useCallback:function(e,t){return Ni().memoizedState=[e,t===void 0?null:t],e},useContext:Ys,useEffect:Zy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,i0(4194308,4,z4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return i0(4194308,4,e,t)},useInsertionEffect:function(e,t){return i0(4,2,e,t)},useMemo:function(e,t){var n=Ni();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ni();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=aD.bind(null,kn,e),[r.memoizedState,e]},useRef:function(e){var t=Ni();return e={current:e},t.memoizedState=e},useState:Ky,useDebugValue:yx,useDeferredValue:function(e){return Ni().memoizedState=e},useTransition:function(){var e=Ky(!1),t=e[0];return e=iD.bind(null,e[1]),Ni().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=kn,i=Ni();if(bn){if(n===void 0)throw Error(De(407));n=n()}else{if(n=t(),fr===null)throw Error(De(349));il&30||R4(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Zy(M4.bind(null,r,a,e),[e]),r.flags|=2048,td(9,O4.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ni(),t=fr.identifierPrefix;if(bn){var n=aa,r=ia;n=(r&~(1<<32-ai(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ju++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cD={readContext:Ys,useCallback:H4,useContext:Ys,useEffect:vx,useImperativeHandle:W4,useInsertionEffect:B4,useLayoutEffect:U4,useMemo:q4,useReducer:M1,useRef:F4,useState:function(){return M1(ed)},useDebugValue:yx,useDeferredValue:function(e){var t=$s();return V4(t,sr.memoizedState,e)},useTransition:function(){var e=M1(ed)[0],t=$s().memoizedState;return[e,t]},useMutableSource:j4,useSyncExternalStore:I4,useId:Y4,unstable_isNewReconciler:!1},uD={readContext:Ys,useCallback:H4,useContext:Ys,useEffect:vx,useImperativeHandle:W4,useInsertionEffect:B4,useLayoutEffect:U4,useMemo:q4,useReducer:L1,useRef:F4,useState:function(){return L1(ed)},useDebugValue:yx,useDeferredValue:function(e){var t=$s();return sr===null?t.memoizedState=e:V4(t,sr.memoizedState,e)},useTransition:function(){var e=L1(ed)[0],t=$s().memoizedState;return[e,t]},useMutableSource:j4,useSyncExternalStore:I4,useId:Y4,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){t=Tn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Pm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Tn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jh={isMounted:function(e){return(e=e._reactInternals)?pl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qr(),i=ro(e),a=la(r,i);a.payload=t,n!=null&&(a.callback=n),t=to(e,a,i),t!==null&&(oi(t,e,i,r),r0(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qr(),i=ro(e),a=la(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=to(e,a,i),t!==null&&(oi(t,e,i,r),r0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qr(),r=ro(e),i=la(n,r);i.tag=2,t!=null&&(i.callback=t),t=to(e,i,r),t!==null&&(oi(t,e,r,n),r0(t,e,r))}};function Jy(e,t,n,r,i,a,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,d):t.prototype&&t.prototype.isPureReactComponent?!$u(n,r)||!$u(i,a):!0}function Q4(e,t,n){var r=!1,i=co,a=t.contextType;return typeof a=="object"&&a!==null?a=Ys(a):(i=ns(t)?rl:Rr.current,r=t.contextTypes,a=(r=r!=null)?cc(e,i):co),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ew(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jh.enqueueReplaceState(t,t.state,null)}function Fm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},dx(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ys(a):(a=ns(t)?rl:Rr.current,i.context=cc(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Pm(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jh.enqueueReplaceState(i,i.state,null),P0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function hc(e,t){try{var n="",r=t;do n+=Fk(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function P1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dD=typeof WeakMap=="function"?WeakMap:Map;function K4(e,t,n){n=la(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){W0||(W0=!0,Xm=r),Bm(e,t)},n}function Z4(e,t,n){n=la(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Bm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Bm(e,t),typeof r!="function"&&(no===null?no=new Set([this]):no.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function tw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dD;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_D.bind(null,e,t,n),t.then(e,e))}function nw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=la(-1,1),t.tag=2,to(n,t,1))),n.lanes|=1),e)}var fD=ba.ReactCurrentOwner,es=!1;function Br(e,t,n,r){t.child=e===null?A4(t,null,n,r):dc(t,e.child,n,r)}function sw(e,t,n,r,i){n=n.render;var a=t.ref;return rc(t,i),r=gx(e,t,n,r,a,i),n=xx(),e!==null&&!es?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xa(e,t,i)):(bn&&n&&sx(t),t.flags|=1,Br(e,t,r,i),t.child)}function iw(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Ax(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,J4(e,t,a,r,i)):(e=c0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var d=a.memoizedProps;if(n=n.compare,n=n!==null?n:$u,n(d,r)&&e.ref===t.ref)return xa(e,t,i)}return t.flags|=1,e=so(a,r),e.ref=t.ref,e.return=t,t.child=e}function J4(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if($u(a,r)&&e.ref===t.ref)if(es=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(es=!0);else return t.lanes=e.lanes,xa(e,t,i)}return Um(e,t,n,r,i)}function eC(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},un(Ql,xs),xs|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,un(Ql,xs),xs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,un(Ql,xs),xs|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,un(Ql,xs),xs|=r;return Br(e,t,i,n),t.child}function tC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Um(e,t,n,r,i){var a=ns(n)?rl:Rr.current;return a=cc(t,a),rc(t,i),n=gx(e,t,n,r,a,i),r=xx(),e!==null&&!es?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xa(e,t,i)):(bn&&r&&sx(t),t.flags|=1,Br(e,t,n,i),t.child)}function aw(e,t,n,r,i){if(ns(n)){var a=!0;I0(t)}else a=!1;if(rc(t,i),t.stateNode===null)a0(e,t),Q4(t,n,r),Fm(t,n,r,i),r=!0;else if(e===null){var d=t.stateNode,g=t.memoizedProps;d.props=g;var x=d.context,v=n.contextType;typeof v=="object"&&v!==null?v=Ys(v):(v=ns(n)?rl:Rr.current,v=cc(t,v));var w=n.getDerivedStateFromProps,E=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function";E||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==r||x!==v)&&ew(t,d,r,v),Wa=!1;var _=t.memoizedState;d.state=_,P0(t,r,d,i),x=t.memoizedState,g!==r||_!==x||ts.current||Wa?(typeof w=="function"&&(Pm(t,n,w,r),x=t.memoizedState),(g=Wa||Jy(t,n,g,r,_,x,v))?(E||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),d.props=r,d.state=x,d.context=v,r=g):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,T4(e,t),g=t.memoizedProps,v=t.type===t.elementType?g:ri(t.type,g),d.props=v,E=t.pendingProps,_=d.context,x=n.contextType,typeof x=="object"&&x!==null?x=Ys(x):(x=ns(n)?rl:Rr.current,x=cc(t,x));var k=n.getDerivedStateFromProps;(w=typeof k=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==E||_!==x)&&ew(t,d,r,x),Wa=!1,_=t.memoizedState,d.state=_,P0(t,r,d,i);var A=t.memoizedState;g!==E||_!==A||ts.current||Wa?(typeof k=="function"&&(Pm(t,n,k,r),A=t.memoizedState),(v=Wa||Jy(t,n,v,r,_,A,x)||!1)?(w||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,A,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,A,x)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),d.props=r,d.state=A,d.context=x,r=v):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return zm(e,t,n,r,a,i)}function zm(e,t,n,r,i,a){tC(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return i&&Vy(t,n,!1),xa(e,t,a);r=t.stateNode,fD.current=t;var g=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=dc(t,e.child,null,a),t.child=dc(t,null,g,a)):Br(e,t,g,a),t.memoizedState=r.state,i&&Vy(t,n,!0),t.child}function nC(e){var t=e.stateNode;t.pendingContext?qy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qy(e,t.context,!1),fx(e,t.containerInfo)}function ow(e,t,n,r,i){return uc(),ax(i),t.flags|=256,Br(e,t,n,r),t.child}var Wm={dehydrated:null,treeContext:null,retryLane:0};function Hm(e){return{baseLanes:e,cachePool:null,transitions:null}}function rC(e,t,n){var r=t.pendingProps,i=Sn.current,a=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(i&2)!==0),g?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),un(Sn,i&1),e===null)return Mm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=r.children,e=r.fallback,a?(r=t.mode,a=t.child,d={mode:"hidden",children:d},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=d):a=Oh(d,r,0,null),e=Jo(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Hm(n),t.memoizedState=Wm,e):wx(t,d));if(i=e.memoizedState,i!==null&&(g=i.dehydrated,g!==null))return hD(e,t,d,r,g,i,n);if(a){a=r.fallback,d=t.mode,i=e.child,g=i.sibling;var x={mode:"hidden",children:r.children};return!(d&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=x,t.deletions=null):(r=so(i,x),r.subtreeFlags=i.subtreeFlags&14680064),g!==null?a=so(g,a):(a=Jo(a,d,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,d=e.child.memoizedState,d=d===null?Hm(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},a.memoizedState=d,a.childLanes=e.childLanes&~n,t.memoizedState=Wm,r}return a=e.child,e=a.sibling,r=so(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wx(e,t){return t=Oh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bf(e,t,n,r){return r!==null&&ax(r),dc(t,e.child,null,n),e=wx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hD(e,t,n,r,i,a,d){if(n)return t.flags&256?(t.flags&=-257,r=P1(Error(De(422))),Bf(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Oh({mode:"visible",children:r.children},i,0,null),a=Jo(a,i,d,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&dc(t,e.child,null,d),t.child.memoizedState=Hm(d),t.memoizedState=Wm,a);if(!(t.mode&1))return Bf(e,t,d,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var g=r.dgst;return r=g,a=Error(De(419)),r=P1(a,r,void 0),Bf(e,t,d,r)}if(g=(d&e.childLanes)!==0,es||g){if(r=fr,r!==null){switch(d&-d){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|d)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ga(e,i),oi(r,e,i,-1))}return Sx(),r=P1(Error(De(421))),Bf(e,t,d,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=SD.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ys=eo(i.nextSibling),bs=t,bn=!0,ii=null,e!==null&&(zs[Ws++]=ia,zs[Ws++]=aa,zs[Ws++]=sl,ia=e.id,aa=e.overflow,sl=t),t=wx(t,r.children),t.flags|=4096,t)}function lw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lm(e.return,t,n)}function F1(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function sC(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Br(e,t,r.children,n),r=Sn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lw(e,n,t);else if(e.tag===19)lw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(un(Sn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&F0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),F1(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&F0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}F1(t,!0,n,null,a);break;case"together":F1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function a0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),al|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(De(153));if(t.child!==null){for(e=t.child,n=so(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=so(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pD(e,t,n){switch(t.tag){case 3:nC(t),uc();break;case 5:D4(t);break;case 1:ns(t.type)&&I0(t);break;case 4:fx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;un(M0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(un(Sn,Sn.current&1),t.flags|=128,null):n&t.child.childLanes?rC(e,t,n):(un(Sn,Sn.current&1),e=xa(e,t,n),e!==null?e.sibling:null);un(Sn,Sn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),un(Sn,Sn.current),r)break;return null;case 22:case 23:return t.lanes=0,eC(e,t,n)}return xa(e,t,n)}var iC,qm,aC,oC;iC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qm=function(){};aC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Go(Ri.current);var a=null;switch(n){case"input":i=fm(e,i),r=fm(e,r),a=[];break;case"select":i=Tn({},i,{value:void 0}),r=Tn({},r,{value:void 0}),a=[];break;case"textarea":i=mm(e,i),r=mm(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=D0)}xm(n,r);var d;n=null;for(v in i)if(!r.hasOwnProperty(v)&&i.hasOwnProperty(v)&&i[v]!=null)if(v==="style"){var g=i[v];for(d in g)g.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Uu.hasOwnProperty(v)?a||(a=[]):(a=a||[]).push(v,null));for(v in r){var x=r[v];if(g=i!=null?i[v]:void 0,r.hasOwnProperty(v)&&x!==g&&(x!=null||g!=null))if(v==="style")if(g){for(d in g)!g.hasOwnProperty(d)||x&&x.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in x)x.hasOwnProperty(d)&&g[d]!==x[d]&&(n||(n={}),n[d]=x[d])}else n||(a||(a=[]),a.push(v,n)),n=x;else v==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,g=g?g.__html:void 0,x!=null&&g!==x&&(a=a||[]).push(v,x)):v==="children"?typeof x!="string"&&typeof x!="number"||(a=a||[]).push(v,""+x):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Uu.hasOwnProperty(v)?(x!=null&&v==="onScroll"&&hn("scroll",e),a||g===x||(a=[])):(a=a||[]).push(v,x))}n&&(a=a||[]).push("style",n);var v=a;(t.updateQueue=v)&&(t.flags|=4)}};oC=function(e,t,n,r){n!==r&&(t.flags|=4)};function xu(e,t){if(!bn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mD(e,t,n){var r=t.pendingProps;switch(ix(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(t),null;case 1:return ns(t.type)&&j0(),Tr(t),null;case 3:return r=t.stateNode,fc(),mn(ts),mn(Rr),px(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ii!==null&&(Zm(ii),ii=null))),qm(e,t),Tr(t),null;case 5:hx(t);var i=Go(Zu.current);if(n=t.type,e!==null&&t.stateNode!=null)aC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(De(166));return Tr(t),null}if(e=Go(Ri.current),Pf(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ki]=t,r[Qu]=a,e=(t.mode&1)!==0,n){case"dialog":hn("cancel",r),hn("close",r);break;case"iframe":case"object":case"embed":hn("load",r);break;case"video":case"audio":for(i=0;i<Au.length;i++)hn(Au[i],r);break;case"source":hn("error",r);break;case"img":case"image":case"link":hn("error",r),hn("load",r);break;case"details":hn("toggle",r);break;case"input":xy(r,a),hn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},hn("invalid",r);break;case"textarea":yy(r,a),hn("invalid",r)}xm(n,a),i=null;for(var d in a)if(a.hasOwnProperty(d)){var g=a[d];d==="children"?typeof g=="string"?r.textContent!==g&&(a.suppressHydrationWarning!==!0&&Lf(r.textContent,g,e),i=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(a.suppressHydrationWarning!==!0&&Lf(r.textContent,g,e),i=["children",""+g]):Uu.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&hn("scroll",r)}switch(n){case"input":kf(r),vy(r,a,!0);break;case"textarea":kf(r),wy(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=D0)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=M3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[ki]=t,e[Qu]=r,iC(e,t,!1,!1),t.stateNode=e;e:{switch(d=vm(n,r),n){case"dialog":hn("cancel",e),hn("close",e),i=r;break;case"iframe":case"object":case"embed":hn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Au.length;i++)hn(Au[i],e);i=r;break;case"source":hn("error",e),i=r;break;case"img":case"image":case"link":hn("error",e),hn("load",e),i=r;break;case"details":hn("toggle",e),i=r;break;case"input":xy(e,r),i=fm(e,r),hn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Tn({},r,{value:void 0}),hn("invalid",e);break;case"textarea":yy(e,r),i=mm(e,r),hn("invalid",e);break;default:i=r}xm(n,i),g=i;for(a in g)if(g.hasOwnProperty(a)){var x=g[a];a==="style"?F3(e,x):a==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&L3(e,x)):a==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&zu(e,x):typeof x=="number"&&zu(e,""+x):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Uu.hasOwnProperty(a)?x!=null&&a==="onScroll"&&hn("scroll",e):x!=null&&qg(e,a,x,d))}switch(n){case"input":kf(e),vy(e,r,!1);break;case"textarea":kf(e),wy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+lo(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Jl(e,!!r.multiple,a,!1):r.defaultValue!=null&&Jl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=D0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tr(t),null;case 6:if(e&&t.stateNode!=null)oC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(De(166));if(n=Go(Zu.current),Go(Ri.current),Pf(t)){if(r=t.stateNode,n=t.memoizedProps,r[ki]=t,(a=r.nodeValue!==n)&&(e=bs,e!==null))switch(e.tag){case 3:Lf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lf(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ki]=t,t.stateNode=r}return Tr(t),null;case 13:if(mn(Sn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bn&&ys!==null&&t.mode&1&&!(t.flags&128))_4(),uc(),t.flags|=98560,a=!1;else if(a=Pf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(De(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(De(317));a[ki]=t}else uc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tr(t),a=!1}else ii!==null&&(Zm(ii),ii=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Sn.current&1?ir===0&&(ir=3):Sx())),t.updateQueue!==null&&(t.flags|=4),Tr(t),null);case 4:return fc(),qm(e,t),e===null&&Gu(t.stateNode.containerInfo),Tr(t),null;case 10:return cx(t.type._context),Tr(t),null;case 17:return ns(t.type)&&j0(),Tr(t),null;case 19:if(mn(Sn),a=t.memoizedState,a===null)return Tr(t),null;if(r=(t.flags&128)!==0,d=a.rendering,d===null)if(r)xu(a,!1);else{if(ir!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=F0(e),d!==null){for(t.flags|=128,xu(a,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,d=a.alternate,d===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,e=d.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return un(Sn,Sn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Wn()>pc&&(t.flags|=128,r=!0,xu(a,!1),t.lanes=4194304)}else{if(!r)if(e=F0(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!bn)return Tr(t),null}else 2*Wn()-a.renderingStartTime>pc&&n!==1073741824&&(t.flags|=128,r=!0,xu(a,!1),t.lanes=4194304);a.isBackwards?(d.sibling=t.child,t.child=d):(n=a.last,n!==null?n.sibling=d:t.child=d,a.last=d)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Wn(),t.sibling=null,n=Sn.current,un(Sn,r?n&1|2:n&1),t):(Tr(t),null);case 22:case 23:return _x(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xs&1073741824&&(Tr(t),t.subtreeFlags&6&&(t.flags|=8192)):Tr(t),null;case 24:return null;case 25:return null}throw Error(De(156,t.tag))}function gD(e,t){switch(ix(t),t.tag){case 1:return ns(t.type)&&j0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fc(),mn(ts),mn(Rr),px(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hx(t),null;case 13:if(mn(Sn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(De(340));uc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return mn(Sn),null;case 4:return fc(),null;case 10:return cx(t.type._context),null;case 22:case 23:return _x(),null;case 24:return null;default:return null}}var Uf=!1,Dr=!1,xD=typeof WeakSet=="function"?WeakSet:Set,We=null;function Xl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mn(e,t,r)}else n.current=null}function Vm(e,t,n){try{n()}catch(r){Mn(e,t,r)}}var cw=!1;function vD(e,t){if(km=A0,e=f4(),rx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var d=0,g=-1,x=-1,v=0,w=0,E=e,_=null;t:for(;;){for(var k;E!==n||i!==0&&E.nodeType!==3||(g=d+i),E!==a||r!==0&&E.nodeType!==3||(x=d+r),E.nodeType===3&&(d+=E.nodeValue.length),(k=E.firstChild)!==null;)_=E,E=k;for(;;){if(E===e)break t;if(_===n&&++v===i&&(g=d),_===a&&++w===r&&(x=d),(k=E.nextSibling)!==null)break;E=_,_=E.parentNode}E=k}n=g===-1||x===-1?null:{start:g,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tm={focusedElem:e,selectionRange:n},A0=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){t=We;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var I=A.memoizedProps,L=A.memoizedState,j=t.stateNode,D=j.getSnapshotBeforeUpdate(t.elementType===t.type?I:ri(t.type,I),L);j.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(W){Mn(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}return A=cw,cw=!1,A}function Lu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Vm(t,n,a)}i=i.next}while(i!==r)}}function Ih(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ym(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lC(e){var t=e.alternate;t!==null&&(e.alternate=null,lC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ki],delete t[Qu],delete t[Im],delete t[eD],delete t[tD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cC(e){return e.tag===5||e.tag===3||e.tag===4}function uw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $m(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=D0));else if(r!==4&&(e=e.child,e!==null))for($m(e,t,n),e=e.sibling;e!==null;)$m(e,t,n),e=e.sibling}function Gm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gm(e,t,n),e=e.sibling;e!==null;)Gm(e,t,n),e=e.sibling}var vr=null,si=!1;function Pa(e,t,n){for(n=n.child;n!==null;)uC(e,t,n),n=n.sibling}function uC(e,t,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(Nh,n)}catch{}switch(n.tag){case 5:Dr||Xl(n,t);case 6:var r=vr,i=si;vr=null,Pa(e,t,n),vr=r,si=i,vr!==null&&(si?(e=vr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vr.removeChild(n.stateNode));break;case 18:vr!==null&&(si?(e=vr,n=n.stateNode,e.nodeType===8?j1(e.parentNode,n):e.nodeType===1&&j1(e,n),Vu(e)):j1(vr,n.stateNode));break;case 4:r=vr,i=si,vr=n.stateNode.containerInfo,si=!0,Pa(e,t,n),vr=r,si=i;break;case 0:case 11:case 14:case 15:if(!Dr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,d=a.destroy;a=a.tag,d!==void 0&&(a&2||a&4)&&Vm(n,t,d),i=i.next}while(i!==r)}Pa(e,t,n);break;case 1:if(!Dr&&(Xl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(g){Mn(n,t,g)}Pa(e,t,n);break;case 21:Pa(e,t,n);break;case 22:n.mode&1?(Dr=(r=Dr)||n.memoizedState!==null,Pa(e,t,n),Dr=r):Pa(e,t,n);break;default:Pa(e,t,n)}}function dw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xD),t.forEach(function(r){var i=AD.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ni(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 5:vr=g.stateNode,si=!1;break e;case 3:vr=g.stateNode.containerInfo,si=!0;break e;case 4:vr=g.stateNode.containerInfo,si=!0;break e}g=g.return}if(vr===null)throw Error(De(160));uC(a,d,i),vr=null,si=!1;var x=i.alternate;x!==null&&(x.return=null),i.return=null}catch(v){Mn(i,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dC(t,e),t=t.sibling}function dC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ni(t,e),wi(e),r&4){try{Lu(3,e,e.return),Ih(3,e)}catch(I){Mn(e,e.return,I)}try{Lu(5,e,e.return)}catch(I){Mn(e,e.return,I)}}break;case 1:ni(t,e),wi(e),r&512&&n!==null&&Xl(n,n.return);break;case 5:if(ni(t,e),wi(e),r&512&&n!==null&&Xl(n,n.return),e.flags&32){var i=e.stateNode;try{zu(i,"")}catch(I){Mn(e,e.return,I)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,d=n!==null?n.memoizedProps:a,g=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{g==="input"&&a.type==="radio"&&a.name!=null&&R3(i,a),vm(g,d);var v=vm(g,a);for(d=0;d<x.length;d+=2){var w=x[d],E=x[d+1];w==="style"?F3(i,E):w==="dangerouslySetInnerHTML"?L3(i,E):w==="children"?zu(i,E):qg(i,w,E,v)}switch(g){case"input":hm(i,a);break;case"textarea":O3(i,a);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var k=a.value;k!=null?Jl(i,!!a.multiple,k,!1):_!==!!a.multiple&&(a.defaultValue!=null?Jl(i,!!a.multiple,a.defaultValue,!0):Jl(i,!!a.multiple,a.multiple?[]:"",!1))}i[Qu]=a}catch(I){Mn(e,e.return,I)}}break;case 6:if(ni(t,e),wi(e),r&4){if(e.stateNode===null)throw Error(De(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(I){Mn(e,e.return,I)}}break;case 3:if(ni(t,e),wi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vu(t.containerInfo)}catch(I){Mn(e,e.return,I)}break;case 4:ni(t,e),wi(e);break;case 13:ni(t,e),wi(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ex=Wn())),r&4&&dw(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(Dr=(v=Dr)||w,ni(t,e),Dr=v):ni(t,e),wi(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!w&&e.mode&1)for(We=e,w=e.child;w!==null;){for(E=We=w;We!==null;){switch(_=We,k=_.child,_.tag){case 0:case 11:case 14:case 15:Lu(4,_,_.return);break;case 1:Xl(_,_.return);var A=_.stateNode;if(typeof A.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(I){Mn(r,n,I)}}break;case 5:Xl(_,_.return);break;case 22:if(_.memoizedState!==null){hw(E);continue}}k!==null?(k.return=_,We=k):hw(E)}w=w.sibling}e:for(w=null,E=e;;){if(E.tag===5){if(w===null){w=E;try{i=E.stateNode,v?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(g=E.stateNode,x=E.memoizedProps.style,d=x!=null&&x.hasOwnProperty("display")?x.display:null,g.style.display=P3("display",d))}catch(I){Mn(e,e.return,I)}}}else if(E.tag===6){if(w===null)try{E.stateNode.nodeValue=v?"":E.memoizedProps}catch(I){Mn(e,e.return,I)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;w===E&&(w=null),E=E.return}w===E&&(w=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:ni(t,e),wi(e),r&4&&dw(e);break;case 21:break;default:ni(t,e),wi(e)}}function wi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cC(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zu(i,""),r.flags&=-33);var a=uw(e);Gm(e,a,i);break;case 3:case 4:var d=r.stateNode.containerInfo,g=uw(e);$m(e,g,d);break;default:throw Error(De(161))}}catch(x){Mn(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yD(e,t,n){We=e,fC(e)}function fC(e,t,n){for(var r=(e.mode&1)!==0;We!==null;){var i=We,a=i.child;if(i.tag===22&&r){var d=i.memoizedState!==null||Uf;if(!d){var g=i.alternate,x=g!==null&&g.memoizedState!==null||Dr;g=Uf;var v=Dr;if(Uf=d,(Dr=x)&&!v)for(We=i;We!==null;)d=We,x=d.child,d.tag===22&&d.memoizedState!==null?pw(i):x!==null?(x.return=d,We=x):pw(i);for(;a!==null;)We=a,fC(a),a=a.sibling;We=i,Uf=g,Dr=v}fw(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,We=a):fw(e)}}function fw(e){for(;We!==null;){var t=We;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dr||Ih(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Dr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ri(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Qy(t,a,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qy(t,d,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var w=v.memoizedState;if(w!==null){var E=w.dehydrated;E!==null&&Vu(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}Dr||t.flags&512&&Ym(t)}catch(_){Mn(t,t.return,_)}}if(t===e){We=null;break}if(n=t.sibling,n!==null){n.return=t.return,We=n;break}We=t.return}}function hw(e){for(;We!==null;){var t=We;if(t===e){We=null;break}var n=t.sibling;if(n!==null){n.return=t.return,We=n;break}We=t.return}}function pw(e){for(;We!==null;){var t=We;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ih(4,t)}catch(x){Mn(t,n,x)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(x){Mn(t,i,x)}}var a=t.return;try{Ym(t)}catch(x){Mn(t,a,x)}break;case 5:var d=t.return;try{Ym(t)}catch(x){Mn(t,d,x)}}}catch(x){Mn(t,t.return,x)}if(t===e){We=null;break}var g=t.sibling;if(g!==null){g.return=t.return,We=g;break}We=t.return}}var wD=Math.ceil,z0=ba.ReactCurrentDispatcher,bx=ba.ReactCurrentOwner,Vs=ba.ReactCurrentBatchConfig,Bt=0,fr=null,Xn=null,yr=0,xs=0,Ql=po(0),ir=0,nd=null,al=0,Rh=0,Cx=0,Pu=null,Jr=null,Ex=0,pc=1/0,ra=null,W0=!1,Xm=null,no=null,zf=!1,Ga=null,H0=0,Fu=0,Qm=null,o0=-1,l0=0;function qr(){return Bt&6?Wn():o0!==-1?o0:o0=Wn()}function ro(e){return e.mode&1?Bt&2&&yr!==0?yr&-yr:rD.transition!==null?(l0===0&&(l0=Q3()),l0):(e=en,e!==0||(e=window.event,e=e===void 0?16:r4(e.type)),e):1}function oi(e,t,n,r){if(50<Fu)throw Fu=0,Qm=null,Error(De(185));pd(e,n,r),(!(Bt&2)||e!==fr)&&(e===fr&&(!(Bt&2)&&(Rh|=n),ir===4&&Va(e,yr)),rs(e,r),n===1&&Bt===0&&!(t.mode&1)&&(pc=Wn()+500,Th&&mo()))}function rs(e,t){var n=e.callbackNode;rT(e,t);var r=S0(e,e===fr?yr:0);if(r===0)n!==null&&Ey(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ey(n),t===1)e.tag===0?nD(mw.bind(null,e)):C4(mw.bind(null,e)),ZT(function(){!(Bt&6)&&mo()}),n=null;else{switch(K3(r)){case 1:n=Xg;break;case 4:n=G3;break;case 16:n=_0;break;case 536870912:n=X3;break;default:n=_0}n=wC(n,hC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hC(e,t){if(o0=-1,l0=0,Bt&6)throw Error(De(327));var n=e.callbackNode;if(sc()&&e.callbackNode!==n)return null;var r=S0(e,e===fr?yr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=q0(e,r);else{t=r;var i=Bt;Bt|=2;var a=mC();(fr!==e||yr!==t)&&(ra=null,pc=Wn()+500,Zo(e,t));do try{ED();break}catch(g){pC(e,g)}while(1);lx(),z0.current=a,Bt=i,Xn!==null?t=0:(fr=null,yr=0,t=ir)}if(t!==0){if(t===2&&(i=Em(e),i!==0&&(r=i,t=Km(e,i))),t===1)throw n=nd,Zo(e,0),Va(e,r),rs(e,Wn()),n;if(t===6)Va(e,r);else{if(i=e.current.alternate,!(r&30)&&!bD(i)&&(t=q0(e,r),t===2&&(a=Em(e),a!==0&&(r=a,t=Km(e,a))),t===1))throw n=nd,Zo(e,0),Va(e,r),rs(e,Wn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(De(345));case 2:Ho(e,Jr,ra);break;case 3:if(Va(e,r),(r&130023424)===r&&(t=Ex+500-Wn(),10<t)){if(S0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){qr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=jm(Ho.bind(null,e,Jr,ra),t);break}Ho(e,Jr,ra);break;case 4:if(Va(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var d=31-ai(r);a=1<<d,d=t[d],d>i&&(i=d),r&=~a}if(r=i,r=Wn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wD(r/1960))-r,10<r){e.timeoutHandle=jm(Ho.bind(null,e,Jr,ra),r);break}Ho(e,Jr,ra);break;case 5:Ho(e,Jr,ra);break;default:throw Error(De(329))}}}return rs(e,Wn()),e.callbackNode===n?hC.bind(null,e):null}function Km(e,t){var n=Pu;return e.current.memoizedState.isDehydrated&&(Zo(e,t).flags|=256),e=q0(e,t),e!==2&&(t=Jr,Jr=n,t!==null&&Zm(t)),e}function Zm(e){Jr===null?Jr=e:Jr.push.apply(Jr,e)}function bD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ui(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Va(e,t){for(t&=~Cx,t&=~Rh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ai(t),r=1<<n;e[n]=-1,t&=~r}}function mw(e){if(Bt&6)throw Error(De(327));sc();var t=S0(e,0);if(!(t&1))return rs(e,Wn()),null;var n=q0(e,t);if(e.tag!==0&&n===2){var r=Em(e);r!==0&&(t=r,n=Km(e,r))}if(n===1)throw n=nd,Zo(e,0),Va(e,t),rs(e,Wn()),n;if(n===6)throw Error(De(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ho(e,Jr,ra),rs(e,Wn()),null}function Nx(e,t){var n=Bt;Bt|=1;try{return e(t)}finally{Bt=n,Bt===0&&(pc=Wn()+500,Th&&mo())}}function ol(e){Ga!==null&&Ga.tag===0&&!(Bt&6)&&sc();var t=Bt;Bt|=1;var n=Vs.transition,r=en;try{if(Vs.transition=null,en=1,e)return e()}finally{en=r,Vs.transition=n,Bt=t,!(Bt&6)&&mo()}}function _x(){xs=Ql.current,mn(Ql)}function Zo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KT(n)),Xn!==null)for(n=Xn.return;n!==null;){var r=n;switch(ix(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&j0();break;case 3:fc(),mn(ts),mn(Rr),px();break;case 5:hx(r);break;case 4:fc();break;case 13:mn(Sn);break;case 19:mn(Sn);break;case 10:cx(r.type._context);break;case 22:case 23:_x()}n=n.return}if(fr=e,Xn=e=so(e.current,null),yr=xs=t,ir=0,nd=null,Cx=Rh=al=0,Jr=Pu=null,$o!==null){for(t=0;t<$o.length;t++)if(n=$o[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var d=a.next;a.next=i,r.next=d}n.pending=r}$o=null}return e}function pC(e,t){do{var n=Xn;try{if(lx(),s0.current=U0,B0){for(var r=kn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}B0=!1}if(il=0,dr=sr=kn=null,Mu=!1,Ju=0,bx.current=null,n===null||n.return===null){ir=1,nd=t,Xn=null;break}e:{var a=e,d=n.return,g=n,x=t;if(t=yr,g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var v=x,w=g,E=w.tag;if(!(w.mode&1)&&(E===0||E===11||E===15)){var _=w.alternate;_?(w.updateQueue=_.updateQueue,w.memoizedState=_.memoizedState,w.lanes=_.lanes):(w.updateQueue=null,w.memoizedState=null)}var k=nw(d);if(k!==null){k.flags&=-257,rw(k,d,g,a,t),k.mode&1&&tw(a,v,t),t=k,x=v;var A=t.updateQueue;if(A===null){var I=new Set;I.add(x),t.updateQueue=I}else A.add(x);break e}else{if(!(t&1)){tw(a,v,t),Sx();break e}x=Error(De(426))}}else if(bn&&g.mode&1){var L=nw(d);if(L!==null){!(L.flags&65536)&&(L.flags|=256),rw(L,d,g,a,t),ax(hc(x,g));break e}}a=x=hc(x,g),ir!==4&&(ir=2),Pu===null?Pu=[a]:Pu.push(a),a=d;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var j=K4(a,x,t);Xy(a,j);break e;case 1:g=x;var D=a.type,R=a.stateNode;if(!(a.flags&128)&&(typeof D.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(no===null||!no.has(R)))){a.flags|=65536,t&=-t,a.lanes|=t;var W=Z4(a,g,t);Xy(a,W);break e}}a=a.return}while(a!==null)}xC(n)}catch(Z){t=Z,Xn===n&&n!==null&&(Xn=n=n.return);continue}break}while(1)}function mC(){var e=z0.current;return z0.current=U0,e===null?U0:e}function Sx(){(ir===0||ir===3||ir===2)&&(ir=4),fr===null||!(al&268435455)&&!(Rh&268435455)||Va(fr,yr)}function q0(e,t){var n=Bt;Bt|=2;var r=mC();(fr!==e||yr!==t)&&(ra=null,Zo(e,t));do try{CD();break}catch(i){pC(e,i)}while(1);if(lx(),Bt=n,z0.current=r,Xn!==null)throw Error(De(261));return fr=null,yr=0,ir}function CD(){for(;Xn!==null;)gC(Xn)}function ED(){for(;Xn!==null&&!Gk();)gC(Xn)}function gC(e){var t=yC(e.alternate,e,xs);e.memoizedProps=e.pendingProps,t===null?xC(e):Xn=t,bx.current=null}function xC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gD(n,t),n!==null){n.flags&=32767,Xn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ir=6,Xn=null;return}}else if(n=mD(n,t,xs),n!==null){Xn=n;return}if(t=t.sibling,t!==null){Xn=t;return}Xn=t=e}while(t!==null);ir===0&&(ir=5)}function Ho(e,t,n){var r=en,i=Vs.transition;try{Vs.transition=null,en=1,ND(e,t,n,r)}finally{Vs.transition=i,en=r}return null}function ND(e,t,n,r){do sc();while(Ga!==null);if(Bt&6)throw Error(De(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(De(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(sT(e,a),e===fr&&(Xn=fr=null,yr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zf||(zf=!0,wC(_0,function(){return sc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Vs.transition,Vs.transition=null;var d=en;en=1;var g=Bt;Bt|=4,bx.current=null,vD(e,n),dC(n,e),qT(Tm),A0=!!km,Tm=km=null,e.current=n,yD(n),Xk(),Bt=g,en=d,Vs.transition=a}else e.current=n;if(zf&&(zf=!1,Ga=e,H0=i),a=e.pendingLanes,a===0&&(no=null),Zk(n.stateNode),rs(e,Wn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(W0)throw W0=!1,e=Xm,Xm=null,e;return H0&1&&e.tag!==0&&sc(),a=e.pendingLanes,a&1?e===Qm?Fu++:(Fu=0,Qm=e):Fu=0,mo(),null}function sc(){if(Ga!==null){var e=K3(H0),t=Vs.transition,n=en;try{if(Vs.transition=null,en=16>e?16:e,Ga===null)var r=!1;else{if(e=Ga,Ga=null,H0=0,Bt&6)throw Error(De(331));var i=Bt;for(Bt|=4,We=e.current;We!==null;){var a=We,d=a.child;if(We.flags&16){var g=a.deletions;if(g!==null){for(var x=0;x<g.length;x++){var v=g[x];for(We=v;We!==null;){var w=We;switch(w.tag){case 0:case 11:case 15:Lu(8,w,a)}var E=w.child;if(E!==null)E.return=w,We=E;else for(;We!==null;){w=We;var _=w.sibling,k=w.return;if(lC(w),w===v){We=null;break}if(_!==null){_.return=k,We=_;break}We=k}}}var A=a.alternate;if(A!==null){var I=A.child;if(I!==null){A.child=null;do{var L=I.sibling;I.sibling=null,I=L}while(I!==null)}}We=a}}if(a.subtreeFlags&2064&&d!==null)d.return=a,We=d;else e:for(;We!==null;){if(a=We,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Lu(9,a,a.return)}var j=a.sibling;if(j!==null){j.return=a.return,We=j;break e}We=a.return}}var D=e.current;for(We=D;We!==null;){d=We;var R=d.child;if(d.subtreeFlags&2064&&R!==null)R.return=d,We=R;else e:for(d=D;We!==null;){if(g=We,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Ih(9,g)}}catch(Z){Mn(g,g.return,Z)}if(g===d){We=null;break e}var W=g.sibling;if(W!==null){W.return=g.return,We=W;break e}We=g.return}}if(Bt=i,mo(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(Nh,e)}catch{}r=!0}return r}finally{en=n,Vs.transition=t}}return!1}function gw(e,t,n){t=hc(n,t),t=K4(e,t,1),e=to(e,t,1),t=qr(),e!==null&&(pd(e,1,t),rs(e,t))}function Mn(e,t,n){if(e.tag===3)gw(e,e,n);else for(;t!==null;){if(t.tag===3){gw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(no===null||!no.has(r))){e=hc(n,e),e=Z4(t,e,1),t=to(t,e,1),e=qr(),t!==null&&(pd(t,1,e),rs(t,e));break}}t=t.return}}function _D(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qr(),e.pingedLanes|=e.suspendedLanes&n,fr===e&&(yr&n)===n&&(ir===4||ir===3&&(yr&130023424)===yr&&500>Wn()-Ex?Zo(e,0):Cx|=n),rs(e,t)}function vC(e,t){t===0&&(e.mode&1?(t=jf,jf<<=1,!(jf&130023424)&&(jf=4194304)):t=1);var n=qr();e=ga(e,t),e!==null&&(pd(e,t,n),rs(e,n))}function SD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vC(e,n)}function AD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(t),vC(e,n)}var yC;yC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ts.current)es=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return es=!1,pD(e,t,n);es=!!(e.flags&131072)}else es=!1,bn&&t.flags&1048576&&E4(t,O0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;a0(e,t),e=t.pendingProps;var i=cc(t,Rr.current);rc(t,n),i=gx(null,t,r,e,i,n);var a=xx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ns(r)?(a=!0,I0(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dx(t),i.updater=jh,t.stateNode=i,i._reactInternals=t,Fm(t,r,e,n),t=zm(null,t,r,!0,a,n)):(t.tag=0,bn&&a&&sx(t),Br(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(a0(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=TD(r),e=ri(r,e),i){case 0:t=Um(null,t,r,e,n);break e;case 1:t=aw(null,t,r,e,n);break e;case 11:t=sw(null,t,r,e,n);break e;case 14:t=iw(null,t,r,ri(r.type,e),n);break e}throw Error(De(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ri(r,i),Um(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ri(r,i),aw(e,t,r,i,n);case 3:e:{if(nC(t),e===null)throw Error(De(387));r=t.pendingProps,a=t.memoizedState,i=a.element,T4(e,t),P0(t,r,null,n);var d=t.memoizedState;if(r=d.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=hc(Error(De(423)),t),t=ow(e,t,r,n,i);break e}else if(r!==i){i=hc(Error(De(424)),t),t=ow(e,t,r,n,i);break e}else for(ys=eo(t.stateNode.containerInfo.firstChild),bs=t,bn=!0,ii=null,n=A4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uc(),r===i){t=xa(e,t,n);break e}Br(e,t,r,n)}t=t.child}return t;case 5:return D4(t),e===null&&Mm(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,d=i.children,Dm(r,i)?d=null:a!==null&&Dm(r,a)&&(t.flags|=32),tC(e,t),Br(e,t,d,n),t.child;case 6:return e===null&&Mm(t),null;case 13:return rC(e,t,n);case 4:return fx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=dc(t,null,r,n):Br(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ri(r,i),sw(e,t,r,i,n);case 7:return Br(e,t,t.pendingProps,n),t.child;case 8:return Br(e,t,t.pendingProps.children,n),t.child;case 12:return Br(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,d=i.value,un(M0,r._currentValue),r._currentValue=d,a!==null)if(ui(a.value,d)){if(a.children===i.children&&!ts.current){t=xa(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var g=a.dependencies;if(g!==null){d=a.child;for(var x=g.firstContext;x!==null;){if(x.context===r){if(a.tag===1){x=la(-1,n&-n),x.tag=2;var v=a.updateQueue;if(v!==null){v=v.shared;var w=v.pending;w===null?x.next=x:(x.next=w.next,w.next=x),v.pending=x}}a.lanes|=n,x=a.alternate,x!==null&&(x.lanes|=n),Lm(a.return,n,t),g.lanes|=n;break}x=x.next}}else if(a.tag===10)d=a.type===t.type?null:a.child;else if(a.tag===18){if(d=a.return,d===null)throw Error(De(341));d.lanes|=n,g=d.alternate,g!==null&&(g.lanes|=n),Lm(d,n,t),d=a.sibling}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===t){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}Br(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,rc(t,n),i=Ys(i),r=r(i),t.flags|=1,Br(e,t,r,n),t.child;case 14:return r=t.type,i=ri(r,t.pendingProps),i=ri(r.type,i),iw(e,t,r,i,n);case 15:return J4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ri(r,i),a0(e,t),t.tag=1,ns(r)?(e=!0,I0(t)):e=!1,rc(t,n),Q4(t,r,i),Fm(t,r,i,n),zm(null,t,r,!0,e,n);case 19:return sC(e,t,n);case 22:return eC(e,t,n)}throw Error(De(156,t.tag))};function wC(e,t){return $3(e,t)}function kD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(e,t,n,r){return new kD(e,t,n,r)}function Ax(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TD(e){if(typeof e=="function")return Ax(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yg)return 11;if(e===$g)return 14}return 2}function so(e,t){var n=e.alternate;return n===null?(n=qs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function c0(e,t,n,r,i,a){var d=2;if(r=e,typeof e=="function")Ax(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Ul:return Jo(n.children,i,a,t);case Vg:d=8,i|=8;break;case lm:return e=qs(12,n,t,i|2),e.elementType=lm,e.lanes=a,e;case cm:return e=qs(13,n,t,i),e.elementType=cm,e.lanes=a,e;case um:return e=qs(19,n,t,i),e.elementType=um,e.lanes=a,e;case D3:return Oh(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k3:d=10;break e;case T3:d=9;break e;case Yg:d=11;break e;case $g:d=14;break e;case za:d=16,r=null;break e}throw Error(De(130,e==null?e:typeof e,""))}return t=qs(d,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Jo(e,t,n,r){return e=qs(7,e,r,t),e.lanes=n,e}function Oh(e,t,n,r){return e=qs(22,e,r,t),e.elementType=D3,e.lanes=n,e.stateNode={isHidden:!1},e}function B1(e,t,n){return e=qs(6,e,null,t),e.lanes=n,e}function U1(e,t,n){return t=qs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DD(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w1(0),this.expirationTimes=w1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kx(e,t,n,r,i,a,d,g,x){return e=new DD(e,t,n,g,x),t===1?(t=1,a===!0&&(t|=8)):t=0,a=qs(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dx(a),e}function jD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bC(e){if(!e)return co;e=e._reactInternals;e:{if(pl(e)!==e||e.tag!==1)throw Error(De(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ns(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(De(171))}if(e.tag===1){var n=e.type;if(ns(n))return b4(e,n,t)}return t}function CC(e,t,n,r,i,a,d,g,x){return e=kx(n,r,!0,e,i,a,d,g,x),e.context=bC(null),n=e.current,r=qr(),i=ro(n),a=la(r,i),a.callback=t??null,to(n,a,i),e.current.lanes=i,pd(e,i,r),rs(e,r),e}function Mh(e,t,n,r){var i=t.current,a=qr(),d=ro(i);return n=bC(n),t.context===null?t.context=n:t.pendingContext=n,t=la(a,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=to(i,t,d),e!==null&&(oi(e,i,d,a),r0(e,i,d)),d}function V0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tx(e,t){xw(e,t),(e=e.alternate)&&xw(e,t)}function ID(){return null}var EC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dx(e){this._internalRoot=e}Lh.prototype.render=Dx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(De(409));Mh(e,t,null,null)};Lh.prototype.unmount=Dx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ol(function(){Mh(null,e,null,null)}),t[ma]=null}};function Lh(e){this._internalRoot=e}Lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=e4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qa.length&&t!==0&&t<qa[n].priority;n++);qa.splice(n,0,e),n===0&&n4(e)}};function jx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ph(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vw(){}function RD(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var v=V0(d);a.call(v)}}var d=CC(t,r,e,0,null,!1,!1,"",vw);return e._reactRootContainer=d,e[ma]=d.current,Gu(e.nodeType===8?e.parentNode:e),ol(),d}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var g=r;r=function(){var v=V0(x);g.call(v)}}var x=kx(e,0,!1,null,null,!1,!1,"",vw);return e._reactRootContainer=x,e[ma]=x.current,Gu(e.nodeType===8?e.parentNode:e),ol(function(){Mh(t,x,n,r)}),x}function Fh(e,t,n,r,i){var a=n._reactRootContainer;if(a){var d=a;if(typeof i=="function"){var g=i;i=function(){var x=V0(d);g.call(x)}}Mh(t,d,e,i)}else d=RD(n,t,e,i,r);return V0(d)}Z3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Su(t.pendingLanes);n!==0&&(Qg(t,n|1),rs(t,Wn()),!(Bt&6)&&(pc=Wn()+500,mo()))}break;case 13:ol(function(){var r=ga(e,1);if(r!==null){var i=qr();oi(r,e,1,i)}}),Tx(e,1)}};Kg=function(e){if(e.tag===13){var t=ga(e,134217728);if(t!==null){var n=qr();oi(t,e,134217728,n)}Tx(e,134217728)}};J3=function(e){if(e.tag===13){var t=ro(e),n=ga(e,t);if(n!==null){var r=qr();oi(n,e,t,r)}Tx(e,t)}};e4=function(){return en};t4=function(e,t){var n=en;try{return en=e,t()}finally{en=n}};wm=function(e,t,n){switch(t){case"input":if(hm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=kh(r);if(!i)throw Error(De(90));I3(r),hm(r,i)}}}break;case"textarea":O3(e,n);break;case"select":t=n.value,t!=null&&Jl(e,!!n.multiple,t,!1)}};z3=Nx;W3=ol;var OD={usingClientEntryPoint:!1,Events:[gd,ql,kh,B3,U3,Nx]},vu={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MD={bundleType:vu.bundleType,version:vu.version,rendererPackageName:vu.rendererPackageName,rendererConfig:vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ba.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=V3(e),e===null?null:e.stateNode},findFiberByHostInstance:vu.findFiberByHostInstance||ID,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wf.isDisabled&&Wf.supportsFiber)try{Nh=Wf.inject(MD),Ii=Wf}catch{}}Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OD;Ns.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jx(t))throw Error(De(200));return jD(e,t,null,n)};Ns.createRoot=function(e,t){if(!jx(e))throw Error(De(299));var n=!1,r="",i=EC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=kx(e,1,!1,null,null,n,!1,r,i),e[ma]=t.current,Gu(e.nodeType===8?e.parentNode:e),new Dx(t)};Ns.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=V3(t),e=e===null?null:e.stateNode,e};Ns.flushSync=function(e){return ol(e)};Ns.hydrate=function(e,t,n){if(!Ph(t))throw Error(De(200));return Fh(null,e,t,!0,n)};Ns.hydrateRoot=function(e,t,n){if(!jx(e))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",d=EC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=CC(t,null,e,1,n??null,i,!1,a,d),e[ma]=t.current,Gu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Lh(t)};Ns.render=function(e,t,n){if(!Ph(t))throw Error(De(200));return Fh(null,e,t,!1,n)};Ns.unmountComponentAtNode=function(e){if(!Ph(e))throw Error(De(40));return e._reactRootContainer?(ol(function(){Fh(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0):!1};Ns.unstable_batchedUpdates=Nx;Ns.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ph(n))throw Error(De(200));if(e==null||e._reactInternals===void 0)throw Error(De(38));return Fh(e,t,n,!1,r)};Ns.version="18.3.1-next-f1338f8080-20240426";function NC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NC)}catch(e){console.error(e)}}NC(),N3.exports=Ns;var Ix=N3.exports;const LD=Ch(Ix);var yw=Ix;am.createRoot=yw.createRoot,am.hydrateRoot=yw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rd.apply(this,arguments)}var Xa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xa||(Xa={}));const ww="popstate";function PD(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:d,hash:g}=r.location;return Jm("",{pathname:a,search:d,hash:g},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Y0(i)}return BD(t,n,null,e)}function Vn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _C(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FD(){return Math.random().toString(36).substr(2,8)}function bw(e,t){return{usr:e.state,key:e.key,idx:t}}function Jm(e,t,n,r){return n===void 0&&(n=null),rd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kc(t):t,{state:n,key:t&&t.key||r||FD()})}function Y0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function kc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function BD(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,d=i.history,g=Xa.Pop,x=null,v=w();v==null&&(v=0,d.replaceState(rd({},d.state,{idx:v}),""));function w(){return(d.state||{idx:null}).idx}function E(){g=Xa.Pop;let L=w(),j=L==null?null:L-v;v=L,x&&x({action:g,location:I.location,delta:j})}function _(L,j){g=Xa.Push;let D=Jm(I.location,L,j);n&&n(D,L),v=w()+1;let R=bw(D,v),W=I.createHref(D);try{d.pushState(R,"",W)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;i.location.assign(W)}a&&x&&x({action:g,location:I.location,delta:1})}function k(L,j){g=Xa.Replace;let D=Jm(I.location,L,j);n&&n(D,L),v=w();let R=bw(D,v),W=I.createHref(D);d.replaceState(R,"",W),a&&x&&x({action:g,location:I.location,delta:0})}function A(L){let j=i.location.origin!=="null"?i.location.origin:i.location.href,D=typeof L=="string"?L:Y0(L);return D=D.replace(/ $/,"%20"),Vn(j,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,j)}let I={get action(){return g},get location(){return e(i,d)},listen(L){if(x)throw new Error("A history only accepts one active listener");return i.addEventListener(ww,E),x=L,()=>{i.removeEventListener(ww,E),x=null}},createHref(L){return t(i,L)},createURL:A,encodeLocation(L){let j=A(L);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:_,replace:k,go(L){return d.go(L)}};return I}var Cw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cw||(Cw={}));function UD(e,t,n){return n===void 0&&(n="/"),zD(e,t,n,!1)}function zD(e,t,n,r){let i=typeof t=="string"?kc(t):t,a=Rx(i.pathname||"/",n);if(a==null)return null;let d=SC(e);WD(d);let g=null;for(let x=0;g==null&&x<d.length;++x){let v=JD(a);g=KD(d[x],v,r)}return g}function SC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,d,g)=>{let x={relativePath:g===void 0?a.path||"":g,caseSensitive:a.caseSensitive===!0,childrenIndex:d,route:a};x.relativePath.startsWith("/")&&(Vn(x.relativePath.startsWith(r),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(r.length));let v=io([r,x.relativePath]),w=n.concat(x);a.children&&a.children.length>0&&(Vn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),SC(a.children,t,w,v)),!(a.path==null&&!a.index)&&t.push({path:v,score:XD(v,a.index),routesMeta:w})};return e.forEach((a,d)=>{var g;if(a.path===""||!((g=a.path)!=null&&g.includes("?")))i(a,d);else for(let x of AC(a.path))i(a,d,x)}),t}function AC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let d=AC(r.join("/")),g=[];return g.push(...d.map(x=>x===""?a:[a,x].join("/"))),i&&g.push(...d),g.map(x=>e.startsWith("/")&&x===""?"/":x)}function WD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:QD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HD=/^:[\w-]+$/,qD=3,VD=2,YD=1,$D=10,GD=-2,Ew=e=>e==="*";function XD(e,t){let n=e.split("/"),r=n.length;return n.some(Ew)&&(r+=GD),t&&(r+=VD),n.filter(i=>!Ew(i)).reduce((i,a)=>i+(HD.test(a)?qD:a===""?YD:$D),r)}function QD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function KD(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a="/",d=[];for(let g=0;g<r.length;++g){let x=r[g],v=g===r.length-1,w=a==="/"?t:t.slice(a.length)||"/",E=Nw({path:x.relativePath,caseSensitive:x.caseSensitive,end:v},w),_=x.route;if(!E&&v&&n&&!r[r.length-1].route.index&&(E=Nw({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},w)),!E)return null;Object.assign(i,E.params),d.push({params:i,pathname:io([a,E.pathname]),pathnameBase:rj(io([a,E.pathnameBase])),route:_}),E.pathnameBase!=="/"&&(a=io([a,E.pathnameBase]))}return d}function Nw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ZD(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],d=a.replace(/(.)\/+$/,"$1"),g=i.slice(1);return{params:r.reduce((v,w,E)=>{let{paramName:_,isOptional:k}=w;if(_==="*"){let I=g[E]||"";d=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const A=g[E];return k&&!A?v[_]=void 0:v[_]=(A||"").replace(/%2F/g,"/"),v},{}),pathname:a,pathnameBase:d,pattern:e}}function ZD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_C(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,x)=>(r.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function JD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _C(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ej(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?kc(e):e;return{pathname:n?n.startsWith("/")?n:tj(n,t):t,search:sj(r),hash:ij(i)}}function tj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function z1(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ox(e,t){let n=nj(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mx(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=kc(e):(i=rd({},e),Vn(!i.pathname||!i.pathname.includes("?"),z1("?","pathname","search",i)),Vn(!i.pathname||!i.pathname.includes("#"),z1("#","pathname","hash",i)),Vn(!i.search||!i.search.includes("#"),z1("#","search","hash",i)));let a=e===""||i.pathname==="",d=a?"/":i.pathname,g;if(d==null)g=n;else{let E=t.length-1;if(!r&&d.startsWith("..")){let _=d.split("/");for(;_[0]==="..";)_.shift(),E-=1;i.pathname=_.join("/")}g=E>=0?t[E]:"/"}let x=ej(i,g),v=d&&d!=="/"&&d.endsWith("/"),w=(a||d===".")&&n.endsWith("/");return!x.pathname.endsWith("/")&&(v||w)&&(x.pathname+="/"),x}const io=e=>e.join("/").replace(/\/\/+/g,"/"),rj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ij=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kC=["post","put","patch","delete"];new Set(kC);const oj=["get",...kC];new Set(oj);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sd.apply(this,arguments)}const Lx=M.createContext(null),lj=M.createContext(null),go=M.createContext(null),Bh=M.createContext(null),Ca=M.createContext({outlet:null,matches:[],isDataRoute:!1}),TC=M.createContext(null);function cj(e,t){let{relative:n}=t===void 0?{}:t;Tc()||Vn(!1);let{basename:r,navigator:i}=M.useContext(go),{hash:a,pathname:d,search:g}=IC(e,{relative:n}),x=d;return r!=="/"&&(x=d==="/"?r:io([r,d])),i.createHref({pathname:x,search:g,hash:a})}function Tc(){return M.useContext(Bh)!=null}function Dc(){return Tc()||Vn(!1),M.useContext(Bh).location}function DC(e){M.useContext(go).static||M.useLayoutEffect(e)}function fi(){let{isDataRoute:e}=M.useContext(Ca);return e?Cj():uj()}function uj(){Tc()||Vn(!1);let e=M.useContext(Lx),{basename:t,future:n,navigator:r}=M.useContext(go),{matches:i}=M.useContext(Ca),{pathname:a}=Dc(),d=JSON.stringify(Ox(i,n.v7_relativeSplatPath)),g=M.useRef(!1);return DC(()=>{g.current=!0}),M.useCallback(function(v,w){if(w===void 0&&(w={}),!g.current)return;if(typeof v=="number"){r.go(v);return}let E=Mx(v,JSON.parse(d),a,w.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:io([t,E.pathname])),(w.replace?r.replace:r.push)(E,w.state,w)},[t,r,d,a,e])}function jC(){let{matches:e}=M.useContext(Ca),t=e[e.length-1];return t?t.params:{}}function IC(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=M.useContext(go),{matches:i}=M.useContext(Ca),{pathname:a}=Dc(),d=JSON.stringify(Ox(i,r.v7_relativeSplatPath));return M.useMemo(()=>Mx(e,JSON.parse(d),a,n==="path"),[e,d,a,n])}function dj(e,t){return fj(e,t)}function fj(e,t,n,r){Tc()||Vn(!1);let{navigator:i,static:a}=M.useContext(go),{matches:d}=M.useContext(Ca),g=d[d.length-1],x=g?g.params:{};g&&g.pathname;let v=g?g.pathnameBase:"/";g&&g.route;let w=Dc(),E;if(t){var _;let j=typeof t=="string"?kc(t):t;v==="/"||(_=j.pathname)!=null&&_.startsWith(v)||Vn(!1),E=j}else E=w;let k=E.pathname||"/",A=k;if(v!=="/"){let j=v.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(j.length).join("/")}let I=!a&&n&&n.matches&&n.matches.length>0?n.matches:UD(e,{pathname:A}),L=xj(I&&I.map(j=>Object.assign({},j,{params:Object.assign({},x,j.params),pathname:io([v,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:io([v,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),d,n,r);return t&&L?M.createElement(Bh.Provider,{value:{location:sd({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Xa.Pop}},L):L}function hj(){let e=bj(),t=aj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:i},n):null,a)}const pj=M.createElement(hj,null);class mj extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?M.createElement(Ca.Provider,{value:this.props.routeContext},M.createElement(TC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gj(e){let{routeContext:t,match:n,children:r}=e,i=M.useContext(Lx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Ca.Provider,{value:t},r)}function xj(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let d=e,g=(i=n)==null?void 0:i.errors;if(g!=null){let w=d.findIndex(E=>E.route.id&&(g==null?void 0:g[E.route.id])!==void 0);w>=0||Vn(!1),d=d.slice(0,Math.min(d.length,w+1))}let x=!1,v=-1;if(n&&r&&r.v7_partialHydration)for(let w=0;w<d.length;w++){let E=d[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(v=w),E.route.id){let{loaderData:_,errors:k}=n,A=E.route.loader&&_[E.route.id]===void 0&&(!k||k[E.route.id]===void 0);if(E.route.lazy||A){x=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((w,E,_)=>{let k,A=!1,I=null,L=null;n&&(k=g&&E.route.id?g[E.route.id]:void 0,I=E.route.errorElement||pj,x&&(v<0&&_===0?(Ej("route-fallback",!1),A=!0,L=null):v===_&&(A=!0,L=E.route.hydrateFallbackElement||null)));let j=t.concat(d.slice(0,_+1)),D=()=>{let R;return k?R=I:A?R=L:E.route.Component?R=M.createElement(E.route.Component,null):E.route.element?R=E.route.element:R=w,M.createElement(gj,{match:E,routeContext:{outlet:w,matches:j,isDataRoute:n!=null},children:R})};return n&&(E.route.ErrorBoundary||E.route.errorElement||_===0)?M.createElement(mj,{location:n.location,revalidation:n.revalidation,component:I,error:k,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):D()},null)}var RC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(RC||{}),$0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($0||{});function vj(e){let t=M.useContext(Lx);return t||Vn(!1),t}function yj(e){let t=M.useContext(lj);return t||Vn(!1),t}function wj(e){let t=M.useContext(Ca);return t||Vn(!1),t}function OC(e){let t=wj(),n=t.matches[t.matches.length-1];return n.route.id||Vn(!1),n.route.id}function bj(){var e;let t=M.useContext(TC),n=yj($0.UseRouteError),r=OC($0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Cj(){let{router:e}=vj(RC.UseNavigateStable),t=OC($0.UseNavigateStable),n=M.useRef(!1);return DC(()=>{n.current=!0}),M.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,sd({fromRouteId:t},a)))},[e,t])}const _w={};function Ej(e,t,n){!t&&!_w[e]&&(_w[e]=!0)}function Nj(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function G0(e){let{to:t,replace:n,state:r,relative:i}=e;Tc()||Vn(!1);let{future:a,static:d}=M.useContext(go),{matches:g}=M.useContext(Ca),{pathname:x}=Dc(),v=fi(),w=Mx(t,Ox(g,a.v7_relativeSplatPath),x,i==="path"),E=JSON.stringify(w);return M.useEffect(()=>v(JSON.parse(E),{replace:n,state:r,relative:i}),[v,E,i,n,r]),null}function ms(e){Vn(!1)}function _j(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Xa.Pop,navigator:a,static:d=!1,future:g}=e;Tc()&&Vn(!1);let x=t.replace(/^\/*/,"/"),v=M.useMemo(()=>({basename:x,navigator:a,static:d,future:sd({v7_relativeSplatPath:!1},g)}),[x,g,a,d]);typeof r=="string"&&(r=kc(r));let{pathname:w="/",search:E="",hash:_="",state:k=null,key:A="default"}=r,I=M.useMemo(()=>{let L=Rx(w,x);return L==null?null:{location:{pathname:L,search:E,hash:_,state:k,key:A},navigationType:i}},[x,w,E,_,k,A,i]);return I==null?null:M.createElement(go.Provider,{value:v},M.createElement(Bh.Provider,{children:n,value:I}))}function Sj(e){let{children:t,location:n}=e;return dj(eg(t),n)}new Promise(()=>{});function eg(e,t){t===void 0&&(t=[]);let n=[];return M.Children.forEach(e,(r,i)=>{if(!M.isValidElement(r))return;let a=[...t,i];if(r.type===M.Fragment){n.push.apply(n,eg(r.props.children,a));return}r.type!==ms&&Vn(!1),!r.props.index||!r.props.children||Vn(!1);let d={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=eg(r.props.children,a)),n.push(d)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tg.apply(this,arguments)}function Aj(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function kj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tj(e,t){return e.button===0&&(!t||t==="_self")&&!kj(e)}const Dj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jj="6";try{window.__reactRouterVersion=jj}catch{}const Ij="startTransition",Sw=zg[Ij];function Rj(e){let{basename:t,children:n,future:r,window:i}=e,a=M.useRef();a.current==null&&(a.current=PD({window:i,v5Compat:!0}));let d=a.current,[g,x]=M.useState({action:d.action,location:d.location}),{v7_startTransition:v}=r||{},w=M.useCallback(E=>{v&&Sw?Sw(()=>x(E)):x(E)},[x,v]);return M.useLayoutEffect(()=>d.listen(w),[d,w]),M.useEffect(()=>Nj(r),[r]),M.createElement(_j,{basename:t,children:n,location:g.location,navigationType:g.action,navigator:d,future:r})}const Oj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ln=M.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:d,state:g,target:x,to:v,preventScrollReset:w,viewTransition:E}=t,_=Aj(t,Dj),{basename:k}=M.useContext(go),A,I=!1;if(typeof v=="string"&&Mj.test(v)&&(A=v,Oj))try{let R=new URL(window.location.href),W=v.startsWith("//")?new URL(R.protocol+v):new URL(v),Z=Rx(W.pathname,k);W.origin===R.origin&&Z!=null?v=Z+W.search+W.hash:I=!0}catch{}let L=cj(v,{relative:i}),j=Lj(v,{replace:d,state:g,target:x,preventScrollReset:w,relative:i,viewTransition:E});function D(R){r&&r(R),R.defaultPrevented||j(R)}return M.createElement("a",tg({},_,{href:A||L,onClick:I||a?r:D,ref:n,target:x}))});var Aw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Aw||(Aw={}));var kw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(kw||(kw={}));function Lj(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:d,viewTransition:g}=t===void 0?{}:t,x=fi(),v=Dc(),w=IC(e,{relative:d});return M.useCallback(E=>{if(Tj(E,n)){E.preventDefault();let _=r!==void 0?r:Y0(v)===Y0(w);x(e,{replace:_,state:i,preventScrollReset:a,relative:d,viewTransition:g})}},[v,x,w,r,i,n,e,a,d,g])}class jc{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const n={listener:t};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const id=typeof window>"u"||"Deno"in window;function Fs(){}function Pj(e,t){return typeof e=="function"?e(t):e}function ng(e){return typeof e=="number"&&e>=0&&e!==1/0}function MC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Kl(e,t,n){return vd(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function Fj(e,t,n){return vd(e)?typeof t=="function"?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function Ha(e,t,n){return vd(e)?[{...t,queryKey:e},n]:[e||{},t]}function Tw(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:d,stale:g}=e;if(vd(d)){if(r){if(t.queryHash!==Px(d,t.options))return!1}else if(!X0(t.queryKey,d))return!1}if(n!=="all"){const x=t.isActive();if(n==="active"&&!x||n==="inactive"&&x)return!1}return!(typeof g=="boolean"&&t.isStale()!==g||typeof i<"u"&&i!==t.state.fetchStatus||a&&!a(t))}function Dw(e,t){const{exact:n,fetching:r,predicate:i,mutationKey:a}=e;if(vd(a)){if(!t.options.mutationKey)return!1;if(n){if(Xo(t.options.mutationKey)!==Xo(a))return!1}else if(!X0(t.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function Px(e,t){return((t==null?void 0:t.queryKeyHashFn)||Xo)(e)}function Xo(e){return JSON.stringify(e,(t,n)=>rg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function X0(e,t){return LC(e,t)}function LC(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!LC(e[n],t[n])):!1}function PC(e,t){if(e===t)return e;const n=jw(e)&&jw(t);if(n||rg(e)&&rg(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,d=n?[]:{};let g=0;for(let x=0;x<a;x++){const v=n?x:i[x];d[v]=PC(e[v],t[v]),d[v]===e[v]&&g++}return r===a&&g===r?e:d}return t}function Q0(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function jw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function rg(e){if(!Iw(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Iw(n)||!n.hasOwnProperty("isPrototypeOf"))}function Iw(e){return Object.prototype.toString.call(e)==="[object Object]"}function vd(e){return Array.isArray(e)}function FC(e){return new Promise(t=>{setTimeout(t,e)})}function Rw(e){FC(0).then(e)}function Bj(){if(typeof AbortController=="function")return new AbortController}function sg(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?PC(e,t):t}class Uj extends jc{constructor(){super(),this.setup=t=>{if(!id&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const K0=new Uj,Ow=["online","offline"];class zj extends jc{constructor(){super(),this.setup=t=>{if(!id&&window.addEventListener){const n=()=>t();return Ow.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{Ow.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Z0=new zj;function Wj(e){return Math.min(1e3*2**e,3e4)}function Uh(e){return(e??"online")==="online"?Z0.isOnline():!0}class BC{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function u0(e){return e instanceof BC}function UC(e){let t=!1,n=0,r=!1,i,a,d;const g=new Promise((L,j)=>{a=L,d=j}),x=L=>{r||(k(new BC(L)),e.abort==null||e.abort())},v=()=>{t=!0},w=()=>{t=!1},E=()=>!K0.isFocused()||e.networkMode!=="always"&&!Z0.isOnline(),_=L=>{r||(r=!0,e.onSuccess==null||e.onSuccess(L),i==null||i(),a(L))},k=L=>{r||(r=!0,e.onError==null||e.onError(L),i==null||i(),d(L))},A=()=>new Promise(L=>{i=j=>{const D=r||!E();return D&&L(j),D},e.onPause==null||e.onPause()}).then(()=>{i=void 0,r||e.onContinue==null||e.onContinue()}),I=()=>{if(r)return;let L;try{L=e.fn()}catch(j){L=Promise.reject(j)}Promise.resolve(L).then(_).catch(j=>{var D,R;if(r)return;const W=(D=e.retry)!=null?D:3,Z=(R=e.retryDelay)!=null?R:Wj,U=typeof Z=="function"?Z(n,j):Z,O=W===!0||typeof W=="number"&&n<W||typeof W=="function"&&W(n,j);if(t||!O){k(j);return}n++,e.onFail==null||e.onFail(n,j),FC(U).then(()=>{if(E())return A()}).then(()=>{t?k(j):I()})})};return Uh(e.networkMode)?I():A().then(I),{promise:g,cancel:x,continue:()=>(i==null?void 0:i())?g:Promise.resolve(),cancelRetry:v,continueRetry:w}}const Fx=console;function Hj(){let e=[],t=0,n=w=>{w()},r=w=>{w()};const i=w=>{let E;t++;try{E=w()}finally{t--,t||g()}return E},a=w=>{t?e.push(w):Rw(()=>{n(w)})},d=w=>(...E)=>{a(()=>{w(...E)})},g=()=>{const w=e;e=[],w.length&&Rw(()=>{r(()=>{w.forEach(E=>{n(E)})})})};return{batch:i,batchCalls:d,schedule:a,setNotifyFunction:w=>{n=w},setBatchNotifyFunction:w=>{r=w}}}const Pn=Hj();class zC{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ng(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(id?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class qj extends zC{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||Fx,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||Vj(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=sg(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(Fs).catch(Fs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!MC(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const k=this.observers.find(A=>A.options.queryFn);k&&this.setOptions(k.options)}const d=Bj(),g={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},x=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{if(d)return this.abortSignalConsumed=!0,d.signal}})};x(g);const v=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(g)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),w={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:v};if(x(w),(r=this.options.behavior)==null||r.onFetch(w),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=w.fetchOptions)==null?void 0:i.meta)){var E;this.dispatch({type:"fetch",meta:(E=w.fetchOptions)==null?void 0:E.meta})}const _=k=>{if(u0(k)&&k.silent||this.dispatch({type:"error",error:k}),!u0(k)){var A,I,L,j;(A=(I=this.cache.config).onError)==null||A.call(I,k,this),(L=(j=this.cache.config).onSettled)==null||L.call(j,this.state.data,k,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=UC({fn:w.fetchFn,abort:d==null?void 0:d.abort.bind(d),onSuccess:k=>{var A,I,L,j;if(typeof k>"u"){_(new Error(this.queryHash+" data is undefined"));return}this.setData(k),(A=(I=this.cache.config).onSuccess)==null||A.call(I,k,this),(L=(j=this.cache.config).onSettled)==null||L.call(j,k,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:_,onFail:(k,A)=>{this.dispatch({type:"failed",failureCount:k,error:A})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:w.options.retry,retryDelay:w.options.retryDelay,networkMode:w.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var i,a;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:Uh(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=t.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const d=t.error;return u0(d)&&d.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:d,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Pn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function Vj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class Yj extends jc{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var i;const a=n.queryKey,d=(i=n.queryHash)!=null?i:Px(a,n);let g=this.get(d);return g||(g=new qj({cache:this,logger:t.getLogger(),queryKey:a,queryHash:d,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(g)),g}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){Pn.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=Ha(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>Tw(r,i))}findAll(t,n){const[r]=Ha(t,n);return Object.keys(r).length>0?this.queries.filter(i=>Tw(r,i)):this.queries}notify(t){Pn.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}onFocus(){Pn.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){Pn.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class $j extends zC{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||Fx,this.observers=[],this.state=t.state||WC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var O;return this.retryer=UC({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(V,Y)=>{this.dispatch({type:"failed",failureCount:V,error:Y})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(O=this.options.retry)!=null?O:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,a,d,g,x,v,w;if(!n){var E,_,k,A;this.dispatch({type:"loading",variables:this.options.variables}),await((E=(_=this.mutationCache.config).onMutate)==null?void 0:E.call(_,this.state.variables,this));const V=await((k=(A=this.options).onMutate)==null?void 0:k.call(A,this.state.variables));V!==this.state.context&&this.dispatch({type:"loading",context:V,variables:this.state.variables})}const O=await t();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,O,this.state.variables,this.state.context,this)),await((a=(d=this.options).onSuccess)==null?void 0:a.call(d,O,this.state.variables,this.state.context)),await((g=(x=this.mutationCache.config).onSettled)==null?void 0:g.call(x,O,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,O,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:O}),O}catch(O){try{var I,L,j,D,R,W,Z,U;throw await((I=(L=this.mutationCache.config).onError)==null?void 0:I.call(L,O,this.state.variables,this.state.context,this)),await((j=(D=this.options).onError)==null?void 0:j.call(D,O,this.state.variables,this.state.context)),await((R=(W=this.mutationCache.config).onSettled)==null?void 0:R.call(W,void 0,O,this.state.variables,this.state.context,this)),await((Z=(U=this.options).onSettled)==null?void 0:Z.call(U,void 0,O,this.state.variables,this.state.context)),O}finally{this.dispatch({type:"error",error:O})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Uh(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),Pn.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function WC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Gj extends jc{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const i=new $j({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){Pn.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>Dw(t,n))}findAll(t){return this.mutations.filter(n=>Dw(t,n))}notify(t){Pn.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return Pn.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Fs)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function ig(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,i,a,d;const g=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,x=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,v=x==null?void 0:x.pageParam,w=(x==null?void 0:x.direction)==="forward",E=(x==null?void 0:x.direction)==="backward",_=((a=e.state.data)==null?void 0:a.pages)||[],k=((d=e.state.data)==null?void 0:d.pageParams)||[];let A=k,I=!1;const L=U=>{Object.defineProperty(U,"signal",{enumerable:!0,get:()=>{var O;if((O=e.signal)!=null&&O.aborted)I=!0;else{var V;(V=e.signal)==null||V.addEventListener("abort",()=>{I=!0})}return e.signal}})},j=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),D=(U,O,V,Y)=>(A=Y?[O,...A]:[...A,O],Y?[V,...U]:[...U,V]),R=(U,O,V,Y)=>{if(I)return Promise.reject("Cancelled");if(typeof V>"u"&&!O&&U.length)return Promise.resolve(U);const ee={queryKey:e.queryKey,pageParam:V,meta:e.options.meta};L(ee);const de=j(ee);return Promise.resolve(de).then(le=>D(U,V,le,Y))};let W;if(!_.length)W=R([]);else if(w){const U=typeof v<"u",O=U?v:ag(e.options,_);W=R(_,U,O)}else if(E){const U=typeof v<"u",O=U?v:HC(e.options,_);W=R(_,U,O,!0)}else{A=[];const U=typeof e.options.getNextPageParam>"u";W=(g&&_[0]?g(_[0],0,_):!0)?R([],U,k[0]):Promise.resolve(D([],k[0],_[0]));for(let V=1;V<_.length;V++)W=W.then(Y=>{if(g&&_[V]?g(_[V],V,_):!0){const de=U?k[V]:ag(e.options,Y);return R(Y,U,de)}return Promise.resolve(D(Y,k[V],_[V]))})}return W.then(U=>({pages:U,pageParams:A}))}}}}function ag(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function HC(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}function Xj(e,t){if(e.getNextPageParam&&Array.isArray(t)){const n=ag(e,t);return typeof n<"u"&&n!==null&&n!==!1}}function Qj(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){const n=HC(e,t);return typeof n<"u"&&n!==null&&n!==!1}}class Kj{constructor(t={}){this.queryCache=t.queryCache||new Yj,this.mutationCache=t.mutationCache||new Gj,this.logger=t.logger||Fx,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=K0.subscribe(()=>{K0.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Z0.subscribe(()=>{Z0.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=Ha(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const i=Kl(t,n,r),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.queryCache.find(t),a=i==null?void 0:i.state.data,d=Pj(n,a);if(typeof d>"u")return;const g=Kl(t),x=this.defaultQueryOptions(g);return this.queryCache.build(this,x).setData(d,{...r,manual:!0})}setQueriesData(t,n,r){return Pn.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=Ha(t,n),i=this.queryCache;Pn.batch(()=>{i.findAll(r).forEach(a=>{i.remove(a)})})}resetQueries(t,n,r){const[i,a]=Ha(t,n,r),d=this.queryCache,g={type:"active",...i};return Pn.batch(()=>(d.findAll(i).forEach(x=>{x.reset()}),this.refetchQueries(g,a)))}cancelQueries(t,n,r){const[i,a={}]=Ha(t,n,r);typeof a.revert>"u"&&(a.revert=!0);const d=Pn.batch(()=>this.queryCache.findAll(i).map(g=>g.cancel(a)));return Promise.all(d).then(Fs).catch(Fs)}invalidateQueries(t,n,r){const[i,a]=Ha(t,n,r);return Pn.batch(()=>{var d,g;if(this.queryCache.findAll(i).forEach(v=>{v.invalidate()}),i.refetchType==="none")return Promise.resolve();const x={...i,type:(d=(g=i.refetchType)!=null?g:i.type)!=null?d:"active"};return this.refetchQueries(x,a)})}refetchQueries(t,n,r){const[i,a]=Ha(t,n,r),d=Pn.batch(()=>this.queryCache.findAll(i).filter(x=>!x.isDisabled()).map(x=>{var v;return x.fetch(void 0,{...a,cancelRefetch:(v=a==null?void 0:a.cancelRefetch)!=null?v:!0,meta:{refetchPage:i.refetchPage}})}));let g=Promise.all(d).then(Fs);return a!=null&&a.throwOnError||(g=g.catch(Fs)),g}fetchQuery(t,n,r){const i=Kl(t,n,r),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const d=this.queryCache.build(this,a);return d.isStaleByTime(a.staleTime)?d.fetch(a):Promise.resolve(d.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(Fs).catch(Fs)}fetchInfiniteQuery(t,n,r){const i=Kl(t,n,r);return i.behavior=ig(),this.fetchQuery(i)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(Fs).catch(Fs)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(i=>Xo(t)===Xo(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>X0(t,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(i=>Xo(t)===Xo(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>X0(t,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Px(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class qC extends jc{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Mw(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return og(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return og(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),Q0(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&Lw(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const d=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t),r=this.createResult(n,t);return Jj(this,r,t)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Fs)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),id||this.currentResult.isStale||!ng(this.options.staleTime))return;const n=MC(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(id||this.options.enabled===!1||!ng(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||K0.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const r=this.currentQuery,i=this.options,a=this.currentResult,d=this.currentResultState,g=this.currentResultOptions,x=t!==r,v=x?t.state:this.currentQueryInitialState,w=x?this.currentResult:this.previousQueryResult,{state:E}=t;let{dataUpdatedAt:_,error:k,errorUpdatedAt:A,fetchStatus:I,status:L}=E,j=!1,D=!1,R;if(n._optimisticResults){const V=this.hasListeners(),Y=!V&&Mw(t,n),ee=V&&Lw(t,r,n,i);(Y||ee)&&(I=Uh(t.options.networkMode)?"fetching":"paused",_||(L="loading")),n._optimisticResults==="isRestoring"&&(I="idle")}if(n.keepPreviousData&&!E.dataUpdatedAt&&w!=null&&w.isSuccess&&L!=="error")R=w.data,_=w.dataUpdatedAt,L=w.status,j=!0;else if(n.select&&typeof E.data<"u")if(a&&E.data===(d==null?void 0:d.data)&&n.select===this.selectFn)R=this.selectResult;else try{this.selectFn=n.select,R=n.select(E.data),R=sg(a==null?void 0:a.data,R,n),this.selectResult=R,this.selectError=null}catch(V){this.selectError=V}else R=E.data;if(typeof n.placeholderData<"u"&&typeof R>"u"&&L==="loading"){let V;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(g==null?void 0:g.placeholderData))V=a.data;else if(V=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof V<"u")try{V=n.select(V),this.selectError=null}catch(Y){this.selectError=Y}typeof V<"u"&&(L="success",R=sg(a==null?void 0:a.data,V,n),D=!0)}this.selectError&&(k=this.selectError,R=this.selectResult,A=Date.now(),L="error");const W=I==="fetching",Z=L==="loading",U=L==="error";return{status:L,fetchStatus:I,isLoading:Z,isSuccess:L==="success",isError:U,isInitialLoading:Z&&W,data:R,dataUpdatedAt:_,error:k,errorUpdatedAt:A,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>v.dataUpdateCount||E.errorUpdateCount>v.errorUpdateCount,isFetching:W,isRefetching:W&&!Z,isLoadingError:U&&E.dataUpdatedAt===0,isPaused:I==="paused",isPlaceholderData:D,isPreviousData:j,isRefetchError:U&&E.dataUpdatedAt!==0,isStale:Bx(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Q0(r,n))return;this.currentResult=r;const i={cache:!0},a=()=>{if(!n)return!0;const{notifyOnChangeProps:d}=this.options,g=typeof d=="function"?d():d;if(g==="all"||!g&&!this.trackedProps.size)return!0;const x=new Set(g??this.trackedProps);return this.options.useErrorBoundary&&x.add("error"),Object.keys(this.currentResult).some(v=>{const w=v;return this.currentResult[w]!==n[w]&&x.has(w)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!u0(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){Pn.batch(()=>{if(t.onSuccess){var n,r,i,a;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(t.onError){var d,g,x,v;(d=(g=this.options).onError)==null||d.call(g,this.currentResult.error),(x=(v=this.options).onSettled)==null||x.call(v,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(({listener:w})=>{w(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Zj(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Mw(e,t){return Zj(e,t)||e.state.dataUpdatedAt>0&&og(e,t,t.refetchOnMount)}function og(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Bx(e,t)}return!1}function Lw(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&Bx(e,n)}function Bx(e,t){return e.isStaleByTime(t.staleTime)}function Jj(e,t,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?t.isPlaceholderData:!Q0(e.getCurrentResult(),t)}class e7 extends qC{constructor(t,n){super(t,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,n){super.setOptions({...t,behavior:ig()},n)}getOptimisticResult(t){return t.behavior=ig(),super.getOptimisticResult(t)}fetchNextPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"forward",pageParam:t}}})}fetchPreviousPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"backward",pageParam:t}}})}createResult(t,n){var r,i,a,d,g,x;const{state:v}=t,w=super.createResult(t,n),{isFetching:E,isRefetching:_}=w,k=E&&((r=v.fetchMeta)==null||(i=r.fetchMore)==null?void 0:i.direction)==="forward",A=E&&((a=v.fetchMeta)==null||(d=a.fetchMore)==null?void 0:d.direction)==="backward";return{...w,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Xj(n,(g=v.data)==null?void 0:g.pages),hasPreviousPage:Qj(n,(x=v.data)==null?void 0:x.pages),isFetchingNextPage:k,isFetchingPreviousPage:A,isRefetching:_&&!k&&!A}}}let t7=class extends jc{constructor(t,n){super(),this.client=t,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=this.client.defaultMutationOptions(t),Q0(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const n={listeners:!0};t.type==="success"?n.onSuccess=!0:t.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:WC(),n={...t,isLoading:t.status==="loading",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(t){Pn.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var n,r,i,a;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(a=this.mutateOptions).onSettled)==null||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var d,g,x,v;(d=(g=this.mutateOptions).onError)==null||d.call(g,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(x=(v=this.mutateOptions).onSettled)==null||x.call(v,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(({listener:w})=>{w(this.currentResult)})})}};var VC={exports:{}},YC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=M;function n7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var r7=typeof Object.is=="function"?Object.is:n7,s7=mc.useState,i7=mc.useEffect,a7=mc.useLayoutEffect,o7=mc.useDebugValue;function l7(e,t){var n=t(),r=s7({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return a7(function(){i.value=n,i.getSnapshot=t,W1(i)&&a({inst:i})},[e,n,t]),i7(function(){return W1(i)&&a({inst:i}),e(function(){W1(i)&&a({inst:i})})},[e]),o7(n),n}function W1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r7(e,n)}catch{return!0}}function c7(e,t){return t()}var u7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c7:l7;YC.useSyncExternalStore=mc.useSyncExternalStore!==void 0?mc.useSyncExternalStore:u7;VC.exports=YC;var d7=VC.exports;const $C=d7.useSyncExternalStore,Pw=M.createContext(void 0),GC=M.createContext(!1);function XC(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Pw),window.ReactQueryClientContext):Pw)}const Kn=({context:e}={})=>{const t=M.useContext(XC(e,M.useContext(GC)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},f7=({client:e,children:t,context:n,contextSharing:r=!1})=>{M.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=XC(n,r);return M.createElement(GC.Provider,{value:!n&&r},M.createElement(i.Provider,{value:e},t))},QC=M.createContext(!1),h7=()=>M.useContext(QC);QC.Provider;function p7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const m7=M.createContext(p7()),g7=()=>M.useContext(m7);function KC(e,t){return typeof e=="function"?e(...t):!!e}const x7=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},v7=e=>{M.useEffect(()=>{e.clearReset()},[e])},y7=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&KC(n,[e.error,r]),w7=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},b7=(e,t)=>e.isLoading&&e.isFetching&&!t,C7=(e,t,n)=>(e==null?void 0:e.suspense)&&b7(t,n),E7=(e,t,n)=>t.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{n.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function ZC(e,t){const n=Kn({context:e.context}),r=h7(),i=g7(),a=n.defaultQueryOptions(e);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=Pn.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Pn.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Pn.batchCalls(a.onSettled)),w7(a),x7(a,i),v7(i);const[d]=M.useState(()=>new t(n,a)),g=d.getOptimisticResult(a);if($C(M.useCallback(x=>{const v=r?()=>{}:d.subscribe(Pn.batchCalls(x));return d.updateResult(),v},[d,r]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),M.useEffect(()=>{d.setOptions(a,{listeners:!1})},[a,d]),C7(a,g,r))throw E7(a,d,i);if(y7({result:g,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:d.getCurrentQuery()}))throw g.error;return a.notifyOnChangeProps?g:d.trackResult(g)}function Et(e,t,n){const r=Kl(e,t,n);return ZC(r,qC)}function Yn(e,t,n){const r=Fj(e,t,n),i=Kn({context:r.context}),[a]=M.useState(()=>new t7(i,r));M.useEffect(()=>{a.setOptions(r)},[a,r]);const d=$C(M.useCallback(x=>a.subscribe(Pn.batchCalls(x)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),g=M.useCallback((x,v)=>{a.mutate(x,v).catch(N7)},[a]);if(d.error&&KC(a.options.useErrorBoundary,[d.error]))throw d.error;return{...d,mutate:g,mutateAsync:d.mutate}}function N7(){}function Ux(e,t,n){const r=Kl(e,t,n);return ZC(r,e7)}function JC(e,t){return function(){return e.apply(t,arguments)}}const{toString:_7}=Object.prototype,{getPrototypeOf:zx}=Object,{iterator:zh,toStringTag:eE}=Symbol,Wh=(e=>t=>{const n=_7.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hi=e=>(e=e.toLowerCase(),t=>Wh(t)===e),Hh=e=>t=>typeof t===e,{isArray:Ic}=Array,ad=Hh("undefined");function S7(e){return e!==null&&!ad(e)&&e.constructor!==null&&!ad(e.constructor)&&ss(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const tE=hi("ArrayBuffer");function A7(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&tE(e.buffer),t}const k7=Hh("string"),ss=Hh("function"),nE=Hh("number"),qh=e=>e!==null&&typeof e=="object",T7=e=>e===!0||e===!1,d0=e=>{if(Wh(e)!=="object")return!1;const t=zx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(eE in e)&&!(zh in e)},D7=hi("Date"),j7=hi("File"),I7=hi("Blob"),R7=hi("FileList"),O7=e=>qh(e)&&ss(e.pipe),M7=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ss(e.append)&&((t=Wh(e))==="formdata"||t==="object"&&ss(e.toString)&&e.toString()==="[object FormData]"))},L7=hi("URLSearchParams"),[P7,F7,B7,U7]=["ReadableStream","Request","Response","Headers"].map(hi),z7=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yd(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Ic(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),d=a.length;let g;for(r=0;r<d;r++)g=a[r],t.call(null,e[g],g,e)}}function rE(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Qo=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),sE=e=>!ad(e)&&e!==Qo;function lg(){const{caseless:e}=sE(this)&&this||{},t={},n=(r,i)=>{const a=e&&rE(t,i)||i;d0(t[a])&&d0(r)?t[a]=lg(t[a],r):d0(r)?t[a]=lg({},r):Ic(r)?t[a]=r.slice():t[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&yd(arguments[r],n);return t}const W7=(e,t,n,{allOwnKeys:r}={})=>(yd(t,(i,a)=>{n&&ss(i)?e[a]=JC(i,n):e[a]=i},{allOwnKeys:r}),e),H7=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),q7=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},V7=(e,t,n,r)=>{let i,a,d;const g={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)d=i[a],(!r||r(d,e,t))&&!g[d]&&(t[d]=e[d],g[d]=!0);e=n!==!1&&zx(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Y7=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},$7=e=>{if(!e)return null;if(Ic(e))return e;let t=e.length;if(!nE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},G7=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zx(Uint8Array)),X7=(e,t)=>{const r=(e&&e[zh]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},Q7=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},K7=hi("HTMLFormElement"),Z7=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Fw=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),J7=hi("RegExp"),iE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};yd(n,(i,a)=>{let d;(d=t(i,a,e))!==!1&&(r[a]=d||i)}),Object.defineProperties(e,r)},eI=e=>{iE(e,(t,n)=>{if(ss(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ss(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},tI=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Ic(e)?r(e):r(String(e).split(t)),n},nI=()=>{},rI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function sI(e){return!!(e&&ss(e.append)&&e[eE]==="FormData"&&e[zh])}const iI=e=>{const t=new Array(10),n=(r,i)=>{if(qh(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const a=Ic(r)?[]:{};return yd(r,(d,g)=>{const x=n(d,i+1);!ad(x)&&(a[g]=x)}),t[i]=void 0,a}}return r};return n(e,0)},aI=hi("AsyncFunction"),oI=e=>e&&(qh(e)||ss(e))&&ss(e.then)&&ss(e.catch),aE=((e,t)=>e?setImmediate:t?((n,r)=>(Qo.addEventListener("message",({source:i,data:a})=>{i===Qo&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Qo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ss(Qo.postMessage)),lI=typeof queueMicrotask<"u"?queueMicrotask.bind(Qo):typeof process<"u"&&process.nextTick||aE,cI=e=>e!=null&&ss(e[zh]),pe={isArray:Ic,isArrayBuffer:tE,isBuffer:S7,isFormData:M7,isArrayBufferView:A7,isString:k7,isNumber:nE,isBoolean:T7,isObject:qh,isPlainObject:d0,isReadableStream:P7,isRequest:F7,isResponse:B7,isHeaders:U7,isUndefined:ad,isDate:D7,isFile:j7,isBlob:I7,isRegExp:J7,isFunction:ss,isStream:O7,isURLSearchParams:L7,isTypedArray:G7,isFileList:R7,forEach:yd,merge:lg,extend:W7,trim:z7,stripBOM:H7,inherits:q7,toFlatObject:V7,kindOf:Wh,kindOfTest:hi,endsWith:Y7,toArray:$7,forEachEntry:X7,matchAll:Q7,isHTMLForm:K7,hasOwnProperty:Fw,hasOwnProp:Fw,reduceDescriptors:iE,freezeMethods:eI,toObjectSet:tI,toCamelCase:Z7,noop:nI,toFiniteNumber:rI,findKey:rE,global:Qo,isContextDefined:sE,isSpecCompliantForm:sI,toJSONObject:iI,isAsyncFn:aI,isThenable:oI,setImmediate:aE,asap:lI,isIterable:cI};function xt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}pe.inherits(xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const oE=xt.prototype,lE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{lE[e]={value:e}});Object.defineProperties(xt,lE);Object.defineProperty(oE,"isAxiosError",{value:!0});xt.from=(e,t,n,r,i,a)=>{const d=Object.create(oE);return pe.toFlatObject(e,d,function(x){return x!==Error.prototype},g=>g!=="isAxiosError"),xt.call(d,e.message,t,n,r,i),d.cause=e,d.name=e.name,a&&Object.assign(d,a),d};const uI=null;function cg(e){return pe.isPlainObject(e)||pe.isArray(e)}function cE(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function Bw(e,t,n){return e?e.concat(t).map(function(i,a){return i=cE(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function dI(e){return pe.isArray(e)&&!e.some(cg)}const fI=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function Vh(e,t,n){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,L){return!pe.isUndefined(L[I])});const r=n.metaTokens,i=n.visitor||w,a=n.dots,d=n.indexes,x=(n.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(i))throw new TypeError("visitor must be a function");function v(A){if(A===null)return"";if(pe.isDate(A))return A.toISOString();if(!x&&pe.isBlob(A))throw new xt("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(A)||pe.isTypedArray(A)?x&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function w(A,I,L){let j=A;if(A&&!L&&typeof A=="object"){if(pe.endsWith(I,"{}"))I=r?I:I.slice(0,-2),A=JSON.stringify(A);else if(pe.isArray(A)&&dI(A)||(pe.isFileList(A)||pe.endsWith(I,"[]"))&&(j=pe.toArray(A)))return I=cE(I),j.forEach(function(R,W){!(pe.isUndefined(R)||R===null)&&t.append(d===!0?Bw([I],W,a):d===null?I:I+"[]",v(R))}),!1}return cg(A)?!0:(t.append(Bw(L,I,a),v(A)),!1)}const E=[],_=Object.assign(fI,{defaultVisitor:w,convertValue:v,isVisitable:cg});function k(A,I){if(!pe.isUndefined(A)){if(E.indexOf(A)!==-1)throw Error("Circular reference detected in "+I.join("."));E.push(A),pe.forEach(A,function(j,D){(!(pe.isUndefined(j)||j===null)&&i.call(t,j,pe.isString(D)?D.trim():D,I,_))===!0&&k(j,I?I.concat(D):[D])}),E.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return k(e),t}function Uw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Wx(e,t){this._pairs=[],e&&Vh(e,this,t)}const uE=Wx.prototype;uE.append=function(t,n){this._pairs.push([t,n])};uE.toString=function(t){const n=t?function(r){return t.call(this,r,Uw)}:Uw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function hI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dE(e,t,n){if(!t)return e;const r=n&&n.encode||hI;pe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=pe.isURLSearchParams(t)?t.toString():new Wx(t,n).toString(r),a){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class pI{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const zw=pI,fE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mI=typeof URLSearchParams<"u"?URLSearchParams:Wx,gI=typeof FormData<"u"?FormData:null,xI=typeof Blob<"u"?Blob:null,vI={isBrowser:!0,classes:{URLSearchParams:mI,FormData:gI,Blob:xI},protocols:["http","https","file","blob","url","data"]},Hx=typeof window<"u"&&typeof document<"u",ug=typeof navigator=="object"&&navigator||void 0,yI=Hx&&(!ug||["ReactNative","NativeScript","NS"].indexOf(ug.product)<0),wI=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),bI=Hx&&window.location.href||"http://localhost",CI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hx,hasStandardBrowserEnv:yI,hasStandardBrowserWebWorkerEnv:wI,navigator:ug,origin:bI},Symbol.toStringTag,{value:"Module"})),jr={...CI,...vI};function EI(e,t){return Vh(e,new jr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,a){return jr.isNode&&pe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function NI(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function _I(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function hE(e){function t(n,r,i,a){let d=n[a++];if(d==="__proto__")return!0;const g=Number.isFinite(+d),x=a>=n.length;return d=!d&&pe.isArray(i)?i.length:d,x?(pe.hasOwnProp(i,d)?i[d]=[i[d],r]:i[d]=r,!g):((!i[d]||!pe.isObject(i[d]))&&(i[d]=[]),t(n,r,i[d],a)&&pe.isArray(i[d])&&(i[d]=_I(i[d])),!g)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const n={};return pe.forEachEntry(e,(r,i)=>{t(NI(r),i,n,0)}),n}return null}function SI(e,t,n){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const qx={transitional:fE,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=pe.isObject(t);if(a&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return i?JSON.stringify(hE(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)||pe.isReadableStream(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return EI(t,this.formSerializer).toString();if((g=pe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return Vh(g?{"files[]":t}:t,x&&new x,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),SI(t)):t}],transformResponse:[function(t){const n=this.transitional||qx.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(pe.isResponse(t)||pe.isReadableStream(t))return t;if(t&&pe.isString(t)&&(r&&!this.responseType||i)){const d=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(g){if(d)throw g.name==="SyntaxError"?xt.from(g,xt.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jr.classes.FormData,Blob:jr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{qx.headers[e]={}});const Vx=qx,AI=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kI=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(d){i=d.indexOf(":"),n=d.substring(0,i).trim().toLowerCase(),r=d.substring(i+1).trim(),!(!n||t[n]&&AI[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Ww=Symbol("internals");function yu(e){return e&&String(e).trim().toLowerCase()}function f0(e){return e===!1||e==null?e:pe.isArray(e)?e.map(f0):String(e)}function TI(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const DI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function H1(e,t,n,r,i){if(pe.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!pe.isString(t)){if(pe.isString(r))return t.indexOf(r)!==-1;if(pe.isRegExp(r))return r.test(t)}}function jI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function II(e,t){const n=pe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,d){return this[r].call(this,t,i,a,d)},configurable:!0})})}class Yh{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(g,x,v){const w=yu(x);if(!w)throw new Error("header name must be a non-empty string");const E=pe.findKey(i,w);(!E||i[E]===void 0||v===!0||v===void 0&&i[E]!==!1)&&(i[E||x]=f0(g))}const d=(g,x)=>pe.forEach(g,(v,w)=>a(v,w,x));if(pe.isPlainObject(t)||t instanceof this.constructor)d(t,n);else if(pe.isString(t)&&(t=t.trim())&&!DI(t))d(kI(t),n);else if(pe.isObject(t)&&pe.isIterable(t)){let g={},x,v;for(const w of t){if(!pe.isArray(w))throw TypeError("Object iterator must return a key-value pair");g[v=w[0]]=(x=g[v])?pe.isArray(x)?[...x,w[1]]:[x,w[1]]:w[1]}d(g,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=yu(t),t){const r=pe.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return TI(i);if(pe.isFunction(n))return n.call(this,i,r);if(pe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=yu(t),t){const r=pe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||H1(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(d){if(d=yu(d),d){const g=pe.findKey(r,d);g&&(!n||H1(r,r[g],g,n))&&(delete r[g],i=!0)}}return pe.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||H1(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return pe.forEach(this,(i,a)=>{const d=pe.findKey(r,a);if(d){n[d]=f0(i),delete n[a];return}const g=t?jI(a):String(a).trim();g!==a&&delete n[a],n[g]=f0(i),r[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return pe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&pe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Ww]=this[Ww]={accessors:{}}).accessors,i=this.prototype;function a(d){const g=yu(d);r[g]||(II(i,d),r[g]=!0)}return pe.isArray(t)?t.forEach(a):a(t),this}}Yh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(Yh.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});pe.freezeMethods(Yh);const li=Yh;function q1(e,t){const n=this||Vx,r=t||n,i=li.from(r.headers);let a=r.data;return pe.forEach(e,function(g){a=g.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function pE(e){return!!(e&&e.__CANCEL__)}function Rc(e,t,n){xt.call(this,e??"canceled",xt.ERR_CANCELED,t,n),this.name="CanceledError"}pe.inherits(Rc,xt,{__CANCEL__:!0});function mE(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new xt("Request failed with status code "+n.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function RI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function OI(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,d;return t=t!==void 0?t:1e3,function(x){const v=Date.now(),w=r[a];d||(d=v),n[i]=x,r[i]=v;let E=a,_=0;for(;E!==i;)_+=n[E++],E=E%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),v-d<t)return;const k=w&&v-w;return k?Math.round(_*1e3/k):void 0}}function MI(e,t){let n=0,r=1e3/t,i,a;const d=(v,w=Date.now())=>{n=w,i=null,a&&(clearTimeout(a),a=null),e.apply(null,v)};return[(...v)=>{const w=Date.now(),E=w-n;E>=r?d(v,w):(i=v,a||(a=setTimeout(()=>{a=null,d(i)},r-E)))},()=>i&&d(i)]}const J0=(e,t,n=3)=>{let r=0;const i=OI(50,250);return MI(a=>{const d=a.loaded,g=a.lengthComputable?a.total:void 0,x=d-r,v=i(x),w=d<=g;r=d;const E={loaded:d,total:g,progress:g?d/g:void 0,bytes:x,rate:v||void 0,estimated:v&&g&&w?(g-d)/v:void 0,event:a,lengthComputable:g!=null,[t?"download":"upload"]:!0};e(E)},n)},Hw=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},qw=e=>(...t)=>pe.asap(()=>e(...t)),LI=jr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,jr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(jr.origin),jr.navigator&&/(msie|trident)/i.test(jr.navigator.userAgent)):()=>!0,PI=jr.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const d=[e+"="+encodeURIComponent(t)];pe.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),pe.isString(r)&&d.push("path="+r),pe.isString(i)&&d.push("domain="+i),a===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function FI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function BI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gE(e,t,n){let r=!FI(t);return e&&(r||n==!1)?BI(e,t):t}const Vw=e=>e instanceof li?{...e}:e;function ll(e,t){t=t||{};const n={};function r(v,w,E,_){return pe.isPlainObject(v)&&pe.isPlainObject(w)?pe.merge.call({caseless:_},v,w):pe.isPlainObject(w)?pe.merge({},w):pe.isArray(w)?w.slice():w}function i(v,w,E,_){if(pe.isUndefined(w)){if(!pe.isUndefined(v))return r(void 0,v,E,_)}else return r(v,w,E,_)}function a(v,w){if(!pe.isUndefined(w))return r(void 0,w)}function d(v,w){if(pe.isUndefined(w)){if(!pe.isUndefined(v))return r(void 0,v)}else return r(void 0,w)}function g(v,w,E){if(E in t)return r(v,w);if(E in e)return r(void 0,v)}const x={url:a,method:a,data:a,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:g,headers:(v,w,E)=>i(Vw(v),Vw(w),E,!0)};return pe.forEach(Object.keys(Object.assign({},e,t)),function(w){const E=x[w]||i,_=E(e[w],t[w],w);pe.isUndefined(_)&&E!==g||(n[w]=_)}),n}const xE=e=>{const t=ll({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:d,auth:g}=t;t.headers=d=li.from(d),t.url=dE(gE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),g&&d.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let x;if(pe.isFormData(n)){if(jr.hasStandardBrowserEnv||jr.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((x=d.getContentType())!==!1){const[v,...w]=x?x.split(";").map(E=>E.trim()).filter(Boolean):[];d.setContentType([v||"multipart/form-data",...w].join("; "))}}if(jr.hasStandardBrowserEnv&&(r&&pe.isFunction(r)&&(r=r(t)),r||r!==!1&&LI(t.url))){const v=i&&a&&PI.read(a);v&&d.set(i,v)}return t},UI=typeof XMLHttpRequest<"u",zI=UI&&function(e){return new Promise(function(n,r){const i=xE(e);let a=i.data;const d=li.from(i.headers).normalize();let{responseType:g,onUploadProgress:x,onDownloadProgress:v}=i,w,E,_,k,A;function I(){k&&k(),A&&A(),i.cancelToken&&i.cancelToken.unsubscribe(w),i.signal&&i.signal.removeEventListener("abort",w)}let L=new XMLHttpRequest;L.open(i.method.toUpperCase(),i.url,!0),L.timeout=i.timeout;function j(){if(!L)return;const R=li.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),Z={data:!g||g==="text"||g==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:R,config:e,request:L};mE(function(O){n(O),I()},function(O){r(O),I()},Z),L=null}"onloadend"in L?L.onloadend=j:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(j)},L.onabort=function(){L&&(r(new xt("Request aborted",xt.ECONNABORTED,e,L)),L=null)},L.onerror=function(){r(new xt("Network Error",xt.ERR_NETWORK,e,L)),L=null},L.ontimeout=function(){let W=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Z=i.transitional||fE;i.timeoutErrorMessage&&(W=i.timeoutErrorMessage),r(new xt(W,Z.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,e,L)),L=null},a===void 0&&d.setContentType(null),"setRequestHeader"in L&&pe.forEach(d.toJSON(),function(W,Z){L.setRequestHeader(Z,W)}),pe.isUndefined(i.withCredentials)||(L.withCredentials=!!i.withCredentials),g&&g!=="json"&&(L.responseType=i.responseType),v&&([_,A]=J0(v,!0),L.addEventListener("progress",_)),x&&L.upload&&([E,k]=J0(x),L.upload.addEventListener("progress",E),L.upload.addEventListener("loadend",k)),(i.cancelToken||i.signal)&&(w=R=>{L&&(r(!R||R.type?new Rc(null,e,L):R),L.abort(),L=null)},i.cancelToken&&i.cancelToken.subscribe(w),i.signal&&(i.signal.aborted?w():i.signal.addEventListener("abort",w)));const D=RI(i.url);if(D&&jr.protocols.indexOf(D)===-1){r(new xt("Unsupported protocol "+D+":",xt.ERR_BAD_REQUEST,e));return}L.send(a||null)})},WI=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const a=function(v){if(!i){i=!0,g();const w=v instanceof Error?v:this.reason;r.abort(w instanceof xt?w:new Rc(w instanceof Error?w.message:w))}};let d=t&&setTimeout(()=>{d=null,a(new xt(`timeout ${t} of ms exceeded`,xt.ETIMEDOUT))},t);const g=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(v=>{v.unsubscribe?v.unsubscribe(a):v.removeEventListener("abort",a)}),e=null)};e.forEach(v=>v.addEventListener("abort",a));const{signal:x}=r;return x.unsubscribe=()=>pe.asap(g),x}},HI=WI,qI=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},VI=async function*(e,t){for await(const n of YI(e))yield*qI(n,t)},YI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Yw=(e,t,n,r)=>{const i=VI(e,t);let a=0,d,g=x=>{d||(d=!0,r&&r(x))};return new ReadableStream({async pull(x){try{const{done:v,value:w}=await i.next();if(v){g(),x.close();return}let E=w.byteLength;if(n){let _=a+=E;n(_)}x.enqueue(new Uint8Array(w))}catch(v){throw g(v),v}},cancel(x){return g(x),i.return()}},{highWaterMark:2})},$h=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vE=$h&&typeof ReadableStream=="function",$I=$h&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),yE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},GI=vE&&yE(()=>{let e=!1;const t=new Request(jr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),$w=64*1024,dg=vE&&yE(()=>pe.isReadableStream(new Response("").body)),eh={stream:dg&&(e=>e.body)};$h&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!eh[t]&&(eh[t]=pe.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new xt(`Response type '${t}' is not supported`,xt.ERR_NOT_SUPPORT,r)})})})(new Response);const XI=async e=>{if(e==null)return 0;if(pe.isBlob(e))return e.size;if(pe.isSpecCompliantForm(e))return(await new Request(jr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(e)||pe.isArrayBuffer(e))return e.byteLength;if(pe.isURLSearchParams(e)&&(e=e+""),pe.isString(e))return(await $I(e)).byteLength},QI=async(e,t)=>{const n=pe.toFiniteNumber(e.getContentLength());return n??XI(t)},KI=$h&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:a,timeout:d,onDownloadProgress:g,onUploadProgress:x,responseType:v,headers:w,withCredentials:E="same-origin",fetchOptions:_}=xE(e);v=v?(v+"").toLowerCase():"text";let k=HI([i,a&&a.toAbortSignal()],d),A;const I=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let L;try{if(x&&GI&&n!=="get"&&n!=="head"&&(L=await QI(w,r))!==0){let Z=new Request(t,{method:"POST",body:r,duplex:"half"}),U;if(pe.isFormData(r)&&(U=Z.headers.get("content-type"))&&w.setContentType(U),Z.body){const[O,V]=Hw(L,J0(qw(x)));r=Yw(Z.body,$w,O,V)}}pe.isString(E)||(E=E?"include":"omit");const j="credentials"in Request.prototype;A=new Request(t,{..._,signal:k,method:n.toUpperCase(),headers:w.normalize().toJSON(),body:r,duplex:"half",credentials:j?E:void 0});let D=await fetch(A);const R=dg&&(v==="stream"||v==="response");if(dg&&(g||R&&I)){const Z={};["status","statusText","headers"].forEach(Y=>{Z[Y]=D[Y]});const U=pe.toFiniteNumber(D.headers.get("content-length")),[O,V]=g&&Hw(U,J0(qw(g),!0))||[];D=new Response(Yw(D.body,$w,O,()=>{V&&V(),I&&I()}),Z)}v=v||"text";let W=await eh[pe.findKey(eh,v)||"text"](D,e);return!R&&I&&I(),await new Promise((Z,U)=>{mE(Z,U,{data:W,headers:li.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:A})})}catch(j){throw I&&I(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new xt("Network Error",xt.ERR_NETWORK,e,A),{cause:j.cause||j}):xt.from(j,j&&j.code,e,A)}}),fg={http:uI,xhr:zI,fetch:KI};pe.forEach(fg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Gw=e=>`- ${e}`,ZI=e=>pe.isFunction(e)||e===null||e===!1,wE={getAdapter:e=>{e=pe.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){n=e[a];let d;if(r=n,!ZI(n)&&(r=fg[(d=String(n)).toLowerCase()],r===void 0))throw new xt(`Unknown adapter '${d}'`);if(r)break;i[d||"#"+a]=r}if(!r){const a=Object.entries(i).map(([g,x])=>`adapter ${g} `+(x===!1?"is not supported by the environment":"is not available in the build"));let d=t?a.length>1?`since :
`+a.map(Gw).join(`
`):" "+Gw(a[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:fg};function V1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rc(null,e)}function Xw(e){return V1(e),e.headers=li.from(e.headers),e.data=q1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),wE.getAdapter(e.adapter||Vx.adapter)(e).then(function(r){return V1(e),r.data=q1.call(e,e.transformResponse,r),r.headers=li.from(r.headers),r},function(r){return pE(r)||(V1(e),r&&r.response&&(r.response.data=q1.call(e,e.transformResponse,r.response),r.response.headers=li.from(r.response.headers))),Promise.reject(r)})}const bE="1.9.0",Gh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gh[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Qw={};Gh.transitional=function(t,n,r){function i(a,d){return"[Axios v"+bE+"] Transitional option '"+a+"'"+d+(r?". "+r:"")}return(a,d,g)=>{if(t===!1)throw new xt(i(d," has been removed"+(n?" in "+n:"")),xt.ERR_DEPRECATED);return n&&!Qw[d]&&(Qw[d]=!0,console.warn(i(d," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,d,g):!0}};Gh.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function JI(e,t,n){if(typeof e!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],d=t[a];if(d){const g=e[a],x=g===void 0||d(g,a,e);if(x!==!0)throw new xt("option "+a+" must be "+x,xt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new xt("Unknown option "+a,xt.ERR_BAD_OPTION)}}const h0={assertOptions:JI,validators:Gh},bi=h0.validators;class th{constructor(t){this.defaults=t||{},this.interceptors={request:new zw,response:new zw}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ll(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&h0.assertOptions(r,{silentJSONParsing:bi.transitional(bi.boolean),forcedJSONParsing:bi.transitional(bi.boolean),clarifyTimeoutError:bi.transitional(bi.boolean)},!1),i!=null&&(pe.isFunction(i)?n.paramsSerializer={serialize:i}:h0.assertOptions(i,{encode:bi.function,serialize:bi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),h0.assertOptions(n,{baseUrl:bi.spelling("baseURL"),withXsrfToken:bi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=a&&pe.merge(a.common,a[n.method]);a&&pe.forEach(["delete","get","head","post","put","patch","common"],A=>{delete a[A]}),n.headers=li.concat(d,a);const g=[];let x=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(n)===!1||(x=x&&I.synchronous,g.unshift(I.fulfilled,I.rejected))});const v=[];this.interceptors.response.forEach(function(I){v.push(I.fulfilled,I.rejected)});let w,E=0,_;if(!x){const A=[Xw.bind(this),void 0];for(A.unshift.apply(A,g),A.push.apply(A,v),_=A.length,w=Promise.resolve(n);E<_;)w=w.then(A[E++],A[E++]);return w}_=g.length;let k=n;for(E=0;E<_;){const A=g[E++],I=g[E++];try{k=A(k)}catch(L){I.call(this,L);break}}try{w=Xw.call(this,k)}catch(A){return Promise.reject(A)}for(E=0,_=v.length;E<_;)w=w.then(v[E++],v[E++]);return w}getUri(t){t=ll(this.defaults,t);const n=gE(t.baseURL,t.url,t.allowAbsoluteUrls);return dE(n,t.params,t.paramsSerializer)}}pe.forEach(["delete","get","head","options"],function(t){th.prototype[t]=function(n,r){return this.request(ll(r||{},{method:t,url:n,data:(r||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function n(r){return function(a,d,g){return this.request(ll(g||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:d}))}}th.prototype[t]=n(),th.prototype[t+"Form"]=n(!0)});const p0=th;class Yx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const d=new Promise(g=>{r.subscribe(g),a=g}).then(i);return d.cancel=function(){r.unsubscribe(a)},d},t(function(a,d,g){r.reason||(r.reason=new Rc(a,d,g),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Yx(function(i){t=i}),cancel:t}}}const eR=Yx;function tR(e){return function(n){return e.apply(null,n)}}function nR(e){return pe.isObject(e)&&e.isAxiosError===!0}const hg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hg).forEach(([e,t])=>{hg[t]=e});const rR=hg;function CE(e){const t=new p0(e),n=JC(p0.prototype.request,t);return pe.extend(n,p0.prototype,t,{allOwnKeys:!0}),pe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return CE(ll(e,i))},n}const Qn=CE(Vx);Qn.Axios=p0;Qn.CanceledError=Rc;Qn.CancelToken=eR;Qn.isCancel=pE;Qn.VERSION=bE;Qn.toFormData=Vh;Qn.AxiosError=xt;Qn.Cancel=Qn.CanceledError;Qn.all=function(t){return Promise.all(t)};Qn.spread=tR;Qn.isAxiosError=nR;Qn.mergeConfig=ll;Qn.AxiosHeaders=li;Qn.formToJSON=e=>hE(pe.isHTMLForm(e)?new FormData(e):e);Qn.getAdapter=wE.getAdapter;Qn.HttpStatusCode=rR;Qn.default=Qn;const dt=Qn,EE=M.createContext(),ar=()=>M.useContext(EE),sR=({children:e})=>{const[t,n]=M.useState(null),[r,i]=M.useState(localStorage.getItem("token")),[a,d]=M.useState(!0),[g,x]=M.useState(null);M.useEffect(()=>{r?dt.defaults.headers.common.Authorization=`Bearer ${r}`:delete dt.defaults.headers.common.Authorization},[r]),M.useEffect(()=>{const W=async()=>{if(!r){d(!1);return}try{const U=await dt.get("/api/auth/me");n(U.data.user),x(null)}catch(U){console.error("Token verification failed:",U),U.response&&U.response.status===401?(w(),x("Session expired. Please log in again.")):x("Error verifying session. Please try again.")}finally{d(!1)}};W();const Z=setInterval(()=>{r&&W()},60*60*1e3);return()=>{clearInterval(Z)}},[r]);const v=async(W,Z)=>{var U,O;try{d(!0);const V=await dt.post("/api/auth/login",{username:W,password:Z}),{token:Y,user:ee}=V.data;return localStorage.setItem("token",Y),dt.defaults.headers.common.Authorization=`Bearer ${Y}`,i(Y),n(ee),x(null),ee}catch(V){throw console.error("Login error:",V),x(((O=(U=V.response)==null?void 0:U.data)==null?void 0:O.message)||"Login failed"),V}finally{d(!1)}},w=()=>{localStorage.removeItem("token"),i(null),n(null),delete dt.defaults.headers.common.Authorization},R={user:t,token:r,loading:a,error:g,login:v,logout:w,register:async W=>{var Z,U;try{return d(!0),(await dt.post("/api/auth/register",W)).data}catch(O){throw console.error("Register error:",O),x(((U=(Z=O.response)==null?void 0:Z.data)==null?void 0:U.message)||"Registration failed"),O}finally{d(!1)}},isAdmin:()=>(t==null?void 0:t.role)==="admin",isAdvanced:()=>(t==null?void 0:t.role)==="advanced",isBasic:()=>(t==null?void 0:t.role)==="basic",canEditEquipment:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="advanced",isImpersonating:()=>!!(t!=null&&t.impersonated),impersonateUser:async W=>{var Z,U;try{d(!0);const O=await dt.post(`/api/auth/impersonate/${W}`),{token:V,user:Y}=O.data;return localStorage.setItem("token",V),i(V),n(Y),x(null),Y}catch(O){throw console.error("Impersonation error:",O),x(((U=(Z=O.response)==null?void 0:Z.data)==null?void 0:U.message)||"Impersonation failed"),O}finally{d(!1)}},getUsers:async()=>{var W,Z;try{return(await dt.get("/api/auth/users")).data.users}catch(U){throw console.error("Get users error:",U),x(((Z=(W=U.response)==null?void 0:W.data)==null?void 0:Z.message)||"Failed to get users"),U}}};return l.jsx(EE.Provider,{value:R,children:e})};function NE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=NE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Cn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=NE(e))&&(r&&(r+=" "),r+=t);return r}function iR(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}iR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var wd=e=>typeof e=="number"&&!isNaN(e),cl=e=>typeof e=="string",va=e=>typeof e=="function",aR=e=>cl(e)||wd(e),pg=e=>cl(e)||va(e)?e:null,oR=(e,t)=>e===!1||wd(e)&&e>0?e:t,mg=e=>M.isValidElement(e)||cl(e)||va(e)||wd(e);function lR(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function cR({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:d,preventExitTransition:g,done:x,nodeRef:v,isIn:w,playToast:E}){let _=n?`${e}--${d}`:e,k=n?`${t}--${d}`:t,A=M.useRef(0);return M.useLayoutEffect(()=>{let I=v.current,L=_.split(" "),j=D=>{D.target===v.current&&(E(),I.removeEventListener("animationend",j),I.removeEventListener("animationcancel",j),A.current===0&&D.type!=="animationcancel"&&I.classList.remove(...L))};I.classList.add(...L),I.addEventListener("animationend",j),I.addEventListener("animationcancel",j)},[]),M.useEffect(()=>{let I=v.current,L=()=>{I.removeEventListener("animationend",L),r?lR(I,x,i):x()};w||(g?L():(A.current=1,I.className+=` ${k}`,I.addEventListener("animationend",L)))},[w]),ue.createElement(ue.Fragment,null,a)}}function Kw(e,t){return{content:_E(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function _E(e,t,n=!1){return M.isValidElement(e)&&!cl(e.type)?M.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):va(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function uR({closeToast:e,theme:t,ariaLabel:n="close"}){return ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function dR({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:a,controlledProgress:d,progress:g,rtl:x,isIn:v,theme:w}){let E=i||d&&g===0,_={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};d&&(_.transform=`scaleX(${g})`);let k=Cn("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${w}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":x}),A=va(a)?a({rtl:x,type:r,defaultClassName:k}):Cn(k,a),I={[d&&g>=1?"onTransitionEnd":"onAnimationEnd"]:d&&g<1?null:()=>{v&&n()}};return ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${w} Toastify__progress-bar--${r}`}),ue.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:A,style:_,...I}))}var fR=1,SE=()=>`${fR++}`;function hR(e,t,n){let r=1,i=0,a=[],d=[],g=t,x=new Map,v=new Set,w=D=>(v.add(D),()=>v.delete(D)),E=()=>{d=Array.from(x.values()),v.forEach(D=>D())},_=({containerId:D,toastId:R,updateId:W})=>{let Z=D?D!==e:e!==1,U=x.has(R)&&W==null;return Z||U},k=(D,R)=>{x.forEach(W=>{var Z;(R==null||R===W.props.toastId)&&((Z=W.toggle)==null||Z.call(W,D))})},A=D=>{var R,W;(W=(R=D.props)==null?void 0:R.onClose)==null||W.call(R,D.removalReason),D.isActive=!1},I=D=>{if(D==null)x.forEach(A);else{let R=x.get(D);R&&A(R)}E()},L=()=>{i-=a.length,a=[]},j=D=>{var R,W;let{toastId:Z,updateId:U}=D.props,O=U==null;D.staleId&&x.delete(D.staleId),D.isActive=!0,x.set(Z,D),E(),n(Kw(D,O?"added":"updated")),O&&((W=(R=D.props).onOpen)==null||W.call(R))};return{id:e,props:g,observe:w,toggle:k,removeToast:I,toasts:x,clearQueue:L,buildToast:(D,R)=>{if(_(R))return;let{toastId:W,updateId:Z,data:U,staleId:O,delay:V}=R,Y=Z==null;Y&&i++;let ee={...g,style:g.toastStyle,key:r++,...Object.fromEntries(Object.entries(R).filter(([ie,le])=>le!=null)),toastId:W,updateId:Z,data:U,isIn:!1,className:pg(R.className||g.toastClassName),progressClassName:pg(R.progressClassName||g.progressClassName),autoClose:R.isLoading?!1:oR(R.autoClose,g.autoClose),closeToast(ie){x.get(W).removalReason=ie,I(W)},deleteToast(){let ie=x.get(W);if(ie!=null){if(n(Kw(ie,"removed")),x.delete(W),i--,i<0&&(i=0),a.length>0){j(a.shift());return}E()}}};ee.closeButton=g.closeButton,R.closeButton===!1||mg(R.closeButton)?ee.closeButton=R.closeButton:R.closeButton===!0&&(ee.closeButton=mg(g.closeButton)?g.closeButton:!0);let de={content:D,props:ee,staleId:O};g.limit&&g.limit>0&&i>g.limit&&Y?a.push(de):wd(V)?setTimeout(()=>{j(de)},V):j(de)},setProps(D){g=D},setToggle:(D,R)=>{let W=x.get(D);W&&(W.toggle=R)},isToastActive:D=>{var R;return(R=x.get(D))==null?void 0:R.isActive},getSnapshot:()=>d}}var Wr=new Map,od=[],gg=new Set,pR=e=>gg.forEach(t=>t(e)),AE=()=>Wr.size>0;function mR(){od.forEach(e=>TE(e.content,e.options)),od=[]}var gR=(e,{containerId:t})=>{var n;return(n=Wr.get(t||1))==null?void 0:n.toasts.get(e)};function kE(e,t){var n;if(t)return!!((n=Wr.get(t))!=null&&n.isToastActive(e));let r=!1;return Wr.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function xR(e){if(!AE()){od=od.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||aR(e))Wr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Wr.get(e.containerId);t?t.removeToast(e.id):Wr.forEach(n=>{n.removeToast(e.id)})}}var vR=(e={})=>{Wr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function TE(e,t){mg(e)&&(AE()||od.push({content:e,options:t}),Wr.forEach(n=>{n.buildToast(e,t)}))}function yR(e){var t;(t=Wr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function DE(e,t){Wr.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function wR(e){let t=e.containerId||1;return{subscribe(n){let r=hR(t,e,pR);Wr.set(t,r);let i=r.observe(n);return mR(),()=>{i(),Wr.delete(t)}},setProps(n){var r;(r=Wr.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Wr.get(t))==null?void 0:n.getSnapshot()}}}function bR(e){return gg.add(e),()=>{gg.delete(e)}}function CR(e){return e&&(cl(e.toastId)||wd(e.toastId))?e.toastId:SE()}function bd(e,t){return TE(e,t),t.toastId}function Xh(e,t){return{...t,type:t&&t.type||e,toastId:CR(t)}}function Qh(e){return(t,n)=>bd(t,Xh(e,n))}function ot(e,t){return bd(e,Xh("default",t))}ot.loading=(e,t)=>bd(e,Xh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function ER(e,{pending:t,error:n,success:r},i){let a;t&&(a=cl(t)?ot.loading(t,i):ot.loading(t.render,{...i,...t}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(v,w,E)=>{if(w==null){ot.dismiss(a);return}let _={type:v,...d,...i,data:E},k=cl(w)?{render:w}:w;return a?ot.update(a,{..._,...k}):ot(k.render,{..._,...k}),E},x=va(e)?e():e;return x.then(v=>g("success",r,v)).catch(v=>g("error",n,v)),x}ot.promise=ER;ot.success=Qh("success");ot.info=Qh("info");ot.error=Qh("error");ot.warning=Qh("warning");ot.warn=ot.warning;ot.dark=(e,t)=>bd(e,Xh("default",{theme:"dark",...t}));function NR(e){xR(e)}ot.dismiss=NR;ot.clearWaitingQueue=vR;ot.isActive=kE;ot.update=(e,t={})=>{let n=gR(e,t);if(n){let{props:r,content:i}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:SE()};a.toastId!==e&&(a.staleId=e);let d=a.render||i;delete a.render,bd(d,a)}};ot.done=e=>{ot.update(e,{progress:1})};ot.onChange=bR;ot.play=e=>DE(!0,e);ot.pause=e=>DE(!1,e);function _R(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=M.useRef(wR(e)).current;i(e);let a=(t=M.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function d(g){if(!a)return[];let x=new Map;return e.newestOnTop&&a.reverse(),a.forEach(v=>{let{position:w}=v.props;x.has(w)||x.set(w,[]),x.get(w).push(v)}),Array.from(x,v=>g(v[0],v[1]))}return{getToastToRender:d,isToastActive:kE,count:a==null?void 0:a.length}}function SR(e){let[t,n]=M.useState(!1),[r,i]=M.useState(!1),a=M.useRef(null),d=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:g,pauseOnHover:x,closeToast:v,onClick:w,closeOnClick:E}=e;yR({id:e.toastId,containerId:e.containerId,fn:n}),M.useEffect(()=>{if(e.pauseOnFocusLoss)return _(),()=>{k()}},[e.pauseOnFocusLoss]);function _(){document.hasFocus()||j(),window.addEventListener("focus",L),window.addEventListener("blur",j)}function k(){window.removeEventListener("focus",L),window.removeEventListener("blur",j)}function A(O){if(e.draggable===!0||e.draggable===O.pointerType){D();let V=a.current;d.canCloseOnClick=!0,d.canDrag=!0,V.style.transition="none",e.draggableDirection==="x"?(d.start=O.clientX,d.removalDistance=V.offsetWidth*(e.draggablePercent/100)):(d.start=O.clientY,d.removalDistance=V.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function I(O){let{top:V,bottom:Y,left:ee,right:de}=a.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&e.pauseOnHover&&O.clientX>=ee&&O.clientX<=de&&O.clientY>=V&&O.clientY<=Y?j():L()}function L(){n(!0)}function j(){n(!1)}function D(){d.didMove=!1,document.addEventListener("pointermove",W),document.addEventListener("pointerup",Z)}function R(){document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Z)}function W(O){let V=a.current;if(d.canDrag&&V){d.didMove=!0,t&&j(),e.draggableDirection==="x"?d.delta=O.clientX-d.start:d.delta=O.clientY-d.start,d.start!==O.clientX&&(d.canCloseOnClick=!1);let Y=e.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;V.style.transform=`translate3d(${Y},0)`,V.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function Z(){R();let O=a.current;if(d.canDrag&&d.didMove&&O){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let U={onPointerDown:A,onPointerUp:I};return g&&x&&(U.onMouseEnter=j,e.stacked||(U.onMouseLeave=L)),E&&(U.onClick=O=>{w&&w(O),d.canCloseOnClick&&v(!0)}),{playToast:L,pauseToast:j,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:U}}var AR=typeof window<"u"?M.useLayoutEffect:M.useEffect,Kh=({theme:e,type:t,isLoading:n,...r})=>ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function kR(e){return ue.createElement(Kh,{...e},ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function TR(e){return ue.createElement(Kh,{...e},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function DR(e){return ue.createElement(Kh,{...e},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function jR(e){return ue.createElement(Kh,{...e},ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function IR(){return ue.createElement("div",{className:"Toastify__spinner"})}var xg={info:TR,warning:kR,success:DR,error:jR,spinner:IR},RR=e=>e in xg;function OR({theme:e,type:t,isLoading:n,icon:r}){let i=null,a={theme:e,type:t};return r===!1||(va(r)?i=r({...a,isLoading:n}):M.isValidElement(r)?i=M.cloneElement(r,a):n?i=xg.spinner():RR(t)&&(i=xg[t](a))),i}var MR=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=SR(e),{closeButton:d,children:g,autoClose:x,onClick:v,type:w,hideProgressBar:E,closeToast:_,transition:k,position:A,className:I,style:L,progressClassName:j,updateId:D,role:R,progress:W,rtl:Z,toastId:U,deleteToast:O,isIn:V,isLoading:Y,closeOnClick:ee,theme:de,ariaLabel:ie}=e,le=Cn("Toastify__toast",`Toastify__toast-theme--${de}`,`Toastify__toast--${w}`,{"Toastify__toast--rtl":Z},{"Toastify__toast--close-on-click":ee}),Te=va(I)?I({rtl:Z,position:A,type:w,defaultClassName:le}):Cn(le,I),ne=OR(e),Se=!!W||!x,we={closeToast:_,type:w,theme:de},ce=null;return d===!1||(va(d)?ce=d(we):M.isValidElement(d)?ce=M.cloneElement(d,we):ce=uR(we)),ue.createElement(k,{isIn:V,done:O,position:A,preventExitTransition:n,nodeRef:r,playToast:a},ue.createElement("div",{id:U,tabIndex:0,onClick:v,"data-in":V,className:Te,...i,style:L,ref:r,...V&&{role:R,"aria-label":ie}},ne!=null&&ue.createElement("div",{className:Cn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Y})},ne),_E(g,e,!t),ce,!e.customProgressBar&&ue.createElement(dR,{...D&&!Se?{key:`p-${D}`}:{},rtl:Z,theme:de,delay:x,isRunning:t,isIn:V,closeToast:_,hide:E,type:w,className:j,controlledProgress:Se,progress:W||0})))},LR=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),PR=cR(LR("bounce",!0)),FR={position:"top-right",transition:PR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Zh(e){let t={...FR,...e},n=e.stacked,[r,i]=M.useState(!0),a=M.useRef(null),{getToastToRender:d,isToastActive:g,count:x}=_R(t),{className:v,style:w,rtl:E,containerId:_,hotKeys:k}=t;function A(L){let j=Cn("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":E});return va(v)?v({position:L,rtl:E,defaultClassName:j}):Cn(j,pg(v))}function I(){n&&(i(!0),ot.play())}return AR(()=>{var L;if(n){let j=a.current.querySelectorAll('[data-in="true"]'),D=12,R=(L=t.position)==null?void 0:L.includes("top"),W=0,Z=0;Array.from(j).reverse().forEach((U,O)=>{let V=U;V.classList.add("Toastify__toast--stacked"),O>0&&(V.dataset.collapsed=`${r}`),V.dataset.pos||(V.dataset.pos=R?"top":"bot");let Y=W*(r?.2:1)+(r?0:D*O);V.style.setProperty("--y",`${R?Y:Y*-1}px`),V.style.setProperty("--g",`${D}`),V.style.setProperty("--s",`${1-(r?Z:0)}`),W+=V.offsetHeight,Z+=.025})}},[r,x,n]),M.useEffect(()=>{function L(j){var D;let R=a.current;k(j)&&((D=R.querySelector('[tabIndex="0"]'))==null||D.focus(),i(!1),ot.pause()),j.key==="Escape"&&(document.activeElement===R||R!=null&&R.contains(document.activeElement))&&(i(!0),ot.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[k]),ue.createElement("section",{ref:a,className:"Toastify",id:_,onMouseEnter:()=>{n&&(i(!1),ot.pause())},onMouseLeave:I,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},d((L,j)=>{let D=j.length?{...w}:{...w,pointerEvents:"none"};return ue.createElement("div",{tabIndex:-1,className:A(L),"data-stacked":n,style:D,key:`c-${L}`},j.map(({content:R,props:W})=>ue.createElement(MR,{...W,stacked:n,collapseAll:I,isIn:g(W.toastId,W.containerId),key:`t-${W.key}`},R)))}))}var jE={exports:{}},BR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UR=BR,zR=UR;function IE(){}function RE(){}RE.resetWarningCache=IE;var WR=function(){function e(r,i,a,d,g,x){if(x!==zR){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:RE,resetWarningCache:IE};return n.PropTypes=n,n};jE.exports=WR();var HR=jE.exports;const se=Ch(HR),oa=async({page:e=1,limit:t=10,type:n,brand:r,status:i,location_id:a,search:d,sortBy:g="updated_at",sortOrder:x="desc",startDate:v,endDate:w})=>{const E={page:e,limit:t};return n&&(E.type=n),r&&(E.brand=r),i&&(E.status=i),a&&(E.location_id=a),d&&(E.search=d),g&&(E.sortBy=g),x&&(E.sortOrder=x),v&&(E.startDate=v),w&&(E.endDate=w),(await dt.get("/api/equipment",{params:E})).data},Jh=async e=>(await dt.get(`/api/equipment/${e}`)).data,$x=async(e,t=[],n=null)=>{const r=new FormData;if(!e.type_id)throw console.error("Missing required field: type_id"),new Error("Equipment type is required");if(!e.brand)throw console.error("Missing required field: brand"),new Error("Brand is required");if(!e.model)throw console.error("Missing required field: model"),new Error("Model is required");if(!e.serial_number)throw console.error("Missing required field: serial_number"),new Error("Serial number is required");const i=Object.fromEntries(Object.entries(e).filter(([a,d])=>d!==void 0));console.log("Creating equipment with data:",i),Object.keys(i).forEach(a=>{a==="type_id"&&typeof i[a]=="string"?r.append(a,parseInt(i[a],10)):r.append(a,i[a])}),n&&r.append("referenceImage",n),t&&t.length>0&&t.forEach(a=>{r.append("files",a)});try{return(await dt.post("/api/equipment",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error in createEquipment:",a),a}},OE=async(e,t,n=[],r=[],i=null,a=!1)=>{try{const d=new FormData,g=Object.fromEntries(Object.entries(t).filter(([w,E])=>E!==void 0));console.log("Full equipment data:",t);const x=["location_id","type_id"];return Object.keys(g).forEach(w=>{w!=="reference_image_id"&&(x.includes(w)&&(g[w]===""||g[w]==="0")?(d.append(w,""),d.append(`${w}_is_null`,"true")):d.append(w,g[w]))}),i&&d.append("referenceImage",i),a&&d.append("removeReferenceImage","true"),n&&n.length>0&&n.forEach(w=>{d.append("files",w)}),r&&r.length>0&&d.append("filesToDelete",JSON.stringify(r)),console.log("Updating equipment with data:",g),console.log("Files to delete:",r),console.log("Reference image file:",i?i.name:"None"),console.log("Remove reference image:",a),(await dt.put(`/api/equipment/${e}`,d,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(d){throw console.error("Error in updateEquipment:",d),d}},qR=async e=>(await dt.delete(`/api/equipment/${e}`)).data,nh=(e,t=!1,n=!0)=>{if(!e)return null;const r=`/api/files/${e}`;let i=t?`${r}?thumbnail=true`:r;return n&&(i+=(i.includes("?")?"&":"?")+`t=${new Date().getTime()}`),i},VR=async(e,t)=>{try{return console.log(`Updating equipment ${e} status to ${t}`),(await dt.patch(`/api/equipment/${e}/status`,{status:t})).data}catch(n){throw console.error("Error updating equipment status:",n),n}},YR=async(e,t)=>{try{return console.log(`Updating equipment ${e} location:`,t),(await dt.patch(`/api/equipment/${e}/location`,t)).data}catch(n){throw console.error("Error updating equipment location:",n),n}},$R=async(e,t)=>{try{return console.log(`Updating equipment ${e} type to ${t}`),(await dt.patch(`/api/equipment/${e}/type`,{type_id:t})).data}catch(n){throw console.error("Error updating equipment type:",n),n}},GR=async(e,t)=>{try{return console.log(`Updating equipment ${e} category to ${t}`),(await dt.patch(`/api/equipment/${e}/category`,{category_id:t})).data}catch(n){throw console.error("Error updating equipment category:",n),n}},XR=async(e,t)=>{try{return console.log(`Updating equipment ${e} brand/model:`,t),(await dt.patch(`/api/equipment/${e}/brand-model`,t)).data}catch(n){throw console.error("Error updating equipment brand/model:",n),n}},Li=async()=>{try{return(await dt.get("/api/equipment-types")).data}catch(e){throw console.error("Error fetching equipment types:",e),e}},QR=async e=>(await dt.post("/api/equipment-types",{name:e})).data,KR=async(e,t)=>(await dt.put(`/api/equipment-types/${e}`,{name:t})).data,ZR=async e=>(await dt.delete(`/api/equipment-types/${e}`)).data,ME=M.createContext(),JR=3,LE=({children:e})=>{const[t,n]=M.useState([]),{user:r}=ar(),i=(r==null?void 0:r.role)==="admin",{data:a}=Et(["equipment",{limit:1e3}],()=>oa({limit:1e3}),{enabled:i,refetchInterval:5*60*1e3,staleTime:4*60*1e3}),{data:d}=Et({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5,enabled:i});M.useEffect(()=>{if(!i||!(a!=null&&a.equipment)||!(d!=null&&d.types))return;const A=a.equipment,I=d.types,L={};A.forEach(D=>{D.type&&(L[D.type]||(L[D.type]=[]),L[D.type].push(D))});const j=[];Object.entries(L).forEach(([D,R])=>{const W=R.filter(Z=>Z.status==="available");if(W.length<=JR){const Z=I.find(U=>U.name.toLowerCase()===D.toLowerCase());j.push({id:`low-stock-${D}`,type:"warning",title:"Low Stock Alert",message:`Only ${W.length} ${D} ${W.length===1?"item is":"items are"} available.`,timestamp:new Date,read:!1,typeId:Z==null?void 0:Z.id})}}),j.length>0&&n(D=>[...D.filter(W=>!W.id.startsWith("low-stock-")),...j])},[a,d,i]);const g=A=>{n(I=>[...I,{id:A.id||`notification-${Date.now()}`,timestamp:new Date,read:!1,...A}])},x=A=>{n(I=>I.map(L=>L.id===A?{...L,read:!0}:L))},v=()=>{n(A=>A.map(I=>({...I,read:!0})))},w=A=>{n(I=>I.filter(L=>L.id!==A))},E=()=>{n([])},_=t.filter(A=>!A.read).length,k={notifications:t,unreadCount:_,addNotification:g,markAsRead:x,markAllAsRead:v,removeNotification:w,clearNotifications:E};return l.jsx(ME.Provider,{value:k,children:e})};LE.propTypes={children:se.node.isRequired};const eO=()=>{const e=M.useContext(ME);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},tO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),nO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})}),rO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),PE=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),sO=({className:e="w-5 h-5"})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),Zw=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})}),FE=({className:e="w-5 h-5"})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),Gx=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125"})}),Xx=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),Qx=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})}),iO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),aO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),Kx=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),Jw=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),oO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})}),lO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75a2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),BE=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),cO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),uO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),UE=6048e5,dO=864e5,ep=6e4,tp=36e5,fO=1e3,Hf=43200,eb=1440,tb=Symbol.for("constructDateFrom");function $t(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&tb in e?e[tb](t):e instanceof Date?new e.constructor(t):new Date(t)}function He(e,t){return $t(t||e,e)}function ci(e,t,n){const r=He(e,n==null?void 0:n.in);return isNaN(t)?$t((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function di(e,t,n){const r=He(e,n==null?void 0:n.in);if(isNaN(t))return $t((n==null?void 0:n.in)||e,NaN);if(!t)return r;const i=r.getDate(),a=$t((n==null?void 0:n.in)||e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const d=a.getDate();return i>=d?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function zE(e,t,n){return $t((n==null?void 0:n.in)||e,+He(e)+t)}function hO(e,t,n){return zE(e,t*tp,n)}let pO={};function xo(){return pO}function ya(e,t){var g,x,v,w;const n=xo(),r=(t==null?void 0:t.weekStartsOn)??((x=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,i=He(e,t==null?void 0:t.in),a=i.getDay(),d=(a<r?7:0)+a-r;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function gc(e,t){return ya(e,{...t,weekStartsOn:1})}function WE(e,t){const n=He(e,t==null?void 0:t.in),r=n.getFullYear(),i=$t(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=gc(i),d=$t(n,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const g=gc(d);return n.getTime()>=a.getTime()?r+1:n.getTime()>=g.getTime()?r:r-1}function xc(e){const t=He(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function pi(e,...t){const n=$t.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function ul(e,t){const n=He(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function vc(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t),a=ul(r),d=ul(i),g=+a-xc(a),x=+d-xc(d);return Math.round((g-x)/dO)}function mO(e,t){const n=WE(e,t),r=$t((t==null?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),gc(r)}function vg(e,t,n){const r=He(e,n==null?void 0:n.in);return r.setTime(r.getTime()+t*ep),r}function Zx(e,t,n){return di(e,t*3,n)}function gO(e,t,n){return zE(e,t*1e3,n)}function rh(e,t,n){return ci(e,t*7,n)}function ca(e,t,n){return di(e,t*12,n)}function nb(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=$t.bind(null,i));const a=He(i,r);(!n||n<a||isNaN(+a))&&(n=a)}),$t(r,n||NaN)}function rb(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=$t.bind(null,i));const a=He(i,r);(!n||n>a||isNaN(+a))&&(n=a)}),$t(r,n||NaN)}function m0(e,t){const n=+He(e)-+He(t);return n<0?-1:n>0?1:n}function xO(e){return $t(e,Date.now())}function vO(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t);return+ul(r)==+ul(i)}function ua(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function sh(e){return!(!ua(e)&&typeof e!="number"||isNaN(+He(e)))}function ld(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t),a=r.getFullYear()-i.getFullYear(),d=r.getMonth()-i.getMonth();return a*12+d}function el(e,t){const n=He(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function ih(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t),a=r.getFullYear()-i.getFullYear(),d=el(r)-el(i);return a*4+d}function ah(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t);return r.getFullYear()-i.getFullYear()}function yO(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t),a=sb(r,i),d=Math.abs(vc(r,i));r.setDate(r.getDate()-a*d);const g=+(sb(r,i)===-a),x=a*(d-g);return x===0?0:x}function sb(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function wO(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function bO(e,t){return+He(e)-+He(t)}function Jx(e,t){const n=He(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function e2(e,t){const n=He(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function CO(e,t){const n=He(e,t==null?void 0:t.in);return+Jx(n,t)==+e2(n,t)}function EO(e,t,n){const[r,i,a]=pi(n==null?void 0:n.in,e,e,t),d=m0(i,a),g=Math.abs(ld(i,a));if(g<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-d*g);let x=m0(i,a)===-d;CO(r)&&g===1&&m0(r,a)===1&&(x=!1);const v=d*(g-+x);return v===0?0:v}function NO(e,t,n){const r=bO(e,t)/1e3;return wO(n==null?void 0:n.roundingMethod)(r)}function yg(e,t){const n=He(e,t==null?void 0:t.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function HE(e,t){const n=He(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function qE(e,t){const n=He(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function np(e,t){const n=He(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function _O(e,t){var g,x,v,w;const n=xo(),r=(t==null?void 0:t.weekStartsOn)??((x=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,i=He(e,t==null?void 0:t.in),a=i.getDay(),d=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}const SO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AO=(e,t,n)=>{let r;const i=SO[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Y1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const kO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},TO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},DO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jO={date:Y1({formats:kO,defaultWidth:"full"}),time:Y1({formats:TO,defaultWidth:"full"}),dateTime:Y1({formats:DO,defaultWidth:"full"})},IO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},RO=(e,t,n,r)=>IO[e];function wu(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,g=n!=null&&n.width?String(n.width):d;i=e.formattingValues[g]||e.formattingValues[d]}else{const d=e.defaultWidth,g=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[g]||e.values[d]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const OO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},LO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},PO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UO=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},zO={ordinalNumber:UO,era:wu({values:OO,defaultWidth:"wide"}),quarter:wu({values:MO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wu({values:LO,defaultWidth:"wide"}),day:wu({values:PO,defaultWidth:"wide"}),dayPeriod:wu({values:FO,defaultWidth:"wide",formattingValues:BO,defaultFormattingWidth:"wide"})};function bu(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const d=a[0],g=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],x=Array.isArray(g)?HO(g,E=>E.test(d)):WO(g,E=>E.test(d));let v;v=e.valueCallback?e.valueCallback(x):x,v=n.valueCallback?n.valueCallback(v):v;const w=t.slice(d.length);return{value:v,rest:w}}}function WO(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function HO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function qO(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let d=e.valueCallback?e.valueCallback(a[0]):a[0];d=n.valueCallback?n.valueCallback(d):d;const g=t.slice(i.length);return{value:d,rest:g}}}const VO=/^(\d+)(th|st|nd|rd)?/i,YO=/\d+/i,$O={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GO={any:[/^b/i,/^(a|c)/i]},XO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QO={any:[/1/i,/2/i,/3/i,/4/i]},KO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},JO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rM={ordinalNumber:qO({matchPattern:VO,parsePattern:YO,valueCallback:e=>parseInt(e,10)}),era:bu({matchPatterns:$O,defaultMatchWidth:"wide",parsePatterns:GO,defaultParseWidth:"any"}),quarter:bu({matchPatterns:XO,defaultMatchWidth:"wide",parsePatterns:QO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bu({matchPatterns:KO,defaultMatchWidth:"wide",parsePatterns:ZO,defaultParseWidth:"any"}),day:bu({matchPatterns:JO,defaultMatchWidth:"wide",parsePatterns:eM,defaultParseWidth:"any"}),dayPeriod:bu({matchPatterns:tM,defaultMatchWidth:"any",parsePatterns:nM,defaultParseWidth:"any"})},t2={code:"en-US",formatDistance:AO,formatLong:jO,formatRelative:RO,localize:zO,match:rM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sM(e,t){const n=He(e,t==null?void 0:t.in);return vc(n,np(n))+1}function n2(e,t){const n=He(e,t==null?void 0:t.in),r=+gc(n)-+mO(n);return Math.round(r/UE)+1}function r2(e,t){var w,E,_,k;const n=He(e,t==null?void 0:t.in),r=n.getFullYear(),i=xo(),a=(t==null?void 0:t.firstWeekContainsDate)??((E=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??i.firstWeekContainsDate??((k=(_=i.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=$t((t==null?void 0:t.in)||e,0);d.setFullYear(r+1,0,a),d.setHours(0,0,0,0);const g=ya(d,t),x=$t((t==null?void 0:t.in)||e,0);x.setFullYear(r,0,a),x.setHours(0,0,0,0);const v=ya(x,t);return+n>=+g?r+1:+n>=+v?r:r-1}function iM(e,t){var g,x,v,w;const n=xo(),r=(t==null?void 0:t.firstWeekContainsDate)??((x=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??n.firstWeekContainsDate??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,i=r2(e,t),a=$t((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),ya(a,t)}function VE(e,t){const n=He(e,t==null?void 0:t.in),r=+ya(n,t)-+iM(n,t);return Math.round(r/UE)+1}function Jt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Fa={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Jt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Jt(n+1,2)},d(e,t){return Jt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Jt(e.getHours()%12||12,t.length)},H(e,t){return Jt(e.getHours(),t.length)},m(e,t){return Jt(e.getMinutes(),t.length)},s(e,t){return Jt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Jt(i,t.length)}},Pl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ib={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Fa.y(e,t)},Y:function(e,t,n,r){const i=r2(e,r),a=i>0?i:1-i;if(t==="YY"){const d=a%100;return Jt(d,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Jt(a,t.length)},R:function(e,t){const n=WE(e);return Jt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Jt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Jt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Jt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Fa.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Jt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=VE(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Jt(i,t.length)},I:function(e,t,n){const r=n2(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Jt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Fa.d(e,t)},D:function(e,t,n){const r=sM(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Jt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Jt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Jt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Jt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Pl.noon:r===0?i=Pl.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Pl.evening:r>=12?i=Pl.afternoon:r>=4?i=Pl.morning:i=Pl.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fa.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Fa.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Jt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Jt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fa.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Fa.s(e,t)},S:function(e,t){return Fa.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ob(r);case"XXXX":case"XX":return qo(r);case"XXXXX":case"XXX":default:return qo(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ob(r);case"xxxx":case"xx":return qo(r);case"xxxxx":case"xxx":default:return qo(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ab(r,":");case"OOOO":default:return"GMT"+qo(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ab(r,":");case"zzzz":default:return"GMT"+qo(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Jt(r,t.length)},T:function(e,t,n){return Jt(+e,t.length)}};function ab(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Jt(a,2)}function ob(e,t){return e%60===0?(e>0?"-":"+")+Jt(Math.abs(e)/60,2):qo(e,t)}function qo(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Jt(Math.trunc(r/60),2),a=Jt(r%60,2);return n+i+t+a}const lb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},YE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},aM=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return lb(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",lb(r,t)).replace("{{time}}",YE(i,t))},wg={p:YE,P:aM},oM=/^D+$/,lM=/^Y+$/,cM=["D","DD","YY","YYYY"];function $E(e){return oM.test(e)}function GE(e){return lM.test(e)}function bg(e,t,n){const r=uM(e,t,n);if(console.warn(r),cM.includes(e))throw new RangeError(r)}function uM(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hM=/^'([^]*?)'?$/,pM=/''/g,mM=/[a-zA-Z]/;function cd(e,t,n){var w,E,_,k,A,I,L,j;const r=xo(),i=(n==null?void 0:n.locale)??r.locale??t2,a=(n==null?void 0:n.firstWeekContainsDate)??((E=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??r.firstWeekContainsDate??((k=(_=r.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((I=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:I.weekStartsOn)??r.weekStartsOn??((j=(L=r.locale)==null?void 0:L.options)==null?void 0:j.weekStartsOn)??0,g=He(e,n==null?void 0:n.in);if(!sh(g))throw new RangeError("Invalid time value");let x=t.match(fM).map(D=>{const R=D[0];if(R==="p"||R==="P"){const W=wg[R];return W(D,i.formatLong)}return D}).join("").match(dM).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const R=D[0];if(R==="'")return{isToken:!1,value:gM(D)};if(ib[R])return{isToken:!0,value:D};if(R.match(mM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:D}});i.localize.preprocessor&&(x=i.localize.preprocessor(g,x));const v={firstWeekContainsDate:a,weekStartsOn:d,locale:i};return x.map(D=>{if(!D.isToken)return D.value;const R=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&GE(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&$E(R))&&bg(R,t,String(e));const W=ib[R[0]];return W(g,R,i.localize,v)}).join("")}function gM(e){const t=e.match(hM);return t?t[1].replace(pM,"'"):e}function xM(e,t,n){const r=xo(),i=(n==null?void 0:n.locale)??r.locale??t2,a=2520,d=m0(e,t);if(isNaN(d))throw new RangeError("Invalid time value");const g=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:d}),[x,v]=pi(n==null?void 0:n.in,...d>0?[t,e]:[e,t]),w=NO(v,x),E=(xc(v)-xc(x))/1e3,_=Math.round((w-E)/60);let k;if(_<2)return n!=null&&n.includeSeconds?w<5?i.formatDistance("lessThanXSeconds",5,g):w<10?i.formatDistance("lessThanXSeconds",10,g):w<20?i.formatDistance("lessThanXSeconds",20,g):w<40?i.formatDistance("halfAMinute",0,g):w<60?i.formatDistance("lessThanXMinutes",1,g):i.formatDistance("xMinutes",1,g):_===0?i.formatDistance("lessThanXMinutes",1,g):i.formatDistance("xMinutes",_,g);if(_<45)return i.formatDistance("xMinutes",_,g);if(_<90)return i.formatDistance("aboutXHours",1,g);if(_<eb){const A=Math.round(_/60);return i.formatDistance("aboutXHours",A,g)}else{if(_<a)return i.formatDistance("xDays",1,g);if(_<Hf){const A=Math.round(_/eb);return i.formatDistance("xDays",A,g)}else if(_<Hf*2)return k=Math.round(_/Hf),i.formatDistance("aboutXMonths",k,g)}if(k=EO(v,x),k<12){const A=Math.round(_/Hf);return i.formatDistance("xMonths",A,g)}else{const A=k%12,I=Math.trunc(k/12);return A<3?i.formatDistance("aboutXYears",I,g):A<9?i.formatDistance("overXYears",I,g):i.formatDistance("almostXYears",I+1,g)}}function vM(e,t){return xM(e,xO(e),t)}function cb(e,t){return He(e,t==null?void 0:t.in).getDate()}function yM(e,t){return He(e,t==null?void 0:t.in).getDay()}function wM(e,t){const n=He(e,t==null?void 0:t.in),r=n.getFullYear(),i=n.getMonth(),a=$t(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function bM(){return Object.assign({},xo())}function da(e,t){return He(e,t==null?void 0:t.in).getHours()}function CM(e,t){const n=He(e,t==null?void 0:t.in).getDay();return n===0?7:n}function fa(e,t){return He(e,t==null?void 0:t.in).getMinutes()}function Ir(e,t){return He(e,t==null?void 0:t.in).getMonth()}function ao(e){return He(e).getSeconds()}function Cg(e){return+He(e)}function bt(e,t){return He(e,t==null?void 0:t.in).getFullYear()}function uo(e,t){return+He(e)>+He(t)}function dl(e,t){return+He(e)<+He(t)}function EM(e,t){return+He(e)==+He(t)}function NM(e,t){const n=_M(t)?new t(0):$t(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function _M(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const SM=10;class XE{constructor(){Ue(this,"subPriority",0)}validate(t,n){return!0}}class AM extends XE{constructor(t,n,r,i,a){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class kM extends XE{constructor(n,r){super();Ue(this,"priority",SM);Ue(this,"subPriority",-1);this.context=n||(i=>$t(r,i))}set(n,r){return r.timestampIsSet?n:$t(n,NM(n,this.context))}}class Ht{run(t,n,r,i){const a=this.parse(t,n,r,i);return a?{setter:new AM(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,n,r){return!0}}class TM extends Ht{constructor(){super(...arguments);Ue(this,"priority",140);Ue(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Hn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ti={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qn(e,t){return e&&{value:t(e.value),rest:e.rest}}function An(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Di(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,d=n[5]?parseInt(n[5],10):0;return{value:r*(i*tp+a*ep+d*fO),rest:t.slice(n[0].length)}}function QE(e){return An(Hn.anyDigitsSigned,e)}function Fn(e,t){switch(e){case 1:return An(Hn.singleDigit,t);case 2:return An(Hn.twoDigits,t);case 3:return An(Hn.threeDigits,t);case 4:return An(Hn.fourDigits,t);default:return An(new RegExp("^\\d{1,"+e+"}"),t)}}function oh(e,t){switch(e){case 1:return An(Hn.singleDigitSigned,t);case 2:return An(Hn.twoDigitsSigned,t);case 3:return An(Hn.threeDigitsSigned,t);case 4:return An(Hn.fourDigitsSigned,t);default:return An(new RegExp("^-?\\d{1,"+e+"}"),t)}}function s2(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function KE(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const a=r+50,d=Math.trunc(a/100)*100,g=e>=a%100;i=e+d-(g?100:0)}return n?i:1-i}function ZE(e){return e%400===0||e%4===0&&e%100!==0}class DM extends Ht{constructor(){super(...arguments);Ue(this,"priority",130);Ue(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const a=d=>({year:d,isTwoDigitYear:r==="yy"});switch(r){case"y":return qn(Fn(4,n),a);case"yo":return qn(i.ordinalNumber(n,{unit:"year"}),a);default:return qn(Fn(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const a=n.getFullYear();if(i.isTwoDigitYear){const g=KE(i.year,a);return n.setFullYear(g,0,1),n.setHours(0,0,0,0),n}const d=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(d,0,1),n.setHours(0,0,0,0),n}}class jM extends Ht{constructor(){super(...arguments);Ue(this,"priority",130);Ue(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const a=d=>({year:d,isTwoDigitYear:r==="YY"});switch(r){case"Y":return qn(Fn(4,n),a);case"Yo":return qn(i.ordinalNumber(n,{unit:"year"}),a);default:return qn(Fn(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,a){const d=r2(n,a);if(i.isTwoDigitYear){const x=KE(i.year,d);return n.setFullYear(x,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),ya(n,a)}const g=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(g,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),ya(n,a)}}class IM extends Ht{constructor(){super(...arguments);Ue(this,"priority",130);Ue(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return oh(r==="R"?4:r.length,n)}set(n,r,i){const a=$t(n,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),gc(a)}}class RM extends Ht{constructor(){super(...arguments);Ue(this,"priority",130);Ue(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return oh(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class OM extends Ht{constructor(){super(...arguments);Ue(this,"priority",120);Ue(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Fn(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class MM extends Ht{constructor(){super(...arguments);Ue(this,"priority",120);Ue(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Fn(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class LM extends Ht{constructor(){super(...arguments);Ue(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ue(this,"priority",110)}parse(n,r,i){const a=d=>d-1;switch(r){case"M":return qn(An(Hn.month,n),a);case"MM":return qn(Fn(2,n),a);case"Mo":return qn(i.ordinalNumber(n,{unit:"month"}),a);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class PM extends Ht{constructor(){super(...arguments);Ue(this,"priority",110);Ue(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const a=d=>d-1;switch(r){case"L":return qn(An(Hn.month,n),a);case"LL":return qn(Fn(2,n),a);case"Lo":return qn(i.ordinalNumber(n,{unit:"month"}),a);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function FM(e,t,n){const r=He(e,n==null?void 0:n.in),i=VE(r,n)-t;return r.setDate(r.getDate()-i*7),He(r,n==null?void 0:n.in)}class BM extends Ht{constructor(){super(...arguments);Ue(this,"priority",100);Ue(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return An(Hn.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Fn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,a){return ya(FM(n,i,a),a)}}function UM(e,t,n){const r=He(e,n==null?void 0:n.in),i=n2(r,n)-t;return r.setDate(r.getDate()-i*7),r}class zM extends Ht{constructor(){super(...arguments);Ue(this,"priority",100);Ue(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return An(Hn.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Fn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return gc(UM(n,i))}}const WM=[31,28,31,30,31,30,31,31,30,31,30,31],HM=[31,29,31,30,31,30,31,31,30,31,30,31];class qM extends Ht{constructor(){super(...arguments);Ue(this,"priority",90);Ue(this,"subPriority",1);Ue(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return An(Hn.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Fn(r.length,n)}}validate(n,r){const i=n.getFullYear(),a=ZE(i),d=n.getMonth();return a?r>=1&&r<=HM[d]:r>=1&&r<=WM[d]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class VM extends Ht{constructor(){super(...arguments);Ue(this,"priority",90);Ue(this,"subpriority",1);Ue(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return An(Hn.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Fn(r.length,n)}}validate(n,r){const i=n.getFullYear();return ZE(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function i2(e,t,n){var E,_,k,A;const r=xo(),i=(n==null?void 0:n.weekStartsOn)??((_=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((A=(k=r.locale)==null?void 0:k.options)==null?void 0:A.weekStartsOn)??0,a=He(e,n==null?void 0:n.in),d=a.getDay(),x=(t%7+7)%7,v=7-i,w=t<0||t>6?t-(d+v)%7:(x+v)%7-(d+v)%7;return ci(a,w,n)}class YM extends Ht{constructor(){super(...arguments);Ue(this,"priority",90);Ue(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,a){return n=i2(n,i,a),n.setHours(0,0,0,0),n}}class $M extends Ht{constructor(){super(...arguments);Ue(this,"priority",90);Ue(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,a){const d=g=>{const x=Math.floor((g-1)/7)*7;return(g+a.weekStartsOn+6)%7+x};switch(r){case"e":case"ee":return qn(Fn(r.length,n),d);case"eo":return qn(i.ordinalNumber(n,{unit:"day"}),d);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,a){return n=i2(n,i,a),n.setHours(0,0,0,0),n}}class GM extends Ht{constructor(){super(...arguments);Ue(this,"priority",90);Ue(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,a){const d=g=>{const x=Math.floor((g-1)/7)*7;return(g+a.weekStartsOn+6)%7+x};switch(r){case"c":case"cc":return qn(Fn(r.length,n),d);case"co":return qn(i.ordinalNumber(n,{unit:"day"}),d);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,a){return n=i2(n,i,a),n.setHours(0,0,0,0),n}}function XM(e,t,n){const r=He(e,n==null?void 0:n.in),i=CM(r,n),a=t-i;return ci(r,a,n)}class QM extends Ht{constructor(){super(...arguments);Ue(this,"priority",90);Ue(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const a=d=>d===0?7:d;switch(r){case"i":case"ii":return Fn(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return qn(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),a);case"iiiii":return qn(i.day(n,{width:"narrow",context:"formatting"}),a);case"iiiiii":return qn(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),a);case"iiii":default:return qn(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),a)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=XM(n,i),n.setHours(0,0,0,0),n}}class KM extends Ht{constructor(){super(...arguments);Ue(this,"priority",80);Ue(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(s2(i),0,0,0),n}}class ZM extends Ht{constructor(){super(...arguments);Ue(this,"priority",80);Ue(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(s2(i),0,0,0),n}}class JM extends Ht{constructor(){super(...arguments);Ue(this,"priority",80);Ue(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(s2(i),0,0,0),n}}class e9 extends Ht{constructor(){super(...arguments);Ue(this,"priority",70);Ue(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return An(Hn.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Fn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const a=n.getHours()>=12;return a&&i<12?n.setHours(i+12,0,0,0):!a&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class t9 extends Ht{constructor(){super(...arguments);Ue(this,"priority",70);Ue(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return An(Hn.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Fn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class n9 extends Ht{constructor(){super(...arguments);Ue(this,"priority",70);Ue(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return An(Hn.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Fn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class r9 extends Ht{constructor(){super(...arguments);Ue(this,"priority",70);Ue(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return An(Hn.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Fn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const a=i<=24?i%24:i;return n.setHours(a,0,0,0),n}}class s9 extends Ht{constructor(){super(...arguments);Ue(this,"priority",60);Ue(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return An(Hn.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Fn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class i9 extends Ht{constructor(){super(...arguments);Ue(this,"priority",50);Ue(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return An(Hn.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Fn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class a9 extends Ht{constructor(){super(...arguments);Ue(this,"priority",30);Ue(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return qn(Fn(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class o9 extends Ht{constructor(){super(...arguments);Ue(this,"priority",10);Ue(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Di(Ti.basicOptionalMinutes,n);case"XX":return Di(Ti.basic,n);case"XXXX":return Di(Ti.basicOptionalSeconds,n);case"XXXXX":return Di(Ti.extendedOptionalSeconds,n);case"XXX":default:return Di(Ti.extended,n)}}set(n,r,i){return r.timestampIsSet?n:$t(n,n.getTime()-xc(n)-i)}}class l9 extends Ht{constructor(){super(...arguments);Ue(this,"priority",10);Ue(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Di(Ti.basicOptionalMinutes,n);case"xx":return Di(Ti.basic,n);case"xxxx":return Di(Ti.basicOptionalSeconds,n);case"xxxxx":return Di(Ti.extendedOptionalSeconds,n);case"xxx":default:return Di(Ti.extended,n)}}set(n,r,i){return r.timestampIsSet?n:$t(n,n.getTime()-xc(n)-i)}}class c9 extends Ht{constructor(){super(...arguments);Ue(this,"priority",40);Ue(this,"incompatibleTokens","*")}parse(n){return QE(n)}set(n,r,i){return[$t(n,i*1e3),{timestampIsSet:!0}]}}class u9 extends Ht{constructor(){super(...arguments);Ue(this,"priority",20);Ue(this,"incompatibleTokens","*")}parse(n){return QE(n)}set(n,r,i){return[$t(n,i),{timestampIsSet:!0}]}}const d9={G:new TM,y:new DM,Y:new jM,R:new IM,u:new RM,Q:new OM,q:new MM,M:new LM,L:new PM,w:new BM,I:new zM,d:new qM,D:new VM,E:new YM,e:new $M,c:new GM,i:new QM,a:new KM,b:new ZM,B:new JM,h:new e9,H:new t9,K:new n9,k:new r9,m:new s9,s:new i9,S:new a9,X:new o9,x:new l9,t:new c9,T:new u9},f9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,p9=/^'([^]*?)'?$/,m9=/''/g,g9=/\S/,x9=/[a-zA-Z]/;function v9(e,t,n,r){var L,j,D,R,W,Z,U,O;const i=()=>$t((r==null?void 0:r.in)||n,NaN),a=bM(),d=(r==null?void 0:r.locale)??a.locale??t2,g=(r==null?void 0:r.firstWeekContainsDate)??((j=(L=r==null?void 0:r.locale)==null?void 0:L.options)==null?void 0:j.firstWeekContainsDate)??a.firstWeekContainsDate??((R=(D=a.locale)==null?void 0:D.options)==null?void 0:R.firstWeekContainsDate)??1,x=(r==null?void 0:r.weekStartsOn)??((Z=(W=r==null?void 0:r.locale)==null?void 0:W.options)==null?void 0:Z.weekStartsOn)??a.weekStartsOn??((O=(U=a.locale)==null?void 0:U.options)==null?void 0:O.weekStartsOn)??0;if(!t)return e?i():He(n,r==null?void 0:r.in);const v={firstWeekContainsDate:g,weekStartsOn:x,locale:d},w=[new kM(r==null?void 0:r.in,n)],E=t.match(h9).map(V=>{const Y=V[0];if(Y in wg){const ee=wg[Y];return ee(V,d.formatLong)}return V}).join("").match(f9),_=[];for(let V of E){!(r!=null&&r.useAdditionalWeekYearTokens)&&GE(V)&&bg(V,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&$E(V)&&bg(V,t,e);const Y=V[0],ee=d9[Y];if(ee){const{incompatibleTokens:de}=ee;if(Array.isArray(de)){const le=_.find(Te=>de.includes(Te.token)||Te.token===Y);if(le)throw new RangeError(`The format string mustn't contain \`${le.fullToken}\` and \`${V}\` at the same time`)}else if(ee.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${V}\` and any other token at the same time`);_.push({token:Y,fullToken:V});const ie=ee.run(e,V,d.match,v);if(!ie)return i();w.push(ie.setter),e=ie.rest}else{if(Y.match(x9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");if(V==="''"?V="'":Y==="'"&&(V=y9(V)),e.indexOf(V)===0)e=e.slice(V.length);else return i()}}if(e.length>0&&g9.test(e))return i();const k=w.map(V=>V.priority).sort((V,Y)=>Y-V).filter((V,Y,ee)=>ee.indexOf(V)===Y).map(V=>w.filter(Y=>Y.priority===V).sort((Y,ee)=>ee.subPriority-Y.subPriority)).map(V=>V[0]);let A=He(n,r==null?void 0:r.in);if(isNaN(+A))return i();const I={};for(const V of k){if(!V.validate(A,v))return i();const Y=V.set(A,I,v);Array.isArray(Y)?(A=Y[0],Object.assign(I,Y[1])):A=Y}return A}function y9(e){return e.match(p9)[1].replace(m9,"'")}function w9(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function b9(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t);return+yg(r)==+yg(i)}function C9(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()}function ud(e,t,n){const r=+He(e,n==null?void 0:n.in),[i,a]=[+He(t.start,n==null?void 0:n.in),+He(t.end,n==null?void 0:n.in)].sort((d,g)=>d-g);return r>=i&&r<=a}function E9(e,t,n){return ci(e,-t,n)}function N9(e,t){const n=()=>$t(t==null?void 0:t.in,NaN),r=(t==null?void 0:t.additionalDigits)??2,i=k9(e);let a;if(i.date){const v=T9(i.date,r);a=D9(v.restDateString,v.year)}if(!a||isNaN(+a))return n();const d=+a;let g=0,x;if(i.time&&(g=j9(i.time),isNaN(g)))return n();if(i.timezone){if(x=I9(i.timezone),isNaN(x))return n()}else{const v=new Date(d+g),w=He(0,t==null?void 0:t.in);return w.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),w.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),w}return He(d+g+x,t==null?void 0:t.in)}const qf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,S9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,A9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function k9(e){const t={},n=e.split(qf.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],qf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(qf.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=qf.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function T9(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function D9(e,t){if(t===null)return new Date(NaN);const n=e.match(_9);if(!n)return new Date(NaN);const r=!!n[4],i=Cu(n[1]),a=Cu(n[2])-1,d=Cu(n[3]),g=Cu(n[4]),x=Cu(n[5])-1;if(r)return P9(t,g,x)?R9(t,g,x):new Date(NaN);{const v=new Date(0);return!M9(t,a,d)||!L9(t,i)?new Date(NaN):(v.setUTCFullYear(t,a,Math.max(i,d)),v)}}function Cu(e){return e?parseInt(e):1}function j9(e){const t=e.match(S9);if(!t)return NaN;const n=$1(t[1]),r=$1(t[2]),i=$1(t[3]);return F9(n,r,i)?n*tp+r*ep+i*1e3:NaN}function $1(e){return e&&parseFloat(e.replace(",","."))||0}function I9(e){if(e==="Z")return 0;const t=e.match(A9);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return B9(r,i)?n*(r*tp+i*ep):NaN}function R9(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const O9=[31,null,31,30,31,30,31,31,30,31,30,31];function JE(e){return e%400===0||e%4===0&&e%100!==0}function M9(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(O9[t]||(JE(e)?29:28))}function L9(e,t){return t>=1&&t<=(JE(e)?366:365)}function P9(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function F9(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function B9(e,t){return t>=0&&t<=59}function Us(e,t,n){const r=He(e,n==null?void 0:n.in),i=r.getFullYear(),a=r.getDate(),d=$t((n==null?void 0:n.in)||e,0);d.setFullYear(i,t,15),d.setHours(0,0,0,0);const g=wM(d);return r.setMonth(t,Math.min(a,g)),r}function g0(e,t,n){const r=He(e,n==null?void 0:n.in);return r.setHours(t),r}function x0(e,t,n){const r=He(e,n==null?void 0:n.in);return r.setMinutes(t),r}function Fl(e,t,n){const r=He(e,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,a=t-i;return Us(r,r.getMonth()+a*3)}function v0(e,t,n){const r=He(e,n==null?void 0:n.in);return r.setSeconds(t),r}function _i(e,t,n){const r=He(e,n==null?void 0:n.in);return isNaN(+r)?$t((n==null?void 0:n.in)||e,NaN):(r.setFullYear(t),r)}function tl(e,t,n){return di(e,-t,n)}function eN(e,t,n){return Zx(e,-t,n)}function ub(e,t,n){return rh(e,-t,n)}function yc(e,t,n){return ca(e,-t,n)}const U9=()=>{const[e,t]=M.useState(!1),n=M.useRef(null),{notifications:r,unreadCount:i,markAsRead:a,markAllAsRead:d,clearNotifications:g}=eO();M.useEffect(()=>{const E=_=>{n.current&&!n.current.contains(_.target)&&t(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const x=()=>{t(!e)},v=E=>{a(E.id),t(!1)},w=E=>{switch(E){case"warning":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"success":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});default:return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}};return l.jsxs("div",{className:"relative",ref:n,children:[l.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-800 focus:outline-none",onClick:x,"aria-label":`Notifications ${i>0?`(${i} unread)`:""}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),i>0&&l.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:i})]}),e&&l.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:l.jsxs("div",{className:"py-2",children:[l.jsxs("div",{className:"px-4 py-2 bg-gray-100 flex justify-between items-center",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Notifications"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:d,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"}),l.jsx("button",{onClick:g,className:"text-xs text-red-600 hover:text-red-800",children:"Clear all"})]})]}),l.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.length===0?l.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No notifications"}):r.map(E=>l.jsx("div",{className:`px-4 py-3 border-b border-gray-100 ${E.read?"":"bg-blue-50"}`,onClick:()=>v(E),children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:w(E.type)}),l.jsxs("div",{className:"ml-3 w-0 flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.title}),l.jsx("p",{className:"text-sm text-gray-600",children:E.message}),E.typeId&&l.jsx(Ln,{to:`/equipment?type=${E.typeId}`,className:"text-xs text-blue-600 hover:text-blue-800 mt-1 inline-block",onClick:_=>_.stopPropagation(),children:"View equipment"}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:vM(new Date(E.timestamp),{addSuffix:!0})})]})]})},E.id))})]})})]})},z9=({toggleSidebar:e})=>{const{user:t,logout:n,isImpersonating:r}=ar(),i=fi(),a=()=>{n(),i("/login")};return l.jsx("nav",{className:"bg-white text-slate-800 shadow-soft sticky top-0 z-30 border-b border-slate-200 h-16",children:l.jsx("div",{className:"container-app py-0",children:l.jsxs("div",{className:"flex justify-between h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsxs(Ln,{to:"/",className:"flex-shrink-0 flex items-center gap-2",children:[l.jsx("img",{src:"/bird-logo.svg",alt:"Theater Equipment Logo",className:"w-8 h-8"}),l.jsx("span",{className:"text-xl font-bold text-slate-800",children:"Ton Equipment Inventory"})]})}),t?l.jsx("div",{className:"flex items-center",children:l.jsxs("div",{className:"flex items-center gap-3",children:[t.role==="admin"&&l.jsx(U9,{}),l.jsxs("div",{className:"px-3 py-1 rounded-full bg-slate-100 text-slate-700 text-sm flex items-center",children:[l.jsx("span",{className:"font-medium",children:t.username}),l.jsx("span",{className:"ml-1 text-xs px-1.5 py-0.5 bg-primary-100 text-primary-700 rounded-full",children:t.role}),r()&&l.jsx("span",{className:"ml-1 text-xs bg-yellow-100 text-yellow-700 px-1.5 py-0.5 rounded-full border border-yellow-200",children:"Impersonating"})]}),l.jsxs("button",{onClick:a,className:"nav-link text-slate-600 hover:text-red-600","aria-label":"Logout",children:[l.jsx(Zw,{}),l.jsx("span",{className:"hidden md:inline",children:r()?"End Impersonation":"Logout"})]})]})}):l.jsx("div",{className:"flex items-center",children:l.jsxs(Ln,{to:"/login",className:"btn btn-primary",children:[l.jsx(Zw,{className:"rotate-180"}),l.jsx("span",{children:"Login"})]})})]})})})},W9=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:l.jsx("polyline",{points:"9 18 15 12 9 6"})}),H9=({isOpen:e,isCollapsed:t,toggleSidebar:n,toggleCollapse:r})=>{const{isAdmin:i,isAdvanced:a}=ar(),d=Dc();M.useEffect(()=>{const x=()=>{window.innerWidth<768&&e&&n(!1)};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[e,n]);const g=x=>d.pathname===x;return l.jsxs(l.Fragment,{children:[e&&l.jsx("div",{className:"sidebar-overlay",onClick:()=>n(!1),style:{opacity:e?1:0}}),l.jsxs("aside",{className:`sidebar ${e?"":"sidebar-hidden"} ${t?"sidebar-collapsed":"sidebar-expanded"}`,children:[l.jsxs("div",{className:"flex justify-between items-center px-4 py-2",children:[!t&&l.jsx("span",{className:"text-lg font-semibold text-slate-800",children:"Navigation"}),l.jsxs("div",{className:"flex",children:[l.jsx("button",{onClick:()=>r(!t),className:"sidebar-collapse-btn","aria-label":t?"Expand sidebar":"Collapse sidebar",children:t?l.jsx(W9,{className:"w-4 h-4"}):l.jsx(aO,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>n(!e),className:"sidebar-toggle-btn md:hidden","aria-label":e?"Hide sidebar":"Show sidebar",children:l.jsx(iO,{className:"w-4 h-4"})})]})]}),l.jsxs("nav",{className:"sidebar-nav",children:[l.jsxs(Ln,{to:"/dashboard",className:`sidebar-nav-item ${g("/dashboard")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Dashboard",children:[l.jsx(tO,{className:"sidebar-nav-icon"}),l.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Dashboard"})]}),l.jsxs(Ln,{to:"/equipment",className:`sidebar-nav-item ${g("/equipment")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Equipment",children:[l.jsx(nO,{className:"sidebar-nav-icon"}),l.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Equipment"})]}),(i()||a())&&l.jsxs(Ln,{to:"/equipment/new",className:`sidebar-nav-item ${g("/equipment/new")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Add Equipment",children:[l.jsx(PE,{className:"sidebar-nav-icon"}),l.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Add Equipment"})]}),i()&&l.jsxs(Ln,{to:"/equipment-logs",className:`sidebar-nav-item ${g("/equipment-logs")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Equipment Logs",children:[l.jsx(lO,{className:"sidebar-nav-icon"}),l.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Equipment Logs"})]}),i()&&l.jsxs(Ln,{to:"/admin",className:`sidebar-nav-item ${g("/admin")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Admin",children:[l.jsx(rO,{className:"sidebar-nav-icon"}),l.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Admin"})]}),l.jsxs(Ln,{to:"/settings",className:`sidebar-nav-item ${g("/settings")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Settings",children:[l.jsx(sO,{className:"sidebar-nav-icon"}),l.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Settings"})]})]})]})]})},q9=()=>{const{user:e,isImpersonating:t,logout:n}=ar();return t()?l.jsx("div",{className:"bg-yellow-500 text-white py-2",children:l.jsxs("div",{className:"container-app py-0 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-bold",children:"Impersonation Mode:"})," You are currently viewing the application as ",e.username," (",e.role,")"]}),l.jsx("button",{onClick:n,className:"bg-white text-yellow-700 px-3 py-1 rounded-md text-sm font-medium hover:bg-yellow-100",children:"End Impersonation"})]})}):null},V9=()=>{const[e,t]=M.useState(""),[n,r]=M.useState(""),[i,a]=M.useState(""),[d,g]=M.useState(!1),{login:x}=ar(),v=fi(),w=async E=>{var _,k;if(E.preventDefault(),!e||!n){a("Username and password are required");return}try{g(!0),a(""),await x(e,n),v("/dashboard")}catch(A){a(((k=(_=A.response)==null?void 0:_.data)==null?void 0:k.message)||"Login failed")}finally{g(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Theater Equipment Catalog"}),l.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[i&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:l.jsx("p",{className:"text-red-700",children:i})}),l.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),l.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:E=>t(E.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),l.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:E=>r(E.target.value)})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:d,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${d?"opacity-70 cursor-not-allowed":""}`,children:d?"Signing in...":"Sign in"})}),l.jsx("div",{className:"text-sm text-center",children:l.jsx("p",{className:"text-gray-600",children:"Insert the credentials the admin provided to you"})})]})]})})},ml=async()=>{try{return{categories:(await dt.get("/api/categories")).data}}catch(e){return console.error("Error fetching categories:",e),{categories:[]}}},Y9=async(e,t="")=>(await dt.post("/api/categories",{name:e,description:t})).data,$9=async(e,t,n="")=>(await dt.put(`/api/categories/${e}`,{name:t,description:n})).data,G9=async e=>(await dt.delete(`/api/categories/${e}`)).data,tN=async()=>{try{return{searches:(await dt.get("/api/saved-searches")).data||[]}}catch(e){return console.error("Error fetching saved searches:",e),{searches:[]}}},nN=async e=>{try{return(await dt.post("/api/saved-searches",e)).data}catch(t){throw console.error("Error saving search:",t),t}},rN=async e=>{try{return(await dt.delete(`/api/saved-searches/${e}`)).data}catch(t){throw console.error("Error deleting saved search:",t),t}},$e=({children:e,variant:t="primary",size:n="md",type:r="button",fullWidth:i=!1,disabled:a=!1,onClick:d,className:g="",as:x="button",...v})=>{const w="inline-flex items-center justify-center font-medium transition-all duration-200 rounded-md focus:outline-none focus:ring-1 focus:ring-offset-1",E={primary:"bg-white text-primary-600 hover:bg-primary-50 focus:ring-primary-500 border border-primary-500 hover:border-primary-600 hover:shadow-sm transition-all",secondary:"bg-white text-slate-600 hover:bg-slate-50 focus:ring-slate-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",outline:"bg-white hover:bg-slate-50 text-slate-700 focus:ring-primary-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",danger:"bg-white text-red-600 hover:bg-red-50 focus:ring-red-500 border border-red-500 hover:border-red-600 hover:shadow-sm transition-all",success:"bg-white text-green-600 hover:bg-green-50 focus:ring-green-500 border border-green-500 hover:border-green-600 hover:shadow-sm transition-all",ghost:"bg-transparent hover:bg-slate-100 text-slate-700 focus:ring-slate-500 border border-transparent hover:shadow-sm transition-all"},_={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-sm"},k=a?"opacity-60 cursor-not-allowed":"cursor-pointer",A=i?"w-full":"",I=`
    ${w}
    ${E[t]||E.primary}
    ${_[n]||_.md}
    ${k}
    ${A}
    ${g}
  `,L=x==="button"?{type:r,...v}:v;return l.jsx(x,{className:I,disabled:a,onClick:d,...L,children:e})};$e.propTypes={children:se.node.isRequired,variant:se.oneOf(["primary","secondary","outline","danger","success","ghost"]),size:se.oneOf(["sm","md","lg"]),type:se.oneOf(["button","submit","reset"]),fullWidth:se.bool,disabled:se.bool,onClick:se.func,className:se.string,as:se.elementType};const Mt=({id:e,name:t,type:n="text",label:r,placeholder:i,value:a,onChange:d,onBlur:g,error:x,icon:v,disabled:w=!1,required:E=!1,className:_="",...k})=>{const D=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${x?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${w?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    ${v?"pl-10":"pl-3"}
    py-2 pr-3 text-sm
    ${_}
  `;return l.jsxs("div",{className:"w-full",children:[r&&l.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${x?"text-red-600":"text-slate-700"}`,children:[r,E&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsxs("div",{className:"relative",children:[v&&l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:v}),l.jsx("input",{id:e,name:t,type:n,value:a,onChange:d,onBlur:g,placeholder:i,disabled:w,required:E,className:D,...k})]}),x&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:x})]})};Mt.propTypes={id:se.string.isRequired,name:se.string.isRequired,type:se.string,label:se.string,placeholder:se.string,value:se.oneOfType([se.string,se.number]),onChange:se.func,onBlur:se.func,error:se.string,icon:se.node,disabled:se.bool,required:se.bool,className:se.string};var ze;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ze||(ze={}));var db=new Map([[ze.QR_CODE,"QR_CODE"],[ze.AZTEC,"AZTEC"],[ze.CODABAR,"CODABAR"],[ze.CODE_39,"CODE_39"],[ze.CODE_93,"CODE_93"],[ze.CODE_128,"CODE_128"],[ze.DATA_MATRIX,"DATA_MATRIX"],[ze.MAXICODE,"MAXICODE"],[ze.ITF,"ITF"],[ze.EAN_13,"EAN_13"],[ze.EAN_8,"EAN_8"],[ze.PDF_417,"PDF_417"],[ze.RSS_14,"RSS_14"],[ze.RSS_EXPANDED,"RSS_EXPANDED"],[ze.UPC_A,"UPC_A"],[ze.UPC_E,"UPC_E"],[ze.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),fb;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(fb||(fb={}));function X9(e){return Object.values(ze).includes(e)}var lh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(lh||(lh={}));var Q9=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[lh.SCAN_TYPE_CAMERA,lh.SCAN_TYPE_FILE],e}(),sN=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!db.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,db.get(t))},e}(),hb=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Eg;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Eg||(Eg={}));var K9=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Eg.UNKWOWN_ERROR}},e}(),Z9=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function na(e){return typeof e>"u"||e===null}var Zl=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),iN=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),d=Object.keys(t),g=0,x=d;g<x.length;g++){var v=x[g];if(a.has(v))return n.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},e}(),Ng={exports:{}};(function(e,t){(function(n,r){r(t)})(Ai,function(n){function r(P){return P==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,s){P.__proto__=s}||function(P,s){for(var o in s)s.hasOwnProperty(o)&&(P[o]=s[o])};function a(P,s){i(P,s);function o(){this.constructor=P}P.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function d(P,s){var o=Object.setPrototypeOf;o?o(P,s):P.__proto__=s}function g(P,s){s===void 0&&(s=P.constructor);var o=Error.captureStackTrace;o&&o(P,s)}var x=function(P){a(s,P);function s(o){var c=this.constructor,f=P.call(this,o)||this;return Object.defineProperty(f,"name",{value:c.name,enumerable:!1}),d(f,c.prototype),g(f),f}return s}(Error);class v extends x{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}v.kind="Exception";class w extends v{}w.kind="ArgumentException";class E extends v{}E.kind="IllegalArgumentException";class _{constructor(s){if(this.binarizer=s,s===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,c,f){const h=this.binarizer.getLuminanceSource().crop(s,o,c,f);return new _(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends v{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class A{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(s,o,c,f,h){for(;h--;)c[f++]=s[o++]}static currentTimeMillis(){return Date.now()}}class L extends v{}L.kind="IndexOutOfBoundsException";class j extends L{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}j.kind="ArrayIndexOutOfBoundsException";class D{static fill(s,o){for(let c=0,f=s.length;c<f;c++)s[c]=o}static fillWithin(s,o,c,f){D.rangeCheck(s.length,o,c);for(let h=o;h<c;h++)s[h]=f}static rangeCheck(s,o,c){if(o>c)throw new E("fromIndex("+o+") > toIndex("+c+")");if(o<0)throw new j(o);if(c>s)throw new j(c)}static asList(...s){return s}static create(s,o,c){return Array.from({length:s}).map(h=>Array.from({length:o}).fill(c))}static createInt32Array(s,o,c){return Array.from({length:s}).map(h=>Int32Array.from({length:o}).fill(c))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let c=0,f=s.length;c<f;c++)if(s[c]!==o[c])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const c of s)o=31*o+c;return o}static fillUint8Array(s,o){for(let c=0;c!==s.length;c++)s[c]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const c=new Uint8Array(o);return c.set(s),c}return s.slice(0,o)}static copyOfRange(s,o,c){const f=c-o,h=new Int32Array(f);return I.arraycopy(s,o,h,0,f),h}static binarySearch(s,o,c){c===void 0&&(c=D.numberComparator);let f=0,h=s.length-1;for(;f<=h;){const m=h+f>>1,y=c(o,s[m]);if(y>0)f=m+1;else if(y<0)h=m-1;else return m}return-f-1}static numberComparator(s,o){return s-o}}class R{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let c=31;return o=s<<16,o!==0&&(c-=16,s=o),o=s<<8,o!==0&&(c-=8,s=o),o=s<<4,o!==0&&(c-=4,s=o),o=s<<2,o!==0&&(c-=2,s=o),c-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class W{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=W.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=W.makeArray(s);I.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),h=c[f];h&=~((1<<(s&31))-1);const m=c.length;for(;h===0;){if(++f===m)return o;h=c[f]}const y=f*32+R.numberOfTrailingZeros(h);return y>o?o:y}getNextUnset(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),h=~c[f];h&=~((1<<(s&31))-1);const m=c.length;for(;h===0;){if(++f===m)return o;h=~c[f]}const y=f*32+R.numberOfTrailingZeros(h);return y>o?o:y}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new E;if(o===s)return;o--;const c=Math.floor(s/32),f=Math.floor(o/32),h=this.bits;for(let m=c;m<=f;m++){const y=m>c?0:s&31,N=(2<<(m<f?31:o&31))-(1<<y);h[m]|=N}}clear(){const s=this.bits.length,o=this.bits;for(let c=0;c<s;c++)o[c]=0}isRange(s,o,c){if(o<s||s<0||o>this.size)throw new E;if(o===s)return!0;o--;const f=Math.floor(s/32),h=Math.floor(o/32),m=this.bits;for(let y=f;y<=h;y++){const C=y>f?0:s&31,T=(2<<(y<h?31:o&31))-(1<<C)&4294967295;if((m[y]&T)!==(c?T:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let c=o;c>0;c--)this.appendBit((s>>c-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let c=0;c<o;c++)this.appendBit(s.get(c))}xor(s){if(this.size!==s.size)throw new E("Sizes don't match");const o=this.bits;for(let c=0,f=o.length;c<f;c++)o[c]^=s.bits[c]}toBytes(s,o,c,f){for(let h=0;h<f;h++){let m=0;for(let y=0;y<8;y++)this.get(s)&&(m|=1<<7-y),s++;o[c+h]=m}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),c=o+1,f=this.bits;for(let h=0;h<c;h++){let m=f[h];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,s[o-h]=m}if(this.size!==c*32){const h=c*32-this.size;let m=s[0]>>>h;for(let y=1;y<c;y++){const C=s[y];m|=C<<32-h,s[y-1]=m,m=C>>>h}s[c-1]=m}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof W))return!1;const o=s;return this.size===o.size&&D.equals(this.bits,o.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let s="";for(let o=0,c=this.size;o<c;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new W(this.size,this.bits.slice())}}var Z;(function(P){P[P.OTHER=0]="OTHER",P[P.PURE_BARCODE=1]="PURE_BARCODE",P[P.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",P[P.TRY_HARDER=3]="TRY_HARDER",P[P.CHARACTER_SET=4]="CHARACTER_SET",P[P.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",P[P.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",P[P.ASSUME_GS1=7]="ASSUME_GS1",P[P.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",P[P.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",P[P.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Z||(Z={}));var U=Z;class O extends v{static getFormatInstance(){return new O}}O.kind="FormatException";var V;(function(P){P[P.Cp437=0]="Cp437",P[P.ISO8859_1=1]="ISO8859_1",P[P.ISO8859_2=2]="ISO8859_2",P[P.ISO8859_3=3]="ISO8859_3",P[P.ISO8859_4=4]="ISO8859_4",P[P.ISO8859_5=5]="ISO8859_5",P[P.ISO8859_6=6]="ISO8859_6",P[P.ISO8859_7=7]="ISO8859_7",P[P.ISO8859_8=8]="ISO8859_8",P[P.ISO8859_9=9]="ISO8859_9",P[P.ISO8859_10=10]="ISO8859_10",P[P.ISO8859_11=11]="ISO8859_11",P[P.ISO8859_13=12]="ISO8859_13",P[P.ISO8859_14=13]="ISO8859_14",P[P.ISO8859_15=14]="ISO8859_15",P[P.ISO8859_16=15]="ISO8859_16",P[P.SJIS=16]="SJIS",P[P.Cp1250=17]="Cp1250",P[P.Cp1251=18]="Cp1251",P[P.Cp1252=19]="Cp1252",P[P.Cp1256=20]="Cp1256",P[P.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",P[P.UTF8=22]="UTF8",P[P.ASCII=23]="ASCII",P[P.Big5=24]="Big5",P[P.GB18030=25]="GB18030",P[P.EUC_KR=26]="EUC_KR"})(V||(V={}));class Y{constructor(s,o,c,...f){this.valueIdentifier=s,this.name=c,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,Y.VALUE_IDENTIFIER_TO_ECI.set(s,this),Y.NAME_TO_ECI.set(c,this);const h=this.values;for(let m=0,y=h.length;m!==y;m++){const C=h[m];Y.VALUES_TO_ECI.set(C,this)}for(const m of f)Y.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new O("incorect value");const o=Y.VALUES_TO_ECI.get(s);if(o===void 0)throw new O("incorect value");return o}static getCharacterSetECIByName(s){const o=Y.NAME_TO_ECI.get(s);if(o===void 0)throw new O("incorect value");return o}equals(s){if(!(s instanceof Y))return!1;const o=s;return this.getName()===o.getName()}}Y.VALUE_IDENTIFIER_TO_ECI=new Map,Y.VALUES_TO_ECI=new Map,Y.NAME_TO_ECI=new Map,Y.Cp437=new Y(V.Cp437,Int32Array.from([0,2]),"Cp437"),Y.ISO8859_1=new Y(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Y.ISO8859_2=new Y(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Y.ISO8859_3=new Y(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Y.ISO8859_4=new Y(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Y.ISO8859_5=new Y(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Y.ISO8859_6=new Y(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Y.ISO8859_7=new Y(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Y.ISO8859_8=new Y(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Y.ISO8859_9=new Y(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Y.ISO8859_10=new Y(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Y.ISO8859_11=new Y(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Y.ISO8859_13=new Y(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Y.ISO8859_14=new Y(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Y.ISO8859_15=new Y(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Y.ISO8859_16=new Y(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Y.SJIS=new Y(V.SJIS,20,"SJIS","Shift_JIS"),Y.Cp1250=new Y(V.Cp1250,21,"Cp1250","windows-1250"),Y.Cp1251=new Y(V.Cp1251,22,"Cp1251","windows-1251"),Y.Cp1252=new Y(V.Cp1252,23,"Cp1252","windows-1252"),Y.Cp1256=new Y(V.Cp1256,24,"Cp1256","windows-1256"),Y.UnicodeBigUnmarked=new Y(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Y.UTF8=new Y(V.UTF8,26,"UTF8","UTF-8"),Y.ASCII=new Y(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Y.Big5=new Y(V.Big5,28,"Big5"),Y.GB18030=new Y(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Y.EUC_KR=new Y(V.EUC_KR,30,"EUC_KR","EUC-KR");class ee extends v{}ee.kind="UnsupportedOperationException";class de{static decode(s,o){const c=this.encodingName(o);return this.customDecoder?this.customDecoder(s,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(s,c):new TextDecoder(c).decode(s)}static shouldDecodeOnFallback(s){return!de.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const c=this.encodingName(o);return this.customEncoder?this.customEncoder(s,c):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof Y?s:Y.getCharacterSetECIByName(s)}static decodeFallback(s,o){const c=this.encodingCharacterSet(o);if(de.isDecodeFallbackSupported(c)){let f="";for(let h=0,m=s.length;h<m;h++){let y=s[h].toString(16);y.length<2&&(y="0"+y),f+="%"+y}return decodeURIComponent(f)}if(c.equals(Y.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new ee(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(Y.UTF8)||s.equals(Y.ISO8859_1)||s.equals(Y.ASCII)}static encodeFallback(s){const c=btoa(unescape(encodeURIComponent(s))).split(""),f=[];for(let h=0;h<c.length;h++)f.push(c[h].charCodeAt(0));return new Uint8Array(f)}}class ie{static castAsNonUtf8Char(s,o=null){const c=o?o.getName():this.ISO88591;return de.decode(new Uint8Array([s]),c)}static guessEncoding(s,o){if(o!=null&&o.get(U.CHARACTER_SET)!==void 0)return o.get(U.CHARACTER_SET).toString();const c=s.length;let f=!0,h=!0,m=!0,y=0,C=0,N=0,T=0,F=0,H=0,K=0,z=0,$=0,X=0,te=0;const he=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ge=0;ge<c&&(f||h||m);ge++){const xe=s[ge]&255;m&&(y>0?xe&128?y--:m=!1:xe&128&&(xe&64?(y++,xe&32?(y++,xe&16?(y++,xe&8?m=!1:T++):N++):C++):m=!1)),f&&(xe>127&&xe<160?f=!1:xe>159&&(xe<192||xe===215||xe===247)&&te++),h&&(F>0?xe<64||xe===127||xe>252?h=!1:F--:xe===128||xe===160||xe>239?h=!1:xe>160&&xe<224?(H++,z=0,K++,K>$&&($=K)):xe>127?(F++,K=0,z++,z>X&&(X=z)):(K=0,z=0))}return m&&y>0&&(m=!1),h&&F>0&&(h=!1),m&&(he||C+N+T>0)?ie.UTF8:h&&(ie.ASSUME_SHIFT_JIS||$>=3||X>=3)?ie.SHIFT_JIS:f&&h?$===2&&H===2||te*10>=c?ie.SHIFT_JIS:ie.ISO88591:f?ie.ISO88591:h?ie.SHIFT_JIS:m?ie.UTF8:ie.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let c=-1;function f(m,y,C,N,T,F){if(m==="%%")return"%";if(o[++c]===void 0)return;m=N?parseInt(N.substr(1)):void 0;let H=T?parseInt(T.substr(1)):void 0,K;switch(F){case"s":K=o[c];break;case"c":K=o[c][0];break;case"f":K=parseFloat(o[c]).toFixed(m);break;case"p":K=parseFloat(o[c]).toPrecision(m);break;case"e":K=parseFloat(o[c]).toExponential(m);break;case"x":K=parseInt(o[c]).toString(H||16);break;case"d":K=parseFloat(parseInt(o[c],H||10).toPrecision(m)).toFixed(0);break}K=typeof K=="object"?JSON.stringify(K):(+K).toString(H);let z=parseInt(C),$=C&&C[0]+""=="0"?"0":" ";for(;K.length<z;)K=y!==void 0?K+$:$+K;return K}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}static getBytes(s,o){return de.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}ie.SHIFT_JIS=Y.SJIS.getName(),ie.GB2312="GB2312",ie.ISO88591=Y.ISO8859_1.getName(),ie.EUC_JP="EUC_JP",ie.UTF8=Y.UTF8.getName(),ie.PLATFORM_DEFAULT_ENCODING=ie.UTF8,ie.ASSUME_SHIFT_JIS=!1;class le{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=ie.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,c){for(let f=o;o<o+c;f++)this.append(s[f]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class Te{constructor(s,o,c,f){if(this.width=s,this.height=o,this.rowSize=c,this.bits=f,o==null&&(o=s),this.height=o,s<1||o<1)throw new E("Both dimensions must be greater than 0");c==null&&(c=Math.floor((s+31)/32)),this.rowSize=c,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,c=s[0].length,f=new Te(c,o);for(let h=0;h<o;h++){const m=s[h];for(let y=0;y<c;y++)m[y]&&f.set(y,h)}return f}static parseFromString(s,o,c){if(s===null)throw new E("stringRepresentation cannot be null");const f=new Array(s.length);let h=0,m=0,y=-1,C=0,N=0;for(;N<s.length;)if(s.charAt(N)===`
`||s.charAt(N)==="\r"){if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new E("row lengths do not match");m=h,C++}N++}else if(s.substring(N,N+o.length)===o)N+=o.length,f[h]=!0,h++;else if(s.substring(N,N+c.length)===c)N+=c.length,f[h]=!1,h++;else throw new E("illegal character encountered: "+s.substring(N));if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new E("row lengths do not match");C++}const T=new Te(y,C);for(let F=0;F<h;F++)f[F]&&T.set(Math.floor(F%y),Math.floor(F/y));return T}get(s,o){const c=o*this.rowSize+Math.floor(s/32);return(this.bits[c]>>>(s&31)&1)!==0}set(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]|=1<<(s&31)&4294967295}unset(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]&=~(1<<(s&31)&4294967295)}flip(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new E("input matrix dimensions do not match");const o=new W(Math.floor(this.width/32)+1),c=this.rowSize,f=this.bits;for(let h=0,m=this.height;h<m;h++){const y=h*c,C=s.getRow(h,o).getBitArray();for(let N=0;N<c;N++)f[y+N]^=C[N]}}clear(){const s=this.bits,o=s.length;for(let c=0;c<o;c++)s[c]=0}setRegion(s,o,c,f){if(o<0||s<0)throw new E("Left and top must be nonnegative");if(f<1||c<1)throw new E("Height and width must be at least 1");const h=s+c,m=o+f;if(m>this.height||h>this.width)throw new E("The region must fit inside the matrix");const y=this.rowSize,C=this.bits;for(let N=o;N<m;N++){const T=N*y;for(let F=s;F<h;F++)C[T+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new W(this.width):o.clear();const c=this.rowSize,f=this.bits,h=s*c;for(let m=0;m<c;m++)o.setBulk(m*32,f[h+m]);return o}setRow(s,o){I.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let c=new W(s),f=new W(s);for(let h=0,m=Math.floor((o+1)/2);h<m;h++)c=this.getRow(h,c),f=this.getRow(o-1-h,f),c.reverse(),f.reverse(),this.setRow(h,f),this.setRow(o-1-h,c)}getEnclosingRectangle(){const s=this.width,o=this.height,c=this.rowSize,f=this.bits;let h=s,m=o,y=-1,C=-1;for(let N=0;N<o;N++)for(let T=0;T<c;T++){const F=f[N*c+T];if(F!==0){if(N<m&&(m=N),N>C&&(C=N),T*32<h){let H=0;for(;!(F<<31-H&4294967295);)H++;T*32+H<h&&(h=T*32+H)}if(T*32+31>y){let H=31;for(;!(F>>>H);)H--;T*32+H>y&&(y=T*32+H)}}}return y<h||C<m?null:Int32Array.from([h,m,y-h+1,C-m+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let c=0;for(;c<o.length&&o[c]===0;)c++;if(c===o.length)return null;const f=c/s;let h=c%s*32;const m=o[c];let y=0;for(;!(m<<31-y&4294967295);)y++;return h+=y,Int32Array.from([h,f])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let c=o.length-1;for(;c>=0&&o[c]===0;)c--;if(c<0)return null;const f=Math.floor(c/s);let h=Math.floor(c%s)*32;const m=o[c];let y=31;for(;!(m>>>y);)y--;return h+=y,Int32Array.from([h,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof Te))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&D.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+D.hashCode(this.bits),s}toString(s="X ",o="  ",c=`
`){return this.buildToString(s,o,c)}buildToString(s,o,c){let f=new le;for(let h=0,m=this.height;h<m;h++){for(let y=0,C=this.width;y<C;y++)f.append(this.get(y,h)?s:o);f.append(c)}return f.toString()}clone(){return new Te(this.width,this.height,this.rowSize,this.bits.slice())}}class ne extends v{static getNotFoundInstance(){return new ne}}ne.kind="NotFoundException";class Se extends A{constructor(s){super(s),this.luminances=Se.EMPTY,this.buckets=new Int32Array(Se.LUMINANCE_BUCKETS)}getBlackRow(s,o){const c=this.getLuminanceSource(),f=c.getWidth();o==null||o.getSize()<f?o=new W(f):o.clear(),this.initArrays(f);const h=c.getRow(s,this.luminances),m=this.buckets;for(let C=0;C<f;C++)m[(h[C]&255)>>Se.LUMINANCE_SHIFT]++;const y=Se.estimateBlackPoint(m);if(f<3)for(let C=0;C<f;C++)(h[C]&255)<y&&o.set(C);else{let C=h[0]&255,N=h[1]&255;for(let T=1;T<f-1;T++){const F=h[T+1]&255;(N*4-C-F)/2<y&&o.set(T),C=N,N=F}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight(),f=new Te(o,c);this.initArrays(o);const h=this.buckets;for(let C=1;C<5;C++){const N=Math.floor(c*C/5),T=s.getRow(N,this.luminances),F=Math.floor(o*4/5);for(let H=Math.floor(o/5);H<F;H++){const K=T[H]&255;h[K>>Se.LUMINANCE_SHIFT]++}}const m=Se.estimateBlackPoint(h),y=s.getMatrix();for(let C=0;C<c;C++){const N=C*o;for(let T=0;T<o;T++)(y[N+T]&255)<m&&f.set(T,C)}return f}createBinarizer(s){return new Se(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let c=0;c<Se.LUMINANCE_BUCKETS;c++)o[c]=0}static estimateBlackPoint(s){const o=s.length;let c=0,f=0,h=0;for(let T=0;T<o;T++)s[T]>h&&(f=T,h=s[T]),s[T]>c&&(c=s[T]);let m=0,y=0;for(let T=0;T<o;T++){const F=T-f,H=s[T]*F*F;H>y&&(m=T,y=H)}if(f>m){const T=f;f=m,m=T}if(m-f<=o/16)throw new ne;let C=m-1,N=-1;for(let T=m-1;T>f;T--){const F=T-f,H=F*F*(m-T)*(c-s[T]);H>N&&(C=T,N=H)}return C<<Se.LUMINANCE_SHIFT}}Se.LUMINANCE_BITS=5,Se.LUMINANCE_SHIFT=8-Se.LUMINANCE_BITS,Se.LUMINANCE_BUCKETS=1<<Se.LUMINANCE_BITS,Se.EMPTY=Uint8ClampedArray.from([0]);class we extends Se{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight();if(o>=we.MINIMUM_DIMENSION&&c>=we.MINIMUM_DIMENSION){const f=s.getMatrix();let h=o>>we.BLOCK_SIZE_POWER;o&we.BLOCK_SIZE_MASK&&h++;let m=c>>we.BLOCK_SIZE_POWER;c&we.BLOCK_SIZE_MASK&&m++;const y=we.calculateBlackPoints(f,h,m,o,c),C=new Te(o,c);we.calculateThresholdForBlock(f,h,m,o,c,y,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new we(s)}static calculateThresholdForBlock(s,o,c,f,h,m,y){const C=h-we.BLOCK_SIZE,N=f-we.BLOCK_SIZE;for(let T=0;T<c;T++){let F=T<<we.BLOCK_SIZE_POWER;F>C&&(F=C);const H=we.cap(T,2,c-3);for(let K=0;K<o;K++){let z=K<<we.BLOCK_SIZE_POWER;z>N&&(z=N);const $=we.cap(K,2,o-3);let X=0;for(let he=-2;he<=2;he++){const ge=m[H+he];X+=ge[$-2]+ge[$-1]+ge[$]+ge[$+1]+ge[$+2]}const te=X/25;we.thresholdBlock(s,z,F,te,f,y)}}}static cap(s,o,c){return s<o?o:s>c?c:s}static thresholdBlock(s,o,c,f,h,m){for(let y=0,C=c*h+o;y<we.BLOCK_SIZE;y++,C+=h)for(let N=0;N<we.BLOCK_SIZE;N++)(s[C+N]&255)<=f&&m.set(o+N,c+y)}static calculateBlackPoints(s,o,c,f,h){const m=h-we.BLOCK_SIZE,y=f-we.BLOCK_SIZE,C=new Array(c);for(let N=0;N<c;N++){C[N]=new Int32Array(o);let T=N<<we.BLOCK_SIZE_POWER;T>m&&(T=m);for(let F=0;F<o;F++){let H=F<<we.BLOCK_SIZE_POWER;H>y&&(H=y);let K=0,z=255,$=0;for(let te=0,he=T*f+H;te<we.BLOCK_SIZE;te++,he+=f){for(let ge=0;ge<we.BLOCK_SIZE;ge++){const xe=s[he+ge]&255;K+=xe,xe<z&&(z=xe),xe>$&&($=xe)}if($-z>we.MIN_DYNAMIC_RANGE)for(te++,he+=f;te<we.BLOCK_SIZE;te++,he+=f)for(let ge=0;ge<we.BLOCK_SIZE;ge++)K+=s[he+ge]&255}let X=K>>we.BLOCK_SIZE_POWER*2;if($-z<=we.MIN_DYNAMIC_RANGE&&(X=z/2,N>0&&F>0)){const te=(C[N-1][F]+2*C[N][F-1]+C[N-1][F-1])/4;z<te&&(X=te)}C[N][F]=X}}return C}}we.BLOCK_SIZE_POWER=3,we.BLOCK_SIZE=1<<we.BLOCK_SIZE_POWER,we.BLOCK_SIZE_MASK=we.BLOCK_SIZE-1,we.MINIMUM_DIMENSION=we.BLOCK_SIZE*5,we.MIN_DYNAMIC_RANGE=24;class ce{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,c,f){throw new ee("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ee("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ee("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new le;for(let c=0;c<this.height;c++){const f=this.getRow(c,s);for(let h=0;h<this.width;h++){const m=f[h]&255;let y;m<64?y="#":m<128?y="+":m<192?y=".":y=" ",o.append(y)}o.append(`
`)}return o.toString()}}class ve extends ce{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const c=this.delegate.getRow(s,o),f=this.getWidth();for(let h=0;h<f;h++)c[h]=255-(c[h]&255);return c}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(o);for(let f=0;f<o;f++)c[f]=255-(s[f]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,c,f){return new ve(this.delegate.crop(s,o,c,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ve(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ve(this.delegate.rotateCounterClockwise45())}}class Oe extends ce{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=Oe.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return Oe.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,c){const f=new Uint8ClampedArray(o*c);for(let h=0,m=0,y=s.length;h<y;h+=4,m++){let C;if(s[h+3]===0)C=255;else{const T=s[h],F=s[h+1],H=s[h+2];C=306*T+601*F+117*H+512>>10}f[m]=C}return f}getRow(s,o){if(s<0||s>=this.getHeight())throw new E("Requested row is outside the image: "+s);const c=this.getWidth(),f=s*c;return o===null?o=this.buffer.slice(f,f+c):(o.length<c&&(o=new Uint8ClampedArray(c)),o.set(this.buffer.slice(f,f+c))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,c,f){return super.crop(s,o,c,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),c=o.getContext("2d"),f=s*Oe.DEGREE_TO_RADIANS,h=this.canvas.width,m=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(f))*h+Math.abs(Math.sin(f))*m),C=Math.ceil(Math.abs(Math.sin(f))*h+Math.abs(Math.cos(f))*m);return o.width=y,o.height=C,c.translate(y/2,C/2),c.rotate(f),c.drawImage(this.canvas,h/-2,m/-2),this.buffer=Oe.makeBufferFromCanvasImageData(o),this}invert(){return new ve(this)}}Oe.DEGREE_TO_RADIANS=Math.PI/180;class Ye{constructor(s,o,c){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Je=(globalThis||Ai||self||window||void 0)&&(globalThis||Ai||self||window||void 0).__awaiter||function(P,s,o,c){function f(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function y(T){try{N(c.next(T))}catch(F){m(F)}}function C(T){try{N(c.throw(T))}catch(F){m(F)}}function N(T){T.done?h(T.value):f(T.value).then(y,C)}N((c=c.apply(P,s||[])).next())})};class ke{constructor(s,o=500,c){this.reader=s,this.timeBetweenScansMillis=o,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return Je(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const c of s){const f=c.kind==="video"?"videoinput":c.kind;if(f!=="videoinput")continue;const h=c.deviceId||c.id,m=c.label||`Video device ${o.length+1}`,y=c.groupId,C={deviceId:h,label:m,kind:f,groupId:y};o.push(C)}return o})}getVideoInputDevices(){return Je(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Ye(o.deviceId,o.label))})}findDeviceById(s){return Je(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(c=>c.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return Je(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return Je(this,void 0,void 0,function*(){this.reset();let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(s,o){return Je(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(c,o)})}decodeOnceFromStream(s,o){return Je(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(s,o,c){return Je(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,c)})}decodeFromVideoDevice(s,o,c){return Je(this,void 0,void 0,function*(){let f;s?f={deviceId:{exact:s}}:f={facingMode:"environment"};const h={video:f};return yield this.decodeFromConstraints(h,o,c)})}decodeFromConstraints(s,o,c){return Je(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(f,o,c)})}decodeFromStream(s,o,c){return Je(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(f,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return Je(this,void 0,void 0,function*(){const c=this.prepareVideoElement(o);return this.addVideoSource(c,s),this.videoElement=c,this.stream=s,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(s){return new Promise((o,c)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return Je(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const c=document.getElementById(s);if(!c)throw new w(`element with id '${s}' not found`);if(c.nodeName.toLowerCase()!==o.toLowerCase())throw new w(`element with id '${s}' must be an ${o} element`);return c}decodeFromImage(s,o){if(!s&&!o)throw new w("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new w("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,c){if(s===void 0&&o===void 0)throw new w("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,c):this.decodeFromVideoElementContinuously(s,c)}decodeFromImageElement(s){if(!s)throw new w("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let c;return this.isImageLoaded(o)?c=this.decodeOnce(o,!1,!0):c=this._decodeOnLoadImage(o),c}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(c,o)}_decodeFromVideoElementSetup(s){if(!s)throw new w("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const c=this._decodeOnLoadImage(o);return o.src=s,c}decodeFromVideoUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElement(o);return o.src=s,c}decodeFromVideoUrlContinuously(s,o){if(!s)throw new w("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(c,o);return c.src=s,f}_decodeOnLoadImage(s){return new Promise((o,c)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,c),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return Je(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return Je(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,c=!0){this._stopAsyncDecode=!1;const f=(h,m)=>{if(this._stopAsyncDecode){m(new ne("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(s);h(y)}catch(y){const C=o&&y instanceof ne,T=(y instanceof k||y instanceof O)&&c;if(C||T)return setTimeout(f,this._timeBetweenDecodingAttempts,h,m);m(y)}};return new Promise((h,m)=>f(h,m))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(s);o(f,null),setTimeout(c,this.timeBetweenScansMillis)}catch(f){o(null,f);const h=f instanceof k||f instanceof O,m=f instanceof ne;(h||m)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,c){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,c=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),c=new Oe(o),f=new we(c);return new _(f)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let c,f;return typeof s<"u"&&(s instanceof HTMLVideoElement?(c=s.videoWidth,f=s.videoHeight):s instanceof HTMLImageElement&&(c=s.naturalWidth||s.width,f=s.naturalHeight||s.height)),o.style.width=c+"px",o.style.height=f+"px",o.width=c,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Xe{constructor(s,o,c=o==null?0:8*o.length,f,h,m=I.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=c,this.resultPoints=f,this.format=h,this.timestamp=m,this.text=s,this.rawBytes=o,c==null?this.numBits=o==null?0:8*o.length:this.numBits=c,this.resultPoints=f,this.format=h,this.resultMetadata=null,m==null?this.timestamp=I.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const c=new Array(o.length+s.length);I.arraycopy(o,0,c,0,o.length),I.arraycopy(s,0,c,o.length,s.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var st;(function(P){P[P.AZTEC=0]="AZTEC",P[P.CODABAR=1]="CODABAR",P[P.CODE_39=2]="CODE_39",P[P.CODE_93=3]="CODE_93",P[P.CODE_128=4]="CODE_128",P[P.DATA_MATRIX=5]="DATA_MATRIX",P[P.EAN_8=6]="EAN_8",P[P.EAN_13=7]="EAN_13",P[P.ITF=8]="ITF",P[P.MAXICODE=9]="MAXICODE",P[P.PDF_417=10]="PDF_417",P[P.QR_CODE=11]="QR_CODE",P[P.RSS_14=12]="RSS_14",P[P.RSS_EXPANDED=13]="RSS_EXPANDED",P[P.UPC_A=14]="UPC_A",P[P.UPC_E=15]="UPC_E",P[P.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(st||(st={}));var _e=st,Ct;(function(P){P[P.OTHER=0]="OTHER",P[P.ORIENTATION=1]="ORIENTATION",P[P.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",P[P.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",P[P.ISSUE_NUMBER=4]="ISSUE_NUMBER",P[P.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",P[P.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",P[P.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",P[P.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",P[P.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",P[P.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ct||(Ct={}));var lt=Ct;class on{constructor(s,o,c,f,h=-1,m=-1){this.rawBytes=s,this.text=o,this.byteSegments=c,this.ecLevel=f,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=m,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Zn{exp(s){return this.expTable[s]}log(s){if(s===0)throw new E;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class kt{constructor(s,o){if(o.length===0)throw new E;this.field=s;const c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-f),I.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let c;if(s===1){c=0;for(let m=0,y=o.length;m!==y;m++){const C=o[m];c=Zn.addOrSubtract(c,C)}return c}c=o[0];const f=o.length,h=this.field;for(let m=1;m<f;m++)c=Zn.addOrSubtract(h.multiply(s,c),o[m]);return c}addOrSubtract(s){if(!this.field.equals(s.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){const m=o;o=c,c=m}let f=new Int32Array(c.length);const h=c.length-o.length;I.arraycopy(c,0,f,0,h);for(let m=h;m<c.length;m++)f[m]=Zn.addOrSubtract(o[m-h],c[m]);return new kt(this.field,f)}multiply(s){if(!this.field.equals(s.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,c=o.length,f=s.coefficients,h=f.length,m=new Int32Array(c+h-1),y=this.field;for(let C=0;C<c;C++){const N=o[C];for(let T=0;T<h;T++)m[C+T]=Zn.addOrSubtract(m[C+T],y.multiply(N,f[T]))}return new kt(y,m)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,c=this.field,f=new Int32Array(o),h=this.coefficients;for(let m=0;m<o;m++)f[m]=c.multiply(h[m],s);return new kt(c,f)}multiplyByMonomial(s,o){if(s<0)throw new E;if(o===0)return this.field.getZero();const c=this.coefficients,f=c.length,h=new Int32Array(f+s),m=this.field;for(let y=0;y<f;y++)h[y]=m.multiply(c[y],o);return new kt(m,h)}divide(s){if(!this.field.equals(s.field))throw new E("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new E("Divide by 0");const o=this.field;let c=o.getZero(),f=this;const h=s.getCoefficient(s.getDegree()),m=o.inverse(h);for(;f.getDegree()>=s.getDegree()&&!f.isZero();){const y=f.getDegree()-s.getDegree(),C=o.multiply(f.getCoefficient(f.getDegree()),m),N=s.multiplyByMonomial(y,C),T=o.buildMonomial(y,C);c=c.addOrSubtract(T),f=f.addOrSubtract(N)}return[c,f]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);if(c!==0){if(c<0?(s+=" - ",c=-c):s.length>0&&(s+=" + "),o===0||c!==1){const f=this.field.log(c);f===0?s+="1":f===1?s+="a":(s+="a^",s+=f)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class ln extends v{}ln.kind="ArithmeticException";class Ce extends Zn{constructor(s,o,c){super(),this.primitive=s,this.size=o,this.generatorBase=c;const f=new Int32Array(o);let h=1;for(let y=0;y<o;y++)f[y]=h,h*=2,h>=o&&(h^=s,h&=o-1);this.expTable=f;const m=new Int32Array(o);for(let y=0;y<o-1;y++)m[f[y]]=y;this.logTable=m,this.zero=new kt(this,Int32Array.from([0])),this.one=new kt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new E;if(o===0)return this.zero;const c=new Int32Array(s+1);return c[0]=o,new kt(this,c)}inverse(s){if(s===0)throw new ln;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Ce.AZTEC_DATA_12=new Ce(4201,4096,1),Ce.AZTEC_DATA_10=new Ce(1033,1024,1),Ce.AZTEC_DATA_6=new Ce(67,64,1),Ce.AZTEC_PARAM=new Ce(19,16,1),Ce.QR_CODE_FIELD_256=new Ce(285,256,0),Ce.DATA_MATRIX_FIELD_256=new Ce(301,256,1),Ce.AZTEC_DATA_8=Ce.DATA_MATRIX_FIELD_256,Ce.MAXICODE_FIELD_64=Ce.AZTEC_DATA_6;class Ge extends v{}Ge.kind="ReedSolomonException";class me extends v{}me.kind="IllegalStateException";class Me{constructor(s){this.field=s}decode(s,o){const c=this.field,f=new kt(c,s),h=new Int32Array(o);let m=!0;for(let K=0;K<o;K++){const z=f.evaluateAt(c.exp(K+c.getGeneratorBase()));h[h.length-1-K]=z,z!==0&&(m=!1)}if(m)return;const y=new kt(c,h),C=this.runEuclideanAlgorithm(c.buildMonomial(o,1),y,o),N=C[0],T=C[1],F=this.findErrorLocations(N),H=this.findErrorMagnitudes(T,F);for(let K=0;K<F.length;K++){const z=s.length-1-c.log(F[K]);if(z<0)throw new Ge("Bad error location");s[z]=Ce.addOrSubtract(s[z],H[K])}}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){const K=s;s=o,o=K}const f=this.field;let h=s,m=o,y=f.getZero(),C=f.getOne();for(;m.getDegree()>=(c/2|0);){let K=h,z=y;if(h=m,y=C,h.isZero())throw new Ge("r_{i-1} was zero");m=K;let $=f.getZero();const X=h.getCoefficient(h.getDegree()),te=f.inverse(X);for(;m.getDegree()>=h.getDegree()&&!m.isZero();){const he=m.getDegree()-h.getDegree(),ge=f.multiply(m.getCoefficient(m.getDegree()),te);$=$.addOrSubtract(f.buildMonomial(he,ge)),m=m.addOrSubtract(h.multiplyByMonomial(he,ge))}if(C=$.multiply(y).addOrSubtract(z),m.getDegree()>=h.getDegree())throw new me("Division algorithm failed to reduce polynomial?")}const N=C.getCoefficient(0);if(N===0)throw new Ge("sigmaTilde(0) was zero");const T=f.inverse(N),F=C.multiplyScalar(T),H=m.multiplyScalar(T);return[F,H]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const c=new Int32Array(o);let f=0;const h=this.field;for(let m=1;m<h.getSize()&&f<o;m++)s.evaluateAt(m)===0&&(c[f]=h.inverse(m),f++);if(f!==o)throw new Ge("Error locator degree does not match number of roots");return c}findErrorMagnitudes(s,o){const c=o.length,f=new Int32Array(c),h=this.field;for(let m=0;m<c;m++){const y=h.inverse(o[m]);let C=1;for(let N=0;N<c;N++)if(m!==N){const T=h.multiply(o[N],y),F=T&1?T&-2:T|1;C=h.multiply(C,F)}f[m]=h.multiply(s.evaluateAt(y),h.inverse(C)),h.getGeneratorBase()!==0&&(f[m]=h.multiply(f[m],y))}return f}}var Fe;(function(P){P[P.UPPER=0]="UPPER",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.DIGIT=3]="DIGIT",P[P.PUNCT=4]="PUNCT",P[P.BINARY=5]="BINARY"})(Fe||(Fe={}));class qe{decode(s){this.ddata=s;let o=s.getBits(),c=this.extractBits(o),f=this.correctBits(c),h=qe.convertBoolArrayToByteArray(f),m=qe.getEncodedData(f),y=new on(h,m,null,null);return y.setNumBits(f.length),y}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,c=Fe.UPPER,f=Fe.UPPER,h="",m=0;for(;m<o;)if(f===Fe.BINARY){if(o-m<5)break;let y=qe.readCode(s,m,5);if(m+=5,y===0){if(o-m<11)break;y=qe.readCode(s,m,11)+31,m+=11}for(let C=0;C<y;C++){if(o-m<8){m=o;break}const N=qe.readCode(s,m,8);h+=ie.castAsNonUtf8Char(N),m+=8}f=c}else{let y=f===Fe.DIGIT?4:5;if(o-m<y)break;let C=qe.readCode(s,m,y);m+=y;let N=qe.getCharacter(f,C);N.startsWith("CTRL_")?(c=f,f=qe.getTable(N.charAt(5)),N.charAt(6)==="L"&&(c=f)):(h+=N,f=c)}return h}static getTable(s){switch(s){case"L":return Fe.LOWER;case"P":return Fe.PUNCT;case"M":return Fe.MIXED;case"D":return Fe.DIGIT;case"B":return Fe.BINARY;case"U":default:return Fe.UPPER}}static getCharacter(s,o){switch(s){case Fe.UPPER:return qe.UPPER_TABLE[o];case Fe.LOWER:return qe.LOWER_TABLE[o];case Fe.MIXED:return qe.MIXED_TABLE[o];case Fe.PUNCT:return qe.PUNCT_TABLE[o];case Fe.DIGIT:return qe.DIGIT_TABLE[o];default:throw new me("Bad table")}}correctBits(s){let o,c;this.ddata.getNbLayers()<=2?(c=6,o=Ce.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,o=Ce.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,o=Ce.AZTEC_DATA_10):(c=12,o=Ce.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),h=s.length/c;if(h<f)throw new O;let m=s.length%c,y=new Int32Array(h);for(let H=0;H<h;H++,m+=c)y[H]=qe.readCode(s,m,c);try{new Me(o).decode(y,h-f)}catch(H){throw new O(H)}let C=(1<<c)-1,N=0;for(let H=0;H<f;H++){let K=y[H];if(K===0||K===C)throw new O;(K===1||K===C-1)&&N++}let T=new Array(f*c-N),F=0;for(let H=0;H<f;H++){let K=y[H];if(K===1||K===C-1)T.fill(K>1,F,F+c-1),F+=c-1;else for(let z=c-1;z>=0;--z)T[F++]=(K&1<<z)!==0}return T}extractBits(s){let o=this.ddata.isCompact(),c=this.ddata.getNbLayers(),f=(o?11:14)+c*4,h=new Int32Array(f),m=new Array(this.totalBitsInLayer(c,o));if(o)for(let y=0;y<h.length;y++)h[y]=y;else{let y=f+1+2*R.truncDivision(R.truncDivision(f,2)-1,15),C=f/2,N=R.truncDivision(y,2);for(let T=0;T<C;T++){let F=T+R.truncDivision(T,15);h[C-T-1]=N-F-1,h[C+T]=N+F+1}}for(let y=0,C=0;y<c;y++){let N=(c-y)*4+(o?9:12),T=y*2,F=f-1-T;for(let H=0;H<N;H++){let K=H*2;for(let z=0;z<2;z++)m[C+K+z]=s.get(h[T+z],h[T+H]),m[C+2*N+K+z]=s.get(h[T+H],h[F-z]),m[C+4*N+K+z]=s.get(h[F-z],h[F-H]),m[C+6*N+K+z]=s.get(h[F-H],h[T+z])}C+=N*8}return m}static readCode(s,o,c){let f=0;for(let h=o;h<o+c;h++)f<<=1,s[h]&&(f|=1);return f}static readByte(s,o){let c=s.length-o;return c>=8?qe.readCode(s,o,8):qe.readCode(s,o,c)<<8-c}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let c=0;c<o.length;c++)o[c]=qe.readByte(s,8*c);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}qe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],qe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],qe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],qe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],qe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ft{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,c,f){const h=s-c,m=o-f;return Math.sqrt(h*h+m*m)}static sum(s){let o=0;for(let c=0,f=s.length;c!==f;c++){const h=s[c];o+=h}return o}}class Re{static floatToIntBits(s){return s}}Re.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ne{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Ne){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Re.floatToIntBits(this.x)+Re.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),c=this.distance(s[1],s[2]),f=this.distance(s[0],s[2]);let h,m,y;if(c>=o&&c>=f?(m=s[0],h=s[1],y=s[2]):f>=c&&f>=o?(m=s[1],h=s[0],y=s[2]):(m=s[2],h=s[0],y=s[1]),this.crossProductZ(h,m,y)<0){const C=h;h=y,y=C}s[0]=h,s[1]=m,s[2]=y}static distance(s,o){return ft.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,c){const f=o.x,h=o.y;return(c.x-f)*(s.y-h)-(c.y-h)*(s.x-f)}}class gn{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class pr extends gn{constructor(s,o,c,f,h){super(s,o),this.compact=c,this.nbDatablocks=f,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ie{constructor(s,o,c,f){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=Ie.INIT_SIZE),c==null&&(c=s.getWidth()/2|0),f==null&&(f=s.getHeight()/2|0);const h=o/2|0;if(this.leftInit=c-h,this.rightInit=c+h,this.upInit=f-h,this.downInit=f+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ne}detect(){let s=this.leftInit,o=this.rightInit,c=this.upInit,f=this.downInit,h=!1,m=!0,y=!1,C=!1,N=!1,T=!1,F=!1;const H=this.width,K=this.height;for(;m;){m=!1;let z=!0;for(;(z||!C)&&o<H;)z=this.containsBlackPoint(c,f,o,!1),z?(o++,m=!0,C=!0):C||o++;if(o>=H){h=!0;break}let $=!0;for(;($||!N)&&f<K;)$=this.containsBlackPoint(s,o,f,!0),$?(f++,m=!0,N=!0):N||f++;if(f>=K){h=!0;break}let X=!0;for(;(X||!T)&&s>=0;)X=this.containsBlackPoint(c,f,s,!1),X?(s--,m=!0,T=!0):T||s--;if(s<0){h=!0;break}let te=!0;for(;(te||!F)&&c>=0;)te=this.containsBlackPoint(s,o,c,!0),te?(c--,m=!0,F=!0):F||c--;if(c<0){h=!0;break}m&&(y=!0)}if(!h&&y){const z=o-s;let $=null;for(let ge=1;$===null&&ge<z;ge++)$=this.getBlackPointOnSegment(s,f-ge,s+ge,f);if($==null)throw new ne;let X=null;for(let ge=1;X===null&&ge<z;ge++)X=this.getBlackPointOnSegment(s,c+ge,s+ge,c);if(X==null)throw new ne;let te=null;for(let ge=1;te===null&&ge<z;ge++)te=this.getBlackPointOnSegment(o,c+ge,o-ge,c);if(te==null)throw new ne;let he=null;for(let ge=1;he===null&&ge<z;ge++)he=this.getBlackPointOnSegment(o,f-ge,o-ge,f);if(he==null)throw new ne;return this.centerEdges(he,$,te,X)}else throw new ne}getBlackPointOnSegment(s,o,c,f){const h=ft.round(ft.distance(s,o,c,f)),m=(c-s)/h,y=(f-o)/h,C=this.image;for(let N=0;N<h;N++){const T=ft.round(s+N*m),F=ft.round(o+N*y);if(C.get(T,F))return new Ne(T,F)}return null}centerEdges(s,o,c,f){const h=s.getX(),m=s.getY(),y=o.getX(),C=o.getY(),N=c.getX(),T=c.getY(),F=f.getX(),H=f.getY(),K=Ie.CORR;return h<this.width/2?[new Ne(F-K,H+K),new Ne(y+K,C+K),new Ne(N-K,T-K),new Ne(h+K,m-K)]:[new Ne(F+K,H+K),new Ne(y+K,C-K),new Ne(N-K,T+K),new Ne(h-K,m-K)]}containsBlackPoint(s,o,c,f){const h=this.image;if(f){for(let m=s;m<=o;m++)if(h.get(m,c))return!0}else for(let m=s;m<=o;m++)if(h.get(c,m))return!0;return!1}}Ie.INIT_SIZE=10,Ie.CORR=1;class Ze{static checkAndNudgePoints(s,o){const c=s.getWidth(),f=s.getHeight();let h=!0;for(let m=0;m<o.length&&h;m+=2){const y=Math.floor(o[m]),C=Math.floor(o[m+1]);if(y<-1||y>c||C<-1||C>f)throw new ne;h=!1,y===-1?(o[m]=0,h=!0):y===c&&(o[m]=c-1,h=!0),C===-1?(o[m+1]=0,h=!0):C===f&&(o[m+1]=f-1,h=!0)}h=!0;for(let m=o.length-2;m>=0&&h;m-=2){const y=Math.floor(o[m]),C=Math.floor(o[m+1]);if(y<-1||y>c||C<-1||C>f)throw new ne;h=!1,y===-1?(o[m]=0,h=!0):y===c&&(o[m]=c-1,h=!0),C===-1?(o[m+1]=0,h=!0):C===f&&(o[m+1]=f-1,h=!0)}}}class Rt{constructor(s,o,c,f,h,m,y,C,N){this.a11=s,this.a21=o,this.a31=c,this.a12=f,this.a22=h,this.a32=m,this.a13=y,this.a23=C,this.a33=N}static quadrilateralToQuadrilateral(s,o,c,f,h,m,y,C,N,T,F,H,K,z,$,X){const te=Rt.quadrilateralToSquare(s,o,c,f,h,m,y,C);return Rt.squareToQuadrilateral(N,T,F,H,K,z,$,X).times(te)}transformPoints(s){const o=s.length,c=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,C=this.a23,N=this.a31,T=this.a32,F=this.a33;for(let H=0;H<o;H+=2){const K=s[H],z=s[H+1],$=h*K+C*z+F;s[H]=(c*K+m*z+N)/$,s[H+1]=(f*K+y*z+T)/$}}transformPointsWithValues(s,o){const c=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,C=this.a23,N=this.a31,T=this.a32,F=this.a33,H=s.length;for(let K=0;K<H;K++){const z=s[K],$=o[K],X=h*z+C*$+F;s[K]=(c*z+m*$+N)/X,o[K]=(f*z+y*$+T)/X}}static squareToQuadrilateral(s,o,c,f,h,m,y,C){const N=s-c+h-y,T=o-f+m-C;if(N===0&&T===0)return new Rt(c-s,h-c,s,f-o,m-f,o,0,0,1);{const F=c-h,H=y-h,K=f-m,z=C-m,$=F*z-H*K,X=(N*z-H*T)/$,te=(F*T-N*K)/$;return new Rt(c-s+X*c,y-s+te*y,s,f-o+X*f,C-o+te*C,o,X,te,1)}}static quadrilateralToSquare(s,o,c,f,h,m,y,C){return Rt.squareToQuadrilateral(s,o,c,f,h,m,y,C).buildAdjoint()}buildAdjoint(){return new Rt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Rt(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class nn extends Ze{sampleGrid(s,o,c,f,h,m,y,C,N,T,F,H,K,z,$,X,te,he,ge){const xe=Rt.quadrilateralToQuadrilateral(f,h,m,y,C,N,T,F,H,K,z,$,X,te,he,ge);return this.sampleGridWithTransform(s,o,c,xe)}sampleGridWithTransform(s,o,c,f){if(o<=0||c<=0)throw new ne;const h=new Te(o,c),m=new Float32Array(2*o);for(let y=0;y<c;y++){const C=m.length,N=y+.5;for(let T=0;T<C;T+=2)m[T]=T/2+.5,m[T+1]=N;f.transformPoints(m),Ze.checkAndNudgePoints(s,m);try{for(let T=0;T<C;T+=2)s.get(Math.floor(m[T]),Math.floor(m[T+1]))&&h.set(T/2,y)}catch{throw new ne}}return h}}class Gt{static setGridSampler(s){Gt.gridSampler=s}static getInstance(){return Gt.gridSampler}}Gt.gridSampler=new nn;class dn{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new Ne(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class is{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),c=this.getBullsEyeCorners(o);if(s){let m=c[0];c[0]=c[2],c[2]=m}this.extractParameters(c);let f=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),h=this.getMatrixCornerPoints(c);return new pr(f,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new ne;let o=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(c,o);let f=0;for(let m=0;m<4;m++){let y=c[(this.shift+m)%4];this.compact?(f<<=7,f+=y>>1&127):(f<<=10,f+=(y>>2&992)+(y>>1&31))}let h=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(s,o){let c=0;s.forEach((f,h,m)=>{let y=(f>>o-2<<1)+(f&1);c=(c<<3)+y}),c=((c&1)<<11)+(c>>1);for(let f=0;f<4;f++)if(R.bitCount(c^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new ne}getCorrectedParameterData(s,o){let c,f;o?(c=7,f=2):(c=10,f=4);let h=c-f,m=new Int32Array(c);for(let C=c-1;C>=0;--C)m[C]=s&15,s>>=4;try{new Me(Ce.AZTEC_PARAM).decode(m,h)}catch{throw new ne}let y=0;for(let C=0;C<f;C++)y=(y<<4)+m[C];return y}getBullsEyeCorners(s){let o=s,c=s,f=s,h=s,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(o,m,1,-1),H=this.getFirstDifferent(c,m,1,1),K=this.getFirstDifferent(f,m,-1,1),z=this.getFirstDifferent(h,m,-1,-1);if(this.nbCenterLayers>2){let $=this.distancePoint(z,F)*this.nbCenterLayers/(this.distancePoint(h,o)*(this.nbCenterLayers+2));if($<.75||$>1.25||!this.isWhiteOrBlackRectangle(F,H,K,z))break}o=F,c=H,f=K,h=z,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ne;this.compact=this.nbCenterLayers===5;let y=new Ne(o.getX()+.5,o.getY()-.5),C=new Ne(c.getX()+.5,c.getY()+.5),N=new Ne(f.getX()-.5,f.getY()+.5),T=new Ne(h.getX()-.5,h.getY()-.5);return this.expandSquare([y,C,N,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,c,f;try{let y=new Ie(this.image).detect();s=y[0],o=y[1],c=y[2],f=y[3]}catch{let C=this.image.getWidth()/2,N=this.image.getHeight()/2;s=this.getFirstDifferent(new dn(C+7,N-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new dn(C+7,N+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new dn(C-7,N+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new dn(C-7,N-7),!1,-1,-1).toResultPoint()}let h=ft.round((s.getX()+f.getX()+o.getX()+c.getX())/4),m=ft.round((s.getY()+f.getY()+o.getY()+c.getY())/4);try{let y=new Ie(this.image,15,h,m).detect();s=y[0],o=y[1],c=y[2],f=y[3]}catch{s=this.getFirstDifferent(new dn(h+7,m-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new dn(h+7,m+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new dn(h-7,m+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new dn(h-7,m-7),!1,-1,-1).toResultPoint()}return h=ft.round((s.getX()+f.getX()+o.getX()+c.getX())/4),m=ft.round((s.getY()+f.getY()+o.getY()+c.getY())/4),new dn(h,m)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,c,f,h){let m=Gt.getInstance(),y=this.getDimension(),C=y/2-this.nbCenterLayers,N=y/2+this.nbCenterLayers;return m.sampleGrid(s,y,y,C,C,N,C,N,N,C,N,o.getX(),o.getY(),c.getX(),c.getY(),f.getX(),f.getY(),h.getX(),h.getY())}sampleLine(s,o,c){let f=0,h=this.distanceResultPoint(s,o),m=h/c,y=s.getX(),C=s.getY(),N=m*(o.getX()-s.getX())/h,T=m*(o.getY()-s.getY())/h;for(let F=0;F<c;F++)this.image.get(ft.round(y+F*N),ft.round(C+F*T))&&(f|=1<<c-F-1);return f}isWhiteOrBlackRectangle(s,o,c,f){let h=3;s=new dn(s.getX()-h,s.getY()+h),o=new dn(o.getX()-h,o.getY()-h),c=new dn(c.getX()+h,c.getY()-h),f=new dn(f.getX()+h,f.getY()+h);let m=this.getColor(f,s);if(m===0)return!1;let y=this.getColor(s,o);return y!==m||(y=this.getColor(o,c),y!==m)?!1:(y=this.getColor(c,f),y===m)}getColor(s,o){let c=this.distancePoint(s,o),f=(o.getX()-s.getX())/c,h=(o.getY()-s.getY())/c,m=0,y=s.getX(),C=s.getY(),N=this.image.get(s.getX(),s.getY()),T=Math.ceil(c);for(let H=0;H<T;H++)y+=f,C+=h,this.image.get(ft.round(y),ft.round(C))!==N&&m++;let F=m/c;return F>.1&&F<.9?0:F<=.1===N?1:-1}getFirstDifferent(s,o,c,f){let h=s.getX()+c,m=s.getY()+f;for(;this.isValid(h,m)&&this.image.get(h,m)===o;)h+=c,m+=f;for(h-=c,m-=f;this.isValid(h,m)&&this.image.get(h,m)===o;)h+=c;for(h-=c;this.isValid(h,m)&&this.image.get(h,m)===o;)m+=f;return m-=f,new dn(h,m)}expandSquare(s,o,c){let f=c/(2*o),h=s[0].getX()-s[2].getX(),m=s[0].getY()-s[2].getY(),y=(s[0].getX()+s[2].getX())/2,C=(s[0].getY()+s[2].getY())/2,N=new Ne(y+f*h,C+f*m),T=new Ne(y-f*h,C-f*m);h=s[1].getX()-s[3].getX(),m=s[1].getY()-s[3].getY(),y=(s[1].getX()+s[3].getX())/2,C=(s[1].getY()+s[3].getY())/2;let F=new Ne(y+f*h,C+f*m),H=new Ne(y-f*h,C-f*m);return[N,F,T,H]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=ft.round(s.getX()),c=ft.round(s.getY());return this.isValid(o,c)}distancePoint(s,o){return ft.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return ft.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class Ss{decode(s,o=null){let c=null,f=new is(s.getBlackMatrix()),h=null,m=null;try{let T=f.detectMirror(!1);h=T.getPoints(),this.reportFoundResultPoints(o,h),m=new qe().decode(T)}catch(T){c=T}if(m==null)try{let T=f.detectMirror(!0);h=T.getPoints(),this.reportFoundResultPoints(o,h),m=new qe().decode(T)}catch(T){throw c??T}let y=new Xe(m.getText(),m.getRawBytes(),m.getNumBits(),h,_e.AZTEC,I.currentTimeMillis()),C=m.getByteSegments();C!=null&&y.putMetadata(lt.BYTE_SEGMENTS,C);let N=m.getECLevel();return N!=null&&y.putMetadata(lt.ERROR_CORRECTION_LEVEL,N),y}reportFoundResultPoints(s,o){if(s!=null){let c=s.get(U.NEED_RESULT_POINT_CALLBACK);c!=null&&o.forEach((f,h,m)=>{c.foundPossibleResultPoint(f)})}}reset(){}}class Fi extends ke{constructor(s=500){super(new Ss,s)}}class tn{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(U.TRY_HARDER)===!0&&s.isRotateSupported()){const h=s.rotateCounterClockwise(),m=this.doDecode(h,o),y=m.getResultMetadata();let C=270;y!==null&&y.get(lt.ORIENTATION)===!0&&(C=C+y.get(lt.ORIENTATION)%360),m.putMetadata(lt.ORIENTATION,C);const N=m.getResultPoints();if(N!==null){const T=h.getHeight();for(let F=0;F<N.length;F++)N[F]=new Ne(T-N[F].getY()-1,N[F].getX())}return m}else throw new ne}}reset(){}doDecode(s,o){const c=s.getWidth(),f=s.getHeight();let h=new W(c);const m=o&&o.get(U.TRY_HARDER)===!0,y=Math.max(1,f>>(m?8:5));let C;m?C=f:C=15;const N=Math.trunc(f/2);for(let T=0;T<C;T++){const F=Math.trunc((T+1)/2),H=(T&1)===0,K=N+y*(H?F:-F);if(K<0||K>=f)break;try{h=s.getBlackRow(K,h)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(h.reverse(),o&&o.get(U.NEED_RESULT_POINT_CALLBACK)===!0)){const $=new Map;o.forEach((X,te)=>$.set(te,X)),$.delete(U.NEED_RESULT_POINT_CALLBACK),o=$}try{const $=this.decodeRow(K,h,o);if(z===1){$.putMetadata(lt.ORIENTATION,180);const X=$.getResultPoints();X!==null&&(X[0]=new Ne(c-X[0].getX()-1,X[0].getY()),X[1]=new Ne(c-X[1].getX()-1,X[1].getY()))}return $}catch{}}}throw new ne}static recordPattern(s,o,c){const f=c.length;for(let N=0;N<f;N++)c[N]=0;const h=s.getSize();if(o>=h)throw new ne;let m=!s.get(o),y=0,C=o;for(;C<h;){if(s.get(C)!==m)c[y]++;else{if(++y===f)break;c[y]=1,m=!m}C++}if(!(y===f||y===f-1&&C===h))throw new ne}static recordPatternInReverse(s,o,c){let f=c.length,h=s.get(o);for(;o>0&&f>=0;)s.get(--o)!==h&&(f--,h=!h);if(f>=0)throw new ne;tn.recordPattern(s,o+1,c)}static patternMatchVariance(s,o,c){const f=s.length;let h=0,m=0;for(let N=0;N<f;N++)h+=s[N],m+=o[N];if(h<m)return Number.POSITIVE_INFINITY;const y=h/m;c*=y;let C=0;for(let N=0;N<f;N++){const T=s[N],F=o[N]*y,H=T>F?T-F:F-T;if(H>c)return Number.POSITIVE_INFINITY;C+=H}return C/h}}class je extends tn{static findStartPattern(s){const o=s.getSize(),c=s.getNextSet(0);let f=0,h=Int32Array.from([0,0,0,0,0,0]),m=c,y=!1;const C=6;for(let N=c;N<o;N++)if(s.get(N)!==y)h[f]++;else{if(f===C-1){let T=je.MAX_AVG_VARIANCE,F=-1;for(let H=je.CODE_START_A;H<=je.CODE_START_C;H++){const K=tn.patternMatchVariance(h,je.CODE_PATTERNS[H],je.MAX_INDIVIDUAL_VARIANCE);K<T&&(T=K,F=H)}if(F>=0&&s.isRange(Math.max(0,m-(N-m)/2),m,!1))return Int32Array.from([m,N,F]);m+=h[0]+h[1],h=h.slice(2,h.length-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,y=!y}throw new ne}static decodeCode(s,o,c){tn.recordPattern(s,c,o);let f=je.MAX_AVG_VARIANCE,h=-1;for(let m=0;m<je.CODE_PATTERNS.length;m++){const y=je.CODE_PATTERNS[m],C=this.patternMatchVariance(o,y,je.MAX_INDIVIDUAL_VARIANCE);C<f&&(f=C,h=m)}if(h>=0)return h;throw new ne}decodeRow(s,o,c){const f=c&&c.get(U.ASSUME_GS1)===!0,h=je.findStartPattern(o),m=h[2];let y=0;const C=new Uint8Array(20);C[y++]=m;let N;switch(m){case je.CODE_START_A:N=je.CODE_CODE_A;break;case je.CODE_START_B:N=je.CODE_CODE_B;break;case je.CODE_START_C:N=je.CODE_CODE_C;break;default:throw new O}let T=!1,F=!1,H="",K=h[0],z=h[1];const $=Int32Array.from([0,0,0,0,0,0]);let X=0,te=0,he=m,ge=0,xe=!0,Ve=!1,ht=!1;for(;!T;){const Tt=F;switch(F=!1,X=te,te=je.decodeCode(o,$,z),C[y++]=te,te!==je.CODE_STOP&&(xe=!0),te!==je.CODE_STOP&&(ge++,he+=ge*te),K=z,z+=$.reduce((bp,Vd)=>bp+Vd,0),te){case je.CODE_START_A:case je.CODE_START_B:case je.CODE_START_C:throw new O}switch(N){case je.CODE_CODE_A:if(te<64)ht===Ve?H+=String.fromCharCode(" ".charCodeAt(0)+te):H+=String.fromCharCode(" ".charCodeAt(0)+te+128),ht=!1;else if(te<96)ht===Ve?H+=String.fromCharCode(te-64):H+=String.fromCharCode(te+64),ht=!1;else switch(te!==je.CODE_STOP&&(xe=!1),te){case je.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case je.CODE_FNC_2:case je.CODE_FNC_3:break;case je.CODE_FNC_4_A:!Ve&&ht?(Ve=!0,ht=!1):Ve&&ht?(Ve=!1,ht=!1):ht=!0;break;case je.CODE_SHIFT:F=!0,N=je.CODE_CODE_B;break;case je.CODE_CODE_B:N=je.CODE_CODE_B;break;case je.CODE_CODE_C:N=je.CODE_CODE_C;break;case je.CODE_STOP:T=!0;break}break;case je.CODE_CODE_B:if(te<96)ht===Ve?H+=String.fromCharCode(" ".charCodeAt(0)+te):H+=String.fromCharCode(" ".charCodeAt(0)+te+128),ht=!1;else switch(te!==je.CODE_STOP&&(xe=!1),te){case je.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case je.CODE_FNC_2:case je.CODE_FNC_3:break;case je.CODE_FNC_4_B:!Ve&&ht?(Ve=!0,ht=!1):Ve&&ht?(Ve=!1,ht=!1):ht=!0;break;case je.CODE_SHIFT:F=!0,N=je.CODE_CODE_A;break;case je.CODE_CODE_A:N=je.CODE_CODE_A;break;case je.CODE_CODE_C:N=je.CODE_CODE_C;break;case je.CODE_STOP:T=!0;break}break;case je.CODE_CODE_C:if(te<100)te<10&&(H+="0"),H+=te;else switch(te!==je.CODE_STOP&&(xe=!1),te){case je.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case je.CODE_CODE_A:N=je.CODE_CODE_A;break;case je.CODE_CODE_B:N=je.CODE_CODE_B;break;case je.CODE_STOP:T=!0;break}break}Tt&&(N=N===je.CODE_CODE_A?je.CODE_CODE_B:je.CODE_CODE_A)}const _r=z-K;if(z=o.getNextUnset(z),!o.isRange(z,Math.min(o.getSize(),z+(z-K)/2),!1))throw new ne;if(he-=ge*X,he%103!==X)throw new k;const yn=H.length;if(yn===0)throw new ne;yn>0&&xe&&(N===je.CODE_CODE_C?H=H.substring(0,yn-2):H=H.substring(0,yn-1));const nr=(h[1]+h[0])/2,Zt=K+_r/2,wn=C.length,cr=new Uint8Array(wn);for(let Tt=0;Tt<wn;Tt++)cr[Tt]=C[Tt];const Zs=[new Ne(nr,s),new Ne(Zt,s)];return new Xe(H,cr,0,Zs,_e.CODE_128,new Date().getTime())}}je.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],je.MAX_AVG_VARIANCE=.25,je.MAX_INDIVIDUAL_VARIANCE=.7,je.CODE_SHIFT=98,je.CODE_CODE_C=99,je.CODE_CODE_B=100,je.CODE_CODE_A=101,je.CODE_FNC_1=102,je.CODE_FNC_2=97,je.CODE_FNC_3=96,je.CODE_FNC_4_A=101,je.CODE_FNC_4_B=100,je.CODE_START_A=103,je.CODE_START_B=104,je.CODE_START_C=105,je.CODE_STOP=106;class rn extends tn{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,c){let f=this.counters;f.fill(0),this.decodeRowResult="";let h=rn.findAsteriskPattern(o,f),m=o.getNextSet(h[1]),y=o.getSize(),C,N;do{rn.recordPattern(o,m,f);let $=rn.toNarrowWidePattern(f);if($<0)throw new ne;C=rn.patternToChar($),this.decodeRowResult+=C,N=m;for(let X of f)m+=X;m=o.getNextSet(m)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let $ of f)T+=$;let F=m-N-T;if(m!==y&&F*2<T)throw new ne;if(this.usingCheckDigit){let $=this.decodeRowResult.length-1,X=0;for(let te=0;te<$;te++)X+=rn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt($)!==rn.ALPHABET_STRING.charAt(X%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,$)}if(this.decodeRowResult.length===0)throw new ne;let H;this.extendedMode?H=rn.decodeExtended(this.decodeRowResult):H=this.decodeRowResult;let K=(h[1]+h[0])/2,z=N+T/2;return new Xe(H,null,0,[new Ne(K,s),new Ne(z,s)],_e.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let c=s.getSize(),f=s.getNextSet(0),h=0,m=f,y=!1,C=o.length;for(let N=f;N<c;N++)if(s.get(N)!==y)o[h]++;else{if(h===C-1){if(this.toNarrowWidePattern(o)===rn.ASTERISK_ENCODING&&s.isRange(Math.max(0,m-Math.floor((N-m)/2)),m,!1))return[m,N];m+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,y=!y}throw new ne}static toNarrowWidePattern(s){let o=s.length,c=0,f;do{let h=2147483647;for(let C of s)C<h&&C>c&&(h=C);c=h,f=0;let m=0,y=0;for(let C=0;C<o;C++){let N=s[C];N>c&&(y|=1<<o-1-C,f++,m+=N)}if(f===3){for(let C=0;C<o&&f>0;C++){let N=s[C];if(N>c&&(f--,N*2>=m))return-1}return y}}while(f>3);return-1}static patternToChar(s){for(let o=0;o<rn.CHARACTER_ENCODINGS.length;o++)if(rn.CHARACTER_ENCODINGS[o]===s)return rn.ALPHABET_STRING.charAt(o);if(s===rn.ASTERISK_ENCODING)return"*";throw new ne}static decodeExtended(s){let o=s.length,c="";for(let f=0;f<o;f++){let h=s.charAt(f);if(h==="+"||h==="$"||h==="%"||h==="/"){let m=s.charAt(f+1),y="\0";switch(h){case"+":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)+32);else throw new O;break;case"$":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)-64);else throw new O;break;case"%":if(m>="A"&&m<="E")y=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")y=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")y=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")y="\0";else if(m==="V")y="@";else if(m==="W")y="`";else if(m==="X"||m==="Y"||m==="Z")y="";else throw new O;break;case"/":if(m>="A"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")y=":";else throw new O;break}c+=y,f++}else c+=h}return c}}rn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",rn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],rn.ASTERISK_ENCODING=148;class jt extends tn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,c){let f=this.decodeStart(o),h=this.decodeEnd(o),m=new le;jt.decodeMiddle(o,f[1],h[0],m);let y=m.toString(),C=null;c!=null&&(C=c.get(U.ALLOWED_LENGTHS)),C==null&&(C=jt.DEFAULT_ALLOWED_LENGTHS);let N=y.length,T=!1,F=0;for(let z of C){if(N===z){T=!0;break}z>F&&(F=z)}if(!T&&N>F&&(T=!0),!T)throw new O;const H=[new Ne(f[1],s),new Ne(h[0],s)];return new Xe(y,null,0,H,_e.ITF,new Date().getTime())}static decodeMiddle(s,o,c,f){let h=new Int32Array(10),m=new Int32Array(5),y=new Int32Array(5);for(h.fill(0),m.fill(0),y.fill(0);o<c;){tn.recordPattern(s,o,h);for(let N=0;N<5;N++){let T=2*N;m[N]=h[T],y[N]=h[T+1]}let C=jt.decodeDigit(m);f.append(C.toString()),C=this.decodeDigit(y),f.append(C.toString()),h.forEach(function(N){o+=N})}}decodeStart(s){let o=jt.skipWhiteSpace(s),c=jt.findGuardPattern(s,o,jt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(s,c[0]),c}validateQuietZone(s,o){let c=this.narrowLineWidth*10;c=c<o?c:o;for(let f=o-1;c>0&&f>=0&&!s.get(f);f--)c--;if(c!==0)throw new ne}static skipWhiteSpace(s){const o=s.getSize(),c=s.getNextSet(0);if(c===o)throw new ne;return c}decodeEnd(s){s.reverse();try{let o=jt.skipWhiteSpace(s),c;try{c=jt.findGuardPattern(s,o,jt.END_PATTERN_REVERSED[0])}catch(h){h instanceof ne&&(c=jt.findGuardPattern(s,o,jt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,c[0]);let f=c[0];return c[0]=s.getSize()-c[1],c[1]=s.getSize()-f,c}finally{s.reverse()}}static findGuardPattern(s,o,c){let f=c.length,h=new Int32Array(f),m=s.getSize(),y=!1,C=0,N=o;h.fill(0);for(let T=o;T<m;T++)if(s.get(T)!==y)h[C]++;else{if(C===f-1){if(tn.patternMatchVariance(h,c,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return[N,T];N+=h[0]+h[1],I.arraycopy(h,2,h,0,C-1),h[C-1]=0,h[C]=0,C--}else C++;h[C]=1,y=!y}throw new ne}static decodeDigit(s){let o=jt.MAX_AVG_VARIANCE,c=-1,f=jt.PATTERNS.length;for(let h=0;h<f;h++){let m=jt.PATTERNS[h],y=tn.patternMatchVariance(s,m,jt.MAX_INDIVIDUAL_VARIANCE);y<o?(o=y,c=h):y===o&&(c=-1)}if(c>=0)return c%10;throw new ne}}jt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],jt.MAX_AVG_VARIANCE=.38,jt.MAX_INDIVIDUAL_VARIANCE=.5,jt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],jt.START_PATTERN=Int32Array.from([1,1,1,1]),jt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class qt extends tn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,c,f=0,h=Int32Array.from([0,0,0]);for(;!o;){h=Int32Array.from([0,0,0]),c=qt.findGuardPattern(s,f,!1,this.START_END_PATTERN,h);let m=c[0];f=c[1];let y=m-(f-m);y>=0&&(o=s.isRange(y,m,!1))}return c}static checkChecksum(s){return qt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return qt.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new O;c+=h}c*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new O;c+=h}return(1e3-c)%10}static decodeEnd(s,o){return qt.findGuardPattern(s,o,!1,qt.START_END_PATTERN,new Int32Array(qt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,c,f){return this.findGuardPattern(s,o,c,f,new Int32Array(f.length))}static findGuardPattern(s,o,c,f,h){let m=s.getSize();o=c?s.getNextUnset(o):s.getNextSet(o);let y=0,C=o,N=f.length,T=c;for(let F=o;F<m;F++)if(s.get(F)!==T)h[y]++;else{if(y===N-1){if(tn.patternMatchVariance(h,f,qt.MAX_INDIVIDUAL_VARIANCE)<qt.MAX_AVG_VARIANCE)return Int32Array.from([C,F]);C+=h[0]+h[1];let H=h.slice(2,h.length-1);for(let K=0;K<y-1;K++)h[K]=H[K];h[y-1]=0,h[y]=0,y--}else y++;h[y]=1,T=!T}throw new ne}static decodeDigit(s,o,c,f){this.recordPattern(s,c,o);let h=this.MAX_AVG_VARIANCE,m=-1,y=f.length;for(let C=0;C<y;C++){let N=f[C],T=tn.patternMatchVariance(o,N,qt.MAX_INDIVIDUAL_VARIANCE);T<h&&(h=T,m=C)}if(m>=0)return m;throw new ne}}qt.MAX_AVG_VARIANCE=.48,qt.MAX_INDIVIDUAL_VARIANCE=.7,qt.START_END_PATTERN=Int32Array.from([1,1,1]),qt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),qt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),qt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Xs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,c,f),m=f.toString(),y=Xs.parseExtensionString(m),C=[new Ne((c[0]+c[1])/2,s),new Ne(h,s)],N=new Xe(m,null,0,C,_e.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&N.putAllMetadata(y),N}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1],y=0;for(let N=0;N<5&&m<h;N++){let T=qt.decodeDigit(s,f,m,qt.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<4-N),N!==4&&(m=s.getNextSet(m),m=s.getNextUnset(m))}if(c.length!==5)throw new ne;let C=this.determineCheckDigit(y);if(Xs.extensionChecksum(c.toString())!==C)throw new ne;return m}static extensionChecksum(s){let o=s.length,c=0;for(let f=o-2;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);c*=3;for(let f=o-1;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);return c*=3,c%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ne}static parseExtensionString(s){if(s.length!==5)return null;let o=Xs.parseExtension5String(s);return o==null?null:new Map([[lt.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let c=parseInt(s.substring(1)),f=(c/100).toString(),h=c%100,m=h<10?"0"+h:h.toString();return o+f+"."+m}}class wo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,c,f),m=f.toString(),y=wo.parseExtensionString(m),C=[new Ne((c[0]+c[1])/2,s),new Ne(h,s)],N=new Xe(m,null,0,C,_e.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&N.putAllMetadata(y),N}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1],y=0;for(let C=0;C<2&&m<h;C++){let N=qt.decodeDigit(s,f,m,qt.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+N%10);for(let T of f)m+=T;N>=10&&(y|=1<<1-C),C!==1&&(m=s.getNextSet(m),m=s.getNextUnset(m))}if(c.length!==2)throw new ne;if(parseInt(c.toString())%4!==y)throw new ne;return m}static parseExtensionString(s){return s.length!==2?null:new Map([[lt.ISSUE_NUMBER,parseInt(s)]])}}class kd{static decodeRow(s,o,c){let f=qt.findGuardPattern(o,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Xs().decodeRow(s,o,f)}catch{return new wo().decodeRow(s,o,f)}}}kd.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ot extends qt{constructor(){super(),this.decodeRowStringBuffer="",Ot.L_AND_G_PATTERNS=Ot.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=Ot.L_PATTERNS[s-10],c=new Int32Array(o.length);for(let f=0;f<o.length;f++)c[f]=o[o.length-f-1];Ot.L_AND_G_PATTERNS[s]=c}}decodeRow(s,o,c){let f=Ot.findStartGuardPattern(o),h=c==null?null:c.get(U.NEED_RESULT_POINT_CALLBACK);if(h!=null){const xe=new Ne((f[0]+f[1])/2,s);h.foundPossibleResultPoint(xe)}let m=this.decodeMiddle(o,f,this.decodeRowStringBuffer),y=m.rowOffset,C=m.resultString;if(h!=null){const xe=new Ne(y,s);h.foundPossibleResultPoint(xe)}let N=this.decodeEnd(o,y);if(h!=null){const xe=new Ne((N[0]+N[1])/2,s);h.foundPossibleResultPoint(xe)}let T=N[1],F=T+(T-N[0]);if(F>=o.getSize()||!o.isRange(T,F,!1))throw new ne;let H=C.toString();if(H.length<8)throw new O;if(!Ot.checkChecksum(H))throw new k;let K=(f[1]+f[0])/2,z=(N[1]+N[0])/2,$=this.getBarcodeFormat(),X=[new Ne(K,s),new Ne(z,s)],te=new Xe(H,null,0,X,$,new Date().getTime()),he=0;try{let xe=kd.decodeRow(s,o,N[1]);te.putMetadata(lt.UPC_EAN_EXTENSION,xe.getText()),te.putAllMetadata(xe.getResultMetadata()),te.addResultPoints(xe.getResultPoints()),he=xe.getText().length}catch{}let ge=c==null?null:c.get(U.ALLOWED_EAN_EXTENSIONS);if(ge!=null){let xe=!1;for(let Ve in ge)if(he.toString()===Ve){xe=!0;break}if(!xe)throw new ne}return te}decodeEnd(s,o){return Ot.findGuardPattern(s,o,!1,Ot.START_END_PATTERN,new Int32Array(Ot.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Ot.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return Ot.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new O;c+=h}c*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new O;c+=h}return(1e3-c)%10}}class mi extends Ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1],y=0;for(let N=0;N<6&&m<h;N++){let T=Ot.decodeDigit(s,f,m,Ot.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<5-N)}c=mi.determineFirstDigit(c,y),m=Ot.findGuardPattern(s,m,!0,Ot.MIDDLE_PATTERN,new Int32Array(Ot.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&m<h;N++){let T=Ot.decodeDigit(s,f,m,Ot.L_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+T);for(let F of f)m+=F}return{rowOffset:m,resultString:c}}getBarcodeFormat(){return _e.EAN_13}static determineFirstDigit(s,o){for(let c=0;c<10;c++)if(o===this.FIRST_DIGIT_ENCODINGS[c])return s=String.fromCharCode("0".charCodeAt(0)+c)+s,s;throw new ne}}mi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Td extends Ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1];for(let C=0;C<4&&m<h;C++){let N=Ot.decodeDigit(s,f,m,Ot.L_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+N);for(let T of f)m+=T}m=Ot.findGuardPattern(s,m,!0,Ot.MIDDLE_PATTERN,new Int32Array(Ot.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&m<h;C++){let N=Ot.decodeDigit(s,f,m,Ot.L_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+N);for(let T of f)m+=T}return{rowOffset:m,resultString:c}}getBarcodeFormat(){return _e.EAN_8}}class Dd extends Ot{constructor(){super(...arguments),this.ean13Reader=new mi}getBarcodeFormat(){return _e.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,c))}decodeMiddle(s,o,c){return this.ean13Reader.decodeMiddle(s,o,c)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let c=new Xe(o.substring(1),null,null,s.getResultPoints(),_e.UPC_A);return s.getResultMetadata()!=null&&c.putAllMetadata(s.getResultMetadata()),c}else throw new ne}reset(){this.ean13Reader.reset()}}class as extends Ot{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters.map(N=>N);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const h=s.getSize();let m=o[1],y=0;for(let N=0;N<6&&m<h;N++){const T=as.decodeDigit(s,f,m,as.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<5-N)}let C=as.determineNumSysAndCheckDigit(c,y);return{rowOffset:m,resultString:C}}decodeEnd(s,o){return as.findGuardPatternWithoutCounters(s,o,!0,as.MIDDLE_END_PATTERN)}checkChecksum(s){return Ot.checkChecksum(as.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let c=0;c<=1;c++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][f]){let h=String.fromCharCode("0".charCodeAt(0)+c),m=String.fromCharCode("0".charCodeAt(0)+f);return h+s+m}throw ne.getNotFoundInstance()}getBarcodeFormat(){return _e.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(h=>h.charCodeAt(0)),c=new le;c.append(s.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:c.appendChars(o,0,2),c.append(f),c.append("0000"),c.appendChars(o,2,3);break;case 3:c.appendChars(o,0,3),c.append("00000"),c.appendChars(o,3,2);break;case 4:c.appendChars(o,0,4),c.append("00000"),c.append(o[4]);break;default:c.appendChars(o,0,5),c.append("0000"),c.append(f);break}return s.length>=8&&c.append(s.charAt(7)),c.toString()}}as.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),as.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Mc extends tn{constructor(s){super();let o=s==null?null:s.get(U.POSSIBLE_FORMATS),c=[];r(o)?(c.push(new mi),c.push(new Dd),c.push(new Td),c.push(new as)):(o.indexOf(_e.EAN_13)>-1&&c.push(new mi),o.indexOf(_e.UPC_A)>-1&&c.push(new Dd),o.indexOf(_e.EAN_8)>-1&&c.push(new Td),o.indexOf(_e.UPC_E)>-1&&c.push(new as)),this.readers=c}decodeRow(s,o,c){for(let f of this.readers)try{const h=f.decodeRow(s,o,c),m=h.getBarcodeFormat()===_e.EAN_13&&h.getText().charAt(0)==="0",y=c==null?null:c.get(U.POSSIBLE_FORMATS),C=y==null||y.includes(_e.UPC_A);if(m&&C){const N=h.getRawBytes(),T=new Xe(h.getText().substring(1),N,N?N.length:null,h.getResultPoints(),_e.UPC_A);return T.putAllMetadata(h.getResultMetadata()),T}return h}catch{}throw new ne}reset(){for(let s of this.readers)s.reset()}}class Jn extends tn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let c=0;c<o.length;c++)if(tn.patternMatchVariance(s,o[c],Jn.MAX_INDIVIDUAL_VARIANCE)<Jn.MAX_AVG_VARIANCE)return c;throw new ne}static count(s){return ft.sum(new Int32Array(s))}static increment(s,o){let c=0,f=o[0];for(let h=1;h<s.length;h++)o[h]>f&&(f=o[h],c=h);s[c]++}static decrement(s,o){let c=0,f=o[0];for(let h=1;h<s.length;h++)o[h]<f&&(f=o[h],c=h);s[c]--}static isFinderPattern(s){let o=s[0]+s[1],c=o+s[2]+s[3],f=o/c;if(f>=Jn.MIN_FINDER_PATTERN_RATIO&&f<=Jn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let y of s)y>m&&(m=y),y<h&&(h=y);return m<10*h}return!1}}Jn.MAX_AVG_VARIANCE=.2,Jn.MAX_INDIVIDUAL_VARIANCE=.45,Jn.MIN_FINDER_PATTERN_RATIO=9.5/12,Jn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ea{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Ea))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class xl{constructor(s,o,c,f,h){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ne(c,h)),this.resultPoints.push(new Ne(f,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof xl))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class As{constructor(){}static getRSSvalue(s,o,c){let f=0;for(let C of s)f+=C;let h=0,m=0,y=s.length;for(let C=0;C<y-1;C++){let N;for(N=1,m|=1<<C;N<s[C];N++,m&=~(1<<C)){let T=As.combins(f-N-1,y-C-2);if(c&&m===0&&f-N-(y-C-1)>=y-C-1&&(T-=As.combins(f-N-(y-C),y-C-2)),y-C-1>1){let F=0;for(let H=f-N-(y-C-2);H>o;H--)F+=As.combins(f-N-H-1,y-C-3);T-=F*(y-1-C)}else f-N>o&&T--;h+=T}f-=N}return h}static combins(s,o){let c,f;s-o>o?(f=o,c=s-o):(f=s-o,c=o);let h=1,m=1;for(let y=s;y>c;y--)h*=y,m<=f&&(h/=m,m++);for(;m<=f;)h/=m,m++;return h}}class Lc{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let c=12*o,f=new W(c),h=0,y=s[0].getRightChar().getValue();for(let C=11;C>=0;--C)y&1<<C&&f.set(h),h++;for(let C=1;C<s.length;++C){let N=s[C],T=N.getLeftChar().getValue();for(let F=11;F>=0;--F)T&1<<F&&f.set(h),h++;if(N.getRightChar()!=null){let F=N.getRightChar().getValue();for(let H=11;H>=0;--H)F&1<<H&&f.set(h),h++}}return f}}class Bi{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class bo{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class br extends bo{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===br.FNC1}}br.FNC1="$";class Ui extends bo{constructor(s,o,c){super(s),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class $r extends bo{constructor(s,o,c){if(super(s),o<0||o>10||c<0||c>10)throw new O;this.firstDigit=o,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===$r.FNC1}isSecondDigitFNC1(){return this.secondDigit===$r.FNC1}isAnyFNC1(){return this.firstDigit===$r.FNC1||this.secondDigit===$r.FNC1}}$r.FNC1=10;class Be{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new ne;let o=s.substring(0,2);for(let h of Be.TWO_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===Be.VARIABLE_LENGTH?Be.processVariableAI(2,h[2],s):Be.processFixedAI(2,h[1],s);if(s.length<3)throw new ne;let c=s.substring(0,3);for(let h of Be.THREE_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===Be.VARIABLE_LENGTH?Be.processVariableAI(3,h[2],s):Be.processFixedAI(3,h[1],s);for(let h of Be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===Be.VARIABLE_LENGTH?Be.processVariableAI(4,h[2],s):Be.processFixedAI(4,h[1],s);if(s.length<4)throw new ne;let f=s.substring(0,4);for(let h of Be.FOUR_DIGIT_DATA_LENGTH)if(h[0]===f)return h[1]===Be.VARIABLE_LENGTH?Be.processVariableAI(4,h[2],s):Be.processFixedAI(4,h[1],s);throw new ne}static processFixedAI(s,o,c){if(c.length<s)throw new ne;let f=c.substring(0,s);if(c.length<s+o)throw new ne;let h=c.substring(s,s+o),m=c.substring(s+o),y="("+f+")"+h,C=Be.parseFieldsInGeneralPurpose(m);return C==null?y:y+C}static processVariableAI(s,o,c){let f=c.substring(0,s),h;c.length<s+o?h=c.length:h=s+o;let m=c.substring(s,h),y=c.substring(h),C="("+f+")"+m,N=Be.parseFieldsInGeneralPurpose(y);return N==null?C:C+N}}Be.VARIABLE_LENGTH=[],Be.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Be.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Be.VARIABLE_LENGTH,20],["22",Be.VARIABLE_LENGTH,29],["30",Be.VARIABLE_LENGTH,8],["37",Be.VARIABLE_LENGTH,8],["90",Be.VARIABLE_LENGTH,30],["91",Be.VARIABLE_LENGTH,30],["92",Be.VARIABLE_LENGTH,30],["93",Be.VARIABLE_LENGTH,30],["94",Be.VARIABLE_LENGTH,30],["95",Be.VARIABLE_LENGTH,30],["96",Be.VARIABLE_LENGTH,30],["97",Be.VARIABLE_LENGTH,3],["98",Be.VARIABLE_LENGTH,30],["99",Be.VARIABLE_LENGTH,30]],Be.THREE_DIGIT_DATA_LENGTH=[["240",Be.VARIABLE_LENGTH,30],["241",Be.VARIABLE_LENGTH,30],["242",Be.VARIABLE_LENGTH,6],["250",Be.VARIABLE_LENGTH,30],["251",Be.VARIABLE_LENGTH,30],["253",Be.VARIABLE_LENGTH,17],["254",Be.VARIABLE_LENGTH,20],["400",Be.VARIABLE_LENGTH,30],["401",Be.VARIABLE_LENGTH,30],["402",17],["403",Be.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Be.VARIABLE_LENGTH,20],["421",Be.VARIABLE_LENGTH,15],["422",3],["423",Be.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Be.VARIABLE_LENGTH,15],["391",Be.VARIABLE_LENGTH,18],["392",Be.VARIABLE_LENGTH,15],["393",Be.VARIABLE_LENGTH,18],["703",Be.VARIABLE_LENGTH,30]],Be.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Be.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Be.VARIABLE_LENGTH,20],["8003",Be.VARIABLE_LENGTH,30],["8004",Be.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Be.VARIABLE_LENGTH,30],["8008",Be.VARIABLE_LENGTH,12],["8018",18],["8020",Be.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Be.VARIABLE_LENGTH,70],["8200",Be.VARIABLE_LENGTH,70]];class Na{constructor(s){this.buffer=new le,this.information=s}decodeAllCodes(s,o){let c=o,f=null;do{let h=this.decodeGeneralPurposeField(c,f),m=Be.parseFieldsInGeneralPurpose(h.getNewString());if(m!=null&&s.append(m),h.isRemaining()?f=""+h.getRemainingValue():f=null,c===h.getNewPosition())break;c=h.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(s,4);return h===0?new $r(this.information.getSize(),$r.FNC1,$r.FNC1):new $r(this.information.getSize(),h-1,$r.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),c=(o-8)/11,f=(o-8)%11;return new $r(s+7,c,f)}extractNumericValueFromBitArray(s,o){return Na.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,c){let f=0;for(let h=0;h<c;++h)s.get(o+h)&&(f|=1<<c-h-1);return f}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new Ui(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new Ui(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let c=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(c!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new Ui(this.current.getPosition(),this.buffer.toString()):o=new Ui(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Bi(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new Ui(this.current.getPosition(),this.buffer.toString());return new Bi(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Bi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Ui(this.current.getPosition(),this.buffer.toString());return new Bi(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Bi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Ui(this.current.getPosition(),this.buffer.toString());return new Bi(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Bi(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<116)return!0;if(s+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(s,8);return f>=232&&f<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new br(s+5,br.FNC1);if(o>=5&&o<15)return new br(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<90)return new br(s+7,""+(c+1));if(c>=90&&c<116)return new br(s+7,""+(c+7));let f=this.extractNumericValueFromBitArray(s,8),h;switch(f){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new O}return new br(s+8,h)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,6);return c>=16&&c<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new br(s+5,br.FNC1);if(o>=5&&o<15)return new br(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,6);if(c>=32&&c<58)return new br(s+6,""+(c+33));let f;switch(c){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new me("Decoding invalid alphanumeric value: "+c)}return new br(s+6,f)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class Pc{constructor(s){this.information=s,this.generalDecoder=new Na(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Cr extends Pc{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,c)}encodeCompressedGtinWithoutAI(s,o,c){for(let f=0;f<4;++f){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);h/100===0&&s.append("0"),h/10===0&&s.append("0"),s.append(h)}Cr.appendCheckDigit(s,c)}static appendCheckDigit(s,o){let c=0;for(let f=0;f<13;f++){let h=s.charAt(f+o).charCodeAt(0)-"0".charCodeAt(0);c+=f&1?h:3*h}c=10-c%10,c===10&&(c=0),s.append(c)}}Cr.GTIN_SIZE=40;class _a extends Cr{constructor(s){super(s)}parseInformation(){let s=new le;s.append("(01)");let o=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(_a.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,_a.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,_a.HEADER_SIZE+44)}}_a.HEADER_SIZE=1+1+2;class Co extends Pc{constructor(s){super(s)}parseInformation(){let s=new le;return this.getGeneralDecoder().decodeAllCodes(s,Co.HEADER_SIZE)}}Co.HEADER_SIZE=2+1+2;class vl extends Cr{constructor(s){super(s)}encodeCompressedWeight(s,o,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,c);this.addWeightCode(s,f);let h=this.checkWeight(f),m=1e5;for(let y=0;y<5;++y)h/m===0&&s.append("0"),m/=10;s.append(h)}}class ks extends vl{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=ks.HEADER_SIZE+vl.GTIN_SIZE+ks.WEIGHT_SIZE)throw new ne;let s=new le;return this.encodeCompressedGtin(s,ks.HEADER_SIZE),this.encodeCompressedWeight(s,ks.HEADER_SIZE+vl.GTIN_SIZE,ks.WEIGHT_SIZE),s.toString()}}ks.HEADER_SIZE=4+1,ks.WEIGHT_SIZE=15;class up extends ks{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class dp extends ks{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Ts extends Cr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Ts.HEADER_SIZE+Cr.GTIN_SIZE)throw new ne;let s=new le;this.encodeCompressedGtin(s,Ts.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ts.HEADER_SIZE+Cr.GTIN_SIZE,Ts.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Ts.HEADER_SIZE+Cr.GTIN_SIZE+Ts.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}Ts.HEADER_SIZE=5+1+2,Ts.LAST_DIGIT_SIZE=2;class mr extends Cr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<mr.HEADER_SIZE+Cr.GTIN_SIZE)throw new ne;let s=new le;this.encodeCompressedGtin(s,mr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Cr.GTIN_SIZE,mr.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Cr.GTIN_SIZE+mr.LAST_DIGIT_SIZE,mr.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let f=this.getGeneralDecoder().decodeGeneralPurposeField(mr.HEADER_SIZE+Cr.GTIN_SIZE+mr.LAST_DIGIT_SIZE+mr.FIRST_THREE_DIGITS_SIZE,null);return s.append(f.getNewString()),s.toString()}}mr.HEADER_SIZE=5+1+2,mr.LAST_DIGIT_SIZE=2,mr.FIRST_THREE_DIGITS_SIZE=10;class Xt extends vl{constructor(s,o,c){super(s),this.dateCode=c,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Xt.HEADER_SIZE+Xt.GTIN_SIZE+Xt.WEIGHT_SIZE+Xt.DATE_SIZE)throw new ne;let s=new le;return this.encodeCompressedGtin(s,Xt.HEADER_SIZE),this.encodeCompressedWeight(s,Xt.HEADER_SIZE+Xt.GTIN_SIZE,Xt.WEIGHT_SIZE),this.encodeCompressedDate(s,Xt.HEADER_SIZE+Xt.GTIN_SIZE+Xt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Xt.DATE_SIZE);if(c==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let f=c%32;c/=32;let h=c%12+1;c/=12;let m=c;m/10==0&&s.append("0"),s.append(m),h/10==0&&s.append("0"),s.append(h),f/10==0&&s.append("0"),s.append(f)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}Xt.HEADER_SIZE=7+1,Xt.WEIGHT_SIZE=20,Xt.DATE_SIZE=16;function jd(P){try{if(P.get(1))return new _a(P);if(!P.get(2))return new Co(P);switch(Na.extractNumericValueFromBitArray(P,1,4)){case 4:return new up(P);case 5:return new dp(P)}switch(Na.extractNumericValueFromBitArray(P,1,5)){case 12:return new Ts(P);case 13:return new mr(P)}switch(Na.extractNumericValueFromBitArray(P,1,7)){case 56:return new Xt(P,"310","11");case 57:return new Xt(P,"320","11");case 58:return new Xt(P,"310","13");case 59:return new Xt(P,"320","13");case 60:return new Xt(P,"310","15");case 61:return new Xt(P,"320","15");case 62:return new Xt(P,"310","17");case 63:return new Xt(P,"320","17")}}catch(s){throw console.log(s),new me("unknown decoder: "+P)}}class os{constructor(s,o,c,f){this.leftchar=s,this.rightchar=o,this.finderpattern=c,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof os?os.equalsOrNull(s.leftchar,o.leftchar)&&os.equalsOrNull(s.rightchar,o.rightchar)&&os.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:os.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Fc{constructor(s,o,c){this.pairs=s,this.rowNumber=o,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof Fc?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let c;return s.forEach((f,h)=>{o.forEach(m=>{f.getLeftChar().getValue()===m.getLeftChar().getValue()&&f.getRightChar().getValue()===m.getRightChar().getValue()&&f.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(c=!0)})}),c}}class Ee extends Jn{constructor(s){super(...arguments),this.pairs=new Array(Ee.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,c){this.pairs.length=0,this.startFromEven=!1;try{return Ee.constructResult(this.decodeRow2pairs(s,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,Ee.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(h){if(h instanceof ne){if(!this.pairs.length)throw new ne;c=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(s,!1),f){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new ne}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let c=o;c<this.rows.length;c++){let f=this.rows[c];this.pairs.length=0;for(let m of s)this.pairs.push(m.getPairs());if(this.pairs.push(f.getPairs()),!Ee.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(s);h.push(f);try{return this.checkRows(h,c+1)}catch(m){this.verbose&&console.log(m)}}throw new ne}static isValidSequence(s){for(let o of Ee.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let c=!0;for(let f=0;f<s.length;f++)if(s[f].getFinderPattern().getValue()!=o[f]){c=!1;break}if(c)return!0}return!1}storeRow(s,o){let c=0,f=!1,h=!1;for(;c<this.rows.length;){let m=this.rows[c];if(m.getRowNumber()>s){h=m.isEquivalent(this.pairs);break}f=m.isEquivalent(this.pairs),c++}h||f||Ee.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new Fc(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let c of o)if(c.getPairs().length!==s.length){for(let f of c.getPairs())for(let h of s)if(os.equals(f,h))break}}static isPartialRow(s,o){for(let c of o){let f=!0;for(let h of s){let m=!1;for(let y of c.getPairs())if(h.equals(y)){m=!0;break}if(!m){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=Lc.buildBitArray(s),f=jd(o).parseInformation(),h=s[0].getFinderPattern().getResultPoints(),m=s[s.length-1].getFinderPattern().getResultPoints(),y=[h[0],h[1],m[0],m[1]];return new Xe(f,null,null,y,_e.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),c=s.getRightChar();if(c==null)return!1;let f=c.getChecksumPortion(),h=2;for(let y=1;y<this.pairs.size();++y){let C=this.pairs.get(y);f+=C.getLeftChar().getChecksumPortion(),h++;let N=C.getRightChar();N!=null&&(f+=N.getChecksumPortion(),h++)}return f%=211,211*(h-4)+f==o.getValue()}static getNextSecondBar(s,o){let c;return s.get(o)?(c=s.getNextUnset(o),c=s.getNextSet(c)):(c=s.getNextSet(o),c=s.getNextUnset(c)),c}retrieveNextPair(s,o,c){let f=o.length%2==0;this.startFromEven&&(f=!f);let h,m=!0,y=-1;do this.findNextPair(s,o,y),h=this.parseFoundFinderPattern(s,c,f),h==null?y=Ee.getNextSecondBar(s,this.startEnd[0]):m=!1;while(m);let C=this.decodeDataCharacter(s,h,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ne;let N;try{N=this.decodeDataCharacter(s,h,f,!1)}catch(T){N=null,this.verbose&&console.log(T)}return new os(C,N,h,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m;c>=0?m=c:this.isEmptyPair(o)?m=0:m=o[o.length-1].getFinderPattern().getStartEnd()[1];let y=o.length%2!=0;this.startFromEven&&(y=!y);let C=!1;for(;m<h&&(C=!s.get(m),!!C);)m++;let N=0,T=m;for(let F=m;F<h;F++)if(s.get(F)!=C)f[N]++;else{if(N==3){if(y&&Ee.reverseCounters(f),Ee.isFinderPattern(f)){this.startEnd[0]=T,this.startEnd[1]=F;return}y&&Ee.reverseCounters(f),T+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,N--}else N++;f[N]=1,C=!C}throw new ne}static reverseCounters(s){let o=s.length;for(let c=0;c<o/2;++c){let f=s[c];s[c]=s[o-c-1],s[o-c-1]=f}}parseFoundFinderPattern(s,o,c){let f,h,m;if(c){let N=this.startEnd[0]-1;for(;N>=0&&!s.get(N);)N--;N++,f=this.startEnd[0]-N,h=N,m=this.startEnd[1]}else h=this.startEnd[0],m=s.getNextUnset(this.startEnd[1]+1),f=m-this.startEnd[1];let y=this.getDecodeFinderCounters();I.arraycopy(y,0,y,1,y.length-1),y[0]=f;let C;try{C=this.parseFinderValue(y,Ee.FINDER_PATTERNS)}catch{return null}return new xl(C,[h,m],h,m,o)}decodeDataCharacter(s,o,c,f){let h=this.getDataCharacterCounters();for(let Zt=0;Zt<h.length;Zt++)h[Zt]=0;if(f)Ee.recordPatternInReverse(s,o.getStartEnd()[0],h);else{Ee.recordPattern(s,o.getStartEnd()[1],h);for(let Zt=0,wn=h.length-1;Zt<wn;Zt++,wn--){let cr=h[Zt];h[Zt]=h[wn],h[wn]=cr}}let m=17,y=ft.sum(new Int32Array(h))/m,C=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(y-C)/C>.3)throw new ne;let N=this.getOddCounts(),T=this.getEvenCounts(),F=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let Zt=0;Zt<h.length;Zt++){let wn=1*h[Zt]/y,cr=wn+.5;if(cr<1){if(wn<.3)throw new ne;cr=1}else if(cr>8){if(wn>8.7)throw new ne;cr=8}let Zs=Zt/2;Zt&1?(T[Zs]=cr,H[Zs]=wn-cr):(N[Zs]=cr,F[Zs]=wn-cr)}this.adjustOddEvenCounts(m);let K=4*o.getValue()+(c?0:2)+(f?0:1)-1,z=0,$=0;for(let Zt=N.length-1;Zt>=0;Zt--){if(Ee.isNotA1left(o,c,f)){let wn=Ee.WEIGHTS[K][2*Zt];$+=N[Zt]*wn}z+=N[Zt]}let X=0;for(let Zt=T.length-1;Zt>=0;Zt--)if(Ee.isNotA1left(o,c,f)){let wn=Ee.WEIGHTS[K][2*Zt+1];X+=T[Zt]*wn}let te=$+X;if(z&1||z>13||z<4)throw new ne;let he=(13-z)/2,ge=Ee.SYMBOL_WIDEST[he],xe=9-ge,Ve=As.getRSSvalue(N,ge,!0),ht=As.getRSSvalue(T,xe,!1),_r=Ee.EVEN_TOTAL_SUBSET[he],yn=Ee.GSUM[he],nr=Ve*_r+ht+yn;return new Ea(nr,te)}static isNotA1left(s,o,c){return!(s.getValue()==0&&o&&c)}adjustOddEvenCounts(s){let o=ft.sum(new Int32Array(this.getOddCounts())),c=ft.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let m=!1,y=!1;c>13?y=!0:c<4&&(m=!0);let C=o+c-s,N=(o&1)==1,T=(c&1)==0;if(C==1)if(N){if(T)throw new ne;h=!0}else{if(!T)throw new ne;y=!0}else if(C==-1)if(N){if(T)throw new ne;f=!0}else{if(!T)throw new ne;m=!0}else if(C==0){if(N){if(!T)throw new ne;o<c?(f=!0,y=!0):(h=!0,m=!0)}else if(T)throw new ne}else throw new ne;if(f){if(h)throw new ne;Ee.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Ee.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new ne;Ee.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Ee.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ee.SYMBOL_WIDEST=[7,5,4,3,1],Ee.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ee.GSUM=[0,348,1388,2948,3988],Ee.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ee.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ee.FINDER_PAT_A=0,Ee.FINDER_PAT_B=1,Ee.FINDER_PAT_C=2,Ee.FINDER_PAT_D=3,Ee.FINDER_PAT_E=4,Ee.FINDER_PAT_F=5,Ee.FINDER_PATTERN_SEQUENCES=[[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_C,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_C],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F]],Ee.MAX_PAIRS=11;class fp extends Ea{constructor(s,o,c){super(s,o),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class fn extends Jn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,c){const f=this.decodePair(o,!1,s,c);fn.addOrTally(this.possibleLeftPairs,f),o.reverse();let h=this.decodePair(o,!0,s,c);fn.addOrTally(this.possibleRightPairs,h),o.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&fn.checkChecksum(m,y))return fn.constructResult(m,y)}throw new ne}static addOrTally(s,o){if(o==null)return;let c=!1;for(let f of s)if(f.getValue()===o.getValue()){f.incrementCount(),c=!0;break}c||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let c=4537077*s.getValue()+o.getValue(),f=new String(c).toString(),h=new le;for(let N=13-f.length;N>0;N--)h.append("0");h.append(f);let m=0;for(let N=0;N<13;N++){let T=h.charAt(N).charCodeAt(0)-"0".charCodeAt(0);m+=N&1?T:3*T}m=10-m%10,m===10&&(m=0),h.append(m.toString());let y=s.getFinderPattern().getResultPoints(),C=o.getFinderPattern().getResultPoints();return new Xe(h.toString(),null,0,[y[0],y[1],C[0],C[1]],_e.RSS_14,new Date().getTime())}static checkChecksum(s,o){let c=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,c===f}decodePair(s,o,c,f){try{let h=this.findFinderPattern(s,o),m=this.parseFoundFinderPattern(s,c,o,h),y=f==null?null:f.get(U.NEED_RESULT_POINT_CALLBACK);if(y!=null){let T=(h[0]+h[1])/2;o&&(T=s.getSize()-1-T),y.foundPossibleResultPoint(new Ne(T,c))}let C=this.decodeDataCharacter(s,m,!0),N=this.decodeDataCharacter(s,m,!1);return new fp(1597*C.getValue()+N.getValue(),C.getChecksumPortion()+4*N.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(s,o,c){let f=this.getDataCharacterCounters();for(let X=0;X<f.length;X++)f[X]=0;if(c)tn.recordPatternInReverse(s,o.getStartEnd()[0],f);else{tn.recordPattern(s,o.getStartEnd()[1]+1,f);for(let X=0,te=f.length-1;X<te;X++,te--){let he=f[X];f[X]=f[te],f[te]=he}}let h=c?16:15,m=ft.sum(new Int32Array(f))/h,y=this.getOddCounts(),C=this.getEvenCounts(),N=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let X=0;X<f.length;X++){let te=f[X]/m,he=Math.floor(te+.5);he<1?he=1:he>8&&(he=8);let ge=Math.floor(X/2);X&1?(C[ge]=he,T[ge]=te-he):(y[ge]=he,N[ge]=te-he)}this.adjustOddEvenCounts(c,h);let F=0,H=0;for(let X=y.length-1;X>=0;X--)H*=9,H+=y[X],F+=y[X];let K=0,z=0;for(let X=C.length-1;X>=0;X--)K*=9,K+=C[X],z+=C[X];let $=H+3*K;if(c){if(F&1||F>12||F<4)throw new ne;let X=(12-F)/2,te=fn.OUTSIDE_ODD_WIDEST[X],he=9-te,ge=As.getRSSvalue(y,te,!1),xe=As.getRSSvalue(C,he,!0),Ve=fn.OUTSIDE_EVEN_TOTAL_SUBSET[X],ht=fn.OUTSIDE_GSUM[X];return new Ea(ge*Ve+xe+ht,$)}else{if(z&1||z>10||z<4)throw new ne;let X=(10-z)/2,te=fn.INSIDE_ODD_WIDEST[X],he=9-te,ge=As.getRSSvalue(y,te,!0),xe=As.getRSSvalue(C,he,!1),Ve=fn.INSIDE_ODD_TOTAL_SUBSET[X],ht=fn.INSIDE_GSUM[X];return new Ea(xe*Ve+ge+ht,$)}}findFinderPattern(s,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=s.getSize(),h=!1,m=0;for(;m<f&&(h=!s.get(m),o!==h);)m++;let y=0,C=m;for(let N=m;N<f;N++)if(s.get(N)!==h)c[y]++;else{if(y===3){if(Jn.isFinderPattern(c))return[C,N];C+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,y--}else y++;c[y]=1,h=!h}throw new ne}parseFoundFinderPattern(s,o,c,f){let h=s.get(f[0]),m=f[0]-1;for(;m>=0&&h!==s.get(m);)m--;m++;const y=f[0]-m,C=this.getDecodeFinderCounters(),N=new Int32Array(C.length);I.arraycopy(C,0,N,1,C.length-1),N[0]=y;const T=this.parseFinderValue(N,fn.FINDER_PATTERNS);let F=m,H=f[1];return c&&(F=s.getSize()-1-F,H=s.getSize()-1-H),new xl(T,[m,f[1]],F,H,o)}adjustOddEvenCounts(s,o){let c=ft.sum(new Int32Array(this.getOddCounts())),f=ft.sum(new Int32Array(this.getEvenCounts())),h=!1,m=!1,y=!1,C=!1;s?(c>12?m=!0:c<4&&(h=!0),f>12?C=!0:f<4&&(y=!0)):(c>11?m=!0:c<5&&(h=!0),f>10?C=!0:f<4&&(y=!0));let N=c+f-o,T=(c&1)===(s?1:0),F=(f&1)===1;if(N===1)if(T){if(F)throw new ne;m=!0}else{if(!F)throw new ne;C=!0}else if(N===-1)if(T){if(F)throw new ne;h=!0}else{if(!F)throw new ne;y=!0}else if(N===0){if(T){if(!F)throw new ne;c<f?(h=!0,C=!0):(m=!0,y=!0)}else if(F)throw new ne}else throw new ne;if(h){if(m)throw new ne;Jn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&Jn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(C)throw new ne;Jn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Jn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}fn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],fn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],fn.OUTSIDE_GSUM=[0,161,961,2015,2715],fn.INSIDE_GSUM=[0,336,1036,1516],fn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],fn.INSIDE_ODD_WIDEST=[2,4,6,8],fn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class zi extends tn{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const c=s?s.get(U.POSSIBLE_FORMATS):null,f=s&&s.get(U.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(_e.EAN_13)||c.includes(_e.UPC_A)||c.includes(_e.EAN_8)||c.includes(_e.UPC_E))&&this.readers.push(new Mc(s)),c.includes(_e.CODE_39)&&this.readers.push(new rn(f)),c.includes(_e.CODE_128)&&this.readers.push(new je),c.includes(_e.ITF)&&this.readers.push(new jt),c.includes(_e.RSS_14)&&this.readers.push(new fn),c.includes(_e.RSS_EXPANDED)&&this.readers.push(new Ee(this.verbose))):(this.readers.push(new Mc(s)),this.readers.push(new rn),this.readers.push(new Mc(s)),this.readers.push(new je),this.readers.push(new jt),this.readers.push(new fn),this.readers.push(new Ee(this.verbose)))}decodeRow(s,o,c){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(s,o,c)}catch{}throw new ne}reset(){this.readers.forEach(s=>s.reset())}}class Id extends ke{constructor(s=500,o){super(new zi(o),s,o)}}class Ut{constructor(s,o,c){this.ecCodewords=s,this.ecBlocks=[o],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Lt{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Nt{constructor(s,o,c,f,h,m){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=c,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=h,this.ecBlocks=m;let y=0;const C=m.getECCodewords(),N=m.getECBlocks();for(let T of N)y+=T.getCount()*(T.getDataCodewords()+C);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new O;for(let c of Nt.VERSIONS)if(c.symbolSizeRows===s&&c.symbolSizeColumns===o)return c;throw new O}toString(){return""+this.versionNumber}static buildVersions(){return[new Nt(1,10,10,8,8,new Ut(5,new Lt(1,3))),new Nt(2,12,12,10,10,new Ut(7,new Lt(1,5))),new Nt(3,14,14,12,12,new Ut(10,new Lt(1,8))),new Nt(4,16,16,14,14,new Ut(12,new Lt(1,12))),new Nt(5,18,18,16,16,new Ut(14,new Lt(1,18))),new Nt(6,20,20,18,18,new Ut(18,new Lt(1,22))),new Nt(7,22,22,20,20,new Ut(20,new Lt(1,30))),new Nt(8,24,24,22,22,new Ut(24,new Lt(1,36))),new Nt(9,26,26,24,24,new Ut(28,new Lt(1,44))),new Nt(10,32,32,14,14,new Ut(36,new Lt(1,62))),new Nt(11,36,36,16,16,new Ut(42,new Lt(1,86))),new Nt(12,40,40,18,18,new Ut(48,new Lt(1,114))),new Nt(13,44,44,20,20,new Ut(56,new Lt(1,144))),new Nt(14,48,48,22,22,new Ut(68,new Lt(1,174))),new Nt(15,52,52,24,24,new Ut(42,new Lt(2,102))),new Nt(16,64,64,14,14,new Ut(56,new Lt(2,140))),new Nt(17,72,72,16,16,new Ut(36,new Lt(4,92))),new Nt(18,80,80,18,18,new Ut(48,new Lt(4,114))),new Nt(19,88,88,20,20,new Ut(56,new Lt(4,144))),new Nt(20,96,96,22,22,new Ut(68,new Lt(4,174))),new Nt(21,104,104,24,24,new Ut(56,new Lt(6,136))),new Nt(22,120,120,18,18,new Ut(68,new Lt(6,175))),new Nt(23,132,132,20,20,new Ut(62,new Lt(8,163))),new Nt(24,144,144,22,22,new Ut(62,new Lt(8,156),new Lt(2,155))),new Nt(25,8,18,6,16,new Ut(7,new Lt(1,5))),new Nt(26,8,32,6,14,new Ut(11,new Lt(1,10))),new Nt(27,12,26,10,24,new Ut(14,new Lt(1,16))),new Nt(28,12,36,10,16,new Ut(18,new Lt(1,22))),new Nt(29,16,36,14,16,new Ut(24,new Lt(1,32))),new Nt(30,16,48,14,22,new Ut(28,new Lt(1,49)))]}}Nt.VERSIONS=Nt.buildVersions();class Bc{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new O;this.version=Bc.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Te(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),c=s.getWidth();return Nt.getVersionForDimensions(o,c)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,c=4,f=0;const h=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let y=!1,C=!1,N=!1,T=!1;do if(c===h&&f===0&&!y)s[o++]=this.readCorner1(h,m)&255,c-=2,f+=2,y=!0;else if(c===h-2&&f===0&&m&3&&!C)s[o++]=this.readCorner2(h,m)&255,c-=2,f+=2,C=!0;else if(c===h+4&&f===2&&!(m&7)&&!N)s[o++]=this.readCorner3(h,m)&255,c-=2,f+=2,N=!0;else if(c===h-2&&f===0&&(m&7)===4&&!T)s[o++]=this.readCorner4(h,m)&255,c-=2,f+=2,T=!0;else{do c<h&&f>=0&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,h,m)&255),c-=2,f+=2;while(c>=0&&f<m);c+=1,f+=3;do c>=0&&f<m&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,h,m)&255),c+=2,f-=2;while(c<h&&f>=0);c+=3,f+=1}while(c<h||f<m);if(o!==this.version.getTotalCodewords())throw new O;return s}readModule(s,o,c,f){return s<0&&(s+=c,o+=4-(c+4&7)),o<0&&(o+=f,s+=4-(f+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,c,f){let h=0;return this.readModule(s-2,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s-2,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o,c,f)&&(h|=1),h<<=1,this.readModule(s,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s,o,c,f)&&(h|=1),h}readCorner1(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,1,s,o)&&(c|=1),c<<=1,this.readModule(s-1,2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}readCorner2(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-4,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner3(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-3,s,o)&&(c|=1),c<<=1,this.readModule(1,o-2,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner4(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new E("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),m=o/f|0,y=c/h|0,C=m*f,N=y*h,T=new Te(N,C);for(let F=0;F<m;++F){const H=F*f;for(let K=0;K<y;++K){const z=K*h;for(let $=0;$<f;++$){const X=F*(f+2)+1+$,te=H+$;for(let he=0;he<h;++he){const ge=K*(h+2)+1+he;if(s.get(ge,X)){const xe=z+he;T.set(xe,te)}}}}}return T}}class yl{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const c=o.getECBlocks();let f=0;const h=c.getECBlocks();for(let $ of h)f+=$.getCount();const m=new Array(f);let y=0;for(let $ of h)for(let X=0;X<$.getCount();X++){const te=$.getDataCodewords(),he=c.getECCodewords()+te;m[y++]=new yl(te,new Uint8Array(he))}const N=m[0].codewords.length-c.getECCodewords(),T=N-1;let F=0;for(let $=0;$<T;$++)for(let X=0;X<y;X++)m[X].codewords[$]=s[F++];const H=o.getVersionNumber()===24,K=H?8:y;for(let $=0;$<K;$++)m[$].codewords[N-1]=s[F++];const z=m[0].codewords.length;for(let $=N;$<z;$++)for(let X=0;X<y;X++){const te=H?(X+8)%y:X,he=H&&te>7?$-1:$;m[te].codewords[he]=s[F++]}if(F!==s.length)throw new E;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class wl{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new E(""+s);let o=0,c=this.bitOffset,f=this.byteOffset;const h=this.bytes;if(c>0){const m=8-c,y=s<m?s:m,C=m-y,N=255>>8-y<<C;o=(h[f]&N)>>C,s-=y,c+=y,c===8&&(c=0,f++)}if(s>0){for(;s>=8;)o=o<<8|h[f]&255,f++,s-=8;if(s>0){const m=8-s,y=255>>m<<m;o=o<<s|(h[f]&y)>>m,c+=s}}return this.bitOffset=c,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Dn;(function(P){P[P.PAD_ENCODE=0]="PAD_ENCODE",P[P.ASCII_ENCODE=1]="ASCII_ENCODE",P[P.C40_ENCODE=2]="C40_ENCODE",P[P.TEXT_ENCODE=3]="TEXT_ENCODE",P[P.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",P[P.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",P[P.BASE256_ENCODE=6]="BASE256_ENCODE"})(Dn||(Dn={}));class Ds{static decode(s){const o=new wl(s),c=new le,f=new le,h=new Array;let m=Dn.ASCII_ENCODE;do if(m===Dn.ASCII_ENCODE)m=this.decodeAsciiSegment(o,c,f);else{switch(m){case Dn.C40_ENCODE:this.decodeC40Segment(o,c);break;case Dn.TEXT_ENCODE:this.decodeTextSegment(o,c);break;case Dn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,c);break;case Dn.EDIFACT_ENCODE:this.decodeEdifactSegment(o,c);break;case Dn.BASE256_ENCODE:this.decodeBase256Segment(o,c,h);break;default:throw new O}m=Dn.ASCII_ENCODE}while(m!==Dn.PAD_ENCODE&&o.available()>0);return f.length()>0&&c.append(f.toString()),new on(s,c.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(s,o,c){let f=!1;do{let h=s.readBits(8);if(h===0)throw new O;if(h<=128)return f&&(h+=128),o.append(String.fromCharCode(h-1)),Dn.ASCII_ENCODE;if(h===129)return Dn.PAD_ENCODE;if(h<=229){const m=h-130;m<10&&o.append("0"),o.append(""+m)}else switch(h){case 230:return Dn.C40_ENCODE;case 231:return Dn.BASE256_ENCODE;case 232:o.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),c.insert(0,"");break;case 237:o.append("[)>06"),c.insert(0,"");break;case 238:return Dn.ANSIX12_ENCODE;case 239:return Dn.TEXT_ENCODE;case 240:return Dn.EDIFACT_ENCODE;case 241:break;default:if(h!==254||s.available()!==0)throw new O;break}}while(s.available()>0);return Dn.ASCII_ENCODE}static decodeC40Segment(s,o){let c=!1;const f=[];let h=0;do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),f);for(let y=0;y<3;y++){const C=f[y];switch(h){case 0:if(C<3)h=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[C];c?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):o.append(N)}else throw new O;break;case 1:c?(o.append(String.fromCharCode(C+128)),c=!1):o.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[C];c?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:c=!0;break;default:throw new O}h=0;break;case 3:c?(o.append(String.fromCharCode(C+224)),c=!1):o.append(String.fromCharCode(C+96)),h=0;break;default:throw new O}}}while(s.available()>0)}static decodeTextSegment(s,o){let c=!1,f=[],h=0;do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),f);for(let y=0;y<3;y++){const C=f[y];switch(h){case 0:if(C<3)h=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[C];c?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):o.append(N)}else throw new O;break;case 1:c?(o.append(String.fromCharCode(C+128)),c=!1):o.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[C];c?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:c=!0;break;default:throw new O}h=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[C];c?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):o.append(N),h=0}else throw new O;break;default:throw new O}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const c=[];do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let h=0;h<3;h++){const m=c[h];switch(m){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(m<14)o.append(String.fromCharCode(m+44));else if(m<40)o.append(String.fromCharCode(m+51));else throw new O;break}}}while(s.available()>0)}static parseTwoBytes(s,o,c){let f=(s<<8)+o-1,h=Math.floor(f/1600);c[0]=h,f-=h*1600,h=Math.floor(f/40),c[1]=h,c[2]=f-h*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let c=0;c<4;c++){let f=s.readBits(6);if(f===31){const h=8-s.getBitOffset();h!==8&&s.readBits(h);return}f&32||(f|=64),o.append(String.fromCharCode(f))}}while(s.available()>0)}static decodeBase256Segment(s,o,c){let f=1+s.getByteOffset();const h=this.unrandomize255State(s.readBits(8),f++);let m;if(h===0?m=s.available()/8|0:h<250?m=h:m=250*(h-249)+this.unrandomize255State(s.readBits(8),f++),m<0)throw new O;const y=new Uint8Array(m);for(let C=0;C<m;C++){if(s.available()<8)throw new O;y[C]=this.unrandomize255State(s.readBits(8),f++)}c.push(y);try{o.append(de.decode(y,ie.ISO88591))}catch(C){throw new me("Platform does not support required encoding: "+C.message)}}static unrandomize255State(s,o){const c=149*o%255+1,f=s-c;return f>=0?f:f+256}}Ds.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ds.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ds.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ds.TEXT_SHIFT2_SET_CHARS=Ds.C40_SHIFT2_SET_CHARS,Ds.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class hp{constructor(){this.rsDecoder=new Me(Ce.DATA_MATRIX_FIELD_256)}decode(s){const o=new Bc(s),c=o.getVersion(),f=o.readCodewords(),h=yl.getDataBlocks(f,c);let m=0;for(let N of h)m+=N.getNumDataCodewords();const y=new Uint8Array(m),C=h.length;for(let N=0;N<C;N++){const T=h[N],F=T.getCodewords(),H=T.getNumDataCodewords();this.correctErrors(F,H);for(let K=0;K<H;K++)y[K*C+N]=F[K]}return Ds.decode(y)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new k}for(let f=0;f<o;f++)s[f]=c[f]}}class xn{constructor(s){this.image=s,this.rectangleDetector=new Ie(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ne;o=this.shiftToModuleCenter(o);const c=o[0],f=o[1],h=o[2],m=o[3];let y=this.transitionsBetween(c,m)+1,C=this.transitionsBetween(h,m)+1;(y&1)===1&&(y+=1),(C&1)===1&&(C+=1),4*y<7*C&&4*C<7*y&&(y=C=Math.max(y,C));let N=xn.sampleGrid(this.image,c,f,h,m,y,C);return new gn(N,[c,f,h,m])}static shiftPoint(s,o,c){let f=(o.getX()-s.getX())/(c+1),h=(o.getY()-s.getY())/(c+1);return new Ne(s.getX()+f,s.getY()+h)}static moveAway(s,o,c){let f=s.getX(),h=s.getY();return f<o?f-=1:f+=1,h<c?h-=1:h+=1,new Ne(f,h)}detectSolid1(s){let o=s[0],c=s[1],f=s[3],h=s[2],m=this.transitionsBetween(o,c),y=this.transitionsBetween(c,f),C=this.transitionsBetween(f,h),N=this.transitionsBetween(h,o),T=m,F=[h,o,c,f];return T>y&&(T=y,F[0]=o,F[1]=c,F[2]=f,F[3]=h),T>C&&(T=C,F[0]=c,F[1]=f,F[2]=h,F[3]=o),T>N&&(F[0]=f,F[1]=h,F[2]=o,F[3]=c),F}detectSolid2(s){let o=s[0],c=s[1],f=s[2],h=s[3],m=this.transitionsBetween(o,h),y=xn.shiftPoint(c,f,(m+1)*4),C=xn.shiftPoint(f,c,(m+1)*4),N=this.transitionsBetween(y,o),T=this.transitionsBetween(C,h);return N<T?(s[0]=o,s[1]=c,s[2]=f,s[3]=h):(s[0]=c,s[1]=f,s[2]=h,s[3]=o),s}correctTopRight(s){let o=s[0],c=s[1],f=s[2],h=s[3],m=this.transitionsBetween(o,h),y=this.transitionsBetween(c,h),C=xn.shiftPoint(o,c,(y+1)*4),N=xn.shiftPoint(f,c,(m+1)*4);m=this.transitionsBetween(C,h),y=this.transitionsBetween(N,h);let T=new Ne(h.getX()+(f.getX()-c.getX())/(m+1),h.getY()+(f.getY()-c.getY())/(m+1)),F=new Ne(h.getX()+(o.getX()-c.getX())/(y+1),h.getY()+(o.getY()-c.getY())/(y+1));if(!this.isValid(T))return this.isValid(F)?F:null;if(!this.isValid(F))return T;let H=this.transitionsBetween(C,T)+this.transitionsBetween(N,T),K=this.transitionsBetween(C,F)+this.transitionsBetween(N,F);return H>K?T:F}shiftToModuleCenter(s){let o=s[0],c=s[1],f=s[2],h=s[3],m=this.transitionsBetween(o,h)+1,y=this.transitionsBetween(f,h)+1,C=xn.shiftPoint(o,c,y*4),N=xn.shiftPoint(f,c,m*4);m=this.transitionsBetween(C,h)+1,y=this.transitionsBetween(N,h)+1,(m&1)===1&&(m+=1),(y&1)===1&&(y+=1);let T=(o.getX()+c.getX()+f.getX()+h.getX())/4,F=(o.getY()+c.getY()+f.getY()+h.getY())/4;o=xn.moveAway(o,T,F),c=xn.moveAway(c,T,F),f=xn.moveAway(f,T,F),h=xn.moveAway(h,T,F);let H,K;return C=xn.shiftPoint(o,c,y*4),C=xn.shiftPoint(C,h,m*4),H=xn.shiftPoint(c,o,y*4),H=xn.shiftPoint(H,f,m*4),N=xn.shiftPoint(f,h,y*4),N=xn.shiftPoint(N,c,m*4),K=xn.shiftPoint(h,f,y*4),K=xn.shiftPoint(K,o,m*4),[C,H,N,K]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,c,f,h,m,y){return Gt.getInstance().sampleGrid(s,m,y,.5,.5,m-.5,.5,m-.5,y-.5,.5,y-.5,o.getX(),o.getY(),h.getX(),h.getY(),f.getX(),f.getY(),c.getX(),c.getY())}transitionsBetween(s,o){let c=Math.trunc(s.getX()),f=Math.trunc(s.getY()),h=Math.trunc(o.getX()),m=Math.trunc(o.getY()),y=Math.abs(m-f)>Math.abs(h-c);if(y){let $=c;c=f,f=$,$=h,h=m,m=$}let C=Math.abs(h-c),N=Math.abs(m-f),T=-C/2,F=f<m?1:-1,H=c<h?1:-1,K=0,z=this.image.get(y?f:c,y?c:f);for(let $=c,X=f;$!==h;$+=H){let te=this.image.get(y?X:$,y?$:X);if(te!==z&&(K++,z=te),T+=N,T>0){if(X===m)break;X+=F,T-=C}}return K}}class ls{constructor(){this.decoder=new hp}decode(s,o=null){let c,f;if(o!=null&&o.has(U.PURE_BARCODE)){const N=ls.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(N),f=ls.NO_POINTS}else{const N=new xn(s.getBlackMatrix()).detect();c=this.decoder.decode(N.getBits()),f=N.getPoints()}const h=c.getRawBytes(),m=new Xe(c.getText(),h,8*h.length,f,_e.DATA_MATRIX,I.currentTimeMillis()),y=c.getByteSegments();y!=null&&m.putMetadata(lt.BYTE_SEGMENTS,y);const C=c.getECLevel();return C!=null&&m.putMetadata(lt.ERROR_CORRECTION_LEVEL,C),m}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o==null||c==null)throw new ne;const f=this.moduleSize(o,s);let h=o[1];const m=c[1];let y=o[0];const N=(c[0]-y+1)/f,T=(m-h+1)/f;if(N<=0||T<=0)throw new ne;const F=f/2;h+=F,y+=F;const H=new Te(N,T);for(let K=0;K<T;K++){const z=h+K*f;for(let $=0;$<N;$++)s.get(y+$*f,z)&&H.set($,K)}return H}static moduleSize(s,o){const c=o.getWidth();let f=s[0];const h=s[1];for(;f<c&&o.get(f,h);)f++;if(f===c)throw new ne;const m=f-s[0];if(m===0)throw new ne;return m}}ls.NO_POINTS=[];class Rd extends ke{constructor(s=500){super(new ls,s)}}var Sa;(function(P){P[P.L=0]="L",P[P.M=1]="M",P[P.Q=2]="Q",P[P.H=3]="H"})(Sa||(Sa={}));class Qt{constructor(s,o,c){this.value=s,this.stringValue=o,this.bits=c,Qt.FOR_BITS.set(c,this),Qt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Qt.L;case"M":return Qt.M;case"Q":return Qt.Q;case"H":return Qt.H;default:throw new w(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Qt))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=Qt.FOR_BITS.size)throw new E;return Qt.FOR_BITS.get(s)}}Qt.FOR_BITS=new Map,Qt.FOR_VALUE=new Map,Qt.L=new Qt(Sa.L,"L",1),Qt.M=new Qt(Sa.M,"M",0),Qt.Q=new Qt(Sa.Q,"Q",3),Qt.H=new Qt(Sa.H,"H",2);class er{constructor(s){this.errorCorrectionLevel=Qt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return R.bitCount(s^o)}static decodeFormatInformation(s,o){const c=er.doDecodeFormatInformation(s,o);return c!==null?c:er.doDecodeFormatInformation(s^er.FORMAT_INFO_MASK_QR,o^er.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let c=Number.MAX_SAFE_INTEGER,f=0;for(const h of er.FORMAT_INFO_DECODE_LOOKUP){const m=h[0];if(m===s||m===o)return new er(h[1]);let y=er.numBitsDiffering(s,m);y<c&&(f=h[1],c=y),s!==o&&(y=er.numBitsDiffering(o,m),y<c&&(f=h[1],c=y))}return c<=3?new er(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof er))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}er.FORMAT_INFO_MASK_QR=21522,er.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class oe{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const c of o)s+=c.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Q{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ke{constructor(s,o,...c){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=c;let f=0;const h=c[0].getECCodewordsPerBlock(),m=c[0].getECBlocks();for(const y of m)f+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new O;try{return this.getVersionForNumber((s-17)/4)}catch{throw new O}}static getVersionForNumber(s){if(s<1||s>40)throw new E;return Ke.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,c=0;for(let f=0;f<Ke.VERSION_DECODE_INFO.length;f++){const h=Ke.VERSION_DECODE_INFO[f];if(h===s)return Ke.getVersionForNumber(f+7);const m=er.numBitsDiffering(s,h);m<o&&(c=f+7,o=m)}return o<=3?Ke.getVersionForNumber(c):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new Te(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const c=this.alignmentPatternCenters.length;for(let f=0;f<c;f++){const h=this.alignmentPatternCenters[f]-2;for(let m=0;m<c;m++)f===0&&(m===0||m===c-1)||f===c-1&&m===0||o.setRegion(this.alignmentPatternCenters[m]-2,h,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}Ke.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ke.VERSIONS=[new Ke(1,new Int32Array(0),new oe(7,new Q(1,19)),new oe(10,new Q(1,16)),new oe(13,new Q(1,13)),new oe(17,new Q(1,9))),new Ke(2,Int32Array.from([6,18]),new oe(10,new Q(1,34)),new oe(16,new Q(1,28)),new oe(22,new Q(1,22)),new oe(28,new Q(1,16))),new Ke(3,Int32Array.from([6,22]),new oe(15,new Q(1,55)),new oe(26,new Q(1,44)),new oe(18,new Q(2,17)),new oe(22,new Q(2,13))),new Ke(4,Int32Array.from([6,26]),new oe(20,new Q(1,80)),new oe(18,new Q(2,32)),new oe(26,new Q(2,24)),new oe(16,new Q(4,9))),new Ke(5,Int32Array.from([6,30]),new oe(26,new Q(1,108)),new oe(24,new Q(2,43)),new oe(18,new Q(2,15),new Q(2,16)),new oe(22,new Q(2,11),new Q(2,12))),new Ke(6,Int32Array.from([6,34]),new oe(18,new Q(2,68)),new oe(16,new Q(4,27)),new oe(24,new Q(4,19)),new oe(28,new Q(4,15))),new Ke(7,Int32Array.from([6,22,38]),new oe(20,new Q(2,78)),new oe(18,new Q(4,31)),new oe(18,new Q(2,14),new Q(4,15)),new oe(26,new Q(4,13),new Q(1,14))),new Ke(8,Int32Array.from([6,24,42]),new oe(24,new Q(2,97)),new oe(22,new Q(2,38),new Q(2,39)),new oe(22,new Q(4,18),new Q(2,19)),new oe(26,new Q(4,14),new Q(2,15))),new Ke(9,Int32Array.from([6,26,46]),new oe(30,new Q(2,116)),new oe(22,new Q(3,36),new Q(2,37)),new oe(20,new Q(4,16),new Q(4,17)),new oe(24,new Q(4,12),new Q(4,13))),new Ke(10,Int32Array.from([6,28,50]),new oe(18,new Q(2,68),new Q(2,69)),new oe(26,new Q(4,43),new Q(1,44)),new oe(24,new Q(6,19),new Q(2,20)),new oe(28,new Q(6,15),new Q(2,16))),new Ke(11,Int32Array.from([6,30,54]),new oe(20,new Q(4,81)),new oe(30,new Q(1,50),new Q(4,51)),new oe(28,new Q(4,22),new Q(4,23)),new oe(24,new Q(3,12),new Q(8,13))),new Ke(12,Int32Array.from([6,32,58]),new oe(24,new Q(2,92),new Q(2,93)),new oe(22,new Q(6,36),new Q(2,37)),new oe(26,new Q(4,20),new Q(6,21)),new oe(28,new Q(7,14),new Q(4,15))),new Ke(13,Int32Array.from([6,34,62]),new oe(26,new Q(4,107)),new oe(22,new Q(8,37),new Q(1,38)),new oe(24,new Q(8,20),new Q(4,21)),new oe(22,new Q(12,11),new Q(4,12))),new Ke(14,Int32Array.from([6,26,46,66]),new oe(30,new Q(3,115),new Q(1,116)),new oe(24,new Q(4,40),new Q(5,41)),new oe(20,new Q(11,16),new Q(5,17)),new oe(24,new Q(11,12),new Q(5,13))),new Ke(15,Int32Array.from([6,26,48,70]),new oe(22,new Q(5,87),new Q(1,88)),new oe(24,new Q(5,41),new Q(5,42)),new oe(30,new Q(5,24),new Q(7,25)),new oe(24,new Q(11,12),new Q(7,13))),new Ke(16,Int32Array.from([6,26,50,74]),new oe(24,new Q(5,98),new Q(1,99)),new oe(28,new Q(7,45),new Q(3,46)),new oe(24,new Q(15,19),new Q(2,20)),new oe(30,new Q(3,15),new Q(13,16))),new Ke(17,Int32Array.from([6,30,54,78]),new oe(28,new Q(1,107),new Q(5,108)),new oe(28,new Q(10,46),new Q(1,47)),new oe(28,new Q(1,22),new Q(15,23)),new oe(28,new Q(2,14),new Q(17,15))),new Ke(18,Int32Array.from([6,30,56,82]),new oe(30,new Q(5,120),new Q(1,121)),new oe(26,new Q(9,43),new Q(4,44)),new oe(28,new Q(17,22),new Q(1,23)),new oe(28,new Q(2,14),new Q(19,15))),new Ke(19,Int32Array.from([6,30,58,86]),new oe(28,new Q(3,113),new Q(4,114)),new oe(26,new Q(3,44),new Q(11,45)),new oe(26,new Q(17,21),new Q(4,22)),new oe(26,new Q(9,13),new Q(16,14))),new Ke(20,Int32Array.from([6,34,62,90]),new oe(28,new Q(3,107),new Q(5,108)),new oe(26,new Q(3,41),new Q(13,42)),new oe(30,new Q(15,24),new Q(5,25)),new oe(28,new Q(15,15),new Q(10,16))),new Ke(21,Int32Array.from([6,28,50,72,94]),new oe(28,new Q(4,116),new Q(4,117)),new oe(26,new Q(17,42)),new oe(28,new Q(17,22),new Q(6,23)),new oe(30,new Q(19,16),new Q(6,17))),new Ke(22,Int32Array.from([6,26,50,74,98]),new oe(28,new Q(2,111),new Q(7,112)),new oe(28,new Q(17,46)),new oe(30,new Q(7,24),new Q(16,25)),new oe(24,new Q(34,13))),new Ke(23,Int32Array.from([6,30,54,78,102]),new oe(30,new Q(4,121),new Q(5,122)),new oe(28,new Q(4,47),new Q(14,48)),new oe(30,new Q(11,24),new Q(14,25)),new oe(30,new Q(16,15),new Q(14,16))),new Ke(24,Int32Array.from([6,28,54,80,106]),new oe(30,new Q(6,117),new Q(4,118)),new oe(28,new Q(6,45),new Q(14,46)),new oe(30,new Q(11,24),new Q(16,25)),new oe(30,new Q(30,16),new Q(2,17))),new Ke(25,Int32Array.from([6,32,58,84,110]),new oe(26,new Q(8,106),new Q(4,107)),new oe(28,new Q(8,47),new Q(13,48)),new oe(30,new Q(7,24),new Q(22,25)),new oe(30,new Q(22,15),new Q(13,16))),new Ke(26,Int32Array.from([6,30,58,86,114]),new oe(28,new Q(10,114),new Q(2,115)),new oe(28,new Q(19,46),new Q(4,47)),new oe(28,new Q(28,22),new Q(6,23)),new oe(30,new Q(33,16),new Q(4,17))),new Ke(27,Int32Array.from([6,34,62,90,118]),new oe(30,new Q(8,122),new Q(4,123)),new oe(28,new Q(22,45),new Q(3,46)),new oe(30,new Q(8,23),new Q(26,24)),new oe(30,new Q(12,15),new Q(28,16))),new Ke(28,Int32Array.from([6,26,50,74,98,122]),new oe(30,new Q(3,117),new Q(10,118)),new oe(28,new Q(3,45),new Q(23,46)),new oe(30,new Q(4,24),new Q(31,25)),new oe(30,new Q(11,15),new Q(31,16))),new Ke(29,Int32Array.from([6,30,54,78,102,126]),new oe(30,new Q(7,116),new Q(7,117)),new oe(28,new Q(21,45),new Q(7,46)),new oe(30,new Q(1,23),new Q(37,24)),new oe(30,new Q(19,15),new Q(26,16))),new Ke(30,Int32Array.from([6,26,52,78,104,130]),new oe(30,new Q(5,115),new Q(10,116)),new oe(28,new Q(19,47),new Q(10,48)),new oe(30,new Q(15,24),new Q(25,25)),new oe(30,new Q(23,15),new Q(25,16))),new Ke(31,Int32Array.from([6,30,56,82,108,134]),new oe(30,new Q(13,115),new Q(3,116)),new oe(28,new Q(2,46),new Q(29,47)),new oe(30,new Q(42,24),new Q(1,25)),new oe(30,new Q(23,15),new Q(28,16))),new Ke(32,Int32Array.from([6,34,60,86,112,138]),new oe(30,new Q(17,115)),new oe(28,new Q(10,46),new Q(23,47)),new oe(30,new Q(10,24),new Q(35,25)),new oe(30,new Q(19,15),new Q(35,16))),new Ke(33,Int32Array.from([6,30,58,86,114,142]),new oe(30,new Q(17,115),new Q(1,116)),new oe(28,new Q(14,46),new Q(21,47)),new oe(30,new Q(29,24),new Q(19,25)),new oe(30,new Q(11,15),new Q(46,16))),new Ke(34,Int32Array.from([6,34,62,90,118,146]),new oe(30,new Q(13,115),new Q(6,116)),new oe(28,new Q(14,46),new Q(23,47)),new oe(30,new Q(44,24),new Q(7,25)),new oe(30,new Q(59,16),new Q(1,17))),new Ke(35,Int32Array.from([6,30,54,78,102,126,150]),new oe(30,new Q(12,121),new Q(7,122)),new oe(28,new Q(12,47),new Q(26,48)),new oe(30,new Q(39,24),new Q(14,25)),new oe(30,new Q(22,15),new Q(41,16))),new Ke(36,Int32Array.from([6,24,50,76,102,128,154]),new oe(30,new Q(6,121),new Q(14,122)),new oe(28,new Q(6,47),new Q(34,48)),new oe(30,new Q(46,24),new Q(10,25)),new oe(30,new Q(2,15),new Q(64,16))),new Ke(37,Int32Array.from([6,28,54,80,106,132,158]),new oe(30,new Q(17,122),new Q(4,123)),new oe(28,new Q(29,46),new Q(14,47)),new oe(30,new Q(49,24),new Q(10,25)),new oe(30,new Q(24,15),new Q(46,16))),new Ke(38,Int32Array.from([6,32,58,84,110,136,162]),new oe(30,new Q(4,122),new Q(18,123)),new oe(28,new Q(13,46),new Q(32,47)),new oe(30,new Q(48,24),new Q(14,25)),new oe(30,new Q(42,15),new Q(32,16))),new Ke(39,Int32Array.from([6,26,54,82,110,138,166]),new oe(30,new Q(20,117),new Q(4,118)),new oe(28,new Q(40,47),new Q(7,48)),new oe(30,new Q(43,24),new Q(22,25)),new oe(30,new Q(10,15),new Q(67,16))),new Ke(40,Int32Array.from([6,30,58,86,114,142,170]),new oe(30,new Q(19,118),new Q(6,119)),new oe(28,new Q(18,47),new Q(31,48)),new oe(30,new Q(34,24),new Q(34,25)),new oe(30,new Q(20,15),new Q(61,16)))];var jn;(function(P){P[P.DATA_MASK_000=0]="DATA_MASK_000",P[P.DATA_MASK_001=1]="DATA_MASK_001",P[P.DATA_MASK_010=2]="DATA_MASK_010",P[P.DATA_MASK_011=3]="DATA_MASK_011",P[P.DATA_MASK_100=4]="DATA_MASK_100",P[P.DATA_MASK_101=5]="DATA_MASK_101",P[P.DATA_MASK_110=6]="DATA_MASK_110",P[P.DATA_MASK_111=7]="DATA_MASK_111"})(jn||(jn={}));class Er{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let c=0;c<o;c++)for(let f=0;f<o;f++)this.isMasked(c,f)&&s.flip(f,c)}}Er.values=new Map([[jn.DATA_MASK_000,new Er(jn.DATA_MASK_000,(P,s)=>(P+s&1)===0)],[jn.DATA_MASK_001,new Er(jn.DATA_MASK_001,(P,s)=>(P&1)===0)],[jn.DATA_MASK_010,new Er(jn.DATA_MASK_010,(P,s)=>s%3===0)],[jn.DATA_MASK_011,new Er(jn.DATA_MASK_011,(P,s)=>(P+s)%3===0)],[jn.DATA_MASK_100,new Er(jn.DATA_MASK_100,(P,s)=>(Math.floor(P/2)+Math.floor(s/3)&1)===0)],[jn.DATA_MASK_101,new Er(jn.DATA_MASK_101,(P,s)=>P*s%6===0)],[jn.DATA_MASK_110,new Er(jn.DATA_MASK_110,(P,s)=>P*s%6<3)],[jn.DATA_MASK_111,new Er(jn.DATA_MASK_111,(P,s)=>(P+s+P*s%3&1)===0)]]);class Aa{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new O;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let h=0;h<6;h++)s=this.copyBit(h,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let h=5;h>=0;h--)s=this.copyBit(8,h,s);const o=this.bitMatrix.getHeight();let c=0;const f=o-7;for(let h=o-1;h>=f;h--)c=this.copyBit(8,h,c);for(let h=o-8;h<o;h++)c=this.copyBit(h,8,c);if(this.parsedFormatInfo=er.decodeFormatInformation(s,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new O}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return Ke.getVersionForNumber(o);let c=0;const f=s-11;for(let m=5;m>=0;m--)for(let y=s-9;y>=f;y--)c=this.copyBit(y,m,c);let h=Ke.decodeVersionInformation(c);if(h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;c=0;for(let m=5;m>=0;m--)for(let y=s-9;y>=f;y--)c=this.copyBit(m,y,c);if(h=Ke.decodeVersionInformation(c),h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;throw new O}copyBit(s,o,c){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?c<<1|1:c<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),c=Er.values.get(s.getDataMask()),f=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,f);const h=o.buildFunctionPattern();let m=!0;const y=new Uint8Array(o.getTotalCodewords());let C=0,N=0,T=0;for(let F=f-1;F>0;F-=2){F===6&&F--;for(let H=0;H<f;H++){const K=m?f-1-H:H;for(let z=0;z<2;z++)h.get(F-z,K)||(T++,N<<=1,this.bitMatrix.get(F-z,K)&&(N|=1),T===8&&(y[C++]=N,T=0,N=0))}m=!m}if(C!==o.getTotalCodewords())throw new O;return y}remask(){if(this.parsedFormatInfo===null)return;const s=Er.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,c=s.getWidth();o<c;o++)for(let f=o+1,h=s.getHeight();f<h;f++)s.get(o,f)!==s.get(f,o)&&(s.flip(f,o),s.flip(o,f))}}class bl{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,c){if(s.length!==o.getTotalCodewords())throw new E;const f=o.getECBlocksForLevel(c);let h=0;const m=f.getECBlocks();for(const z of m)h+=z.getCount();const y=new Array(h);let C=0;for(const z of m)for(let $=0;$<z.getCount();$++){const X=z.getDataCodewords(),te=f.getECCodewordsPerBlock()+X;y[C++]=new bl(X,new Uint8Array(te))}const N=y[0].codewords.length;let T=y.length-1;for(;T>=0&&y[T].codewords.length!==N;)T--;T++;const F=N-f.getECCodewordsPerBlock();let H=0;for(let z=0;z<F;z++)for(let $=0;$<C;$++)y[$].codewords[z]=s[H++];for(let z=T;z<C;z++)y[z].codewords[F]=s[H++];const K=y[0].codewords.length;for(let z=F;z<K;z++)for(let $=0;$<C;$++){const X=$<T?z:z+1;y[$].codewords[X]=s[H++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Or;(function(P){P[P.TERMINATOR=0]="TERMINATOR",P[P.NUMERIC=1]="NUMERIC",P[P.ALPHANUMERIC=2]="ALPHANUMERIC",P[P.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",P[P.BYTE=4]="BYTE",P[P.ECI=5]="ECI",P[P.KANJI=6]="KANJI",P[P.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",P[P.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",P[P.HANZI=9]="HANZI"})(Or||(Or={}));class et{constructor(s,o,c,f){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=c,this.bits=f,et.FOR_BITS.set(f,this),et.FOR_VALUE.set(s,this)}static forBits(s){const o=et.FOR_BITS.get(s);if(o===void 0)throw new E;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let c;return o<=9?c=0:o<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof et))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}et.FOR_BITS=new Map,et.FOR_VALUE=new Map,et.TERMINATOR=new et(Or.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),et.NUMERIC=new et(Or.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),et.ALPHANUMERIC=new et(Or.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),et.STRUCTURED_APPEND=new et(Or.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),et.BYTE=new et(Or.BYTE,"BYTE",Int32Array.from([8,16,16]),4),et.ECI=new et(Or.ECI,"ECI",Int32Array.from([0,0,0]),7),et.KANJI=new et(Or.KANJI,"KANJI",Int32Array.from([8,10,12]),8),et.FNC1_FIRST_POSITION=new et(Or.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),et.FNC1_SECOND_POSITION=new et(Or.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),et.HANZI=new et(Or.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class cn{static decode(s,o,c,f){const h=new wl(s);let m=new le;const y=new Array;let C=-1,N=-1;try{let T=null,F=!1,H;do{if(h.available()<4)H=et.TERMINATOR;else{const K=h.readBits(4);H=et.forBits(K)}switch(H){case et.TERMINATOR:break;case et.FNC1_FIRST_POSITION:case et.FNC1_SECOND_POSITION:F=!0;break;case et.STRUCTURED_APPEND:if(h.available()<16)throw new O;C=h.readBits(8),N=h.readBits(8);break;case et.ECI:const K=cn.parseECIValue(h);if(T=Y.getCharacterSetECIByValue(K),T===null)throw new O;break;case et.HANZI:const z=h.readBits(4),$=h.readBits(H.getCharacterCountBits(o));z===cn.GB2312_SUBSET&&cn.decodeHanziSegment(h,m,$);break;default:const X=h.readBits(H.getCharacterCountBits(o));switch(H){case et.NUMERIC:cn.decodeNumericSegment(h,m,X);break;case et.ALPHANUMERIC:cn.decodeAlphanumericSegment(h,m,X,F);break;case et.BYTE:cn.decodeByteSegment(h,m,X,T,y,f);break;case et.KANJI:cn.decodeKanjiSegment(h,m,X);break;default:throw new O}break}}while(H!==et.TERMINATOR)}catch{throw new O}return new on(s,m.toString(),y.length===0?null:y,c===null?null:c.toString(),C,N)}static decodeHanziSegment(s,o,c){if(c*13>s.available())throw new O;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const m=s.readBits(13);let y=m/96<<8&4294967295|m%96;y<959?y+=41377:y+=42657,f[h]=y>>8&255,f[h+1]=y&255,h+=2,c--}try{o.append(de.decode(f,ie.GB2312))}catch(m){throw new O(m)}}static decodeKanjiSegment(s,o,c){if(c*13>s.available())throw new O;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const m=s.readBits(13);let y=m/192<<8&4294967295|m%192;y<7936?y+=33088:y+=49472,f[h]=y>>8,f[h+1]=y,h+=2,c--}try{o.append(de.decode(f,ie.SHIFT_JIS))}catch(m){throw new O(m)}}static decodeByteSegment(s,o,c,f,h,m){if(8*c>s.available())throw new O;const y=new Uint8Array(c);for(let N=0;N<c;N++)y[N]=s.readBits(8);let C;f===null?C=ie.guessEncoding(y,m):C=f.getName();try{o.append(de.decode(y,C))}catch(N){throw new O(N)}h.push(y)}static toAlphaNumericChar(s){if(s>=cn.ALPHANUMERIC_CHARS.length)throw new O;return cn.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,c,f){const h=o.length();for(;c>1;){if(s.available()<11)throw new O;const m=s.readBits(11);o.append(cn.toAlphaNumericChar(Math.floor(m/45))),o.append(cn.toAlphaNumericChar(m%45)),c-=2}if(c===1){if(s.available()<6)throw new O;o.append(cn.toAlphaNumericChar(s.readBits(6)))}if(f)for(let m=h;m<o.length();m++)o.charAt(m)==="%"&&(m<o.length()-1&&o.charAt(m+1)==="%"?o.deleteCharAt(m+1):o.setCharAt(m,String.fromCharCode(29)))}static decodeNumericSegment(s,o,c){for(;c>=3;){if(s.available()<10)throw new O;const f=s.readBits(10);if(f>=1e3)throw new O;o.append(cn.toAlphaNumericChar(Math.floor(f/100))),o.append(cn.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(cn.toAlphaNumericChar(f%10)),c-=3}if(c===2){if(s.available()<7)throw new O;const f=s.readBits(7);if(f>=100)throw new O;o.append(cn.toAlphaNumericChar(Math.floor(f/10))),o.append(cn.toAlphaNumericChar(f%10))}else if(c===1){if(s.available()<4)throw new O;const f=s.readBits(4);if(f>=10)throw new O;o.append(cn.toAlphaNumericChar(f))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const c=s.readBits(8);return(o&63)<<8&4294967295|c}if((o&224)===192){const c=s.readBits(16);return(o&31)<<16&4294967295|c}throw new O}}cn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",cn.GB2312_SUBSET=1;class Uc{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class Od{constructor(){this.rsDecoder=new Me(Ce.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(Te.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const c=new Aa(s);let f=null;try{return this.decodeBitMatrixParser(c,o)}catch(h){f=h}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const h=this.decodeBitMatrixParser(c,o);return h.setOther(new Uc(!0)),h}catch(h){throw f!==null?f:h}}decodeBitMatrixParser(s,o){const c=s.readVersion(),f=s.readFormatInformation().getErrorCorrectionLevel(),h=s.readCodewords(),m=bl.getDataBlocks(h,c,f);let y=0;for(const T of m)y+=T.getNumDataCodewords();const C=new Uint8Array(y);let N=0;for(const T of m){const F=T.getCodewords(),H=T.getNumDataCodewords();this.correctErrors(F,H);for(let K=0;K<H;K++)C[N++]=F[K]}return cn.decode(C,c,f,o)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new k}for(let f=0;f<o;f++)s[f]=c[f]}}class Cl extends Ne{constructor(s,o,c){super(s,o),this.estimatedModuleSize=c}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=(this.getX()+o)/2,h=(this.getY()+s)/2,m=(this.estimatedModuleSize+c)/2;return new Cl(f,h,m)}}class El{constructor(s,o,c,f,h,m,y){this.image=s,this.startX=o,this.startY=c,this.width=f,this.height=h,this.moduleSize=m,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,c=this.width,f=s+c,h=this.startY+o/2,m=new Int32Array(3),y=this.image;for(let C=0;C<o;C++){const N=h+(C&1?-Math.floor((C+1)/2):Math.floor((C+1)/2));m[0]=0,m[1]=0,m[2]=0;let T=s;for(;T<f&&!y.get(T,N);)T++;let F=0;for(;T<f;){if(y.get(T,N))if(F===1)m[1]++;else if(F===2){if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,N,T);if(H!==null)return H}m[0]=m[2],m[1]=1,m[2]=0,F=1}else m[++F]++;else F===1&&F++,m[F]++;T++}if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,N,f);if(H!==null)return H}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ne}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,c=o/2;for(let f=0;f<3;f++)if(Math.abs(o-s[f])>=c)return!1;return!0}crossCheckVertical(s,o,c,f){const h=this.image,m=h.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let C=s;for(;C>=0&&h.get(o,C)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&!h.get(o,C)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<m&&h.get(o,C)&&y[1]<=c;)y[1]++,C++;if(C===m||y[1]>c)return NaN;for(;C<m&&!h.get(o,C)&&y[2]<=c;)y[2]++,C++;if(y[2]>c)return NaN;const N=y[0]+y[1]+y[2];return 5*Math.abs(N-f)>=2*f?NaN:this.foundPatternCross(y)?El.centerFromEnd(y,C):NaN}handlePossibleCenter(s,o,c){const f=s[0]+s[1]+s[2],h=El.centerFromEnd(s,c),m=this.crossCheckVertical(o,h,2*s[1],f);if(!isNaN(m)){const y=(s[0]+s[1]+s[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(y,m,h))return N.combineEstimate(m,h,y);const C=new Cl(h,m,y);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class zc extends Ne{constructor(s,o,c,f){super(s,o),this.estimatedModuleSize=c,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=this.count+1,h=(this.count*this.getX()+o)/f,m=(this.count*this.getY()+s)/f,y=(this.count*this.estimatedModuleSize+c)/f;return new zc(h,m,y,f)}}class pp{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Bn{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(U.TRY_HARDER)!==void 0,c=s!=null&&s.get(U.PURE_BARCODE)!==void 0,f=this.image,h=f.getHeight(),m=f.getWidth();let y=Math.floor(3*h/(4*Bn.MAX_MODULES));(y<Bn.MIN_SKIP||o)&&(y=Bn.MIN_SKIP);let C=!1;const N=new Int32Array(5);for(let F=y-1;F<h&&!C;F+=y){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let H=0;for(let K=0;K<m;K++)if(f.get(K,F))(H&1)===1&&H++,N[H]++;else if(H&1)N[H]++;else if(H===4)if(Bn.foundPatternCross(N)){if(this.handlePossibleCenter(N,F,K,c)===!0)if(y=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const $=this.findRowSkip();$>N[2]&&(F+=$-N[2]-y,K=m-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,H=3;continue}H=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,H=3;else N[++H]++;Bn.foundPatternCross(N)&&this.handlePossibleCenter(N,F,m,c)===!0&&(y=N[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return Ne.orderBestPatterns(T),new pp(T)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let h=0;h<5;h++){const m=s[h];if(m===0)return!1;o+=m}if(o<7)return!1;const c=o/7,f=c/2;return Math.abs(c-s[0])<f&&Math.abs(c-s[1])<f&&Math.abs(3*c-s[2])<3*f&&Math.abs(c-s[3])<f&&Math.abs(c-s[4])<f}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,c,f){const h=this.getCrossCheckStateCount();let m=0;const y=this.image;for(;s>=m&&o>=m&&y.get(o-m,s-m);)h[2]++,m++;if(s<m||o<m)return!1;for(;s>=m&&o>=m&&!y.get(o-m,s-m)&&h[1]<=c;)h[1]++,m++;if(s<m||o<m||h[1]>c)return!1;for(;s>=m&&o>=m&&y.get(o-m,s-m)&&h[0]<=c;)h[0]++,m++;if(h[0]>c)return!1;const C=y.getHeight(),N=y.getWidth();for(m=1;s+m<C&&o+m<N&&y.get(o+m,s+m);)h[2]++,m++;if(s+m>=C||o+m>=N)return!1;for(;s+m<C&&o+m<N&&!y.get(o+m,s+m)&&h[3]<c;)h[3]++,m++;if(s+m>=C||o+m>=N||h[3]>=c)return!1;for(;s+m<C&&o+m<N&&y.get(o+m,s+m)&&h[4]<c;)h[4]++,m++;if(h[4]>=c)return!1;const T=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(T-f)<2*f&&Bn.foundPatternCross(h)}crossCheckVertical(s,o,c,f){const h=this.image,m=h.getHeight(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&h.get(o,C);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(o,C)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&h.get(o,C)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<m&&h.get(o,C);)y[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(o,C)&&y[3]<c;)y[3]++,C++;if(C===m||y[3]>=c)return NaN;for(;C<m&&h.get(o,C)&&y[4]<c;)y[4]++,C++;if(y[4]>=c)return NaN;const N=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(N-f)>=2*f?NaN:Bn.foundPatternCross(y)?Bn.centerFromEnd(y,C):NaN}crossCheckHorizontal(s,o,c,f){const h=this.image,m=h.getWidth(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&h.get(C,o);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(C,o)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&h.get(C,o)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<m&&h.get(C,o);)y[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(C,o)&&y[3]<c;)y[3]++,C++;if(C===m||y[3]>=c)return NaN;for(;C<m&&h.get(C,o)&&y[4]<c;)y[4]++,C++;if(y[4]>=c)return NaN;const N=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(N-f)>=f?NaN:Bn.foundPatternCross(y)?Bn.centerFromEnd(y,C):NaN}handlePossibleCenter(s,o,c,f){const h=s[0]+s[1]+s[2]+s[3]+s[4];let m=Bn.centerFromEnd(s,c),y=this.crossCheckVertical(o,Math.floor(m),s[2],h);if(!isNaN(y)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(y),s[2],h),!isNaN(m)&&(!f||this.crossCheckDiagonal(Math.floor(y),Math.floor(m),s[2],h)))){const C=h/7;let N=!1;const T=this.possibleCenters;for(let F=0,H=T.length;F<H;F++){const K=T[F];if(K.aboutEquals(C,y,m)){T[F]=K.combineEstimate(y,m,C),N=!0;break}}if(!N){const F=new zc(m,y,C);T.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const c of this.possibleCenters)if(c.getCount()>=Bn.CENTER_QUORUM)if(o==null)o=c;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-c.getX())-Math.abs(o.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const c=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=Bn.CENTER_QUORUM&&(s++,o+=m.getEstimatedModuleSize());if(s<3)return!1;const f=o/c;let h=0;for(const m of this.possibleCenters)h+=Math.abs(m.getEstimatedModuleSize()-f);return h<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new ne;const o=this.possibleCenters;let c;if(s>3){let f=0,h=0;for(const C of this.possibleCenters){const N=C.getEstimatedModuleSize();f+=N,h+=N*N}c=f/s;let m=Math.sqrt(h/s-c*c);o.sort((C,N)=>{const T=Math.abs(N.getEstimatedModuleSize()-c),F=Math.abs(C.getEstimatedModuleSize()-c);return T<F?-1:T>F?1:0});const y=Math.max(.2*c,m);for(let C=0;C<o.length&&o.length>3;C++){const N=o[C];Math.abs(N.getEstimatedModuleSize()-c)>y&&(o.splice(C,1),C--)}}if(o.length>3){let f=0;for(const h of o)f+=h.getEstimatedModuleSize();c=f/o.length,o.sort((h,m)=>{if(m.getCount()===h.getCount()){const y=Math.abs(m.getEstimatedModuleSize()-c),C=Math.abs(h.getEstimatedModuleSize()-c);return y<C?1:y>C?-1:0}else return m.getCount()-h.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Bn.CENTER_QUORUM=2,Bn.MIN_SKIP=3,Bn.MAX_MODULES=57;class Eo{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(U.NEED_RESULT_POINT_CALLBACK);const c=new Bn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(c)}processFinderPatternInfo(s){const o=s.getTopLeft(),c=s.getTopRight(),f=s.getBottomLeft(),h=this.calculateModuleSize(o,c,f);if(h<1)throw new ne("No pattern found in proccess finder.");const m=Eo.computeDimension(o,c,f,h),y=Ke.getProvisionalVersionForDimension(m),C=y.getDimensionForVersion()-7;let N=null;if(y.getAlignmentPatternCenters().length>0){const K=c.getX()-o.getX()+f.getX(),z=c.getY()-o.getY()+f.getY(),$=1-3/C,X=Math.floor(o.getX()+$*(K-o.getX())),te=Math.floor(o.getY()+$*(z-o.getY()));for(let he=4;he<=16;he<<=1)try{N=this.findAlignmentInRegion(h,X,te,he);break}catch(ge){if(!(ge instanceof ne))throw ge}}const T=Eo.createTransform(o,c,f,N,m),F=Eo.sampleGrid(this.image,T,m);let H;return N===null?H=[f,o,c]:H=[f,o,c,N],new gn(F,H)}static createTransform(s,o,c,f,h){const m=h-3.5;let y,C,N,T;return f!==null?(y=f.getX(),C=f.getY(),N=m-3,T=N):(y=o.getX()-s.getX()+c.getX(),C=o.getY()-s.getY()+c.getY(),N=m,T=m),Rt.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,N,T,3.5,m,s.getX(),s.getY(),o.getX(),o.getY(),y,C,c.getX(),c.getY())}static sampleGrid(s,o,c){return Gt.getInstance().sampleGridWithTransform(s,c,c,o)}static computeDimension(s,o,c,f){const h=ft.round(Ne.distance(s,o)/f),m=ft.round(Ne.distance(s,c)/f);let y=Math.floor((h+m)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new ne("Dimensions could be not found.")}return y}calculateModuleSize(s,o,c){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,c))/2}calculateModuleSizeOneWay(s,o){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(c)?f/7:isNaN(f)?c/7:(c+f)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,c,f){let h=this.sizeOfBlackWhiteBlackRun(s,o,c,f),m=1,y=s-(c-s);y<0?(m=s/(s-y),y=0):y>=this.image.getWidth()&&(m=(this.image.getWidth()-1-s)/(y-s),y=this.image.getWidth()-1);let C=Math.floor(o-(f-o)*m);return m=1,C<0?(m=o/(o-C),C=0):C>=this.image.getHeight()&&(m=(this.image.getHeight()-1-o)/(C-o),C=this.image.getHeight()-1),y=Math.floor(s+(y-s)*m),h+=this.sizeOfBlackWhiteBlackRun(s,o,y,C),h-1}sizeOfBlackWhiteBlackRun(s,o,c,f){const h=Math.abs(f-o)>Math.abs(c-s);if(h){let K=s;s=o,o=K,K=c,c=f,f=K}const m=Math.abs(c-s),y=Math.abs(f-o);let C=-m/2;const N=s<c?1:-1,T=o<f?1:-1;let F=0;const H=c+N;for(let K=s,z=o;K!==H;K+=N){const $=h?z:K,X=h?K:z;if(F===1===this.image.get($,X)){if(F===2)return ft.distance(K,z,s,o);F++}if(C+=y,C>0){if(z===f)break;z+=T,C-=m}}return F===2?ft.distance(c+N,f,s,o):NaN}findAlignmentInRegion(s,o,c,f){const h=Math.floor(f*s),m=Math.max(0,o-h),y=Math.min(this.image.getWidth()-1,o+h);if(y-m<s*3)throw new ne("Alignment top exceeds estimated module size.");const C=Math.max(0,c-h),N=Math.min(this.image.getHeight()-1,c+h);if(N-C<s*3)throw new ne("Alignment bottom exceeds estimated module size.");return new El(this.image,m,C,y-m,N-C,s,this.resultPointCallback).find()}}class gi{constructor(){this.decoder=new Od}getDecoder(){return this.decoder}decode(s,o){let c,f;if(o!=null&&o.get(U.PURE_BARCODE)!==void 0){const C=gi.extractPureBits(s.getBlackMatrix());c=this.decoder.decodeBitMatrix(C,o),f=gi.NO_POINTS}else{const C=new Eo(s.getBlackMatrix()).detect(o);c=this.decoder.decodeBitMatrix(C.getBits(),o),f=C.getPoints()}c.getOther()instanceof Uc&&c.getOther().applyMirroredCorrection(f);const h=new Xe(c.getText(),c.getRawBytes(),void 0,f,_e.QR_CODE,void 0),m=c.getByteSegments();m!==null&&h.putMetadata(lt.BYTE_SEGMENTS,m);const y=c.getECLevel();return y!==null&&h.putMetadata(lt.ERROR_CORRECTION_LEVEL,y),c.hasStructuredAppend()&&(h.putMetadata(lt.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),h.putMetadata(lt.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),h}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o===null||c===null)throw new ne;const f=this.moduleSize(o,s);let h=o[1],m=c[1],y=o[0],C=c[0];if(y>=C||h>=m)throw new ne;if(m-h!==C-y&&(C=y+(m-h),C>=s.getWidth()))throw new ne;const N=Math.round((C-y+1)/f),T=Math.round((m-h+1)/f);if(N<=0||T<=0)throw new ne;if(T!==N)throw new ne;const F=Math.floor(f/2);h+=F,y+=F;const H=y+Math.floor((N-1)*f)-C;if(H>0){if(H>F)throw new ne;y-=H}const K=h+Math.floor((T-1)*f)-m;if(K>0){if(K>F)throw new ne;h-=K}const z=new Te(N,T);for(let $=0;$<T;$++){const X=h+Math.floor($*f);for(let te=0;te<N;te++)s.get(y+Math.floor(te*f),X)&&z.set(te,$)}return z}static moduleSize(s,o){const c=o.getHeight(),f=o.getWidth();let h=s[0],m=s[1],y=!0,C=0;for(;h<f&&m<c;){if(y!==o.get(h,m)){if(++C===5)break;y=!y}h++,m++}if(h===f||m===c)throw new ne;return(h-s[0])/7}}gi.NO_POINTS=new Array;class nt{PDF417Common(){}static getBitCountSum(s){return ft.sum(s)}static toIntArray(s){if(s==null||!s.length)return nt.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let c=0;for(const f of s)o[c++]=f;return o}static getCodeword(s){const o=D.binarySearch(nt.SYMBOL_TABLE,s&262143);return o<0?-1:(nt.CODEWORD_TABLE[o]-1)%nt.NUMBER_OF_CODEWORDS}}nt.NUMBER_OF_CODEWORDS=929,nt.MAX_CODEWORDS_IN_BARCODE=nt.NUMBER_OF_CODEWORDS-1,nt.MIN_ROWS_IN_BARCODE=3,nt.MAX_ROWS_IN_BARCODE=90,nt.MODULES_IN_CODEWORD=17,nt.MODULES_IN_STOP_PATTERN=18,nt.BARS_IN_MODULE=8,nt.EMPTY_INT_ARRAY=new Int32Array([]),nt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),nt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class mp{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class pt{static detectMultiple(s,o,c){let f=s.getBlackMatrix(),h=pt.detect(c,f);return h.length||(f=f.clone(),f.rotate180(),h=pt.detect(c,f)),new mp(f,h)}static detect(s,o){const c=new Array;let f=0,h=0,m=!1;for(;f<o.getHeight();){const y=pt.findVertices(o,f,h);if(y[0]==null&&y[3]==null){if(!m)break;m=!1,h=0;for(const C of c)C[1]!=null&&(f=Math.trunc(Math.max(f,C[1].getY()))),C[3]!=null&&(f=Math.max(f,Math.trunc(C[3].getY())));f+=pt.ROW_STEP;continue}if(m=!0,c.push(y),!s)break;y[2]!=null?(h=Math.trunc(y[2].getX()),f=Math.trunc(y[2].getY())):(h=Math.trunc(y[4].getX()),f=Math.trunc(y[4].getY()))}return c}static findVertices(s,o,c){const f=s.getHeight(),h=s.getWidth(),m=new Array(8);return pt.copyToResult(m,pt.findRowsWithPattern(s,f,h,o,c,pt.START_PATTERN),pt.INDEXES_START_PATTERN),m[4]!=null&&(c=Math.trunc(m[4].getX()),o=Math.trunc(m[4].getY())),pt.copyToResult(m,pt.findRowsWithPattern(s,f,h,o,c,pt.STOP_PATTERN),pt.INDEXES_STOP_PATTERN),m}static copyToResult(s,o,c){for(let f=0;f<c.length;f++)s[c[f]]=o[f]}static findRowsWithPattern(s,o,c,f,h,m){const y=new Array(4);let C=!1;const N=new Int32Array(m.length);for(;f<o;f+=pt.ROW_STEP){let F=pt.findGuardPattern(s,h,f,c,!1,m,N);if(F!=null){for(;f>0;){const H=pt.findGuardPattern(s,h,--f,c,!1,m,N);if(H!=null)F=H;else{f++;break}}y[0]=new Ne(F[0],f),y[1]=new Ne(F[1],f),C=!0;break}}let T=f+1;if(C){let F=0,H=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;T<o;T++){const K=pt.findGuardPattern(s,H[0],T,c,!1,m,N);if(K!=null&&Math.abs(H[0]-K[0])<pt.MAX_PATTERN_DRIFT&&Math.abs(H[1]-K[1])<pt.MAX_PATTERN_DRIFT)H=K,F=0;else{if(F>pt.SKIPPED_ROW_COUNT_MAX)break;F++}}T-=F+1,y[2]=new Ne(H[0],T),y[3]=new Ne(H[1],T)}return T-f<pt.BARCODE_MIN_HEIGHT&&D.fill(y,null),y}static findGuardPattern(s,o,c,f,h,m,y){D.fillWithin(y,0,y.length,0);let C=o,N=0;for(;s.get(C,c)&&C>0&&N++<pt.MAX_PIXEL_DRIFT;)C--;let T=C,F=0,H=m.length;for(let K=h;T<f;T++)if(s.get(T,c)!==K)y[F]++;else{if(F===H-1){if(pt.patternMatchVariance(y,m,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE)return new Int32Array([C,T]);C+=y[0]+y[1],I.arraycopy(y,2,y,0,F-1),y[F-1]=0,y[F]=0,F--}else F++;y[F]=1,K=!K}return F===H-1&&pt.patternMatchVariance(y,m,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE?new Int32Array([C,T-1]):null}static patternMatchVariance(s,o,c){let f=s.length,h=0,m=0;for(let N=0;N<f;N++)h+=s[N],m+=o[N];if(h<m)return 1/0;let y=h/m;c*=y;let C=0;for(let N=0;N<f;N++){let T=s[N],F=o[N]*y,H=T>F?T-F:F-T;if(H>c)return 1/0;C+=H}return C/h}}pt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),pt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),pt.MAX_AVG_VARIANCE=.42,pt.MAX_INDIVIDUAL_VARIANCE=.8,pt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),pt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),pt.MAX_PIXEL_DRIFT=3,pt.MAX_PATTERN_DRIFT=5,pt.SKIPPED_ROW_COUNT_MAX=25,pt.ROW_STEP=5,pt.BARCODE_MIN_HEIGHT=10;class tr{constructor(s,o){if(o.length===0)throw new E;this.field=s;let c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-f),I.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let f=0;for(let h of this.coefficients)f=this.field.add(f,h);return f}let o=this.coefficients[0],c=this.coefficients.length;for(let f=1;f<c;f++)o=this.field.add(this.field.multiply(s,o),this.coefficients[f]);return o}add(s){if(!this.field.equals(s.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){let m=o;o=c,c=m}let f=new Int32Array(c.length),h=c.length-o.length;I.arraycopy(c,0,f,0,h);for(let m=h;m<c.length;m++)f[m]=this.field.add(o[m-h],c[m]);return new tr(this.field,f)}subtract(s){if(!this.field.equals(s.field))throw new E("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof tr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new tr(this.field,new Int32Array([0]));let o=this.coefficients,c=o.length,f=s.coefficients,h=f.length,m=new Int32Array(c+h-1);for(let y=0;y<c;y++){let C=o[y];for(let N=0;N<h;N++)m[y+N]=this.field.add(m[y+N],this.field.multiply(C,f[N]))}return new tr(this.field,m)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=this.field.subtract(0,this.coefficients[c]);return new tr(this.field,o)}multiplyScalar(s){if(s===0)return new tr(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,c=new Int32Array(o);for(let f=0;f<o;f++)c[f]=this.field.multiply(this.coefficients[f],s);return new tr(this.field,c)}multiplyByMonomial(s,o){if(s<0)throw new E;if(o===0)return new tr(this.field,new Int32Array([0]));let c=this.coefficients.length,f=new Int32Array(c+s);for(let h=0;h<c;h++)f[h]=this.field.multiply(this.coefficients[h],o);return new tr(this.field,f)}toString(){let s=new le;for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);c!==0&&(c<0?(s.append(" - "),c=-c):s.length()>0&&s.append(" + "),(o===0||c!==1)&&s.append(c),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class gp{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new E;return this.logTable[s]}inverse(s){if(s===0)throw new ln;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Wc extends gp{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let c=1;for(let f=0;f<s;f++)this.expTable[f]=c,c=c*o%s;for(let f=0;f<s-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new tr(this,new Int32Array([0])),this.one=new tr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new E;if(o===0)return this.zero;let c=new Int32Array(s+1);return c[0]=o,new tr(this,c)}}Wc.PDF417_GF=new Wc(nt.NUMBER_OF_CODEWORDS,3);class Md{constructor(){this.field=Wc.PDF417_GF}decode(s,o,c){let f=new tr(this.field,s),h=new Int32Array(o),m=!1;for(let z=o;z>0;z--){let $=f.evaluateAt(this.field.exp(z));h[o-z]=$,$!==0&&(m=!0)}if(!m)return 0;let y=this.field.getOne();if(c!=null)for(const z of c){let $=this.field.exp(s.length-1-z),X=new tr(this.field,new Int32Array([this.field.subtract(0,$),1]));y=y.multiply(X)}let C=new tr(this.field,h),N=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),C,o),T=N[0],F=N[1],H=this.findErrorLocations(T),K=this.findErrorMagnitudes(F,T,H);for(let z=0;z<H.length;z++){let $=s.length-1-this.field.log(H[z]);if($<0)throw k.getChecksumInstance();s[$]=this.field.subtract(s[$],K[z])}return H.length}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){let H=s;s=o,o=H}let f=s,h=o,m=this.field.getZero(),y=this.field.getOne();for(;h.getDegree()>=Math.round(c/2);){let H=f,K=m;if(f=h,m=y,f.isZero())throw k.getChecksumInstance();h=H;let z=this.field.getZero(),$=f.getCoefficient(f.getDegree()),X=this.field.inverse($);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){let te=h.getDegree()-f.getDegree(),he=this.field.multiply(h.getCoefficient(h.getDegree()),X);z=z.add(this.field.buildMonomial(te,he)),h=h.subtract(f.multiplyByMonomial(te,he))}y=z.multiply(m).subtract(K).negative()}let C=y.getCoefficient(0);if(C===0)throw k.getChecksumInstance();let N=this.field.inverse(C),T=y.multiply(N),F=h.multiply(N);return[T,F]}findErrorLocations(s){let o=s.getDegree(),c=new Int32Array(o),f=0;for(let h=1;h<this.field.getSize()&&f<o;h++)s.evaluateAt(h)===0&&(c[f]=this.field.inverse(h),f++);if(f!==o)throw k.getChecksumInstance();return c}findErrorMagnitudes(s,o,c){let f=o.getDegree(),h=new Int32Array(f);for(let N=1;N<=f;N++)h[f-N]=this.field.multiply(N,o.getCoefficient(N));let m=new tr(this.field,h),y=c.length,C=new Int32Array(y);for(let N=0;N<y;N++){let T=this.field.inverse(c[N]),F=this.field.subtract(0,s.evaluateAt(T)),H=this.field.inverse(m.evaluateAt(T));C[N]=this.field.multiply(F,H)}return C}}class Wi{constructor(s,o,c,f,h){s instanceof Wi?this.constructor_2(s):this.constructor_1(s,o,c,f,h)}constructor_1(s,o,c,f,h){const m=o==null||c==null,y=f==null||h==null;if(m&&y)throw new ne;m?(o=new Ne(0,f.getY()),c=new Ne(0,h.getY())):y&&(f=new Ne(s.getWidth()-1,o.getY()),h=new Ne(s.getWidth()-1,c.getY())),this.image=s,this.topLeft=o,this.bottomLeft=c,this.topRight=f,this.bottomRight=h,this.minX=Math.trunc(Math.min(o.getX(),c.getX())),this.maxX=Math.trunc(Math.max(f.getX(),h.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(c.getY(),h.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new Wi(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,c){let f=this.topLeft,h=this.bottomLeft,m=this.topRight,y=this.bottomRight;if(s>0){let C=c?this.topLeft:this.topRight,N=Math.trunc(C.getY()-s);N<0&&(N=0);let T=new Ne(C.getX(),N);c?f=T:m=T}if(o>0){let C=c?this.bottomLeft:this.bottomRight,N=Math.trunc(C.getY()+o);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let T=new Ne(C.getX(),N);c?h=T:y=T}return new Wi(this.image,f,h,m,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class sn{constructor(s,o,c,f){this.columnCount=s,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=c,this.rowCount=o+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class zt{constructor(){this.buffer=""}static form(s,o){let c=-1;function f(m,y,C,N,T,F){if(m==="%%")return"%";if(o[++c]===void 0)return;m=N?parseInt(N.substr(1)):void 0;let H=T?parseInt(T.substr(1)):void 0,K;switch(F){case"s":K=o[c];break;case"c":K=o[c][0];break;case"f":K=parseFloat(o[c]).toFixed(m);break;case"p":K=parseFloat(o[c]).toPrecision(m);break;case"e":K=parseFloat(o[c]).toExponential(m);break;case"x":K=parseInt(o[c]).toString(H||16);break;case"d":K=parseFloat(parseInt(o[c],H||10).toPrecision(m)).toFixed(0);break}K=typeof K=="object"?JSON.stringify(K):(+K).toString(H);let z=parseInt(C),$=C&&C[0]+""=="0"?"0":" ";for(;K.length<z;)K=y!==void 0?K+$:$+K;return K}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}format(s,...o){this.buffer+=zt.form(s,o)}toString(){return this.buffer}}class No{constructor(s){this.boundingBox=new Wi(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let c=1;c<No.MAX_NEARBY_DISTANCE;c++){let f=this.imageRowToCodewordIndex(s)-c;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(s)+c,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new zt;let o=0;for(const c of this.codewords){if(c==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,c.getRowNumber(),c.getValue())}return s.toString()}}No.MAX_NEARBY_DISTANCE=5;class _o{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[c,f]of this.values.entries()){const h={getKey:()=>c,getValue:()=>f};h.getValue()>s?(s=h.getValue(),o=[],o.push(h.getKey())):h.getValue()===s&&o.push(h.getKey())}return nt.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class Ld extends No{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),h=this._isLeft?c.getBottomLeft():c.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),C=-1,N=1,T=0;for(let F=m;F<y;F++){if(o[F]==null)continue;let H=o[F],K=H.getRowNumber()-C;if(K===0)T++;else if(K===1)N=Math.max(N,T),T=1,C=H.getRowNumber();else if(K<0||H.getRowNumber()>=s.getRowCount()||K>F)o[F]=null;else{let z;N>2?z=(N-2)*K:z=K;let $=z>=F;for(let X=1;X<=z&&!$;X++)$=o[F-X]!=null;$?o[F]=null:(C=H.getRowNumber(),T=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let c of this.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.getCodewords(),C=-1;for(let N=h;N<m;N++){if(y[N]==null)continue;let T=y[N];T.setRowNumberAsRowIndicatorColumn();let F=T.getRowNumber()-C;F===0||(F===1?C=T.getRowNumber():T.getRowNumber()>=s.getRowCount()?y[N]=null:C=T.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new _o,c=new _o,f=new _o,h=new _o;for(let y of s){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let C=y.getValue()%30,N=y.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:c.setValue(C*3+1);break;case 1:h.setValue(C/3),f.setValue(C%3);break;case 2:o.setValue(C+1);break}}if(o.getValue().length===0||c.getValue().length===0||f.getValue().length===0||h.getValue().length===0||o.getValue()[0]<1||c.getValue()[0]+f.getValue()[0]<nt.MIN_ROWS_IN_BARCODE||c.getValue()[0]+f.getValue()[0]>nt.MAX_ROWS_IN_BARCODE)return null;let m=new sn(o.getValue()[0],c.getValue()[0],f.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(s,m),m}removeIncorrectCodewords(s,o){for(let c=0;c<s.length;c++){let f=s[c];if(s[c]==null)continue;let h=f.getValue()%30,m=f.getRowNumber();if(m>o.getRowCount()){s[c]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:h*3+1!==o.getRowCountUpperPart()&&(s[c]=null);break;case 1:(Math.trunc(h/3)!==o.getErrorCorrectionLevel()||h%3!==o.getRowCountLowerPart())&&(s[c]=null);break;case 2:h+1!==o.getColumnCount()&&(s[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class So{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=nt.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let c=this.detectionResultColumns[o].getCodewords();for(let f=0;f<c.length;f++)c[f]!=null&&(c[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,c))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++)if(s[c]!=null&&o[c]!=null&&s[c].getRowNumber()===o[c].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let h=this.detectionResultColumns[f].getCodewords()[c];h!=null&&(h.setRowNumber(s[c].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),h=0;for(let m=this.barcodeColumnCount+1;m>0&&h<this.ADJUST_ROW_NUMBER_SKIP;m--){let y=this.detectionResultColumns[m].getCodewords()[c];y!=null&&(h=So.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),h=0;for(let m=1;m<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;m++){let y=this.detectionResultColumns[m].getCodewords()[c];y!=null&&(h=So.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(s)?(c.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,c){if(!this.detectionResultColumns[s-1])return;let f=c[o],h=this.detectionResultColumns[s-1].getCodewords(),m=h;this.detectionResultColumns[s+1]!=null&&(m=this.detectionResultColumns[s+1].getCodewords());let y=new Array(14);y[2]=h[o],y[3]=m[o],o>0&&(y[0]=c[o-1],y[4]=h[o-1],y[5]=m[o-1]),o>1&&(y[8]=c[o-2],y[10]=h[o-2],y[11]=m[o-2]),o<c.length-1&&(y[1]=c[o+1],y[6]=h[o+1],y[7]=m[o+1]),o<c.length-2&&(y[9]=c[o+2],y[12]=h[o+2],y[13]=m[o+2]);for(let C of y)if(So.adjustRowNumber(f,C))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new zt;for(let c=0;c<s.getCodewords().length;c++){o.format("CW %3d:",c);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let h=this.detectionResultColumns[f].getCodewords()[c];if(h==null){o.format("    |   ");continue}o.format(" %3d|%3d",h.getRowNumber(),h.getValue())}o.format("%n")}return o.toString()}}class Ao{constructor(s,o,c,f){this.rowNumber=Ao.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(c),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Ao.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Ao.BARCODE_ROW_UNKNOWN=-1;class Nr{static initialize(){for(let s=0;s<nt.SYMBOL_TABLE.length;s++){let o=nt.SYMBOL_TABLE[s],c=o&1;for(let f=0;f<nt.BARS_IN_MODULE;f++){let h=0;for(;(o&1)===c;)h+=1,o>>=1;c=o&1,Nr.RATIOS_TABLE[s]||(Nr.RATIOS_TABLE[s]=new Array(nt.BARS_IN_MODULE)),Nr.RATIOS_TABLE[s][nt.BARS_IN_MODULE-f-1]=Math.fround(h/nt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=Nr.getDecodedCodewordValue(Nr.sampleBitCounts(s));return o!==-1?o:Nr.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=ft.sum(s),c=new Int32Array(nt.BARS_IN_MODULE),f=0,h=0;for(let m=0;m<nt.MODULES_IN_CODEWORD;m++){let y=o/(2*nt.MODULES_IN_CODEWORD)+m*o/nt.MODULES_IN_CODEWORD;h+s[f]<=y&&(h+=s[f],f++),c[f]++}return c}static getDecodedCodewordValue(s){let o=Nr.getBitValue(s);return nt.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let c=0;c<s.length;c++)for(let f=0;f<s[c];f++)o=o<<1|(c%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=ft.sum(s),c=new Array(nt.BARS_IN_MODULE);if(o>1)for(let m=0;m<c.length;m++)c[m]=Math.fround(s[m]/o);let f=Re.MAX_VALUE,h=-1;this.bSymbolTableReady||Nr.initialize();for(let m=0;m<Nr.RATIOS_TABLE.length;m++){let y=0,C=Nr.RATIOS_TABLE[m];for(let N=0;N<nt.BARS_IN_MODULE;N++){let T=Math.fround(C[N]-c[N]);if(y+=Math.fround(T*T),y>=f)break}y<f&&(f=y,h=nt.SYMBOL_TABLE[m])}return h}}Nr.bSymbolTableReady=!1,Nr.RATIOS_TABLE=new Array(nt.SYMBOL_TABLE.length).map(P=>new Array(nt.BARS_IN_MODULE));class Hc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Pd{static parseLong(s,o=void 0){return parseInt(s,o)}}class $n extends v{}$n.kind="NullPointerException";class qc{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,c){if(s==null)throw new $n;if(o<0||o>s.length||c<0||o+c>s.length||o+c<0)throw new L;if(c===0)return;for(let f=0;f<c;f++)this.write(s[o+f])}flush(){}close(){}}class Hi extends v{}class Fd extends qc{constructor(s=32){if(super(),this.count=0,s<0)throw new E("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let c=this.buf.length<<1;if(c-s<0&&(c=s),c<0){if(s<0)throw new Hi;c=R.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,c)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,c){if(o<0||o>s.length||c<0||o+c-s.length>0)throw new L;this.ensureCapacity(this.count+c),I.arraycopy(s,o,this.buf,this.count,c),this.count+=c}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Wt;(function(P){P[P.ALPHA=0]="ALPHA",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.PUNCT=3]="PUNCT",P[P.ALPHA_SHIFT=4]="ALPHA_SHIFT",P[P.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Wt||(Wt={}));function Mr(){if(typeof window<"u")return window.BigInt||null;if(typeof Ai<"u")return Ai.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ko;function Qs(P){if(typeof ko>"u"&&(ko=Mr()),ko===null)throw new Error("BigInt is not supported!");return ko(P)}function Bd(){let P=[];P[0]=Qs(1);let s=Qs(900);P[1]=s;for(let o=2;o<16;o++)P[o]=P[o-1]*s;return P}class fe{static decode(s,o){let c=new le(""),f=Y.ISO8859_1;c.enableDecoding(f);let h=1,m=s[h++],y=new Hc;for(;h<s[0];){switch(m){case fe.TEXT_COMPACTION_MODE_LATCH:h=fe.textCompaction(s,h,c);break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:h=fe.byteCompaction(m,s,f,h,c);break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h++]);break;case fe.NUMERIC_COMPACTION_MODE_LATCH:h=fe.numericCompaction(s,h,c);break;case fe.ECI_CHARSET:Y.getCharacterSetECIByValue(s[h++]);break;case fe.ECI_GENERAL_PURPOSE:h+=2;break;case fe.ECI_USER_DEFINED:h++;break;case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=fe.decodeMacroBlock(s,h,y);break;case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:throw new O;default:h--,h=fe.textCompaction(s,h,c);break}if(h<s.length)m=s[h++];else throw O.getFormatInstance()}if(c.length()===0)throw O.getFormatInstance();let C=new on(null,c.toString(),null,o);return C.setOther(y),C}static decodeMacroBlock(s,o,c){if(o+fe.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw O.getFormatInstance();let f=new Int32Array(fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<fe.NUMBER_OF_SEQUENCE_CODEWORDS;y++,o++)f[y]=s[o];c.setSegmentIndex(R.parseInt(fe.decodeBase900toBase10(f,fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new le;o=fe.textCompaction(s,o,h),c.setFileId(h.toString());let m=-1;for(s[o]===fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=o+1);o<s[0];)switch(s[o]){case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new le;o=fe.textCompaction(s,o+1,y),c.setFileName(y.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new le;o=fe.textCompaction(s,o+1,C),c.setSender(C.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new le;o=fe.textCompaction(s,o+1,N),c.setAddressee(N.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new le;o=fe.numericCompaction(s,o+1,T),c.setSegmentCount(R.parseInt(T.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new le;o=fe.numericCompaction(s,o+1,F),c.setTimestamp(Pd.parseLong(F.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let H=new le;o=fe.numericCompaction(s,o+1,H),c.setChecksum(R.parseInt(H.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let K=new le;o=fe.numericCompaction(s,o+1,K),c.setFileSize(Pd.parseLong(K.toString()));break;default:throw O.getFormatInstance()}break;case fe.MACRO_PDF417_TERMINATOR:o++,c.setLastSegment(!0);break;default:throw O.getFormatInstance()}if(m!==-1){let y=o-m;c.isLastSegment()&&y--,c.setOptionalData(D.copyOfRange(s,m,m+y))}return o}static textCompaction(s,o,c){let f=new Int32Array((s[0]-o)*2),h=new Int32Array((s[0]-o)*2),m=0,y=!1;for(;o<s[0]&&!y;){let C=s[o++];if(C<fe.TEXT_COMPACTION_MODE_LATCH)f[m]=C/30,f[m+1]=C%30,m+=2;else switch(C){case fe.TEXT_COMPACTION_MODE_LATCH:f[m++]=fe.TEXT_COMPACTION_MODE_LATCH;break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:o--,y=!0;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[m]=fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=s[o++],h[m]=C,m++;break}}return fe.decodeTextCompaction(f,h,m,c),o}static decodeTextCompaction(s,o,c,f){let h=Wt.ALPHA,m=Wt.ALPHA,y=0;for(;y<c;){let C=s[y],N="";switch(h){case Wt.ALPHA:if(C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case fe.LL:h=Wt.LOWER;break;case fe.ML:h=Wt.MIXED;break;case fe.PS:m=h,h=Wt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Wt.ALPHA;break}break;case Wt.LOWER:if(C<26)N=String.fromCharCode(97+C);else switch(C){case 26:N=" ";break;case fe.AS:m=h,h=Wt.ALPHA_SHIFT;break;case fe.ML:h=Wt.MIXED;break;case fe.PS:m=h,h=Wt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Wt.ALPHA;break}break;case Wt.MIXED:if(C<fe.PL)N=fe.MIXED_CHARS[C];else switch(C){case fe.PL:h=Wt.PUNCT;break;case 26:N=" ";break;case fe.LL:h=Wt.LOWER;break;case fe.AL:h=Wt.ALPHA;break;case fe.PS:m=h,h=Wt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Wt.ALPHA;break}break;case Wt.PUNCT:if(C<fe.PAL)N=fe.PUNCT_CHARS[C];else switch(C){case fe.PAL:h=Wt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Wt.ALPHA;break}break;case Wt.ALPHA_SHIFT:if(h=m,C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Wt.ALPHA;break}break;case Wt.PUNCT_SHIFT:if(h=m,C<fe.PAL)N=fe.PUNCT_CHARS[C];else switch(C){case fe.PAL:h=Wt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Wt.ALPHA;break}break}N!==""&&f.append(N),y++}}static byteCompaction(s,o,c,f,h){let m=new Fd,y=0,C=0,N=!1;switch(s){case fe.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),F=o[f++];for(;f<o[0]&&!N;)switch(T[y++]=F,C=900*C+F,F=o[f++],F){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:f--,N=!0;break;default:if(y%5===0&&y>0){for(let H=0;H<6;++H)m.write(Number(Qs(C)>>Qs(8*(5-H))));C=0,y=0}break}f===o[0]&&F<fe.TEXT_COMPACTION_MODE_LATCH&&(T[y++]=F);for(let H=0;H<y;H++)m.write(T[H]);break;case fe.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!N;){let H=o[f++];if(H<fe.TEXT_COMPACTION_MODE_LATCH)y++,C=900*C+H;else switch(H){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:f--,N=!0;break}if(y%5===0&&y>0){for(let K=0;K<6;++K)m.write(Number(Qs(C)>>Qs(8*(5-K))));C=0,y=0}}break}return h.append(de.decode(m.toByteArray(),c)),f}static numericCompaction(s,o,c){let f=0,h=!1,m=new Int32Array(fe.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!h;){let y=s[o++];if(o===s[0]&&(h=!0),y<fe.TEXT_COMPACTION_MODE_LATCH)m[f]=y,f++;else switch(y){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:o--,h=!0;break}(f%fe.MAX_NUMERIC_CODEWORDS===0||y===fe.NUMERIC_COMPACTION_MODE_LATCH||h)&&f>0&&(c.append(fe.decodeBase900toBase10(m,f)),f=0)}return o}static decodeBase900toBase10(s,o){let c=Qs(0);for(let h=0;h<o;h++)c+=fe.EXP900[o-h-1]*Qs(s[h]);let f=c.toString();if(f.charAt(0)!=="1")throw new O;return f.substring(1)}}fe.TEXT_COMPACTION_MODE_LATCH=900,fe.BYTE_COMPACTION_MODE_LATCH=901,fe.NUMERIC_COMPACTION_MODE_LATCH=902,fe.BYTE_COMPACTION_MODE_LATCH_6=924,fe.ECI_USER_DEFINED=925,fe.ECI_GENERAL_PURPOSE=926,fe.ECI_CHARSET=927,fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,fe.MACRO_PDF417_TERMINATOR=922,fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,fe.MAX_NUMERIC_CODEWORDS=15,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,fe.PL=25,fe.LL=27,fe.AS=27,fe.ML=28,fe.AL=28,fe.PS=29,fe.PAL=29,fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",fe.EXP900=Mr()?Bd():[],fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class gt{constructor(){}static decode(s,o,c,f,h,m,y){let C=new Wi(s,o,c,f,h),N=null,T=null,F;for(let z=!0;;z=!1){if(o!=null&&(N=gt.getRowIndicatorColumn(s,C,o,!0,m,y)),f!=null&&(T=gt.getRowIndicatorColumn(s,C,f,!1,m,y)),F=gt.merge(N,T),F==null)throw ne.getNotFoundInstance();let $=F.getBoundingBox();if(z&&$!=null&&($.getMinY()<C.getMinY()||$.getMaxY()>C.getMaxY()))C=$;else break}F.setBoundingBox(C);let H=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,N),F.setDetectionResultColumn(H,T);let K=N!=null;for(let z=1;z<=H;z++){let $=K?z:H-z;if(F.getDetectionResultColumn($)!==void 0)continue;let X;$===0||$===H?X=new Ld(C,$===0):X=new No(C),F.setDetectionResultColumn($,X);let te=-1,he=te;for(let ge=C.getMinY();ge<=C.getMaxY();ge++){if(te=gt.getStartColumn(F,$,ge,K),te<0||te>C.getMaxX()){if(he===-1)continue;te=he}let xe=gt.detectCodeword(s,C.getMinX(),C.getMaxX(),K,te,ge,m,y);xe!=null&&(X.setCodeword(ge,xe),he=te,m=Math.min(m,xe.getWidth()),y=Math.max(y,xe.getWidth()))}}return gt.createDecoderResult(F)}static merge(s,o){if(s==null&&o==null)return null;let c=gt.getBarcodeMetadata(s,o);if(c==null)return null;let f=Wi.merge(gt.adjustBoundingBox(s),gt.adjustBoundingBox(o));return new So(c,f)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let c=gt.getMax(o),f=0;for(let y of o)if(f+=c-y,y>0)break;let h=s.getCodewords();for(let y=0;f>0&&h[y]==null;y++)f--;let m=0;for(let y=o.length-1;y>=0&&(m+=c-o[y],!(o[y]>0));y--);for(let y=h.length-1;m>0&&h[y]==null;y--)m--;return s.getBoundingBox().addMissingRows(f,m,s.isLeft())}static getMax(s){let o=-1;for(let c of s)o=Math.max(o,c);return o}static getBarcodeMetadata(s,o){let c;if(s==null||(c=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?c:c.getColumnCount()!==f.getColumnCount()&&c.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&c.getRowCount()!==f.getRowCount()?null:c}static getRowIndicatorColumn(s,o,c,f,h,m){let y=new Ld(o,f);for(let C=0;C<2;C++){let N=C===0?1:-1,T=Math.trunc(Math.trunc(c.getX()));for(let F=Math.trunc(Math.trunc(c.getY()));F<=o.getMaxY()&&F>=o.getMinY();F+=N){let H=gt.detectCodeword(s,0,s.getWidth(),f,T,F,h,m);H!=null&&(y.setCodeword(F,H),f?T=H.getStartX():T=H.getEndX())}}return y}static adjustCodewordCount(s,o){let c=o[0][1],f=c.getValue(),h=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-gt.getNumberOfECCodeWords(s.getBarcodeECLevel());if(f.length===0){if(h<1||h>nt.MAX_CODEWORDS_IN_BARCODE)throw ne.getNotFoundInstance();c.setValue(h)}else f[0]!==h&&c.setValue(h)}static createDecoderResult(s){let o=gt.createBarcodeMatrix(s);gt.adjustCodewordCount(s,o);let c=new Array,f=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),h=[],m=new Array;for(let C=0;C<s.getBarcodeRowCount();C++)for(let N=0;N<s.getBarcodeColumnCount();N++){let T=o[C][N+1].getValue(),F=C*s.getBarcodeColumnCount()+N;T.length===0?c.push(F):T.length===1?f[F]=T[0]:(m.push(F),h.push(T))}let y=new Array(h.length);for(let C=0;C<y.length;C++)y[C]=h[C];return gt.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),f,nt.toIntArray(c),nt.toIntArray(m),y)}static createDecoderResultFromAmbiguousValues(s,o,c,f,h){let m=new Int32Array(f.length),y=100;for(;y-- >0;){for(let C=0;C<m.length;C++)o[f[C]]=h[C][m[C]];try{return gt.decodeCodewords(o,s,c)}catch(C){if(!(C instanceof k))throw C}if(m.length===0)throw k.getChecksumInstance();for(let C=0;C<m.length;C++)if(m[C]<h[C].length-1){m[C]++;break}else if(m[C]=0,C===m.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let h=0;h<o[f].length;h++)o[f][h]=new _o;let c=0;for(let f of s.getDetectionResultColumns()){if(f!=null){for(let h of f.getCodewords())if(h!=null){let m=h.getRowNumber();if(m>=0){if(m>=o.length)continue;o[m][c].setValue(h.getValue())}}}c++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,c,f){let h=f?1:-1,m=null;if(gt.isValidBarcodeColumn(s,o-h)&&(m=s.getDetectionResultColumn(o-h).getCodeword(c)),m!=null)return f?m.getEndX():m.getStartX();if(m=s.getDetectionResultColumn(o).getCodewordNearby(c),m!=null)return f?m.getStartX():m.getEndX();if(gt.isValidBarcodeColumn(s,o-h)&&(m=s.getDetectionResultColumn(o-h).getCodewordNearby(c)),m!=null)return f?m.getEndX():m.getStartX();let y=0;for(;gt.isValidBarcodeColumn(s,o-h);){o-=h;for(let C of s.getDetectionResultColumn(o).getCodewords())if(C!=null)return(f?C.getEndX():C.getStartX())+h*y*(C.getEndX()-C.getStartX());y++}return f?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,c,f,h,m,y,C){h=gt.adjustCodewordStartColumn(s,o,c,f,h,m);let N=gt.getModuleBitCount(s,o,c,f,h,m);if(N==null)return null;let T,F=ft.sum(N);if(f)T=h+F;else{for(let z=0;z<N.length/2;z++){let $=N[z];N[z]=N[N.length-1-z],N[N.length-1-z]=$}T=h,h=T-F}if(!gt.checkCodewordSkew(F,y,C))return null;let H=Nr.getDecodedValue(N),K=nt.getCodeword(H);return K===-1?null:new Ao(h,T,gt.getCodewordBucketNumber(H),K)}static getModuleBitCount(s,o,c,f,h,m){let y=h,C=new Int32Array(8),N=0,T=f?1:-1,F=f;for(;(f?y<c:y>=o)&&N<C.length;)s.get(y,m)===F?(C[N]++,y+=T):(N++,F=!F);return N===C.length||y===(f?c:o)&&N===C.length-1?C:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,c,f,h,m){let y=h,C=f?-1:1;for(let N=0;N<2;N++){for(;(f?y>=o:y<c)&&f===s.get(y,m);){if(Math.abs(h-y)>gt.CODEWORD_SKEW_SIZE)return h;y+=C}C=-C,f=!f}return y}static checkCodewordSkew(s,o,c){return o-gt.CODEWORD_SKEW_SIZE<=s&&s<=c+gt.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,c){if(s.length===0)throw O.getFormatInstance();let f=1<<o+1,h=gt.correctErrors(s,c,f);gt.verifyCodewordCount(s,f);let m=fe.decode(s,""+o);return m.setErrorsCorrected(h),m.setErasures(c.length),m}static correctErrors(s,o,c){if(o!=null&&o.length>c/2+gt.MAX_ERRORS||c<0||c>gt.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return gt.errorCorrection.decode(s,c,o)}static verifyCodewordCount(s,o){if(s.length<4)throw O.getFormatInstance();let c=s[0];if(c>s.length)throw O.getFormatInstance();if(c===0)if(o<s.length)s[0]=s.length-o;else throw O.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),c=0,f=o.length-1;for(;!((s&1)!==c&&(c=s&1,f--,f<0));)o[f]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return gt.getCodewordBucketNumber(gt.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new zt;for(let c=0;c<s.length;c++){o.format("Row %2d: ",c);for(let f=0;f<s[c].length;f++){let h=s[c][f];h.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}o.format("%n")}return o.toString()}}gt.CODEWORD_SKEW_SIZE=2,gt.MAX_ERRORS=3,gt.MAX_EC_CODEWORDS=512,gt.errorCorrection=new Md;class Gn{decode(s,o=null){let c=Gn.decode(s,o,!1);if(c==null||c.length===0||c[0]==null)throw ne.getNotFoundInstance();return c[0]}decodeMultiple(s,o=null){try{return Gn.decode(s,o,!0)}catch(c){throw c instanceof O||c instanceof k?ne.getNotFoundInstance():c}}static decode(s,o,c){const f=new Array,h=pt.detectMultiple(s,o,c);for(const m of h.getPoints()){const y=gt.decode(h.getBits(),m[4],m[5],m[6],m[7],Gn.getMinCodewordWidth(m),Gn.getMaxCodewordWidth(m)),C=new Xe(y.getText(),y.getRawBytes(),void 0,m,_e.PDF_417);C.putMetadata(lt.ERROR_CORRECTION_LEVEL,y.getECLevel());const N=y.getOther();N!=null&&C.putMetadata(lt.PDF417_EXTRA_METADATA,N),f.push(C)}return f.map(m=>m)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?R.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Gn.getMaxWidth(s[0],s[4]),Gn.getMaxWidth(s[6],s[2])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN),Math.max(Gn.getMaxWidth(s[1],s[5]),Gn.getMaxWidth(s[7],s[3])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Gn.getMinWidth(s[0],s[4]),Gn.getMinWidth(s[6],s[2])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN),Math.min(Gn.getMinWidth(s[1],s[5]),Gn.getMinWidth(s[7],s[3])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN)))}reset(){}}class or extends v{}or.kind="ReaderException";class Ud{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!r(s)&&s.get(U.TRY_HARDER)===!0,c=r(s)?null:s.get(U.POSSIBLE_FORMATS),f=new Array;if(!r(c)){const h=c.some(m=>m===_e.UPC_A||m===_e.UPC_E||m===_e.EAN_13||m===_e.EAN_8||m===_e.CODABAR||m===_e.CODE_39||m===_e.CODE_93||m===_e.CODE_128||m===_e.ITF||m===_e.RSS_14||m===_e.RSS_EXPANDED);h&&!o&&f.push(new zi(s,this.verbose)),c.includes(_e.QR_CODE)&&f.push(new gi),c.includes(_e.DATA_MATRIX)&&f.push(new ls),c.includes(_e.AZTEC)&&f.push(new Ss),c.includes(_e.PDF_417)&&f.push(new Gn),h&&o&&f.push(new zi(s,this.verbose))}f.length===0&&(o||f.push(new zi(s,this.verbose)),f.push(new gi),f.push(new ls),f.push(new Ss),f.push(new Gn),o&&f.push(new zi(s,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new or("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(c){if(c instanceof or)continue}throw new ne("No MultiFormat Readers were able to detect the code.")}}class Gr extends ke{constructor(s=null,o=500){const c=new Ud;c.setHints(s),super(c,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class xp extends ke{constructor(s=500){super(new Gn,s)}}class zd extends ke{constructor(s=500){super(new gi,s)}}var js;(function(P){P[P.ERROR_CORRECTION=0]="ERROR_CORRECTION",P[P.CHARACTER_SET=1]="CHARACTER_SET",P[P.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",P[P.MIN_SIZE=3]="MIN_SIZE",P[P.MAX_SIZE=4]="MAX_SIZE",P[P.MARGIN=5]="MARGIN",P[P.PDF417_COMPACT=6]="PDF417_COMPACT",P[P.PDF417_COMPACTION=7]="PDF417_COMPACTION",P[P.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",P[P.AZTEC_LAYERS=9]="AZTEC_LAYERS",P[P.QR_VERSION=10]="QR_VERSION"})(js||(js={}));var vn=js;class To{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new kt(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let c=o[o.length-1];const f=this.field;for(let h=o.length;h<=s;h++){const m=c.multiply(new kt(f,Int32Array.from([1,f.exp(h-1+f.getGeneratorBase())])));o.push(m),c=m}}return o[s]}encode(s,o){if(o===0)throw new E("No error correction bytes");const c=s.length-o;if(c<=0)throw new E("No data bytes provided");const f=this.buildGenerator(o),h=new Int32Array(c);I.arraycopy(s,0,h,0,c);let m=new kt(this.field,h);m=m.multiplyByMonomial(o,1);const C=m.divide(f)[1].getCoefficients(),N=o-C.length;for(let T=0;T<N;T++)s[c+T]=0;I.arraycopy(C,0,s,c+N,C.length)}}class ct{constructor(){}static applyMaskPenaltyRule1(s){return ct.applyMaskPenaltyRule1Internal(s,!0)+ct.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let m=0;m<h-1;m++){const y=c[m];for(let C=0;C<f-1;C++){const N=y[C];N===y[C+1]&&N===c[m+1][C]&&N===c[m+1][C+1]&&o++}}return ct.N2*o}static applyMaskPenaltyRule3(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let m=0;m<h;m++)for(let y=0;y<f;y++){const C=c[m];y+6<f&&C[y]===1&&C[y+1]===0&&C[y+2]===1&&C[y+3]===1&&C[y+4]===1&&C[y+5]===0&&C[y+6]===1&&(ct.isWhiteHorizontal(C,y-4,y)||ct.isWhiteHorizontal(C,y+7,y+11))&&o++,m+6<h&&c[m][y]===1&&c[m+1][y]===0&&c[m+2][y]===1&&c[m+3][y]===1&&c[m+4][y]===1&&c[m+5][y]===0&&c[m+6][y]===1&&(ct.isWhiteVertical(c,y,m-4,m)||ct.isWhiteVertical(c,y,m+7,m+11))&&o++}return o*ct.N3}static isWhiteHorizontal(s,o,c){o=Math.max(o,0),c=Math.min(c,s.length);for(let f=o;f<c;f++)if(s[f]===1)return!1;return!0}static isWhiteVertical(s,o,c,f){c=Math.max(c,0),f=Math.min(f,s.length);for(let h=c;h<f;h++)if(s[h][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let C=0;C<h;C++){const N=c[C];for(let T=0;T<f;T++)N[T]===1&&o++}const m=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-m)*10/m)*ct.N4}static getDataMaskBit(s,o,c){let f,h;switch(s){case 0:f=c+o&1;break;case 1:f=c&1;break;case 2:f=o%3;break;case 3:f=(c+o)%3;break;case 4:f=Math.floor(c/2)+Math.floor(o/3)&1;break;case 5:h=c*o,f=(h&1)+h%3;break;case 6:h=c*o,f=(h&1)+h%3&1;break;case 7:h=c*o,f=h%3+(c+o&1)&1;break;default:throw new E("Invalid mask pattern: "+s)}return f===0}static applyMaskPenaltyRule1Internal(s,o){let c=0;const f=o?s.getHeight():s.getWidth(),h=o?s.getWidth():s.getHeight(),m=s.getArray();for(let y=0;y<f;y++){let C=0,N=-1;for(let T=0;T<h;T++){const F=o?m[y][T]:m[T][y];F===N?C++:(C>=5&&(c+=ct.N1+(C-5)),C=1,N=F)}C>=5&&(c+=ct.N1+(C-5))}return c}}ct.N1=3,ct.N2=3,ct.N3=40,ct.N4=10;class cs{constructor(s,o){this.width=s,this.height=o;const c=new Array(o);for(let f=0;f!==o;f++)c[f]=new Uint8Array(s);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,c){this.bytes[o][s]=c}setBoolean(s,o,c){this.bytes[o][s]=c?1:0}clear(s){for(const o of this.bytes)D.fill(o,s)}equals(s){if(!(s instanceof cs))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let c=0,f=this.height;c<f;++c){const h=this.bytes[c],m=o.bytes[c];for(let y=0,C=this.width;y<C;++y)if(h[y]!==m[y])return!1}return!0}toString(){const s=new le;for(let o=0,c=this.height;o<c;++o){const f=this.bytes[o];for(let h=0,m=this.width;h<m;++h)switch(f[h]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Ks{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new le;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Ks.NUM_MASK_PATTERNS}}Ks.NUM_MASK_PATTERNS=8;class Kt extends v{}Kt.kind="WriterException";class tt{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,c,f,h){tt.clearMatrix(h),tt.embedBasicPatterns(c,h),tt.embedTypeInfo(o,f,h),tt.maybeEmbedVersionInfo(c,h),tt.embedDataBits(s,f,h)}static embedBasicPatterns(s,o){tt.embedPositionDetectionPatternsAndSeparators(o),tt.embedDarkDotAtLeftBottomCorner(o),tt.maybeEmbedPositionAdjustmentPatterns(s,o),tt.embedTimingPatterns(o)}static embedTypeInfo(s,o,c){const f=new W;tt.makeTypeInfoBits(s,o,f);for(let h=0,m=f.getSize();h<m;++h){const y=f.get(f.getSize()-1-h),C=tt.TYPE_INFO_COORDINATES[h],N=C[0],T=C[1];if(c.setBoolean(N,T,y),h<8){const F=c.getWidth()-h-1,H=8;c.setBoolean(F,H,y)}else{const H=c.getHeight()-7+(h-8);c.setBoolean(8,H,y)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const c=new W;tt.makeVersionInfoBits(s,c);let f=6*3-1;for(let h=0;h<6;++h)for(let m=0;m<3;++m){const y=c.get(f);f--,o.setBoolean(h,o.getHeight()-11+m,y),o.setBoolean(o.getHeight()-11+m,h,y)}}static embedDataBits(s,o,c){let f=0,h=-1,m=c.getWidth()-1,y=c.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);y>=0&&y<c.getHeight();){for(let C=0;C<2;++C){const N=m-C;if(!tt.isEmpty(c.get(N,y)))continue;let T;f<s.getSize()?(T=s.get(f),++f):T=!1,o!==255&&ct.getDataMaskBit(o,N,y)&&(T=!T),c.setBoolean(N,y,T)}y+=h}h=-h,y+=h,m-=2}if(f!==s.getSize())throw new Kt("Not all bits consumed: "+f+"/"+s.getSize())}static findMSBSet(s){return 32-R.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new E("0 polynomial");const c=tt.findMSBSet(o);for(s<<=c-1;tt.findMSBSet(s)>=c;)s^=o<<tt.findMSBSet(s)-c;return s}static makeTypeInfoBits(s,o,c){if(!Ks.isValidMaskPattern(o))throw new Kt("Invalid mask pattern");const f=s.getBits()<<3|o;c.appendBits(f,5);const h=tt.calculateBCHCode(f,tt.TYPE_INFO_POLY);c.appendBits(h,10);const m=new W;if(m.appendBits(tt.TYPE_INFO_MASK_PATTERN,15),c.xor(m),c.getSize()!==15)throw new Kt("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const c=tt.calculateBCHCode(s.getVersionNumber(),tt.VERSION_INFO_POLY);if(o.appendBits(c,12),o.getSize()!==18)throw new Kt("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const c=(o+1)%2;tt.isEmpty(s.get(o,6))&&s.setNumber(o,6,c),tt.isEmpty(s.get(6,o))&&s.setNumber(6,o,c)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Kt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,c){for(let f=0;f<8;++f){if(!tt.isEmpty(c.get(s+f,o)))throw new Kt;c.setNumber(s+f,o,0)}}static embedVerticalSeparationPattern(s,o,c){for(let f=0;f<7;++f){if(!tt.isEmpty(c.get(s,o+f)))throw new Kt;c.setNumber(s,o+f,0)}}static embedPositionAdjustmentPattern(s,o,c){for(let f=0;f<5;++f){const h=tt.POSITION_ADJUSTMENT_PATTERN[f];for(let m=0;m<5;++m)c.setNumber(s+m,o+f,h[m])}}static embedPositionDetectionPattern(s,o,c){for(let f=0;f<7;++f){const h=tt.POSITION_DETECTION_PATTERN[f];for(let m=0;m<7;++m)c.setNumber(s+m,o+f,h[m])}}static embedPositionDetectionPatternsAndSeparators(s){const o=tt.POSITION_DETECTION_PATTERN[0].length;tt.embedPositionDetectionPattern(0,0,s),tt.embedPositionDetectionPattern(s.getWidth()-o,0,s),tt.embedPositionDetectionPattern(0,s.getWidth()-o,s);const c=8;tt.embedHorizontalSeparationPattern(0,c-1,s),tt.embedHorizontalSeparationPattern(s.getWidth()-c,c-1,s),tt.embedHorizontalSeparationPattern(0,s.getWidth()-c,s);const f=7;tt.embedVerticalSeparationPattern(f,0,s),tt.embedVerticalSeparationPattern(s.getHeight()-f-1,0,s),tt.embedVerticalSeparationPattern(f,s.getHeight()-f,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const c=s.getVersionNumber()-1,f=tt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let h=0,m=f.length;h!==m;h++){const y=f[h];if(y>=0)for(let C=0;C!==m;C++){const N=f[C];N>=0&&tt.isEmpty(o.get(N,y))&&tt.embedPositionAdjustmentPattern(N-2,y-2,o)}}}}tt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),tt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),tt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),tt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),tt.VERSION_INFO_POLY=7973,tt.TYPE_INFO_POLY=1335,tt.TYPE_INFO_MASK_PATTERN=21522;class vp{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class an{constructor(){}static calculateMaskPenalty(s){return ct.applyMaskPenaltyRule1(s)+ct.applyMaskPenaltyRule2(s)+ct.applyMaskPenaltyRule3(s)+ct.applyMaskPenaltyRule4(s)}static encode(s,o,c=null){let f=an.DEFAULT_BYTE_MODE_ENCODING;const h=c!==null&&c.get(vn.CHARACTER_SET)!==void 0;h&&(f=c.get(vn.CHARACTER_SET).toString());const m=this.chooseMode(s,f),y=new W;if(m===et.BYTE&&(h||an.DEFAULT_BYTE_MODE_ENCODING!==f)){const ge=Y.getCharacterSetECIByName(f);ge!==void 0&&this.appendECI(ge,y)}this.appendModeInfo(m,y);const C=new W;this.appendBytes(s,m,C,f);let N;if(c!==null&&c.get(vn.QR_VERSION)!==void 0){const ge=Number.parseInt(c.get(vn.QR_VERSION).toString(),10);N=Ke.getVersionForNumber(ge);const xe=this.calculateBitsNeeded(m,y,C,N);if(!this.willFit(xe,N,o))throw new Kt("Data too big for requested version")}else N=this.recommendVersion(o,m,y,C);const T=new W;T.appendBitArray(y);const F=m===et.BYTE?C.getSizeInBytes():s.length;this.appendLengthInfo(F,N,m,T),T.appendBitArray(C);const H=N.getECBlocksForLevel(o),K=N.getTotalCodewords()-H.getTotalECCodewords();this.terminateBits(K,T);const z=this.interleaveWithECBytes(T,N.getTotalCodewords(),K,H.getNumBlocks()),$=new Ks;$.setECLevel(o),$.setMode(m),$.setVersion(N);const X=N.getDimensionForVersion(),te=new cs(X,X),he=this.chooseMaskPattern(z,o,N,te);return $.setMaskPattern(he),tt.buildMatrix(z,o,N,he,te),$.setMatrix(te),$}static recommendVersion(s,o,c,f){const h=this.calculateBitsNeeded(o,c,f,Ke.getVersionForNumber(1)),m=this.chooseVersion(h,s),y=this.calculateBitsNeeded(o,c,f,m);return this.chooseVersion(y,s)}static calculateBitsNeeded(s,o,c,f){return o.getSize()+s.getCharacterCountBits(f)+c.getSize()}static getAlphanumericCode(s){return s<an.ALPHANUMERIC_TABLE.length?an.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(Y.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return et.KANJI;let c=!1,f=!1;for(let h=0,m=s.length;h<m;++h){const y=s.charAt(h);if(an.isDigit(y))c=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)f=!0;else return et.BYTE}return f?et.ALPHANUMERIC:c?et.NUMERIC:et.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=de.encode(s,Y.SJIS)}catch{return!1}const c=o.length;if(c%2!==0)return!1;for(let f=0;f<c;f+=2){const h=o[f]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(s,o,c,f){let h=Number.MAX_SAFE_INTEGER,m=-1;for(let y=0;y<Ks.NUM_MASK_PATTERNS;y++){tt.buildMatrix(s,o,c,y,f);let C=this.calculateMaskPenalty(f);C<h&&(h=C,m=y)}return m}static chooseVersion(s,o){for(let c=1;c<=40;c++){const f=Ke.getVersionForNumber(c);if(an.willFit(s,f,o))return f}throw new Kt("Data too big")}static willFit(s,o,c){const f=o.getTotalCodewords(),m=o.getECBlocksForLevel(c).getTotalECCodewords(),y=f-m,C=(s+7)/8;return y>=C}static terminateBits(s,o){const c=s*8;if(o.getSize()>c)throw new Kt("data bits cannot fit in the QR Code"+o.getSize()+" > "+c);for(let m=0;m<4&&o.getSize()<c;++m)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let m=f;m<8;m++)o.appendBit(!1);const h=s-o.getSizeInBytes();for(let m=0;m<h;++m)o.appendBits(m&1?17:236,8);if(o.getSize()!==c)throw new Kt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,c,f,h,m){if(f>=c)throw new Kt("Block ID too large");const y=s%c,C=c-y,N=Math.floor(s/c),T=N+1,F=Math.floor(o/c),H=F+1,K=N-F,z=T-H;if(K!==z)throw new Kt("EC bytes mismatch");if(c!==C+y)throw new Kt("RS blocks mismatch");if(s!==(F+K)*C+(H+z)*y)throw new Kt("Total bytes mismatch");f<C?(h[0]=F,m[0]=K):(h[0]=H,m[0]=z)}static interleaveWithECBytes(s,o,c,f){if(s.getSizeInBytes()!==c)throw new Kt("Number of bits and data bytes does not match");let h=0,m=0,y=0;const C=new Array;for(let T=0;T<f;++T){const F=new Int32Array(1),H=new Int32Array(1);an.getNumDataBytesAndNumECBytesForBlockID(o,c,f,T,F,H);const K=F[0],z=new Uint8Array(K);s.toBytes(8*h,z,0,K);const $=an.generateECBytes(z,H[0]);C.push(new vp(z,$)),m=Math.max(m,K),y=Math.max(y,$.length),h+=F[0]}if(c!==h)throw new Kt("Data bytes does not match offset");const N=new W;for(let T=0;T<m;++T)for(const F of C){const H=F.getDataBytes();T<H.length&&N.appendBits(H[T],8)}for(let T=0;T<y;++T)for(const F of C){const H=F.getErrorCorrectionBytes();T<H.length&&N.appendBits(H[T],8)}if(o!==N.getSizeInBytes())throw new Kt("Interleaving error: "+o+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(s,o){const c=s.length,f=new Int32Array(c+o);for(let m=0;m<c;m++)f[m]=s[m]&255;new To(Ce.QR_CODE_FIELD_256).encode(f,o);const h=new Uint8Array(o);for(let m=0;m<o;m++)h[m]=f[c+m];return h}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,c,f){const h=c.getCharacterCountBits(o);if(s>=1<<h)throw new Kt(s+" is bigger than "+((1<<h)-1));f.appendBits(s,h)}static appendBytes(s,o,c,f){switch(o){case et.NUMERIC:an.appendNumericBytes(s,c);break;case et.ALPHANUMERIC:an.appendAlphanumericBytes(s,c);break;case et.BYTE:an.append8BitBytes(s,c,f);break;case et.KANJI:an.appendKanjiBytes(s,c);break;default:throw new Kt("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=an.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const h=an.getDigit(s.charAt(f));if(f+2<c){const m=an.getDigit(s.charAt(f+1)),y=an.getDigit(s.charAt(f+2));o.appendBits(h*100+m*10+y,10),f+=3}else if(f+1<c){const m=an.getDigit(s.charAt(f+1));o.appendBits(h*10+m,7),f+=2}else o.appendBits(h,4),f++}}static appendAlphanumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const h=an.getAlphanumericCode(s.charCodeAt(f));if(h===-1)throw new Kt;if(f+1<c){const m=an.getAlphanumericCode(s.charCodeAt(f+1));if(m===-1)throw new Kt;o.appendBits(h*45+m,11),f+=2}else o.appendBits(h,6),f++}}static append8BitBytes(s,o,c){let f;try{f=de.encode(s,c)}catch(h){throw new Kt(h)}for(let h=0,m=f.length;h!==m;h++){const y=f[h];o.appendBits(y,8)}}static appendKanjiBytes(s,o){let c;try{c=de.encode(s,Y.SJIS)}catch(h){throw new Kt(h)}const f=c.length;for(let h=0;h<f;h+=2){const m=c[h]&255,y=c[h+1]&255,C=m<<8&4294967295|y;let N=-1;if(C>=33088&&C<=40956?N=C-33088:C>=57408&&C<=60351&&(N=C-49472),N===-1)throw new Kt("Invalid byte sequence");const T=(N>>8)*192+(N&255);o.appendBits(T,13)}}static appendECI(s,o){o.appendBits(et.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}an.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),an.DEFAULT_BYTE_MODE_ENCODING=Y.UTF8.getName();class qi{write(s,o,c,f=null){if(s.length===0)throw new E("Found empty contents");if(o<0||c<0)throw new E("Requested dimensions are too small: "+o+"x"+c);let h=Qt.L,m=qi.QUIET_ZONE_SIZE;f!==null&&(f.get(vn.ERROR_CORRECTION)!==void 0&&(h=Qt.fromString(f.get(vn.ERROR_CORRECTION).toString())),f.get(vn.MARGIN)!==void 0&&(m=Number.parseInt(f.get(vn.MARGIN).toString(),10)));const y=an.encode(s,h,f);return this.renderResult(y,o,c,m)}writeToDom(s,o,c,f,h=null){typeof s=="string"&&(s=document.querySelector(s));const m=this.write(o,c,f,h);s&&s.appendChild(m)}renderResult(s,o,c,f){const h=s.getMatrix();if(h===null)throw new me;const m=h.getWidth(),y=h.getHeight(),C=m+f*2,N=y+f*2,T=Math.max(o,C),F=Math.max(c,N),H=Math.min(Math.floor(T/C),Math.floor(F/N)),K=Math.floor((T-m*H)/2),z=Math.floor((F-y*H)/2),$=this.createSVGElement(T,F);for(let X=0,te=z;X<y;X++,te+=H)for(let he=0,ge=K;he<m;he++,ge+=H)if(h.get(he,X)===1){const xe=this.createSvgRectElement(ge,te,H,H);$.appendChild(xe)}return $}createSVGElement(s,o){const c=document.createElementNS(qi.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",o.toString()),c}createSvgRectElement(s,o,c,f){const h=document.createElementNS(qi.SVG_NS,"rect");return h.setAttributeNS(null,"x",s.toString()),h.setAttributeNS(null,"y",o.toString()),h.setAttributeNS(null,"height",c.toString()),h.setAttributeNS(null,"width",f.toString()),h.setAttributeNS(null,"fill","#000000"),h}}qi.QUIET_ZONE_SIZE=4,qi.SVG_NS="http://www.w3.org/2000/svg";class Vi{encode(s,o,c,f,h){if(s.length===0)throw new E("Found empty contents");if(o!==_e.QR_CODE)throw new E("Can only encode QR_CODE, but got "+o);if(c<0||f<0)throw new E(`Requested dimensions are too small: ${c}x${f}`);let m=Qt.L,y=Vi.QUIET_ZONE_SIZE;h!==null&&(h.get(vn.ERROR_CORRECTION)!==void 0&&(m=Qt.fromString(h.get(vn.ERROR_CORRECTION).toString())),h.get(vn.MARGIN)!==void 0&&(y=Number.parseInt(h.get(vn.MARGIN).toString(),10)));const C=an.encode(s,m,h);return Vi.renderResult(C,c,f,y)}static renderResult(s,o,c,f){const h=s.getMatrix();if(h===null)throw new me;const m=h.getWidth(),y=h.getHeight(),C=m+f*2,N=y+f*2,T=Math.max(o,C),F=Math.max(c,N),H=Math.min(Math.floor(T/C),Math.floor(F/N)),K=Math.floor((T-m*H)/2),z=Math.floor((F-y*H)/2),$=new Te(T,F);for(let X=0,te=z;X<y;X++,te+=H)for(let he=0,ge=K;he<m;he++,ge+=H)h.get(he,X)===1&&$.setRegion(ge,te,H,H);return $}}Vi.QUIET_ZONE_SIZE=4;class Nl{encode(s,o,c,f,h){let m;switch(o){case _e.QR_CODE:m=new Vi;break;default:throw new E("No encoder available for format "+o)}return m.encode(s,o,c,f,h)}}class gr extends ce{constructor(s,o,c,f,h,m,y,C){if(super(m,y),this.yuvData=s,this.dataWidth=o,this.dataHeight=c,this.left=f,this.top=h,f+m>o||h+y>c)throw new E("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(m,y)}getRow(s,o){if(s<0||s>=this.getHeight())throw new E("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const c=s*o,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return I.arraycopy(this.yuvData,h,f,0,c),f;for(let m=0;m<o;m++){const y=m*s;I.arraycopy(this.yuvData,h,f,y,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new gr(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,c,f,!1)}renderThumbnail(){const s=this.getWidth()/gr.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/gr.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*o),f=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let m=0;m<o;m++){const y=m*s;for(let C=0;C<s;C++){const N=f[h+C*gr.THUMBNAIL_SCALE_FACTOR]&255;c[y+C]=4278190080|N*65793}h+=this.dataWidth*gr.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/gr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/gr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const c=this.yuvData;for(let f=0,h=this.top*this.dataWidth+this.left;f<o;f++,h+=this.dataWidth){const m=h+s/2;for(let y=h,C=h+s-1;y<m;y++,C--){const N=c[y];c[y]=c[C],c[C]=N}}}invert(){return new ve(this)}}gr.THUMBNAIL_SCALE_FACTOR=2;class Vc extends ce{constructor(s,o,c,f,h,m,y){if(super(o,c),this.dataWidth=f,this.dataHeight=h,this.left=m,this.top=y,s.BYTES_PER_ELEMENT===4){const C=o*c,N=new Uint8ClampedArray(C);for(let T=0;T<C;T++){const F=s[T],H=F>>16&255,K=F>>7&510,z=F&255;N[T]=(H+K+z)/4&255}this.luminances=N}else this.luminances=s;if(f===void 0&&(this.dataWidth=o),h===void 0&&(this.dataHeight=c),m===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+c>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new E("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const c=s*o,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return I.arraycopy(this.luminances,h,f,0,c),f;for(let m=0;m<o;m++){const y=m*s;I.arraycopy(this.luminances,h,f,y,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new Vc(this.luminances,c,f,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new ve(this)}}class Yc extends Y{static forName(s){return this.getCharacterSetECIByName(s)}}class _l{}_l.ISO_8859_1=Y.ISO8859_1;class Sl{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Al{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class Wd{constructor(s){this.previous=s}getPrevious(){return this.previous}}class ka extends Wd{constructor(s,o,c){super(s),this.value=o,this.bitCount=c}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new ka(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ka(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+R.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Do extends ka{constructor(s,o,c){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=c}appendTo(s,o){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):c===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+c],8)}addBinaryShift(s,o){return new Do(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $c(P,s,o){return new Do(P,s,o)}function jo(P,s,o){return new ka(P,s,o)}const Hd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],In=0,Ta=1,lr=2,Gc=3,us=4,yp=new ka(null,0,0),Xc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function wp(P){for(let s of P)D.fill(s,-1);return P[In][us]=0,P[Ta][us]=0,P[Ta][In]=28,P[Gc][us]=0,P[lr][us]=0,P[lr][In]=15,P}const qd=wp(D.createInt32Array(6,6));class Is{constructor(s,o,c,f){this.token=s,this.mode=o,this.binaryShiftByteCount=c,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let c=this.bitCount,f=this.token;if(s!==this.mode){let m=Xc[this.mode][s];f=jo(f,m&65535,m>>16),c+=m>>16}let h=s===lr?4:5;return f=jo(f,o,h),new Is(f,s,0,c+h)}shiftAndAppend(s,o){let c=this.token,f=this.mode===lr?4:5;return c=jo(c,qd[this.mode][s],f),c=jo(c,o,5),new Is(c,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(s){let o=this.token,c=this.mode,f=this.bitCount;if(this.mode===us||this.mode===lr){let y=Xc[c][In];o=jo(o,y&65535,y>>16),f+=y>>16,c=In}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new Is(o,c,this.binaryShiftByteCount+1,f+h);return m.binaryShiftByteCount===2047+31&&(m=m.endBinaryShift(s+1)),m}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=$c(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Is(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(Xc[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=Is.calculateBinaryShiftCost(s)-Is.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let f=this.endBinaryShift(s.length).token;f!==null;f=f.getPrevious())o.unshift(f);let c=new W;for(const f of o)f.appendTo(c,s);return c}toString(){return ie.format("%s bits=%d bytes=%d",Hd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Is.INITIAL_STATE=new Is(yp,In,0,0);function Da(P){const s=ie.getCharCode(" "),o=ie.getCharCode("."),c=ie.getCharCode(",");P[In][s]=1;const f=ie.getCharCode("Z"),h=ie.getCharCode("A");for(let H=h;H<=f;H++)P[In][H]=H-h+2;P[Ta][s]=1;const m=ie.getCharCode("z"),y=ie.getCharCode("a");for(let H=y;H<=m;H++)P[Ta][H]=H-y+2;P[lr][s]=1;const C=ie.getCharCode("9"),N=ie.getCharCode("0");for(let H=N;H<=C;H++)P[lr][H]=H-N+2;P[lr][c]=12,P[lr][o]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let H=0;H<T.length;H++)P[Gc][ie.getCharCode(T[H])]=H;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let H=0;H<F.length;H++)ie.getCharCode(F[H])>0&&(P[us][ie.getCharCode(F[H])]=H);return P}const Qc=Da(D.createInt32Array(5,256));class Io{constructor(s){this.text=s}encode(){const s=ie.getCharCode(" "),o=ie.getCharCode(`
`);let c=Al.singletonList(Is.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let m,y=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case ie.getCharCode("\r"):m=y===o?2:0;break;case ie.getCharCode("."):m=y===s?3:0;break;case ie.getCharCode(","):m=y===s?4:0;break;case ie.getCharCode(":"):m=y===s?5:0;break;default:m=0}m>0?(c=Io.updateStateListForPair(c,h,m),h++):c=this.updateStateListForChar(c,h)}return Al.min(c,(h,m)=>h.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const c=[];for(let f of s)this.updateStateForChar(f,o,c);return Io.simplifyStates(c)}updateStateForChar(s,o,c){let f=this.text[o]&255,h=Qc[s.getMode()][f]>0,m=null;for(let y=0;y<=us;y++){let C=Qc[y][f];if(C>0){if(m==null&&(m=s.endBinaryShift(o)),!h||y===s.getMode()||y===lr){const N=m.latchAndAppend(y,C);c.push(N)}if(!h&&qd[s.getMode()][y]>=0){const N=m.shiftAndAppend(y,C);c.push(N)}}}if(s.getBinaryShiftByteCount()>0||Qc[s.getMode()][f]===0){let y=s.addBinaryShiftChar(o);c.push(y)}}static updateStateListForPair(s,o,c){const f=[];for(let h of s)this.updateStateForPair(h,o,c,f);return this.simplifyStates(f)}static updateStateForPair(s,o,c,f){let h=s.endBinaryShift(o);if(f.push(h.latchAndAppend(us,c)),s.getMode()!==us&&f.push(h.shiftAndAppend(us,c)),c===3||c===4){let m=h.latchAndAppend(lr,16-c).latchAndAppend(lr,1);f.push(m)}if(s.getBinaryShiftByteCount()>0){let m=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(m)}}static simplifyStates(s){let o=[];for(const c of s){let f=!0;for(const h of o){if(h.isBetterThanOrEqualTo(c)){f=!1;break}c.isBetterThanOrEqualTo(h)&&(o=o.filter(m=>m!==h))}f&&o.push(c)}return o}}class _t{constructor(){}static encodeBytes(s){return _t.encode(s,_t.DEFAULT_EC_PERCENT,_t.DEFAULT_AZTEC_LAYERS)}static encode(s,o,c){let f=new Io(s).encode(),h=R.truncDivision(f.getSize()*o,100)+11,m=f.getSize()+h,y,C,N,T,F;if(c!==_t.DEFAULT_AZTEC_LAYERS){if(y=c<0,C=Math.abs(c),C>(y?_t.MAX_NB_BITS_COMPACT:_t.MAX_NB_BITS))throw new E(ie.format("Illegal value %s for layers",c));N=_t.totalBitsInLayer(C,y),T=_t.WORD_SIZE[C];let xe=N-N%T;if(F=_t.stuffBits(f,T),F.getSize()+h>xe)throw new E("Data to large for user specified layer");if(y&&F.getSize()>T*64)throw new E("Data to large for user specified layer")}else{T=0,F=null;for(let xe=0;;xe++){if(xe>_t.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(y=xe<=3,C=y?xe+1:xe,N=_t.totalBitsInLayer(C,y),m>N)continue;(F==null||T!==_t.WORD_SIZE[C])&&(T=_t.WORD_SIZE[C],F=_t.stuffBits(f,T));let Ve=N-N%T;if(!(y&&F.getSize()>T*64)&&F.getSize()+h<=Ve)break}}let H=_t.generateCheckWords(F,N,T),K=F.getSize()/T,z=_t.generateModeMessage(y,C,K),$=(y?11:14)+C*4,X=new Int32Array($),te;if(y){te=$;for(let xe=0;xe<X.length;xe++)X[xe]=xe}else{te=$+1+2*R.truncDivision(R.truncDivision($,2)-1,15);let xe=R.truncDivision($,2),Ve=R.truncDivision(te,2);for(let ht=0;ht<xe;ht++){let _r=ht+R.truncDivision(ht,15);X[xe-ht-1]=Ve-_r-1,X[xe+ht]=Ve+_r+1}}let he=new Te(te);for(let xe=0,Ve=0;xe<C;xe++){let ht=(C-xe)*4+(y?9:12);for(let _r=0;_r<ht;_r++){let yn=_r*2;for(let nr=0;nr<2;nr++)H.get(Ve+yn+nr)&&he.set(X[xe*2+nr],X[xe*2+_r]),H.get(Ve+ht*2+yn+nr)&&he.set(X[xe*2+_r],X[$-1-xe*2-nr]),H.get(Ve+ht*4+yn+nr)&&he.set(X[$-1-xe*2-nr],X[$-1-xe*2-_r]),H.get(Ve+ht*6+yn+nr)&&he.set(X[$-1-xe*2-_r],X[xe*2+nr])}Ve+=ht*8}if(_t.drawModeMessage(he,y,te,z),y)_t.drawBullsEye(he,R.truncDivision(te,2),5);else{_t.drawBullsEye(he,R.truncDivision(te,2),7);for(let xe=0,Ve=0;xe<R.truncDivision($,2)-1;xe+=15,Ve+=16)for(let ht=R.truncDivision(te,2)&1;ht<te;ht+=2)he.set(R.truncDivision(te,2)-Ve,ht),he.set(R.truncDivision(te,2)+Ve,ht),he.set(ht,R.truncDivision(te,2)-Ve),he.set(ht,R.truncDivision(te,2)+Ve)}let ge=new Sl;return ge.setCompact(y),ge.setSize(te),ge.setLayers(C),ge.setCodeWords(K),ge.setMatrix(he),ge}static drawBullsEye(s,o,c){for(let f=0;f<c;f+=2)for(let h=o-f;h<=o+f;h++)s.set(h,o-f),s.set(h,o+f),s.set(o-f,h),s.set(o+f,h);s.set(o-c,o-c),s.set(o-c+1,o-c),s.set(o-c,o-c+1),s.set(o+c,o-c),s.set(o+c,o-c+1),s.set(o+c,o+c-1)}static generateModeMessage(s,o,c){let f=new W;return s?(f.appendBits(o-1,2),f.appendBits(c-1,6),f=_t.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(c-1,11),f=_t.generateCheckWords(f,40,4)),f}static drawModeMessage(s,o,c,f){let h=R.truncDivision(c,2);if(o)for(let m=0;m<7;m++){let y=h-3+m;f.get(m)&&s.set(y,h-5),f.get(m+7)&&s.set(h+5,y),f.get(20-m)&&s.set(y,h+5),f.get(27-m)&&s.set(h-5,y)}else for(let m=0;m<10;m++){let y=h-5+m+R.truncDivision(m,5);f.get(m)&&s.set(y,h-7),f.get(m+10)&&s.set(h+7,y),f.get(29-m)&&s.set(y,h+7),f.get(39-m)&&s.set(h-7,y)}}static generateCheckWords(s,o,c){let f=s.getSize()/c,h=new To(_t.getGF(c)),m=R.truncDivision(o,c),y=_t.bitsToWords(s,c,m);h.encode(y,m-f);let C=o%c,N=new W;N.appendBits(0,C);for(const T of Array.from(y))N.appendBits(T,c);return N}static bitsToWords(s,o,c){let f=new Int32Array(c),h,m;for(h=0,m=s.getSize()/o;h<m;h++){let y=0;for(let C=0;C<o;C++)y|=s.get(h*o+C)?1<<o-C-1:0;f[h]=y}return f}static getGF(s){switch(s){case 4:return Ce.AZTEC_PARAM;case 6:return Ce.AZTEC_DATA_6;case 8:return Ce.AZTEC_DATA_8;case 10:return Ce.AZTEC_DATA_10;case 12:return Ce.AZTEC_DATA_12;default:throw new E("Unsupported word size "+s)}}static stuffBits(s,o){let c=new W,f=s.getSize(),h=(1<<o)-2;for(let m=0;m<f;m+=o){let y=0;for(let C=0;C<o;C++)(m+C>=f||s.get(m+C))&&(y|=1<<o-1-C);(y&h)===h?(c.appendBits(y&h,o),m--):y&h?c.appendBits(y,o):(c.appendBits(y|1,o),m--)}return c}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}_t.DEFAULT_EC_PERCENT=33,_t.DEFAULT_AZTEC_LAYERS=0,_t.MAX_NB_BITS=32,_t.MAX_NB_BITS_COMPACT=4,_t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ro{encode(s,o,c,f){return this.encodeWithHints(s,o,c,f,null)}encodeWithHints(s,o,c,f,h){let m=_l.ISO_8859_1,y=_t.DEFAULT_EC_PERCENT,C=_t.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(vn.CHARACTER_SET)&&(m=Yc.forName(h.get(vn.CHARACTER_SET).toString())),h.has(vn.ERROR_CORRECTION)&&(y=R.parseInt(h.get(vn.ERROR_CORRECTION).toString())),h.has(vn.AZTEC_LAYERS)&&(C=R.parseInt(h.get(vn.AZTEC_LAYERS).toString()))),Ro.encodeLayers(s,o,c,f,m,y,C)}static encodeLayers(s,o,c,f,h,m,y){if(o!==_e.AZTEC)throw new E("Can only encode AZTEC, but got "+o);let C=_t.encode(ie.getBytes(s,h),m,y);return Ro.renderResult(C,c,f)}static renderResult(s,o,c){let f=s.getMatrix();if(f==null)throw new me;let h=f.getWidth(),m=f.getHeight(),y=Math.max(o,h),C=Math.max(c,m),N=Math.min(y/h,C/m),T=(y-h*N)/2,F=(C-m*N)/2,H=new Te(y,C);for(let K=0,z=F;K<m;K++,z+=N)for(let $=0,X=T;$<h;$++,X+=N)f.get($,K)&&H.setRegion(X,z,N,N);return H}}n.AbstractExpandedDecoder=Pc,n.ArgumentException=w,n.ArithmeticException=ln,n.AztecCode=Sl,n.AztecCodeReader=Ss,n.AztecCodeWriter=Ro,n.AztecDecoder=qe,n.AztecDetector=is,n.AztecDetectorResult=pr,n.AztecEncoder=_t,n.AztecHighLevelEncoder=Io,n.AztecPoint=dn,n.BarcodeFormat=_e,n.Binarizer=A,n.BinaryBitmap=_,n.BitArray=W,n.BitMatrix=Te,n.BitSource=wl,n.BrowserAztecCodeReader=Fi,n.BrowserBarcodeReader=Id,n.BrowserCodeReader=ke,n.BrowserDatamatrixCodeReader=Rd,n.BrowserMultiFormatReader=Gr,n.BrowserPDF417Reader=xp,n.BrowserQRCodeReader=zd,n.BrowserQRCodeSvgWriter=qi,n.CharacterSetECI=Y,n.ChecksumException=k,n.Code128Reader=je,n.Code39Reader=rn,n.DataMatrixDecodedBitStreamParser=Ds,n.DataMatrixReader=ls,n.DecodeHintType=U,n.DecoderResult=on,n.DefaultGridSampler=nn,n.DetectorResult=gn,n.EAN13Reader=mi,n.EncodeHintType=vn,n.Exception=v,n.FormatException=O,n.GenericGF=Ce,n.GenericGFPoly=kt,n.GlobalHistogramBinarizer=Se,n.GridSampler=Ze,n.GridSamplerInstance=Gt,n.HTMLCanvasElementLuminanceSource=Oe,n.HybridBinarizer=we,n.ITFReader=jt,n.IllegalArgumentException=E,n.IllegalStateException=me,n.InvertedLuminanceSource=ve,n.LuminanceSource=ce,n.MathUtils=ft,n.MultiFormatOneDReader=zi,n.MultiFormatReader=Ud,n.MultiFormatWriter=Nl,n.NotFoundException=ne,n.OneDReader=tn,n.PDF417DecodedBitStreamParser=fe,n.PDF417DecoderErrorCorrection=Md,n.PDF417Reader=Gn,n.PDF417ResultMetadata=Hc,n.PerspectiveTransform=Rt,n.PlanarYUVLuminanceSource=gr,n.QRCodeByteMatrix=cs,n.QRCodeDataMask=Er,n.QRCodeDecodedBitStreamParser=cn,n.QRCodeDecoderErrorCorrectionLevel=Qt,n.QRCodeDecoderFormatInformation=er,n.QRCodeEncoder=an,n.QRCodeEncoderQRCode=Ks,n.QRCodeMaskUtil=ct,n.QRCodeMatrixUtil=tt,n.QRCodeMode=et,n.QRCodeReader=gi,n.QRCodeVersion=Ke,n.QRCodeWriter=Vi,n.RGBLuminanceSource=Vc,n.RSS14Reader=fn,n.RSSExpandedReader=Ee,n.ReaderException=or,n.ReedSolomonDecoder=Me,n.ReedSolomonEncoder=To,n.ReedSolomonException=Ge,n.Result=Xe,n.ResultMetadataType=lt,n.ResultPoint=Ne,n.StringUtils=ie,n.UnsupportedOperationException=ee,n.VideoInputDevice=Ye,n.WhiteRectangleDetector=Ie,n.WriterException=Kt,n.ZXingArrays=D,n.ZXingCharset=Yc,n.ZXingInteger=R,n.ZXingStandardCharsets=_l,n.ZXingStringBuilder=le,n.ZXingStringEncoding=de,n.ZXingSystem=I,n.createAbstractExpandedDecoder=jd,Object.defineProperty(n,"__esModule",{value:!0})})})(Ng,Ng.exports);var pn=Ng.exports;const J9=Ch(pn),eL=f3({__proto__:null,default:J9},[pn]);var pb=function(){function e(t,n,r){if(this.formatMap=new Map([[ze.QR_CODE,pn.BarcodeFormat.QR_CODE],[ze.AZTEC,pn.BarcodeFormat.AZTEC],[ze.CODABAR,pn.BarcodeFormat.CODABAR],[ze.CODE_39,pn.BarcodeFormat.CODE_39],[ze.CODE_93,pn.BarcodeFormat.CODE_93],[ze.CODE_128,pn.BarcodeFormat.CODE_128],[ze.DATA_MATRIX,pn.BarcodeFormat.DATA_MATRIX],[ze.MAXICODE,pn.BarcodeFormat.MAXICODE],[ze.ITF,pn.BarcodeFormat.ITF],[ze.EAN_13,pn.BarcodeFormat.EAN_13],[ze.EAN_8,pn.BarcodeFormat.EAN_8],[ze.PDF_417,pn.BarcodeFormat.PDF_417],[ze.RSS_14,pn.BarcodeFormat.RSS_14],[ze.RSS_EXPANDED,pn.BarcodeFormat.RSS_EXPANDED],[ze.UPC_A,pn.BarcodeFormat.UPC_A],[ze.UPC_E,pn.BarcodeFormat.UPC_E],[ze.UPC_EAN_EXTENSION,pn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!eL)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),a=new Map;a.set(pn.DecodeHintType.POSSIBLE_FORMATS,i),a.set(pn.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var n=new pn.MultiFormatReader(this.verbose,this.hints),r=new pn.HTMLCanvasElementLuminanceSource(t),i=new pn.BinaryBitmap(new pn.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:sN.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),tL=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(w){try{v(r.next(w))}catch(E){d(E)}}function x(w){try{v(r.throw(w))}catch(E){d(E)}}function v(w){w.done?a(w.value):i(w.value).then(g,x)}v((r=r.apply(e,t||[])).next())})},nL=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(v){return function(w){return x([v,w])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(a=v[0]&2?i.return:v[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,v[1])).done)return a;switch(i=0,a&&(v=[v[0]&2,a.value]),v[0]){case 0:case 1:a=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!a||v[1]>a[0]&&v[1]<a[3])){n.label=v[1];break}if(v[0]===6&&n.label<a[1]){n.label=a[1],a=v;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(v);break}a[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=a=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},mb=function(){function e(t,n,r){if(this.formatMap=new Map([[ze.QR_CODE,"qr_code"],[ze.AZTEC,"aztec"],[ze.CODABAR,"codabar"],[ze.CODE_39,"code_39"],[ze.CODE_93,"code_93"],[ze.CODE_128,"code_128"],[ze.DATA_MATRIX,"data_matrix"],[ze.ITF,"itf"],[ze.EAN_13,"ean_13"],[ze.EAN_8,"ean_8"],[ze.PDF_417,"pdf417"],[ze.UPC_A,"upc_a"],[ze.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return tL(this,void 0,void 0,function(){var n,r;return nL(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:sN.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,a=t;i<a.length;i++){var d=a[i],g=d.boundingBox.width*d.boundingBox.height;g>r&&(r=g,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),gb=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(w){try{v(r.next(w))}catch(E){d(E)}}function x(w){try{v(r.throw(w))}catch(E){d(E)}}function v(w){w.done?a(w.value):i(w.value).then(g,x)}v((r=r.apply(e,t||[])).next())})},xb=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(v){return function(w){return x([v,w])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(a=v[0]&2?i.return:v[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,v[1])).done)return a;switch(i=0,a&&(v=[v[0]&2,a.value]),v[0]){case 0:case 1:a=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!a||v[1]>a[0]&&v[1]<a[3])){n.label=v[1];break}if(v[0]===6&&n.label<a[1]){n.label=a[1],a=v;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(v);break}a[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=a=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},rL=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&mb.isSupported()?(this.primaryDecoder=new mb(t,r,i),this.secondaryDecoder=new pb(t,r,i)):this.primaryDecoder=new pb(t,r,i)}return e.prototype.decodeAsync=function(t){return gb(this,void 0,void 0,function(){var n;return xb(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return gb(this,void 0,void 0,function(){var n,r;return xb(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),a2=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ch=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(w){try{v(r.next(w))}catch(E){d(E)}}function x(w){try{v(r.throw(w))}catch(E){d(E)}}function v(w){w.done?a(w.value):i(w.value).then(g,x)}v((r=r.apply(e,t||[])).next())})},uh=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(v){return function(w){return x([v,w])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(a=v[0]&2?i.return:v[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,v[1])).done)return a;switch(i=0,a&&(v=[v[0]&2,a.value]),v[0]){case 0:case 1:a=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!a||v[1]>a[0]&&v[1]<a[3])){n.label=v[1];break}if(v[0]===6&&n.label<a[1]){n.label=a[1],a=v;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(v);break}a[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=a=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},aN=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),sL=function(e){a2(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(aN),iL=function(e){a2(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(sL),aL=function(e){a2(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(aN),oL=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new iL(this.track)},e.prototype.torchFeature=function(){return new aL(this.track)},e}(),lL=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return ch(this,void 0,void 0,function(){var a,d;return uh(this,function(g){switch(g.label){case 0:return a=new e(t,n,i),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:g.sent(),g.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return ch(this,void 0,void 0,function(){return uh(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),a=i.length,d=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++d,d>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new oL(this.getFirstTrackOrFail())},e}(),cL=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return ch(this,void 0,void 0,function(){return uh(this,function(i){return[2,lL.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return ch(this,void 0,void 0,function(){var n,r;return uh(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),vb=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(w){try{v(r.next(w))}catch(E){d(E)}}function x(w){try{v(r.throw(w))}catch(E){d(E)}}function v(w){w.done?a(w.value):i(w.value).then(g,x)}v((r=r.apply(e,t||[])).next())})},yb=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(v){return function(w){return x([v,w])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(a=v[0]&2?i.return:v[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,v[1])).done)return a;switch(i=0,a&&(v=[v[0]&2,a.value]),v[0]){case 0:case 1:a=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!a||v[1]>a[0]&&v[1]<a[3])){n.label=v[1];break}if(v[0]===6&&n.label<a[1]){n.label=a[1],a=v;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(v);break}a[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=a=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},uL=function(){function e(){}return e.failIfNotSupported=function(){return vb(this,void 0,void 0,function(){return yb(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return vb(this,void 0,void 0,function(){return yb(this,function(n){return[2,cL.create(t)]})})},e}(),dL=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(w){try{v(r.next(w))}catch(E){d(E)}}function x(w){try{v(r.throw(w))}catch(E){d(E)}}function v(w){w.done?a(w.value):i(w.value).then(g,x)}v((r=r.apply(e,t||[])).next())})},fL=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(v){return function(w){return x([v,w])}}function x(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(a=v[0]&2?i.return:v[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,v[1])).done)return a;switch(i=0,a&&(v=[v[0]&2,a.value]),v[0]){case 0:case 1:a=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!a||v[1]>a[0]&&v[1]<a[3])){n.label=v[1];break}if(v[0]===6&&n.label<a[1]){n.label=a[1],a=v;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(v);break}a[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=a=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},hL=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Zl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Zl.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return dL(this,void 0,void 0,function(){var t,n,r,i,a,d,g;return fL(this,function(x){switch(x.label){case 0:return t=function(v){for(var w=v.getVideoTracks(),E=0,_=w;E<_.length;E++){var k=_[E];k.enabled=!1,k.stop(),v.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=x.sent(),i=[],a=0,d=r;a<d.length;a++)g=d[a],g.kind==="videoinput"&&i.push({id:g.deviceId,label:g.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var d=[],g=0,x=a;g<x.length;g++){var v=x[g];v.kind==="video"&&d.push({id:v.id,label:v.label})}t(d)},i=MediaStreamTrack;i.getSources(r)})},e}(),On;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(On||(On={}));var pL=function(){function e(){this.state=On.NOT_STARTED,this.onGoingTransactionNewState=On.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===On.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=On.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===On.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=On.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==On.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case On.UNKNOWN:throw"Transition from unknown is not allowed";case On.NOT_STARTED:this.failIfNewStateIs(t,[On.PAUSED]);break;case On.SCANNING:break;case On.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),mL=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===On.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==On.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===On.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===On.PAUSED},e}(),gL=function(){function e(){}return e.create=function(){return new mL(new pL)},e}(),xL=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gs=function(e){xL(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Q9),vL=function(){function e(t,n){this.logger=n,this.fps=gs.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=gs.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?iN.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!na(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),yL=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Z9(this.verbose),this.qrcode=new rL(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=gL.create()}return e.prototype.start=function(t,n,r,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;i?d=i:d=this.verbose?this.logger.log:function(){};var g=vL.create(n,this.logger);this.clearElement();var x=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=x,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:gs.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var E=this,_=this.stateManagerProxy.startTransition(On.SCANNING);return new Promise(function(k,A){var I=v?g.videoConstraints:E.createVideoConstraints(t);if(!I){_.cancel(),A("videoConstraints should be defined");return}var L={};(!v||g.aspectRatio)&&(L.aspectRatio=g.aspectRatio);var j={onRenderSurfaceReady:function(D,R){E.setupUi(D,R,g),E.isScanning=!0,E.foreverScan(g,r,d)}};uL.failIfNotSupported().then(function(D){D.create(I).then(function(R){return R.render(a.element,L,j).then(function(W){E.renderedCamera=W,_.execute(),k(null)}).catch(function(W){_.cancel(),A(W)})}).catch(function(R){_.cancel(),A(Zl.errorGettingUserMedia(R))})}).catch(function(D){_.cancel(),A(Zl.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(On.PAUSED),this.showPausedState(),(na(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(On.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(On.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(gs.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(na(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var g=d.width,x=d.height,v=document.getElementById(r.elementId),w=v.clientWidth?v.clientWidth:gs.DEFAULT_WIDTH,E=Math.max(v.clientHeight?v.clientHeight:x,gs.FILE_SCAN_MIN_HEIGHT),_=r.computeCanvasDrawConfig(g,x,w,E);if(n){var k=r.createCanvasElement(w,E,"qr-canvas-visible");k.style.display="inline-block",v.appendChild(k);var A=k.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=w,A.canvas.height=E,A.drawImage(d,0,0,g,x,_.x,_.y,_.width,_.height)}var I=gs.FILE_SCAN_HIDDEN_CANVAS_PADDING,L=Math.max(d.width,_.width),j=Math.max(d.height,_.height),D=L+2*I,R=j+2*I,W=r.createCanvasElement(D,R);v.appendChild(W);var Z=W.getContext("2d");if(!Z)throw"Unable to get 2d context from canvas";Z.canvas.width=D,Z.canvas.height=R,Z.drawImage(d,0,0,g,x,I,I,L,j);try{r.qrcode.decodeRobustlyAsync(W).then(function(U){i(hb.createFromQrcodeResult(U))}).catch(a)}catch(U){a("QR code parse error, error = ".concat(U))}},d.onerror=a,d.onabort=a,d.onstalled=a,d.onsuspend=a,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return hL.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!iN.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ze.QR_CODE,ze.AZTEC,ze.CODABAR,ze.CODE_39,ze.CODE_93,ze.CODE_128,ze.DATA_MATRIX,ze.MAXICODE,ze.ITF,ze.EAN_13,ze.EAN_8,ze.PDF_417,ze.RSS_14,ze.RSS_EXPANDED,ze.UPC_A,ze.UPC_E,ze.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=t.formatsToSupport;i<a.length;i++){var d=a[i];X9(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(na(t))return!0;if(!na(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(na(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return na(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var d=this.toQrdimensions(t,n,a),g=function(v){if(v<gs.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(gs.MIN_QR_BOX_SIZE,"px.")},x=function(v){return v>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=t),v};g(d.width),g(d.height),d.width=x(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=na(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&a.height<=n,g={x:0,y:0,width:t,height:n},x=d?this.getShadedRegionBounds(t,n,a):g,v=this.createCanvasElement(x.width,x.height),w={willReadFrequently:!0},E=v.getContext("2d",w);E.canvas.width=x.width,E.canvas.height=x.height,this.element.append(v),d&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=E,this.canvasElement=v},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Zl.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,hb.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=Zl.codeParseError(i);return n(a,K9.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),d=a.videoWidth/a.clientWidth,g=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*d,v=this.qrRegion.height*g,w=this.qrRegion.x*d,E=this.qrRegion.y*g;this.context.drawImage(a,w,E,x,v,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(k){!k&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){_()})):_()}).catch(function(k){i.logger.logError("Error happend while scanning context",k),_()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",d=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var v=t.facingMode;if(typeof v=="string"){if(d(v))return{facingMode:v}}else if(typeof v=="object")if(a in v){if(d(v["".concat(a)]))return{facingMode:{exact:v["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var w=typeof v;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var E=t.deviceId;if(typeof E=="string")return{deviceId:E};if(typeof E=="object"){if(a in E)return{deviceId:{exact:E["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var _=typeof E;throw"Invalid type of 'deviceId' = ".concat(_)}}}var k=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var a=(r-t)/2,d=(i-n)/2;return{x:a,y:d,width:t,height:n}}else{var g=t,x=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?gs.BORDER_SHADER_MATCH_COLOR:gs.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,a=n,d=document.createElement("canvas");return d.style.width="".concat(i,"px"),d.style.height="".concat(a,"px"),d.style.display="none",d.id=na(r)?"qr-canvas":r,d},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var d=(n-i.width)/2,g=(r-i.height)/2;if(a.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(gs.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var x=5,v=40;this.insertShaderBorders(a,v,x,-x,null,0,!0),this.insertShaderBorders(a,v,x,-x,null,0,!1),this.insertShaderBorders(a,v,x,null,-x,0,!0),this.insertShaderBorders(a,v,x,null,-x,0,!1),this.insertShaderBorders(a,x,v+x,-x,null,-x,!0),this.insertShaderBorders(a,x,v+x,null,-x,-x,!0),this.insertShaderBorders(a,x,v+x,-x,null,-x,!1),this.insertShaderBorders(a,x,v+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,i,a,d,g){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=gs.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(r,"px"),i!==null&&(x.style.top="".concat(i,"px")),a!==null&&(x.style.bottom="".concat(a,"px")),g?x.style.left="".concat(d,"px"):x.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var wb;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(wb||(wb={}));const oN=({onScan:e,onError:t=i=>console.error(i),isOpen:n,onClose:r})=>{const[i,a]=M.useState(!1),[d,g]=M.useState(""),x=M.useRef(null),v=M.useRef(null);M.useEffect(()=>(n&&!i&&w(),()=>{E()}),[n]);const w=async()=>{if(x.current)try{const k=new yL("scanner");v.current=k;const A={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[1,2,3,4,5,6,7,8,9,10,11,12]};await k.start({facingMode:"environment"},A,I=>{e(I),E(),r()},I=>{console.log(I)}),a(!0)}catch(k){console.error("Error starting scanner:",k);let A="",I="";k.name==="NotFoundError"||k.message&&k.message.includes("Requested device not found")?(A="No camera found. Please make sure your device has a camera and you have granted permission to use it.",I="No camera detected. You can manually enter the barcode value instead.",ot.error(I,{icon:"📷❌",toastId:"camera-not-found"})):k.name==="NotAllowedError"||k.message&&k.message.includes("Permission denied")?(A="Camera access denied. Please grant permission to use your camera.",I="Camera access denied. Please check your browser permissions.",ot.error(I,{icon:"🔒",toastId:"camera-permission-denied"})):(A=k&&k.message?k.message:"Failed to start scanner",ot.error("Failed to start barcode scanner. Please try again later.",{toastId:"scanner-error"})),g(A),t(A),r()}},E=async()=>{if(v.current&&i)try{await v.current.stop(),a(!1)}catch(k){console.error("Error stopping scanner:",k)}},_=()=>{E(),r()};return n?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Scan Barcode"}),l.jsx("button",{onClick:_,className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"mb-4",children:l.jsx("div",{id:"scanner",ref:x,className:"w-full h-64 bg-gray-100 rounded flex items-center justify-center",children:d&&l.jsxs("div",{className:"text-center p-4",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-red-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),l.jsx("p",{className:"text-red-600 font-medium",children:d}),l.jsx("p",{className:"text-gray-600 mt-2",children:"You can manually enter the barcode value instead."})]})})}),l.jsx("div",{className:"text-sm text-gray-500 mb-4",children:d?"To use the barcode scanner, you need a device with a camera and permission to access it.":"Position the barcode within the scanner area. The scanner will automatically detect and process the code."}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:_,className:"btn btn-outline",children:"Cancel"})})]})}):null};oN.propTypes={onScan:se.func.isRequired,onError:se.func,isOpen:se.bool.isRequired,onClose:se.func.isRequired};const lN=({id:e="",onScan:t,buttonText:n="",className:r=""})=>{const[i,a]=M.useState(!1),d=()=>{a(!0)},g=()=>{a(!1)},x=v=>{console.error("Scan error:",v)};return l.jsxs(l.Fragment,{children:[l.jsxs("button",{id:e,type:"button",onClick:d,className:`flex items-center justify-center px-3 py-1.5 text-sm font-medium rounded-md
          bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
          hover:border-primary-600 hover:shadow-sm transition-all ${r}`,title:"Scan Barcode",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),n&&l.jsx("span",{className:"ml-1 font-medium",children:n})]}),l.jsx(oN,{isOpen:i,onClose:g,onScan:t,onError:x})]})};lN.propTypes={id:se.string,onScan:se.func.isRequired,buttonText:se.string,className:se.string};const cN=({id:e,name:t,type:n="text",label:r,placeholder:i,value:a,onChange:d,onBlur:g,error:x,disabled:v=!1,required:w=!1,className:E="",onScan:_,...k})=>{const j=`
    rounded-l-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${x?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${v?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 px-3 text-sm
    w-full
    ${E}
  `,D=`barcode-scan-button-${e}`;return l.jsxs("div",{className:"w-full",children:[r&&l.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${x?"text-red-600":"text-slate-700"}`,children:[r,w&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsxs("div",{className:"flex",style:{display:"flex",width:"100%"},children:[l.jsx("input",{id:e,name:t,type:n,value:a,onChange:d,onBlur:g,placeholder:i,disabled:v,required:w,className:j,style:{width:"calc(100% - 120px)"},...k}),l.jsxs("button",{type:"button",onClick:()=>{const R=document.getElementById(D);R&&R.click()},className:`w-[120px] bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
            hover:border-primary-600 hover:shadow-sm transition-all font-medium flex items-center
            justify-center rounded-r-md border-l-0`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Scan"]}),l.jsx("div",{style:{display:"none"},children:l.jsx(lN,{id:D,onScan:_})})]}),x&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:x})]})};cN.propTypes={id:se.string.isRequired,name:se.string.isRequired,type:se.string,label:se.string,placeholder:se.string,value:se.oneOfType([se.string,se.number]),onChange:se.func,onBlur:se.func,error:se.string,disabled:se.bool,required:se.bool,className:se.string,onScan:se.func.isRequired};const ws=({id:e,name:t,label:n,value:r,onChange:i,onBlur:a,options:d=[],error:g,disabled:x=!1,required:v=!1,placeholder:w="Select an option",className:E="",..._})=>{const L=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none
    ${g?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900"}
    ${x?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 pl-3 pr-10 text-sm
    ${E}
  `;return l.jsxs("div",{className:"w-full",children:[n&&l.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${g?"text-red-600":"text-slate-700"}`,children:[n,v&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{id:e,name:t,value:r,onChange:i,onBlur:a,disabled:x,required:v,className:L,..._,children:[l.jsx("option",{value:"",children:w}),d.map(j=>l.jsx("option",{value:j.value||j,children:j.label||j},j.value||j))]}),l.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:l.jsx("svg",{className:"h-5 w-5 text-slate-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:l.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),g&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g})]})};ws.propTypes={id:se.string.isRequired,name:se.string.isRequired,label:se.string,value:se.string,onChange:se.func,onBlur:se.func,options:se.arrayOf(se.oneOfType([se.string,se.shape({value:se.string.isRequired,label:se.string.isRequired})])),error:se.string,disabled:se.bool,required:se.bool,placeholder:se.string,className:se.string};const ut=({children:e,className:t="",...n})=>l.jsx("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden ${t}`,...n,children:e}),uN=({children:e,className:t="",...n})=>l.jsx("div",{className:`px-6 py-4 border-b border-slate-200 ${t}`,...n,children:e}),dN=({children:e,className:t="",...n})=>l.jsx("h3",{className:`text-lg font-medium text-slate-800 ${t}`,...n,children:e}),fN=({children:e,className:t="",...n})=>l.jsx("div",{className:`p-6 ${t}`,...n,children:e}),hN=({children:e,className:t="",...n})=>l.jsx("div",{className:`px-6 py-4 bg-slate-50 border-t border-slate-200 ${t}`,...n,children:e});ut.Header=uN;ut.Title=dN;ut.Body=fN;ut.Footer=hN;ut.propTypes={children:se.node.isRequired,className:se.string};uN.propTypes={children:se.node.isRequired,className:se.string};dN.propTypes={children:se.node.isRequired,className:se.string};fN.propTypes={children:se.node.isRequired,className:se.string};hN.propTypes={children:se.node.isRequired,className:se.string};const vs=({children:e,variant:t="primary",size:n="md",className:r="",...i})=>{const a="inline-flex items-center font-medium rounded-full",d={primary:"bg-primary-100 text-primary-800",secondary:"bg-slate-100 text-slate-800",success:"bg-green-100 text-green-800",danger:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",info:"bg-blue-100 text-blue-800"},g={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"},x=`
    ${a}
    ${d[t]||d.primary}
    ${g[n]||g.md}
    ${r}
  `;return l.jsx("span",{className:x,...i,children:e})};vs.propTypes={children:se.node.isRequired,variant:se.oneOf(["primary","secondary","success","danger","warning","info"]),size:se.oneOf(["sm","md","lg"]),className:se.string};function rp(){return typeof window<"u"}function Oc(e){return pN(e)?(e.nodeName||"").toLowerCase():"#document"}function Cs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pi(e){var t;return(t=(pN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pN(e){return rp()?e instanceof Node||e instanceof Cs(e).Node:!1}function Hr(e){return rp()?e instanceof Element||e instanceof Cs(e).Element:!1}function Mi(e){return rp()?e instanceof HTMLElement||e instanceof Cs(e).HTMLElement:!1}function bb(e){return!rp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cs(e).ShadowRoot}function Cd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Gs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function wL(e){return["table","td","th"].includes(Oc(e))}function sp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function o2(e){const t=l2(),n=Hr(e)?Gs(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function bL(e){let t=fo(e);for(;Mi(t)&&!wc(t);){if(o2(t))return t;if(sp(t))return null;t=fo(t)}return null}function l2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wc(e){return["html","body","#document"].includes(Oc(e))}function Gs(e){return Cs(e).getComputedStyle(e)}function ip(e){return Hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fo(e){if(Oc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bb(e)&&e.host||Pi(e);return bb(t)?t.host:t}function mN(e){const t=fo(e);return wc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mi(t)&&Cd(t)?t:mN(t)}function dd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=mN(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),d=Cs(i);if(a){const g=_g(d);return t.concat(d,d.visualViewport||[],Cd(i)?i:[],g&&n?dd(g):[])}return t.concat(i,dd(i,[],n))}function _g(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const bc=Math.min,nl=Math.max,dh=Math.round,Vf=Math.floor,Oi=e=>({x:e,y:e}),CL={left:"right",right:"left",bottom:"top",top:"bottom"},EL={start:"end",end:"start"};function NL(e,t,n){return nl(e,bc(t,n))}function ap(e,t){return typeof e=="function"?e(t):e}function Cc(e){return e.split("-")[0]}function Ed(e){return e.split("-")[1]}function _L(e){return e==="x"?"y":"x"}function c2(e){return e==="y"?"height":"width"}function ic(e){return["top","bottom"].includes(Cc(e))?"y":"x"}function u2(e){return _L(ic(e))}function SL(e,t,n){n===void 0&&(n=!1);const r=Ed(e),i=u2(e),a=c2(i);let d=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(d=fh(d)),[d,fh(d)]}function AL(e){const t=fh(e);return[Sg(e),t,Sg(t)]}function Sg(e){return e.replace(/start|end/g,t=>EL[t])}function kL(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:d;default:return[]}}function TL(e,t,n,r){const i=Ed(e);let a=kL(Cc(e),n==="start",r);return i&&(a=a.map(d=>d+"-"+i),t&&(a=a.concat(a.map(Sg)))),a}function fh(e){return e.replace(/left|right|bottom|top/g,t=>CL[t])}function DL(e){return{top:0,right:0,bottom:0,left:0,...e}}function gN(e){return typeof e!="number"?DL(e):{top:e,right:e,bottom:e,left:e}}function hh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var ph=typeof document<"u"?M.useLayoutEffect:M.useEffect;const jL={...zg},IL=jL.useInsertionEffect,RL=IL||(e=>e());function OL(e){const t=M.useRef(()=>{});return RL(()=>{t.current=e}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function Cb(e,t,n){let{reference:r,floating:i}=e;const a=ic(t),d=u2(t),g=c2(d),x=Cc(t),v=a==="y",w=r.x+r.width/2-i.width/2,E=r.y+r.height/2-i.height/2,_=r[g]/2-i[g]/2;let k;switch(x){case"top":k={x:w,y:r.y-i.height};break;case"bottom":k={x:w,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:E};break;case"left":k={x:r.x-i.width,y:E};break;default:k={x:r.x,y:r.y}}switch(Ed(t)){case"start":k[d]-=_*(n&&v?-1:1);break;case"end":k[d]+=_*(n&&v?-1:1);break}return k}const ML=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:d}=n,g=a.filter(Boolean),x=await(d.isRTL==null?void 0:d.isRTL(t));let v=await d.getElementRects({reference:e,floating:t,strategy:i}),{x:w,y:E}=Cb(v,r,x),_=r,k={},A=0;for(let I=0;I<g.length;I++){const{name:L,fn:j}=g[I],{x:D,y:R,data:W,reset:Z}=await j({x:w,y:E,initialPlacement:r,placement:_,strategy:i,middlewareData:k,rects:v,platform:d,elements:{reference:e,floating:t}});w=D??w,E=R??E,k={...k,[L]:{...k[L],...W}},Z&&A<=50&&(A++,typeof Z=="object"&&(Z.placement&&(_=Z.placement),Z.rects&&(v=Z.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:i}):Z.rects),{x:w,y:E}=Cb(v,_,x)),I=-1)}return{x:w,y:E,placement:_,strategy:i,middlewareData:k}};async function LL(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:d,elements:g,strategy:x}=e,{boundary:v="clippingAncestors",rootBoundary:w="viewport",elementContext:E="floating",altBoundary:_=!1,padding:k=0}=ap(t,e),A=gN(k),L=g[_?E==="floating"?"reference":"floating":E],j=hh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(L)))==null||n?L:L.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(g.floating)),boundary:v,rootBoundary:w,strategy:x})),D=E==="floating"?{x:r,y:i,width:d.floating.width,height:d.floating.height}:d.reference,R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(g.floating)),W=await(a.isElement==null?void 0:a.isElement(R))?await(a.getScale==null?void 0:a.getScale(R))||{x:1,y:1}:{x:1,y:1},Z=hh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:g,rect:D,offsetParent:R,strategy:x}):D);return{top:(j.top-Z.top+A.top)/W.y,bottom:(Z.bottom-j.bottom+A.bottom)/W.y,left:(j.left-Z.left+A.left)/W.x,right:(Z.right-j.right+A.right)/W.x}}const PL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:d,elements:g,middlewareData:x}=t,{element:v,padding:w=0}=ap(e,t)||{};if(v==null)return{};const E=gN(w),_={x:n,y:r},k=u2(i),A=c2(k),I=await d.getDimensions(v),L=k==="y",j=L?"top":"left",D=L?"bottom":"right",R=L?"clientHeight":"clientWidth",W=a.reference[A]+a.reference[k]-_[k]-a.floating[A],Z=_[k]-a.reference[k],U=await(d.getOffsetParent==null?void 0:d.getOffsetParent(v));let O=U?U[R]:0;(!O||!await(d.isElement==null?void 0:d.isElement(U)))&&(O=g.floating[R]||a.floating[A]);const V=W/2-Z/2,Y=O/2-I[A]/2-1,ee=bc(E[j],Y),de=bc(E[D],Y),ie=ee,le=O-I[A]-de,Te=O/2-I[A]/2+V,ne=NL(ie,Te,le),Se=!x.arrow&&Ed(i)!=null&&Te!==ne&&a.reference[A]/2-(Te<ie?ee:de)-I[A]/2<0,we=Se?Te<ie?Te-ie:Te-le:0;return{[k]:_[k]+we,data:{[k]:ne,centerOffset:Te-ne-we,...Se&&{alignmentOffset:we}},reset:Se}}}),FL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:d,initialPlacement:g,platform:x,elements:v}=t,{mainAxis:w=!0,crossAxis:E=!0,fallbackPlacements:_,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:I=!0,...L}=ap(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const j=Cc(i),D=ic(g),R=Cc(g)===g,W=await(x.isRTL==null?void 0:x.isRTL(v.floating)),Z=_||(R||!I?[fh(g)]:AL(g)),U=A!=="none";!_&&U&&Z.push(...TL(g,I,A,W));const O=[g,...Z],V=await LL(t,L),Y=[];let ee=((r=a.flip)==null?void 0:r.overflows)||[];if(w&&Y.push(V[j]),E){const ne=SL(i,d,W);Y.push(V[ne[0]],V[ne[1]])}if(ee=[...ee,{placement:i,overflows:Y}],!Y.every(ne=>ne<=0)){var de,ie;const ne=(((de=a.flip)==null?void 0:de.index)||0)+1,Se=O[ne];if(Se){var le;const ce=E==="alignment"?D!==ic(Se):!1,ve=((le=ee[0])==null?void 0:le.overflows[0])>0;if(!ce||ve)return{data:{index:ne,overflows:ee},reset:{placement:Se}}}let we=(ie=ee.filter(ce=>ce.overflows[0]<=0).sort((ce,ve)=>ce.overflows[1]-ve.overflows[1])[0])==null?void 0:ie.placement;if(!we)switch(k){case"bestFit":{var Te;const ce=(Te=ee.filter(ve=>{if(U){const Oe=ic(ve.placement);return Oe===D||Oe==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(Oe=>Oe>0).reduce((Oe,Ye)=>Oe+Ye,0)]).sort((ve,Oe)=>ve[1]-Oe[1])[0])==null?void 0:Te[0];ce&&(we=ce);break}case"initialPlacement":we=g;break}if(i!==we)return{reset:{placement:we}}}return{}}}};async function BL(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),d=Cc(n),g=Ed(n),x=ic(n)==="y",v=["left","top"].includes(d)?-1:1,w=a&&x?-1:1,E=ap(t,e);let{mainAxis:_,crossAxis:k,alignmentAxis:A}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return g&&typeof A=="number"&&(k=g==="end"?A*-1:A),x?{x:k*w,y:_*v}:{x:_*v,y:k*w}}const UL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:d,middlewareData:g}=t,x=await BL(t,e);return d===((n=g.offset)==null?void 0:n.placement)&&(r=g.arrow)!=null&&r.alignmentOffset?{}:{x:i+x.x,y:a+x.y,data:{...x,placement:d}}}}};function xN(e){const t=Gs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Mi(e),a=i?e.offsetWidth:n,d=i?e.offsetHeight:r,g=dh(n)!==a||dh(r)!==d;return g&&(n=a,r=d),{width:n,height:r,$:g}}function d2(e){return Hr(e)?e:e.contextElement}function ac(e){const t=d2(e);if(!Mi(t))return Oi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=xN(t);let d=(a?dh(n.width):n.width)/r,g=(a?dh(n.height):n.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!g||!Number.isFinite(g))&&(g=1),{x:d,y:g}}const zL=Oi(0);function vN(e){const t=Cs(e);return!l2()||!t.visualViewport?zL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function WL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cs(e)?!1:t}function fl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=d2(e);let d=Oi(1);t&&(r?Hr(r)&&(d=ac(r)):d=ac(e));const g=WL(a,n,r)?vN(a):Oi(0);let x=(i.left+g.x)/d.x,v=(i.top+g.y)/d.y,w=i.width/d.x,E=i.height/d.y;if(a){const _=Cs(a),k=r&&Hr(r)?Cs(r):r;let A=_,I=_g(A);for(;I&&r&&k!==A;){const L=ac(I),j=I.getBoundingClientRect(),D=Gs(I),R=j.left+(I.clientLeft+parseFloat(D.paddingLeft))*L.x,W=j.top+(I.clientTop+parseFloat(D.paddingTop))*L.y;x*=L.x,v*=L.y,w*=L.x,E*=L.y,x+=R,v+=W,A=Cs(I),I=_g(A)}}return hh({width:w,height:E,x,y:v})}function f2(e,t){const n=ip(e).scrollLeft;return t?t.left+n:fl(Pi(e)).left+n}function yN(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:f2(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function HL(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",d=Pi(r),g=t?sp(t.floating):!1;if(r===d||g&&a)return n;let x={scrollLeft:0,scrollTop:0},v=Oi(1);const w=Oi(0),E=Mi(r);if((E||!E&&!a)&&((Oc(r)!=="body"||Cd(d))&&(x=ip(r)),Mi(r))){const k=fl(r);v=ac(r),w.x=k.x+r.clientLeft,w.y=k.y+r.clientTop}const _=d&&!E&&!a?yN(d,x,!0):Oi(0);return{width:n.width*v.x,height:n.height*v.y,x:n.x*v.x-x.scrollLeft*v.x+w.x+_.x,y:n.y*v.y-x.scrollTop*v.y+w.y+_.y}}function qL(e){return Array.from(e.getClientRects())}function VL(e){const t=Pi(e),n=ip(e),r=e.ownerDocument.body,i=nl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=nl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let d=-n.scrollLeft+f2(e);const g=-n.scrollTop;return Gs(r).direction==="rtl"&&(d+=nl(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:d,y:g}}function YL(e,t){const n=Cs(e),r=Pi(e),i=n.visualViewport;let a=r.clientWidth,d=r.clientHeight,g=0,x=0;if(i){a=i.width,d=i.height;const v=l2();(!v||v&&t==="fixed")&&(g=i.offsetLeft,x=i.offsetTop)}return{width:a,height:d,x:g,y:x}}function $L(e,t){const n=fl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Mi(e)?ac(e):Oi(1),d=e.clientWidth*a.x,g=e.clientHeight*a.y,x=i*a.x,v=r*a.y;return{width:d,height:g,x,y:v}}function Eb(e,t,n){let r;if(t==="viewport")r=YL(e,n);else if(t==="document")r=VL(Pi(e));else if(Hr(t))r=$L(t,n);else{const i=vN(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return hh(r)}function wN(e,t){const n=fo(e);return n===t||!Hr(n)||wc(n)?!1:Gs(n).position==="fixed"||wN(n,t)}function GL(e,t){const n=t.get(e);if(n)return n;let r=dd(e,[],!1).filter(g=>Hr(g)&&Oc(g)!=="body"),i=null;const a=Gs(e).position==="fixed";let d=a?fo(e):e;for(;Hr(d)&&!wc(d);){const g=Gs(d),x=o2(d);!x&&g.position==="fixed"&&(i=null),(a?!x&&!i:!x&&g.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Cd(d)&&!x&&wN(e,d))?r=r.filter(w=>w!==d):i=g,d=fo(d)}return t.set(e,r),r}function XL(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const d=[...n==="clippingAncestors"?sp(t)?[]:GL(t,this._c):[].concat(n),r],g=d[0],x=d.reduce((v,w)=>{const E=Eb(t,w,i);return v.top=nl(E.top,v.top),v.right=bc(E.right,v.right),v.bottom=bc(E.bottom,v.bottom),v.left=nl(E.left,v.left),v},Eb(t,g,i));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function QL(e){const{width:t,height:n}=xN(e);return{width:t,height:n}}function KL(e,t,n){const r=Mi(t),i=Pi(t),a=n==="fixed",d=fl(e,!0,a,t);let g={scrollLeft:0,scrollTop:0};const x=Oi(0);function v(){x.x=f2(i)}if(r||!r&&!a)if((Oc(t)!=="body"||Cd(i))&&(g=ip(t)),r){const k=fl(t,!0,a,t);x.x=k.x+t.clientLeft,x.y=k.y+t.clientTop}else i&&v();a&&!r&&i&&v();const w=i&&!r&&!a?yN(i,g):Oi(0),E=d.left+g.scrollLeft-x.x-w.x,_=d.top+g.scrollTop-x.y-w.y;return{x:E,y:_,width:d.width,height:d.height}}function G1(e){return Gs(e).position==="static"}function Nb(e,t){if(!Mi(e)||Gs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Pi(e)===n&&(n=n.ownerDocument.body),n}function bN(e,t){const n=Cs(e);if(sp(e))return n;if(!Mi(e)){let i=fo(e);for(;i&&!wc(i);){if(Hr(i)&&!G1(i))return i;i=fo(i)}return n}let r=Nb(e,t);for(;r&&wL(r)&&G1(r);)r=Nb(r,t);return r&&wc(r)&&G1(r)&&!o2(r)?n:r||bL(e)||n}const ZL=async function(e){const t=this.getOffsetParent||bN,n=this.getDimensions,r=await n(e.floating);return{reference:KL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JL(e){return Gs(e).direction==="rtl"}const eP={convertOffsetParentRelativeRectToViewportRelativeRect:HL,getDocumentElement:Pi,getClippingRect:XL,getOffsetParent:bN,getElementRects:ZL,getClientRects:qL,getDimensions:QL,getScale:ac,isElement:Hr,isRTL:JL};function CN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tP(e,t){let n=null,r;const i=Pi(e);function a(){var g;clearTimeout(r),(g=n)==null||g.disconnect(),n=null}function d(g,x){g===void 0&&(g=!1),x===void 0&&(x=1),a();const v=e.getBoundingClientRect(),{left:w,top:E,width:_,height:k}=v;if(g||t(),!_||!k)return;const A=Vf(E),I=Vf(i.clientWidth-(w+_)),L=Vf(i.clientHeight-(E+k)),j=Vf(w),R={rootMargin:-A+"px "+-I+"px "+-L+"px "+-j+"px",threshold:nl(0,bc(1,x))||1};let W=!0;function Z(U){const O=U[0].intersectionRatio;if(O!==x){if(!W)return d();O?d(!1,O):r=setTimeout(()=>{d(!1,1e-7)},1e3)}O===1&&!CN(v,e.getBoundingClientRect())&&d(),W=!1}try{n=new IntersectionObserver(Z,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(Z,R)}n.observe(e)}return d(!0),a}function nP(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:g=typeof IntersectionObserver=="function",animationFrame:x=!1}=r,v=d2(e),w=i||a?[...v?dd(v):[],...dd(t)]:[];w.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),a&&j.addEventListener("resize",n)});const E=v&&g?tP(v,n):null;let _=-1,k=null;d&&(k=new ResizeObserver(j=>{let[D]=j;D&&D.target===v&&k&&(k.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var R;(R=k)==null||R.observe(t)})),n()}),v&&!x&&k.observe(v),k.observe(t));let A,I=x?fl(e):null;x&&L();function L(){const j=fl(e);I&&!CN(I,j)&&n(),I=j,A=requestAnimationFrame(L)}return n(),()=>{var j;w.forEach(D=>{i&&D.removeEventListener("scroll",n),a&&D.removeEventListener("resize",n)}),E==null||E(),(j=k)==null||j.disconnect(),k=null,x&&cancelAnimationFrame(A)}}const rP=UL,sP=FL,_b=PL,iP=(e,t,n)=>{const r=new Map,i={platform:eP,...n},a={...i.platform,_c:r};return ML(e,t,{...i,platform:a})};var y0=typeof document<"u"?M.useLayoutEffect:M.useEffect;function mh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!mh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!mh(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function EN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Sb(e,t){const n=EN(e);return Math.round(t*n)/n}function X1(e){const t=M.useRef(e);return y0(()=>{t.current=e}),t}function aP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:d}={},transform:g=!0,whileElementsMounted:x,open:v}=e,[w,E]=M.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[_,k]=M.useState(r);mh(_,r)||k(r);const[A,I]=M.useState(null),[L,j]=M.useState(null),D=M.useCallback(ce=>{ce!==U.current&&(U.current=ce,I(ce))},[]),R=M.useCallback(ce=>{ce!==O.current&&(O.current=ce,j(ce))},[]),W=a||A,Z=d||L,U=M.useRef(null),O=M.useRef(null),V=M.useRef(w),Y=x!=null,ee=X1(x),de=X1(i),ie=X1(v),le=M.useCallback(()=>{if(!U.current||!O.current)return;const ce={placement:t,strategy:n,middleware:_};de.current&&(ce.platform=de.current),iP(U.current,O.current,ce).then(ve=>{const Oe={...ve,isPositioned:ie.current!==!1};Te.current&&!mh(V.current,Oe)&&(V.current=Oe,Ix.flushSync(()=>{E(Oe)}))})},[_,t,n,de,ie]);y0(()=>{v===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,E(ce=>({...ce,isPositioned:!1})))},[v]);const Te=M.useRef(!1);y0(()=>(Te.current=!0,()=>{Te.current=!1}),[]),y0(()=>{if(W&&(U.current=W),Z&&(O.current=Z),W&&Z){if(ee.current)return ee.current(W,Z,le);le()}},[W,Z,le,ee,Y]);const ne=M.useMemo(()=>({reference:U,floating:O,setReference:D,setFloating:R}),[D,R]),Se=M.useMemo(()=>({reference:W,floating:Z}),[W,Z]),we=M.useMemo(()=>{const ce={position:n,left:0,top:0};if(!Se.floating)return ce;const ve=Sb(Se.floating,w.x),Oe=Sb(Se.floating,w.y);return g?{...ce,transform:"translate("+ve+"px, "+Oe+"px)",...EN(Se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ve,top:Oe}},[n,g,Se.floating,w.x,w.y]);return M.useMemo(()=>({...w,update:le,refs:ne,elements:Se,floatingStyles:we}),[w,le,ne,Se,we])}const oP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?_b({element:r.current,padding:i}).fn(n):{}:r?_b({element:r,padding:i}).fn(n):{}}}},lP=(e,t)=>({...rP(e),options:[e,t]}),cP=(e,t)=>({...sP(e),options:[e,t]}),uP=(e,t)=>({...oP(e),options:[e,t]}),dP={...zg};let Ab=!1,fP=0;const kb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+fP++;function hP(){const[e,t]=M.useState(()=>Ab?kb():void 0);return ph(()=>{e==null&&t(kb())},[]),M.useEffect(()=>{Ab=!0},[]),e}const pP=dP.useId,NN=pP||hP,mP=M.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:a,shift:d}},width:g=14,height:x=7,tipRadius:v=0,strokeWidth:w=0,staticOffset:E,stroke:_,d:k,style:{transform:A,...I}={},...L}=t,j=NN(),[D,R]=M.useState(!1);if(ph(()=>{if(!i)return;Gs(i).direction==="rtl"&&R(!0)},[i]),!i)return null;const[W,Z]=r.split("-"),U=W==="top"||W==="bottom";let O=E;(U&&d!=null&&d.x||!U&&d!=null&&d.y)&&(O=null);const V=w*2,Y=V/2,ee=g/2*(v/-8+1),de=x/2*v/4,ie=!!k,le=O&&Z==="end"?"bottom":"top";let Te=O&&Z==="end"?"right":"left";O&&D&&(Te=Z==="end"?"left":"right");const ne=(a==null?void 0:a.x)!=null?O||a.x:"",Se=(a==null?void 0:a.y)!=null?O||a.y:"",we=k||"M0,0"+(" H"+g)+(" L"+(g-ee)+","+(x-de))+(" Q"+g/2+","+x+" "+ee+","+(x-de))+" Z",ce={top:ie?"rotate(180deg)":"",left:ie?"rotate(90deg)":"rotate(-90deg)",bottom:ie?"":"rotate(180deg)",right:ie?"rotate(-90deg)":"rotate(90deg)"}[W];return l.jsxs("svg",{...L,"aria-hidden":!0,ref:n,width:ie?g:g+V,height:g,viewBox:"0 0 "+g+" "+(x>g?x:g),style:{position:"absolute",pointerEvents:"none",[Te]:ne,[le]:Se,[W]:U||ie?"100%":"calc(100% - "+V/2+"px)",transform:[ce,A].filter(ve=>!!ve).join(" "),...I},children:[V>0&&l.jsx("path",{clipPath:"url(#"+j+")",fill:"none",stroke:_,strokeWidth:V+(k?0:1),d:we}),l.jsx("path",{stroke:V&&!k?L.fill:"none",d:we}),l.jsx("clipPath",{id:j,children:l.jsx("rect",{x:-Y,y:Y*(ie?-1:1),width:g+V,height:g})})]})});function gP(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const xP=M.createContext(null),vP=M.createContext(null),yP=()=>{var e;return((e=M.useContext(xP))==null?void 0:e.id)||null},wP=()=>M.useContext(vP);function bP(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=NN(),a=M.useRef({}),[d]=M.useState(()=>gP()),g=yP()!=null,[x,v]=M.useState(r.reference),w=OL((k,A,I)=>{a.current.openEvent=k?A:void 0,d.emit("openchange",{open:k,event:A,reason:I,nested:g}),n==null||n(k,A,I)}),E=M.useMemo(()=>({setPositionReference:v}),[]),_=M.useMemo(()=>({reference:x||r.reference||null,floating:r.floating||null,domReference:r.reference}),[x,r.reference,r.floating]);return M.useMemo(()=>({dataRef:a,open:t,onOpenChange:w,elements:_,events:d,floatingId:i,refs:E}),[t,w,_,d,i,E])}function CP(e){e===void 0&&(e={});const{nodeId:t}=e,n=bP({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[a,d]=M.useState(null),[g,x]=M.useState(null),w=(i==null?void 0:i.domReference)||a,E=M.useRef(null),_=wP();ph(()=>{w&&(E.current=w)},[w]);const k=aP({...e,elements:{...i,...g&&{reference:g}}}),A=M.useCallback(R=>{const W=Hr(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),getClientRects:()=>R.getClientRects(),contextElement:R}:R;x(W),k.refs.setReference(W)},[k.refs]),I=M.useCallback(R=>{(Hr(R)||R===null)&&(E.current=R,d(R)),(Hr(k.refs.reference.current)||k.refs.reference.current===null||R!==null&&!Hr(R))&&k.refs.setReference(R)},[k.refs]),L=M.useMemo(()=>({...k.refs,setReference:I,setPositionReference:A,domReference:E}),[k.refs,I,A]),j=M.useMemo(()=>({...k.elements,domReference:w}),[k.elements,w]),D=M.useMemo(()=>({...k,...r,refs:L,elements:j,nodeId:t}),[k,L,j,t,r]);return ph(()=>{r.dataRef.current.floatingContext=D;const R=_==null?void 0:_.nodesRef.current.find(W=>W.id===t);R&&(R.context=D)}),M.useMemo(()=>({...k,context:D,refs:L,elements:j}),[k,L,j,D])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Ag=function(t,n){return Ag=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},Ag(t,n)};function hr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ag(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ft=function(){return Ft=Object.assign||function(n){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(n[d]=r[d])}return n},Ft.apply(this,arguments)};function ji(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var EP=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,a=e.className,d=e.children,g=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return ue.createElement("div",{className:a,role:"dialog","aria-label":g,"aria-modal":"true"},d)},NP=function(e,t){var n=M.useRef(null),r=M.useRef(e);r.current=e;var i=M.useCallback(function(a){var d,g=a.composed&&a.composedPath&&a.composedPath().find(function(x){return x instanceof Node})||a.target;n.current&&!n.current.contains(g)&&(t&&g instanceof HTMLElement&&g.classList.contains(t)||(d=r.current)===null||d===void 0||d.call(r,a))},[t]);return M.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},op=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,d=e.ignoreClass,g=NP(n,d);return ue.createElement("div",{className:r,style:a,ref:function(x){g.current=x,i&&(i.current=x)}},t)},Pe;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Pe||(Pe={}));function _N(){var e=typeof window<"u"?window:globalThis;return e}var Nd=12;function Yt(e){if(e==null)return new Date;var t=typeof e=="string"?N9(e):He(e);return lp(t)?t:new Date}function Q1(e,t,n,r,i){i===void 0&&(i=Yt());for(var a=Ec(n)||Ec(h2()),d=Array.isArray(t)?t:[t],g=0,x=d;g<x.length;g++){var v=x[g],w=v9(e,v,i,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(lp(w)&&(!r||e===En(w,v,n)))return w}return null}function lp(e,t){return sh(e)&&!dl(e,new Date("1/1/1800"))}function En(e,t,n){if(n==="en")return cd(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Ec(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Ec(h2()),cd(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Bs(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&En(e,i,r)||""}var SN=" - ";function _P(e,t,n){if(!e)return"";var r=Bs(e,n),i=t?Bs(t,n):"";return"".concat(r).concat(SN).concat(i)}function SP(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?Bs(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=Bs(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}function K1(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,a=i===void 0?0:i,d=t.second,g=d===void 0?0:d;return g0(x0(v0(e,g),a),r)}function AP(e){return n2(e)}function kP(e,t){return En(e,"ddd",t)}function w0(e){return ul(e)}function oo(e,t,n){var r=Ec(t||h2());return ya(e,{locale:r,weekStartsOn:n})}function ha(e){return HE(e)}function ku(e){return np(e)}function Tb(e){return yg(e)}function Db(){return ul(Yt())}function jb(e){return Jx(e)}function TP(e){return _O(e)}function DP(e){return e2(e)}function Si(e,t){return e&&t?C9(e,t):!e&&!t}function Ur(e,t){return e&&t?w9(e,t):!e&&!t}function gh(e,t){return e&&t?b9(e,t):!e&&!t}function Pt(e,t){return e&&t?vO(e,t):!e&&!t}function Ko(e,t){return e&&t?EM(e,t):!e&&!t}function Tu(e,t,n){var r,i=ul(t),a=Jx(n);try{r=ud(e,{start:i,end:a})}catch{r=!1}return r}function h2(){var e=_N();return e.__localeId__}function Ec(e){if(typeof e=="string"){var t=_N();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function jP(e,t,n){return t(En(e,"EEEE",n))}function IP(e,t){return En(e,"EEEEEE",t)}function RP(e,t){return En(e,"EEE",t)}function p2(e,t){return En(Us(Yt(),e),"LLLL",t)}function AN(e,t){return En(Us(Yt(),e),"LLL",t)}function OP(e,t){return En(Fl(Yt(),e),"QQQ",t)}function Hs(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.excludeDateIntervals,g=n.includeDates,x=n.includeDateIntervals,v=n.filterDate;return _d(e,{minDate:r,maxDate:i})||a&&a.some(function(w){return w instanceof Date?Pt(e,w):Pt(e,w.date)})||d&&d.some(function(w){var E=w.start,_=w.end;return ud(e,{start:E,end:_})})||g&&!g.some(function(w){return Pt(e,w)})||x&&!x.some(function(w){var E=w.start,_=w.end;return ud(e,{start:E,end:_})})||v&&!v(Yt(e))||!1}function m2(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var d=a.start,g=a.end;return ud(e,{start:d,end:g})}):r&&r.some(function(a){var d;return a instanceof Date?Pt(e,a):Pt(e,(d=a.date)!==null&&d!==void 0?d:new Date)})||!1}function kN(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.includeDates,g=n.filterDate;return _d(e,{minDate:r?HE(r):void 0,maxDate:i?e2(i):void 0})||(a==null?void 0:a.some(function(x){return Ur(e,x instanceof Date?x:x.date)}))||d&&!d.some(function(x){return Ur(e,x)})||g&&!g(Yt(e))||!1}function Yf(e,t,n,r){var i=bt(e),a=Ir(e),d=bt(t),g=Ir(t),x=bt(r);return i===d&&i===x?a<=n&&n<=g:i<d?x===i&&a<=n||x===d&&g>=n||x<d&&x>i:!1}function MP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.includeDates;return _d(e,{minDate:r,maxDate:i})||a&&a.some(function(g){return Ur(g instanceof Date?g:g.date,e)})||d&&!d.some(function(g){return Ur(g,e)})||!1}function $f(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.includeDates,g=n.filterDate;return _d(e,{minDate:r,maxDate:i})||(a==null?void 0:a.some(function(x){return gh(e,x instanceof Date?x:x.date)}))||d&&!d.some(function(x){return gh(e,x)})||g&&!g(Yt(e))||!1}function Gf(e,t,n){if(!t||!n||!sh(t)||!sh(n))return!1;var r=bt(t),i=bt(n);return r<=e&&i>=e}function b0(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.includeDates,g=n.filterDate,x=new Date(e,0,1);return _d(x,{minDate:r?np(r):void 0,maxDate:i?qE(i):void 0})||(a==null?void 0:a.some(function(v){return Si(x,v instanceof Date?v:v.date)}))||d&&!d.some(function(v){return Si(x,v)})||g&&!g(Yt(x))||!1}function Xf(e,t,n,r){var i=bt(e),a=el(e),d=bt(t),g=el(t),x=bt(r);return i===d&&i===x?a<=n&&n<=g:i<d?x===i&&a<=n||x===d&&g>=n||x<d&&x>i:!1}function _d(e,t){var n,r=t===void 0?{}:t,i=r.minDate,a=r.maxDate;return(n=i&&vc(e,i)<0||a&&vc(e,a)>0)!==null&&n!==void 0?n:!1}function Ib(e,t){return t.some(function(n){return da(n)===da(e)&&fa(n)===fa(e)&&ao(n)===ao(e)})}function Rb(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,a=n.filterTime;return r&&Ib(e,r)||i&&!Ib(e,i)||a&&!a(e)||!1}function Ob(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Yt();i=g0(i,da(e)),i=x0(i,fa(e)),i=v0(i,ao(e));var a=Yt();a=g0(a,da(n)),a=x0(a,fa(n)),a=v0(a,ao(n));var d=Yt();d=g0(d,da(r)),d=x0(d,fa(r)),d=v0(d,ao(r));var g;try{g=!ud(i,{start:a,end:d})}catch{g=!1}return g}function Mb(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=tl(e,1);return r&&ld(r,a)>0||i&&i.every(function(d){return ld(d,a)>0})||!1}function Lb(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=di(e,1);return r&&ld(a,r)>0||i&&i.every(function(d){return ld(a,d)>0})||!1}function LP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=np(e),d=eN(a,1);return r&&ih(r,d)>0||i&&i.every(function(g){return ih(g,d)>0})||!1}function PP(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=qE(e),d=Zx(a,1);return r&&ih(d,r)>0||i&&i.every(function(g){return ih(d,g)>0})||!1}function Pb(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=yc(e,1);return r&&ah(r,a)>0||i&&i.every(function(d){return ah(d,a)>0})||!1}function FP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,a=i===void 0?Nd:i,d=ku(yc(e,a)),g=Qa(d,a).endPeriod,x=r&&bt(r);return x&&x>g||!1}function Fb(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=ca(e,1);return r&&ah(a,r)>0||i&&i.every(function(d){return ah(a,d)>0})||!1}function BP(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,a=i===void 0?Nd:i,d=ca(e,a),g=Qa(d,a).startPeriod,x=r&&bt(r);return x&&x<g||!1}function TN(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return vc(i,t)>=0});return rb(r)}else return n?rb(n):t}function DN(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return vc(i,t)<=0});return nb(r)}else return n?nb(n):t}function Bb(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var d=e[i];if(ua(d)){var g=En(d,"MM.dd.yyyy"),x=r.get(g)||[];x.includes(t)||(x.push(t),r.set(g,x))}else if(typeof d=="object"){var v=Object.keys(d),w=(n=v[0])!==null&&n!==void 0?n:"",E=d[w];if(typeof w=="string"&&Array.isArray(E))for(var _=0,k=E.length;_<k;_++){var A=E[_];if(A){var g=En(A,"MM.dd.yyyy"),x=r.get(g)||[];x.includes(w)||(x.push(w),r.set(g,x))}}}}return r}function UP(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function zP(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var i=r.date,a=r.holidayName;if(ua(i)){var d=En(i,"MM.dd.yyyy"),g=n.get(d)||{className:"",holidayNames:[]};if(!("className"in g&&g.className===t&&UP(g.holidayNames,[a]))){g.className=t;var x=g.holidayNames;g.holidayNames=x?ji(ji([],x,!0),[a],!1):[a],n.set(d,g)}}}),n}function WP(e,t,n,r,i){for(var a=i.length,d=[],g=0;g<a;g++){var x=e,v=i[g];v&&(x=hO(x,da(v)),x=vg(x,fa(v)),x=gO(x,ao(v)));var w=vg(e,(n+1)*r);uo(x,t)&&dl(x,w)&&v!=null&&d.push(v)}return d}function Ub(e){return e<10?"0".concat(e):"".concat(e)}function Qa(e,t){t===void 0&&(t=Nd);var n=Math.ceil(bt(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function HP(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function zb(e){var t=e.getSeconds(),n=e.getMilliseconds();return He(e.getTime()-t*1e3-n)}function qP(e,t){return zb(e).getTime()===zb(t).getTime()}function Wb(e){if(!ua(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Hb(e,t){if(!ua(e)||!ua(t))throw new Error("Invalid date received");var n=Wb(e),r=Wb(t);return dl(n,r)}function jN(e){return e.key===Pe.Space}var VP=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=ue.createRef(),r.onTimeChange=function(i){var a,d;r.setState({time:i});var g=r.props.date,x=g instanceof Date&&!isNaN(+g),v=x?g:new Date;if(i!=null&&i.includes(":")){var w=i.split(":"),E=w[0],_=w[1];v.setHours(Number(E)),v.setMinutes(Number(_))}(d=(a=r.props).onChange)===null||d===void 0||d.call(a,v)},r.renderTimeInput=function(){var i=r.state.time,a=r.props,d=a.date,g=a.timeString,x=a.customTimeInput;return x?M.cloneElement(x,{date:d,value:i,onChange:r.onTimeChange}):ue.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var v;(v=r.inputRef.current)===null||v===void 0||v.focus()},required:!0,value:i,onChange:function(v){r.onTimeChange(v.target.value||g)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return ue.createElement("div",{className:"react-datepicker__input-time-container"},ue.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ue.createElement("div",{className:"react-datepicker-time__input-container"},ue.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(M.Component),YP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=M.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,a,d=r.key;d===Pe.Space&&(r.preventDefault(),r.key=Pe.Enter),(a=(i=n.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},n.isSameDay=function(r){return Pt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(d){return n.isSameDayOrWeek(d)}):n.isSameDayOrWeek(n.props.selected),a=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!a},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Hs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return m2(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Pt(n.props.day,oo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Pt(r,oo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,a=r.highlightDates;if(!a)return!1;var d=En(i,"MM.dd.yyyy");return a.get(d)},n.getHolidaysClass=function(){var r,i=n.props,a=i.day,d=i.holidays;if(!d)return[void 0];var g=En(a,"MM.dd.yyyy");return d.has(g)?[(r=d.get(g))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:Tu(i,a,d)},n.isInSelectingRange=function(){var r,i=n.props,a=i.day,d=i.selectsStart,g=i.selectsEnd,x=i.selectsRange,v=i.selectsDisabledDaysInRange,w=i.startDate,E=i.endDate,_=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(d||g||x)||!_||!v&&n.isDisabled()?!1:d&&E&&(dl(_,E)||Ko(_,E))?Tu(a,_,E):g&&w&&(uo(_,w)||Ko(_,w))||x&&w&&!E&&(uo(_,w)||Ko(_,w))?Tu(a,w,_):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,a=i.day,d=i.startDate,g=i.selectsStart,x=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return g?Pt(a,x):Pt(a,d)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,a=i.day,d=i.endDate,g=i.selectsEnd,x=i.selectsRange,v=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return g||x?Pt(a,v):Pt(a,d)},n.isRangeStart=function(){var r=n.props,i=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:Pt(a,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:Pt(d,i)},n.isWeekend=function(){var r=yM(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Ir(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Ir(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Yt())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return Cn("react-datepicker__day",i,"react-datepicker__day--"+kP(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,a=r.ariaLabelPrefixWhenEnabled,d=a===void 0?"Choose":a,g=r.ariaLabelPrefixWhenDisabled,x=g===void 0?"Not available":g,v=n.isDisabled()||n.isExcluded()?x:d;return"".concat(v," ").concat(En(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,a=r.holidays,d=a===void 0?new Map:a,g=r.excludeDates,x=En(i,"MM.dd.yyyy"),v=[];return d.has(x)&&v.push.apply(v,d.get(x).holidayNames),n.isExcluded()&&v.push(g==null?void 0:g.filter(function(w){return w instanceof Date?Pt(w,i):Pt(w==null?void 0:w.date,i)}).map(function(w){if(!(w instanceof Date))return w==null?void 0:w.message})),v.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,a=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Pt(i,r))?0:-1;return a},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(cb(n.props.day),n.props.day):cb(n.props.day)},n.render=function(){return ue.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&ue.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(M.Component),$P=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=M.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,a,d=r.key;d===Pe.Space&&(r.preventDefault(),r.key=Pe.Enter),(a=(i=n.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Pt(n.props.date,n.props.selected)&&Pt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Pt(n.props.date,n.props.selected)&&Pt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Pt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,a=n.ariaLabelPrefix,d=a===void 0?t.defaultProps.ariaLabelPrefix:a,g=n.onClick,x={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!g&&!i,"react-datepicker__week-number--selected":!!g&&Pt(this.props.date,this.props.selected)};return ue.createElement("div",{ref:this.weekNumberEl,className:Cn(x),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(M.Component),GP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return Hs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,a){for(var d,g,x,v=new Date(r),w=0;w<7;w++){var E=new Date(r);E.setDate(E.getDate()+w);var _=!n.isDisabled(E);if(_){v=E;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(v,i,a),n.props.showWeekPicker&&n.handleDayClick(v,a),((d=n.props.shouldCloseOnSelect)!==null&&d!==void 0?d:t.defaultProps.shouldCloseOnSelect)&&((x=(g=n.props).setOpen)===null||x===void 0||x.call(g,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):AP(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=ci(r,6),a=new Date(r);a<=i;){if(!n.isDisabled(a))return!1;a=ci(a,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],a=n.formatWeekNumber(r);if(n.props.showWeekNumber){var d=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,a):void 0;i.push(ue.createElement($P,Ft({key:"W"},t.defaultProps,n.props,{weekNumber:a,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:d})))}return i.concat([0,1,2,3,4,5,6].map(function(g){var x=ci(r,g);return ue.createElement(YP,Ft({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:x.valueOf(),day:x,onClick:n.handleDayClick.bind(n,x),onMouseEnter:n.handleDayMouseEnter.bind(n,x)}))}))},n.startOfWeek=function(){return oo(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Pt(n.startOfWeek(),n.props.selected)&&Pt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Pt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ue.createElement("div",{className:Cn(n)},this.renderDays())},t}(M.Component),Eu,XP=6,oc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Z1=(Eu={},Eu[oc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Eu[oc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Eu[oc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Eu),Qf=1;function qb(e,t){return e?oc.FOUR_COLUMNS:t?oc.TWO_COLUMNS:oc.THREE_COLUMNS}var QP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=ji([],Array(12),!0).map(function(){return M.createRef()}),n.QUARTER_REFS=ji([],Array(4),!0).map(function(){return M.createRef()}),n.isDisabled=function(r){return Hs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return m2(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var a,d;(d=(a=n.props).onDayClick)===null||d===void 0||d.call(a,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,a;(a=(i=n.props).onDayMouseEnter)===null||a===void 0||a.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,a=i.day,d=i.startDate,g=i.endDate;return!d||!g?!1:Ur(Us(a,r),d)},n.isRangeStartQuarter=function(r){var i=n.props,a=i.day,d=i.startDate,g=i.endDate;return!d||!g?!1:gh(Fl(a,r),d)},n.isRangeEndMonth=function(r){var i=n.props,a=i.day,d=i.startDate,g=i.endDate;return!d||!g?!1:Ur(Us(a,r),g)},n.isRangeEndQuarter=function(r){var i=n.props,a=i.day,d=i.startDate,g=i.endDate;return!d||!g?!1:gh(Fl(a,r),g)},n.isInSelectingRangeMonth=function(r){var i,a=n.props,d=a.day,g=a.selectsStart,x=a.selectsEnd,v=a.selectsRange,w=a.startDate,E=a.endDate,_=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(g||x||v)||!_?!1:g&&E?Yf(_,E,r,d):x&&w||v&&w&&!E?Yf(w,_,r,d):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,d=a.day,g=a.startDate,x=a.selectsStart,v=Us(d,r),w=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return x?Ur(v,w):Ur(v,g)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,d=a.day,g=a.endDate,x=a.selectsEnd,v=a.selectsRange,w=Us(d,r),E=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return x||v?Ur(w,E):Ur(w,g)},n.isInSelectingRangeQuarter=function(r){var i,a=n.props,d=a.day,g=a.selectsStart,x=a.selectsEnd,v=a.selectsRange,w=a.startDate,E=a.endDate,_=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(g||x||v)||!_?!1:g&&E?Xf(_,E,r,d):x&&w||v&&w&&!E?Xf(w,_,r,d):!1},n.isWeekInMonth=function(r){var i=n.props.day,a=ci(r,6);return Ur(r,i)||Ur(a,i)},n.isCurrentMonth=function(r,i){return bt(r)===bt(Yt())&&i===Ir(Yt())},n.isCurrentQuarter=function(r,i){return bt(r)===bt(Yt())&&i===el(Yt())},n.isSelectedMonth=function(r,i,a){return Ir(a)===i&&bt(r)===bt(a)},n.isSelectMonthInList=function(r,i,a){return a.some(function(d){return n.isSelectedMonth(r,i,d)})},n.isSelectedQuarter=function(r,i,a){return el(r)===i&&bt(r)===bt(a)},n.isMonthSelected=function(){var r=n.props,i=r.day,a=r.selected,d=r.selectedDates,g=r.selectsMultiple,x=Ir(i);return g?d==null?void 0:d.some(function(v){return n.isSelectedMonth(i,x,v)}):!!a&&n.isSelectedMonth(i,x,a)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,a=0,d=!1,g=oo(ha(n.props.day),n.props.locale,n.props.calendarStartDay),x=function(A){return n.props.showWeekPicker?oo(A,n.props.locale,n.props.calendarStartDay):n.props.preSelection},v=function(A){return n.props.showWeekPicker?oo(A,n.props.locale,n.props.calendarStartDay):n.props.selected},w=n.props.selected?v(n.props.selected):void 0,E=n.props.preSelection?x(n.props.preSelection):void 0;r.push(ue.createElement(GP,Ft({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:a,day:g,month:Ir(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:w,preSelection:E,showWeekNumber:n.props.showWeekNumbers}))),!d;){a++,g=rh(g,1);var _=i&&a>=XP,k=!i&&!n.isWeekInMonth(g);if(_||k)if(n.props.peekNextMonth)d=!0;else break}return r},n.onMonthClick=function(r,i){var a=n.isMonthDisabledForLabelDate(i),d=a.isDisabled,g=a.labelDate;d||n.handleDayClick(ha(g),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),a=i.isDisabled,d=i.labelDate;a||n.handleDayMouseEnter(ha(d))},n.handleMonthNavigation=function(r,i){var a,d,g,x;(d=(a=n.props).setPreSelection)===null||d===void 0||d.call(a,i),(x=(g=n.MONTH_REFS[r])===null||g===void 0?void 0:g.current)===null||x===void 0||x.focus()},n.handleKeyboardNavigation=function(r,i,a){var d,g=n.props,x=g.selected,v=g.preSelection,w=g.setPreSelection,E=g.minDate,_=g.maxDate,k=g.showFourColumnMonthYearPicker,A=g.showTwoColumnMonthYearPicker;if(v){var I=qb(k,A),L=n.getVerticalOffset(I),j=(d=Z1[I])===null||d===void 0?void 0:d.grid,D=function(O,V,Y){var ee,de,ie=V,le=Y;switch(O){case Pe.ArrowRight:ie=di(V,Qf),le=Y===11?0:Y+Qf;break;case Pe.ArrowLeft:ie=tl(V,Qf),le=Y===0?11:Y-Qf;break;case Pe.ArrowUp:ie=tl(V,L),le=!((ee=j==null?void 0:j[0])===null||ee===void 0)&&ee.includes(Y)?Y+12-L:Y-L;break;case Pe.ArrowDown:ie=di(V,L),le=!((de=j==null?void 0:j[j.length-1])===null||de===void 0)&&de.includes(Y)?Y-12+L:Y+L;break}return{newCalculatedDate:ie,newCalculatedMonth:le}},R=function(O,V,Y){for(var ee=40,de=O,ie=!1,le=0,Te=D(de,V,Y),ne=Te.newCalculatedDate,Se=Te.newCalculatedMonth;!ie;){if(le>=ee){ne=V,Se=Y;break}if(E&&ne<E){de=Pe.ArrowRight;var we=D(de,ne,Se);ne=we.newCalculatedDate,Se=we.newCalculatedMonth}if(_&&ne>_){de=Pe.ArrowLeft;var we=D(de,ne,Se);ne=we.newCalculatedDate,Se=we.newCalculatedMonth}if(MP(ne,n.props)){var we=D(de,ne,Se);ne=we.newCalculatedDate,Se=we.newCalculatedMonth}else ie=!0;le++}return{newCalculatedDate:ne,newCalculatedMonth:Se}};if(i===Pe.Enter){n.isMonthDisabled(a)||(n.onMonthClick(r,a),w==null||w(x));return}var W=R(i,v,a),Z=W.newCalculatedDate,U=W.newCalculatedMonth;switch(i){case Pe.ArrowRight:case Pe.ArrowLeft:case Pe.ArrowUp:case Pe.ArrowDown:n.handleMonthNavigation(U,Z);break}}},n.getVerticalOffset=function(r){var i,a;return(a=(i=Z1[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},n.onMonthKeyDown=function(r,i){var a=n.props,d=a.disabledKeyboardNavigation,g=a.handleOnMonthKeyDown,x=r.key;x!==Pe.Tab&&r.preventDefault(),d||n.handleKeyboardNavigation(r,x,i),g&&g(r)},n.onQuarterClick=function(r,i){var a=Fl(n.props.day,i);$f(a,n.props)||n.handleDayClick(Tb(a),r)},n.onQuarterMouseEnter=function(r){var i=Fl(n.props.day,r);$f(i,n.props)||n.handleDayMouseEnter(Tb(i))},n.handleQuarterNavigation=function(r,i){var a,d,g,x;n.isDisabled(i)||n.isExcluded(i)||((d=(a=n.props).setPreSelection)===null||d===void 0||d.call(a,i),(x=(g=n.QUARTER_REFS[r-1])===null||g===void 0?void 0:g.current)===null||x===void 0||x.focus())},n.onQuarterKeyDown=function(r,i){var a,d,g=r.key;if(!n.props.disabledKeyboardNavigation)switch(g){case Pe.Enter:n.onQuarterClick(r,i),(d=(a=n.props).setPreSelection)===null||d===void 0||d.call(a,n.props.selected);break;case Pe.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,Zx(n.props.preSelection,1));break;case Pe.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,eN(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,a=n.props,d=a.day,g=a.minDate,x=a.maxDate,v=a.excludeDates,w=a.includeDates,E=Us(d,r);return{isDisabled:(i=(g||x||v||w)&&kN(E,n.props))!==null&&i!==void 0?i:!1,labelDate:E}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,a=i.day,d=i.startDate,g=i.endDate,x=i.preSelection,v=i.monthClassName,w=v?v(Us(a,r)):void 0,E=n.getSelection();return Cn("react-datepicker__month-text","react-datepicker__month-".concat(r),w,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":E?n.isSelectMonthInList(a,r,E):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&x&&n.isSelectedMonth(a,r,x)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":d&&g?Yf(d,g,r,a):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(a,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Ir(n.props.preSelection),a=n.isMonthDisabledForLabelDate(i).isDisabled,d=r===i&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=el(n.props.preSelection),a=$f(n.props.day,n.props),d=r===i&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getAriaLabel=function(r){var i=n.props,a=i.chooseDayAriaLabelPrefix,d=a===void 0?"Choose":a,g=i.disabledDayAriaLabelPrefix,x=g===void 0?"Not available":g,v=i.day,w=i.locale,E=Us(v,r),_=n.isDisabled(E)||n.isExcluded(E)?x:d;return"".concat(_," ").concat(En(E,"MMMM yyyy",w))},n.getQuarterClassNames=function(r){var i=n.props,a=i.day,d=i.startDate,g=i.endDate,x=i.selected,v=i.minDate,w=i.maxDate,E=i.excludeDates,_=i.includeDates,k=i.filterDate,A=i.preSelection,I=i.disabledKeyboardNavigation,L=(v||w||E||_||k)&&$f(Fl(a,r),n.props);return Cn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":L,"react-datepicker__quarter-text--selected":x?n.isSelectedQuarter(a,r,x):void 0,"react-datepicker__quarter-text--keyboard-selected":!I&&A&&n.isSelectedQuarter(a,r,A)&&!L,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":d&&g?Xf(d,g,r,a):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(a,r)})},n.getMonthContent=function(r){var i=n.props,a=i.showFullMonthYearPicker,d=i.renderMonthContent,g=i.locale,x=i.day,v=AN(r,g),w=p2(r,g);return d?d(r,v,w,x):a?w:v},n.getQuarterContent=function(r){var i,a=n.props,d=a.renderQuarterContent,g=a.locale,x=OP(r,g);return(i=d==null?void 0:d(r,x))!==null&&i!==void 0?i:x},n.renderMonths=function(){var r,i=n.props,a=i.showTwoColumnMonthYearPicker,d=i.showFourColumnMonthYearPicker,g=i.day,x=i.selected,v=(r=Z1[qb(d,a)])===null||r===void 0?void 0:r.grid;return v==null?void 0:v.map(function(w,E){return ue.createElement("div",{className:"react-datepicker__month-wrapper",key:E},w.map(function(_,k){return ue.createElement("div",{ref:n.MONTH_REFS[_],key:k,onClick:function(A){n.onMonthClick(A,_)},onKeyDown:function(A){jN(A)&&(A.preventDefault(),A.key=Pe.Enter),n.onMonthKeyDown(A,_)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(_)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(_)}:void 0,tabIndex:Number(n.getTabIndex(_)),className:n.getMonthClassNames(_),"aria-disabled":n.isMonthDisabled(_),role:"option","aria-label":n.getAriaLabel(_),"aria-current":n.isCurrentMonth(g,_)?"date":void 0,"aria-selected":x?n.isSelectedMonth(g,_,x):void 0},n.getMonthContent(_))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,a=r.selected,d=[1,2,3,4];return ue.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(g,x){return ue.createElement("div",{key:x,ref:n.QUARTER_REFS[x],role:"option",onClick:function(v){n.onQuarterClick(v,g)},onKeyDown:function(v){n.onQuarterKeyDown(v,g)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(g)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(g)}:void 0,className:n.getQuarterClassNames(g),"aria-selected":a?n.isSelectedQuarter(i,g,a):void 0,tabIndex:Number(n.getQuarterTabIndex(g)),"aria-current":n.isCurrentQuarter(i,g)?"date":void 0},n.getQuarterContent(g))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,a=r.selectsStart,d=r.selectsEnd,g=r.showMonthYearPicker,x=r.showQuarterYearPicker,v=r.showWeekPicker;return Cn("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||d)},{"react-datepicker__monthPicker":g},{"react-datepicker__quarterPicker":x},{"react-datepicker__weekPicker":v})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,a=n.selectsMultiple;if(a)return i;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,a=n.day,d=n.ariaLabelPrefix,g=d===void 0?"Month ":d,x=g?g.trim()+" ":"";return ue.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(x).concat(En(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},t}(M.Component),KP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return ue.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?ue.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return ue.createElement(op,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(M.Component),ZP=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,a){return ue.createElement("option",{key:i,value:a},i)})},n.renderSelectMode=function(r){return ue.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return ue.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},ue.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ue.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return ue.createElement(KP,Ft({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,a=[n.renderReadView(!i,r)];return i&&a.unshift(n.renderDropdown(r)),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return AN(a,n.props.locale)}:function(a){return p2(a,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return ue.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t}(M.Component);function JP(e,t){for(var n=[],r=ha(e),i=ha(t);!uo(r,i);)n.push(Yt(r)),r=di(r,1);return n}var eF=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var a=Cg(i),d=Si(r.props.date,i)&&Ur(r.props.date,i);return ue.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":d?"true":void 0},d?ue.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",En(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:JP(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=Cn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ue.createElement(op,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(M.Component),tF=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=ha(n.props.minDate),i=ha(n.props.maxDate),a=[];!uo(r,i);){var d=Cg(r);a.push(ue.createElement("option",{key:d,value:d},En(r,n.props.dateFormat,n.props.locale))),r=di(r,1)}return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ue.createElement("select",{value:Cg(ha(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=En(n.props.date,n.props.dateFormat,n.props.locale);return ue.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},ue.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ue.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return ue.createElement(eF,Ft({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Yt(r);Si(n.props.date,i)&&Ur(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ue.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(M.Component),nF=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,a;n.list&&(n.list.scrollTop=(a=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&a!==void 0?a:0)})},n.handleClick=function(r){var i,a;(n.props.minTime||n.props.maxTime)&&Ob(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Rb(r,n.props)||(a=(i=n.props).onChange)===null||a===void 0||a.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&qP(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&Ob(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Rb(r,n.props)},n.liClasses=function(r){var i,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(da(r)*3600+fa(r)*60+ao(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(r,i){var a,d;r.key===Pe.Space&&(r.preventDefault(),r.key=Pe.Enter),(r.key===Pe.ArrowUp||r.key===Pe.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Pe.ArrowDown||r.key===Pe.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Pe.Enter&&n.handleClick(i),(d=(a=n.props).handleOnKeyDown)===null||d===void 0||d.call(a,r)},n.renderTimes=function(){for(var r,i=[],a=typeof n.props.format=="string"?n.props.format:"p",d=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,g=n.props.selected||n.props.openToDate||Yt(),x=w0(g),v=n.props.injectTimes&&n.props.injectTimes.sort(function(L,j){return L.getTime()-j.getTime()}),w=60*HP(g),E=w/d,_=0;_<E;_++){var k=vg(x,_*d);if(i.push(k),v){var A=WP(x,k,_,d,v);i=i.concat(A)}}var I=i.reduce(function(L,j){return j.getTime()<=g.getTime()?j:L},i[0]);return i.map(function(L){return ue.createElement("li",{key:L.valueOf(),onClick:n.handleClick.bind(n,L),className:n.liClasses(L),ref:function(j){L===I&&(n.centerLi=j)},onKeyDown:function(j){n.handleOnKeyDown(j,L)},tabIndex:L===I?0:-1,role:"option","aria-selected":n.isSelectedTime(L)?"true":void 0,"aria-disabled":n.isDisabledTime(L)?"true":void 0},En(L,a,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?ue.createElement(ue.Fragment,null):ue.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},ue.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,i=this.state.height;return ue.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ue.createElement("div",{className:"react-datepicker__time"},ue.createElement("div",{className:"react-datepicker__time-box"},ue.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){n.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(M.Component),Vb=3,rF=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=ji([],Array(r.props.yearItemNumber),!0).map(function(){return M.createRef()}),r.isDisabled=function(i){return Hs(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return m2(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var a=function(){var d,g;(g=(d=r.YEAR_REFS[i])===null||d===void 0?void 0:d.current)===null||g===void 0||g.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(i,a){r.props.onDayClick&&r.props.onDayClick(i,a)},r.handleYearNavigation=function(i,a){var d,g,x,v,w=r.props,E=w.date,_=w.yearItemNumber;if(!(E===void 0||_===void 0)){var k=Qa(E,_).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((g=(d=r.props).setPreSelection)===null||g===void 0||g.call(d,a),i-k<0?r.updateFocusOnPaginate(_-(k-i)):i-k>=_?r.updateFocusOnPaginate(Math.abs(_-(i-k))):(v=(x=r.YEAR_REFS[i-k])===null||x===void 0?void 0:x.current)===null||v===void 0||v.focus())}},r.isSameDay=function(i,a){return Pt(i,a)},r.isCurrentYear=function(i){return i===bt(Yt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Si(_i(Yt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Si(_i(Yt(),i),r.props.endDate)},r.isInRange=function(i){return Gf(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var a=r.props,d=a.selectsStart,g=a.selectsEnd,x=a.selectsRange,v=a.startDate,w=a.endDate;return!(d||g||x)||!r.selectingDate()?!1:d&&w?Gf(i,r.selectingDate(),w):g&&v||x&&v&&!w?Gf(i,v,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var a;if(!r.isInSelectingRange(i))return!1;var d=r.props,g=d.startDate,x=d.selectsStart,v=_i(Yt(),i);return x?Si(v,(a=r.selectingDate())!==null&&a!==void 0?a:null):Si(v,g??null)},r.isSelectingRangeEnd=function(i){var a;if(!r.isInSelectingRange(i))return!1;var d=r.props,g=d.endDate,x=d.selectsEnd,v=d.selectsRange,w=_i(Yt(),i);return x||v?Si(w,(a=r.selectingDate())!==null&&a!==void 0?a:null):Si(w,g??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,d=a.minDate,g=a.maxDate,x=a.excludeDates,v=a.includeDates,w=a.filterDate,E=ku(_i(r.props.date,i)),_=(d||g||x||v||w)&&b0(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Pt(E,ku(r.props.selected))&&Pt(E,ku(r.props.preSelection))&&!_}},r.isSelectedYear=function(i){var a=r.props,d=a.selectsMultiple,g=a.selected,x=a.selectedDates;return d?x==null?void 0:x.some(function(v){return i===bt(v)}):!!g&&i===bt(g)},r.onYearClick=function(i,a){var d=r.props.date;d!==void 0&&r.handleYearClick(ku(_i(d,a)),i)},r.onYearKeyDown=function(i,a){var d,g,x=i.key,v=r.props,w=v.date,E=v.yearItemNumber,_=v.handleOnKeyDown;if(x!==Pe.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(x){case Pe.Enter:if(r.props.selected==null)break;r.onYearClick(i,a),(g=(d=r.props).setPreSelection)===null||g===void 0||g.call(d,r.props.selected);break;case Pe.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,ca(r.props.preSelection,1));break;case Pe.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,yc(r.props.preSelection,1));break;case Pe.ArrowUp:{if(w===void 0||E===void 0||r.props.preSelection==null)break;var k=Qa(w,E).startPeriod,A=Vb,I=a-A;if(I<k){var L=E%A;a>=k&&a<k+L?A=L:A+=L,I=a-A}r.handleYearNavigation(I,yc(r.props.preSelection,A));break}case Pe.ArrowDown:{if(w===void 0||E===void 0||r.props.preSelection==null)break;var j=Qa(w,E).endPeriod,A=Vb,I=a+A;if(I>j){var L=E%A;a<=j&&a>j-L?A=L:A+=L,I=a+A}r.handleYearNavigation(I,ca(r.props.preSelection,A));break}}_&&_(i)},r.getYearClassNames=function(i){var a=r.props,d=a.date,g=a.minDate,x=a.maxDate,v=a.excludeDates,w=a.includeDates,E=a.filterDate,_=a.yearClassName;return Cn("react-datepicker__year-text","react-datepicker__year-".concat(i),d?_==null?void 0:_(_i(d,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(g||x||v||w||E)&&b0(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=bt(r.props.preSelection),d=b0(i,r.props);return i===a&&!d?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return t.prototype.render=function(){var n=this,r=[],i=this.props,a=i.date,d=i.yearItemNumber,g=i.onYearMouseEnter,x=i.onYearMouseLeave;if(a===void 0)return null;for(var v=Qa(a,d),w=v.startPeriod,E=v.endPeriod,_=function(I){r.push(ue.createElement("div",{ref:k.YEAR_REFS[I-w],onClick:function(L){n.onYearClick(L,I)},onKeyDown:function(L){jN(L)&&(L.preventDefault(),L.key=Pe.Enter),n.onYearKeyDown(L,I)},tabIndex:Number(k.getYearTabIndex(I)),className:k.getYearClassNames(I),onMouseEnter:k.props.usePointerEvent?void 0:function(L){return g(L,I)},onPointerEnter:k.props.usePointerEvent?function(L){return g(L,I)}:void 0,onMouseLeave:k.props.usePointerEvent?void 0:function(L){return x(L,I)},onPointerLeave:k.props.usePointerEvent?function(L){return x(L,I)}:void 0,key:I,"aria-current":k.isCurrentYear(I)?"date":void 0},k.getYearContent(I)))},k=this,A=w;A<=E;A++)_(A);return ue.createElement("div",{className:"react-datepicker__year"},ue.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(M.Component);function sF(e,t,n,r){for(var i=[],a=0;a<2*t+1;a++){var d=e+t-a,g=!0;n&&(g=bt(n)<=d),r&&g&&(g=bt(r)>=d),g&&i.push(d)}return i}var iF=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var g=r.props.year,x=r.state.yearsList.map(function(E){return ue.createElement("div",{className:g===E?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:E,onClick:r.onChange.bind(r,E),"aria-selected":g===E?"true":void 0},g===E?ue.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",E)}),v=r.props.minDate?bt(r.props.minDate):null,w=r.props.maxDate?bt(r.props.maxDate):null;return(!w||!r.state.yearsList.find(function(E){return E===w}))&&x.unshift(ue.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},ue.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!v||!r.state.yearsList.find(function(E){return E===v}))&&x.push(ue.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},ue.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),x},r.onChange=function(g){r.props.onChange(g)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(g){var x=r.state.yearsList.map(function(v){return v+g});r.setState({yearsList:x})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,a=n.scrollableYearDropdown,d=i||(a?10:5);return r.state={yearsList:sF(r.props.year,d,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(a){return a.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=Cn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ue.createElement(op,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(M.Component),aF=function(e){hr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?bt(n.props.minDate):1900,i=n.props.maxDate?bt(n.props.maxDate):2100,a=[],d=r;d<=i;d++)a.push(ue.createElement("option",{key:d,value:d},d));return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ue.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return ue.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},ue.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ue.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return ue.createElement(iF,Ft({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var a;(a=n.onSelect)===null||a===void 0||a.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var a,d;(d=(a=n.props).onSelect)===null||d===void 0||d.call(a,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ue.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(M.Component),oF=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],lF=function(e){var t=(e.className||"").split(/\s+/);return oF.some(function(n){return t.indexOf(n)>=0})},cF=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var a,d;lF(i.target)&&((d=(a=r.props).onDropdownFocus)===null||d===void 0||d.call(a,i))},r.getDateInView=function(){var i=r.props,a=i.preSelection,d=i.selected,g=i.openToDate,x=TN(r.props),v=DN(r.props),w=Yt(),E=g||d||a;return E||(x&&dl(w,x)?x:v&&uo(w,v)?v:w)},r.increaseMonth=function(){r.setState(function(i){var a=i.date;return{date:di(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var a=i.date;return{date:tl(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,a,d){r.props.onSelect(i,a,d),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,a){r.setState({selectingDate:_i(Yt(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,a)},r.handleYearMouseLeave=function(i,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,a)},r.handleYearChange=function(i){var a,d,g,x;(d=(a=r.props).onYearChange)===null||d===void 0||d.call(a,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(x=(g=r.props).setOpen)===null||x===void 0||x.call(g,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Hs(i,r.props))return i;for(var a=ha(i),d=DP(i),g=yO(d,a),x=null,v=0;v<=g;v++){var w=ci(a,v);if(!Hs(w,r.props)){x=w;break}}return x},r.handleMonthChange=function(i){var a,d,g,x=(a=r.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;r.handleCustomMonthChange(x),r.props.adjustDateOnChange&&(r.props.onSelect(x),(g=(d=r.props).setOpen)===null||g===void 0||g.call(d,!0)),r.props.setPreSelection&&r.props.setPreSelection(x)},r.handleCustomMonthChange=function(i){var a,d;(d=(a=r.props).onMonthChange)===null||d===void 0||d.call(a,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(a){var d=a.date;return{date:_i(d,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(a){var d=a.date;return{date:Us(d,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(a){var d=a.date;return{date:_i(Us(d,Ir(i)),bt(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var a=oo(i,r.props.locale,r.props.calendarStartDay),d=[];return r.props.showWeekNumbers&&d.push(ue.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(g){var x=ci(a,g),v=r.formatWeekday(x,r.props.locale),w=r.props.weekDayClassName?r.props.weekDayClassName(x):void 0;return ue.createElement("div",{key:g,"aria-label":En(x,"EEEE",r.props.locale),className:Cn("react-datepicker__day-name",w)},v)}))},r.formatWeekday=function(i,a){return r.props.formatWeekDay?jP(i,r.props.formatWeekDay,a):r.props.useWeekdaysShort?RP(i,a):IP(i,a)},r.decreaseYear=function(){r.setState(function(i){var a,d=i.date;return{date:yc(d,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,a,d;if(!r.props.renderCustomHeader){var g=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,x=r.props.showPreviousMonths?g-1:0,v=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:x,w=tl(r.state.date,v),E;switch(!0){case r.props.showMonthYearPicker:E=Pb(r.state.date,r.props);break;case r.props.showYearPicker:E=FP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:E=LP(r.state.date,r.props);break;default:E=Mb(w,r.props);break}if(!(!((d=r.props.forceShowMonthNavigation)!==null&&d!==void 0?d:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&E||r.props.showTimeSelectOnly)){var _=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],k=["react-datepicker__navigation","react-datepicker__navigation--previous"],A=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(A=r.decreaseYear),E&&r.props.showDisabledMonthNavigation&&(k.push("react-datepicker__navigation--previous--disabled"),A=void 0);var I=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,L=r.props,j=L.previousMonthButtonLabel,D=j===void 0?t.defaultProps.previousMonthButtonLabel:j,R=L.previousYearButtonLabel,W=R===void 0?t.defaultProps.previousYearButtonLabel:R,Z=r.props,U=Z.previousMonthAriaLabel,O=U===void 0?typeof D=="string"?D:"Previous Month":U,V=Z.previousYearAriaLabel,Y=V===void 0?typeof W=="string"?W:"Previous Year":V;return ue.createElement("button",{type:"button",className:k.join(" "),onClick:A,onKeyDown:r.props.handleOnKeyDown,"aria-label":I?Y:O},ue.createElement("span",{className:_.join(" ")},I?W:D))}}},r.increaseYear=function(){r.setState(function(i){var a,d=i.date;return{date:ca(d,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=Fb(r.state.date,r.props);break;case r.props.showYearPicker:a=BP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=PP(r.state.date,r.props);break;default:a=Lb(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var x=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(x=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),x=void 0);var v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,E=w.nextMonthButtonLabel,_=E===void 0?t.defaultProps.nextMonthButtonLabel:E,k=w.nextYearButtonLabel,A=k===void 0?t.defaultProps.nextYearButtonLabel:k,I=r.props,L=I.nextMonthAriaLabel,j=L===void 0?typeof _=="string"?_:"Next Month":L,D=I.nextYearAriaLabel,R=D===void 0?typeof A=="string"?A:"Next Year":D;return ue.createElement("button",{type:"button",className:d.join(" "),onClick:x,onKeyDown:r.props.handleOnKeyDown,"aria-label":v?R:j},ue.createElement("span",{className:g.join(" ")},v?A:_))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),ue.createElement("h2",{className:a.join(" ")},En(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return ue.createElement(aF,Ft({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:bt(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return ue.createElement(ZP,Ft({},t.defaultProps,r.props,{month:Ir(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return ue.createElement(tF,Ft({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(Db(),i),r.props.setPreSelection&&r.props.setPreSelection(Db())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return ue.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var a=i.monthDate,d=i.i;return ue.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),ue.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(d!==0),r.renderMonthYearDropdown(d!==0),r.renderYearDropdown(d!==0)),ue.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(i){var a,d,g=i.monthDate,x=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var v=Mb(r.state.date,r.props),w=Lb(r.state.date,r.props),E=Pb(r.state.date,r.props),_=Fb(r.state.date,r.props),k=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return ue.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(d=(a=r.props).renderCustomHeader)===null||d===void 0?void 0:d.call(a,Ft(Ft({},r.state),{customHeaderCount:x,monthDate:g,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:v,nextMonthButtonDisabled:w,prevYearButtonDisabled:E,nextYearButtonDisabled:_})),k&&ue.createElement("div",{className:"react-datepicker__day-names"},r.header(g)))},r.renderYearHeader=function(i){var a=i.monthDate,d=r.props,g=d.showYearPicker,x=d.yearItemNumber,v=x===void 0?t.defaultProps.yearItemNumber:x,w=Qa(a,v),E=w.startPeriod,_=w.endPeriod;return ue.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},g?"".concat(E," - ").concat(_):bt(a))},r.renderHeader=function(i){var a=i.monthDate,d=i.i,g=d===void 0?0:d,x={monthDate:a,i:g};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(x);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(x);default:return r.renderDefaultHeader(x)}},r.renderMonths=function(){var i,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var d=[],g=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,x=r.props.showPreviousMonths?g-1:0,v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ca(r.state.date,x):tl(r.state.date,x),w=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:x,E=0;E<g;++E){var _=E-w+x,k=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ca(v,_):di(v,_),A="month-".concat(E),I=E<g-1,L=E>0;d.push(ue.createElement("div",{key:A,ref:function(j){r.monthContainer=j??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:k,i:E}),ue.createElement(QP,Ft({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:k,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:E,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:I,monthShowsDuplicateDaysStart:L}))))}return d}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return ue.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),ue.createElement(rF,Ft({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return ue.createElement(nF,Ft({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,a=i&&lp(i)&&!!r.props.selected,d=a?"".concat(Ub(i.getHours()),":").concat(Ub(i.getMinutes())):"";if(r.props.showTimeInput)return ue.createElement(VP,Ft({},t.defaultProps,r.props,{date:i,timeString:d,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,a=Qa(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),d=a.startPeriod,g=a.endPeriod,x;return r.props.showYearPicker?x="".concat(d," - ").concat(g):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?x=bt(r.state.date):x="".concat(p2(Ir(r.state.date),r.props.locale)," ").concat(bt(r.state.date)),ue.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&x)},r.renderChildren=function(){if(r.props.children)return ue.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=M.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Nd}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Pt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Ur(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Pt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||EP;return ue.createElement(op,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ue.createElement("div",{style:{display:"contents"},ref:this.containerRef},ue.createElement(n,{className:Cn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(M.Component),uF=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,i=e.onClick,a="react-datepicker__calendar-icon";if(typeof t=="string")return ue.createElement("i",{className:"".concat(a," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i});if(ue.isValidElement(t)){var d=t;return ue.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(a," ").concat(r),onClick:function(g){typeof d.props.onClick=="function"&&d.props.onClick(g),typeof i=="function"&&i(g)}})}return ue.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ue.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},IN=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return LD.createPortal(this.props.children,this.el)},t}(M.Component),dF="[tabindex], a, button, input, select, textarea",fF=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},RN=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(dF),1,-1).filter(fF)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=M.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?ue.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ue.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ue.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(M.Component);function hF(e){var t=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,a=M.useRef(null),d=CP(Ft({open:!i,whileElementsMounted:nP,placement:n.popperPlacement,middleware:ji([cP({padding:15}),lP(10),uP({element:a})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),g=Ft(Ft({},n),{hidePopper:i,popperProps:Ft(Ft({},d),{arrowRef:a})});return ue.createElement(e,Ft({},g))};return t}var pF=function(e){hr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,a=n.hidePopper,d=a===void 0?t.defaultProps.hidePopper:a,g=n.popperComponent,x=n.targetComponent,v=n.enableTabLoop,w=n.popperOnKeyDown,E=n.portalId,_=n.portalHost,k=n.popperProps,A=n.showArrow,I=void 0;if(!d){var L=Cn("react-datepicker-popper",r);I=ue.createElement(RN,{enableTabLoop:v},ue.createElement("div",{ref:k.refs.setFloating,style:k.floatingStyles,className:L,"data-placement":k.placement,onKeyDown:w},g,A&&ue.createElement(mP,{ref:k.arrowRef,context:k.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(I=M.createElement(this.props.popperContainer,{},I)),E&&!d&&(I=ue.createElement(IN,{portalId:E,portalHost:_},I));var j=Cn("react-datepicker-wrapper",i);return ue.createElement(ue.Fragment,null,ue.createElement("div",{ref:k.refs.setReference,className:j},x),I)},t}(M.Component),mF=hF(pF),Yb="react-datepicker-ignore-onclickoutside";function gF(e,t){return e&&t?Ir(e)!==Ir(t)||bt(e)!==bt(t):e!==t}var J1="Date input not valid.",ON=function(e){hr(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Yt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,d){var g=new Date(d.date);return lp(g)?ji(ji([],a,!0),[Ft(Ft({},d),{date:g})],!1):a},[])},r.calcInitialState=function(){var i,a=r.getPreSelection(),d=TN(r.props),g=DN(r.props),x=d&&dl(a,w0(d))?d:g&&uo(a,jb(g))?g:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:x,highlightDates:Bb(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Ft(Ft({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Ft(Ft({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},r.setBlur=function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,a){a===void 0&&(a=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:em},function(){i||r.setState(function(d){return{focused:a?d.focused:!1}},function(){!a&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return ua(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var a,d,g=r.state.wasHidden,x=g?r.state.open:!0;g&&r.resetHiddenStatus(),r.state.preventFocus||((d=(a=r.props).onFocus)===null||d===void 0||d.call(a,i),x&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var a,d;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((d=(a=r.props).onBlur)===null||d===void 0||d.call(a,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var a,d;r.props.inline||r.setOpen(!1),(d=(a=r.props).onClickOutside)===null||d===void 0||d.call(a,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,a,d,g,x,v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];var E=v[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,v),!E||typeof E.isDefaultPrevented!="function"||E.isDefaultPrevented()))){r.setState({inputValue:(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:null,lastPreSelectChange:xF});var _=r.props,k=_.selectsRange,A=_.startDate,I=_.endDate,L=(i=r.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,j=(a=r.props.strictParsing)!==null&&a!==void 0?a:t.defaultProps.strictParsing,D=(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:"";if(k){var R=D.split(L.includes("-")?SN:"-",2).map(function(de){return de.trim()}),W=R[0],Z=R[1],U=Q1(W??"",L,r.props.locale,j),O=Q1(Z??"",L,r.props.locale,j),V=(A==null?void 0:A.getTime())!==(U==null?void 0:U.getTime()),Y=(I==null?void 0:I.getTime())!==(O==null?void 0:O.getTime());if(!V&&!Y||U&&Hs(U,r.props)||O&&Hs(O,r.props))return;(g=(d=r.props).onChange)===null||g===void 0||g.call(d,[U,O],E)}else{var ee=Q1(D,L,r.props.locale,j,(x=r.props.selected)!==null&&x!==void 0?x:void 0);(ee||!D)&&r.setSelected(ee,E,!0)}}},r.handleSelect=function(i,a,d){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(i,a,!1,d),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var g=r.props,x=g.startDate,v=g.endDate;x&&!v&&(r.props.swapRange||!Hb(i,x))&&r.setOpen(!1)}}},r.setSelected=function(i,a,d,g){var x,v,w=i;if(r.props.showYearPicker){if(w!==null&&b0(bt(w),r.props))return}else if(r.props.showMonthYearPicker){if(w!==null&&kN(w,r.props))return}else if(w!==null&&Hs(w,r.props))return;var E=r.props,_=E.onChange,k=E.selectsRange,A=E.startDate,I=E.endDate,L=E.selectsMultiple,j=E.selectedDates,D=E.minTime,R=E.swapRange;if(!Ko(r.props.selected,w)||r.props.allowSameDay||k||L)if(w!==null&&(r.props.selected&&(!d||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(w=K1(w,{hour:da(r.props.selected),minute:fa(r.props.selected),second:ao(r.props.selected)})),!d&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&D&&(w=K1(w,{hour:D.getHours(),minute:D.getMinutes(),second:D.getSeconds()})),r.props.inline||r.setState({preSelection:w}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:g})),k){var W=!A&&!I,Z=A&&!I,U=A&&I;W?_==null||_([w,null],a):Z&&(w===null?_==null||_([null,null],a):Hb(w,A)?R?_==null||_([w,A],a):_==null||_([w,null],a):_==null||_([A,w],a)),U&&(_==null||_([w,null],a))}else if(L){if(w!==null)if(!(j!=null&&j.length))_==null||_([w],a);else{var O=j.some(function(Y){return Pt(Y,w)});if(O){var V=j.filter(function(Y){return!Pt(Y,w)});_==null||_(V,a)}else _==null||_(ji(ji([],j,!0),[w],!1),a)}}else _==null||_(w,a);d||((v=(x=r.props).onSelect)===null||v===void 0||v.call(x,w,a),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var a=ua(r.props.minDate),d=ua(r.props.maxDate),g=!0;if(i){var x=w0(i);if(a&&d)g=Tu(i,r.props.minDate,r.props.maxDate);else if(a){var v=w0(r.props.minDate);g=uo(i,v)||Ko(x,v)}else if(d){var w=jb(r.props.maxDate);g=dl(i,w)||Ko(x,w)}}g&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var a,d;if(!(r.props.selectsRange||r.props.selectsMultiple)){var g=r.props.selected?r.props.selected:r.getPreSelection(),x=r.props.selected?i:K1(g,{hour:da(i),minute:fa(i)});r.setState({preSelection:x}),(d=(a=r.props).onChange)===null||d===void 0||d.call(a,x),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(i=r.props).onInputClick)===null||a===void 0||a.call(i)},r.onInputKeyDown=function(i){var a,d,g,x,v,w;(d=(a=r.props).onKeyDown)===null||d===void 0||d.call(a,i);var E=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(E===Pe.ArrowDown||E===Pe.ArrowUp||E===Pe.Enter)&&((g=r.onInputClick)===null||g===void 0||g.call(r));return}if(r.state.open){if(E===Pe.ArrowDown||E===Pe.ArrowUp){i.preventDefault();var _=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',k=((x=r.calendar)===null||x===void 0?void 0:x.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(_);k instanceof HTMLElement&&k.focus({preventScroll:!0});return}var A=Yt(r.state.preSelection);E===Pe.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===em?(r.handleSelect(A,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(A)):r.setOpen(!1)):E===Pe.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):E===Pe.Tab&&r.setOpen(!1),r.inputOk()||(w=(v=r.props).onInputError)===null||w===void 0||w.call(v,{code:1,msg:J1})}},r.onPortalKeyDown=function(i){var a=i.key;a===Pe.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var a,d,g,x,v,w,E=r.props,_=E.minDate,k=E.maxDate,A=E.disabledKeyboardNavigation,I=E.showWeekPicker,L=E.shouldCloseOnSelect,j=E.locale,D=E.calendarStartDay,R=E.adjustDateOnChange,W=E.inline;if((d=(a=r.props).onKeyDown)===null||d===void 0||d.call(a,i),!A){var Z=i.key,U=i.shiftKey,O=Yt(r.state.preSelection),V=function(ne,Se){var we=Se;switch(ne){case Pe.ArrowRight:we=I?rh(Se,1):ci(Se,1);break;case Pe.ArrowLeft:we=I?ub(Se,1):E9(Se,1);break;case Pe.ArrowUp:we=ub(Se,1);break;case Pe.ArrowDown:we=rh(Se,1);break;case Pe.PageUp:we=U?yc(Se,1):tl(Se,1);break;case Pe.PageDown:we=U?ca(Se,1):di(Se,1);break;case Pe.Home:we=oo(Se,j,D);break;case Pe.End:we=TP(Se);break}return we},Y=function(ne,Se){for(var we=40,ce=ne,ve=!1,Oe=0,Ye=V(ne,Se);!ve;){if(Oe>=we){Ye=Se;break}_&&Ye<_&&(ce=Pe.ArrowRight,Ye=Hs(_,r.props)?V(ce,Ye):_),k&&Ye>k&&(ce=Pe.ArrowLeft,Ye=Hs(k,r.props)?V(ce,Ye):k),Hs(Ye,r.props)?((ce===Pe.PageUp||ce===Pe.Home)&&(ce=Pe.ArrowRight),(ce===Pe.PageDown||ce===Pe.End)&&(ce=Pe.ArrowLeft),Ye=V(ce,Ye)):ve=!0,Oe++}return Ye};if(Z===Pe.Enter){i.preventDefault(),r.handleSelect(O,i),!L&&r.setPreSelection(O);return}else if(Z===Pe.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(x=(g=r.props).onInputError)===null||x===void 0||x.call(g,{code:1,msg:J1});return}var ee=null;switch(Z){case Pe.ArrowLeft:case Pe.ArrowRight:case Pe.ArrowUp:case Pe.ArrowDown:case Pe.PageUp:case Pe.PageDown:case Pe.Home:case Pe.End:ee=Y(Z,O);break}if(!ee){(w=(v=r.props).onInputError)===null||w===void 0||w.call(v,{code:1,msg:J1});return}if(i.preventDefault(),r.setState({lastPreSelectChange:em}),R&&r.setSelected(ee),r.setPreSelection(ee),W){var de=Ir(O),ie=Ir(ee),le=bt(O),Te=bt(ee);de!==ie||le!==Te?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var a=i.key;a===Pe.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var a=r.props,d=a.selectsRange,g=a.onChange;d?g==null||g([null,null],i):g==null||g(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,a;return!r.props.inline&&!r.isCalendarOpen()?null:ue.createElement(cF,Ft({showMonthYearDropdown:void 0,ref:function(d){r.calendar=d}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:zP(r.modifyHolidays()),outsideClickIgnoreClass:Yb,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,a=i.dateFormat,d=a===void 0?t.defaultProps.dateFormat:a,g=i.locale,x=r.props.showTimeInput||r.props.showTimeSelect,v=x?"PPPPp":"PPPP",w;return r.props.selectsRange?w="Selected start date: ".concat(Bs(r.props.startDate,{dateFormat:v,locale:g}),". ").concat(r.props.endDate?"End date: "+Bs(r.props.endDate,{dateFormat:v,locale:g}):""):r.props.showTimeSelectOnly?w="Selected time: ".concat(Bs(r.props.selected,{dateFormat:d,locale:g})):r.props.showYearPicker?w="Selected year: ".concat(Bs(r.props.selected,{dateFormat:"yyyy",locale:g})):r.props.showMonthYearPicker?w="Selected month: ".concat(Bs(r.props.selected,{dateFormat:"MMMM yyyy",locale:g})):r.props.showQuarterYearPicker?w="Selected quarter: ".concat(Bs(r.props.selected,{dateFormat:"yyyy, QQQ",locale:g})):w="Selected date: ".concat(Bs(r.props.selected,{dateFormat:v,locale:g})),ue.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},w)},r.renderDateInput=function(){var i,a,d,g=Cn(r.props.className,(i={},i[Yb]=r.state.open,i)),x=r.props.customInput||ue.createElement("input",{type:"text"}),v=r.props.customInputRef||"ref",w=r.props,E=w.dateFormat,_=E===void 0?t.defaultProps.dateFormat:E,k=w.locale,A=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?_P(r.props.startDate,r.props.endDate,{dateFormat:_,locale:k}):r.props.selectsMultiple?SP((d=r.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:_,locale:k}):Bs(r.props.selected,{dateFormat:_,locale:k});return M.cloneElement(x,(a={},a[v]=function(I){r.input=I},a.value=A,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=Cn(x.props.className,g),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var i=r.props,a=i.isClearable,d=i.disabled,g=i.selected,x=i.startDate,v=i.endDate,w=i.clearButtonTitle,E=i.clearButtonClassName,_=E===void 0?"":E,k=i.ariaLabelClose,A=k===void 0?"Close":k,I=i.selectedDates,L=i.readOnly;return a&&!L&&(g!=null||x!=null||v!=null||I!=null&&I.length)?ue.createElement("button",{type:"button",className:Cn("react-datepicker__close-icon",_,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":A,onClick:r.onClearClick,title:w,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Nd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var i,a,d,g;n.inline&&gF(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Bb(this.props.highlightDates)}),!r.focused&&!Ko(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),r.open===!0&&this.state.open===!1&&((g=(d=this.props).onCalendarClose)===null||g===void 0||g.call(d)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,a=n.calendarIconClassname,d=n.calendarIconClassName,g=n.toggleCalendarOnIconClick,x=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ue.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&ue.createElement(uF,Ft({icon:i,className:Cn(d,!d&&a,x&&"react-datepicker-ignore-onclickoutside")},g?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?ue.createElement(RN,{enableTabLoop:this.props.enableTabLoop},ue.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=ue.createElement(IN,Ft({portalId:this.props.portalId},this.props),r)),ue.createElement("div",null,this.renderInputContainer(),r)}return ue.createElement(mF,Ft({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(M.Component),xF="input",em="navigate";var xh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */xh.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",g="Invalid `variable` option passed into `_.template`",x="__lodash_hash_undefined__",v=500,w="__lodash_placeholder__",E=1,_=2,k=4,A=1,I=2,L=1,j=2,D=4,R=8,W=16,Z=32,U=64,O=128,V=256,Y=512,ee=30,de="...",ie=800,le=16,Te=1,ne=2,Se=3,we=1/0,ce=9007199254740991,ve=17976931348623157e292,Oe=0/0,Ye=4294967295,Je=Ye-1,ke=Ye>>>1,Xe=[["ary",O],["bind",L],["bindKey",j],["curry",R],["curryRight",W],["flip",Y],["partial",Z],["partialRight",U],["rearg",V]],st="[object Arguments]",_e="[object Array]",Ct="[object AsyncFunction]",lt="[object Boolean]",on="[object Date]",Zn="[object DOMException]",kt="[object Error]",ln="[object Function]",Ce="[object GeneratorFunction]",Ge="[object Map]",me="[object Number]",Me="[object Null]",Fe="[object Object]",qe="[object Promise]",ft="[object Proxy]",Re="[object RegExp]",Ne="[object Set]",gn="[object String]",pr="[object Symbol]",Ie="[object Undefined]",Ze="[object WeakMap]",Rt="[object WeakSet]",nn="[object ArrayBuffer]",Gt="[object DataView]",dn="[object Float32Array]",is="[object Float64Array]",Ss="[object Int8Array]",Fi="[object Int16Array]",tn="[object Int32Array]",je="[object Uint8Array]",rn="[object Uint8ClampedArray]",jt="[object Uint16Array]",qt="[object Uint32Array]",Xs=/\b__p \+= '';/g,wo=/\b(__p \+=) '' \+/g,kd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ot=/&(?:amp|lt|gt|quot|#39);/g,mi=/[&<>"']/g,Td=RegExp(Ot.source),Dd=RegExp(mi.source),as=/<%-([\s\S]+?)%>/g,Mc=/<%([\s\S]+?)%>/g,Jn=/<%=([\s\S]+?)%>/g,Ea=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xl=/^\w*$/,As=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lc=/[\\^$.*+?()[\]{}|]/g,Bi=RegExp(Lc.source),bo=/^\s+/,br=/\s/,Ui=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$r=/\{\n\/\* \[wrapped with (.+)\] \*/,Be=/,? & /,Na=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pc=/[()=,{}\[\]\/\s]/,Cr=/\\(\\)?/g,_a=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Co=/\w*$/,vl=/^[-+]0x[0-9a-f]+$/i,ks=/^0b[01]+$/i,up=/^\[object .+?Constructor\]$/,dp=/^0o[0-7]+$/i,Ts=/^(?:0|[1-9]\d*)$/,mr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,jd=/['\n\r\u2028\u2029\\]/g,os="\\ud800-\\udfff",Fc="\\u0300-\\u036f",Ee="\\ufe20-\\ufe2f",fp="\\u20d0-\\u20ff",fn=Fc+Ee+fp,zi="\\u2700-\\u27bf",Id="a-z\\xdf-\\xf6\\xf8-\\xff",Ut="\\xac\\xb1\\xd7\\xf7",Lt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Nt="\\u2000-\\u206f",Bc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yl="A-Z\\xc0-\\xd6\\xd8-\\xde",wl="\\ufe0e\\ufe0f",Dn=Ut+Lt+Nt+Bc,Ds="['’]",hp="["+os+"]",xn="["+Dn+"]",ls="["+fn+"]",Rd="\\d+",Sa="["+zi+"]",Qt="["+Id+"]",er="[^"+os+Dn+Rd+zi+Id+yl+"]",oe="\\ud83c[\\udffb-\\udfff]",Q="(?:"+ls+"|"+oe+")",Ke="[^"+os+"]",jn="(?:\\ud83c[\\udde6-\\uddff]){2}",Er="[\\ud800-\\udbff][\\udc00-\\udfff]",Aa="["+yl+"]",bl="\\u200d",Or="(?:"+Qt+"|"+er+")",et="(?:"+Aa+"|"+er+")",cn="(?:"+Ds+"(?:d|ll|m|re|s|t|ve))?",Uc="(?:"+Ds+"(?:D|LL|M|RE|S|T|VE))?",Od=Q+"?",Cl="["+wl+"]?",El="(?:"+bl+"(?:"+[Ke,jn,Er].join("|")+")"+Cl+Od+")*",zc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bn=Cl+Od+El,Eo="(?:"+[Sa,jn,Er].join("|")+")"+Bn,gi="(?:"+[Ke+ls+"?",ls,jn,Er,hp].join("|")+")",nt=RegExp(Ds,"g"),mp=RegExp(ls,"g"),pt=RegExp(oe+"(?="+oe+")|"+gi+Bn,"g"),tr=RegExp([Aa+"?"+Qt+"+"+cn+"(?="+[xn,Aa,"$"].join("|")+")",et+"+"+Uc+"(?="+[xn,Aa+Or,"$"].join("|")+")",Aa+"?"+Or+"+"+cn,Aa+"+"+Uc,pp,zc,Rd,Eo].join("|"),"g"),gp=RegExp("["+bl+os+fn+wl+"]"),Wc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Md=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wi=-1,sn={};sn[dn]=sn[is]=sn[Ss]=sn[Fi]=sn[tn]=sn[je]=sn[rn]=sn[jt]=sn[qt]=!0,sn[st]=sn[_e]=sn[nn]=sn[lt]=sn[Gt]=sn[on]=sn[kt]=sn[ln]=sn[Ge]=sn[me]=sn[Fe]=sn[Re]=sn[Ne]=sn[gn]=sn[Ze]=!1;var zt={};zt[st]=zt[_e]=zt[nn]=zt[Gt]=zt[lt]=zt[on]=zt[dn]=zt[is]=zt[Ss]=zt[Fi]=zt[tn]=zt[Ge]=zt[me]=zt[Fe]=zt[Re]=zt[Ne]=zt[gn]=zt[pr]=zt[je]=zt[rn]=zt[jt]=zt[qt]=!0,zt[kt]=zt[ln]=zt[Ze]=!1;var No={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},_o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ld={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},So={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ao=parseFloat,Nr=parseInt,Hc=typeof Ai=="object"&&Ai&&Ai.Object===Object&&Ai,Pd=typeof self=="object"&&self&&self.Object===Object&&self,$n=Hc||Pd||Function("return this")(),qc=t&&!t.nodeType&&t,Hi=qc&&!0&&e&&!e.nodeType&&e,Fd=Hi&&Hi.exports===qc,Wt=Fd&&Hc.process,Mr=function(){try{var z=Hi&&Hi.require&&Hi.require("util").types;return z||Wt&&Wt.binding&&Wt.binding("util")}catch{}}(),ko=Mr&&Mr.isArrayBuffer,Qs=Mr&&Mr.isDate,Bd=Mr&&Mr.isMap,fe=Mr&&Mr.isRegExp,gt=Mr&&Mr.isSet,Gn=Mr&&Mr.isTypedArray;function or(z,$,X){switch(X.length){case 0:return z.call($);case 1:return z.call($,X[0]);case 2:return z.call($,X[0],X[1]);case 3:return z.call($,X[0],X[1],X[2])}return z.apply($,X)}function Ud(z,$,X,te){for(var he=-1,ge=z==null?0:z.length;++he<ge;){var xe=z[he];$(te,xe,X(xe),z)}return te}function Gr(z,$){for(var X=-1,te=z==null?0:z.length;++X<te&&$(z[X],X,z)!==!1;);return z}function xp(z,$){for(var X=z==null?0:z.length;X--&&$(z[X],X,z)!==!1;);return z}function zd(z,$){for(var X=-1,te=z==null?0:z.length;++X<te;)if(!$(z[X],X,z))return!1;return!0}function js(z,$){for(var X=-1,te=z==null?0:z.length,he=0,ge=[];++X<te;){var xe=z[X];$(xe,X,z)&&(ge[he++]=xe)}return ge}function vn(z,$){var X=z==null?0:z.length;return!!X&&gr(z,$,0)>-1}function To(z,$,X){for(var te=-1,he=z==null?0:z.length;++te<he;)if(X($,z[te]))return!0;return!1}function ct(z,$){for(var X=-1,te=z==null?0:z.length,he=Array(te);++X<te;)he[X]=$(z[X],X,z);return he}function cs(z,$){for(var X=-1,te=$.length,he=z.length;++X<te;)z[he+X]=$[X];return z}function Ks(z,$,X,te){var he=-1,ge=z==null?0:z.length;for(te&&ge&&(X=z[++he]);++he<ge;)X=$(X,z[he],he,z);return X}function Kt(z,$,X,te){var he=z==null?0:z.length;for(te&&he&&(X=z[--he]);he--;)X=$(X,z[he],he,z);return X}function tt(z,$){for(var X=-1,te=z==null?0:z.length;++X<te;)if($(z[X],X,z))return!0;return!1}var vp=Sl("length");function an(z){return z.split("")}function qi(z){return z.match(Na)||[]}function Vi(z,$,X){var te;return X(z,function(he,ge,xe){if($(he,ge,xe))return te=ge,!1}),te}function Nl(z,$,X,te){for(var he=z.length,ge=X+(te?1:-1);te?ge--:++ge<he;)if($(z[ge],ge,z))return ge;return-1}function gr(z,$,X){return $===$?c(z,$,X):Nl(z,Yc,X)}function Vc(z,$,X,te){for(var he=X-1,ge=z.length;++he<ge;)if(te(z[he],$))return he;return-1}function Yc(z){return z!==z}function _l(z,$){var X=z==null?0:z.length;return X?Do(z,$)/X:Oe}function Sl(z){return function($){return $==null?n:$[z]}}function Al(z){return function($){return z==null?n:z[$]}}function Wd(z,$,X,te,he){return he(z,function(ge,xe,Ve){X=te?(te=!1,ge):$(X,ge,xe,Ve)}),X}function ka(z,$){var X=z.length;for(z.sort($);X--;)z[X]=z[X].value;return z}function Do(z,$){for(var X,te=-1,he=z.length;++te<he;){var ge=$(z[te]);ge!==n&&(X=X===n?ge:X+ge)}return X}function $c(z,$){for(var X=-1,te=Array(z);++X<z;)te[X]=$(X);return te}function jo(z,$){return ct($,function(X){return[X,z[X]]})}function Hd(z){return z&&z.slice(0,y(z)+1).replace(bo,"")}function In(z){return function($){return z($)}}function Ta(z,$){return ct($,function(X){return z[X]})}function lr(z,$){return z.has($)}function Gc(z,$){for(var X=-1,te=z.length;++X<te&&gr($,z[X],0)>-1;);return X}function us(z,$){for(var X=z.length;X--&&gr($,z[X],0)>-1;);return X}function yp(z,$){for(var X=z.length,te=0;X--;)z[X]===$&&++te;return te}var Xc=Al(No),wp=Al(_o);function qd(z){return"\\"+So[z]}function Is(z,$){return z==null?n:z[$]}function Da(z){return gp.test(z)}function Qc(z){return Wc.test(z)}function Io(z){for(var $,X=[];!($=z.next()).done;)X.push($.value);return X}function _t(z){var $=-1,X=Array(z.size);return z.forEach(function(te,he){X[++$]=[he,te]}),X}function Ro(z,$){return function(X){return z($(X))}}function P(z,$){for(var X=-1,te=z.length,he=0,ge=[];++X<te;){var xe=z[X];(xe===$||xe===w)&&(z[X]=w,ge[he++]=X)}return ge}function s(z){var $=-1,X=Array(z.size);return z.forEach(function(te){X[++$]=te}),X}function o(z){var $=-1,X=Array(z.size);return z.forEach(function(te){X[++$]=[te,te]}),X}function c(z,$,X){for(var te=X-1,he=z.length;++te<he;)if(z[te]===$)return te;return-1}function f(z,$,X){for(var te=X+1;te--;)if(z[te]===$)return te;return te}function h(z){return Da(z)?N(z):vp(z)}function m(z){return Da(z)?T(z):an(z)}function y(z){for(var $=z.length;$--&&br.test(z.charAt($)););return $}var C=Al(Ld);function N(z){for(var $=pt.lastIndex=0;pt.test(z);)++$;return $}function T(z){return z.match(pt)||[]}function F(z){return z.match(tr)||[]}var H=function z($){$=$==null?$n:K.defaults($n.Object(),$,K.pick($n,Md));var X=$.Array,te=$.Date,he=$.Error,ge=$.Function,xe=$.Math,Ve=$.Object,ht=$.RegExp,_r=$.String,yn=$.TypeError,nr=X.prototype,Zt=ge.prototype,wn=Ve.prototype,cr=$["__core-js_shared__"],Zs=Zt.toString,Tt=wn.hasOwnProperty,bp=0,Vd=function(){var u=/[^.]+$/.exec(cr&&cr.keys&&cr.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Yd=wn.toString,i5=Zs.call(Ve),a5=$n._,o5=ht("^"+Zs.call(Tt).replace(Lc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$d=Fd?$.Buffer:n,ja=$.Symbol,Gd=$.Uint8Array,E2=$d?$d.allocUnsafe:n,Xd=Ro(Ve.getPrototypeOf,Ve),N2=Ve.create,_2=wn.propertyIsEnumerable,Qd=nr.splice,S2=ja?ja.isConcatSpreadable:n,Kc=ja?ja.iterator:n,Oo=ja?ja.toStringTag:n,Kd=function(){try{var u=Bo(Ve,"defineProperty");return u({},"",{}),u}catch{}}(),l5=$.clearTimeout!==$n.clearTimeout&&$.clearTimeout,c5=te&&te.now!==$n.Date.now&&te.now,u5=$.setTimeout!==$n.setTimeout&&$.setTimeout,Zd=xe.ceil,Jd=xe.floor,Cp=Ve.getOwnPropertySymbols,d5=$d?$d.isBuffer:n,A2=$.isFinite,f5=nr.join,h5=Ro(Ve.keys,Ve),rr=xe.max,Sr=xe.min,p5=te.now,m5=$.parseInt,k2=xe.random,g5=nr.reverse,Ep=Bo($,"DataView"),Zc=Bo($,"Map"),Np=Bo($,"Promise"),kl=Bo($,"Set"),Jc=Bo($,"WeakMap"),eu=Bo(Ve,"create"),ef=Jc&&new Jc,Tl={},x5=Uo(Ep),v5=Uo(Zc),y5=Uo(Np),w5=Uo(kl),b5=Uo(Jc),tf=ja?ja.prototype:n,tu=tf?tf.valueOf:n,T2=tf?tf.toString:n;function q(u){if(Rn(u)&&!mt(u)&&!(u instanceof Dt)){if(u instanceof Rs)return u;if(Tt.call(u,"__wrapped__"))return Dv(u)}return new Rs(u)}var Dl=function(){function u(){}return function(p){if(!Nn(p))return{};if(N2)return N2(p);u.prototype=p;var b=new u;return u.prototype=n,b}}();function nf(){}function Rs(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}q.templateSettings={escape:as,evaluate:Mc,interpolate:Jn,variable:"",imports:{_:q}},q.prototype=nf.prototype,q.prototype.constructor=q,Rs.prototype=Dl(nf.prototype),Rs.prototype.constructor=Rs;function Dt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ye,this.__views__=[]}function C5(){var u=new Dt(this.__wrapped__);return u.__actions__=Xr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Xr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Xr(this.__views__),u}function E5(){if(this.__filtered__){var u=new Dt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function N5(){var u=this.__wrapped__.value(),p=this.__dir__,b=mt(u),S=p<0,B=b?u.length:0,G=L_(0,B,this.__views__),J=G.start,re=G.end,ae=re-J,ye=S?re:J-1,be=this.__iteratees__,Ae=be.length,Le=0,Qe=Sr(ae,this.__takeCount__);if(!b||!S&&B==ae&&Qe==ae)return J2(u,this.__actions__);var it=[];e:for(;ae--&&Le<Qe;){ye+=p;for(var yt=-1,at=u[ye];++yt<Ae;){var St=be[yt],It=St.iteratee,hs=St.type,Fr=It(at);if(hs==ne)at=Fr;else if(!Fr){if(hs==Te)continue e;break e}}it[Le++]=at}return it}Dt.prototype=Dl(nf.prototype),Dt.prototype.constructor=Dt;function Mo(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var S=u[p];this.set(S[0],S[1])}}function _5(){this.__data__=eu?eu(null):{},this.size=0}function S5(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p}function A5(u){var p=this.__data__;if(eu){var b=p[u];return b===x?n:b}return Tt.call(p,u)?p[u]:n}function k5(u){var p=this.__data__;return eu?p[u]!==n:Tt.call(p,u)}function T5(u,p){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=eu&&p===n?x:p,this}Mo.prototype.clear=_5,Mo.prototype.delete=S5,Mo.prototype.get=A5,Mo.prototype.has=k5,Mo.prototype.set=T5;function Yi(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var S=u[p];this.set(S[0],S[1])}}function D5(){this.__data__=[],this.size=0}function j5(u){var p=this.__data__,b=rf(p,u);if(b<0)return!1;var S=p.length-1;return b==S?p.pop():Qd.call(p,b,1),--this.size,!0}function I5(u){var p=this.__data__,b=rf(p,u);return b<0?n:p[b][1]}function R5(u){return rf(this.__data__,u)>-1}function O5(u,p){var b=this.__data__,S=rf(b,u);return S<0?(++this.size,b.push([u,p])):b[S][1]=p,this}Yi.prototype.clear=D5,Yi.prototype.delete=j5,Yi.prototype.get=I5,Yi.prototype.has=R5,Yi.prototype.set=O5;function $i(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var S=u[p];this.set(S[0],S[1])}}function M5(){this.size=0,this.__data__={hash:new Mo,map:new(Zc||Yi),string:new Mo}}function L5(u){var p=gf(this,u).delete(u);return this.size-=p?1:0,p}function P5(u){return gf(this,u).get(u)}function F5(u){return gf(this,u).has(u)}function B5(u,p){var b=gf(this,u),S=b.size;return b.set(u,p),this.size+=b.size==S?0:1,this}$i.prototype.clear=M5,$i.prototype.delete=L5,$i.prototype.get=P5,$i.prototype.has=F5,$i.prototype.set=B5;function Lo(u){var p=-1,b=u==null?0:u.length;for(this.__data__=new $i;++p<b;)this.add(u[p])}function U5(u){return this.__data__.set(u,x),this}function z5(u){return this.__data__.has(u)}Lo.prototype.add=Lo.prototype.push=U5,Lo.prototype.has=z5;function Js(u){var p=this.__data__=new Yi(u);this.size=p.size}function W5(){this.__data__=new Yi,this.size=0}function H5(u){var p=this.__data__,b=p.delete(u);return this.size=p.size,b}function q5(u){return this.__data__.get(u)}function V5(u){return this.__data__.has(u)}function Y5(u,p){var b=this.__data__;if(b instanceof Yi){var S=b.__data__;if(!Zc||S.length<i-1)return S.push([u,p]),this.size=++b.size,this;b=this.__data__=new $i(S)}return b.set(u,p),this.size=b.size,this}Js.prototype.clear=W5,Js.prototype.delete=H5,Js.prototype.get=q5,Js.prototype.has=V5,Js.prototype.set=Y5;function D2(u,p){var b=mt(u),S=!b&&zo(u),B=!b&&!S&&La(u),G=!b&&!S&&!B&&Ol(u),J=b||S||B||G,re=J?$c(u.length,_r):[],ae=re.length;for(var ye in u)(p||Tt.call(u,ye))&&!(J&&(ye=="length"||B&&(ye=="offset"||ye=="parent")||G&&(ye=="buffer"||ye=="byteLength"||ye=="byteOffset")||Ki(ye,ae)))&&re.push(ye);return re}function j2(u){var p=u.length;return p?u[Mp(0,p-1)]:n}function $5(u,p){return xf(Xr(u),Po(p,0,u.length))}function G5(u){return xf(Xr(u))}function _p(u,p,b){(b!==n&&!ei(u[p],b)||b===n&&!(p in u))&&Gi(u,p,b)}function nu(u,p,b){var S=u[p];(!(Tt.call(u,p)&&ei(S,b))||b===n&&!(p in u))&&Gi(u,p,b)}function rf(u,p){for(var b=u.length;b--;)if(ei(u[b][0],p))return b;return-1}function X5(u,p,b,S){return Ia(u,function(B,G,J){p(S,B,b(B),J)}),S}function I2(u,p){return u&&vi(p,ur(p),u)}function Q5(u,p){return u&&vi(p,Kr(p),u)}function Gi(u,p,b){p=="__proto__"&&Kd?Kd(u,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[p]=b}function Sp(u,p){for(var b=-1,S=p.length,B=X(S),G=u==null;++b<S;)B[b]=G?n:a1(u,p[b]);return B}function Po(u,p,b){return u===u&&(b!==n&&(u=u<=b?u:b),p!==n&&(u=u>=p?u:p)),u}function Os(u,p,b,S,B,G){var J,re=p&E,ae=p&_,ye=p&k;if(b&&(J=B?b(u,S,B,G):b(u)),J!==n)return J;if(!Nn(u))return u;var be=mt(u);if(be){if(J=F_(u),!re)return Xr(u,J)}else{var Ae=Ar(u),Le=Ae==ln||Ae==Ce;if(La(u))return nv(u,re);if(Ae==Fe||Ae==st||Le&&!B){if(J=ae||Le?{}:bv(u),!re)return ae?A_(u,Q5(J,u)):S_(u,I2(J,u))}else{if(!zt[Ae])return B?u:{};J=B_(u,Ae,re)}}G||(G=new Js);var Qe=G.get(u);if(Qe)return Qe;G.set(u,J),Qv(u)?u.forEach(function(at){J.add(Os(at,p,b,at,u,G))}):Gv(u)&&u.forEach(function(at,St){J.set(St,Os(at,p,b,St,u,G))});var it=ye?ae?Yp:Vp:ae?Kr:ur,yt=be?n:it(u);return Gr(yt||u,function(at,St){yt&&(St=at,at=u[St]),nu(J,St,Os(at,p,b,St,u,G))}),J}function K5(u){var p=ur(u);return function(b){return R2(b,u,p)}}function R2(u,p,b){var S=b.length;if(u==null)return!S;for(u=Ve(u);S--;){var B=b[S],G=p[B],J=u[B];if(J===n&&!(B in u)||!G(J))return!1}return!0}function O2(u,p,b){if(typeof u!="function")throw new yn(d);return cu(function(){u.apply(n,b)},p)}function ru(u,p,b,S){var B=-1,G=vn,J=!0,re=u.length,ae=[],ye=p.length;if(!re)return ae;b&&(p=ct(p,In(b))),S?(G=To,J=!1):p.length>=i&&(G=lr,J=!1,p=new Lo(p));e:for(;++B<re;){var be=u[B],Ae=b==null?be:b(be);if(be=S||be!==0?be:0,J&&Ae===Ae){for(var Le=ye;Le--;)if(p[Le]===Ae)continue e;ae.push(be)}else G(p,Ae,S)||ae.push(be)}return ae}var Ia=ov(xi),M2=ov(kp,!0);function Z5(u,p){var b=!0;return Ia(u,function(S,B,G){return b=!!p(S,B,G),b}),b}function sf(u,p,b){for(var S=-1,B=u.length;++S<B;){var G=u[S],J=p(G);if(J!=null&&(re===n?J===J&&!fs(J):b(J,re)))var re=J,ae=G}return ae}function J5(u,p,b,S){var B=u.length;for(b=vt(b),b<0&&(b=-b>B?0:B+b),S=S===n||S>B?B:vt(S),S<0&&(S+=B),S=b>S?0:Zv(S);b<S;)u[b++]=p;return u}function L2(u,p){var b=[];return Ia(u,function(S,B,G){p(S,B,G)&&b.push(S)}),b}function xr(u,p,b,S,B){var G=-1,J=u.length;for(b||(b=z_),B||(B=[]);++G<J;){var re=u[G];p>0&&b(re)?p>1?xr(re,p-1,b,S,B):cs(B,re):S||(B[B.length]=re)}return B}var Ap=lv(),P2=lv(!0);function xi(u,p){return u&&Ap(u,p,ur)}function kp(u,p){return u&&P2(u,p,ur)}function af(u,p){return js(p,function(b){return Zi(u[b])})}function Fo(u,p){p=Oa(p,u);for(var b=0,S=p.length;u!=null&&b<S;)u=u[yi(p[b++])];return b&&b==S?u:n}function F2(u,p,b){var S=p(u);return mt(u)?S:cs(S,b(u))}function Lr(u){return u==null?u===n?Ie:Me:Oo&&Oo in Ve(u)?M_(u):G_(u)}function Tp(u,p){return u>p}function e_(u,p){return u!=null&&Tt.call(u,p)}function t_(u,p){return u!=null&&p in Ve(u)}function n_(u,p,b){return u>=Sr(p,b)&&u<rr(p,b)}function Dp(u,p,b){for(var S=b?To:vn,B=u[0].length,G=u.length,J=G,re=X(G),ae=1/0,ye=[];J--;){var be=u[J];J&&p&&(be=ct(be,In(p))),ae=Sr(be.length,ae),re[J]=!b&&(p||B>=120&&be.length>=120)?new Lo(J&&be):n}be=u[0];var Ae=-1,Le=re[0];e:for(;++Ae<B&&ye.length<ae;){var Qe=be[Ae],it=p?p(Qe):Qe;if(Qe=b||Qe!==0?Qe:0,!(Le?lr(Le,it):S(ye,it,b))){for(J=G;--J;){var yt=re[J];if(!(yt?lr(yt,it):S(u[J],it,b)))continue e}Le&&Le.push(it),ye.push(Qe)}}return ye}function r_(u,p,b,S){return xi(u,function(B,G,J){p(S,b(B),G,J)}),S}function su(u,p,b){p=Oa(p,u),u=_v(u,p);var S=u==null?u:u[yi(Ls(p))];return S==null?n:or(S,u,b)}function B2(u){return Rn(u)&&Lr(u)==st}function s_(u){return Rn(u)&&Lr(u)==nn}function i_(u){return Rn(u)&&Lr(u)==on}function iu(u,p,b,S,B){return u===p?!0:u==null||p==null||!Rn(u)&&!Rn(p)?u!==u&&p!==p:a_(u,p,b,S,iu,B)}function a_(u,p,b,S,B,G){var J=mt(u),re=mt(p),ae=J?_e:Ar(u),ye=re?_e:Ar(p);ae=ae==st?Fe:ae,ye=ye==st?Fe:ye;var be=ae==Fe,Ae=ye==Fe,Le=ae==ye;if(Le&&La(u)){if(!La(p))return!1;J=!0,be=!1}if(Le&&!be)return G||(G=new Js),J||Ol(u)?vv(u,p,b,S,B,G):R_(u,p,ae,b,S,B,G);if(!(b&A)){var Qe=be&&Tt.call(u,"__wrapped__"),it=Ae&&Tt.call(p,"__wrapped__");if(Qe||it){var yt=Qe?u.value():u,at=it?p.value():p;return G||(G=new Js),B(yt,at,b,S,G)}}return Le?(G||(G=new Js),O_(u,p,b,S,B,G)):!1}function o_(u){return Rn(u)&&Ar(u)==Ge}function jp(u,p,b,S){var B=b.length,G=B,J=!S;if(u==null)return!G;for(u=Ve(u);B--;){var re=b[B];if(J&&re[2]?re[1]!==u[re[0]]:!(re[0]in u))return!1}for(;++B<G;){re=b[B];var ae=re[0],ye=u[ae],be=re[1];if(J&&re[2]){if(ye===n&&!(ae in u))return!1}else{var Ae=new Js;if(S)var Le=S(ye,be,ae,u,p,Ae);if(!(Le===n?iu(be,ye,A|I,S,Ae):Le))return!1}}return!0}function U2(u){if(!Nn(u)||H_(u))return!1;var p=Zi(u)?o5:up;return p.test(Uo(u))}function l_(u){return Rn(u)&&Lr(u)==Re}function c_(u){return Rn(u)&&Ar(u)==Ne}function u_(u){return Rn(u)&&Ef(u.length)&&!!sn[Lr(u)]}function z2(u){return typeof u=="function"?u:u==null?Zr:typeof u=="object"?mt(u)?q2(u[0],u[1]):H2(u):cy(u)}function Ip(u){if(!lu(u))return h5(u);var p=[];for(var b in Ve(u))Tt.call(u,b)&&b!="constructor"&&p.push(b);return p}function d_(u){if(!Nn(u))return $_(u);var p=lu(u),b=[];for(var S in u)S=="constructor"&&(p||!Tt.call(u,S))||b.push(S);return b}function Rp(u,p){return u<p}function W2(u,p){var b=-1,S=Qr(u)?X(u.length):[];return Ia(u,function(B,G,J){S[++b]=p(B,G,J)}),S}function H2(u){var p=Gp(u);return p.length==1&&p[0][2]?Ev(p[0][0],p[0][1]):function(b){return b===u||jp(b,u,p)}}function q2(u,p){return Qp(u)&&Cv(p)?Ev(yi(u),p):function(b){var S=a1(b,u);return S===n&&S===p?o1(b,u):iu(p,S,A|I)}}function of(u,p,b,S,B){u!==p&&Ap(p,function(G,J){if(B||(B=new Js),Nn(G))f_(u,p,J,b,of,S,B);else{var re=S?S(Zp(u,J),G,J+"",u,p,B):n;re===n&&(re=G),_p(u,J,re)}},Kr)}function f_(u,p,b,S,B,G,J){var re=Zp(u,b),ae=Zp(p,b),ye=J.get(ae);if(ye){_p(u,b,ye);return}var be=G?G(re,ae,b+"",u,p,J):n,Ae=be===n;if(Ae){var Le=mt(ae),Qe=!Le&&La(ae),it=!Le&&!Qe&&Ol(ae);be=ae,Le||Qe||it?mt(re)?be=re:Un(re)?be=Xr(re):Qe?(Ae=!1,be=nv(ae,!0)):it?(Ae=!1,be=rv(ae,!0)):be=[]:uu(ae)||zo(ae)?(be=re,zo(re)?be=Jv(re):(!Nn(re)||Zi(re))&&(be=bv(ae))):Ae=!1}Ae&&(J.set(ae,be),B(be,ae,S,G,J),J.delete(ae)),_p(u,b,be)}function V2(u,p){var b=u.length;if(b)return p+=p<0?b:0,Ki(p,b)?u[p]:n}function Y2(u,p,b){p.length?p=ct(p,function(G){return mt(G)?function(J){return Fo(J,G.length===1?G[0]:G)}:G}):p=[Zr];var S=-1;p=ct(p,In(rt()));var B=W2(u,function(G,J,re){var ae=ct(p,function(ye){return ye(G)});return{criteria:ae,index:++S,value:G}});return ka(B,function(G,J){return __(G,J,b)})}function h_(u,p){return $2(u,p,function(b,S){return o1(u,S)})}function $2(u,p,b){for(var S=-1,B=p.length,G={};++S<B;){var J=p[S],re=Fo(u,J);b(re,J)&&au(G,Oa(J,u),re)}return G}function p_(u){return function(p){return Fo(p,u)}}function Op(u,p,b,S){var B=S?Vc:gr,G=-1,J=p.length,re=u;for(u===p&&(p=Xr(p)),b&&(re=ct(u,In(b)));++G<J;)for(var ae=0,ye=p[G],be=b?b(ye):ye;(ae=B(re,be,ae,S))>-1;)re!==u&&Qd.call(re,ae,1),Qd.call(u,ae,1);return u}function G2(u,p){for(var b=u?p.length:0,S=b-1;b--;){var B=p[b];if(b==S||B!==G){var G=B;Ki(B)?Qd.call(u,B,1):Fp(u,B)}}return u}function Mp(u,p){return u+Jd(k2()*(p-u+1))}function m_(u,p,b,S){for(var B=-1,G=rr(Zd((p-u)/(b||1)),0),J=X(G);G--;)J[S?G:++B]=u,u+=b;return J}function Lp(u,p){var b="";if(!u||p<1||p>ce)return b;do p%2&&(b+=u),p=Jd(p/2),p&&(u+=u);while(p);return b}function wt(u,p){return Jp(Nv(u,p,Zr),u+"")}function g_(u){return j2(Ml(u))}function x_(u,p){var b=Ml(u);return xf(b,Po(p,0,b.length))}function au(u,p,b,S){if(!Nn(u))return u;p=Oa(p,u);for(var B=-1,G=p.length,J=G-1,re=u;re!=null&&++B<G;){var ae=yi(p[B]),ye=b;if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return u;if(B!=J){var be=re[ae];ye=S?S(be,ae,re):n,ye===n&&(ye=Nn(be)?be:Ki(p[B+1])?[]:{})}nu(re,ae,ye),re=re[ae]}return u}var X2=ef?function(u,p){return ef.set(u,p),u}:Zr,v_=Kd?function(u,p){return Kd(u,"toString",{configurable:!0,enumerable:!1,value:c1(p),writable:!0})}:Zr;function y_(u){return xf(Ml(u))}function Ms(u,p,b){var S=-1,B=u.length;p<0&&(p=-p>B?0:B+p),b=b>B?B:b,b<0&&(b+=B),B=p>b?0:b-p>>>0,p>>>=0;for(var G=X(B);++S<B;)G[S]=u[S+p];return G}function w_(u,p){var b;return Ia(u,function(S,B,G){return b=p(S,B,G),!b}),!!b}function lf(u,p,b){var S=0,B=u==null?S:u.length;if(typeof p=="number"&&p===p&&B<=ke){for(;S<B;){var G=S+B>>>1,J=u[G];J!==null&&!fs(J)&&(b?J<=p:J<p)?S=G+1:B=G}return B}return Pp(u,p,Zr,b)}function Pp(u,p,b,S){var B=0,G=u==null?0:u.length;if(G===0)return 0;p=b(p);for(var J=p!==p,re=p===null,ae=fs(p),ye=p===n;B<G;){var be=Jd((B+G)/2),Ae=b(u[be]),Le=Ae!==n,Qe=Ae===null,it=Ae===Ae,yt=fs(Ae);if(J)var at=S||it;else ye?at=it&&(S||Le):re?at=it&&Le&&(S||!Qe):ae?at=it&&Le&&!Qe&&(S||!yt):Qe||yt?at=!1:at=S?Ae<=p:Ae<p;at?B=be+1:G=be}return Sr(G,Je)}function Q2(u,p){for(var b=-1,S=u.length,B=0,G=[];++b<S;){var J=u[b],re=p?p(J):J;if(!b||!ei(re,ae)){var ae=re;G[B++]=J===0?0:J}}return G}function K2(u){return typeof u=="number"?u:fs(u)?Oe:+u}function ds(u){if(typeof u=="string")return u;if(mt(u))return ct(u,ds)+"";if(fs(u))return T2?T2.call(u):"";var p=u+"";return p=="0"&&1/u==-we?"-0":p}function Ra(u,p,b){var S=-1,B=vn,G=u.length,J=!0,re=[],ae=re;if(b)J=!1,B=To;else if(G>=i){var ye=p?null:j_(u);if(ye)return s(ye);J=!1,B=lr,ae=new Lo}else ae=p?[]:re;e:for(;++S<G;){var be=u[S],Ae=p?p(be):be;if(be=b||be!==0?be:0,J&&Ae===Ae){for(var Le=ae.length;Le--;)if(ae[Le]===Ae)continue e;p&&ae.push(Ae),re.push(be)}else B(ae,Ae,b)||(ae!==re&&ae.push(Ae),re.push(be))}return re}function Fp(u,p){return p=Oa(p,u),u=_v(u,p),u==null||delete u[yi(Ls(p))]}function Z2(u,p,b,S){return au(u,p,b(Fo(u,p)),S)}function cf(u,p,b,S){for(var B=u.length,G=S?B:-1;(S?G--:++G<B)&&p(u[G],G,u););return b?Ms(u,S?0:G,S?G+1:B):Ms(u,S?G+1:0,S?B:G)}function J2(u,p){var b=u;return b instanceof Dt&&(b=b.value()),Ks(p,function(S,B){return B.func.apply(B.thisArg,cs([S],B.args))},b)}function Bp(u,p,b){var S=u.length;if(S<2)return S?Ra(u[0]):[];for(var B=-1,G=X(S);++B<S;)for(var J=u[B],re=-1;++re<S;)re!=B&&(G[B]=ru(G[B]||J,u[re],p,b));return Ra(xr(G,1),p,b)}function ev(u,p,b){for(var S=-1,B=u.length,G=p.length,J={};++S<B;){var re=S<G?p[S]:n;b(J,u[S],re)}return J}function Up(u){return Un(u)?u:[]}function zp(u){return typeof u=="function"?u:Zr}function Oa(u,p){return mt(u)?u:Qp(u,p)?[u]:Tv(Vt(u))}var b_=wt;function Ma(u,p,b){var S=u.length;return b=b===n?S:b,!p&&b>=S?u:Ms(u,p,b)}var tv=l5||function(u){return $n.clearTimeout(u)};function nv(u,p){if(p)return u.slice();var b=u.length,S=E2?E2(b):new u.constructor(b);return u.copy(S),S}function Wp(u){var p=new u.constructor(u.byteLength);return new Gd(p).set(new Gd(u)),p}function C_(u,p){var b=p?Wp(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function E_(u){var p=new u.constructor(u.source,Co.exec(u));return p.lastIndex=u.lastIndex,p}function N_(u){return tu?Ve(tu.call(u)):{}}function rv(u,p){var b=p?Wp(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function sv(u,p){if(u!==p){var b=u!==n,S=u===null,B=u===u,G=fs(u),J=p!==n,re=p===null,ae=p===p,ye=fs(p);if(!re&&!ye&&!G&&u>p||G&&J&&ae&&!re&&!ye||S&&J&&ae||!b&&ae||!B)return 1;if(!S&&!G&&!ye&&u<p||ye&&b&&B&&!S&&!G||re&&b&&B||!J&&B||!ae)return-1}return 0}function __(u,p,b){for(var S=-1,B=u.criteria,G=p.criteria,J=B.length,re=b.length;++S<J;){var ae=sv(B[S],G[S]);if(ae){if(S>=re)return ae;var ye=b[S];return ae*(ye=="desc"?-1:1)}}return u.index-p.index}function iv(u,p,b,S){for(var B=-1,G=u.length,J=b.length,re=-1,ae=p.length,ye=rr(G-J,0),be=X(ae+ye),Ae=!S;++re<ae;)be[re]=p[re];for(;++B<J;)(Ae||B<G)&&(be[b[B]]=u[B]);for(;ye--;)be[re++]=u[B++];return be}function av(u,p,b,S){for(var B=-1,G=u.length,J=-1,re=b.length,ae=-1,ye=p.length,be=rr(G-re,0),Ae=X(be+ye),Le=!S;++B<be;)Ae[B]=u[B];for(var Qe=B;++ae<ye;)Ae[Qe+ae]=p[ae];for(;++J<re;)(Le||B<G)&&(Ae[Qe+b[J]]=u[B++]);return Ae}function Xr(u,p){var b=-1,S=u.length;for(p||(p=X(S));++b<S;)p[b]=u[b];return p}function vi(u,p,b,S){var B=!b;b||(b={});for(var G=-1,J=p.length;++G<J;){var re=p[G],ae=S?S(b[re],u[re],re,b,u):n;ae===n&&(ae=u[re]),B?Gi(b,re,ae):nu(b,re,ae)}return b}function S_(u,p){return vi(u,Xp(u),p)}function A_(u,p){return vi(u,yv(u),p)}function uf(u,p){return function(b,S){var B=mt(b)?Ud:X5,G=p?p():{};return B(b,u,rt(S,2),G)}}function jl(u){return wt(function(p,b){var S=-1,B=b.length,G=B>1?b[B-1]:n,J=B>2?b[2]:n;for(G=u.length>3&&typeof G=="function"?(B--,G):n,J&&Pr(b[0],b[1],J)&&(G=B<3?n:G,B=1),p=Ve(p);++S<B;){var re=b[S];re&&u(p,re,S,G)}return p})}function ov(u,p){return function(b,S){if(b==null)return b;if(!Qr(b))return u(b,S);for(var B=b.length,G=p?B:-1,J=Ve(b);(p?G--:++G<B)&&S(J[G],G,J)!==!1;);return b}}function lv(u){return function(p,b,S){for(var B=-1,G=Ve(p),J=S(p),re=J.length;re--;){var ae=J[u?re:++B];if(b(G[ae],ae,G)===!1)break}return p}}function k_(u,p,b){var S=p&L,B=ou(u);function G(){var J=this&&this!==$n&&this instanceof G?B:u;return J.apply(S?b:this,arguments)}return G}function cv(u){return function(p){p=Vt(p);var b=Da(p)?m(p):n,S=b?b[0]:p.charAt(0),B=b?Ma(b,1).join(""):p.slice(1);return S[u]()+B}}function Il(u){return function(p){return Ks(oy(ay(p).replace(nt,"")),u,"")}}function ou(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=Dl(u.prototype),S=u.apply(b,p);return Nn(S)?S:b}}function T_(u,p,b){var S=ou(u);function B(){for(var G=arguments.length,J=X(G),re=G,ae=Rl(B);re--;)J[re]=arguments[re];var ye=G<3&&J[0]!==ae&&J[G-1]!==ae?[]:P(J,ae);if(G-=ye.length,G<b)return pv(u,p,df,B.placeholder,n,J,ye,n,n,b-G);var be=this&&this!==$n&&this instanceof B?S:u;return or(be,this,J)}return B}function uv(u){return function(p,b,S){var B=Ve(p);if(!Qr(p)){var G=rt(b,3);p=ur(p),b=function(re){return G(B[re],re,B)}}var J=u(p,b,S);return J>-1?B[G?p[J]:J]:n}}function dv(u){return Qi(function(p){var b=p.length,S=b,B=Rs.prototype.thru;for(u&&p.reverse();S--;){var G=p[S];if(typeof G!="function")throw new yn(d);if(B&&!J&&mf(G)=="wrapper")var J=new Rs([],!0)}for(S=J?S:b;++S<b;){G=p[S];var re=mf(G),ae=re=="wrapper"?$p(G):n;ae&&Kp(ae[0])&&ae[1]==(O|R|Z|V)&&!ae[4].length&&ae[9]==1?J=J[mf(ae[0])].apply(J,ae[3]):J=G.length==1&&Kp(G)?J[re]():J.thru(G)}return function(){var ye=arguments,be=ye[0];if(J&&ye.length==1&&mt(be))return J.plant(be).value();for(var Ae=0,Le=b?p[Ae].apply(this,ye):be;++Ae<b;)Le=p[Ae].call(this,Le);return Le}})}function df(u,p,b,S,B,G,J,re,ae,ye){var be=p&O,Ae=p&L,Le=p&j,Qe=p&(R|W),it=p&Y,yt=Le?n:ou(u);function at(){for(var St=arguments.length,It=X(St),hs=St;hs--;)It[hs]=arguments[hs];if(Qe)var Fr=Rl(at),ps=yp(It,Fr);if(S&&(It=iv(It,S,B,Qe)),G&&(It=av(It,G,J,Qe)),St-=ps,Qe&&St<ye){var zn=P(It,Fr);return pv(u,p,df,at.placeholder,b,It,zn,re,ae,ye-St)}var ti=Ae?b:this,ea=Le?ti[u]:u;return St=It.length,re?It=X_(It,re):it&&St>1&&It.reverse(),be&&ae<St&&(It.length=ae),this&&this!==$n&&this instanceof at&&(ea=yt||ou(ea)),ea.apply(ti,It)}return at}function fv(u,p){return function(b,S){return r_(b,u,p(S),{})}}function ff(u,p){return function(b,S){var B;if(b===n&&S===n)return p;if(b!==n&&(B=b),S!==n){if(B===n)return S;typeof b=="string"||typeof S=="string"?(b=ds(b),S=ds(S)):(b=K2(b),S=K2(S)),B=u(b,S)}return B}}function Hp(u){return Qi(function(p){return p=ct(p,In(rt())),wt(function(b){var S=this;return u(p,function(B){return or(B,S,b)})})})}function hf(u,p){p=p===n?" ":ds(p);var b=p.length;if(b<2)return b?Lp(p,u):p;var S=Lp(p,Zd(u/h(p)));return Da(p)?Ma(m(S),0,u).join(""):S.slice(0,u)}function D_(u,p,b,S){var B=p&L,G=ou(u);function J(){for(var re=-1,ae=arguments.length,ye=-1,be=S.length,Ae=X(be+ae),Le=this&&this!==$n&&this instanceof J?G:u;++ye<be;)Ae[ye]=S[ye];for(;ae--;)Ae[ye++]=arguments[++re];return or(Le,B?b:this,Ae)}return J}function hv(u){return function(p,b,S){return S&&typeof S!="number"&&Pr(p,b,S)&&(b=S=n),p=Ji(p),b===n?(b=p,p=0):b=Ji(b),S=S===n?p<b?1:-1:Ji(S),m_(p,b,S,u)}}function pf(u){return function(p,b){return typeof p=="string"&&typeof b=="string"||(p=Ps(p),b=Ps(b)),u(p,b)}}function pv(u,p,b,S,B,G,J,re,ae,ye){var be=p&R,Ae=be?J:n,Le=be?n:J,Qe=be?G:n,it=be?n:G;p|=be?Z:U,p&=~(be?U:Z),p&D||(p&=~(L|j));var yt=[u,p,B,Qe,Ae,it,Le,re,ae,ye],at=b.apply(n,yt);return Kp(u)&&Sv(at,yt),at.placeholder=S,Av(at,u,p)}function qp(u){var p=xe[u];return function(b,S){if(b=Ps(b),S=S==null?0:Sr(vt(S),292),S&&A2(b)){var B=(Vt(b)+"e").split("e"),G=p(B[0]+"e"+(+B[1]+S));return B=(Vt(G)+"e").split("e"),+(B[0]+"e"+(+B[1]-S))}return p(b)}}var j_=kl&&1/s(new kl([,-0]))[1]==we?function(u){return new kl(u)}:f1;function mv(u){return function(p){var b=Ar(p);return b==Ge?_t(p):b==Ne?o(p):jo(p,u(p))}}function Xi(u,p,b,S,B,G,J,re){var ae=p&j;if(!ae&&typeof u!="function")throw new yn(d);var ye=S?S.length:0;if(ye||(p&=~(Z|U),S=B=n),J=J===n?J:rr(vt(J),0),re=re===n?re:vt(re),ye-=B?B.length:0,p&U){var be=S,Ae=B;S=B=n}var Le=ae?n:$p(u),Qe=[u,p,b,S,B,be,Ae,G,J,re];if(Le&&Y_(Qe,Le),u=Qe[0],p=Qe[1],b=Qe[2],S=Qe[3],B=Qe[4],re=Qe[9]=Qe[9]===n?ae?0:u.length:rr(Qe[9]-ye,0),!re&&p&(R|W)&&(p&=~(R|W)),!p||p==L)var it=k_(u,p,b);else p==R||p==W?it=T_(u,p,re):(p==Z||p==(L|Z))&&!B.length?it=D_(u,p,b,S):it=df.apply(n,Qe);var yt=Le?X2:Sv;return Av(yt(it,Qe),u,p)}function gv(u,p,b,S){return u===n||ei(u,wn[b])&&!Tt.call(S,b)?p:u}function xv(u,p,b,S,B,G){return Nn(u)&&Nn(p)&&(G.set(p,u),of(u,p,n,xv,G),G.delete(p)),u}function I_(u){return uu(u)?n:u}function vv(u,p,b,S,B,G){var J=b&A,re=u.length,ae=p.length;if(re!=ae&&!(J&&ae>re))return!1;var ye=G.get(u),be=G.get(p);if(ye&&be)return ye==p&&be==u;var Ae=-1,Le=!0,Qe=b&I?new Lo:n;for(G.set(u,p),G.set(p,u);++Ae<re;){var it=u[Ae],yt=p[Ae];if(S)var at=J?S(yt,it,Ae,p,u,G):S(it,yt,Ae,u,p,G);if(at!==n){if(at)continue;Le=!1;break}if(Qe){if(!tt(p,function(St,It){if(!lr(Qe,It)&&(it===St||B(it,St,b,S,G)))return Qe.push(It)})){Le=!1;break}}else if(!(it===yt||B(it,yt,b,S,G))){Le=!1;break}}return G.delete(u),G.delete(p),Le}function R_(u,p,b,S,B,G,J){switch(b){case Gt:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case nn:return!(u.byteLength!=p.byteLength||!G(new Gd(u),new Gd(p)));case lt:case on:case me:return ei(+u,+p);case kt:return u.name==p.name&&u.message==p.message;case Re:case gn:return u==p+"";case Ge:var re=_t;case Ne:var ae=S&A;if(re||(re=s),u.size!=p.size&&!ae)return!1;var ye=J.get(u);if(ye)return ye==p;S|=I,J.set(u,p);var be=vv(re(u),re(p),S,B,G,J);return J.delete(u),be;case pr:if(tu)return tu.call(u)==tu.call(p)}return!1}function O_(u,p,b,S,B,G){var J=b&A,re=Vp(u),ae=re.length,ye=Vp(p),be=ye.length;if(ae!=be&&!J)return!1;for(var Ae=ae;Ae--;){var Le=re[Ae];if(!(J?Le in p:Tt.call(p,Le)))return!1}var Qe=G.get(u),it=G.get(p);if(Qe&&it)return Qe==p&&it==u;var yt=!0;G.set(u,p),G.set(p,u);for(var at=J;++Ae<ae;){Le=re[Ae];var St=u[Le],It=p[Le];if(S)var hs=J?S(It,St,Le,p,u,G):S(St,It,Le,u,p,G);if(!(hs===n?St===It||B(St,It,b,S,G):hs)){yt=!1;break}at||(at=Le=="constructor")}if(yt&&!at){var Fr=u.constructor,ps=p.constructor;Fr!=ps&&"constructor"in u&&"constructor"in p&&!(typeof Fr=="function"&&Fr instanceof Fr&&typeof ps=="function"&&ps instanceof ps)&&(yt=!1)}return G.delete(u),G.delete(p),yt}function Qi(u){return Jp(Nv(u,n,Rv),u+"")}function Vp(u){return F2(u,ur,Xp)}function Yp(u){return F2(u,Kr,yv)}var $p=ef?function(u){return ef.get(u)}:f1;function mf(u){for(var p=u.name+"",b=Tl[p],S=Tt.call(Tl,p)?b.length:0;S--;){var B=b[S],G=B.func;if(G==null||G==u)return B.name}return p}function Rl(u){var p=Tt.call(q,"placeholder")?q:u;return p.placeholder}function rt(){var u=q.iteratee||u1;return u=u===u1?z2:u,arguments.length?u(arguments[0],arguments[1]):u}function gf(u,p){var b=u.__data__;return W_(p)?b[typeof p=="string"?"string":"hash"]:b.map}function Gp(u){for(var p=ur(u),b=p.length;b--;){var S=p[b],B=u[S];p[b]=[S,B,Cv(B)]}return p}function Bo(u,p){var b=Is(u,p);return U2(b)?b:n}function M_(u){var p=Tt.call(u,Oo),b=u[Oo];try{u[Oo]=n;var S=!0}catch{}var B=Yd.call(u);return S&&(p?u[Oo]=b:delete u[Oo]),B}var Xp=Cp?function(u){return u==null?[]:(u=Ve(u),js(Cp(u),function(p){return _2.call(u,p)}))}:h1,yv=Cp?function(u){for(var p=[];u;)cs(p,Xp(u)),u=Xd(u);return p}:h1,Ar=Lr;(Ep&&Ar(new Ep(new ArrayBuffer(1)))!=Gt||Zc&&Ar(new Zc)!=Ge||Np&&Ar(Np.resolve())!=qe||kl&&Ar(new kl)!=Ne||Jc&&Ar(new Jc)!=Ze)&&(Ar=function(u){var p=Lr(u),b=p==Fe?u.constructor:n,S=b?Uo(b):"";if(S)switch(S){case x5:return Gt;case v5:return Ge;case y5:return qe;case w5:return Ne;case b5:return Ze}return p});function L_(u,p,b){for(var S=-1,B=b.length;++S<B;){var G=b[S],J=G.size;switch(G.type){case"drop":u+=J;break;case"dropRight":p-=J;break;case"take":p=Sr(p,u+J);break;case"takeRight":u=rr(u,p-J);break}}return{start:u,end:p}}function P_(u){var p=u.match($r);return p?p[1].split(Be):[]}function wv(u,p,b){p=Oa(p,u);for(var S=-1,B=p.length,G=!1;++S<B;){var J=yi(p[S]);if(!(G=u!=null&&b(u,J)))break;u=u[J]}return G||++S!=B?G:(B=u==null?0:u.length,!!B&&Ef(B)&&Ki(J,B)&&(mt(u)||zo(u)))}function F_(u){var p=u.length,b=new u.constructor(p);return p&&typeof u[0]=="string"&&Tt.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function bv(u){return typeof u.constructor=="function"&&!lu(u)?Dl(Xd(u)):{}}function B_(u,p,b){var S=u.constructor;switch(p){case nn:return Wp(u);case lt:case on:return new S(+u);case Gt:return C_(u,b);case dn:case is:case Ss:case Fi:case tn:case je:case rn:case jt:case qt:return rv(u,b);case Ge:return new S;case me:case gn:return new S(u);case Re:return E_(u);case Ne:return new S;case pr:return N_(u)}}function U_(u,p){var b=p.length;if(!b)return u;var S=b-1;return p[S]=(b>1?"& ":"")+p[S],p=p.join(b>2?", ":" "),u.replace(Ui,`{
/* [wrapped with `+p+`] */
`)}function z_(u){return mt(u)||zo(u)||!!(S2&&u&&u[S2])}function Ki(u,p){var b=typeof u;return p=p??ce,!!p&&(b=="number"||b!="symbol"&&Ts.test(u))&&u>-1&&u%1==0&&u<p}function Pr(u,p,b){if(!Nn(b))return!1;var S=typeof p;return(S=="number"?Qr(b)&&Ki(p,b.length):S=="string"&&p in b)?ei(b[p],u):!1}function Qp(u,p){if(mt(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||fs(u)?!0:xl.test(u)||!Ea.test(u)||p!=null&&u in Ve(p)}function W_(u){var p=typeof u;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?u!=="__proto__":u===null}function Kp(u){var p=mf(u),b=q[p];if(typeof b!="function"||!(p in Dt.prototype))return!1;if(u===b)return!0;var S=$p(b);return!!S&&u===S[0]}function H_(u){return!!Vd&&Vd in u}var q_=cr?Zi:p1;function lu(u){var p=u&&u.constructor,b=typeof p=="function"&&p.prototype||wn;return u===b}function Cv(u){return u===u&&!Nn(u)}function Ev(u,p){return function(b){return b==null?!1:b[u]===p&&(p!==n||u in Ve(b))}}function V_(u){var p=bf(u,function(S){return b.size===v&&b.clear(),S}),b=p.cache;return p}function Y_(u,p){var b=u[1],S=p[1],B=b|S,G=B<(L|j|O),J=S==O&&b==R||S==O&&b==V&&u[7].length<=p[8]||S==(O|V)&&p[7].length<=p[8]&&b==R;if(!(G||J))return u;S&L&&(u[2]=p[2],B|=b&L?0:D);var re=p[3];if(re){var ae=u[3];u[3]=ae?iv(ae,re,p[4]):re,u[4]=ae?P(u[3],w):p[4]}return re=p[5],re&&(ae=u[5],u[5]=ae?av(ae,re,p[6]):re,u[6]=ae?P(u[5],w):p[6]),re=p[7],re&&(u[7]=re),S&O&&(u[8]=u[8]==null?p[8]:Sr(u[8],p[8])),u[9]==null&&(u[9]=p[9]),u[0]=p[0],u[1]=B,u}function $_(u){var p=[];if(u!=null)for(var b in Ve(u))p.push(b);return p}function G_(u){return Yd.call(u)}function Nv(u,p,b){return p=rr(p===n?u.length-1:p,0),function(){for(var S=arguments,B=-1,G=rr(S.length-p,0),J=X(G);++B<G;)J[B]=S[p+B];B=-1;for(var re=X(p+1);++B<p;)re[B]=S[B];return re[p]=b(J),or(u,this,re)}}function _v(u,p){return p.length<2?u:Fo(u,Ms(p,0,-1))}function X_(u,p){for(var b=u.length,S=Sr(p.length,b),B=Xr(u);S--;){var G=p[S];u[S]=Ki(G,b)?B[G]:n}return u}function Zp(u,p){if(!(p==="constructor"&&typeof u[p]=="function")&&p!="__proto__")return u[p]}var Sv=kv(X2),cu=u5||function(u,p){return $n.setTimeout(u,p)},Jp=kv(v_);function Av(u,p,b){var S=p+"";return Jp(u,U_(S,Q_(P_(S),b)))}function kv(u){var p=0,b=0;return function(){var S=p5(),B=le-(S-b);if(b=S,B>0){if(++p>=ie)return arguments[0]}else p=0;return u.apply(n,arguments)}}function xf(u,p){var b=-1,S=u.length,B=S-1;for(p=p===n?S:p;++b<p;){var G=Mp(b,B),J=u[G];u[G]=u[b],u[b]=J}return u.length=p,u}var Tv=V_(function(u){var p=[];return u.charCodeAt(0)===46&&p.push(""),u.replace(As,function(b,S,B,G){p.push(B?G.replace(Cr,"$1"):S||b)}),p});function yi(u){if(typeof u=="string"||fs(u))return u;var p=u+"";return p=="0"&&1/u==-we?"-0":p}function Uo(u){if(u!=null){try{return Zs.call(u)}catch{}try{return u+""}catch{}}return""}function Q_(u,p){return Gr(Xe,function(b){var S="_."+b[0];p&b[1]&&!vn(u,S)&&u.push(S)}),u.sort()}function Dv(u){if(u instanceof Dt)return u.clone();var p=new Rs(u.__wrapped__,u.__chain__);return p.__actions__=Xr(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}function K_(u,p,b){(b?Pr(u,p,b):p===n)?p=1:p=rr(vt(p),0);var S=u==null?0:u.length;if(!S||p<1)return[];for(var B=0,G=0,J=X(Zd(S/p));B<S;)J[G++]=Ms(u,B,B+=p);return J}function Z_(u){for(var p=-1,b=u==null?0:u.length,S=0,B=[];++p<b;){var G=u[p];G&&(B[S++]=G)}return B}function J_(){var u=arguments.length;if(!u)return[];for(var p=X(u-1),b=arguments[0],S=u;S--;)p[S-1]=arguments[S];return cs(mt(b)?Xr(b):[b],xr(p,1))}var e8=wt(function(u,p){return Un(u)?ru(u,xr(p,1,Un,!0)):[]}),t8=wt(function(u,p){var b=Ls(p);return Un(b)&&(b=n),Un(u)?ru(u,xr(p,1,Un,!0),rt(b,2)):[]}),n8=wt(function(u,p){var b=Ls(p);return Un(b)&&(b=n),Un(u)?ru(u,xr(p,1,Un,!0),n,b):[]});function r8(u,p,b){var S=u==null?0:u.length;return S?(p=b||p===n?1:vt(p),Ms(u,p<0?0:p,S)):[]}function s8(u,p,b){var S=u==null?0:u.length;return S?(p=b||p===n?1:vt(p),p=S-p,Ms(u,0,p<0?0:p)):[]}function i8(u,p){return u&&u.length?cf(u,rt(p,3),!0,!0):[]}function a8(u,p){return u&&u.length?cf(u,rt(p,3),!0):[]}function o8(u,p,b,S){var B=u==null?0:u.length;return B?(b&&typeof b!="number"&&Pr(u,p,b)&&(b=0,S=B),J5(u,p,b,S)):[]}function jv(u,p,b){var S=u==null?0:u.length;if(!S)return-1;var B=b==null?0:vt(b);return B<0&&(B=rr(S+B,0)),Nl(u,rt(p,3),B)}function Iv(u,p,b){var S=u==null?0:u.length;if(!S)return-1;var B=S-1;return b!==n&&(B=vt(b),B=b<0?rr(S+B,0):Sr(B,S-1)),Nl(u,rt(p,3),B,!0)}function Rv(u){var p=u==null?0:u.length;return p?xr(u,1):[]}function l8(u){var p=u==null?0:u.length;return p?xr(u,we):[]}function c8(u,p){var b=u==null?0:u.length;return b?(p=p===n?1:vt(p),xr(u,p)):[]}function u8(u){for(var p=-1,b=u==null?0:u.length,S={};++p<b;){var B=u[p];S[B[0]]=B[1]}return S}function Ov(u){return u&&u.length?u[0]:n}function d8(u,p,b){var S=u==null?0:u.length;if(!S)return-1;var B=b==null?0:vt(b);return B<0&&(B=rr(S+B,0)),gr(u,p,B)}function f8(u){var p=u==null?0:u.length;return p?Ms(u,0,-1):[]}var h8=wt(function(u){var p=ct(u,Up);return p.length&&p[0]===u[0]?Dp(p):[]}),p8=wt(function(u){var p=Ls(u),b=ct(u,Up);return p===Ls(b)?p=n:b.pop(),b.length&&b[0]===u[0]?Dp(b,rt(p,2)):[]}),m8=wt(function(u){var p=Ls(u),b=ct(u,Up);return p=typeof p=="function"?p:n,p&&b.pop(),b.length&&b[0]===u[0]?Dp(b,n,p):[]});function g8(u,p){return u==null?"":f5.call(u,p)}function Ls(u){var p=u==null?0:u.length;return p?u[p-1]:n}function x8(u,p,b){var S=u==null?0:u.length;if(!S)return-1;var B=S;return b!==n&&(B=vt(b),B=B<0?rr(S+B,0):Sr(B,S-1)),p===p?f(u,p,B):Nl(u,Yc,B,!0)}function v8(u,p){return u&&u.length?V2(u,vt(p)):n}var y8=wt(Mv);function Mv(u,p){return u&&u.length&&p&&p.length?Op(u,p):u}function w8(u,p,b){return u&&u.length&&p&&p.length?Op(u,p,rt(b,2)):u}function b8(u,p,b){return u&&u.length&&p&&p.length?Op(u,p,n,b):u}var C8=Qi(function(u,p){var b=u==null?0:u.length,S=Sp(u,p);return G2(u,ct(p,function(B){return Ki(B,b)?+B:B}).sort(sv)),S});function E8(u,p){var b=[];if(!(u&&u.length))return b;var S=-1,B=[],G=u.length;for(p=rt(p,3);++S<G;){var J=u[S];p(J,S,u)&&(b.push(J),B.push(S))}return G2(u,B),b}function e1(u){return u==null?u:g5.call(u)}function N8(u,p,b){var S=u==null?0:u.length;return S?(b&&typeof b!="number"&&Pr(u,p,b)?(p=0,b=S):(p=p==null?0:vt(p),b=b===n?S:vt(b)),Ms(u,p,b)):[]}function _8(u,p){return lf(u,p)}function S8(u,p,b){return Pp(u,p,rt(b,2))}function A8(u,p){var b=u==null?0:u.length;if(b){var S=lf(u,p);if(S<b&&ei(u[S],p))return S}return-1}function k8(u,p){return lf(u,p,!0)}function T8(u,p,b){return Pp(u,p,rt(b,2),!0)}function D8(u,p){var b=u==null?0:u.length;if(b){var S=lf(u,p,!0)-1;if(ei(u[S],p))return S}return-1}function j8(u){return u&&u.length?Q2(u):[]}function I8(u,p){return u&&u.length?Q2(u,rt(p,2)):[]}function R8(u){var p=u==null?0:u.length;return p?Ms(u,1,p):[]}function O8(u,p,b){return u&&u.length?(p=b||p===n?1:vt(p),Ms(u,0,p<0?0:p)):[]}function M8(u,p,b){var S=u==null?0:u.length;return S?(p=b||p===n?1:vt(p),p=S-p,Ms(u,p<0?0:p,S)):[]}function L8(u,p){return u&&u.length?cf(u,rt(p,3),!1,!0):[]}function P8(u,p){return u&&u.length?cf(u,rt(p,3)):[]}var F8=wt(function(u){return Ra(xr(u,1,Un,!0))}),B8=wt(function(u){var p=Ls(u);return Un(p)&&(p=n),Ra(xr(u,1,Un,!0),rt(p,2))}),U8=wt(function(u){var p=Ls(u);return p=typeof p=="function"?p:n,Ra(xr(u,1,Un,!0),n,p)});function z8(u){return u&&u.length?Ra(u):[]}function W8(u,p){return u&&u.length?Ra(u,rt(p,2)):[]}function H8(u,p){return p=typeof p=="function"?p:n,u&&u.length?Ra(u,n,p):[]}function t1(u){if(!(u&&u.length))return[];var p=0;return u=js(u,function(b){if(Un(b))return p=rr(b.length,p),!0}),$c(p,function(b){return ct(u,Sl(b))})}function Lv(u,p){if(!(u&&u.length))return[];var b=t1(u);return p==null?b:ct(b,function(S){return or(p,n,S)})}var q8=wt(function(u,p){return Un(u)?ru(u,p):[]}),V8=wt(function(u){return Bp(js(u,Un))}),Y8=wt(function(u){var p=Ls(u);return Un(p)&&(p=n),Bp(js(u,Un),rt(p,2))}),$8=wt(function(u){var p=Ls(u);return p=typeof p=="function"?p:n,Bp(js(u,Un),n,p)}),G8=wt(t1);function X8(u,p){return ev(u||[],p||[],nu)}function Q8(u,p){return ev(u||[],p||[],au)}var K8=wt(function(u){var p=u.length,b=p>1?u[p-1]:n;return b=typeof b=="function"?(u.pop(),b):n,Lv(u,b)});function Pv(u){var p=q(u);return p.__chain__=!0,p}function Z8(u,p){return p(u),u}function vf(u,p){return p(u)}var J8=Qi(function(u){var p=u.length,b=p?u[0]:0,S=this.__wrapped__,B=function(G){return Sp(G,u)};return p>1||this.__actions__.length||!(S instanceof Dt)||!Ki(b)?this.thru(B):(S=S.slice(b,+b+(p?1:0)),S.__actions__.push({func:vf,args:[B],thisArg:n}),new Rs(S,this.__chain__).thru(function(G){return p&&!G.length&&G.push(n),G}))});function eS(){return Pv(this)}function tS(){return new Rs(this.value(),this.__chain__)}function nS(){this.__values__===n&&(this.__values__=Kv(this.value()));var u=this.__index__>=this.__values__.length,p=u?n:this.__values__[this.__index__++];return{done:u,value:p}}function rS(){return this}function sS(u){for(var p,b=this;b instanceof nf;){var S=Dv(b);S.__index__=0,S.__values__=n,p?B.__wrapped__=S:p=S;var B=S;b=b.__wrapped__}return B.__wrapped__=u,p}function iS(){var u=this.__wrapped__;if(u instanceof Dt){var p=u;return this.__actions__.length&&(p=new Dt(this)),p=p.reverse(),p.__actions__.push({func:vf,args:[e1],thisArg:n}),new Rs(p,this.__chain__)}return this.thru(e1)}function aS(){return J2(this.__wrapped__,this.__actions__)}var oS=uf(function(u,p,b){Tt.call(u,b)?++u[b]:Gi(u,b,1)});function lS(u,p,b){var S=mt(u)?zd:Z5;return b&&Pr(u,p,b)&&(p=n),S(u,rt(p,3))}function cS(u,p){var b=mt(u)?js:L2;return b(u,rt(p,3))}var uS=uv(jv),dS=uv(Iv);function fS(u,p){return xr(yf(u,p),1)}function hS(u,p){return xr(yf(u,p),we)}function pS(u,p,b){return b=b===n?1:vt(b),xr(yf(u,p),b)}function Fv(u,p){var b=mt(u)?Gr:Ia;return b(u,rt(p,3))}function Bv(u,p){var b=mt(u)?xp:M2;return b(u,rt(p,3))}var mS=uf(function(u,p,b){Tt.call(u,b)?u[b].push(p):Gi(u,b,[p])});function gS(u,p,b,S){u=Qr(u)?u:Ml(u),b=b&&!S?vt(b):0;var B=u.length;return b<0&&(b=rr(B+b,0)),Nf(u)?b<=B&&u.indexOf(p,b)>-1:!!B&&gr(u,p,b)>-1}var xS=wt(function(u,p,b){var S=-1,B=typeof p=="function",G=Qr(u)?X(u.length):[];return Ia(u,function(J){G[++S]=B?or(p,J,b):su(J,p,b)}),G}),vS=uf(function(u,p,b){Gi(u,b,p)});function yf(u,p){var b=mt(u)?ct:W2;return b(u,rt(p,3))}function yS(u,p,b,S){return u==null?[]:(mt(p)||(p=p==null?[]:[p]),b=S?n:b,mt(b)||(b=b==null?[]:[b]),Y2(u,p,b))}var wS=uf(function(u,p,b){u[b?0:1].push(p)},function(){return[[],[]]});function bS(u,p,b){var S=mt(u)?Ks:Wd,B=arguments.length<3;return S(u,rt(p,4),b,B,Ia)}function CS(u,p,b){var S=mt(u)?Kt:Wd,B=arguments.length<3;return S(u,rt(p,4),b,B,M2)}function ES(u,p){var b=mt(u)?js:L2;return b(u,Cf(rt(p,3)))}function NS(u){var p=mt(u)?j2:g_;return p(u)}function _S(u,p,b){(b?Pr(u,p,b):p===n)?p=1:p=vt(p);var S=mt(u)?$5:x_;return S(u,p)}function SS(u){var p=mt(u)?G5:y_;return p(u)}function AS(u){if(u==null)return 0;if(Qr(u))return Nf(u)?h(u):u.length;var p=Ar(u);return p==Ge||p==Ne?u.size:Ip(u).length}function kS(u,p,b){var S=mt(u)?tt:w_;return b&&Pr(u,p,b)&&(p=n),S(u,rt(p,3))}var TS=wt(function(u,p){if(u==null)return[];var b=p.length;return b>1&&Pr(u,p[0],p[1])?p=[]:b>2&&Pr(p[0],p[1],p[2])&&(p=[p[0]]),Y2(u,xr(p,1),[])}),wf=c5||function(){return $n.Date.now()};function DS(u,p){if(typeof p!="function")throw new yn(d);return u=vt(u),function(){if(--u<1)return p.apply(this,arguments)}}function Uv(u,p,b){return p=b?n:p,p=u&&p==null?u.length:p,Xi(u,O,n,n,n,n,p)}function zv(u,p){var b;if(typeof p!="function")throw new yn(d);return u=vt(u),function(){return--u>0&&(b=p.apply(this,arguments)),u<=1&&(p=n),b}}var n1=wt(function(u,p,b){var S=L;if(b.length){var B=P(b,Rl(n1));S|=Z}return Xi(u,S,p,b,B)}),Wv=wt(function(u,p,b){var S=L|j;if(b.length){var B=P(b,Rl(Wv));S|=Z}return Xi(p,S,u,b,B)});function Hv(u,p,b){p=b?n:p;var S=Xi(u,R,n,n,n,n,n,p);return S.placeholder=Hv.placeholder,S}function qv(u,p,b){p=b?n:p;var S=Xi(u,W,n,n,n,n,n,p);return S.placeholder=qv.placeholder,S}function Vv(u,p,b){var S,B,G,J,re,ae,ye=0,be=!1,Ae=!1,Le=!0;if(typeof u!="function")throw new yn(d);p=Ps(p)||0,Nn(b)&&(be=!!b.leading,Ae="maxWait"in b,G=Ae?rr(Ps(b.maxWait)||0,p):G,Le="trailing"in b?!!b.trailing:Le);function Qe(zn){var ti=S,ea=B;return S=B=n,ye=zn,J=u.apply(ea,ti),J}function it(zn){return ye=zn,re=cu(St,p),be?Qe(zn):J}function yt(zn){var ti=zn-ae,ea=zn-ye,uy=p-ti;return Ae?Sr(uy,G-ea):uy}function at(zn){var ti=zn-ae,ea=zn-ye;return ae===n||ti>=p||ti<0||Ae&&ea>=G}function St(){var zn=wf();if(at(zn))return It(zn);re=cu(St,yt(zn))}function It(zn){return re=n,Le&&S?Qe(zn):(S=B=n,J)}function hs(){re!==n&&tv(re),ye=0,S=ae=B=re=n}function Fr(){return re===n?J:It(wf())}function ps(){var zn=wf(),ti=at(zn);if(S=arguments,B=this,ae=zn,ti){if(re===n)return it(ae);if(Ae)return tv(re),re=cu(St,p),Qe(ae)}return re===n&&(re=cu(St,p)),J}return ps.cancel=hs,ps.flush=Fr,ps}var jS=wt(function(u,p){return O2(u,1,p)}),IS=wt(function(u,p,b){return O2(u,Ps(p)||0,b)});function RS(u){return Xi(u,Y)}function bf(u,p){if(typeof u!="function"||p!=null&&typeof p!="function")throw new yn(d);var b=function(){var S=arguments,B=p?p.apply(this,S):S[0],G=b.cache;if(G.has(B))return G.get(B);var J=u.apply(this,S);return b.cache=G.set(B,J)||G,J};return b.cache=new(bf.Cache||$i),b}bf.Cache=$i;function Cf(u){if(typeof u!="function")throw new yn(d);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}function OS(u){return zv(2,u)}var MS=b_(function(u,p){p=p.length==1&&mt(p[0])?ct(p[0],In(rt())):ct(xr(p,1),In(rt()));var b=p.length;return wt(function(S){for(var B=-1,G=Sr(S.length,b);++B<G;)S[B]=p[B].call(this,S[B]);return or(u,this,S)})}),r1=wt(function(u,p){var b=P(p,Rl(r1));return Xi(u,Z,n,p,b)}),Yv=wt(function(u,p){var b=P(p,Rl(Yv));return Xi(u,U,n,p,b)}),LS=Qi(function(u,p){return Xi(u,V,n,n,n,p)});function PS(u,p){if(typeof u!="function")throw new yn(d);return p=p===n?p:vt(p),wt(u,p)}function FS(u,p){if(typeof u!="function")throw new yn(d);return p=p==null?0:rr(vt(p),0),wt(function(b){var S=b[p],B=Ma(b,0,p);return S&&cs(B,S),or(u,this,B)})}function BS(u,p,b){var S=!0,B=!0;if(typeof u!="function")throw new yn(d);return Nn(b)&&(S="leading"in b?!!b.leading:S,B="trailing"in b?!!b.trailing:B),Vv(u,p,{leading:S,maxWait:p,trailing:B})}function US(u){return Uv(u,1)}function zS(u,p){return r1(zp(p),u)}function WS(){if(!arguments.length)return[];var u=arguments[0];return mt(u)?u:[u]}function HS(u){return Os(u,k)}function qS(u,p){return p=typeof p=="function"?p:n,Os(u,k,p)}function VS(u){return Os(u,E|k)}function YS(u,p){return p=typeof p=="function"?p:n,Os(u,E|k,p)}function $S(u,p){return p==null||R2(u,p,ur(p))}function ei(u,p){return u===p||u!==u&&p!==p}var GS=pf(Tp),XS=pf(function(u,p){return u>=p}),zo=B2(function(){return arguments}())?B2:function(u){return Rn(u)&&Tt.call(u,"callee")&&!_2.call(u,"callee")},mt=X.isArray,QS=ko?In(ko):s_;function Qr(u){return u!=null&&Ef(u.length)&&!Zi(u)}function Un(u){return Rn(u)&&Qr(u)}function KS(u){return u===!0||u===!1||Rn(u)&&Lr(u)==lt}var La=d5||p1,ZS=Qs?In(Qs):i_;function JS(u){return Rn(u)&&u.nodeType===1&&!uu(u)}function e6(u){if(u==null)return!0;if(Qr(u)&&(mt(u)||typeof u=="string"||typeof u.splice=="function"||La(u)||Ol(u)||zo(u)))return!u.length;var p=Ar(u);if(p==Ge||p==Ne)return!u.size;if(lu(u))return!Ip(u).length;for(var b in u)if(Tt.call(u,b))return!1;return!0}function t6(u,p){return iu(u,p)}function n6(u,p,b){b=typeof b=="function"?b:n;var S=b?b(u,p):n;return S===n?iu(u,p,n,b):!!S}function s1(u){if(!Rn(u))return!1;var p=Lr(u);return p==kt||p==Zn||typeof u.message=="string"&&typeof u.name=="string"&&!uu(u)}function r6(u){return typeof u=="number"&&A2(u)}function Zi(u){if(!Nn(u))return!1;var p=Lr(u);return p==ln||p==Ce||p==Ct||p==ft}function $v(u){return typeof u=="number"&&u==vt(u)}function Ef(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ce}function Nn(u){var p=typeof u;return u!=null&&(p=="object"||p=="function")}function Rn(u){return u!=null&&typeof u=="object"}var Gv=Bd?In(Bd):o_;function s6(u,p){return u===p||jp(u,p,Gp(p))}function i6(u,p,b){return b=typeof b=="function"?b:n,jp(u,p,Gp(p),b)}function a6(u){return Xv(u)&&u!=+u}function o6(u){if(q_(u))throw new he(a);return U2(u)}function l6(u){return u===null}function c6(u){return u==null}function Xv(u){return typeof u=="number"||Rn(u)&&Lr(u)==me}function uu(u){if(!Rn(u)||Lr(u)!=Fe)return!1;var p=Xd(u);if(p===null)return!0;var b=Tt.call(p,"constructor")&&p.constructor;return typeof b=="function"&&b instanceof b&&Zs.call(b)==i5}var i1=fe?In(fe):l_;function u6(u){return $v(u)&&u>=-ce&&u<=ce}var Qv=gt?In(gt):c_;function Nf(u){return typeof u=="string"||!mt(u)&&Rn(u)&&Lr(u)==gn}function fs(u){return typeof u=="symbol"||Rn(u)&&Lr(u)==pr}var Ol=Gn?In(Gn):u_;function d6(u){return u===n}function f6(u){return Rn(u)&&Ar(u)==Ze}function h6(u){return Rn(u)&&Lr(u)==Rt}var p6=pf(Rp),m6=pf(function(u,p){return u<=p});function Kv(u){if(!u)return[];if(Qr(u))return Nf(u)?m(u):Xr(u);if(Kc&&u[Kc])return Io(u[Kc]());var p=Ar(u),b=p==Ge?_t:p==Ne?s:Ml;return b(u)}function Ji(u){if(!u)return u===0?u:0;if(u=Ps(u),u===we||u===-we){var p=u<0?-1:1;return p*ve}return u===u?u:0}function vt(u){var p=Ji(u),b=p%1;return p===p?b?p-b:p:0}function Zv(u){return u?Po(vt(u),0,Ye):0}function Ps(u){if(typeof u=="number")return u;if(fs(u))return Oe;if(Nn(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=Nn(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=Hd(u);var b=ks.test(u);return b||dp.test(u)?Nr(u.slice(2),b?2:8):vl.test(u)?Oe:+u}function Jv(u){return vi(u,Kr(u))}function g6(u){return u?Po(vt(u),-ce,ce):u===0?u:0}function Vt(u){return u==null?"":ds(u)}var x6=jl(function(u,p){if(lu(p)||Qr(p)){vi(p,ur(p),u);return}for(var b in p)Tt.call(p,b)&&nu(u,b,p[b])}),ey=jl(function(u,p){vi(p,Kr(p),u)}),_f=jl(function(u,p,b,S){vi(p,Kr(p),u,S)}),v6=jl(function(u,p,b,S){vi(p,ur(p),u,S)}),y6=Qi(Sp);function w6(u,p){var b=Dl(u);return p==null?b:I2(b,p)}var b6=wt(function(u,p){u=Ve(u);var b=-1,S=p.length,B=S>2?p[2]:n;for(B&&Pr(p[0],p[1],B)&&(S=1);++b<S;)for(var G=p[b],J=Kr(G),re=-1,ae=J.length;++re<ae;){var ye=J[re],be=u[ye];(be===n||ei(be,wn[ye])&&!Tt.call(u,ye))&&(u[ye]=G[ye])}return u}),C6=wt(function(u){return u.push(n,xv),or(ty,n,u)});function E6(u,p){return Vi(u,rt(p,3),xi)}function N6(u,p){return Vi(u,rt(p,3),kp)}function _6(u,p){return u==null?u:Ap(u,rt(p,3),Kr)}function S6(u,p){return u==null?u:P2(u,rt(p,3),Kr)}function A6(u,p){return u&&xi(u,rt(p,3))}function k6(u,p){return u&&kp(u,rt(p,3))}function T6(u){return u==null?[]:af(u,ur(u))}function D6(u){return u==null?[]:af(u,Kr(u))}function a1(u,p,b){var S=u==null?n:Fo(u,p);return S===n?b:S}function j6(u,p){return u!=null&&wv(u,p,e_)}function o1(u,p){return u!=null&&wv(u,p,t_)}var I6=fv(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Yd.call(p)),u[p]=b},c1(Zr)),R6=fv(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Yd.call(p)),Tt.call(u,p)?u[p].push(b):u[p]=[b]},rt),O6=wt(su);function ur(u){return Qr(u)?D2(u):Ip(u)}function Kr(u){return Qr(u)?D2(u,!0):d_(u)}function M6(u,p){var b={};return p=rt(p,3),xi(u,function(S,B,G){Gi(b,p(S,B,G),S)}),b}function L6(u,p){var b={};return p=rt(p,3),xi(u,function(S,B,G){Gi(b,B,p(S,B,G))}),b}var P6=jl(function(u,p,b){of(u,p,b)}),ty=jl(function(u,p,b,S){of(u,p,b,S)}),F6=Qi(function(u,p){var b={};if(u==null)return b;var S=!1;p=ct(p,function(G){return G=Oa(G,u),S||(S=G.length>1),G}),vi(u,Yp(u),b),S&&(b=Os(b,E|_|k,I_));for(var B=p.length;B--;)Fp(b,p[B]);return b});function B6(u,p){return ny(u,Cf(rt(p)))}var U6=Qi(function(u,p){return u==null?{}:h_(u,p)});function ny(u,p){if(u==null)return{};var b=ct(Yp(u),function(S){return[S]});return p=rt(p),$2(u,b,function(S,B){return p(S,B[0])})}function z6(u,p,b){p=Oa(p,u);var S=-1,B=p.length;for(B||(B=1,u=n);++S<B;){var G=u==null?n:u[yi(p[S])];G===n&&(S=B,G=b),u=Zi(G)?G.call(u):G}return u}function W6(u,p,b){return u==null?u:au(u,p,b)}function H6(u,p,b,S){return S=typeof S=="function"?S:n,u==null?u:au(u,p,b,S)}var ry=mv(ur),sy=mv(Kr);function q6(u,p,b){var S=mt(u),B=S||La(u)||Ol(u);if(p=rt(p,4),b==null){var G=u&&u.constructor;B?b=S?new G:[]:Nn(u)?b=Zi(G)?Dl(Xd(u)):{}:b={}}return(B?Gr:xi)(u,function(J,re,ae){return p(b,J,re,ae)}),b}function V6(u,p){return u==null?!0:Fp(u,p)}function Y6(u,p,b){return u==null?u:Z2(u,p,zp(b))}function $6(u,p,b,S){return S=typeof S=="function"?S:n,u==null?u:Z2(u,p,zp(b),S)}function Ml(u){return u==null?[]:Ta(u,ur(u))}function G6(u){return u==null?[]:Ta(u,Kr(u))}function X6(u,p,b){return b===n&&(b=p,p=n),b!==n&&(b=Ps(b),b=b===b?b:0),p!==n&&(p=Ps(p),p=p===p?p:0),Po(Ps(u),p,b)}function Q6(u,p,b){return p=Ji(p),b===n?(b=p,p=0):b=Ji(b),u=Ps(u),n_(u,p,b)}function K6(u,p,b){if(b&&typeof b!="boolean"&&Pr(u,p,b)&&(p=b=n),b===n&&(typeof p=="boolean"?(b=p,p=n):typeof u=="boolean"&&(b=u,u=n)),u===n&&p===n?(u=0,p=1):(u=Ji(u),p===n?(p=u,u=0):p=Ji(p)),u>p){var S=u;u=p,p=S}if(b||u%1||p%1){var B=k2();return Sr(u+B*(p-u+Ao("1e-"+((B+"").length-1))),p)}return Mp(u,p)}var Z6=Il(function(u,p,b){return p=p.toLowerCase(),u+(b?iy(p):p)});function iy(u){return l1(Vt(u).toLowerCase())}function ay(u){return u=Vt(u),u&&u.replace(mr,Xc).replace(mp,"")}function J6(u,p,b){u=Vt(u),p=ds(p);var S=u.length;b=b===n?S:Po(vt(b),0,S);var B=b;return b-=p.length,b>=0&&u.slice(b,B)==p}function eA(u){return u=Vt(u),u&&Dd.test(u)?u.replace(mi,wp):u}function tA(u){return u=Vt(u),u&&Bi.test(u)?u.replace(Lc,"\\$&"):u}var nA=Il(function(u,p,b){return u+(b?"-":"")+p.toLowerCase()}),rA=Il(function(u,p,b){return u+(b?" ":"")+p.toLowerCase()}),sA=cv("toLowerCase");function iA(u,p,b){u=Vt(u),p=vt(p);var S=p?h(u):0;if(!p||S>=p)return u;var B=(p-S)/2;return hf(Jd(B),b)+u+hf(Zd(B),b)}function aA(u,p,b){u=Vt(u),p=vt(p);var S=p?h(u):0;return p&&S<p?u+hf(p-S,b):u}function oA(u,p,b){u=Vt(u),p=vt(p);var S=p?h(u):0;return p&&S<p?hf(p-S,b)+u:u}function lA(u,p,b){return b||p==null?p=0:p&&(p=+p),m5(Vt(u).replace(bo,""),p||0)}function cA(u,p,b){return(b?Pr(u,p,b):p===n)?p=1:p=vt(p),Lp(Vt(u),p)}function uA(){var u=arguments,p=Vt(u[0]);return u.length<3?p:p.replace(u[1],u[2])}var dA=Il(function(u,p,b){return u+(b?"_":"")+p.toLowerCase()});function fA(u,p,b){return b&&typeof b!="number"&&Pr(u,p,b)&&(p=b=n),b=b===n?Ye:b>>>0,b?(u=Vt(u),u&&(typeof p=="string"||p!=null&&!i1(p))&&(p=ds(p),!p&&Da(u))?Ma(m(u),0,b):u.split(p,b)):[]}var hA=Il(function(u,p,b){return u+(b?" ":"")+l1(p)});function pA(u,p,b){return u=Vt(u),b=b==null?0:Po(vt(b),0,u.length),p=ds(p),u.slice(b,b+p.length)==p}function mA(u,p,b){var S=q.templateSettings;b&&Pr(u,p,b)&&(p=n),u=Vt(u),p=_f({},p,S,gv);var B=_f({},p.imports,S.imports,gv),G=ur(B),J=Ta(B,G),re,ae,ye=0,be=p.interpolate||Xt,Ae="__p += '",Le=ht((p.escape||Xt).source+"|"+be.source+"|"+(be===Jn?_a:Xt).source+"|"+(p.evaluate||Xt).source+"|$","g"),Qe="//# sourceURL="+(Tt.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Wi+"]")+`
`;u.replace(Le,function(at,St,It,hs,Fr,ps){return It||(It=hs),Ae+=u.slice(ye,ps).replace(jd,qd),St&&(re=!0,Ae+=`' +
__e(`+St+`) +
'`),Fr&&(ae=!0,Ae+=`';
`+Fr+`;
__p += '`),It&&(Ae+=`' +
((__t = (`+It+`)) == null ? '' : __t) +
'`),ye=ps+at.length,at}),Ae+=`';
`;var it=Tt.call(p,"variable")&&p.variable;if(!it)Ae=`with (obj) {
`+Ae+`
}
`;else if(Pc.test(it))throw new he(g);Ae=(ae?Ae.replace(Xs,""):Ae).replace(wo,"$1").replace(kd,"$1;"),Ae="function("+(it||"obj")+`) {
`+(it?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(re?", __e = _.escape":"")+(ae?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var yt=ly(function(){return ge(G,Qe+"return "+Ae).apply(n,J)});if(yt.source=Ae,s1(yt))throw yt;return yt}function gA(u){return Vt(u).toLowerCase()}function xA(u){return Vt(u).toUpperCase()}function vA(u,p,b){if(u=Vt(u),u&&(b||p===n))return Hd(u);if(!u||!(p=ds(p)))return u;var S=m(u),B=m(p),G=Gc(S,B),J=us(S,B)+1;return Ma(S,G,J).join("")}function yA(u,p,b){if(u=Vt(u),u&&(b||p===n))return u.slice(0,y(u)+1);if(!u||!(p=ds(p)))return u;var S=m(u),B=us(S,m(p))+1;return Ma(S,0,B).join("")}function wA(u,p,b){if(u=Vt(u),u&&(b||p===n))return u.replace(bo,"");if(!u||!(p=ds(p)))return u;var S=m(u),B=Gc(S,m(p));return Ma(S,B).join("")}function bA(u,p){var b=ee,S=de;if(Nn(p)){var B="separator"in p?p.separator:B;b="length"in p?vt(p.length):b,S="omission"in p?ds(p.omission):S}u=Vt(u);var G=u.length;if(Da(u)){var J=m(u);G=J.length}if(b>=G)return u;var re=b-h(S);if(re<1)return S;var ae=J?Ma(J,0,re).join(""):u.slice(0,re);if(B===n)return ae+S;if(J&&(re+=ae.length-re),i1(B)){if(u.slice(re).search(B)){var ye,be=ae;for(B.global||(B=ht(B.source,Vt(Co.exec(B))+"g")),B.lastIndex=0;ye=B.exec(be);)var Ae=ye.index;ae=ae.slice(0,Ae===n?re:Ae)}}else if(u.indexOf(ds(B),re)!=re){var Le=ae.lastIndexOf(B);Le>-1&&(ae=ae.slice(0,Le))}return ae+S}function CA(u){return u=Vt(u),u&&Td.test(u)?u.replace(Ot,C):u}var EA=Il(function(u,p,b){return u+(b?" ":"")+p.toUpperCase()}),l1=cv("toUpperCase");function oy(u,p,b){return u=Vt(u),p=b?n:p,p===n?Qc(u)?F(u):qi(u):u.match(p)||[]}var ly=wt(function(u,p){try{return or(u,n,p)}catch(b){return s1(b)?b:new he(b)}}),NA=Qi(function(u,p){return Gr(p,function(b){b=yi(b),Gi(u,b,n1(u[b],u))}),u});function _A(u){var p=u==null?0:u.length,b=rt();return u=p?ct(u,function(S){if(typeof S[1]!="function")throw new yn(d);return[b(S[0]),S[1]]}):[],wt(function(S){for(var B=-1;++B<p;){var G=u[B];if(or(G[0],this,S))return or(G[1],this,S)}})}function SA(u){return K5(Os(u,E))}function c1(u){return function(){return u}}function AA(u,p){return u==null||u!==u?p:u}var kA=dv(),TA=dv(!0);function Zr(u){return u}function u1(u){return z2(typeof u=="function"?u:Os(u,E))}function DA(u){return H2(Os(u,E))}function jA(u,p){return q2(u,Os(p,E))}var IA=wt(function(u,p){return function(b){return su(b,u,p)}}),RA=wt(function(u,p){return function(b){return su(u,b,p)}});function d1(u,p,b){var S=ur(p),B=af(p,S);b==null&&!(Nn(p)&&(B.length||!S.length))&&(b=p,p=u,u=this,B=af(p,ur(p)));var G=!(Nn(b)&&"chain"in b)||!!b.chain,J=Zi(u);return Gr(B,function(re){var ae=p[re];u[re]=ae,J&&(u.prototype[re]=function(){var ye=this.__chain__;if(G||ye){var be=u(this.__wrapped__),Ae=be.__actions__=Xr(this.__actions__);return Ae.push({func:ae,args:arguments,thisArg:u}),be.__chain__=ye,be}return ae.apply(u,cs([this.value()],arguments))})}),u}function OA(){return $n._===this&&($n._=a5),this}function f1(){}function MA(u){return u=vt(u),wt(function(p){return V2(p,u)})}var LA=Hp(ct),PA=Hp(zd),FA=Hp(tt);function cy(u){return Qp(u)?Sl(yi(u)):p_(u)}function BA(u){return function(p){return u==null?n:Fo(u,p)}}var UA=hv(),zA=hv(!0);function h1(){return[]}function p1(){return!1}function WA(){return{}}function HA(){return""}function qA(){return!0}function VA(u,p){if(u=vt(u),u<1||u>ce)return[];var b=Ye,S=Sr(u,Ye);p=rt(p),u-=Ye;for(var B=$c(S,p);++b<u;)p(b);return B}function YA(u){return mt(u)?ct(u,yi):fs(u)?[u]:Xr(Tv(Vt(u)))}function $A(u){var p=++bp;return Vt(u)+p}var GA=ff(function(u,p){return u+p},0),XA=qp("ceil"),QA=ff(function(u,p){return u/p},1),KA=qp("floor");function ZA(u){return u&&u.length?sf(u,Zr,Tp):n}function JA(u,p){return u&&u.length?sf(u,rt(p,2),Tp):n}function ek(u){return _l(u,Zr)}function tk(u,p){return _l(u,rt(p,2))}function nk(u){return u&&u.length?sf(u,Zr,Rp):n}function rk(u,p){return u&&u.length?sf(u,rt(p,2),Rp):n}var sk=ff(function(u,p){return u*p},1),ik=qp("round"),ak=ff(function(u,p){return u-p},0);function ok(u){return u&&u.length?Do(u,Zr):0}function lk(u,p){return u&&u.length?Do(u,rt(p,2)):0}return q.after=DS,q.ary=Uv,q.assign=x6,q.assignIn=ey,q.assignInWith=_f,q.assignWith=v6,q.at=y6,q.before=zv,q.bind=n1,q.bindAll=NA,q.bindKey=Wv,q.castArray=WS,q.chain=Pv,q.chunk=K_,q.compact=Z_,q.concat=J_,q.cond=_A,q.conforms=SA,q.constant=c1,q.countBy=oS,q.create=w6,q.curry=Hv,q.curryRight=qv,q.debounce=Vv,q.defaults=b6,q.defaultsDeep=C6,q.defer=jS,q.delay=IS,q.difference=e8,q.differenceBy=t8,q.differenceWith=n8,q.drop=r8,q.dropRight=s8,q.dropRightWhile=i8,q.dropWhile=a8,q.fill=o8,q.filter=cS,q.flatMap=fS,q.flatMapDeep=hS,q.flatMapDepth=pS,q.flatten=Rv,q.flattenDeep=l8,q.flattenDepth=c8,q.flip=RS,q.flow=kA,q.flowRight=TA,q.fromPairs=u8,q.functions=T6,q.functionsIn=D6,q.groupBy=mS,q.initial=f8,q.intersection=h8,q.intersectionBy=p8,q.intersectionWith=m8,q.invert=I6,q.invertBy=R6,q.invokeMap=xS,q.iteratee=u1,q.keyBy=vS,q.keys=ur,q.keysIn=Kr,q.map=yf,q.mapKeys=M6,q.mapValues=L6,q.matches=DA,q.matchesProperty=jA,q.memoize=bf,q.merge=P6,q.mergeWith=ty,q.method=IA,q.methodOf=RA,q.mixin=d1,q.negate=Cf,q.nthArg=MA,q.omit=F6,q.omitBy=B6,q.once=OS,q.orderBy=yS,q.over=LA,q.overArgs=MS,q.overEvery=PA,q.overSome=FA,q.partial=r1,q.partialRight=Yv,q.partition=wS,q.pick=U6,q.pickBy=ny,q.property=cy,q.propertyOf=BA,q.pull=y8,q.pullAll=Mv,q.pullAllBy=w8,q.pullAllWith=b8,q.pullAt=C8,q.range=UA,q.rangeRight=zA,q.rearg=LS,q.reject=ES,q.remove=E8,q.rest=PS,q.reverse=e1,q.sampleSize=_S,q.set=W6,q.setWith=H6,q.shuffle=SS,q.slice=N8,q.sortBy=TS,q.sortedUniq=j8,q.sortedUniqBy=I8,q.split=fA,q.spread=FS,q.tail=R8,q.take=O8,q.takeRight=M8,q.takeRightWhile=L8,q.takeWhile=P8,q.tap=Z8,q.throttle=BS,q.thru=vf,q.toArray=Kv,q.toPairs=ry,q.toPairsIn=sy,q.toPath=YA,q.toPlainObject=Jv,q.transform=q6,q.unary=US,q.union=F8,q.unionBy=B8,q.unionWith=U8,q.uniq=z8,q.uniqBy=W8,q.uniqWith=H8,q.unset=V6,q.unzip=t1,q.unzipWith=Lv,q.update=Y6,q.updateWith=$6,q.values=Ml,q.valuesIn=G6,q.without=q8,q.words=oy,q.wrap=zS,q.xor=V8,q.xorBy=Y8,q.xorWith=$8,q.zip=G8,q.zipObject=X8,q.zipObjectDeep=Q8,q.zipWith=K8,q.entries=ry,q.entriesIn=sy,q.extend=ey,q.extendWith=_f,d1(q,q),q.add=GA,q.attempt=ly,q.camelCase=Z6,q.capitalize=iy,q.ceil=XA,q.clamp=X6,q.clone=HS,q.cloneDeep=VS,q.cloneDeepWith=YS,q.cloneWith=qS,q.conformsTo=$S,q.deburr=ay,q.defaultTo=AA,q.divide=QA,q.endsWith=J6,q.eq=ei,q.escape=eA,q.escapeRegExp=tA,q.every=lS,q.find=uS,q.findIndex=jv,q.findKey=E6,q.findLast=dS,q.findLastIndex=Iv,q.findLastKey=N6,q.floor=KA,q.forEach=Fv,q.forEachRight=Bv,q.forIn=_6,q.forInRight=S6,q.forOwn=A6,q.forOwnRight=k6,q.get=a1,q.gt=GS,q.gte=XS,q.has=j6,q.hasIn=o1,q.head=Ov,q.identity=Zr,q.includes=gS,q.indexOf=d8,q.inRange=Q6,q.invoke=O6,q.isArguments=zo,q.isArray=mt,q.isArrayBuffer=QS,q.isArrayLike=Qr,q.isArrayLikeObject=Un,q.isBoolean=KS,q.isBuffer=La,q.isDate=ZS,q.isElement=JS,q.isEmpty=e6,q.isEqual=t6,q.isEqualWith=n6,q.isError=s1,q.isFinite=r6,q.isFunction=Zi,q.isInteger=$v,q.isLength=Ef,q.isMap=Gv,q.isMatch=s6,q.isMatchWith=i6,q.isNaN=a6,q.isNative=o6,q.isNil=c6,q.isNull=l6,q.isNumber=Xv,q.isObject=Nn,q.isObjectLike=Rn,q.isPlainObject=uu,q.isRegExp=i1,q.isSafeInteger=u6,q.isSet=Qv,q.isString=Nf,q.isSymbol=fs,q.isTypedArray=Ol,q.isUndefined=d6,q.isWeakMap=f6,q.isWeakSet=h6,q.join=g8,q.kebabCase=nA,q.last=Ls,q.lastIndexOf=x8,q.lowerCase=rA,q.lowerFirst=sA,q.lt=p6,q.lte=m6,q.max=ZA,q.maxBy=JA,q.mean=ek,q.meanBy=tk,q.min=nk,q.minBy=rk,q.stubArray=h1,q.stubFalse=p1,q.stubObject=WA,q.stubString=HA,q.stubTrue=qA,q.multiply=sk,q.nth=v8,q.noConflict=OA,q.noop=f1,q.now=wf,q.pad=iA,q.padEnd=aA,q.padStart=oA,q.parseInt=lA,q.random=K6,q.reduce=bS,q.reduceRight=CS,q.repeat=cA,q.replace=uA,q.result=z6,q.round=ik,q.runInContext=z,q.sample=NS,q.size=AS,q.snakeCase=dA,q.some=kS,q.sortedIndex=_8,q.sortedIndexBy=S8,q.sortedIndexOf=A8,q.sortedLastIndex=k8,q.sortedLastIndexBy=T8,q.sortedLastIndexOf=D8,q.startCase=hA,q.startsWith=pA,q.subtract=ak,q.sum=ok,q.sumBy=lk,q.template=mA,q.times=VA,q.toFinite=Ji,q.toInteger=vt,q.toLength=Zv,q.toLower=gA,q.toNumber=Ps,q.toSafeInteger=g6,q.toString=Vt,q.toUpper=xA,q.trim=vA,q.trimEnd=yA,q.trimStart=wA,q.truncate=bA,q.unescape=CA,q.uniqueId=$A,q.upperCase=EA,q.upperFirst=l1,q.each=Fv,q.eachRight=Bv,q.first=Ov,d1(q,function(){var u={};return xi(q,function(p,b){Tt.call(q.prototype,b)||(u[b]=p)}),u}(),{chain:!1}),q.VERSION=r,Gr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){q[u].placeholder=q}),Gr(["drop","take"],function(u,p){Dt.prototype[u]=function(b){b=b===n?1:rr(vt(b),0);var S=this.__filtered__&&!p?new Dt(this):this.clone();return S.__filtered__?S.__takeCount__=Sr(b,S.__takeCount__):S.__views__.push({size:Sr(b,Ye),type:u+(S.__dir__<0?"Right":"")}),S},Dt.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),Gr(["filter","map","takeWhile"],function(u,p){var b=p+1,S=b==Te||b==Se;Dt.prototype[u]=function(B){var G=this.clone();return G.__iteratees__.push({iteratee:rt(B,3),type:b}),G.__filtered__=G.__filtered__||S,G}}),Gr(["head","last"],function(u,p){var b="take"+(p?"Right":"");Dt.prototype[u]=function(){return this[b](1).value()[0]}}),Gr(["initial","tail"],function(u,p){var b="drop"+(p?"":"Right");Dt.prototype[u]=function(){return this.__filtered__?new Dt(this):this[b](1)}}),Dt.prototype.compact=function(){return this.filter(Zr)},Dt.prototype.find=function(u){return this.filter(u).head()},Dt.prototype.findLast=function(u){return this.reverse().find(u)},Dt.prototype.invokeMap=wt(function(u,p){return typeof u=="function"?new Dt(this):this.map(function(b){return su(b,u,p)})}),Dt.prototype.reject=function(u){return this.filter(Cf(rt(u)))},Dt.prototype.slice=function(u,p){u=vt(u);var b=this;return b.__filtered__&&(u>0||p<0)?new Dt(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),p!==n&&(p=vt(p),b=p<0?b.dropRight(-p):b.take(p-u)),b)},Dt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Dt.prototype.toArray=function(){return this.take(Ye)},xi(Dt.prototype,function(u,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),S=/^(?:head|last)$/.test(p),B=q[S?"take"+(p=="last"?"Right":""):p],G=S||/^find/.test(p);B&&(q.prototype[p]=function(){var J=this.__wrapped__,re=S?[1]:arguments,ae=J instanceof Dt,ye=re[0],be=ae||mt(J),Ae=function(St){var It=B.apply(q,cs([St],re));return S&&Le?It[0]:It};be&&b&&typeof ye=="function"&&ye.length!=1&&(ae=be=!1);var Le=this.__chain__,Qe=!!this.__actions__.length,it=G&&!Le,yt=ae&&!Qe;if(!G&&be){J=yt?J:new Dt(this);var at=u.apply(J,re);return at.__actions__.push({func:vf,args:[Ae],thisArg:n}),new Rs(at,Le)}return it&&yt?u.apply(this,re):(at=this.thru(Ae),it?S?at.value()[0]:at.value():at)})}),Gr(["pop","push","shift","sort","splice","unshift"],function(u){var p=nr[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",S=/^(?:pop|shift)$/.test(u);q.prototype[u]=function(){var B=arguments;if(S&&!this.__chain__){var G=this.value();return p.apply(mt(G)?G:[],B)}return this[b](function(J){return p.apply(mt(J)?J:[],B)})}}),xi(Dt.prototype,function(u,p){var b=q[p];if(b){var S=b.name+"";Tt.call(Tl,S)||(Tl[S]=[]),Tl[S].push({name:p,func:b})}}),Tl[df(n,j).name]=[{name:"wrapper",func:n}],Dt.prototype.clone=C5,Dt.prototype.reverse=E5,Dt.prototype.value=N5,q.prototype.at=J8,q.prototype.chain=eS,q.prototype.commit=tS,q.prototype.next=nS,q.prototype.plant=sS,q.prototype.reverse=iS,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=aS,q.prototype.first=q.prototype.head,Kc&&(q.prototype[Kc]=rS),q},K=H();Hi?((Hi.exports=K)._=K,qc._=K):$n._=K}).call(Ai)})(xh,xh.exports);var MN=xh.exports;const vF=({search:e,onApply:t,onDelete:n})=>l.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[l.jsx("button",{onClick:()=>t(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),l.jsx("button",{onClick:()=>n(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),tm=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),$b=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),yF=({equipmentData:e,onFilterChange:t,currentFilters:n,isLoading:r})=>{const a=(()=>{if(!e||e.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const x={total:e.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},v=new Date;return v.setDate(v.getDate()-7),e.forEach(w=>{w.status==="available"?x.available++:w.status==="in-use"?x.inUse++:w.status==="maintenance"&&x.maintenance++;const E=w.category||"Uncategorized";x.categories[E]=(x.categories[E]||0)+1;const _=w.type||"Unknown";x.types[_]=(x.types[_]||0)+1;const k=w.location||"No Location";x.locations[k]=(x.locations[k]||0)+1;const A=w.brand||"Unknown";x.brands[A]=(x.brands[A]||0)+1,new Date(w.created_at)>v&&x.recentlyAdded++}),x})(),d=[{title:"Total Equipment",value:a.total,icon:l.jsx($b,{}),color:"blue",filter:{status:""},description:"All equipment in system"},{title:"Available",value:a.available,icon:l.jsx(tm,{}),color:"green",filter:{status:"available"},description:"Ready for use"},{title:"In Use",value:a.inUse,icon:l.jsx(tm,{}),color:"yellow",filter:{status:"in-use"},description:"Currently deployed"},{title:"Maintenance",value:a.maintenance,icon:l.jsx(tm,{}),color:"red",filter:{status:"maintenance"},description:"Under repair"}],g=(x,v=!1)=>{const w={blue:{bg:v?"bg-blue-100 border-blue-500":"bg-blue-50 hover:bg-blue-100",text:"text-blue-700",border:"border-l-4 border-blue-500",icon:"text-blue-600"},green:{bg:v?"bg-green-100 border-green-500":"bg-green-50 hover:bg-green-100",text:"text-green-700",border:"border-l-4 border-green-500",icon:"text-green-600"},yellow:{bg:v?"bg-yellow-100 border-yellow-500":"bg-yellow-50 hover:bg-yellow-100",text:"text-yellow-700",border:"border-l-4 border-yellow-500",icon:"text-yellow-600"},red:{bg:v?"bg-red-100 border-red-500":"bg-red-50 hover:bg-red-100",text:"text-red-700",border:"border-l-4 border-red-500",icon:"text-red-600"}};return w[x]||w.blue};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx($b,{}),"Equipment Analytics"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map((x,v)=>{const w=n.status===x.filter.status,E=g(x.color,w);return l.jsx("button",{onClick:()=>t(x.filter),className:`${E.bg} ${E.border} p-4 rounded-lg transition-all duration-200 hover:shadow-md cursor-pointer text-left group ${w?"ring-2 ring-offset-2 ring-blue-500":""}`,title:`Filter by ${x.title.toLowerCase()}: ${x.description}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:`text-sm font-medium ${E.text} mb-1`,children:x.title}),l.jsx("p",{className:`text-2xl font-bold ${E.text}`,children:r?"...":x.value.toLocaleString()}),l.jsx("p",{className:`text-xs ${E.text} opacity-75 mt-1`,children:x.description})]}),l.jsx("div",{className:`${E.icon} group-hover:scale-110 transition-transform`,children:x.icon})]})},v)})})]}),l.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-4",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.brands).length}),l.jsx("p",{className:"text-sm text-primary-600",children:"Brands"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.types).length}),l.jsx("p",{className:"text-sm text-primary-600",children:"Types"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.locations).length}),l.jsx("p",{className:"text-sm text-primary-600",children:"Locations"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:a.recentlyAdded}),l.jsx("p",{className:"text-sm text-green-600",children:"Added This Week"})]})]})})]})},wF=()=>{var kt,ln;const{user:e,canEditEquipment:t}=ar(),n=Kn(),r=M.useRef(null),[i,a]=M.useState({search:"",type:"",brand:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[d,g]=M.useState("updated_at"),[x,v]=M.useState("desc"),[w,E]=M.useState(""),[_,k]=M.useState(!1),[A,I]=M.useState(!1),[L,j]=M.useState(!1),[D,R]=M.useState(""),[W,Z]=M.useState(!1),{data:U,isLoading:O}=Et(["equipment-summary"],()=>oa({limit:1e3}));(()=>{if(!(U!=null&&U.equipment))return{total:0,available:0,inUse:0,maintenance:0};const Ce={total:U.equipment.length,available:0,inUse:0,maintenance:0,types:{}};return U.equipment.forEach(Ge=>{Ge.status==="available"?Ce.available++:Ge.status==="in-use"?Ce.inUse++:Ge.status==="maintenance"&&Ce.maintenance++,Ce.types[Ge.type]?Ce.types[Ge.type]++:Ce.types[Ge.type]=1}),Ce})();const{data:Y,fetchNextPage:ee,hasNextPage:de,isFetchingNextPage:ie,isLoading:le,isError:Te,error:ne}=Ux(["equipment",i,d,x],async({pageParam:Ce=1})=>{const Ge={page:Ce,limit:20,...i,sortBy:d,sortOrder:x};return i.dateRange.startDate&&i.dateRange.endDate&&(Ge.startDate=i.dateRange.startDate.toISOString(),Ge.endDate=i.dateRange.endDate.toISOString()),oa(Ge)},{getNextPageParam:Ce=>{if(Ce.page<Ce.totalPages)return Ce.page+1},keepPreviousData:!0}),{data:Se,isLoading:we}=Et(["equipment-suggestions",w],()=>oa({search:w,limit:5}),{enabled:!!w&&w.length>2,keepPreviousData:!0}),{data:ce}=Et(["saved-searches"],tN,{enabled:t()}),{data:ve}=Et({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5});Et({queryKey:["categories"],queryFn:ml});const{data:Oe}=Et(["equipment-analytics"],()=>oa({limit:1e4}),{keepPreviousData:!0}),Ye=M.useCallback(MN.debounce(Ce=>{E(Ce)},300),[]),Je=Ce=>{const Ge=Ce.target.value,me={...i,search:Ge};a(me),Ye(Ge),Ge.length>2?k(!0):k(!1);const Me=Object.values(me).some(Fe=>Fe!==""&&Fe!==null&&(typeof Fe!="object"||me.dateRange.startDate||me.dateRange.endDate));I(Me)},ke=Ce=>{const{name:Ge,value:me}=Ce.target,Me={...i,[Ge]:me};a(Me);const Fe=Object.values(Me).some(qe=>qe!==""&&qe!==null&&(typeof qe!="object"||qe.startDate||qe.endDate));I(Fe)},Xe=Ce=>{const Ge={...i,...Ce};a(Ge),I(!0),Z(!0)},st=()=>{a({search:"",status:"",type:"",brand:"",location:"",dateRange:{startDate:null,endDate:null}}),I(!1),Z(!1)},_e=Ce=>{const[Ge,me]=Ce,Me={...i,dateRange:{startDate:Ge,endDate:me}};a(Me);const Fe=Object.values(Me).some(qe=>qe!==""&&qe!==null&&(typeof qe!="object"||Me.dateRange.startDate||Me.dateRange.endDate));I(Fe)},Ct=async()=>{if(!D.trim()){ot.error("Please enter a name for your saved search");return}try{await nN({name:D,filters:JSON.stringify(i),sortBy:d,sortOrder:x}),n.invalidateQueries(["saved-searches"]),R(""),j(!1),ot.success("Search saved successfully")}catch(Ce){ot.error("Failed to save search"),console.error("Save search error:",Ce)}},lt=Ce=>{try{const Ge=JSON.parse(Ce.filters);a(Ge),g(Ce.sortBy||"updated_at"),v(Ce.sortOrder||"desc"),I(!0),ot.info(`Applied saved search: ${Ce.name}`)}catch(Ge){ot.error("Failed to apply saved search"),console.error("Apply saved search error:",Ge)}},on=async Ce=>{try{await rN(Ce),n.invalidateQueries(["saved-searches"]),ot.success("Search deleted successfully")}catch(Ge){ot.error("Failed to delete search"),console.error("Delete saved search error:",Ge)}};M.useEffect(()=>{const Ce=new IntersectionObserver(Ge=>{Ge[0].isIntersecting&&de&&!ie&&ee()},{threshold:.5});return r.current&&Ce.observe(r.current),()=>{r.current&&Ce.unobserve(r.current)}},[r,ee,de,ie]);const Zn=(Y==null?void 0:Y.pages.flatMap(Ce=>Ce.equipment))||[];return l.jsxs("div",{className:"space-y-6",children:[l.jsx(Zh,{position:"top-right",autoClose:3e3}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Dashboard"}),l.jsx(Ln,{to:"/equipment/new",className:"btn btn-primary",children:"Add New Equipment"})]}),l.jsxs("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:i.search,onChange:Je,className:"w-full px-4 py-3 pl-10 rounded-full shadow-md border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","aria-label":"Search equipment catalog"}),l.jsx(Xx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),_&&((kt=Se==null?void 0:Se.equipment)==null?void 0:kt.length)>0&&l.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:Se.equipment.map(Ce=>l.jsxs(Ln,{to:`/equipment/${Ce.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[l.jsxs("div",{className:"font-medium",children:[Ce.brand," ",Ce.model]}),l.jsxs("div",{className:"text-sm text-slate-500",children:[Ce.type," • SN: ",Ce.serial_number]})]},Ce.id))})]}),l.jsx("div",{className:"flex justify-between mt-2",children:l.jsxs("button",{onClick:()=>Z(!W),className:"flex items-center text-sm text-slate-600 hover:text-primary-600",children:[l.jsx(Qx,{className:"w-4 h-4 mr-1"}),W?"Hide Filters":"Show Advanced Filters"]})})]}),t()&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),L?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:D,onChange:Ce=>R(Ce.target.value),className:"w-48 px-3 py-1 text-sm border border-slate-300 rounded-lg"}),l.jsx("button",{className:"px-3 py-1 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700",onClick:Ct,children:"Save"}),l.jsx("button",{className:"px-3 py-1 text-sm border border-slate-300 rounded-lg hover:bg-slate-50",onClick:()=>{j(!1),R("")},children:"Cancel"})]}):l.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 text-sm border border-slate-300 rounded-lg hover:bg-slate-50",onClick:()=>j(!0),children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),l.jsx("span",{children:"Save Current Search"})]})]}),l.jsx("div",{className:"flex flex-wrap",children:((ln=ce==null?void 0:ce.searches)==null?void 0:ln.length)>0?ce.searches.map(Ce=>l.jsx(vF,{search:Ce,onApply:lt,onDelete:on},Ce.id)):l.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),l.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${W?"max-h-96 opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:l.jsxs("div",{className:"p-4",children:[l.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Equipment Type"}),l.jsxs("select",{name:"type",value:i.type,onChange:ke,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[l.jsx("option",{value:"",children:"All Types"}),ve!=null&&ve.types&&ve.types.length>0?ve.types.map(Ce=>l.jsx("option",{value:Ce.name.toLowerCase(),children:Ce.name},Ce.id)):l.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Brand"}),l.jsx("input",{type:"text",name:"brand",value:i.brand,onChange:ke,placeholder:"Filter by brand",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),l.jsxs("select",{name:"status",value:i.status,onChange:ke,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"available",children:"Available"}),l.jsx("option",{value:"in-use",children:"In Use"}),l.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),l.jsx("input",{type:"text",name:"location",value:i.location,onChange:ke,placeholder:"Filter by location",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),l.jsx(ON,{selectsRange:!0,startDate:i.dateRange.startDate,endDate:i.dateRange.endDate,onChange:_e,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),l.jsxs("select",{value:d,onChange:Ce=>g(Ce.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[l.jsx("option",{value:"updated_at",children:"Last Updated"}),l.jsx("option",{value:"brand",children:"Brand"}),l.jsx("option",{value:"model",children:"Model"}),l.jsx("option",{value:"type",children:"Type"}),l.jsx("option",{value:"status",children:"Status"}),l.jsx("option",{value:"location",children:"Location"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort Order"}),l.jsxs("select",{value:x,onChange:Ce=>v(Ce.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[l.jsx("option",{value:"asc",children:"Ascending"}),l.jsx("option",{value:"desc",children:"Descending"})]})]})]})]})}),A?l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Search Results"}),l.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[Zn.length," items found"]})]}),l.jsxs("button",{onClick:st,className:"px-3 py-2 text-sm bg-white border border-slate-300 rounded-lg hover:bg-slate-50 flex items-center",title:"Clear all filters and return to dashboard",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear Filters"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-slate-50 text-left",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Brand"}),l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Model"}),l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Serial Number"}),l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Location"}),l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200",children:le?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-slate-500",children:l.jsxs("div",{className:"flex justify-center items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mr-2"}),"Loading..."]})})}):Te?l.jsx("tr",{children:l.jsxs("td",{colSpan:"7",className:"px-6 py-4 text-center text-red-500",children:["Error loading equipment: ",ne.message]})}):Zn.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-slate-500",children:"No equipment found matching your search criteria"})}):Zn.map(Ce=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ce.type}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ce.brand}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ce.model}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ce.serial_number}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ce.status==="available"?"bg-green-100 text-green-800":Ce.status==="in-use"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:Ce.status})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ce.location||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Ln,{to:`/equipment/${Ce.id}`,className:"text-primary-600 hover:text-primary-900",title:"View details",children:l.jsx(FE,{className:"w-5 h-5"})}),t()&&l.jsx(l.Fragment,{children:l.jsx(Ln,{to:`/equipment/${Ce.id}/edit`,className:"text-slate-600 hover:text-slate-900",title:"Edit equipment",children:l.jsx(Gx,{className:"w-5 h-5"})})})]})})]},Ce.id))})]})}),l.jsx("div",{ref:r,className:"py-4 text-center",children:ie?l.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),l.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):de?l.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):l.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]}):l.jsx("div",{className:"grid grid-cols-1 gap-6",children:l.jsx(yF,{equipmentData:(Oe==null?void 0:Oe.equipment)||[],onFilterChange:Xe,currentFilters:i,isLoading:O})})]})},bF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),CF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),EF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})}),NF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),_F=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),SF=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[l.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),l.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),AF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),nm=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),Bu=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),kF=({equipmentData:e,onFilterChange:t,currentFilters:n,isLoading:r})=>{const a=(()=>{if(!e||e.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const x={total:e.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},v=new Date;return v.setDate(v.getDate()-7),e.forEach(w=>{w.status==="available"?x.available++:w.status==="in-use"?x.inUse++:w.status==="maintenance"&&x.maintenance++;const E=w.category||"Uncategorized";x.categories[E]=(x.categories[E]||0)+1;const _=w.type||"Unknown";x.types[_]=(x.types[_]||0)+1;const k=w.location||"No Location";x.locations[k]=(x.locations[k]||0)+1;const A=w.brand||"Unknown";x.brands[A]=(x.brands[A]||0)+1,new Date(w.created_at)>v&&x.recentlyAdded++}),x})(),d=[{title:"Total Equipment",value:a.total,icon:l.jsx(Bu,{}),color:"blue",filter:{status:""},description:"All equipment in system"},{title:"Available",value:a.available,icon:l.jsx(nm,{}),color:"green",filter:{status:"available"},description:"Ready for use"},{title:"In Use",value:a.inUse,icon:l.jsx(nm,{}),color:"yellow",filter:{status:"in-use"},description:"Currently deployed"},{title:"Maintenance",value:a.maintenance,icon:l.jsx(nm,{}),color:"red",filter:{status:"maintenance"},description:"Under repair"}],g=(x,v=!1)=>{const w={blue:{bg:v?"bg-blue-100 border-blue-500":"bg-blue-50 hover:bg-blue-100",text:"text-blue-700",border:"border-l-4 border-blue-500",icon:"text-blue-600"},green:{bg:v?"bg-green-100 border-green-500":"bg-green-50 hover:bg-green-100",text:"text-green-700",border:"border-l-4 border-green-500",icon:"text-green-600"},yellow:{bg:v?"bg-yellow-100 border-yellow-500":"bg-yellow-50 hover:bg-yellow-100",text:"text-yellow-700",border:"border-l-4 border-yellow-500",icon:"text-yellow-600"},red:{bg:v?"bg-red-100 border-red-500":"bg-red-50 hover:bg-red-100",text:"text-red-700",border:"border-l-4 border-red-500",icon:"text-red-600"}};return w[x]||w.blue};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx(Bu,{}),"Equipment Analytics"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map((x,v)=>{const w=n.status===x.filter.status,E=g(x.color,w);return l.jsx("button",{onClick:()=>t(x.filter),className:`${E.bg} ${E.border} p-4 rounded-lg transition-all duration-200 hover:shadow-md cursor-pointer text-left group ${w?"ring-2 ring-offset-2 ring-blue-500":""}`,title:`Filter by ${x.title.toLowerCase()}: ${x.description}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:`text-sm font-medium ${E.text} mb-1`,children:x.title}),l.jsx("p",{className:`text-2xl font-bold ${E.text}`,children:r?"...":x.value.toLocaleString()}),l.jsx("p",{className:`text-xs ${E.text} opacity-75 mt-1`,children:x.description})]}),l.jsx("div",{className:`${E.icon} group-hover:scale-110 transition-transform`,children:x.icon})]})},v)})})]}),l.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-4",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.brands).length}),l.jsx("p",{className:"text-sm text-primary-600",children:"Brands"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.types).length}),l.jsx("p",{className:"text-sm text-primary-600",children:"Types"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.locations).length}),l.jsx("p",{className:"text-sm text-primary-600",children:"Locations"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:a.recentlyAdded}),l.jsx("p",{className:"text-sm text-green-600",children:"Added This Week"})]})]})})]})},TF=({equipment:e,canEdit:t,searchTerm:n})=>{const[r,i]=M.useState(!1);let a=null;if(e.reference_image_id)a=nh(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const x=e.files.find(v=>v.file_type==="image");x&&(a=nh(x.id,!0))}const d=x=>{switch(x){case"available":return l.jsx(vs,{variant:"success",children:x});case"in-use":return l.jsx(vs,{variant:"info",children:x});case"maintenance":return l.jsx(vs,{variant:"warning",children:x});case"unavailable":return l.jsx(vs,{variant:"secondary",children:x});case"broken":return l.jsx(vs,{variant:"danger",children:x});default:return l.jsx(vs,{children:x})}},g=(x,v)=>{if(!v||!x)return x;const w=new RegExp(`(${v})`,"gi");return x.split(w).map((_,k)=>w.test(_)?l.jsx("span",{className:"bg-yellow-200 font-medium",children:_},k):_)};return l.jsxs(ut,{className:"h-full transition-all duration-300 hover:shadow-lg hover:scale-[1.02] relative",children:[l.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[a?l.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:l.jsx("img",{src:a,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):l.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:l.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})}),r&&l.jsxs("div",{className:"absolute inset-0 bg-slate-900 bg-opacity-80 p-4 text-white overflow-y-auto",children:[l.jsxs("h4",{className:"font-medium",children:[e.brand," ",e.model]}),l.jsx("p",{className:"text-sm mt-1",children:e.description||"No description available"}),l.jsxs("p",{className:"text-sm mt-2",children:["Serial: ",e.serial_number]}),l.jsxs("p",{className:"text-sm",children:["Location: ",e.location||"Not specified"]})]})]}),l.jsxs(ut.Body,{children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&l.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),d(e.status)]}),l.jsx("h2",{className:"text-lg font-semibold mb-1",children:n?l.jsxs(l.Fragment,{children:[g(e.brand,n)," ",g(e.model,n)]}):`${e.brand} ${e.model}`}),l.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",n?g(e.serial_number,n):e.serial_number]}),l.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[l.jsxs(Ln,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[l.jsx(SF,{})," View"]}),t&&l.jsxs(Ln,{to:`/equipment/${e.id}/edit`,className:"text-slate-600 hover:text-slate-800 flex items-center gap-1",children:[l.jsx(_F,{})," Edit"]})]})]})]})},DF=({equipment:e,canEdit:t})=>l.jsxs("tr",{className:"table-row hover:bg-slate-50 cursor-pointer",children:[l.jsx("td",{className:"table-cell",children:l.jsxs(Ln,{to:`/equipment/${e.id}`,className:"font-medium text-slate-800 hover:text-primary-600",children:[e.brand," ",e.model]})}),l.jsx("td",{className:"table-cell",children:e.type}),l.jsx("td",{className:"table-cell",children:e.category||"-"}),l.jsx("td",{className:"table-cell",children:e.serial_number}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:`badge ${e.status==="available"?"badge-success":e.status==="in-use"?"badge-info":e.status==="maintenance"?"badge-warning":e.status==="unavailable"?"badge-secondary":e.status==="broken"?"badge-danger":"badge-secondary"}`,children:e.status})}),l.jsx("td",{className:"table-cell",children:e.location||"-"}),l.jsx("td",{className:"table-cell",children:e.quantity||1}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ln,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View"}),t&&l.jsx(Ln,{to:`/equipment/${e.id}/edit`,className:"text-slate-600 hover:text-slate-700 text-sm",children:"Edit"})]})})]}),jF=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-soft overflow-hidden h-full animate-pulse",children:[l.jsx("div",{className:"h-40 bg-slate-200"}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"}),l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"})]}),l.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2 mb-4"}),l.jsxs("div",{className:"border-t border-slate-100 pt-2 flex justify-between",children:[l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]})]}),IF=({search:e,onApply:t,onDelete:n})=>l.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[l.jsx("button",{onClick:()=>t(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),l.jsx("button",{onClick:()=>n(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:l.jsx(NF,{className:"w-4 h-4"})})]}),Gb=()=>{var Ce,Ge;const{user:e,canEditEquipment:t}=ar(),n=Kn(),r=M.useRef(null),[i,a]=M.useState({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[d,g]=M.useState(""),[x,v]=M.useState(!1),[w,E]=M.useState(!1),[_,k]=M.useState("updated_at"),[A,I]=M.useState("desc"),[L,j]=M.useState(""),[D,R]=M.useState(!1),[W,Z]=M.useState("list"),{data:U,fetchNextPage:O,hasNextPage:V,isFetchingNextPage:Y,isLoading:ee,isError:de,error:ie}=Ux(["equipment",i,_,A],async({pageParam:me=1})=>{const Me={page:me,limit:20,...i,sortBy:_,sortOrder:A};return i.dateRange.startDate&&i.dateRange.endDate&&(Me.startDate=i.dateRange.startDate.toISOString(),Me.endDate=i.dateRange.endDate.toISOString()),oa(Me)},{getNextPageParam:me=>{if(me.page<me.totalPages)return me.page+1},keepPreviousData:!0}),{data:le,isLoading:Te}=Et(["equipment-suggestions",d],()=>oa({search:d,limit:5}),{enabled:!!d&&d.length>2,keepPreviousData:!0}),{data:ne}=Et(["saved-searches"],tN,{enabled:t()}),{data:Se=[]}=Et({queryKey:["equipmentTypes"],queryFn:Li}),we=Array.isArray(Se)?Se:Se.types||[],{data:ce={categories:[]}}=Et({queryKey:["categories"],queryFn:ml}),ve=ce.categories||[],Oe=M.useCallback(MN.debounce(me=>{g(me)},300),[]),Ye=me=>{const Me=me.target.value;a(Fe=>({...Fe,search:Me})),Oe(Me),Me.length>2?v(!0):v(!1)},Je=me=>{const{name:Me,value:Fe}=me.target;a(qe=>({...qe,[Me]:Fe}))},ke=me=>{const[Me,Fe]=me;a(qe=>({...qe,dateRange:{startDate:Me,endDate:Fe}}))},Xe=()=>{a({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),g(""),v(!1)},st=async()=>{if(!L.trim()){ot.error("Please enter a name for your saved search");return}try{await nN({name:L,filters:JSON.stringify(i),sortBy:_,sortOrder:A}),n.invalidateQueries(["saved-searches"]),j(""),R(!1),ot.success("Search saved successfully")}catch(me){ot.error("Failed to save search"),console.error("Save search error:",me)}},_e=me=>{try{const Me=JSON.parse(me.filters);a(Me),k(me.sortBy||"updated_at"),I(me.sortOrder||"desc"),ot.info(`Applied saved search: ${me.name}`)}catch(Me){ot.error("Failed to apply saved search"),console.error("Apply saved search error:",Me)}},Ct=async me=>{try{await rN(me),n.invalidateQueries(["saved-searches"]),ot.success("Search deleted successfully")}catch(Me){ot.error("Failed to delete search"),console.error("Delete saved search error:",Me)}};M.useEffect(()=>{const me=new IntersectionObserver(Fe=>{Fe[0].isIntersecting&&V&&!Y&&O()},{threshold:.5}),Me=r.current;return Me&&me.observe(Me),()=>{Me&&me.unobserve(Me)}},[r,O,V,Y]);const lt=(U==null?void 0:U.pages.flatMap(me=>me.equipment))||[],{data:on}=Et(["equipment-analytics"],()=>oa({limit:1e4}),{keepPreviousData:!0}),kt=(()=>{const me=(on==null?void 0:on.equipment)||[];if(!me||me.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const Me={total:me.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},Fe=new Date;return Fe.setDate(Fe.getDate()-7),me.forEach(qe=>{qe.status==="available"?Me.available++:qe.status==="in-use"?Me.inUse++:qe.status==="maintenance"&&Me.maintenance++;const ft=qe.category||"Uncategorized";Me.categories[ft]=(Me.categories[ft]||0)+1;const Re=qe.type||"Unknown";Me.types[Re]=(Me.types[Re]||0)+1;const Ne=qe.location||"No Location";Me.locations[Ne]=(Me.locations[Ne]||0)+1;const gn=qe.brand||"Unknown";Me.brands[gn]=(Me.brands[gn]||0)+1,new Date(qe.created_at)>Fe&&Me.recentlyAdded++}),Me})(),ln=me=>{a(Me=>({...Me,...me}))};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(Zh,{position:"top-right",autoClose:3e3}),l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Dashboard"})}),l.jsx(kF,{equipmentData:(on==null?void 0:on.equipment)||[],onFilterChange:ln,currentFilters:i,isLoading:ee}),l.jsx("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:l.jsxs("div",{className:"relative",children:[l.jsx(Mt,{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:i.search,onChange:Ye,icon:l.jsx(bF,{}),className:"rounded-full shadow-md","aria-label":"Search equipment catalog"}),x&&((Ce=le==null?void 0:le.equipment)==null?void 0:Ce.length)>0&&l.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:le.equipment.map(me=>l.jsxs(Ln,{to:`/equipment/${me.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[l.jsxs("div",{className:"font-medium",children:[me.brand," ",me.model]}),l.jsxs("div",{className:"text-sm text-slate-500",children:[me.type," • SN: ",me.serial_number]})]},me.id))}),l.jsxs("div",{className:"flex mt-2 gap-2",children:[l.jsxs($e,{variant:"outline",size:"sm",onClick:()=>E(!w),className:"flex items-center gap-1","aria-expanded":w,"aria-controls":"filter-panel",children:[l.jsx(CF,{}),l.jsx("span",{children:w?"Hide Filters":"Show Filters"})]}),Object.values(i).some(me=>me&&(typeof me=="string"?me.trim()!=="":!0))&&l.jsxs($e,{variant:"outline",size:"sm",onClick:Xe,className:"flex items-center gap-1 text-slate-600",children:[l.jsx(AF,{}),l.jsx("span",{children:"Clear Filters"})]}),l.jsx("div",{className:"ml-auto",children:l.jsx(ws,{id:"sort",name:"sort",value:`${_}-${A}`,onChange:me=>{const[Me,Fe]=me.target.value.split("-");k(Me),I(Fe)},options:[{value:"updated_at-desc",label:"Newest First"},{value:"updated_at-asc",label:"Oldest First"},{value:"brand-asc",label:"Brand (A-Z)"},{value:"brand-desc",label:"Brand (Z-A)"},{value:"model-asc",label:"Model (A-Z)"},{value:"model-desc",label:"Model (Z-A)"}],className:"w-40"})})]})]})}),t()&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),D?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Mt,{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:L,onChange:me=>j(me.target.value),className:"w-48"}),l.jsx($e,{variant:"primary",size:"sm",onClick:st,children:"Save"}),l.jsx($e,{variant:"outline",size:"sm",onClick:()=>{R(!1),j("")},children:"Cancel"})]}):l.jsxs($e,{variant:"outline",size:"sm",onClick:()=>R(!0),className:"flex items-center gap-1",children:[l.jsx(EF,{}),l.jsx("span",{children:"Save Current Search"})]})]}),l.jsx("div",{className:"flex flex-wrap",children:((Ge=ne==null?void 0:ne.searches)==null?void 0:Ge.length)>0?ne.searches.map(me=>l.jsx(IF,{search:me,onApply:_e,onDelete:Ct},me.id)):l.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),l.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${w?"max-h-[800px] opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:l.jsxs("div",{className:"p-4",children:[l.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[l.jsxs(ut,{className:"h-fit",children:[l.jsx(ut.Header,{children:l.jsxs(ut.Title,{className:"flex items-center gap-2",children:[l.jsx(Bu,{}),"Equipment Types"]})}),l.jsx(ut.Body,{className:"p-4",children:ee?l.jsx("div",{className:"space-y-2",children:[...Array(3)].map((me,Me)=>l.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},Me))}):Object.keys(kt.types).length>0?l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(kt.types).sort(([,me],[,Me])=>Me-me).slice(0,10).map(([me,Me])=>{const Fe=i.type===me;return l.jsxs("button",{onClick:()=>a(qe=>({...qe,type:Fe?"":me})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${Fe?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${me} equipment`,children:[l.jsx("span",{className:"capitalize font-medium",children:me}),l.jsx(vs,{variant:Fe?"primary":"secondary",size:"sm",children:Me})]},me)})}):l.jsx("p",{className:"text-slate-500 text-sm",children:"No equipment types available"})})]}),l.jsxs(ut,{className:"h-fit",children:[l.jsx(ut.Header,{children:l.jsxs(ut.Title,{className:"flex items-center gap-2",children:[l.jsx(Bu,{}),"Categories"]})}),l.jsx(ut.Body,{className:"p-4",children:ee?l.jsx("div",{className:"space-y-2",children:[...Array(3)].map((me,Me)=>l.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},Me))}):Object.keys(kt.categories).length>0?l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(kt.categories).sort(([,me],[,Me])=>Me-me).slice(0,10).map(([me,Me])=>{const Fe=i.category===me;return l.jsxs("button",{onClick:()=>a(qe=>({...qe,category:Fe?"":me})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${Fe?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${me} category`,children:[l.jsx("span",{className:"font-medium",children:me}),l.jsx(vs,{variant:Fe?"primary":"secondary",size:"sm",children:Me})]},me)})}):l.jsx("p",{className:"text-slate-500 text-sm",children:"No categories available"})})]}),l.jsxs(ut,{className:"h-fit",children:[l.jsx(ut.Header,{children:l.jsxs(ut.Title,{className:"flex items-center gap-2",children:[l.jsx(Bu,{}),"Top Locations"]})}),l.jsx(ut.Body,{className:"p-4",children:ee?l.jsx("div",{className:"space-y-2",children:[...Array(3)].map((me,Me)=>l.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},Me))}):Object.keys(kt.locations).length>0?l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(kt.locations).sort(([,me],[,Me])=>Me-me).slice(0,10).map(([me,Me])=>{const Fe=i.location===me;return l.jsxs("button",{onClick:()=>a(qe=>({...qe,location:Fe?"":me})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${Fe?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${me} location`,children:[l.jsx("span",{className:"font-medium truncate",children:me}),l.jsx(vs,{variant:Fe?"primary":"secondary",size:"sm",children:Me})]},me)})}):l.jsx("p",{className:"text-slate-500 text-sm",children:"No locations available"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(ws,{id:"category",name:"category",label:"Category",value:i.category,onChange:Je,options:[{value:"",label:"All Categories"},...(ve||[]).map(me=>({value:me.name,label:me.name}))]}),l.jsx(ws,{id:"type",name:"type",label:"Equipment Type",value:i.type,onChange:Je,options:[{value:"",label:"All Types"},...(we||[]).map(me=>({value:me.name,label:me.name}))]}),l.jsx(ws,{id:"status",name:"status",label:"Status",value:i.status,onChange:Je,options:[{value:"",label:"All Statuses"},{value:"available",label:"Available"},{value:"in-use",label:"In Use"},{value:"maintenance",label:"Maintenance"},{value:"unavailable",label:"Unavailable"},{value:"broken",label:"Broken"}]}),l.jsx(Mt,{id:"location",name:"location",label:"Location",placeholder:"Filter by location",value:i.location,onChange:Je}),l.jsxs("div",{className:"md:col-span-3",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),l.jsx(ON,{selectsRange:!0,startDate:i.dateRange.startDate,endDate:i.dateRange.endDate,onChange:ke,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]})]})]})}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-lg font-semibold text-slate-800",children:["Equipment Results (",lt.length," items)"]}),l.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden bg-white shadow-sm",children:[l.jsxs("button",{onClick:()=>Z("list"),className:`px-4 py-2 text-sm font-medium transition-all flex items-center gap-2 ${W==="list"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"List view",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),l.jsx("span",{children:"List"})]}),l.jsxs("button",{onClick:()=>Z("card"),className:`px-4 py-2 text-sm font-medium transition-all flex items-center gap-2 ${W==="card"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h7v7H4zM13 6h7v7h-7zM4 15h7v7H4zM13 15h7v7h-7z"})}),l.jsx("span",{children:"Cards"})]})]})]}),l.jsx("div",{children:ee?l.jsxs(l.Fragment,{children:[W==="card"&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((me,Me)=>l.jsx(jF,{},Me))}),W==="list"&&l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"Equipment"}),l.jsx("th",{className:"table-header-cell",children:"Type"}),l.jsx("th",{className:"table-header-cell",children:"Category"}),l.jsx("th",{className:"table-header-cell",children:"Serial Number"}),l.jsx("th",{className:"table-header-cell",children:"Status"}),l.jsx("th",{className:"table-header-cell",children:"Location"}),l.jsx("th",{className:"table-header-cell",children:"Quantity"}),l.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),l.jsx("tbody",{className:"table-body",children:Array.from({length:6}).map((me,Me)=>l.jsxs("tr",{className:"table-row animate-pulse",children:[l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"})}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-4 bg-slate-200 rounded w-2/3"})}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-6 bg-slate-200 rounded-full w-16"})}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-4 bg-slate-200 rounded w-8"})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("div",{className:"h-4 bg-slate-200 rounded w-12"}),l.jsx("div",{className:"h-4 bg-slate-200 rounded w-8"})]})})]},Me))})]})})})]}):de?l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:l.jsx("p",{children:(ie==null?void 0:ie.message)||"Failed to load equipment data. Please try again."})})]})]})}):lt.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No equipment found"}),l.jsx("p",{className:"mt-2 text-slate-500",children:"Try adjusting your search or filter criteria to find what you're looking for."}),l.jsx($e,{variant:"outline",className:"mt-4",onClick:Xe,children:"Clear All Filters"})]}):l.jsxs(l.Fragment,{children:[W==="card"&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:lt.map(me=>l.jsx(TF,{equipment:me,canEdit:t(),searchTerm:i.search},me.id))}),W==="list"&&l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"Equipment"}),l.jsx("th",{className:"table-header-cell",children:"Type"}),l.jsx("th",{className:"table-header-cell",children:"Category"}),l.jsx("th",{className:"table-header-cell",children:"Serial Number"}),l.jsx("th",{className:"table-header-cell",children:"Status"}),l.jsx("th",{className:"table-header-cell",children:"Location"}),l.jsx("th",{className:"table-header-cell",children:"Quantity"}),l.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),l.jsx("tbody",{className:"table-body",children:lt.map(me=>l.jsx(DF,{equipment:me,canEdit:t()},me.id))})]})})}),l.jsx("div",{ref:r,className:"py-4 text-center",children:Y?l.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),l.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):V?l.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):l.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})})]})},RF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),OF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),MF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),LF=()=>{const{isAdmin:e}=ar(),t=Kn(),[n,r]=M.useState(""),[i,a]=M.useState(null),[d,g]=M.useState(""),[x,v]=M.useState(""),{data:w,isLoading:E,isError:_}=Et({queryKey:["equipmentTypes"],queryFn:Li}),k=(w==null?void 0:w.types)||[],A=Yn({mutationFn:QR,onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),r(""),v("")},onError:U=>{var O,V;v(((V=(O=U.response)==null?void 0:O.data)==null?void 0:V.message)||"Failed to create equipment type")}}),I=Yn({mutationFn:({id:U,name:O})=>KR(U,O),onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),a(null),g(""),v("")},onError:U=>{var O,V;v(((V=(O=U.response)==null?void 0:O.data)==null?void 0:V.message)||"Failed to update equipment type")}}),L=Yn({mutationFn:ZR,onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),v("")},onError:U=>{var O,V;v(((V=(O=U.response)==null?void 0:O.data)==null?void 0:V.message)||"Failed to delete equipment type")}}),j=U=>{if(U.preventDefault(),!n.trim()){v("Type name is required");return}A.mutate(n),document.getElementById("addTypeModal").style.display="none"},D=U=>{a(U),g(U.name)},R=()=>{if(!d.trim()){v("Type name is required");return}I.mutate({id:i.id,name:d})},W=()=>{a(null),g("")},Z=U=>{window.confirm("Are you sure you want to delete this equipment type?")&&L.mutate(U)};return e()?l.jsxs("div",{className:"space-y-6",children:[x&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:l.jsx("span",{children:x})}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Types"}),l.jsxs($e,{variant:"primary",onClick:()=>{r(""),document.getElementById("addTypeModal").style.display="block"},className:"flex items-center gap-2",children:[l.jsx(MF,{}),"Add Type"]})]}),l.jsx(ut,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"Name"}),l.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"table-body",children:E?l.jsx("tr",{children:l.jsx("td",{colSpan:"2",className:"table-cell text-center py-4",children:l.jsx("div",{className:"flex justify-center items-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):_?l.jsx("tr",{children:l.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-red-600",children:"Error loading equipment types. Please try again."})}):k&&k.length>0?k.map(U=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell",children:U.name}),l.jsx("td",{className:"table-cell text-right",children:l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsxs($e,{onClick:()=>D(U),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[l.jsx(RF,{}),"Edit"]}),l.jsxs($e,{onClick:()=>Z(U.id),variant:"danger",size:"sm",disabled:L.isLoading&&L.variables===U.id,className:"flex items-center gap-1",children:[l.jsx(OF,{}),L.isLoading&&L.variables===U.id?"Deleting...":"Delete"]})]})})]},U.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-slate-500",children:"No equipment types found"})})})]})})}),l.jsx("div",{className:"modal-backdrop",id:"addTypeModal",style:{display:"none"},children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Add Equipment Type"}),l.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"×"})]}),l.jsxs("form",{onSubmit:j,children:[l.jsx("div",{className:"modal-body",children:l.jsx("div",{className:"space-y-4",children:l.jsx(Mt,{id:"newTypeName",name:"newTypeName",type:"text",label:"Type Name",value:n,onChange:U=>r(U.target.value),placeholder:"Enter equipment type name",required:!0})})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx($e,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"Cancel"}),l.jsx($e,{type:"submit",variant:"primary",disabled:A.isLoading,className:"flex items-center gap-2",children:A.isLoading?"Adding...":"Add Type"})]})]})]})}),i&&l.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Edit Equipment Type"}),l.jsx("button",{className:"modal-close",onClick:W,children:"×"})]}),l.jsxs("form",{onSubmit:U=>{U.preventDefault(),R()},children:[l.jsx("div",{className:"modal-body",children:l.jsx("div",{className:"space-y-4",children:l.jsx(Mt,{id:"editTypeName",name:"editTypeName",type:"text",label:"Type Name",value:d,onChange:U=>g(U.target.value),required:!0})})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx($e,{type:"button",variant:"secondary",onClick:W,children:"Cancel"}),l.jsx($e,{type:"submit",variant:"primary",disabled:I.isLoading,className:"flex items-center gap-2",children:I.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4 rounded",children:l.jsx("p",{children:"Only administrators can manage equipment types."})})},PF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),FF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),BF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),UF=()=>{const{isAdmin:e}=ar(),t=Kn(),[n,r]=M.useState(""),[i,a]=M.useState(""),[d,g]=M.useState(null),[x,v]=M.useState(""),[w,E]=M.useState(""),[_,k]=M.useState(""),{data:A,isLoading:I,isError:L}=Et({queryKey:["categories"],queryFn:ml}),j=(A==null?void 0:A.categories)||[],D=Yn({mutationFn:({name:ee,description:de})=>Y9(ee,de),onSuccess:()=>{t.invalidateQueries(["categories"]),r(""),a(""),k("")},onError:ee=>{var de,ie;k(((ie=(de=ee.response)==null?void 0:de.data)==null?void 0:ie.message)||"Failed to create category")}}),R=Yn({mutationFn:({id:ee,name:de,description:ie})=>$9(ee,de,ie),onSuccess:()=>{t.invalidateQueries(["categories"]),g(null),v(""),E(""),k("")},onError:ee=>{var de,ie;k(((ie=(de=ee.response)==null?void 0:de.data)==null?void 0:ie.message)||"Failed to update category")}}),W=Yn({mutationFn:G9,onSuccess:()=>{t.invalidateQueries(["categories"]),k("")},onError:ee=>{var de,ie;k(((ie=(de=ee.response)==null?void 0:de.data)==null?void 0:ie.message)||"Failed to delete category")}}),Z=ee=>{if(ee.preventDefault(),!n.trim()){k("Category name is required");return}D.mutate({name:n,description:i}),document.getElementById("addCategoryModal").style.display="none"},U=ee=>{g(ee),v(ee.name),E(ee.description||"")},O=()=>{if(!x.trim()){k("Category name is required");return}R.mutate({id:d.id,name:x,description:w})},V=()=>{g(null),v(""),E("")},Y=ee=>{window.confirm("Are you sure you want to delete this category?")&&W.mutate(ee)};return e()?l.jsxs("div",{className:"space-y-6",children:[_&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:l.jsx("p",{children:_})}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Categories"}),l.jsxs($e,{variant:"primary",onClick:()=>{r(""),a(""),document.getElementById("addCategoryModal").style.display="block"},className:"flex items-center gap-2",children:[l.jsx(BF,{}),"Add Category"]})]}),l.jsx(ut,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"Name"}),l.jsx("th",{className:"table-header-cell",children:"Description"}),l.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"table-body",children:I?l.jsx("tr",{children:l.jsx("td",{colSpan:"3",className:"table-cell text-center py-4",children:l.jsx("div",{className:"flex justify-center items-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):L?l.jsx("tr",{children:l.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-red-600",children:"Error loading categories. Please try again."})}):j&&j.length>0?j.map(ee=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell",children:ee.name}),l.jsx("td",{className:"table-cell",children:ee.description||"-"}),l.jsx("td",{className:"table-cell text-right",children:l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsxs($e,{onClick:()=>U(ee),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[l.jsx(PF,{}),"Edit"]}),l.jsxs($e,{onClick:()=>Y(ee.id),variant:"danger",size:"sm",disabled:W.isLoading&&W.variables===ee.id,className:"flex items-center gap-1",children:[l.jsx(FF,{}),W.isLoading&&W.variables===ee.id?"Deleting...":"Delete"]})]})})]},ee.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-slate-500",children:"No categories found"})})})]})})}),l.jsx("div",{className:"modal-backdrop",id:"addCategoryModal",style:{display:"none"},children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Add Category"}),l.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"×"})]}),l.jsxs("form",{onSubmit:Z,children:[l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Mt,{id:"newCategoryName",name:"newCategoryName",type:"text",label:"Category Name",value:n,onChange:ee=>r(ee.target.value),placeholder:"Enter category name",required:!0}),l.jsx(Mt,{id:"newCategoryDescription",name:"newCategoryDescription",type:"text",label:"Description (optional)",value:i,onChange:ee=>a(ee.target.value),placeholder:"Enter category description"})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx($e,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"Cancel"}),l.jsx($e,{type:"submit",variant:"primary",disabled:D.isLoading,className:"flex items-center gap-2",children:D.isLoading?"Adding...":"Add Category"})]})]})]})}),d&&l.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Edit Category"}),l.jsx("button",{className:"modal-close",onClick:V,children:"×"})]}),l.jsxs("form",{onSubmit:ee=>{ee.preventDefault(),O()},children:[l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Mt,{id:"editCategoryName",name:"editCategoryName",type:"text",label:"Category Name",value:x,onChange:ee=>v(ee.target.value),required:!0}),l.jsx(Mt,{id:"editCategoryDescription",name:"editCategoryDescription",type:"text",label:"Description (optional)",value:w,onChange:ee=>E(ee.target.value),placeholder:"Enter category description"})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx($e,{type:"button",variant:"secondary",onClick:V,children:"Cancel"}),l.jsx($e,{type:"submit",variant:"primary",disabled:R.isLoading,className:"flex items-center gap-2",children:R.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):l.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",children:l.jsx("p",{children:"Only administrators can manage equipment categories."})})},vo=async()=>(await dt.get("/api/locations")).data,zF=async e=>(await dt.post("/api/locations",e)).data,WF=async(e,t)=>(await dt.put(`/api/locations/${e}`,t)).data,HF=async e=>(await dt.delete(`/api/locations/${e}`)).data,qF=()=>{var V;const{isAdmin:e}=ar(),t=Kn(),[n,r]=M.useState(!1),[i,a]=M.useState(!1),[d,g]=M.useState(!1),[x,v]=M.useState(null),[w,E]=M.useState({name:"",street:"",postal_code:"",city:"",region:"",country:""}),{data:_,isLoading:k,isError:A}=Et(["locations"],vo),I=Yn(zF,{onSuccess:()=>{t.invalidateQueries(["locations"]),r(!1),E({name:"",street:"",postal_code:"",city:"",region:"",country:""}),alert("Location created successfully")},onError:Y=>{var ee,de;alert(`Error creating location: ${((de=(ee=Y.response)==null?void 0:ee.data)==null?void 0:de.message)||Y.message}`)}}),L=Yn(Y=>WF(Y.id,Y.locationData),{onSuccess:()=>{t.invalidateQueries(["locations"]),a(!1),v(null),alert("Location updated successfully")},onError:Y=>{var ee,de;alert(`Error updating location: ${((de=(ee=Y.response)==null?void 0:ee.data)==null?void 0:de.message)||Y.message}`)}}),j=Yn(HF,{onSuccess:()=>{t.invalidateQueries(["locations"]),g(!1),v(null),alert("Location deleted successfully")},onError:Y=>{var ee,de;alert(`Error deleting location: ${((de=(ee=Y.response)==null?void 0:ee.data)==null?void 0:de.message)||Y.message}`)}}),D=Y=>{const{name:ee,value:de}=Y.target;E(ie=>({...ie,[ee]:de}))},R=Y=>{Y.preventDefault(),I.mutate(w)},W=Y=>{Y.preventDefault(),L.mutate({id:x.id,locationData:w})},Z=()=>{j.mutate(x.id)},U=Y=>{v(Y),E({name:Y.name,street:Y.street||"",postal_code:Y.postal_code||"",city:Y.city||"",region:Y.region||"",country:Y.country||""}),a(!0)},O=Y=>{v(Y),g(!0)};return k?l.jsx("div",{className:"text-center py-4",children:"Loading locations..."}):A?l.jsx("div",{className:"text-center py-4 text-red-600",children:"Error loading locations"}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Locations"}),e()&&l.jsx($e,{variant:"primary",onClick:()=>{E({name:"",street:"",postal_code:"",city:"",region:"",country:""}),r(!0)},children:"Add Location"})]}),l.jsx(ut,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"Name"}),l.jsx("th",{className:"table-header-cell",children:"Street"}),l.jsx("th",{className:"table-header-cell",children:"Postal Code"}),l.jsx("th",{className:"table-header-cell",children:"City"}),l.jsx("th",{className:"table-header-cell",children:"Region"}),l.jsx("th",{className:"table-header-cell",children:"Country"}),e()&&l.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),l.jsx("tbody",{className:"table-body",children:((V=_==null?void 0:_.locations)==null?void 0:V.length)>0?_.locations.map(Y=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell",children:Y.name}),l.jsx("td",{className:"table-cell",children:Y.street||"-"}),l.jsx("td",{className:"table-cell",children:Y.postal_code||"-"}),l.jsx("td",{className:"table-cell",children:Y.city||"-"}),l.jsx("td",{className:"table-cell",children:Y.region||"-"}),l.jsx("td",{className:"table-cell",children:Y.country||"-"}),e()&&l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx($e,{variant:"outline",size:"sm",onClick:()=>U(Y),children:"Edit"}),l.jsx($e,{variant:"danger",size:"sm",onClick:()=>O(Y),children:"Delete"})]})})]},Y.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:e()?7:6,className:"table-cell text-center py-4 text-slate-500",children:"No locations found"})})})]})})}),n&&l.jsx("div",{className:"modal-backdrop",children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Add Location"}),l.jsx("button",{className:"modal-close",onClick:()=>r(!1),children:"×"})]}),l.jsxs("form",{onSubmit:R,children:[l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Mt,{id:"name",name:"name",label:"Location Name",value:w.name,onChange:D,placeholder:"Enter location name",required:!0}),l.jsx(Mt,{id:"street",name:"street",label:"Street",value:w.street,onChange:D,placeholder:"Enter street (optional)"}),l.jsx(Mt,{id:"postal_code",name:"postal_code",label:"Postal Code",value:w.postal_code,onChange:D,placeholder:"Enter postal code (optional)"}),l.jsx(Mt,{id:"city",name:"city",label:"City",value:w.city,onChange:D,placeholder:"Enter city (optional)"}),l.jsx(Mt,{id:"region",name:"region",label:"Region/State",value:w.region,onChange:D,placeholder:"Enter region or state (optional)"}),l.jsx(Mt,{id:"country",name:"country",label:"Country",value:w.country,onChange:D,placeholder:"Enter country (optional)"})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx($e,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),l.jsx($e,{type:"submit",variant:"primary",disabled:I.isLoading,children:I.isLoading?"Adding...":"Add Location"})]})]})]})}),i&&x&&l.jsx("div",{className:"modal-backdrop",children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Edit Location"}),l.jsx("button",{className:"modal-close",onClick:()=>a(!1),children:"×"})]}),l.jsxs("form",{onSubmit:W,children:[l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Mt,{id:"edit-name",name:"name",label:"Location Name",value:w.name,onChange:D,placeholder:"Enter location name",required:!0}),l.jsx(Mt,{id:"edit-street",name:"street",label:"Street",value:w.street,onChange:D,placeholder:"Enter street (optional)"}),l.jsx(Mt,{id:"edit-postal_code",name:"postal_code",label:"Postal Code",value:w.postal_code,onChange:D,placeholder:"Enter postal code (optional)"}),l.jsx(Mt,{id:"edit-city",name:"city",label:"City",value:w.city,onChange:D,placeholder:"Enter city (optional)"}),l.jsx(Mt,{id:"edit-region",name:"region",label:"Region/State",value:w.region,onChange:D,placeholder:"Enter region or state (optional)"}),l.jsx(Mt,{id:"edit-country",name:"country",label:"Country",value:w.country,onChange:D,placeholder:"Enter country (optional)"})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx($e,{type:"button",variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),l.jsx($e,{type:"submit",variant:"primary",disabled:L.isLoading,children:L.isLoading?"Saving...":"Save Changes"})]})]})]})}),d&&x&&l.jsx("div",{className:"modal-backdrop",children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Delete Location"}),l.jsx("button",{className:"modal-close",onClick:()=>g(!1),children:"×"})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("p",{children:['Are you sure you want to delete the location "',x.name,'"? This action cannot be undone.']}),l.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Note: You cannot delete a location that is currently assigned to equipment."})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx($e,{type:"button",variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),l.jsx($e,{type:"button",variant:"danger",onClick:Z,disabled:j.isLoading,children:j.isLoading?"Deleting...":"Delete Location"})]})]})})]})},VF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),YF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),Xb=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),Qb=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[l.jsx("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"}),l.jsx("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"}),l.jsx("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"})]}),$F=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),GF=()=>{const{user:e}=ar(),[t,n]=M.useState("profile"),[r,i]=M.useState(""),[a,d]=M.useState(""),[g,x]=M.useState(""),[v,w]=M.useState(""),[E,_]=M.useState(""),k=[{id:"profile",label:"Profile",icon:l.jsx(VF,{})},{id:"security",label:"Security",icon:l.jsx(YF,{})}];(e==null?void 0:e.role)==="admin"&&(k.push({id:"equipmentTypes",label:"Equipment Types",icon:l.jsx(Xb,{})}),k.push({id:"categories",label:"Categories",icon:l.jsx(Xb,{})}),k.push({id:"locations",label:"Locations",icon:l.jsx($F,{})}),k.push({id:"database",label:"Database",icon:l.jsx(Qb,{})}));const A=I=>{if(I.preventDefault(),w(""),_(""),!r){w("Current password is required");return}if(!a){w("New password is required");return}if(a!==g){w("New passwords do not match");return}if(a.length<8){w("New password must be at least 8 characters");return}_("Password changed successfully"),i(""),d(""),x("")};return l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-8",children:"User Settings"}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[l.jsx("div",{className:"w-full md:w-64",children:l.jsx(ut,{children:l.jsx(ut.Body,{className:"p-0",children:l.jsx("nav",{children:l.jsx("ul",{className:"divide-y divide-slate-100",children:k.map(I=>l.jsx("li",{children:l.jsxs("button",{onClick:()=>n(I.id),className:`w-full text-left px-4 py-3 flex items-center transition-colors ${t===I.id?"bg-primary-50 text-primary-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,"aria-current":t===I.id?"page":void 0,children:[l.jsx("span",{className:"mr-3 text-slate-500",children:I.icon}),I.label]})},I.id))})})})})}),l.jsx("div",{className:"flex-1",children:l.jsx(ut,{children:l.jsxs(ut.Body,{children:[t==="profile"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Profile Settings"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),l.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200",children:e==null?void 0:e.username})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),l.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200 capitalize",children:e==null?void 0:e.role})]})]})]}),t==="security"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Security Settings"}),v&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:v}),E&&l.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:E}),l.jsxs("form",{onSubmit:A,className:"space-y-4",children:[l.jsx(Mt,{type:"password",id:"current-password",label:"Current Password",value:r,onChange:I=>i(I.target.value),placeholder:"Enter your current password"}),l.jsx(Mt,{type:"password",id:"new-password",label:"New Password",value:a,onChange:I=>d(I.target.value),placeholder:"Enter your new password"}),l.jsx(Mt,{type:"password",id:"confirm-password",label:"Confirm New Password",value:g,onChange:I=>x(I.target.value),placeholder:"Confirm your new password"}),l.jsx("div",{children:l.jsx($e,{type:"submit",variant:"primary",children:"Change Password"})})]})]}),t==="equipmentTypes"&&(e==null?void 0:e.role)==="admin"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Types"}),l.jsx(LF,{})]}),t==="categories"&&(e==null?void 0:e.role)==="admin"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Categories"}),l.jsx(UF,{})]}),t==="locations"&&(e==null?void 0:e.role)==="admin"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Locations"}),l.jsx(qF,{})]}),t==="database"&&(e==null?void 0:e.role)==="admin"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Database Management"}),l.jsx("p",{className:"mb-6 text-slate-600",children:"Access the database management interface to view and modify database tables directly."}),l.jsxs($e,{as:"a",href:"http://localhost:8080",target:"_blank",rel:"noopener noreferrer",variant:"primary",className:"inline-flex items-center",children:[l.jsx(Qb,{}),l.jsx("span",{className:"ml-2",children:"Open phpMyAdmin"})]})]})]})})})]})]})},XF=({isOpen:e,onClose:t,equipmentId:n})=>{const r=Kn(),[i,a]=M.useState(""),[d,g]=M.useState(null),[x,v]=M.useState(!1),[w,E]=M.useState(null);M.useEffect(()=>{e&&n&&(v(!0),Jh(n).then(A=>{g(A),a(`${A.serial_number}-COPY`),v(!1)}).catch(A=>{console.error("Error fetching equipment details:",A),E("Failed to load equipment details"),v(!1)}))},[e,n]);const _=Yn({mutationFn:async()=>{if(!d)return null;console.log("Original equipment data:",d);const A={type_id:d.type_id||1,brand:d.brand,model:d.model,serial_number:i,status:d.status||"available",location:d.location||"",description:d.description||""};return console.log("Duplicate data being sent:",A),$x(A)},onSuccess:A=>{console.log("Successfully duplicated equipment:",A),r.invalidateQueries(["equipment"]),t()},onError:A=>{var I,L;console.error("Error duplicating equipment:",A),(L=(I=A.response)==null?void 0:I.data)!=null&&L.message?E(A.response.data.message):E("Failed to duplicate equipment. Please check all required fields.")}}),k=A=>{if(A.preventDefault(),!i.trim()){E("Serial number is required");return}_.mutate()};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Duplicate Equipment"}),x?l.jsx("div",{className:"text-center py-4",children:"Loading..."}):w?l.jsx("div",{className:"text-red-600 mb-4",children:w}):l.jsxs("form",{onSubmit:k,children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("p",{className:"text-gray-600 mb-2",children:["You are about to duplicate: ",l.jsxs("span",{className:"font-medium",children:[d==null?void 0:d.brand," ",d==null?void 0:d.model]})]}),l.jsx("label",{htmlFor:"serialNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),l.jsx("input",{type:"text",id:"serialNumber",value:i,onChange:A=>a(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,autoFocus:!0}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please provide a unique serial number for the duplicated equipment."})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                  hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                  hover:shadow-sm transition-all`,children:"Cancel"}),l.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                  hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                  hover:shadow-sm transition-all focus:outline-none focus:ring-1 focus:ring-primary-500`,disabled:_.isLoading,children:_.isLoading?"Duplicating...":"Duplicate"})]})]})]})}):null},QF=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{var Y,ee,de;const i=r.length>0?r:n?[n]:[],a=Kn(),[d,g]=M.useState(2),[x,v]=M.useState(""),[w,E]=M.useState([]),[_,k]=M.useState([]),[A,I]=M.useState(!1),[L,j]=M.useState(null),[D,R]=M.useState(0),[W,Z]=M.useState(!1);M.useEffect(()=>{if(e&&i.length>0){I(!0),k([]);const ie=i.map(le=>Jh(le));Promise.all(ie).then(le=>{if(k(le),le.length===1){const Te=`${le[0].serial_number}-{n}`;v(Te)}else v("BATCH-{n}");I(!1)}).catch(le=>{console.error("Error fetching equipment details:",le),j("Failed to load equipment details"),I(!1)})}},[e,i]),M.useEffect(()=>{if(x&&d>0){const ie=[];for(let le=1;le<=Math.min(d,5);le++)ie.push(U(x,le));d>5&&(ie.push("..."),ie.push(U(x,d))),E(ie)}},[x,d]);const U=(ie,le)=>ie.replace("{n}",le),O=Yn({mutationFn:async({equipmentData:ie,serialNumber:le})=>{if(!ie)return null;const Te={type:ie.type,type_id:ie.type_id||1,category:ie.category||"",...ie.category_id?{category_id:ie.category_id}:{},brand:ie.brand,model:ie.model,serial_number:le,status:ie.status||"available",location:ie.location||"",...ie.location_id?{location_id:ie.location_id}:{},description:ie.description||"",...ie.reference_image_id?{reference_image_id:ie.reference_image_id}:{}};return $x(Te)}}),V=async()=>{var ie,le;if(_.length!==0){Z(!0),R(0);try{const Te=_.length*d;let ne=0;for(const Se of _)for(let we=1;we<=d;we++){let ce;_.length===1?ce=U(x,we):ce=U(x.replace("{n}",`${Se.id}-{n}`),we),console.log(`Creating duplicate ${we} for equipment ID ${Se.id} with serial number ${ce}`),console.log("Original equipment data:",JSON.stringify(Se,null,2));try{await O.mutateAsync({equipmentData:Se,serialNumber:ce}),console.log(`Successfully created duplicate ${we} for equipment ID ${Se.id}`)}catch(ve){throw console.error(`Error creating duplicate ${we} for equipment ID ${Se.id}:`,ve),ve}ne++,R(Math.floor(ne/Te*100))}a.invalidateQueries(["equipment"]),t()}catch(Te){console.error("Error in batch duplication:",Te);let ne="Failed to duplicate equipment";(le=(ie=Te.response)==null?void 0:ie.data)!=null&&le.message?ne=Te.response.data.message:Te.message&&(ne=Te.message),j(ne)}finally{Z(!1)}}};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Batch Duplicate Equipment"}),A?l.jsx("div",{className:"text-center py-4",children:"Loading..."}):L?l.jsx("div",{className:"text-red-600 mb-4",children:L}):l.jsxs("div",{children:[l.jsxs("div",{className:"text-gray-600 mb-4",children:[l.jsxs("p",{children:["You are about to duplicate ",_.length," item",_.length!==1?"s":"",":"]}),_.length===1?l.jsxs("p",{className:"font-medium mt-1",children:[(Y=_[0])==null?void 0:Y.brand," ",(ee=_[0])==null?void 0:ee.model," (SN: ",(de=_[0])==null?void 0:de.serial_number,")"]}):l.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border border-gray-200 rounded-md p-2",children:l.jsx("ul",{className:"text-sm",children:_.map((ie,le)=>l.jsxs("li",{className:"mb-1",children:[ie.brand," ",ie.model," (SN: ",ie.serial_number,")"]},le))})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"count",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Copies"}),l.jsx("input",{type:"number",id:"count",min:"1",max:"50",value:d,onChange:ie=>g(Math.min(50,Math.max(1,parseInt(ie.target.value)||1))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"serialNumberPattern",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Pattern"}),l.jsx("input",{type:"text",id:"serialNumberPattern",value:x,onChange:ie=>v(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Use {n} for the copy number"}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Use ","{n}"," as a placeholder for the copy number."]})]}),w.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Preview"}),l.jsx("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200",children:l.jsx("ul",{className:"text-sm text-gray-600",children:w.map((ie,le)=>l.jsx("li",{children:ie},le))})})]}),W&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${D}%`}})}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1 text-center",children:[D,"% Complete"]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx($e,{variant:"outline",onClick:t,disabled:W,children:"Cancel"}),l.jsx($e,{variant:"primary",onClick:V,disabled:W||!x.includes("{n}"),children:W?"Processing...":"Create Copies"})]})]})]})}):null},LN=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{const i=r.length>0?r:n?[n]:[],[a,d]=M.useState("available");M.useState(1);const[g,x]=M.useState(!1),[v,w]=M.useState(""),[E,_]=M.useState(""),k=Kn(),A=["available","in-use","maintenance","unavailable","broken"],I=Yn({mutationFn:async j=>{const D=j.equipmentIds.map(R=>VR(R,j.status));return Promise.all(D)},onSuccess:()=>{k.invalidateQueries(["equipment"]),_(`Status successfully updated to ${a} for ${i.length} item${i.length!==1?"s":""}`),x(!1),setTimeout(()=>{t(),_("")},2e3)},onError:j=>{var D,R;console.error("Error updating status:",j),w(((R=(D=j.response)==null?void 0:D.data)==null?void 0:R.message)||"Failed to update status"),x(!1)}}),L=j=>{if(j.preventDefault(),i.length===0){w("No equipment items selected");return}x(!0),w(""),_(""),I.mutate({equipmentIds:i,status:a})};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Status"}),l.jsx("div",{className:"mb-4",children:l.jsxs("p",{className:"text-gray-600",children:["You are updating the status of ",i.length," item",i.length!==1?"s":"","."]})}),v&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:v}),E&&l.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:E}),l.jsxs("form",{onSubmit:L,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Status"}),l.jsx("select",{id:"status",value:a,onChange:j=>d(j.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:A.map(j=>l.jsx("option",{value:j,children:j.charAt(0).toUpperCase()+j.slice(1)},j))})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:g,children:"Cancel"}),l.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:g,children:g?"Updating...":"Update Status"})]})]})]})}):null};LN.propTypes={isOpen:se.bool.isRequired,onClose:se.func.isRequired,equipmentId:se.oneOfType([se.string,se.number]),selectedItems:se.array};const PN=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{var U;const i=r.length>0?r:n?[n]:[],[a,d]=M.useState(""),[g,x]=M.useState(""),[v,w]=M.useState(!1),[E,_]=M.useState(!1),[k,A]=M.useState(""),[I,L]=M.useState(""),j=Kn(),{data:D}=Et({queryKey:["locations"],queryFn:vo,staleTime:3e5}),R=Yn({mutationFn:async O=>{const V=O.equipmentIds.map(Y=>YR(Y,O.locationData));return Promise.all(V)},onSuccess:()=>{var V;j.invalidateQueries(["equipment"]);const O=v?g:((V=D==null?void 0:D.locations.find(Y=>Y.id.toString()===a))==null?void 0:V.name)||"selected location";L(`Location successfully updated to ${O} for ${i.length} item${i.length!==1?"s":""}`),_(!1),setTimeout(()=>{t(),L("")},2e3)},onError:O=>{var V,Y;console.error("Error updating location:",O),A(((Y=(V=O.response)==null?void 0:V.data)==null?void 0:Y.message)||"Failed to update location"),_(!1)}}),W=O=>{if(O.preventDefault(),i.length===0){A("No equipment items selected");return}_(!0),A(""),L("");const V=v?{location:g}:{location_id:a};R.mutate({equipmentIds:i,locationData:V})},Z=()=>{w(!v),d(""),x("")};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Location"}),l.jsx("div",{className:"mb-4",children:l.jsxs("p",{className:"text-gray-600",children:["You are updating the location of ",i.length," item",i.length!==1?"s":"","."]})}),k&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),I&&l.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:I}),l.jsxs("form",{onSubmit:W,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"flex items-center mb-3",children:l.jsx("button",{type:"button",onClick:Z,className:"text-sm text-primary-600 hover:text-primary-800",children:v?"Select from existing locations":"Enter custom location"})}),v?l.jsxs("div",{children:[l.jsx("label",{htmlFor:"customLocation",className:"block text-sm font-medium text-slate-700 mb-1",children:"Custom Location"}),l.jsx("input",{type:"text",id:"customLocation",value:g,onChange:O=>x(O.target.value),className:"w-full p-2 border border-slate-300 rounded-md",placeholder:"Enter location name",required:!0})]}):l.jsxs("div",{children:[l.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),l.jsxs("select",{id:"locationId",value:a,onChange:O=>d(O.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[l.jsx("option",{value:"",children:"Select a location"}),(U=D==null?void 0:D.locations)==null?void 0:U.map(O=>l.jsx("option",{value:O.id.toString(),children:O.name},O.id))]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:E,children:"Cancel"}),l.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:E||!a&&!g,children:E?"Updating...":"Update Location"})]})]})]})}):null};PN.propTypes={isOpen:se.bool.isRequired,onClose:se.func.isRequired,equipmentId:se.oneOfType([se.string,se.number]),selectedItems:se.array};const FN=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=M.useState(""),[a,d]=M.useState(!1),[g,x]=M.useState(""),[v,w]=M.useState(""),E=Kn(),{data:_,isLoading:k}=Et({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5});M.useEffect(()=>{_!=null&&_.types&&_.types.length>0&&!r&&i(_.types[0].id.toString())},[_,r]);const A=Yn({mutationFn:async L=>{const j=L.equipmentIds.map(D=>$R(D,L.typeId));return Promise.all(j)},onSuccess:()=>{var j;E.invalidateQueries(["equipment"]);const L=((j=_==null?void 0:_.types.find(D=>D.id.toString()===r))==null?void 0:j.name)||"selected type";w(`Type successfully updated to ${L} for ${n.length} item${n.length!==1?"s":""}`),d(!1),setTimeout(()=>{t(),w("")},2e3)},onError:L=>{var j,D;console.error("Error updating type:",L),x(((D=(j=L.response)==null?void 0:j.data)==null?void 0:D.message)||"Failed to update type"),d(!1)}}),I=L=>{if(L.preventDefault(),n.length===0){x("No equipment items selected");return}if(!r){x("Please select a type");return}d(!0),x(""),w(""),A.mutate({equipmentIds:n,typeId:r})};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Type"}),l.jsx("div",{className:"mb-4",children:l.jsxs("p",{className:"text-gray-600",children:["You are updating the type of ",n.length," item",n.length!==1?"s":"","."]})}),g&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:g}),v&&l.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:v}),l.jsxs("form",{onSubmit:I,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Type"}),l.jsxs("select",{id:"type",value:r,onChange:L=>i(L.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[l.jsx("option",{value:"",children:"Select a type"}),_!=null&&_.types&&_.types.length>0?_.types.map(L=>l.jsx("option",{value:L.id,children:L.name},L.id)):l.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx($e,{variant:"outline",onClick:t,disabled:a,children:"Cancel"}),l.jsx($e,{variant:"primary",type:"submit",disabled:a||!r,children:a?"Updating...":"Update Type"})]})]})]})}):null};FN.propTypes={isOpen:se.bool.isRequired,onClose:se.func.isRequired,selectedItems:se.array};const BN=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=M.useState(""),[a,d]=M.useState(!1),[g,x]=M.useState(""),[v,w]=M.useState(""),E=Kn(),{data:_,isLoading:k}=Et({queryKey:["categories"],queryFn:ml,staleTime:3e5});M.useEffect(()=>{_!=null&&_.categories&&_.categories.length>0&&!r&&i(_.categories[0].id.toString())},[_,r]);const A=Yn({mutationFn:async L=>{const j=L.equipmentIds.map(D=>GR(D,L.categoryId));return Promise.all(j)},onSuccess:()=>{var j;E.invalidateQueries(["equipment"]);const L=((j=_==null?void 0:_.categories.find(D=>D.id.toString()===r))==null?void 0:j.name)||"selected category";w(`Category successfully updated to ${L} for ${n.length} item${n.length!==1?"s":""}`),d(!1),setTimeout(()=>{t(),w("")},2e3)},onError:L=>{var j,D;console.error("Error updating category:",L),x(((D=(j=L.response)==null?void 0:j.data)==null?void 0:D.message)||"Failed to update category"),d(!1)}}),I=L=>{if(L.preventDefault(),n.length===0){x("No equipment items selected");return}d(!0),x(""),w(""),A.mutate({equipmentIds:n,categoryId:r||null})};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Category"}),l.jsx("div",{className:"mb-4",children:l.jsxs("p",{className:"text-gray-600",children:["You are updating the category of ",n.length," item",n.length!==1?"s":"","."]})}),g&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:g}),v&&l.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:v}),l.jsxs("form",{onSubmit:I,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Category"}),l.jsxs("select",{id:"category",value:r,onChange:L=>i(L.target.value),className:"w-full p-2 border border-slate-300 rounded-md",children:[l.jsx("option",{value:"",children:"None (Remove Category)"}),_!=null&&_.categories&&_.categories.length>0?_.categories.map(L=>l.jsx("option",{value:L.id,children:L.name},L.id)):l.jsx("option",{value:"",disabled:!0,children:"Loading categories..."})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx($e,{variant:"outline",onClick:t,disabled:a,children:"Cancel"}),l.jsx($e,{variant:"primary",type:"submit",disabled:a,children:a?"Updating...":"Update Category"})]})]})]})}):null};BN.propTypes={isOpen:se.bool.isRequired,onClose:se.func.isRequired,selectedItems:se.array};const UN=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=M.useState(""),[a,d]=M.useState(""),[g,x]=M.useState(!0),[v,w]=M.useState(!0),[E,_]=M.useState(!1),[k,A]=M.useState(""),[I,L]=M.useState(""),j=Kn(),D=Yn({mutationFn:async W=>{const Z=W.equipmentIds.map(U=>XR(U,W.updateData));return Promise.all(Z)},onSuccess:()=>{j.invalidateQueries(["equipment"]);let W="Successfully updated ";g&&v?W+=`brand to "${r}" and model to "${a}"`:g?W+=`brand to "${r}"`:v&&(W+=`model to "${a}"`),L(`${W} for ${n.length} item${n.length!==1?"s":""}`),_(!1),setTimeout(()=>{t(),L("")},2e3)},onError:W=>{var Z,U;console.error("Error updating brand/model:",W),A(((U=(Z=W.response)==null?void 0:Z.data)==null?void 0:U.message)||"Failed to update brand/model"),_(!1)}}),R=W=>{if(W.preventDefault(),n.length===0){A("No equipment items selected");return}if(!g&&!v){A("Please select at least one field to update");return}if(g&&!r||v&&!a){A("Please fill in all selected fields");return}_(!0),A(""),L("");const Z={};g&&(Z.brand=r),v&&(Z.model=a),D.mutate({equipmentIds:n,updateData:Z})};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Brand & Model"}),l.jsx("div",{className:"mb-4",children:l.jsxs("p",{className:"text-gray-600",children:["You are updating ",n.length," item",n.length!==1?"s":"","."]})}),k&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),I&&l.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:I}),l.jsxs("form",{onSubmit:R,children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("input",{type:"checkbox",id:"updateBrand",checked:g,onChange:W=>x(W.target.checked),className:"mr-2"}),l.jsx("label",{htmlFor:"updateBrand",className:"text-sm font-medium text-slate-700",children:"Update Brand"})]}),l.jsx("input",{type:"text",id:"brand",value:r,onChange:W=>i(W.target.value),disabled:!g,className:`w-full p-2 border border-slate-300 rounded-md ${g?"":"bg-slate-100"}`,placeholder:"Enter new brand"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("input",{type:"checkbox",id:"updateModel",checked:v,onChange:W=>w(W.target.checked),className:"mr-2"}),l.jsx("label",{htmlFor:"updateModel",className:"text-sm font-medium text-slate-700",children:"Update Model"})]}),l.jsx("input",{type:"text",id:"model",value:a,onChange:W=>d(W.target.value),disabled:!v,className:`w-full p-2 border border-slate-300 rounded-md ${v?"":"bg-slate-100"}`,placeholder:"Enter new model"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx($e,{variant:"outline",onClick:t,disabled:E,children:"Cancel"}),l.jsx($e,{variant:"primary",type:"submit",disabled:E||!g&&!v||g&&!r||v&&!a,children:E?"Updating...":"Update"})]})]})]})}):null};UN.propTypes={isOpen:se.bool.isRequired,onClose:se.func.isRequired,selectedItems:se.array};const g2=({onBatchDuplicate:e,onBatchStatusUpdate:t,onBatchLocationChange:n,equipmentId:r})=>{const[i,a]=M.useState(!1),d=M.useRef(null),g=fi();M.useEffect(()=>{const A=I=>{d.current&&!d.current.contains(I.target)&&a(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]);const x=()=>{a(!i)},v=()=>{a(!1),g(`/equipment/${r}`)},w=()=>{a(!1),g(`/equipment/${r}/edit`)},E=()=>{a(!1),e(r)},_=()=>{a(!1),t&&t(r)},k=()=>{a(!1),n&&n(r)};return l.jsxs("div",{className:"relative",ref:d,children:[l.jsx("button",{onClick:x,className:"p-1 rounded-md hover:bg-slate-100 border border-slate-200",title:"Actions","aria-label":"Actions menu",children:l.jsx(BE,{className:"w-4 h-4 text-slate-600"})}),i&&l.jsx("div",{className:"dropdown-menu",children:l.jsxs("div",{className:"py-0.5",children:[l.jsxs("button",{onClick:v,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx(FE,{className:"w-3.5 h-3.5 mr-1.5"}),"View Details"]}),l.jsxs("button",{onClick:w,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx(Gx,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit"]}),l.jsxs("button",{onClick:E,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx(Kx,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),l.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"⟳"}),"Update Status"]}),l.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📍"}),"Change Location"]})]})})]})};g2.propTypes={onBatchDuplicate:se.func.isRequired,onBatchStatusUpdate:se.func,onBatchLocationChange:se.func,equipmentId:se.oneOfType([se.string,se.number]).isRequired};const zN=({selectedItems:e,onBatchDuplicate:t,onBatchStatusUpdate:n,onBatchLocationChange:r,onBatchTypeChange:i,onBatchCategoryChange:a,onBatchBrandModelChange:d,onClearSelection:g})=>{const[x,v]=M.useState(!1),w=M.useRef(null);Et({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),Et({queryKey:["locations"],queryFn:vo,staleTime:3e5}),Et({queryKey:["categories"],queryFn:ml,staleTime:3e5}),M.useEffect(()=>{const D=R=>{w.current&&!w.current.contains(R.target)&&v(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]);const E=()=>{v(!x)},_=()=>{v(!1),t()},k=()=>{v(!1),n()},A=()=>{v(!1),r()},I=()=>{v(!1),i()},L=()=>{v(!1),a()},j=()=>{v(!1),d()};return l.jsxs("div",{className:"relative",ref:w,children:[l.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-2 py-1 rounded-md border border-blue-100",children:[l.jsxs("span",{className:"text-xs font-medium text-blue-700",children:[e.length," item",e.length!==1?"s":""," selected"]}),l.jsx($e,{variant:"outline",size:"sm",onClick:g,className:"text-xs py-0.5 px-2 bg-white",children:"Clear"}),l.jsxs($e,{variant:"outline",size:"sm",onClick:E,className:"flex items-center text-xs py-0.5 px-2 bg-white",children:["Actions ",l.jsx(BE,{className:"w-3 h-3 ml-1"})]})]}),x&&l.jsx("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white rounded-md shadow-lg border border-slate-200 w-48",children:l.jsxs("div",{className:"py-0.5",children:[l.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx(Kx,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),l.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"⟳"}),"Update Status"]}),l.jsxs("button",{onClick:A,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📍"}),"Change Location"]}),l.jsxs("button",{onClick:I,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"🏷️"}),"Change Type"]}),l.jsxs("button",{onClick:L,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📂"}),"Change Category"]}),l.jsxs("button",{onClick:j,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"🔖"}),"Update Brand/Model"]})]})})]})};zN.propTypes={selectedItems:se.array.isRequired,onBatchDuplicate:se.func.isRequired,onBatchStatusUpdate:se.func.isRequired,onBatchLocationChange:se.func.isRequired,onBatchTypeChange:se.func,onBatchCategoryChange:se.func,onBatchBrandModelChange:se.func,onClearSelection:se.func.isRequired};const WN=({equipment:e,onDuplicate:t,onSelect:n,isSelected:r})=>{const i=fi();ar();const[a,d]=M.useState(!1);let g=null;if(e.reference_image_id)g=nh(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const w=e.files.find(E=>E.file_type==="image");w&&(g=nh(w.id,!0))}const x=w=>{switch(w){case"available":return"badge-success";case"in-use":return"badge-info";case"maintenance":return"badge-warning";case"unavailable":return"badge-secondary";case"broken":return"badge-danger";default:return"badge-secondary"}},v=w=>{w.target.type==="checkbox"||w.target.closest("button")||w.target.closest("a")||w.target.closest(".btn-icon")||i(`/equipment/${e.id}`)};return l.jsxs("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden h-full ${r?"bg-blue-50 border-2 border-blue-300":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:v,children:[l.jsx("div",{className:"absolute top-2 left-2 z-10",children:l.jsx("input",{type:"checkbox",checked:r,onChange:()=>n&&n(e.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})}),l.jsx("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:g?l.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:l.jsx("img",{src:g,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):l.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:l.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})})}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&l.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),l.jsx("span",{className:`badge ${x(e.status)}`,children:e.status})]}),l.jsxs("h2",{className:"text-lg font-semibold mb-1",children:[e.brand," ",e.model]}),l.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",e.serial_number]}),e.location&&l.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Location: ",e.location]}),l.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[l.jsx(Ln,{to:`/equipment/${e.id}/edit`,className:"btn-icon text-slate-600 hover:text-slate-800 hover:bg-slate-50",title:"Edit equipment",children:l.jsx(Gx,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>t(e.id),className:"btn-icon text-green-600 hover:text-green-800 hover:bg-green-50",title:"Duplicate equipment",children:l.jsx(Kx,{className:"w-5 h-5"})}),l.jsx(g2,{equipmentId:e.id,onBatchDuplicate:()=>{const w=new CustomEvent("batchDuplicate",{detail:{id:e.id}});document.dispatchEvent(w)},onBatchStatusUpdate:()=>{const w=new CustomEvent("batchStatusUpdate",{detail:{id:e.id}});document.dispatchEvent(w)},onBatchLocationChange:()=>{const w=new CustomEvent("batchLocationChange",{detail:{id:e.id}});document.dispatchEvent(w)}})]})]})]})};WN.propTypes={equipment:se.object.isRequired,onDuplicate:se.func.isRequired,onSelect:se.func,isSelected:se.bool};const Ua=({field:e,label:t,currentSortField:n,currentSortOrder:r,onSort:i,className:a=""})=>{const d=n===e;return l.jsx("th",{className:`table-header-cell cursor-pointer select-none ${a}`,onClick:()=>i(e),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:t}),l.jsx("div",{className:"flex flex-col h-4 justify-center",children:d?r==="asc"?l.jsx(Jw,{className:"w-3 h-3 text-primary-600"}):l.jsx(oO,{className:"w-3 h-3 text-primary-600"}):l.jsx("div",{className:"w-3 h-3 opacity-60",children:l.jsx(Jw,{className:"w-3 h-3 text-gray-500"})})})]})})};Ua.propTypes={field:se.string.isRequired,label:se.string.isRequired,currentSortField:se.string.isRequired,currentSortOrder:se.string.isRequired,onSort:se.func.isRequired,className:se.string};function gl(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(w){try{v(r.next(w))}catch(E){d(E)}}function x(w){try{v(r.throw(w))}catch(E){d(E)}}function v(w){w.done?a(w.value):i(w.value).then(g,x)}v((r=r.apply(e,t||[])).next())})}const KF=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Nc(e,t,n){const r=ZF(e),{webkitRelativePath:i}=e,a=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&Kb(r,"path",a),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),Kb(r,"relativePath",a),r}function ZF(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=KF.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function Kb(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const JF=[".DS_Store","Thumbs.db"];function eB(e){return gl(this,void 0,void 0,function*(){return vh(e)&&tB(e.dataTransfer)?iB(e.dataTransfer,e.type):nB(e)?rB(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?sB(e):[]})}function tB(e){return vh(e)}function nB(e){return vh(e)&&vh(e.target)}function vh(e){return typeof e=="object"&&e!==null}function rB(e){return kg(e.target.files).map(t=>Nc(t))}function sB(e){return gl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Nc(n))})}function iB(e,t){return gl(this,void 0,void 0,function*(){if(e.items){const n=kg(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(aB));return Zb(HN(r))}return Zb(kg(e.files).map(n=>Nc(n)))})}function Zb(e){return e.filter(t=>JF.indexOf(t.name)===-1)}function kg(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function aB(e){if(typeof e.webkitGetAsEntry!="function")return Jb(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?qN(t):Jb(e,t)}function HN(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?HN(n):[n]],[])}function Jb(e,t){return gl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const a=yield e.getAsFileSystemHandle();if(a===null)throw new Error(`${e} is not a File`);if(a!==void 0){const d=yield a.getFile();return d.handle=a,Nc(d)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Nc(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function oB(e){return gl(this,void 0,void 0,function*(){return e.isDirectory?qN(e):lB(e)})}function qN(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function a(){t.readEntries(d=>gl(this,void 0,void 0,function*(){if(d.length){const g=Promise.all(d.map(oB));i.push(g),a()}else try{const g=yield Promise.all(i);n(g)}catch(g){r(g)}}),d=>{r(d)})}a()})}function lB(e){return gl(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=Nc(r,e.fullPath);t(i)},r=>{n(r)})})})}var rm=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(d){var g=d.trim().toLowerCase();return g.charAt(0)==="."?r.toLowerCase().endsWith(g):g.endsWith("/*")?a===g.replace(/\/.*$/,""):i===g})}return!0};function e3(e){return dB(e)||uB(e)||YN(e)||cB()}function cB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dB(e){if(Array.isArray(e))return Tg(e)}function t3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function n3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(n),!0).forEach(function(r){VN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fd(e,t){return pB(e)||hB(e,t)||YN(e,t)||fB()}function fB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YN(e,t){if(e){if(typeof e=="string")return Tg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tg(e,t)}}function Tg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,d,g;try{for(n=n.call(e);!(i=(d=n.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(x){a=!0,g=x}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw g}}return r}}function pB(e){if(Array.isArray(e))return e}var mB=typeof rm=="function"?rm:rm.default,gB="file-invalid-type",xB="file-too-large",vB="file-too-small",yB="too-many-files",wB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:gB,message:"File type must be ".concat(r)}},r3=function(t){return{code:xB,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},s3=function(t){return{code:vB,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},bB={code:yB,message:"Too many files"};function $N(e,t){var n=e.type==="application/x-moz-file"||mB(e,t);return[n,n?null:wB(t)]}function GN(e,t,n){if(Vo(e.size))if(Vo(t)&&Vo(n)){if(e.size>n)return[!1,r3(n)];if(e.size<t)return[!1,s3(t)]}else{if(Vo(t)&&e.size<t)return[!1,s3(t)];if(Vo(n)&&e.size>n)return[!1,r3(n)]}return[!0,null]}function Vo(e){return e!=null}function CB(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,d=e.maxFiles,g=e.validator;return!a&&t.length>1||a&&d>=1&&t.length>d?!1:t.every(function(x){var v=$N(x,n),w=fd(v,1),E=w[0],_=GN(x,r,i),k=fd(_,1),A=k[0],I=g?g(x):null;return E&&A&&!I})}function yh(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Kf(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function i3(e){e.preventDefault()}function EB(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function NB(e){return e.indexOf("Edge/")!==-1}function _B(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return EB(e)||NB(e)}function Ci(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),d=1;d<i;d++)a[d-1]=arguments[d];return t.some(function(g){return!yh(r)&&g&&g.apply(void 0,[r].concat(a)),yh(r)})}}function SB(){return"showOpenFilePicker"in window}function AB(e){if(Vo(e)){var t=Object.entries(e).filter(function(n){var r=fd(n,2),i=r[0],a=r[1],d=!0;return XN(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(a)||!a.every(QN))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(n,r){var i=fd(r,2),a=i[0],d=i[1];return n3(n3({},n),{},VN({},a,d))},{});return[{description:"Files",accept:t}]}return e}function kB(e){if(Vo(e))return Object.entries(e).reduce(function(t,n){var r=fd(n,2),i=r[0],a=r[1];return[].concat(e3(t),[i],e3(a))},[]).filter(function(t){return XN(t)||QN(t)}).join(",")}function TB(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function DB(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function XN(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function QN(e){return/^.*\.[\w]+$/.test(e)}var jB=["children"],IB=["open"],RB=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],OB=["refKey","onChange","onClick"];function MB(e){return FB(e)||PB(e)||KN(e)||LB()}function LB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FB(e){if(Array.isArray(e))return Dg(e)}function sm(e,t){return zB(e)||UB(e,t)||KN(e,t)||BB()}function BB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KN(e,t){if(e){if(typeof e=="string")return Dg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dg(e,t)}}function Dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,d,g;try{for(n=n.call(e);!(i=(d=n.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(x){a=!0,g=x}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw g}}return r}}function zB(e){if(Array.isArray(e))return e}function a3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(n),!0).forEach(function(r){jg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wh(e,t){if(e==null)return{};var n=WB(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function WB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var x2=M.forwardRef(function(e,t){var n=e.children,r=wh(e,jB),i=Sd(r),a=i.open,d=wh(i,IB);return M.useImperativeHandle(t,function(){return{open:a}},[a]),ue.createElement(M.Fragment,null,n(_n(_n({},d),{},{open:a})))});x2.displayName="Dropzone";var ZN={disabled:!1,getFilesFromEvent:eB,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};x2.defaultProps=ZN;x2.propTypes={children:se.func,accept:se.objectOf(se.arrayOf(se.string)),multiple:se.bool,preventDropOnDocument:se.bool,noClick:se.bool,noKeyboard:se.bool,noDrag:se.bool,noDragEventsBubbling:se.bool,minSize:se.number,maxSize:se.number,maxFiles:se.number,disabled:se.bool,getFilesFromEvent:se.func,onFileDialogCancel:se.func,onFileDialogOpen:se.func,useFsAccessApi:se.bool,autoFocus:se.bool,onDragEnter:se.func,onDragLeave:se.func,onDragOver:se.func,onDrop:se.func,onDropAccepted:se.func,onDropRejected:se.func,onError:se.func,validator:se.func};var Ig={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Sd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=_n(_n({},ZN),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,a=t.maxSize,d=t.minSize,g=t.multiple,x=t.maxFiles,v=t.onDragEnter,w=t.onDragLeave,E=t.onDragOver,_=t.onDrop,k=t.onDropAccepted,A=t.onDropRejected,I=t.onFileDialogCancel,L=t.onFileDialogOpen,j=t.useFsAccessApi,D=t.autoFocus,R=t.preventDropOnDocument,W=t.noClick,Z=t.noKeyboard,U=t.noDrag,O=t.noDragEventsBubbling,V=t.onError,Y=t.validator,ee=M.useMemo(function(){return kB(n)},[n]),de=M.useMemo(function(){return AB(n)},[n]),ie=M.useMemo(function(){return typeof L=="function"?L:o3},[L]),le=M.useMemo(function(){return typeof I=="function"?I:o3},[I]),Te=M.useRef(null),ne=M.useRef(null),Se=M.useReducer(HB,Ig),we=sm(Se,2),ce=we[0],ve=we[1],Oe=ce.isFocused,Ye=ce.isFileDialogActive,Je=M.useRef(typeof window<"u"&&window.isSecureContext&&j&&SB()),ke=function(){!Je.current&&Ye&&setTimeout(function(){if(ne.current){var Ze=ne.current.files;Ze.length||(ve({type:"closeDialog"}),le())}},300)};M.useEffect(function(){return window.addEventListener("focus",ke,!1),function(){window.removeEventListener("focus",ke,!1)}},[ne,Ye,le,Je]);var Xe=M.useRef([]),st=function(Ze){Te.current&&Te.current.contains(Ze.target)||(Ze.preventDefault(),Xe.current=[])};M.useEffect(function(){return R&&(document.addEventListener("dragover",i3,!1),document.addEventListener("drop",st,!1)),function(){R&&(document.removeEventListener("dragover",i3),document.removeEventListener("drop",st))}},[Te,R]),M.useEffect(function(){return!r&&D&&Te.current&&Te.current.focus(),function(){}},[Te,D,r]);var _e=M.useCallback(function(Ie){V?V(Ie):console.error(Ie)},[V]),Ct=M.useCallback(function(Ie){Ie.preventDefault(),Ie.persist(),Re(Ie),Xe.current=[].concat(MB(Xe.current),[Ie.target]),Kf(Ie)&&Promise.resolve(i(Ie)).then(function(Ze){if(!(yh(Ie)&&!O)){var Rt=Ze.length,nn=Rt>0&&CB({files:Ze,accept:ee,minSize:d,maxSize:a,multiple:g,maxFiles:x,validator:Y}),Gt=Rt>0&&!nn;ve({isDragAccept:nn,isDragReject:Gt,isDragActive:!0,type:"setDraggedFiles"}),v&&v(Ie)}}).catch(function(Ze){return _e(Ze)})},[i,v,_e,O,ee,d,a,g,x,Y]),lt=M.useCallback(function(Ie){Ie.preventDefault(),Ie.persist(),Re(Ie);var Ze=Kf(Ie);if(Ze&&Ie.dataTransfer)try{Ie.dataTransfer.dropEffect="copy"}catch{}return Ze&&E&&E(Ie),!1},[E,O]),on=M.useCallback(function(Ie){Ie.preventDefault(),Ie.persist(),Re(Ie);var Ze=Xe.current.filter(function(nn){return Te.current&&Te.current.contains(nn)}),Rt=Ze.indexOf(Ie.target);Rt!==-1&&Ze.splice(Rt,1),Xe.current=Ze,!(Ze.length>0)&&(ve({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Kf(Ie)&&w&&w(Ie))},[Te,w,O]),Zn=M.useCallback(function(Ie,Ze){var Rt=[],nn=[];Ie.forEach(function(Gt){var dn=$N(Gt,ee),is=sm(dn,2),Ss=is[0],Fi=is[1],tn=GN(Gt,d,a),je=sm(tn,2),rn=je[0],jt=je[1],qt=Y?Y(Gt):null;if(Ss&&rn&&!qt)Rt.push(Gt);else{var Xs=[Fi,jt];qt&&(Xs=Xs.concat(qt)),nn.push({file:Gt,errors:Xs.filter(function(wo){return wo})})}}),(!g&&Rt.length>1||g&&x>=1&&Rt.length>x)&&(Rt.forEach(function(Gt){nn.push({file:Gt,errors:[bB]})}),Rt.splice(0)),ve({acceptedFiles:Rt,fileRejections:nn,isDragReject:nn.length>0,type:"setFiles"}),_&&_(Rt,nn,Ze),nn.length>0&&A&&A(nn,Ze),Rt.length>0&&k&&k(Rt,Ze)},[ve,g,ee,d,a,x,_,k,A,Y]),kt=M.useCallback(function(Ie){Ie.preventDefault(),Ie.persist(),Re(Ie),Xe.current=[],Kf(Ie)&&Promise.resolve(i(Ie)).then(function(Ze){yh(Ie)&&!O||Zn(Ze,Ie)}).catch(function(Ze){return _e(Ze)}),ve({type:"reset"})},[i,Zn,_e,O]),ln=M.useCallback(function(){if(Je.current){ve({type:"openDialog"}),ie();var Ie={multiple:g,types:de};window.showOpenFilePicker(Ie).then(function(Ze){return i(Ze)}).then(function(Ze){Zn(Ze,null),ve({type:"closeDialog"})}).catch(function(Ze){TB(Ze)?(le(Ze),ve({type:"closeDialog"})):DB(Ze)?(Je.current=!1,ne.current?(ne.current.value=null,ne.current.click()):_e(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):_e(Ze)});return}ne.current&&(ve({type:"openDialog"}),ie(),ne.current.value=null,ne.current.click())},[ve,ie,le,j,Zn,_e,de,g]),Ce=M.useCallback(function(Ie){!Te.current||!Te.current.isEqualNode(Ie.target)||(Ie.key===" "||Ie.key==="Enter"||Ie.keyCode===32||Ie.keyCode===13)&&(Ie.preventDefault(),ln())},[Te,ln]),Ge=M.useCallback(function(){ve({type:"focus"})},[]),me=M.useCallback(function(){ve({type:"blur"})},[]),Me=M.useCallback(function(){W||(_B()?setTimeout(ln,0):ln())},[W,ln]),Fe=function(Ze){return r?null:Ze},qe=function(Ze){return Z?null:Fe(Ze)},ft=function(Ze){return U?null:Fe(Ze)},Re=function(Ze){O&&Ze.stopPropagation()},Ne=M.useMemo(function(){return function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ze=Ie.refKey,Rt=Ze===void 0?"ref":Ze,nn=Ie.role,Gt=Ie.onKeyDown,dn=Ie.onFocus,is=Ie.onBlur,Ss=Ie.onClick,Fi=Ie.onDragEnter,tn=Ie.onDragOver,je=Ie.onDragLeave,rn=Ie.onDrop,jt=wh(Ie,RB);return _n(_n(jg({onKeyDown:qe(Ci(Gt,Ce)),onFocus:qe(Ci(dn,Ge)),onBlur:qe(Ci(is,me)),onClick:Fe(Ci(Ss,Me)),onDragEnter:ft(Ci(Fi,Ct)),onDragOver:ft(Ci(tn,lt)),onDragLeave:ft(Ci(je,on)),onDrop:ft(Ci(rn,kt)),role:typeof nn=="string"&&nn!==""?nn:"presentation"},Rt,Te),!r&&!Z?{tabIndex:0}:{}),jt)}},[Te,Ce,Ge,me,Me,Ct,lt,on,kt,Z,U,r]),gn=M.useCallback(function(Ie){Ie.stopPropagation()},[]),pr=M.useMemo(function(){return function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ze=Ie.refKey,Rt=Ze===void 0?"ref":Ze,nn=Ie.onChange,Gt=Ie.onClick,dn=wh(Ie,OB),is=jg({accept:ee,multiple:g,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Fe(Ci(nn,kt)),onClick:Fe(Ci(Gt,gn)),tabIndex:-1},Rt,ne);return _n(_n({},is),dn)}},[ne,n,g,kt,r]);return _n(_n({},ce),{},{isFocused:Oe&&!r,getRootProps:Ne,getInputProps:pr,rootRef:Te,inputRef:ne,open:Fe(ln)})}function HB(e,t){switch(t.type){case"focus":return _n(_n({},e),{},{isFocused:!0});case"blur":return _n(_n({},e),{},{isFocused:!1});case"openDialog":return _n(_n({},Ig),{},{isFileDialogActive:!0});case"closeDialog":return _n(_n({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return _n(_n({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return _n(_n({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return _n({},Ig);default:return e}}function o3(){}const qB=async(e="csv",t={})=>{try{const n={format:e};return Object.entries(t).forEach(([i,a])=>{i==="selectedIds"&&Array.isArray(a)&&a.length>0?n.selectedIds=JSON.stringify(a):n[i]=a}),console.log("Export params:",n),(await dt.get("/api/import-export/export",{params:n,responseType:"blob"})).data}catch(n){throw console.error("Error exporting equipment:",n),n}},VB=async(e,t={})=>{try{const n=new FormData;return n.append("file",e),Object.entries(t).forEach(([i,a])=>{n.append(i,a)}),(await dt.post("/api/import-export/import",n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error importing equipment:",n),n}},YB=(e,t)=>{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)},$B=({isOpen:e,onClose:t,filters:n={},selectedItems:r=[]})=>{const[i,a]=M.useState("export"),[d,g]=M.useState("csv"),[x,v]=M.useState(!1),[w,E]=M.useState(!1),[_,k]=M.useState(null),[A,I]=M.useState(!0),[L,j]=M.useState(null),[D,R]=M.useState(""),{user:W}=ar(),Z=Kn(),U=W&&(W.role==="admin"||W.role==="advanced"),{getRootProps:O,getInputProps:V,isDragActive:Y}=Sd({onDrop:ie=>{ie.length>0&&(k(ie[0]),R(""))},accept:{"text/csv":[".csv"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/json":[".json"]},maxFiles:1}),ee=async()=>{try{E(!0),R("");const ie=new Date().toISOString().split("T")[0],le={...n};x&&r.length>0&&(le.selectedIds=r);const Te=await qB(d,le);let ne;const Se=x&&r.length>0?`equipment_selected_${r.length}_items_${ie}`:`equipment_export_${ie}`;switch(d){case"csv":ne=`${Se}.csv`;break;case"xlsx":ne=`${Se}.xlsx`;break;case"json":ne=`${Se}.json`;break;default:ne=Se}YB(Te,ne),E(!1)}catch(ie){console.error("Export error:",ie),R("Failed to export data. Please try again."),E(!1)}},de=async()=>{if(!_){R("Please select a file to import");return}try{E(!0),R(""),j(null);const ie=await VB(_,{updateExisting:A});j(ie.results),Z.invalidateQueries(["equipment"]),E(!1),k(null),ie.results.errors.length===0&&setTimeout(()=>{t()},3e3)}catch(ie){console.error("Import error:",ie),R("Failed to import data. Please check your file and try again."),E(!1)}};return!e||!U?null:l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Import/Export Equipment"}),l.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"flex border-b",children:[l.jsx("button",{className:`px-4 py-2 ${i==="export"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("export"),children:"Export"}),l.jsx("button",{className:`px-4 py-2 ${i==="import"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("import"),children:"Import"})]}),l.jsx("div",{className:"p-4",children:i==="export"?l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Format"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"csv",checked:d==="csv",onChange:()=>g("csv")}),l.jsx("span",{className:"ml-2",children:"CSV"})]}),l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"xlsx",checked:d==="xlsx",onChange:()=>g("xlsx")}),l.jsx("span",{className:"ml-2",children:"Excel (XLSX)"})]}),l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"json",checked:d==="json",onChange:()=>g("json")}),l.jsx("span",{className:"ml-2",children:"JSON"})]})]})]}),r.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Scope"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:!x,onChange:()=>v(!1)}),l.jsx("span",{className:"ml-2",children:"All equipment (with filters)"})]}),l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:x,onChange:()=>v(!0)}),l.jsxs("span",{className:"ml-2",children:["Selected items only (",r.length,")"]})]})]})]}),l.jsx("div",{className:"mb-4",children:l.jsx("p",{className:"text-sm text-gray-600",children:x&&r.length>0?`This will export ${r.length} selected equipment items.`:"This will export all equipment data based on your current filters."})}),D&&l.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:D}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:t,disabled:w,className:"btn btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:ee,disabled:w,className:`btn ${w?"bg-blue-400":"btn-primary"}`,children:w?l.jsxs("div",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):"Export"})]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload File"}),l.jsxs("div",{...O(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${Y?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[l.jsx("input",{...V()}),_?l.jsxs("div",{children:[l.jsxs("p",{className:"text-green-600",children:["File selected: ",_.name]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(_.size/1024).toFixed(2)," KB"]})]}):Y?l.jsx("p",{className:"text-blue-500",children:"Drop the file here..."}):l.jsxs("div",{children:[l.jsx("p",{className:"mb-2",children:"Drag & drop a file here, or click to select a file"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Accepted file types: CSV, XLSX, JSON"})]})]})]}),l.jsx("div",{className:"mb-4",children:l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"checkbox",className:"form-checkbox",checked:A,onChange:ie=>I(ie.target.checked)}),l.jsx("span",{className:"ml-2",children:"Update existing equipment if found"})]})}),D&&l.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:D}),L&&l.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded",children:[l.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Import Results"}),l.jsxs("ul",{className:"text-sm text-green-700",children:[l.jsxs("li",{children:["Total records processed: ",L.total]}),l.jsxs("li",{children:["New records created: ",L.created]}),l.jsxs("li",{children:["Existing records updated: ",L.updated]}),l.jsxs("li",{children:["Errors: ",L.errors.length]})]}),L.errors.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("h4",{className:"font-medium text-red-800",children:"Errors:"}),l.jsx("ul",{className:"text-sm text-red-700 mt-1 max-h-32 overflow-y-auto",children:L.errors.map((ie,le)=>l.jsxs("li",{children:[ie.record.serial_number||ie.record.id||`Row ${le+1}`,": ",ie.error]},le))})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:t,disabled:w,className:"btn btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:de,disabled:w||!_,className:`btn ${w?"bg-blue-400":"btn-primary"}`,children:w?l.jsxs("div",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):"Import"})]})]})})]})})},GB=()=>{var ft;const e=fi(),t=M.useRef(null),[n]=M.useState(20),[r,i]=M.useState({type:"",brand:"",status:"",location_id:"",search:""}),[a,d]=M.useState([]),[g,x]=M.useState(!1),[v,w]=M.useState("updated_at"),[E,_]=M.useState("desc"),[k,A]=M.useState("list"),[I,L]=M.useState(!1);M.useEffect(()=>{const Re=localStorage.getItem("equipmentViewMode");Re&&A(Re);const Ne=localStorage.getItem("equipmentShowThumbnails");Ne!==null&&L(Ne==="true")},[]),M.useEffect(()=>{localStorage.setItem("equipmentViewMode",k)},[k]),M.useEffect(()=>{localStorage.setItem("equipmentShowThumbnails",I.toString())},[I]);const[j,D]=M.useState(!1),[R,W]=M.useState(!1),[Z,U]=M.useState(!1),[O,V]=M.useState(!1),[Y,ee]=M.useState(!1),[de,ie]=M.useState(!1),[le,Te]=M.useState(!1),[ne,Se]=M.useState(!1),[we,ce]=M.useState(null);M.useEffect(()=>{const Re=pr=>{const{id:Ie}=pr.detail;ce(Ie),W(!0)},Ne=pr=>{const{id:Ie}=pr.detail;ce(Ie),U(!0)},gn=pr=>{const{id:Ie}=pr.detail;ce(Ie),V(!0)};return document.addEventListener("batchDuplicate",Re),document.addEventListener("batchStatusUpdate",Ne),document.addEventListener("batchLocationChange",gn),()=>{document.removeEventListener("batchDuplicate",Re),document.removeEventListener("batchStatusUpdate",Ne),document.removeEventListener("batchLocationChange",gn)}},[]);const{data:ve,fetchNextPage:Oe,hasNextPage:Ye,isFetchingNextPage:Je,isLoading:ke,isError:Xe,error:st}=Ux(["equipment",r,v,E],async({pageParam:Re=1})=>{const Ne={page:Re,limit:n,...r,sortBy:v,sortOrder:E};return oa(Ne)},{getNextPageParam:Re=>{if(Re.page<Re.totalPages)return Re.page+1},keepPreviousData:!0}),{data:_e}=Et({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),{data:Ct}=Et(["locations"],vo),lt=(ve==null?void 0:ve.pages.flatMap(Re=>Re.equipment))||[];M.useEffect(()=>{const Re=new IntersectionObserver(Ne=>{Ne[0].isIntersecting&&Ye&&!Je&&Oe()},{threshold:.5});return t.current&&Re.observe(t.current),()=>{t.current&&Re.unobserve(t.current)}},[t,Oe,Ye,Je]);const on=Re=>{ce(Re),D(!0)},Zn=()=>{D(!1),ce(null)},kt=()=>{W(!1),ce(null)},ln=Re=>{const{name:Ne,value:gn}=Re.target;i(pr=>({...pr,[Ne]:gn}))},Ce=Re=>{Re.preventDefault()},Ge=Re=>{v===Re?_(Ne=>Ne==="asc"?"desc":"asc"):(w(Re),_("desc"))},me=Re=>{d(Ne=>Ne.includes(Re)?Ne.filter(gn=>gn!==Re):[...Ne,Re])},Me=()=>{if(g)d([]);else{const Re=lt.map(Ne=>Ne.id);d(Re)}x(!g)},Fe=()=>{d([]),x(!1)},qe=(Re,Ne)=>{Ne.target.type==="checkbox"||Ne.target.closest("button")||Ne.target.closest("a")||Ne.target.closest(".btn-icon")||e(`/equipment/${Re}`)};return ke?l.jsx("div",{className:"text-center py-10",children:"Loading..."}):Xe?l.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",st.message||"Failed to load equipment"]}):l.jsxs("div",{className:"space-y-6",children:[l.jsx(XF,{isOpen:j,onClose:Zn,equipmentId:we}),l.jsx(QF,{isOpen:R,onClose:kt,equipmentId:we,selectedItems:a}),l.jsx(LN,{isOpen:Z,onClose:()=>U(!1),equipmentId:we,selectedItems:a}),l.jsx(PN,{isOpen:O,onClose:()=>V(!1),equipmentId:we,selectedItems:a}),l.jsx(FN,{isOpen:Y,onClose:()=>ee(!1),selectedItems:a}),l.jsx(BN,{isOpen:de,onClose:()=>ie(!1),selectedItems:a}),l.jsx(UN,{isOpen:le,onClose:()=>Te(!1),selectedItems:a}),l.jsx($B,{isOpen:ne,onClose:()=>Se(!1),filters:r,selectedItems:a}),l.jsx("div",{className:"card",children:l.jsxs("form",{onSubmit:Ce,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),l.jsxs("div",{className:"input-group",children:[l.jsx(Xx,{className:"input-icon w-4 h-4"}),l.jsx("input",{type:"text",id:"search",name:"search",value:r.search,onChange:ln,placeholder:"Search equipment...",className:"input input-with-icon"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"type",className:"label",children:"Type"}),l.jsxs("select",{id:"type",name:"type",value:r.type,onChange:ln,className:"input",children:[l.jsx("option",{value:"",children:"All Types"}),_e!=null&&_e.types&&_e.types.length>0?_e.types.map(Re=>l.jsx("option",{value:Re.name.toLowerCase(),children:Re.name},Re.id)):l.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"status",className:"label",children:"Status"}),l.jsxs("select",{id:"status",name:"status",value:r.status,onChange:ln,className:"input",children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"available",children:"Available"}),l.jsx("option",{value:"in-use",children:"In Use"}),l.jsx("option",{value:"maintenance",children:"Maintenance"}),l.jsx("option",{value:"unavailable",children:"Unavailable"}),l.jsx("option",{value:"broken",children:"Broken"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),l.jsxs("select",{id:"location_id",name:"location_id",value:r.location_id,onChange:ln,className:"input",children:[l.jsx("option",{value:"",children:"All Locations"}),(ft=Ct==null?void 0:Ct.locations)==null?void 0:ft.map(Re=>l.jsx("option",{value:Re.id.toString(),children:Re.name},Re.id))]})]}),l.jsx("div",{className:"flex items-end",children:l.jsx("button",{type:"button",onClick:()=>{i({type:"",brand:"",status:"",location_id:"",search:""})},className:"btn btn-outline w-full",children:"Clear All Filters"})}),l.jsx("div",{className:"flex items-end",children:l.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[l.jsx(Qx,{className:"w-4 h-4"}),l.jsx("span",{children:"Apply Filters"})]})})]})}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"flex flex-col space-y-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mr-4",children:"Equipment List"}),l.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden mr-2",children:[l.jsx("button",{onClick:()=>A("list"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="list"?"bg-white text-primary-600 border-r border-slate-200 hover:bg-primary-50":"bg-white text-slate-600 border-r border-slate-200 hover:bg-slate-50"}`,title:"List view",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),l.jsx("button",{onClick:()=>A("card"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="card"?"bg-white text-primary-600 hover:bg-primary-50":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]}),a.length>0&&l.jsx("div",{className:"ml-2",children:l.jsx(zN,{selectedItems:a,onBatchDuplicate:()=>W(!0),onBatchStatusUpdate:()=>U(!0),onBatchLocationChange:()=>V(!0),onBatchTypeChange:()=>ee(!0),onBatchCategoryChange:()=>ie(!0),onBatchBrandModelChange:()=>Te(!0),onClearSelection:Fe})})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>Se(!0),className:"btn btn-secondary btn-sm",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(cO,{className:"w-4 h-4 mr-1"}),l.jsx(uO,{className:"w-4 h-4 mr-1"}),l.jsx("span",{children:"Import/Export"})]})}),l.jsxs(Ln,{to:"/equipment/new",className:"btn btn-primary btn-sm",children:[l.jsx(PE,{className:"w-4 h-4"}),l.jsx("span",{children:"Add New Equipment"})]})]})]})}),k==="card"&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:lt.length>0?lt.map(Re=>l.jsx(WN,{equipment:Re,onDuplicate:on,onSelect:me,isSelected:a.includes(Re.id)},Re.id)):l.jsx("div",{className:"col-span-3 py-8 text-center text-gray-500",children:"No equipment found"})}),k==="list"&&l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell w-10",children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("input",{type:"checkbox",checked:g,onChange:Me,className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),l.jsx(Ua,{field:"type",label:"Type",currentSortField:v,currentSortOrder:E,onSort:Ge}),l.jsx(Ua,{field:"category",label:"Category",currentSortField:v,currentSortOrder:E,onSort:Ge}),l.jsx(Ua,{field:"brand",label:"Brand",currentSortField:v,currentSortOrder:E,onSort:Ge}),l.jsx(Ua,{field:"model",label:"Model",currentSortField:v,currentSortOrder:E,onSort:Ge}),l.jsx(Ua,{field:"serial_number",label:"Serial Number",currentSortField:v,currentSortOrder:E,onSort:Ge}),l.jsx(Ua,{field:"status",label:"Status",currentSortField:v,currentSortOrder:E,onSort:Ge}),l.jsx(Ua,{field:"location",label:"Location",currentSortField:v,currentSortOrder:E,onSort:Ge}),l.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),l.jsx("tbody",{className:"table-body",children:lt.length>0?lt.map(Re=>{var Ne;return l.jsxs("tr",{className:`table-row ${a.includes(Re.id)?"bg-blue-50":""} cursor-pointer hover:bg-slate-50`,onClick:gn=>qe(Re.id,gn),children:[l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("input",{type:"checkbox",checked:a.includes(Re.id),onChange:()=>me(Re.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),l.jsx("td",{className:"table-cell",children:Re.type}),l.jsx("td",{className:"table-cell",children:Re.category||"-"}),l.jsx("td",{className:"table-cell",children:Re.brand}),l.jsx("td",{className:"table-cell",children:Re.model}),l.jsx("td",{className:"table-cell",children:Re.serial_number}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:`badge ${Re.status==="available"?"badge-success":Re.status==="in-use"?"badge-info":Re.status==="maintenance"?"badge-warning":Re.status==="unavailable"?"badge-secondary":Re.status==="broken"?"badge-danger":"badge-secondary"}`,children:Re.status})}),l.jsx("td",{className:"table-cell",children:((Ne=Re.locationDetails)==null?void 0:Ne.name)||Re.location||"-"}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"flex items-center justify-end",children:l.jsx(g2,{equipmentId:Re.id,onBatchDuplicate:()=>{ce(Re.id),W(!0)},onBatchStatusUpdate:()=>{ce(Re.id),U(!0)},onBatchLocationChange:()=>{ce(Re.id),V(!0)}})})})]},Re.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"8",className:"px-6 py-4 text-center text-gray-500",children:"No equipment found"})})})]})}),l.jsx("div",{ref:t,className:"py-4 text-center",children:Je?l.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),l.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):Ye?l.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):l.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})]})},XB=async({page:e=1,limit:t=20,equipmentId:n,userId:r,actionType:i,search:a,type:d,status:g,location_id:x,sortBy:v="created_at",sortOrder:w="desc"})=>{const E={page:e,limit:t};return n&&(E.equipmentId=n),r&&(E.userId=r),i&&(E.actionType=i),a&&(E.search=a),d&&(E.type=d),g&&(E.status=g),x&&(E.location_id=x),v&&(E.sortBy=v),w&&(E.sortOrder=w),(await dt.get("/api/equipment-logs",{params:E})).data},QB=async(e,{page:t=1,limit:n=20}={})=>{const r={page:t,limit:n};return(await dt.get(`/api/equipment-logs/equipment/${e}`,{params:r})).data},JN=({equipmentId:e})=>{var w;const[t,n]=M.useState(1),[r]=M.useState(10),{data:i,isLoading:a,isError:d,error:g}=Et(["equipmentLogs",e,t,r],()=>QB(e,{page:t,limit:r}),{keepPreviousData:!0,enabled:!!e}),x=E=>E.split("_").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" "),v=E=>{n(E)};return a?l.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[l.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{className:"text-slate-600",children:"Loading movement history..."})]}):d?l.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full mb-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("p",{className:"text-red-600 font-medium mb-1",children:"Error Loading Movement History"}),l.jsx("p",{className:"text-slate-500 text-sm",children:g.message||"Failed to load equipment logs"})]}):(w=i==null?void 0:i.logs)!=null&&w.length?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Date"]})}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"User"]})}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Action"]})}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Details"]})})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:i.logs.map((E,_)=>{var k,A,I;return l.jsxs("tr",{className:`hover:bg-slate-50 ${_%2===0?"bg-white":"bg-slate-50/50"}`,children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"font-medium",children:cd(new Date(E.created_at),"MMM d, yyyy")}),l.jsx("span",{className:"ml-2 text-slate-500",children:cd(new Date(E.created_at),"h:mm a")})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 font-medium",children:(k=E.user)!=null&&k.username?E.user.username.charAt(0).toUpperCase():"?"}),l.jsxs("div",{className:"ml-3",children:[l.jsx("div",{className:"text-sm font-medium text-slate-800",children:((A=E.user)==null?void 0:A.username)||"Unknown"}),l.jsx("div",{className:"text-xs text-slate-500 capitalize",children:((I=E.user)==null?void 0:I.role)||""})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("span",{className:`px-2.5 py-1.5 inline-flex text-xs leading-5 font-semibold rounded-full
                    ${E.action_type==="created"?"bg-green-100 text-green-800":E.action_type==="updated"?"bg-blue-100 text-blue-800":E.action_type==="deleted"?"bg-red-100 text-red-800":E.action_type==="status_change"?"bg-yellow-100 text-yellow-800":E.action_type==="location_change"?"bg-indigo-100 text-indigo-800":"bg-slate-100 text-slate-800"}`,children:[E.action_type==="created"&&l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),E.action_type==="updated"&&l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),E.action_type==="deleted"&&l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),E.action_type==="status_change"&&l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),E.action_type==="location_change"&&l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),x(E.action_type)]})}),l.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[E.action_type==="status_change"&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"font-medium text-slate-700",children:"Status:"}),l.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:E.previous_status}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),l.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:E.new_status})]}),E.action_type==="location_change"&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"font-medium text-slate-700",children:"Location:"}),l.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:E.previous_location||"None"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),l.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:E.new_location||"None"})]}),E.details&&l.jsx("div",{className:"mt-2 text-slate-600",children:E.details})]})]},E.id)})})]})}),i.totalPages>1&&l.jsxs("div",{className:"flex justify-between items-center mt-4 px-2",children:[l.jsxs("div",{className:"text-sm text-slate-600 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Showing ",l.jsx("span",{className:"font-medium text-slate-800 mx-1",children:(t-1)*r+1})," to"," ",l.jsx("span",{className:"font-medium text-slate-800 mx-1",children:Math.min(t*r,i.total)})," of"," ",l.jsx("span",{className:"font-medium text-slate-800 mx-1",children:i.total})," logs"]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>v(t-1),disabled:t===1,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${t===1?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-1 ${t===1?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),l.jsxs("button",{onClick:()=>v(t+1),disabled:t===i.totalPages,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${t===i.totalPages?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:["Next",l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ml-1 ${t===i.totalPages?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}):l.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[l.jsx("div",{className:"bg-slate-100 p-3 rounded-full mb-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("p",{className:"text-slate-600 font-medium",children:"No movement history found"}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"This equipment has no recorded movements or status changes"})]})},e5=({isOpen:e,title:t="Confirm Action",message:n="Are you sure you want to proceed?",confirmText:r="Confirm",cancelText:i="Cancel",onConfirm:a,onCancel:d,isDestructive:g=!1})=>e?l.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-soft max-w-md w-full p-6 animate-fade-in",children:[l.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:t}),l.jsx("p",{className:"text-slate-600 mb-6",children:n}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx($e,{variant:"secondary",onClick:d,children:i}),l.jsx($e,{variant:g?"danger":"primary",onClick:a,children:r})]})]})}):null;e5.propTypes={isOpen:se.bool.isRequired,title:se.string,message:se.string,confirmText:se.string,cancelText:se.string,onConfirm:se.func.isRequired,onCancel:se.func.isRequired,isDestructive:se.bool};const v2=({onImageSelect:e,existingImage:t=null,onImageDelete:n})=>{const[r,i]=M.useState(null),[a,d]=M.useState(null);M.useEffect(()=>{d(t?`/api/files/${t.id}?thumbnail=true`:null)},[t]),M.useEffect(()=>()=>{a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a)},[a]);const g=M.useCallback(k=>{if(k.length>0){const A=k[0];if(A.size>10*1024*1024){alert("Image is too large. Maximum size is 10MB.");return}i(A),d(URL.createObjectURL(A)),e(A)}},[e]),x=()=>{i(null),a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a),d(null),e(null)},v=()=>{n&&t&&(n(t.id),d(null))},{getRootProps:w,getInputProps:E,isDragActive:_}=Sd({onDrop:g,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},maxFiles:1,multiple:!1});return l.jsx("div",{children:a?l.jsx("div",{className:"mt-4",children:l.jsxs("div",{className:"bg-slate-50 p-4 rounded-md border border-slate-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),l.jsx("span",{className:"text-sm font-medium",children:t?t.file_name:(r==null?void 0:r.name)||"Reference Image"})]}),l.jsx("button",{type:"button",onClick:t?v:x,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),l.jsx("div",{className:"mt-2 flex justify-center",style:{height:"200px"},children:l.jsx("div",{className:"relative w-full h-full flex items-center justify-center overflow-hidden bg-slate-100 rounded-md",children:l.jsx("img",{src:a,alt:"Reference Image Preview",className:"rounded-md max-h-full max-w-full",style:{objectFit:"contain",objectPosition:"center"},onError:k=>{console.error("Error loading image:",k),k.target.src="/placeholder-image.png",k.target.onerror=null}})})})]})}):l.jsxs("div",{...w(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${_?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[l.jsx("input",{...E()}),_?l.jsx("p",{className:"text-primary-500",children:"Drop the image here..."}):l.jsxs("div",{children:[l.jsx("p",{className:"mb-2",children:"Drag & drop a reference image here, or click to select"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Accepted file types: JPEG, PNG (Max: 10MB)"})]})]})})};v2.propTypes={onImageSelect:se.func.isRequired,existingImage:se.object,onImageDelete:se.func};const y2=({isOpen:e,onClose:t,equipmentId:n,existingImage:r=null})=>{const[i,a]=M.useState(null),[d,g]=M.useState(!1),[x,v]=M.useState(""),w=Kn(),E=I=>{a(I)},_=Yn({mutationFn:async I=>OE(n,{},[],[],I.referenceImageFile,I.removeReferenceImage),onSuccess:()=>{w.invalidateQueries(["equipment",n]),t()},onError:I=>{var L,j;console.error("Error updating reference image:",I),v(((j=(L=I.response)==null?void 0:L.data)==null?void 0:j.message)||"Failed to update reference image"),g(!1)}}),k=I=>{if(I.preventDefault(),!i){v("Please select an image file");return}g(!0),v(""),_.mutate({referenceImageFile:i})},A=()=>{g(!0),v(""),_.mutate({referenceImageFile:null,removeReferenceImage:!0})};return e?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:l.jsx("div",{className:"absolute inset-0 bg-slate-500 opacity-75"})}),l.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),l.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:l.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:l.jsx("div",{className:"sm:flex sm:items-start",children:l.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[l.jsxs("h3",{className:"text-lg leading-6 font-medium text-slate-900 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Change Reference Image"]}),l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"This image will be displayed prominently on the equipment details page and in search results."}),l.jsxs("div",{className:"mt-4",children:[x&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:l.jsx("p",{className:"text-red-700",children:x})}),l.jsxs("form",{onSubmit:k,children:[l.jsx("div",{className:"mb-4",children:l.jsx(v2,{onImageSelect:E,existingImage:r})}),l.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[l.jsx($e,{type:"submit",variant:"primary",disabled:d||!i,className:"w-full sm:ml-3 sm:w-auto",children:d?"Saving...":"Save Changes"}),l.jsx($e,{type:"button",variant:"secondary",onClick:t,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"}),r&&l.jsx($e,{type:"button",variant:"danger",onClick:A,className:"mt-3 w-full sm:mt-0 sm:mr-auto sm:w-auto",children:"Remove Image"})]})]})]})]})})})})]})}):null};y2.propTypes={isOpen:se.bool.isRequired,onClose:se.func.isRequired,equipmentId:se.string.isRequired,existingImage:se.object};const Rg=({fileType:e,fileUrl:t,fileName:n,className:r="",style:i={},showFileName:a=!0,size:d="medium",interactive:g=!0,useThumbnail:x=!0})=>{const[v,w]=M.useState(!0),[E,_]=M.useState(null),[k,A]=M.useState(!1),I=()=>{switch(d){case"small":return"h-24";case"large":return"h-48";case"medium":default:return"h-32"}},L=()=>{console.log("Image loaded successfully"),w(!1)},j=()=>{console.error("Image failed to load completely"),w(!1),_("Failed to load image")};M.useEffect(()=>{if(v&&e==="image"){const Z=setTimeout(()=>{console.log("Loading timeout reached, resetting loading state"),w(!1)},5e3);return()=>clearTimeout(Z)}},[v,e]),M.useEffect(()=>{!t&&e==="image"&&(console.log("No file URL provided, showing error state"),w(!1),_("No image available"))},[t,e]);const D=()=>{g&&e==="image"&&A(!k)},R=()=>{switch(e){case"image":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"pdf":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},W=()=>{if(v&&e==="image")return l.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{className:"text-slate-400 text-xs",children:"Loading..."})]})});if(E)return l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-red-50",children:l.jsxs("div",{className:"flex flex-col items-center p-2",children:[l.jsx("svg",{className:"w-8 h-8 text-red-500 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),l.jsx("span",{className:"text-red-500 text-xs text-center",children:E})]})});switch(e){case"image":if(!t)return console.error("No file URL provided for image"),l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-100",children:l.jsxs("div",{className:"flex flex-col items-center p-2",children:[l.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),l.jsx("span",{className:"text-slate-400 text-xs text-center",children:"No image"})]})});const Z=new Date().getTime();let U=t;return U.includes("t=")||(U+=(U.includes("?")?"&":"?")+`t=${Z}`),l.jsx("div",{className:`w-full h-full flex items-center justify-center overflow-hidden ${g?"cursor-pointer":""}`,onClick:D,children:l.jsx("img",{src:U,alt:n||"Image preview",className:`max-h-full max-w-full object-contain transition-transform duration-300 ${k?"scale-150":""}`,onLoad:O=>{console.log("Image loaded successfully:",U),L()},onError:O=>{console.error("Image failed to load:",U);const V=O.target;if(t.includes("thumbnail=true")){console.log("Thumbnail failed to load, trying original image");const ee=`${t.split("?")[0]}?t=${new Date().getTime()}`;console.log("Trying with URL:",ee),V.src=ee}else{console.log("Original image failed to load, trying with new cache busting");const Y=t.includes("?")?`${t.split("?")[0]}?t=${new Date().getTime()}`:`${t}?t=${new Date().getTime()}`;console.log("Trying with URL:",Y),V.src=Y,V.dataset.retried?(console.error("Multiple load attempts failed, showing error"),j()):V.dataset.retried="true"}}},`img-${U}`)});case"audio":return l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:[l.jsx("div",{className:"mb-2",children:R()}),g?l.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[l.jsx("source",{src:t,type:"audio/mpeg"}),"Your browser does not support the audio element."]}):l.jsx("div",{className:"text-sm text-slate-500",children:"Audio file"})]});case"pdf":return l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[l.jsx("div",{className:"mb-2",children:R()}),g?l.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800 text-sm underline",children:"View PDF"}):l.jsx("div",{className:"text-sm text-slate-500",children:"PDF document"})]});default:return l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:R()})}};return l.jsxs("div",{className:`bg-slate-100 rounded-md overflow-hidden ${I()} ${r}`,style:i,children:[W(),a&&n&&l.jsx("div",{className:"bg-slate-800 bg-opacity-70 text-white text-xs py-1 px-2 absolute bottom-0 left-0 right-0 truncate",children:n})]})};Rg.propTypes={fileType:se.oneOf(["image","audio","pdf"]).isRequired,fileUrl:se.string.isRequired,fileName:se.string,className:se.string,style:se.object,showFileName:se.bool,size:se.oneOf(["small","medium","large"]),interactive:se.bool,useThumbnail:se.bool};const w2=({files:e=[],onFileDelete:t,canDelete:n=!1,showDownload:r=!0,layout:i="grid",size:a="medium"})=>{const[d,g]=M.useState(null),x=A=>{g(A)},v=()=>{g(null)},w=(A,I=!1,L=!1)=>{let j=`/api/files/${A}`;const D=[];return I&&D.push("download=true"),L&&D.push("thumbnail=true"),D.length>0&&(j+=`?${D.join("&")}`),j},E=()=>d?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:v,children:l.jsxs("div",{className:"bg-white rounded-lg overflow-hidden max-w-3xl w-full max-h-[90vh] flex flex-col",onClick:A=>A.stopPropagation(),children:[l.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium text-slate-900",children:d.file_name}),l.jsx("button",{type:"button",onClick:v,className:"text-slate-400 hover:text-slate-500",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center",children:d.file_type==="image"?l.jsx("img",{src:w(d.id),alt:d.file_name,className:"max-w-full max-h-[70vh] object-contain",onError:A=>{console.error("Error loading image in modal:",A),A.target.src=`${w(d.id)}?t=${new Date().getTime()}`}}):d.file_type==="audio"?l.jsxs("div",{className:"w-full max-w-md p-4",children:[l.jsx("div",{className:"mb-4 text-center",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})})}),l.jsxs("audio",{controls:!0,className:"w-full",children:[l.jsx("source",{src:w(d.id),type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):d.file_type==="pdf"?l.jsx("div",{className:"w-full h-[70vh]",children:l.jsx("iframe",{src:`${w(d.id)}#view=FitH`,title:d.file_name,className:"w-full h-full"})}):l.jsx("div",{className:"text-center p-4",children:l.jsx("p",{children:"This file type cannot be previewed."})})}),l.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end space-x-2",children:[l.jsx("a",{href:w(d.id,!0),download:!0,className:"btn btn-secondary",children:"Download"}),n&&l.jsx("button",{type:"button",onClick:()=>{t(d.id),v()},className:"btn btn-danger",children:"Delete"})]})]})}):null,_=()=>l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(A=>l.jsxs("div",{className:"relative group",children:[l.jsxs("div",{className:"cursor-pointer rounded-lg overflow-hidden border border-slate-200 bg-white shadow-sm hover:shadow-md transition-shadow",onClick:()=>x(A),children:[l.jsx(Rg,{fileType:A.file_type,fileUrl:w(A.id,!1,A.file_type==="image"),fileName:A.file_name,size:a,interactive:!1,useThumbnail:A.file_type==="image"}),l.jsxs("div",{className:"p-2",children:[l.jsx("p",{className:"text-sm font-medium truncate",title:A.file_name,children:A.file_name}),l.jsx("p",{className:"text-xs text-slate-500 capitalize",children:A.file_type})]})]}),l.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[r&&l.jsx("a",{href:w(A.id,!0),download:!0,onClick:I=>I.stopPropagation(),className:"bg-white p-1.5 rounded-full shadow-md text-primary-600 hover:text-primary-800",title:"Download file",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),n&&l.jsx("button",{type:"button",onClick:I=>{I.stopPropagation(),t(A.id)},className:"bg-white p-1.5 rounded-full shadow-md text-red-600 hover:text-red-800",title:"Delete file",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},A.id))}),k=()=>l.jsx("div",{className:"divide-y divide-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:e.map(A=>l.jsxs("div",{className:"flex items-center p-3 hover:bg-slate-50 cursor-pointer",onClick:()=>x(A),children:[l.jsx("div",{className:"flex-shrink-0 mr-3 w-12 h-12 relative",children:l.jsx(Rg,{fileType:A.file_type,fileUrl:w(A.id,!1,A.file_type==="image"),fileName:A.file_name,size:"small",showFileName:!1,interactive:!1,useThumbnail:A.file_type==="image"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",title:A.file_name,children:A.file_name}),l.jsx("p",{className:"text-xs text-slate-500 capitalize",children:A.file_type})]}),l.jsxs("div",{className:"flex space-x-2 ml-2",children:[r&&l.jsx("a",{href:w(A.id,!0),download:!0,onClick:I=>I.stopPropagation(),className:"text-primary-600 hover:text-primary-800 p-1.5",title:"Download file",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),n&&l.jsx("button",{type:"button",onClick:I=>{I.stopPropagation(),t(A.id)},className:"text-red-600 hover:text-red-800 p-1.5",title:"Delete file",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},A.id))});return e.length===0?l.jsx("p",{className:"text-slate-500 italic",children:"No files available"}):l.jsxs("div",{children:[i==="grid"?_():k(),E()]})};w2.propTypes={files:se.arrayOf(se.shape({id:se.number.isRequired,file_type:se.string.isRequired,file_name:se.string.isRequired})).isRequired,onFileDelete:se.func,canDelete:se.bool,showDownload:se.bool,layout:se.oneOf(["grid","list"]),size:se.oneOf(["small","medium","large"])};const KB=async(e,t,n)=>{try{const r=new FormData;for(const a of t)r.append("files",a);return(await dt.post(`/api/files/upload/${e}`,r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n?a=>{const d=Math.round(a.loaded*100/a.total);n(d)}:void 0})).data}catch(r){throw console.error("Error uploading files:",r),r}};let ZB={data:""},JB=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ZB,eU=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tU=/\/\*[^]*?\*\/|  +/g,l3=/\n+/g,Ya=(e,t)=>{let n="",r="",i="";for(let a in e){let d=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+d+";":r+=a[1]=="f"?Ya(d,a):a+"{"+Ya(d,a[1]=="k"?"":t)+"}":typeof d=="object"?r+=Ya(d,t?t.replace(/([^,])+/g,g=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,x=>/&/.test(x)?x.replace(/&/g,g):g?g+" "+x:x)):a):d!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ya.p?Ya.p(a,d):a+":"+d+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ta={},t5=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+t5(e[n]);return t}return e},nU=(e,t,n,r,i)=>{let a=t5(e),d=ta[a]||(ta[a]=(x=>{let v=0,w=11;for(;v<x.length;)w=101*w+x.charCodeAt(v++)>>>0;return"go"+w})(a));if(!ta[d]){let x=a!==e?e:(v=>{let w,E,_=[{}];for(;w=eU.exec(v.replace(tU,""));)w[4]?_.shift():w[3]?(E=w[3].replace(l3," ").trim(),_.unshift(_[0][E]=_[0][E]||{})):_[0][w[1]]=w[2].replace(l3," ").trim();return _[0]})(e);ta[d]=Ya(i?{["@keyframes "+d]:x}:x,n?"":"."+d)}let g=n&&ta.g?ta.g:null;return n&&(ta.g=ta[d]),((x,v,w,E)=>{E?v.data=v.data.replace(E,x):v.data.indexOf(x)===-1&&(v.data=w?x+v.data:v.data+x)})(ta[d],t,r,g),d},rU=(e,t,n)=>e.reduce((r,i,a)=>{let d=t[a];if(d&&d.call){let g=d(n),x=g&&g.props&&g.props.className||/^go/.test(g)&&g;d=x?"."+x:g&&typeof g=="object"?g.props?"":Ya(g,""):g===!1?"":g}return r+i+(d??"")},"");function cp(e){let t=this||{},n=e.call?e(t.p):e;return nU(n.unshift?n.raw?rU(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,JB(t.target),t.g,t.o,t.k)}let n5,Og,Mg;cp.bind({g:1});let wa=cp.bind({k:1});function sU(e,t,n,r){Ya.p=t,n5=e,Og=n,Mg=r}function yo(e,t){let n=this||{};return function(){let r=arguments;function i(a,d){let g=Object.assign({},a),x=g.className||i.className;n.p=Object.assign({theme:Og&&Og()},g),n.o=/ *go\d+/.test(x),g.className=cp.apply(n,r)+(x?" "+x:""),t&&(g.ref=d);let v=e;return e[0]&&(v=g.as||e,delete g.as),Mg&&v[0]&&Mg(g),n5(v,g)}return t?t(i):i}}var iU=e=>typeof e=="function",Lg=(e,t)=>iU(e)?e(t):e,aU=(()=>{let e=0;return()=>(++e).toString()})(),oU=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),lU=20,r5=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,lU)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return r5(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},cU=[],im={toasts:[],pausedAt:void 0},b2=e=>{im=r5(im,e),cU.forEach(t=>{t(im)})},uU=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||aU()}),Ad=e=>(t,n)=>{let r=uU(t,e,n);return b2({type:2,toast:r}),r.id},zr=(e,t)=>Ad("blank")(e,t);zr.error=Ad("error");zr.success=Ad("success");zr.loading=Ad("loading");zr.custom=Ad("custom");zr.dismiss=e=>{b2({type:3,toastId:e})};zr.remove=e=>b2({type:4,toastId:e});zr.promise=(e,t,n)=>{let r=zr.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Lg(t.success,i):void 0;return a?zr.success(a,{id:r,...n,...n==null?void 0:n.success}):zr.dismiss(r),i}).catch(i=>{let a=t.error?Lg(t.error,i):void 0;a?zr.error(a,{id:r,...n,...n==null?void 0:n.error}):zr.dismiss(r)}),e};var dU=wa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,fU=wa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hU=wa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,pU=yo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${fU} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${hU} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,mU=wa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,gU=yo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${mU} 1s linear infinite;
`,xU=wa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,vU=wa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yU=yo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${vU} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wU=yo("div")`
  position: absolute;
`,bU=yo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CU=wa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,EU=yo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CU} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,NU=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?M.createElement(EU,null,t):t:n==="blank"?null:M.createElement(bU,null,M.createElement(gU,{...r}),n!=="loading"&&M.createElement(wU,null,n==="error"?M.createElement(pU,{...r}):M.createElement(yU,{...r})))},_U=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,SU=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,AU="0%{opacity:0;} 100%{opacity:1;}",kU="0%{opacity:1;} 100%{opacity:0;}",TU=yo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,DU=yo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jU=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=oU()?[AU,kU]:[_U(n),SU(n)];return{animation:t?`${wa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};M.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?jU(e.position||t||"top-center",e.visible):{opacity:0},a=M.createElement(NU,{toast:e}),d=M.createElement(DU,{...e.ariaProps},Lg(e.message,e));return M.createElement(TU,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:d}):M.createElement(M.Fragment,null,a,d))});sU(M.createElement);cp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const C2=({equipmentId:e,isOpen:t,onClose:n,onSuccess:r})=>{const[i,a]=M.useState([]),[d,g]=M.useState(!1),[x,v]=M.useState(0),[w,E]=M.useState([]),_=50*1024*1024,k=5,A=M.useCallback((U,O)=>{a(Y=>[...Y,...U]);const V=O.map(Y=>Y.file.size>_?`${Y.file.name} is too large. Maximum file size is 50MB.`:`${Y.file.name} is not a supported file type.`);V.length>0&&E(Y=>[...Y,...V])},[]),{getRootProps:I,getInputProps:L,isDragActive:j}=Sd({onDrop:A,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:k,maxSize:_}),D=U=>{a(O=>O.filter((V,Y)=>Y!==U))},R=()=>{a([]),E([])},W=U=>{switch(U){case"image/jpeg":case"image/png":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},Z=async()=>{if(i.length===0){zr.error("Please select at least one file to upload");return}g(!0),v(0);try{const U=await KB(e,i,O=>v(O));zr.success(`Successfully uploaded ${U.files.length} files`),a([]),E([]),r&&r(U.files),n()}catch(U){console.error("Error uploading files:",U),zr.error("Failed to upload files. Please try again.")}finally{g(!1)}};return t?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:l.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[l.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:l.jsx("div",{className:"sm:flex sm:items-start",children:l.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Upload Documents"}),l.jsxs("div",{...I(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer mb-4 ${j?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[l.jsx("input",{...L()}),j?l.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):l.jsxs("div",{children:[l.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",k," files, ",Math.round(_/(1024*1024)),"MB each)"]})]})]}),w.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm font-medium text-red-500 mb-1",children:"Errors:"}),l.jsx("ul",{className:"text-sm text-red-500 list-disc pl-5",children:w.map((U,O)=>l.jsx("li",{children:U},O))})]}),i.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Selected Files:"}),l.jsx("button",{type:"button",onClick:R,className:"text-sm text-red-500 hover:text-red-700",children:"Clear All"})]}),l.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-md overflow-hidden",children:i.map((U,O)=>l.jsxs("li",{className:"flex items-center justify-between p-3 hover:bg-slate-50",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"mr-2",children:W(U.type)}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium truncate max-w-xs",title:U.name,children:U.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:[(U.size/1024).toFixed(1)," KB"]})]})]}),l.jsx("button",{type:"button",onClick:()=>D(O),className:"text-red-500 hover:text-red-700",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},O))})]}),d&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${x}%`}})}),l.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",x,"%"]})]})]})})}),l.jsxs("div",{className:"bg-slate-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[l.jsx($e,{variant:"primary",size:"sm",onClick:Z,disabled:d||i.length===0,className:"w-full sm:w-auto sm:ml-3",children:d?"Uploading...":"Upload"}),l.jsx($e,{variant:"outline",size:"sm",onClick:n,disabled:d,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"})]})]})]})}):null};C2.propTypes={equipmentId:se.number.isRequired,isOpen:se.bool.isRequired,onClose:se.func.isRequired,onSuccess:se.func};const c3=(e,t=!1)=>`/api/files/${e}${t?"?thumbnail=true":""}`,IU=()=>{var ie;const{id:e}=jC(),t=fi(),n=Kn(),{user:r}=ar(),[i,a]=M.useState(!1),[d,g]=M.useState(!1),[x,v]=M.useState(!1),[w,E]=M.useState("details"),[_,k]=M.useState("grid"),{data:A,isLoading:I,isError:L,error:j}=Et({queryKey:["equipment",e],queryFn:()=>Jh(e)}),D=Yn({mutationFn:()=>qR(e),onSuccess:()=>{n.invalidateQueries(["equipment"]),t("/equipment")}}),R=()=>{t(`/equipment/${e}/edit`)},W=le=>{n.invalidateQueries(["equipment",e]),ot.success(`Successfully uploaded ${le.length} file(s)`)},Z=()=>{a(!0)},U=()=>{D.mutate(),a(!1)},O=()=>{a(!1)},V=()=>{t("/equipment")};if(I)return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(L)return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:l.jsx("p",{children:(j==null?void 0:j.message)||"Failed to load equipment details"})}),l.jsx("div",{className:"mt-4",children:l.jsx($e,{variant:"outline",size:"sm",onClick:V,children:"Back to Equipment List"})})]})]})})]});const Y=le=>{switch(le){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";case"unavailable":return"secondary";case"broken":return"danger";default:return"secondary"}},ee=A.reference_image_id?parseInt(A.reference_image_id):null,de=(ie=A.files)==null?void 0:ie.find(le=>le.id===ee);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"}),l.jsxs("p",{className:"text-slate-500 text-sm",children:[A.brand," ",A.model," • ",A.serial_number]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs($e,{variant:"outline",onClick:V,className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to List"]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&l.jsxs($e,{variant:"primary",onClick:R,className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(r==null?void 0:r.role)==="admin"&&l.jsxs($e,{variant:"danger",onClick:Z,className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"flex -mb-px",children:[l.jsxs("button",{type:"button",onClick:()=>E("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),l.jsxs("button",{type:"button",onClick:()=>E("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]}),l.jsxs("button",{type:"button",onClick:()=>E("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]})]})}),l.jsxs("div",{className:"p-6",children:[w==="details"&&l.jsx("div",{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:l.jsx("div",{className:"md:col-span-1",children:l.jsxs(ut,{className:"h-full",children:[l.jsx(ut.Header,{className:"bg-slate-50",children:l.jsxs(ut.Title,{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),l.jsxs(ut.Body,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Category"}),l.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.category||"Not specified"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Type"}),l.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.type})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Brand"}),l.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.brand})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Model"}),l.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.model})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Serial Number"}),l.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.serial_number})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Status"}),l.jsx("div",{className:"mt-1",children:A.status&&l.jsx(vs,{variant:Y(A.status),size:"md",children:A.status.charAt(0).toUpperCase()+A.status.slice(1).replace("-"," ")})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Quantity"}),l.jsxs("p",{className:"mt-1 text-base font-medium text-slate-900",children:[A.quantity||1," item",(A.quantity||1)!==1?"s":""]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Location"}),l.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.location||"Not specified"})]})]}),A.description&&l.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),l.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Description"})]}),l.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:l.jsx("p",{className:"text-base text-slate-800 whitespace-pre-line",children:A.description})})]})]})]})})})}),w==="documents"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&l.jsxs($e,{variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>v(!0),children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),A.files&&A.files.filter(le=>!de||le.id!==de.id).length>0?l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[A.files.filter(le=>!de||le.id!==de.id).length,A.files.filter(le=>!de||le.id!==de.id).length===1?" file":" files"," attached"]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("grid"),children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),l.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("list"),children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]}),l.jsx(w2,{files:A.files.filter(le=>!de||le.id!==de.id),layout:_,size:"medium",showDownload:!0,canDelete:!1})]}):l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&l.jsx("div",{className:"mt-4",children:l.jsxs($e,{variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>v(!0),children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),w==="history"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[l.jsxs("div",{className:"mb-4 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),l.jsx(JN,{equipmentId:e})]})]})]})]})}),l.jsx("div",{className:"md:col-span-1",children:l.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),l.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:de?l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"relative pb-4",children:[l.jsx("img",{src:c3(de.id,!0),alt:`${A.brand} ${A.model}`,className:"w-full h-auto object-contain rounded-md",onError:le=>{console.error("Error loading thumbnail, falling back to original image"),le.target.src=c3(de.id),le.target.onerror=null}}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&l.jsx("button",{onClick:()=>g(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),l.jsx("div",{className:"text-sm text-gray-500 text-center",children:de.file_name})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&l.jsxs("button",{onClick:()=>g(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[l.jsx("div",{className:"md:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[l.jsx("div",{className:"p-4 border-b border-slate-200",children:l.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info"]})}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.category||"Not specified"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.type})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),l.jsx("div",{children:A.status&&l.jsx(vs,{variant:Y(A.status),size:"md",children:A.status.charAt(0).toUpperCase()+A.status.slice(1).replace("-"," ")})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Quantity"})]}),l.jsxs("p",{className:"text-sm font-medium text-slate-800",children:[A.quantity||1," item",(A.quantity||1)!==1?"s":""]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.location||"Not specified"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.serial_number})]})]})]})}),l.jsx("div",{className:"md:col-span-1",children:l.jsxs(ut,{className:"h-full",children:[l.jsx(ut.Header,{className:"bg-slate-50",children:l.jsxs(ut.Title,{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),l.jsx(ut.Body,{children:l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:A.created_by||"Unknown"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:A.created_at?new Date(A.created_at).toLocaleString():"Unknown"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:A.updated_at?new Date(A.updated_at).toLocaleString():"Never"})]})]}),A.locationDetails&&l.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[l.jsxs("h4",{className:"text-sm font-medium text-slate-700 mb-3 flex items-center",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Location Details"]}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-sm",children:[l.jsx("p",{className:"font-medium text-slate-800",children:A.locationDetails.name}),A.locationDetails.street&&l.jsx("p",{className:"text-slate-600 mt-1",children:A.locationDetails.street}),(A.locationDetails.postal_code||A.locationDetails.city)&&l.jsxs("p",{className:"text-slate-600",children:[A.locationDetails.postal_code&&`${A.locationDetails.postal_code} `,A.locationDetails.city]}),(A.locationDetails.region||A.locationDetails.country)&&l.jsxs("p",{className:"text-slate-600",children:[A.locationDetails.region&&`${A.locationDetails.region}, `,A.locationDetails.country]})]})]})]})})]})})]}),i&&l.jsx(e5,{isOpen:i,title:"Delete Equipment",message:"Are you sure you want to delete this equipment? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:U,onCancel:O,isDestructive:!0}),l.jsx(y2,{isOpen:d,onClose:()=>g(!1),equipmentId:e,existingImage:de}),l.jsx(C2,{equipmentId:parseInt(e),isOpen:x,onClose:()=>v(!1),onSuccess:W})]})},u3=(e,t=!1)=>`/api/files/${e}${t?"?thumbnail=true":""}`,RU=()=>{var Oe,Ye,Je;const{id:e}=jC(),t=fi(),n=Kn();ar();const[r,i]=M.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:"",quantity:1}),[a,d]=M.useState([]),[g,x]=M.useState([]);M.useState(0);const[v,w]=M.useState(""),[E,_]=M.useState(!1),[k,A]=M.useState(!1),[I,L]=M.useState("details"),[j,D]=M.useState("grid"),{data:R}=Et({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),{data:W}=Et({queryKey:["categories"],queryFn:ml,staleTime:3e5}),{data:Z}=Et({queryKey:["locations"],queryFn:vo,staleTime:3e5}),U=["available","in-use","maintenance","unavailable","broken"],{data:O,isLoading:V,isError:Y,error:ee}=Et({queryKey:["equipment",e],queryFn:()=>Jh(e),onSuccess:ke=>{console.log("Equipment data loaded:",ke),console.log("Location ID:",ke.location_id,typeof ke.location_id),i({type_id:ke.type_id?ke.type_id.toString():"",category_id:ke.category_id?ke.category_id.toString():"",category:ke.category||"",brand:ke.brand||"",model:ke.model||"",serial_number:ke.serial_number||"",status:ke.status||"available",location:ke.location||"",location_id:ke.location_id?ke.location_id.toString():"",description:ke.description||"",reference_image_id:ke.reference_image_id?ke.reference_image_id.toString():"",quantity:ke.quantity||1}),ke.locationDetails&&console.log("Location details:",ke.locationDetails)}}),de=Yn({mutationFn:async ke=>{const Xe=Object.fromEntries(Object.entries(ke.equipment).filter(([st,_e])=>_e!=null));return OE(e,Xe,ke.filesToUpload,ke.filesToDelete)},onSuccess:()=>{n.invalidateQueries(["equipment"]),t(`/equipment/${e}`)},onError:ke=>{var Xe,st;console.error("Error updating equipment:",ke),w(((st=(Xe=ke.response)==null?void 0:Xe.data)==null?void 0:st.message)||"Failed to update equipment")}}),ie=ke=>{const{name:Xe,value:st}=ke.target;let _e={...r,[Xe]:st};if(Xe==="category_id"&&st&&(W!=null&&W.categories)){const Ct=W.categories.find(lt=>lt.id.toString()===st);Ct&&(console.log("Selected category:",Ct),_e={..._e,category_id:st,category:Ct.name})}if(Xe==="location_id"&&st){const Ct=Z==null?void 0:Z.locations.find(lt=>lt.id.toString()===st);Ct&&(console.log("Selected location:",Ct),_e={..._e,location_id:st,location:Ct.name},Ct.name.toLowerCase()==="lager"?(_e.status="available",console.log('Setting status to "available" because location is Lager')):_e.status==="available"&&(_e.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${Ct.name})`)))}else Xe==="location"&&st&&(_e={..._e,location:st,location_id:""},st.toLowerCase()==="lager"?(_e.status="available",console.log('Setting status to "available" because custom location is Lager')):_e.status==="available"&&(_e.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${st})`)));if(Xe==="quantity"){const Ct=parseInt(st)||1;_e.quantity=Math.max(1,Ct),console.log(`Setting quantity to: ${_e.quantity}`)}else Xe==="status"&&(console.log(`User manually changed status to: ${st}`),(r.location||"").toLowerCase()==="lager"&&st!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),_e.status="available"));i(_e)},le=ke=>{r.reference_image_id===ke.toString()&&i({...r,reference_image_id:""}),x(Xe=>[...Xe,ke])},Te=ke=>{if(ke.preventDefault(),!r.type_id||!r.brand||!r.model||!r.serial_number){w("Type, brand, model, and serial number are required");return}const Xe=a.find((lt,on)=>r.reference_image_id==="new"),st=Xe?a.filter(lt=>lt!==Xe):a,_e=r.reference_image_id==="",Ct={...r,quantity:parseInt(r.quantity)||1,type_id:r.type_id?parseInt(r.type_id):null,category_id:r.category_id?parseInt(r.category_id):null,location_id:r.location_id?parseInt(r.location_id):null,reference_image_id:r.reference_image_id==="new"?"new":r.reference_image_id};console.log("Submitting equipment data:",Ct),de.mutate({equipment:Ct,filesToUpload:st,filesToDelete:g,referenceImageFile:Xe||null,removeReferenceImage:_e})},ne=()=>{t(`/equipment/${e}`)},Se=ke=>{switch(ke){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";case"unavailable":return"secondary";case"broken":return"danger";default:return"secondary"}},we=ke=>{n.invalidateQueries(["equipment",e]),ot.success(`Successfully uploaded ${ke.length} file(s)`)};if(V)return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(Y)return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:l.jsx("p",{children:(ee==null?void 0:ee.message)||"Failed to load equipment details"})}),l.jsx("div",{className:"mt-4",children:l.jsx($e,{variant:"outline",size:"sm",onClick:ne,children:"Back to Details"})})]})]})})]});const ce=O!=null&&O.reference_image_id?parseInt(O.reference_image_id):null,ve=(Oe=O==null?void 0:O.files)==null?void 0:Oe.find(ke=>ke.id===ce);return l.jsxs("form",{onSubmit:Te,className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"}),l.jsxs("p",{className:"text-slate-500 text-sm",children:[r.brand," ",r.model," • ",r.serial_number]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs($e,{type:"button",variant:"outline",onClick:ne,className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Details"]}),l.jsxs($e,{type:"submit",variant:"primary",disabled:de.isLoading,className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),de.isLoading?"Saving...":"Save Changes"]})]})]}),v&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:l.jsx("p",{className:"text-red-700",children:v})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"flex -mb-px",children:[l.jsxs("button",{type:"button",onClick:()=>L("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${I==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${I==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),l.jsxs("button",{type:"button",onClick:()=>L("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${I==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${I==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]}),l.jsxs("button",{type:"button",onClick:()=>L("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${I==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${I==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]})]})}),l.jsxs("div",{className:"p-6",children:[I==="details"&&l.jsx("div",{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:l.jsx("div",{className:"md:col-span-1",children:l.jsxs(ut,{className:"h-full",children:[l.jsx(ut.Header,{className:"bg-slate-50",children:l.jsxs(ut.Title,{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),l.jsxs(ut.Body,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{children:l.jsx(ws,{id:"category_id",name:"category_id",label:"Category",value:r.category_id||"",onChange:ie,options:[{value:"",label:"Select Category"},...((W==null?void 0:W.categories)||[]).map(ke=>({value:ke.id.toString(),label:ke.name}))]})}),l.jsx("div",{children:l.jsx(ws,{id:"type_id",name:"type_id",label:"Type",value:r.type_id||"",onChange:ie,options:[{value:"",label:"Select Type"},...((R==null?void 0:R.types)||[]).map(ke=>({value:ke.id.toString(),label:ke.name}))],required:!0})}),l.jsx("div",{children:l.jsx(Mt,{id:"brand",name:"brand",label:"Brand",value:r.brand,onChange:ie,placeholder:"Enter brand",required:!0})}),l.jsx("div",{children:l.jsx(Mt,{id:"model",name:"model",label:"Model",value:r.model,onChange:ie,placeholder:"Enter model",required:!0})}),l.jsx("div",{children:l.jsx(Mt,{id:"serial_number",name:"serial_number",label:"Serial Number",value:r.serial_number,onChange:ie,placeholder:"Enter serial number",required:!0})}),l.jsx("div",{children:l.jsx(ws,{id:"status",name:"status",label:"Status",value:r.status,onChange:ie,options:U.map(ke=>({value:ke,label:ke.charAt(0).toUpperCase()+ke.slice(1).replace("-"," ")})),required:!0})}),l.jsx("div",{children:l.jsx(Mt,{id:"quantity",name:"quantity",label:"Quantity",type:"number",min:"1",value:r.quantity||1,onChange:ie,placeholder:"Enter quantity",required:!0,helpText:"Number of items (minimum: 1)"})}),l.jsxs("div",{children:[l.jsx(ws,{id:"location_id",name:"location_id",label:"Location",value:r.location_id?r.location_id.toString():"",onChange:ie,options:[{value:"",label:"Select Location"},...((Z==null?void 0:Z.locations)||[]).map(ke=>{let Xe=ke.name;const st=[];return ke.city&&st.push(ke.city),ke.region&&st.push(ke.region),ke.country&&st.push(ke.country),st.length>0&&(Xe+=` (${st.join(", ")})`),{value:ke.id.toString(),label:Xe}})]}),l.jsx("div",{className:"mt-2",children:l.jsx(Mt,{id:"location",name:"location",label:"Custom Location (if not in list)",value:r.location||"",onChange:ie,placeholder:"Enter custom location"})})]})]}),l.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),l.jsx("label",{htmlFor:"description",className:"text-sm font-medium text-slate-700",children:"Description"})]}),l.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:ie,rows:"4",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]})]})]})})})}),I==="documents"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),l.jsxs($e,{type:"button",variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>A(!0),children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),O!=null&&O.files&&O.files.filter(ke=>!ve||ke.id!==ve.id).length>0?l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[O.files.filter(ke=>!ve||ke.id!==ve.id).length,O.files.filter(ke=>!ve||ke.id!==ve.id).length===1?" file":" files"," attached"]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{type:"button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${j==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>D("grid"),children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),l.jsx("button",{type:"button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${j==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>D("list"),children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]}),l.jsx(w2,{files:O.files.filter(ke=>!ve||ke.id!==ve.id),layout:j,size:"medium",showDownload:!0,canDelete:!0,onDelete:le})]}):l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),l.jsx("div",{className:"mt-4",children:l.jsxs($e,{type:"button",variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>A(!0),children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),I==="history"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[l.jsxs("div",{className:"mb-4 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),l.jsx(JN,{equipmentId:e})]})]})]})]})}),l.jsx("div",{className:"md:col-span-1",children:l.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),l.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:ve?l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"relative pb-4",children:[l.jsx("img",{src:u3(ve.id,!0),alt:`${r.brand} ${r.model}`,className:"w-full h-auto object-contain rounded-md",onError:ke=>{console.error("Error loading thumbnail, falling back to original image"),ke.target.src=u3(ve.id),ke.target.onerror=null}}),l.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),l.jsx("div",{className:"text-sm text-gray-500 text-center",children:ve.file_name})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),l.jsxs("button",{type:"button",onClick:()=>_(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[l.jsx("div",{className:"md:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[l.jsx("div",{className:"p-4 border-b border-slate-200",children:l.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info Preview"]})}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.category||"Not specified"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:((Je=(Ye=R==null?void 0:R.types)==null?void 0:Ye.find(ke=>ke.id.toString()===r.type_id))==null?void 0:Je.name)||"Not specified"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),l.jsx("div",{children:r.status&&l.jsx(vs,{variant:Se(r.status),size:"md",children:r.status.charAt(0).toUpperCase()+r.status.slice(1).replace("-"," ")})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Quantity"})]}),l.jsxs("p",{className:"text-sm font-medium text-slate-800",children:[r.quantity||1," item",(r.quantity||1)!==1?"s":""]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.location||"Not specified"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.serial_number})]})]})]})}),l.jsx("div",{className:"md:col-span-1",children:l.jsxs(ut,{className:"h-full",children:[l.jsx(ut.Header,{className:"bg-slate-50",children:l.jsxs(ut.Title,{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),l.jsx(ut.Body,{children:l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:(O==null?void 0:O.created_by)||"Unknown"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:O!=null&&O.created_at?new Date(O.created_at).toLocaleString():"Unknown"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:O!=null&&O.updated_at?new Date(O.updated_at).toLocaleString():"Never"})]})]})]})})]})})]}),l.jsx(y2,{isOpen:E,onClose:()=>_(!1),equipmentId:e,existingImage:ve}),l.jsx(C2,{equipmentId:parseInt(e),isOpen:k,onClose:()=>A(!1),onSuccess:we})]})},OU=({onFileSelect:e,uploadProgress:t=0,existingFiles:n=[],onFileDelete:r,multiple:i=!1,maxFiles:a=5,maxFileSize:d=50*1024*1024})=>{const[g,x]=M.useState([]),[v,w]=M.useState({}),[E,_]=M.useState([]);M.useEffect(()=>{Object.values(v).forEach(O=>{O&&O.startsWith("blob:")&&URL.revokeObjectURL(O)});const U={};return g.forEach((O,V)=>{O.type.startsWith("image/")&&(U[`new-${V}`]=URL.createObjectURL(O))}),n.forEach(O=>{O.file_type==="image"&&(U[`existing-${O.id}`]=`/api/files/${O.id}`)}),w(U),()=>{Object.values(U).forEach(O=>{O&&O.startsWith("blob:")&&URL.revokeObjectURL(O)})}},[g,n]);const k=U=>{const O=[],V=[];return U.forEach(Y=>{if(Y.size>d){O.push(`${Y.name} exceeds the maximum file size of ${Math.round(d/(1024*1024))}MB`);return}if(!["image/jpeg","image/png","audio/mpeg","application/pdf"].includes(Y.type)){O.push(`${Y.name} has an unsupported file type. Only JPEG, PNG, MP3, and PDF files are allowed.`);return}V.push(Y)}),{validFiles:V,errors:O}},A=M.useCallback((U,O)=>{if(O&&O.length>0){const ee=O.map(de=>`${de.file.name}: ${de.errors.map(ie=>ie.message).join(", ")}`);_(ee)}else _([]);const{validFiles:V,errors:Y}=k(U);if(Y.length>0&&_(ee=>[...ee,...Y]),i&&g.length+V.length>a){_(de=>[...de,`You can only upload a maximum of ${a} files.`]);const ee=a-g.length;if(ee>0){const de=V.slice(0,ee);x(ie=>[...ie,...de]),e(de)}}else x(i?ee=>[...ee,...V]:V),e(V)},[e,g,i,a,d]),I=U=>{const O=[...g];O.splice(U,1),x(O),e(i?O:O.length>0?[O[0]]:[]),_([])},L=U=>{if(r){console.log(`FileUpload: Deleting file with ID ${U}`);try{r(U)}catch(O){console.error(`Error deleting file with ID ${U}:`,O)}}else console.warn(`FileUpload: No onFileDelete handler provided for file ID ${U}`)},{getRootProps:j,getInputProps:D,isDragActive:R,fileRejections:W}=Sd({onDrop:A,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:i?a:1,multiple:i,maxSize:d}),Z=U=>{switch(U){case"image/jpeg":case"image/png":case"image":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":case"audio":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":case"pdf":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}};return l.jsxs("div",{children:[l.jsxs("div",{...j(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${R?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[l.jsx("input",{...D()}),R?l.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):l.jsxs("div",{children:[l.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",a," files, ",Math.round(d/(1024*1024)),"MB each)"]})]})]}),E.length>0&&l.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"File validation errors:"}),l.jsx("ul",{className:"list-disc pl-5 text-xs text-red-700",children:E.map((U,O)=>l.jsx("li",{children:U},O))})]}),g.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Files to upload:"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:g.map((U,O)=>l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[U.type.startsWith("image/")?l.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:v[`new-${O}`]?l.jsx("img",{src:v[`new-${O}`],alt:U.name,className:"max-h-full max-w-full object-contain"}):l.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):l.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:l.jsx("div",{className:"text-4xl",children:Z(U.type)})}),l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",title:U.name,children:U.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:[(U.size/(1024*1024)).toFixed(2)," MB"]})]}),l.jsx("button",{type:"button",onClick:()=>I(O),className:"ml-2 text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Remove ${U.name}`,children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})]},O))})]}),n.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Existing files:"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:n.map(U=>l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[U.file_type==="image"?l.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:v[`existing-${U.id}`]?l.jsx("img",{src:v[`existing-${U.id}`],alt:U.file_name,className:"max-h-full max-w-full object-contain"}):l.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):U.file_type==="audio"?l.jsxs("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex flex-col items-center justify-center p-2",children:[l.jsx("div",{className:"text-4xl mb-2",children:Z(U.file_type)}),l.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[l.jsx("source",{src:`/api/files/${U.id}`,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):l.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:l.jsx("div",{className:"text-4xl",children:Z(U.file_type)})}),l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",title:U.file_name,children:U.file_name}),l.jsx("p",{className:"text-xs text-slate-500 capitalize",children:U.file_type})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("a",{href:`/api/files/${U.id}?download=true`,download:!0,className:"text-primary-600 hover:text-primary-800 p-1 rounded-full hover:bg-primary-50","aria-label":`Download ${U.file_name}`,onClick:O=>{O.stopPropagation(),console.log(`Downloading file: ${U.id}`)},children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),r&&l.jsx("button",{type:"button",onClick:O=>{O.stopPropagation(),console.log(`Deleting file: ${U.id}`),L(U.id)},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Delete ${U.file_name}`,children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})]},U.id))})]}),t>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${t}%`}})}),l.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",t,"%"]})]})]})},s5=({formData:e,equipmentTypes:t,categoriesData:n,statusOptions:r,handleInputChange:i,handleFileChange:a,handleSubmit:d,handleCancel:g,isLoading:x,error:v,isEditing:w=!1,files:E=[],uploadProgress:_=0,existingFiles:k=[],handleFileDelete:A,handleSetReferenceImage:I})=>{const[L,j]=M.useState(null),[D,R]=M.useState(null),{data:W}=Et(["locations"],vo,{staleTime:3e5});M.useEffect(()=>{if(k&&k.length>0&&e.reference_image_id){const O=k.find(V=>V.id.toString()===e.reference_image_id);if(O){j(O);return}}j(null)},[k,e.reference_image_id]);const Z=O=>{R(O),i(O?{target:{name:"reference_image_id",value:"new"}}:{target:{name:"reference_image_id",value:""}})},U=O=>{j(null),i({target:{name:"reference_image_id",value:""}}),A&&A(O)};return l.jsxs(ut,{children:[v&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 m-6 mt-0",children:l.jsx("p",{className:"text-red-700",children:v})}),l.jsxs("form",{onSubmit:d,children:[l.jsxs(ut.Body,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(ws,{id:"category_id",name:"category_id",label:"Category",value:e.category_id||"",onChange:i,options:[{value:"",label:"Select Category"},...(n||[]).map(O=>({value:O.id.toString(),label:O.name}))]}),l.jsx(ws,{id:"type_id",name:"type_id",label:"Type",value:e.type_id||"",onChange:i,options:[{value:"",label:"Select Type"},...t.map(O=>({value:O.id.toString(),label:O.name}))],required:!0}),l.jsx(Mt,{id:"brand",name:"brand",label:"Brand",value:e.brand,onChange:i,placeholder:"Enter brand",required:!0}),l.jsx(Mt,{id:"model",name:"model",label:"Model",value:e.model,onChange:i,placeholder:"Enter model",required:!0}),l.jsx(cN,{id:"serial_number",name:"serial_number",label:"Serial Number",value:e.serial_number,onChange:i,placeholder:"Enter serial number",required:!0,onScan:O=>{i({target:{name:"serial_number",value:O}})}}),l.jsx(ws,{id:"status",name:"status",label:"Status",value:e.status,onChange:i,options:r.map(O=>({value:O,label:O.charAt(0).toUpperCase()+O.slice(1).replace("-"," ")})),required:!0}),l.jsx(Mt,{id:"quantity",name:"quantity",label:"Quantity",type:"number",min:"1",value:e.quantity||1,onChange:i,placeholder:"Enter quantity",required:!0,helpText:"Number of items (minimum: 1)"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ws,{id:"location_id",name:"location_id",label:"Location",value:e.location_id?e.location_id.toString():"",onChange:i,options:[{value:"",label:"Select Location"},...((W==null?void 0:W.locations)||[]).map(O=>{let V=O.name;const Y=[];return O.city&&Y.push(O.city),O.region&&Y.push(O.region),O.country&&Y.push(O.country),Y.length>0&&(V+=` (${Y.join(", ")})`),{value:O.id.toString(),label:V}})]}),l.jsx(Mt,{id:"location",name:"location",label:"Custom Location (if not in list)",value:e.location||"",onChange:i,placeholder:"Enter custom location"})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),l.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:i,rows:"4",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]}),l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-100 rounded-lg",children:[l.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]}),l.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Upload a ",l.jsx("strong",{children:"single reference image"})," that best represents this equipment. This image will be displayed prominently on the equipment details page and in search results."]}),l.jsx(v2,{onImageSelect:Z,existingImage:L,onImageDelete:U})]}),l.jsxs("div",{className:"mt-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[l.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Documents & Attachments"]}),l.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Upload additional documents and images related to this equipment (manuals, invoices, additional photos, etc.). These will be shown in the Documents tab."}),l.jsx(OU,{onFileSelect:a,uploadProgress:_,existingFiles:k,onFileDelete:A,multiple:!0,maxFiles:5})]})]}),l.jsxs(ut.Footer,{className:"flex justify-end space-x-3",children:[l.jsx($e,{type:"button",variant:"secondary",onClick:g,children:"Cancel"}),l.jsx($e,{type:"submit",variant:"primary",disabled:x,children:x?"Saving...":w?"Save Changes":"Create Equipment"})]})]})]})};s5.propTypes={formData:se.object.isRequired,equipmentTypes:se.array.isRequired,categoriesData:se.array,statusOptions:se.array.isRequired,locationsData:se.object,handleInputChange:se.func.isRequired,handleFileChange:se.func.isRequired,handleSubmit:se.func.isRequired,handleCancel:se.func.isRequired,isLoading:se.bool,error:se.string,isEditing:se.bool,files:se.array,uploadProgress:se.number,existingFiles:se.array,handleFileDelete:se.func,handleSetReferenceImage:se.func};const MU=()=>{const e=fi(),t=Kn(),{user:n}=ar(),[r,i]=M.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:"",quantity:1}),[a,d]=M.useState([]),[g,x]=M.useState(""),[v,w]=M.useState(0),{data:E}=Et({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),{data:_}=Et({queryKey:["categories"],queryFn:ml,staleTime:3e5}),{data:k}=Et({queryKey:["locations"],queryFn:vo,staleTime:3e5}),A=["available","in-use","maintenance","unavailable","broken"],I=Yn({mutationFn:async U=>$x(U.equipment,U.files),onSuccess:()=>{t.invalidateQueries(["equipment"]),e("/equipment")},onError:U=>{var O,V;console.error("Error creating equipment:",U),x(((V=(O=U.response)==null?void 0:O.data)==null?void 0:V.message)||"Failed to create equipment")}}),L=U=>{const{name:O,value:V}=U.target;let Y={...r,[O]:V};if(O==="category_id"&&V&&(_!=null&&_.categories)){const ee=_.categories.find(de=>de.id.toString()===V);ee&&(console.log("Selected category:",ee),Y={...Y,category_id:V,category:ee.name})}else if(O==="location_id"&&V){const ee=k==null?void 0:k.locations.find(de=>de.id.toString()===V);ee&&(console.log("Selected location:",ee),Y={...Y,location_id:V,location:ee.name},ee.name.toLowerCase()==="lager"?(Y.status="available",console.log('Setting status to "available" because location is Lager')):Y.status==="available"&&(Y.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${ee.name})`)))}else if(O==="location"&&V)Y={...Y,location:V,location_id:""},V.toLowerCase()==="lager"?(Y.status="available",console.log('Setting status to "available" because custom location is Lager')):Y.status==="available"&&(Y.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${V})`));else if(O==="quantity"){const ee=parseInt(V)||1;Y.quantity=Math.max(1,ee),console.log(`Setting quantity to: ${Y.quantity}`)}else O==="status"&&(console.log(`User manually changed status to: ${V}`),(r.location||"").toLowerCase()==="lager"&&V!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),Y.status="available"));i(Y)},j=U=>{d(U)},D=U=>{i({...r,reference_image_id:U.toString()})},R=U=>{const O=[...a];r.reference_image_id===U.toString()&&i({...r,reference_image_id:""}),O.splice(U,1),d(O)},W=U=>{if(U.preventDefault(),!r.type_id||!r.brand||!r.model||!r.serial_number){x("Type, brand, model, and serial number are required");return}const O=r.reference_image_id==="new"&&a.length>0?a.find((Y,ee)=>ee===0):null,V=O?a.filter(Y=>Y!==O):a;I.mutate({equipment:{...r,reference_image_id:r.reference_image_id==="new"?"new":r.reference_image_id},files:V,referenceImageFile:O})},Z=()=>{e("/equipment")};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Add New Equipment"})}),l.jsx(s5,{formData:r,equipmentTypes:(E==null?void 0:E.types)||[],categoriesData:(_==null?void 0:_.categories)||[],statusOptions:A,locationsData:k,handleInputChange:L,handleFileChange:j,handleSubmit:W,handleCancel:Z,isLoading:I.isLoading,error:g,files:a,uploadProgress:v,handleSetReferenceImage:D,handleFileDelete:R}),(n==null?void 0:n.role)==="admin"&&l.jsx(ut,{className:"mt-6",children:l.jsxs(ut.Body,{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"flex-shrink-0 text-primary-500",children:l.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-800",children:"Equipment Type Management"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"You can manage equipment types in the Settings page."}),l.jsx("div",{className:"mt-3",children:l.jsx($e,{variant:"outline",size:"sm",onClick:()=>e("/settings"),children:"Go to Settings"})})]})]})})]})},LU=()=>{const{isAdmin:e,getUsers:t,impersonateUser:n,register:r,user:i}=ar(),a=fi(),d=Kn(),[g,x]=M.useState(null),[v,w]=M.useState(!1),[E,_]=M.useState(!1),[k,A]=M.useState({username:"",password:"",role:"basic"}),[I,L]=M.useState({});M.useEffect(()=>{e()||a("/")},[e,a]);const{data:j,isLoading:D,isError:R,error:W,refetch:Z}=Et({queryKey:["users"],queryFn:t,enabled:e()}),U=Yn({mutationFn:r,onSuccess:()=>{d.invalidateQueries(["users"]),_(!1),A({username:"",password:"",role:"basic"}),ot.success("User created successfully")},onError:le=>{var Te,ne;ot.error(((ne=(Te=le.response)==null?void 0:Te.data)==null?void 0:ne.message)||"Failed to create user")}}),O=le=>{const{name:Te,value:ne}=le.target;A(Se=>({...Se,[Te]:ne})),I[Te]&&L(Se=>({...Se,[Te]:""}))},V=()=>{const le={};return k.username.trim()||(le.username="Username is required"),k.password.trim()?k.password.length<6&&(le.password="Password must be at least 6 characters"):le.password="Password is required",L(le),Object.keys(le).length===0},Y=le=>{le.preventDefault(),V()&&U.mutate(k)},ee=async()=>{if(g)try{await n(g.id),w(!1),ot.info(`You are now impersonating ${g.username}`),a("/")}catch(le){ot.error("Failed to impersonate user"),console.error("Failed to impersonate user:",le)}},de=le=>new Date(le).toLocaleString(),ie=le=>{switch(le){case"admin":return"bg-red-100 text-red-800";case"advanced":return"bg-blue-100 text-blue-800";case"basic":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e()?D?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):R?l.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative my-6",role:"alert",children:[l.jsx("strong",{className:"font-bold",children:"Error!"}),l.jsxs("span",{className:"block sm:inline",children:[" ",(W==null?void 0:W.message)||"Failed to load users."]}),l.jsx("button",{onClick:Z,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Retry"})]}):l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx(Zh,{position:"top-right",autoClose:3e3}),l.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),l.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:[l.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"User Management"}),l.jsxs("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create User"]})]}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Username"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created At"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:j==null?void 0:j.map(le=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:[le.username,le.id===i.id&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"You"})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ie(le.role)}`,children:le.role})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:de(le.created_at)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:le.id!==i.id&&l.jsx("button",{onClick:()=>{x(le),w(!0)},className:"text-indigo-600 hover:text-indigo-900","aria-label":`Impersonate ${le.username}`,children:"Impersonate"})})]},le.id))})]})})})]}),E&&l.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Create New User"}),l.jsxs("form",{onSubmit:Y,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),l.jsx("input",{type:"text",id:"username",name:"username",value:k.username,onChange:O,className:`w-full px-3 py-2 border ${I.username?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),I.username&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:I.username})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),l.jsx("input",{type:"password",id:"password",name:"password",value:k.password,onChange:O,className:`w-full px-3 py-2 border ${I.password?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),I.password&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:I.password})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),l.jsxs("select",{id:"role",name:"role",value:k.role,onChange:O,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[l.jsx("option",{value:"basic",children:"Basic"}),l.jsx("option",{value:"advanced",children:"Advanced"}),l.jsx("option",{value:"admin",children:"Admin"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:U.isLoading,children:U.isLoading?"Creating...":"Create User"})]})]})]})}),v&&g&&l.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Confirm Impersonation"}),l.jsxs("p",{className:"text-slate-500 mb-4",children:["You are about to impersonate ",l.jsx("strong",{children:g.username})," with role ",l.jsx("strong",{children:g.role}),". You will have the same permissions as this user until you end the impersonation."]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),l.jsx("button",{onClick:ee,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Impersonate"})]})]})})]}):l.jsx("div",{className:"text-center py-10",children:"Access denied. Admin privileges required."})},PU=()=>{var W,Z;const[e,t]=M.useState(1),[n]=M.useState(20),[r,i]=M.useState("created_at"),[a,d]=M.useState("desc"),[g,x]=M.useState({equipmentId:"",actionType:"",search:"",type:"",status:"",location_id:""}),{data:v}=Et({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),{data:w}=Et(["locations"],vo),{data:E,isLoading:_,isError:k,error:A}=Et(["allEquipmentLogs",e,n,g,r,a],()=>XB({page:e,limit:n,equipmentId:g.equipmentId||void 0,actionType:g.actionType||void 0,search:g.search||void 0,type:g.type||void 0,status:g.status||void 0,location_id:g.location_id||void 0,sortBy:r,sortOrder:a}),{keepPreviousData:!0}),I=U=>{switch(U){case"created":return"badge-success";case"updated":return"badge-info";case"deleted":return"badge-danger";case"status_change":return"badge-warning";case"location_change":return"badge-primary";default:return"badge-secondary"}},L=U=>U.split("_").map(O=>O.charAt(0).toUpperCase()+O.slice(1)).join(" "),j=U=>{const{name:O,value:V}=U.target;x(Y=>({...Y,[O]:V})),t(1)},D=U=>{U.preventDefault()},R=U=>{t(U)};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Movement Logs"})}),l.jsx("div",{className:"card",children:l.jsxs("form",{onSubmit:D,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),l.jsxs("div",{className:"input-group",children:[l.jsx(Xx,{className:"input-icon w-4 h-4"}),l.jsx("input",{type:"text",id:"search",name:"search",value:g.search,onChange:j,placeholder:"Search logs...",className:"input input-with-icon"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"type",className:"label",children:"Equipment Type"}),l.jsxs("select",{id:"type",name:"type",value:g.type,onChange:j,className:"input",children:[l.jsx("option",{value:"",children:"All Types"}),v!=null&&v.types&&v.types.length>0?v.types.map(U=>l.jsx("option",{value:U.name.toLowerCase(),children:U.name},U.id)):l.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"status",className:"label",children:"Equipment Status"}),l.jsxs("select",{id:"status",name:"status",value:g.status,onChange:j,className:"input",children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"available",children:"Available"}),l.jsx("option",{value:"in-use",children:"In Use"}),l.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),l.jsxs("select",{id:"location_id",name:"location_id",value:g.location_id,onChange:j,className:"input",children:[l.jsx("option",{value:"",children:"All Locations"}),(W=w==null?void 0:w.locations)==null?void 0:W.map(U=>l.jsx("option",{value:U.id.toString(),children:U.name},U.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"actionType",className:"label",children:"Action Type"}),l.jsxs("select",{id:"actionType",name:"actionType",value:g.actionType,onChange:j,className:"input",children:[l.jsx("option",{value:"",children:"All Actions"}),l.jsx("option",{value:"created",children:"Created"}),l.jsx("option",{value:"updated",children:"Updated"}),l.jsx("option",{value:"deleted",children:"Deleted"}),l.jsx("option",{value:"status_change",children:"Status Change"}),l.jsx("option",{value:"location_change",children:"Location Change"})]})]}),l.jsx("div",{className:"flex items-end",children:l.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[l.jsx(Qx,{className:"w-4 h-4"}),l.jsx("span",{children:"Apply Filters"})]})})]})}),l.jsxs("div",{className:"card",children:[_?l.jsx("div",{className:"text-center py-10",children:"Loading..."}):k?l.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",A.message||"Failed to load equipment logs"]}):(Z=E==null?void 0:E.logs)!=null&&Z.length?l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"Date"}),l.jsx("th",{className:"table-header-cell",children:"Equipment"}),l.jsx("th",{className:"table-header-cell",children:"User"}),l.jsx("th",{className:"table-header-cell",children:"Action"}),l.jsx("th",{className:"table-header-cell",children:"Details"})]})}),l.jsx("tbody",{className:"table-body",children:E.logs.map(U=>{var O,V;return l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell whitespace-nowrap",children:cd(new Date(U.created_at),"MMM d, yyyy h:mm a")}),l.jsx("td",{className:"table-cell",children:U.equipment?l.jsxs(Ln,{to:`/equipment/${U.equipment.id}`,className:"text-primary-600 hover:text-primary-800",children:[U.equipment.brand," ",U.equipment.model,l.jsxs("span",{className:"text-xs text-slate-500 block",children:["SN: ",U.equipment.serial_number]})]}):l.jsx("span",{className:"text-slate-400",children:"Deleted equipment"})}),l.jsxs("td",{className:"table-cell",children:[((O=U.user)==null?void 0:O.username)||"Unknown",l.jsx("span",{className:"text-xs text-slate-500 block",children:((V=U.user)==null?void 0:V.role)||""})]}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:`badge ${I(U.action_type)}`,children:L(U.action_type)})}),l.jsxs("td",{className:"table-cell",children:[U.action_type==="status_change"&&l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:"Status:"})," ",l.jsx("span",{className:"badge badge-outline-secondary",children:U.previous_status})," ",l.jsx("span",{className:"text-slate-400",children:"→"})," ",l.jsx("span",{className:"badge badge-outline-primary",children:U.new_status})]}),U.action_type==="location_change"&&l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:"Location:"})," ",l.jsx("span",{className:"badge badge-outline-secondary",children:U.previous_location||"None"})," ",l.jsx("span",{className:"text-slate-400",children:"→"})," ",l.jsx("span",{className:"badge badge-outline-primary",children:U.new_location||"None"})]}),U.details&&l.jsx("div",{className:"text-sm mt-1",children:U.details})]})]},U.id)})})]})}):l.jsx("div",{className:"text-center py-10 text-slate-500",children:g.search||g.equipmentId||g.actionType?"No logs found matching your search criteria.":"No logs found."}),(E==null?void 0:E.totalPages)>1&&l.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-slate-200",children:[l.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",l.jsx("span",{className:"font-medium text-slate-800",children:(e-1)*n+1})," to"," ",l.jsx("span",{className:"font-medium text-slate-800",children:Math.min(e*n,E.total)})," of"," ",l.jsx("span",{className:"font-medium text-slate-800",children:E.total})," logs"]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>R(e-1),disabled:e===1,className:`btn ${e===1?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Previous"}),l.jsx("button",{onClick:()=>R(e+1),disabled:e===E.totalPages,className:`btn ${e===E.totalPages?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Next"})]})]})]})]})},FU=new Kj({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),Ba=({children:e})=>{const{user:t,loading:n}=ar();return n?l.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?e:l.jsx(G0,{to:"/login"})},d3=({children:e})=>{const{user:t,loading:n,isAdmin:r}=ar();return n?l.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?r()?e:l.jsx(G0,{to:"/dashboard"}):l.jsx(G0,{to:"/login"})},Ei=({children:e})=>{const[t,n]=M.useState(!0),[r,i]=M.useState(!1);return l.jsxs("div",{className:"min-h-screen bg-slate-50",children:[l.jsx(q9,{}),l.jsx(z9,{}),l.jsx(H9,{isOpen:t,isCollapsed:r,toggleSidebar:n,toggleCollapse:i}),l.jsx("main",{className:`main-content pt-16 ${t?r?"main-content-with-sidebar-collapsed":"main-content-with-sidebar":""}`,children:l.jsx("div",{className:"container-app",children:l.jsx("div",{className:"space-y-6",children:e})})})]})},BU=()=>l.jsx(Rj,{children:l.jsxs(Sj,{children:[l.jsx(ms,{path:"/login",element:l.jsx(V9,{})}),l.jsx(ms,{path:"/",element:l.jsx(Ba,{children:l.jsx(Ei,{children:l.jsx(Gb,{})})})}),l.jsx(ms,{path:"/dashboard",element:l.jsx(Ba,{children:l.jsx(Ei,{children:l.jsx(Gb,{})})})}),l.jsx(ms,{path:"/simple-dashboard",element:l.jsx(Ba,{children:l.jsx(Ei,{children:l.jsx(wF,{})})})}),l.jsx(ms,{path:"/equipment/new",element:l.jsx(Ba,{children:l.jsx(Ei,{children:l.jsx(MU,{})})})}),l.jsx(ms,{path:"/equipment/:id/edit",element:l.jsx(Ba,{children:l.jsx(Ei,{children:l.jsx(RU,{})})})}),l.jsx(ms,{path:"/equipment/:id",element:l.jsx(Ba,{children:l.jsx(Ei,{children:l.jsx(IU,{})})})}),l.jsx(ms,{path:"/equipment",element:l.jsx(Ba,{children:l.jsx(Ei,{children:l.jsx(GB,{})})})}),l.jsx(ms,{path:"/admin",element:l.jsx(d3,{children:l.jsx(Ei,{children:l.jsx(LU,{})})})}),l.jsx(ms,{path:"/equipment-logs",element:l.jsx(d3,{children:l.jsx(Ei,{children:l.jsx(PU,{})})})}),l.jsx(ms,{path:"/settings",element:l.jsx(Ba,{children:l.jsx(Ei,{children:l.jsx(GF,{})})})}),l.jsx(ms,{path:"*",element:l.jsx(G0,{to:"/"})})]})}),UU=()=>l.jsx(f7,{client:FU,children:l.jsx(sR,{children:l.jsxs(LE,{children:[l.jsx(Zh,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),l.jsx(BU,{})]})})});const zU=async()=>{try{return(await dt.get("/api/csrf-token",{withCredentials:!0})).data.csrfToken}catch(e){return console.error("Failed to fetch CSRF token:",e),null}},WU=async()=>{dt.defaults.withCredentials=!0;const e=localStorage.getItem("token");e&&(dt.defaults.headers.common.Authorization=`Bearer ${e}`),dt.interceptors.response.use(t=>t,async t=>{var r;const n=t.config;if(n&&(n.url.includes("/files/")||n.url.includes("/public-files/")))return console.log("File access error:",t),Promise.reject(t);if(((r=t.response)==null?void 0:r.status)===401&&!n._retry){n._retry=!0;try{return window.location.pathname!=="/login"&&(localStorage.removeItem("token"),delete dt.defaults.headers.common.Authorization,alert("Your session has expired. Please log in again."),window.location.href="/login"),Promise.reject(t)}catch(i){return Promise.reject(i)}}return Promise.reject(t)});{const t=await zU();t&&dt.interceptors.request.use(async n=>(n.method!=="get"&&(n.headers["CSRF-Token"]=t),n),n=>Promise.reject(n))}return dt};console.log("API URL:","http://localhost:5000");console.log("Environment PROD:",!0);console.log("Environment MODE:","production");console.log("🚀 Theater Equipment Catalog - Kinsta Deployment v3");let bh;window.location.hostname==="tonlager.kinsta.app"?(bh="",console.log("🎯 Kinsta detected - using relative URL")):(bh="",console.log("🏭 Production mode - using relative URL"));dt.defaults.baseURL=bh;console.log("Setting axios baseURL to:",bh);const HU=async()=>{await WU(),am.createRoot(document.getElementById("root")).render(l.jsx(ue.StrictMode,{children:l.jsx(UU,{})}))};HU();
//# sourceMappingURL=index-6b2ff794.js.map
