var dk=Object.defineProperty;var fk=(e,t,n)=>t in e?dk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ze=(e,t,n)=>(fk(e,typeof t!="symbol"?t+"":t,n),n);function p3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m3={exports:{}},Nh={},x3={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=Symbol.for("react.element"),hk=Symbol.for("react.portal"),pk=Symbol.for("react.fragment"),mk=Symbol.for("react.strict_mode"),xk=Symbol.for("react.profiler"),gk=Symbol.for("react.provider"),vk=Symbol.for("react.context"),yk=Symbol.for("react.forward_ref"),wk=Symbol.for("react.suspense"),bk=Symbol.for("react.memo"),Ck=Symbol.for("react.lazy"),py=Symbol.iterator;function Ek(e){return e===null||typeof e!="object"?null:(e=py&&e[py]||e["@@iterator"],typeof e=="function"?e:null)}var g3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v3=Object.assign,y3={};function Sc(e,t,n){this.props=e,this.context=t,this.refs=y3,this.updater=n||g3}Sc.prototype.isReactComponent={};Sc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function w3(){}w3.prototype=Sc.prototype;function Ux(e,t,n){this.props=e,this.context=t,this.refs=y3,this.updater=n||g3}var zx=Ux.prototype=new w3;zx.constructor=Ux;v3(zx,Sc.prototype);zx.isPureReactComponent=!0;var my=Array.isArray,b3=Object.prototype.hasOwnProperty,Wx={current:null},C3={key:!0,ref:!0,__self:!0,__source:!0};function E3(e,t,n){var r,i={},a=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(a=""+t.key),t)b3.call(t,r)&&!C3.hasOwnProperty(r)&&(i[r]=t[r]);var x=arguments.length-2;if(x===1)i.children=n;else if(1<x){for(var g=Array(x),v=0;v<x;v++)g[v]=arguments[v+2];i.children=g}if(e&&e.defaultProps)for(r in x=e.defaultProps,x)i[r]===void 0&&(i[r]=x[r]);return{$$typeof:pd,type:e,key:a,ref:d,props:i,_owner:Wx.current}}function Nk(e,t){return{$$typeof:pd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hx(e){return typeof e=="object"&&e!==null&&e.$$typeof===pd}function _k(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xy=/\/+/g;function v1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_k(""+e.key):t.toString(36)}function Jf(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(a){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case pd:case hk:d=!0}}if(d)return d=e,i=i(d),e=r===""?"."+v1(d,0):r,my(i)?(n="",e!=null&&(n=e.replace(xy,"$&/")+"/"),Jf(i,t,n,"",function(v){return v})):i!=null&&(Hx(i)&&(i=Nk(i,n+(!i.key||d&&d.key===i.key?"":(""+i.key).replace(xy,"$&/")+"/")+e)),t.push(i)),1;if(d=0,r=r===""?".":r+":",my(e))for(var x=0;x<e.length;x++){a=e[x];var g=r+v1(a,x);d+=Jf(a,t,n,g,i)}else if(g=Ek(e),typeof g=="function")for(e=g.call(e),x=0;!(a=e.next()).done;)a=a.value,g=r+v1(a,x++),d+=Jf(a,t,n,g,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Af(e,t,n){if(e==null)return e;var r=[],i=0;return Jf(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Sk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vr={current:null},e0={transition:null},Ak={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:e0,ReactCurrentOwner:Wx};function N3(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:Af,forEach:function(e,t,n){Af(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Af(e,function(){t++}),t},toArray:function(e){return Af(e,function(t){return t})||[]},only:function(e){if(!Hx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};St.Component=Sc;St.Fragment=pk;St.Profiler=xk;St.PureComponent=Ux;St.StrictMode=mk;St.Suspense=wk;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ak;St.act=N3;St.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=v3({},e.props),i=e.key,a=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,d=Wx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(g in t)b3.call(t,g)&&!C3.hasOwnProperty(g)&&(r[g]=t[g]===void 0&&x!==void 0?x[g]:t[g])}var g=arguments.length-2;if(g===1)r.children=n;else if(1<g){x=Array(g);for(var v=0;v<g;v++)x[v]=arguments[v+2];r.children=x}return{$$typeof:pd,type:e.type,key:i,ref:a,props:r,_owner:d}};St.createContext=function(e){return e={$$typeof:vk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gk,_context:e},e.Consumer=e};St.createElement=E3;St.createFactory=function(e){var t=E3.bind(null,e);return t.type=e,t};St.createRef=function(){return{current:null}};St.forwardRef=function(e){return{$$typeof:yk,render:e}};St.isValidElement=Hx;St.lazy=function(e){return{$$typeof:Ck,_payload:{_status:-1,_result:e},_init:Sk}};St.memo=function(e,t){return{$$typeof:bk,type:e,compare:t===void 0?null:t}};St.startTransition=function(e){var t=e0.transition;e0.transition={};try{e()}finally{e0.transition=t}};St.unstable_act=N3;St.useCallback=function(e,t){return Vr.current.useCallback(e,t)};St.useContext=function(e){return Vr.current.useContext(e)};St.useDebugValue=function(){};St.useDeferredValue=function(e){return Vr.current.useDeferredValue(e)};St.useEffect=function(e,t){return Vr.current.useEffect(e,t)};St.useId=function(){return Vr.current.useId()};St.useImperativeHandle=function(e,t,n){return Vr.current.useImperativeHandle(e,t,n)};St.useInsertionEffect=function(e,t){return Vr.current.useInsertionEffect(e,t)};St.useLayoutEffect=function(e,t){return Vr.current.useLayoutEffect(e,t)};St.useMemo=function(e,t){return Vr.current.useMemo(e,t)};St.useReducer=function(e,t,n){return Vr.current.useReducer(e,t,n)};St.useRef=function(e){return Vr.current.useRef(e)};St.useState=function(e){return Vr.current.useState(e)};St.useSyncExternalStore=function(e,t,n){return Vr.current.useSyncExternalStore(e,t,n)};St.useTransition=function(){return Vr.current.useTransition()};St.version="18.3.1";x3.exports=St;var M=x3.exports;const fe=Eh(M),qx=p3({__proto__:null,default:fe},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kk=M,Tk=Symbol.for("react.element"),jk=Symbol.for("react.fragment"),Dk=Object.prototype.hasOwnProperty,Ik=kk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rk={key:!0,ref:!0,__self:!0,__source:!0};function _3(e,t,n){var r,i={},a=null,d=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)Dk.call(t,r)&&!Rk.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Tk,type:e,key:a,ref:d,props:i,_owner:Ik.current}}Nh.Fragment=jk;Nh.jsx=_3;Nh.jsxs=_3;m3.exports=Nh;var l=m3.exports,cm={},S3={exports:{}},Ns={},A3={exports:{}},k3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ue,ge){var Re=ue.length;ue.push(ge);e:for(;0<Re;){var qe=Re-1>>>1,tt=ue[qe];if(0<i(tt,ge))ue[qe]=ge,ue[Re]=tt,Re=qe;else break e}}function n(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var ge=ue[0],Re=ue.pop();if(Re!==ge){ue[0]=Re;e:for(var qe=0,tt=ue.length,Ae=tt>>>1;qe<Ae;){var Ge=2*(qe+1)-1,st=ue[Ge],oe=Ge+1,ft=ue[oe];if(0>i(st,Re))oe<tt&&0>i(ft,st)?(ue[qe]=ft,ue[oe]=Re,qe=oe):(ue[qe]=st,ue[Ge]=Re,qe=Ge);else if(oe<tt&&0>i(ft,Re))ue[qe]=ft,ue[oe]=Re,qe=oe;else break e}}return ge}function i(ue,ge){var Re=ue.sortIndex-ge.sortIndex;return Re!==0?Re:ue.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var d=Date,x=d.now();e.unstable_now=function(){return d.now()-x}}var g=[],v=[],w=1,E=null,_=3,k=!1,A=!1,I=!1,L=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(ue){for(var ge=n(v);ge!==null;){if(ge.callback===null)r(v);else if(ge.startTime<=ue)r(v),ge.sortIndex=ge.expirationTime,t(g,ge);else break;ge=n(v)}}function W(ue){if(I=!1,O(ue),!A)if(n(g)!==null)A=!0,_e(Z);else{var ge=n(v);ge!==null&&ve(W,ge.startTime-ue)}}function Z(ue,ge){A=!1,I&&(I=!1,D(V),V=-1),k=!0;var Re=_;try{for(O(ge),E=n(g);E!==null&&(!(E.expirationTime>ge)||ue&&!de());){var qe=E.callback;if(typeof qe=="function"){E.callback=null,_=E.priorityLevel;var tt=qe(E.expirationTime<=ge);ge=e.unstable_now(),typeof tt=="function"?E.callback=tt:E===n(g)&&r(g),O(ge)}else r(g);E=n(g)}if(E!==null)var Ae=!0;else{var Ge=n(v);Ge!==null&&ve(W,Ge.startTime-ge),Ae=!1}return Ae}finally{E=null,_=Re,k=!1}}var B=!1,R=null,V=-1,Y=5,ee=-1;function de(){return!(e.unstable_now()-ee<Y)}function ie(){if(R!==null){var ue=e.unstable_now();ee=ue;var ge=!0;try{ge=R(!0,ue)}finally{ge?ce():(B=!1,R=null)}}else B=!1}var ce;if(typeof j=="function")ce=function(){j(ie)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,re=Te.port2;Te.port1.onmessage=ie,ce=function(){re.postMessage(null)}}else ce=function(){L(ie,0)};function _e(ue){R=ue,B||(B=!0,ce())}function ve(ue,ge){V=L(function(){ue(e.unstable_now())},ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ue){ue.callback=null},e.unstable_continueExecution=function(){A||k||(A=!0,_e(Z))},e.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<ue?Math.floor(1e3/ue):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(g)},e.unstable_next=function(ue){switch(_){case 1:case 2:case 3:var ge=3;break;default:ge=_}var Re=_;_=ge;try{return ue()}finally{_=Re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ue,ge){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Re=_;_=ue;try{return ge()}finally{_=Re}},e.unstable_scheduleCallback=function(ue,ge,Re){var qe=e.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?qe+Re:qe):Re=qe,ue){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=Re+tt,ue={id:w++,callback:ge,priorityLevel:ue,startTime:Re,expirationTime:tt,sortIndex:-1},Re>qe?(ue.sortIndex=Re,t(v,ue),n(g)===null&&ue===n(v)&&(I?(D(V),V=-1):I=!0,ve(W,Re-qe))):(ue.sortIndex=tt,t(g,ue),A||k||(A=!0,_e(Z))),ue},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(ue){var ge=_;return function(){var Re=_;_=ge;try{return ue.apply(this,arguments)}finally{_=Re}}}})(k3);A3.exports=k3;var Ok=A3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk=M,Es=Ok;function De(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T3=new Set,zu={};function pl(e,t){cc(e,t),cc(e+"Capture",t)}function cc(e,t){for(zu[e]=t,e=0;e<t.length;e++)T3.add(t[e])}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),um=Object.prototype.hasOwnProperty,Lk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gy={},vy={};function Pk(e){return um.call(vy,e)?!0:um.call(gy,e)?!1:Lk.test(e)?vy[e]=!0:(gy[e]=!0,!1)}function Fk(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bk(e,t,n,r){if(t===null||typeof t>"u"||Fk(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Yr(e,t,n,r,i,a,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=d}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wr[e]=new Yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wr[t]=new Yr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wr[e]=new Yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wr[e]=new Yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wr[e]=new Yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wr[e]=new Yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wr[e]=new Yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wr[e]=new Yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wr[e]=new Yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vx=/[\-:]([a-z])/g;function Yx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vx,Yx);wr[t]=new Yr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vx,Yx);wr[t]=new Yr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vx,Yx);wr[t]=new Yr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wr[e]=new Yr(e,1,!1,e.toLowerCase(),null,!1,!1)});wr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wr[e]=new Yr(e,1,!1,e.toLowerCase(),null,!0,!0)});function $x(e,t,n,r){var i=wr.hasOwnProperty(t)?wr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bk(t,n,i,r)&&(n=null),r||i===null?Pk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ca=Mk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kf=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),zl=Symbol.for("react.fragment"),Gx=Symbol.for("react.strict_mode"),dm=Symbol.for("react.profiler"),j3=Symbol.for("react.provider"),D3=Symbol.for("react.context"),Xx=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),Qx=Symbol.for("react.memo"),Wa=Symbol.for("react.lazy"),I3=Symbol.for("react.offscreen"),yy=Symbol.iterator;function fu(e){return e===null||typeof e!="object"?null:(e=yy&&e[yy]||e["@@iterator"],typeof e=="function"?e:null)}var Dn=Object.assign,y1;function _u(e){if(y1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);y1=t&&t[1]||""}return`
`+y1+e}var w1=!1;function b1(e,t){if(!e||w1)return"";w1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var i=v.stack.split(`
`),a=r.stack.split(`
`),d=i.length-1,x=a.length-1;1<=d&&0<=x&&i[d]!==a[x];)x--;for(;1<=d&&0<=x;d--,x--)if(i[d]!==a[x]){if(d!==1||x!==1)do if(d--,x--,0>x||i[d]!==a[x]){var g=`
`+i[d].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=d&&0<=x);break}}}finally{w1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_u(e):""}function Uk(e){switch(e.tag){case 5:return _u(e.type);case 16:return _u("Lazy");case 13:return _u("Suspense");case 19:return _u("SuspenseList");case 0:case 2:case 15:return e=b1(e.type,!1),e;case 11:return e=b1(e.type.render,!1),e;case 1:return e=b1(e.type,!0),e;default:return""}}function pm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zl:return"Fragment";case Ul:return"Portal";case dm:return"Profiler";case Gx:return"StrictMode";case fm:return"Suspense";case hm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D3:return(e.displayName||"Context")+".Consumer";case j3:return(e._context.displayName||"Context")+".Provider";case Xx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qx:return t=e.displayName||null,t!==null?t:pm(e.type)||"Memo";case Wa:t=e._payload,e=e._init;try{return pm(e(t))}catch{}}return null}function zk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pm(t);case 8:return t===Gx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function co(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function R3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wk(e){var t=R3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(d){r=""+d,a.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tf(e){e._valueTracker||(e._valueTracker=Wk(e))}function O3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=R3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function E0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mm(e,t){var n=t.checked;return Dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=co(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function M3(e,t){t=t.checked,t!=null&&$x(e,"checked",t,!1)}function xm(e,t){M3(e,t);var n=co(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gm(e,t.type,n):t.hasOwnProperty("defaultValue")&&gm(e,t.type,co(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function by(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gm(e,t,n){(t!=="number"||E0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Su=Array.isArray;function ec(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+co(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function vm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(De(91));return Dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(De(92));if(Su(n)){if(1<n.length)throw Error(De(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:co(n)}}function L3(e,t){var n=co(t.value),r=co(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ey(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function P3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ym(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?P3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jf,F3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jf=jf||document.createElement("div"),jf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hk=["Webkit","ms","Moz","O"];Object.keys(Du).forEach(function(e){Hk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Du[t]=Du[e]})});function B3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Du.hasOwnProperty(e)&&Du[e]?(""+t).trim():t+"px"}function U3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=B3(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var qk=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wm(e,t){if(t){if(qk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(De(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(De(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(De(61))}if(t.style!=null&&typeof t.style!="object")throw Error(De(62))}}function bm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cm=null;function Kx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Em=null,tc=null,nc=null;function Ny(e){if(e=gd(e)){if(typeof Em!="function")throw Error(De(280));var t=e.stateNode;t&&(t=Th(t),Em(e.stateNode,e.type,t))}}function z3(e){tc?nc?nc.push(e):nc=[e]:tc=e}function W3(){if(tc){var e=tc,t=nc;if(nc=tc=null,Ny(e),t)for(e=0;e<t.length;e++)Ny(t[e])}}function H3(e,t){return e(t)}function q3(){}var C1=!1;function V3(e,t,n){if(C1)return e(t,n);C1=!0;try{return H3(e,t,n)}finally{C1=!1,(tc!==null||nc!==null)&&(q3(),W3())}}function Hu(e,t){var n=e.stateNode;if(n===null)return null;var r=Th(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(De(231,t,typeof n));return n}var Nm=!1;if(pa)try{var hu={};Object.defineProperty(hu,"passive",{get:function(){Nm=!0}}),window.addEventListener("test",hu,hu),window.removeEventListener("test",hu,hu)}catch{Nm=!1}function Vk(e,t,n,r,i,a,d,x,g){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(w){this.onError(w)}}var Iu=!1,N0=null,_0=!1,_m=null,Yk={onError:function(e){Iu=!0,N0=e}};function $k(e,t,n,r,i,a,d,x,g){Iu=!1,N0=null,Vk.apply(Yk,arguments)}function Gk(e,t,n,r,i,a,d,x,g){if($k.apply(this,arguments),Iu){if(Iu){var v=N0;Iu=!1,N0=null}else throw Error(De(198));_0||(_0=!0,_m=v)}}function ml(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Y3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _y(e){if(ml(e)!==e)throw Error(De(188))}function Xk(e){var t=e.alternate;if(!t){if(t=ml(e),t===null)throw Error(De(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return _y(i),e;if(a===r)return _y(i),t;a=a.sibling}throw Error(De(188))}if(n.return!==r.return)n=i,r=a;else{for(var d=!1,x=i.child;x;){if(x===n){d=!0,n=i,r=a;break}if(x===r){d=!0,r=i,n=a;break}x=x.sibling}if(!d){for(x=a.child;x;){if(x===n){d=!0,n=a,r=i;break}if(x===r){d=!0,r=a,n=i;break}x=x.sibling}if(!d)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?e:t}function $3(e){return e=Xk(e),e!==null?G3(e):null}function G3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=G3(e);if(t!==null)return t;e=e.sibling}return null}var X3=Es.unstable_scheduleCallback,Sy=Es.unstable_cancelCallback,Qk=Es.unstable_shouldYield,Kk=Es.unstable_requestPaint,Hn=Es.unstable_now,Zk=Es.unstable_getCurrentPriorityLevel,Zx=Es.unstable_ImmediatePriority,Q3=Es.unstable_UserBlockingPriority,S0=Es.unstable_NormalPriority,Jk=Es.unstable_LowPriority,K3=Es.unstable_IdlePriority,_h=null,Ii=null;function eT(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(_h,e,void 0,(e.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:rT,tT=Math.log,nT=Math.LN2;function rT(e){return e>>>=0,e===0?32:31-(tT(e)/nT|0)|0}var Df=64,If=4194304;function Au(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function A0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,d=n&268435455;if(d!==0){var x=d&~i;x!==0?r=Au(x):(a&=d,a!==0&&(r=Au(a)))}else d=n&~i,d!==0?r=Au(d):a!==0&&(r=Au(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-oi(t),i=1<<n,r|=e[n],t&=~i;return r}function sT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var d=31-oi(a),x=1<<d,g=i[d];g===-1?(!(x&n)||x&r)&&(i[d]=sT(x,t)):g<=t&&(e.expiredLanes|=x),a&=~x}}function Sm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Z3(){var e=Df;return Df<<=1,!(Df&4194240)&&(Df=64),e}function E1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function md(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-oi(t),e[t]=n}function aT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-oi(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Jx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-oi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tn=0;function J3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var e4,eg,t4,n4,r4,Am=!1,Rf=[],Za=null,Ja=null,eo=null,qu=new Map,Vu=new Map,Va=[],oT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ay(e,t){switch(e){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":qu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(t.pointerId)}}function pu(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=gd(t),t!==null&&eg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lT(e,t,n,r,i){switch(t){case"focusin":return Za=pu(Za,e,t,n,r,i),!0;case"dragenter":return Ja=pu(Ja,e,t,n,r,i),!0;case"mouseover":return eo=pu(eo,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return qu.set(a,pu(qu.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Vu.set(a,pu(Vu.get(a)||null,e,t,n,r,i)),!0}return!1}function s4(e){var t=$o(e.target);if(t!==null){var n=ml(t);if(n!==null){if(t=n.tag,t===13){if(t=Y3(n),t!==null){e.blockedOn=t,r4(e.priority,function(){t4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function t0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=km(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cm=r,n.target.dispatchEvent(r),Cm=null}else return t=gd(n),t!==null&&eg(t),e.blockedOn=n,!1;t.shift()}return!0}function ky(e,t,n){t0(e)&&n.delete(t)}function cT(){Am=!1,Za!==null&&t0(Za)&&(Za=null),Ja!==null&&t0(Ja)&&(Ja=null),eo!==null&&t0(eo)&&(eo=null),qu.forEach(ky),Vu.forEach(ky)}function mu(e,t){e.blockedOn===t&&(e.blockedOn=null,Am||(Am=!0,Es.unstable_scheduleCallback(Es.unstable_NormalPriority,cT)))}function Yu(e){function t(i){return mu(i,e)}if(0<Rf.length){mu(Rf[0],e);for(var n=1;n<Rf.length;n++){var r=Rf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Za!==null&&mu(Za,e),Ja!==null&&mu(Ja,e),eo!==null&&mu(eo,e),qu.forEach(t),Vu.forEach(t),n=0;n<Va.length;n++)r=Va[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Va.length&&(n=Va[0],n.blockedOn===null);)s4(n),n.blockedOn===null&&Va.shift()}var rc=Ca.ReactCurrentBatchConfig,k0=!0;function uT(e,t,n,r){var i=tn,a=rc.transition;rc.transition=null;try{tn=1,tg(e,t,n,r)}finally{tn=i,rc.transition=a}}function dT(e,t,n,r){var i=tn,a=rc.transition;rc.transition=null;try{tn=4,tg(e,t,n,r)}finally{tn=i,rc.transition=a}}function tg(e,t,n,r){if(k0){var i=km(e,t,n,r);if(i===null)R1(e,t,r,T0,n),Ay(e,r);else if(lT(i,e,t,n,r))r.stopPropagation();else if(Ay(e,r),t&4&&-1<oT.indexOf(e)){for(;i!==null;){var a=gd(i);if(a!==null&&e4(a),a=km(e,t,n,r),a===null&&R1(e,t,r,T0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else R1(e,t,r,null,n)}}var T0=null;function km(e,t,n,r){if(T0=null,e=Kx(r),e=$o(e),e!==null)if(t=ml(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Y3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return T0=e,null}function i4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zk()){case Zx:return 1;case Q3:return 4;case S0:case Jk:return 16;case K3:return 536870912;default:return 16}default:return 16}}var Ga=null,ng=null,n0=null;function a4(){if(n0)return n0;var e,t=ng,n=t.length,r,i="value"in Ga?Ga.value:Ga.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===i[a-r];r++);return n0=i.slice(e,1<r?1-r:void 0)}function r0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Of(){return!0}function Ty(){return!1}function _s(e){function t(n,r,i,a,d){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=d,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(a):a[x]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Of:Ty,this.isPropagationStopped=Ty,this}return Dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Of)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Of)},persist:function(){},isPersistent:Of}),t}var Ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rg=_s(Ac),xd=Dn({},Ac,{view:0,detail:0}),fT=_s(xd),N1,_1,xu,Sh=Dn({},xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xu&&(xu&&e.type==="mousemove"?(N1=e.screenX-xu.screenX,_1=e.screenY-xu.screenY):_1=N1=0,xu=e),N1)},movementY:function(e){return"movementY"in e?e.movementY:_1}}),jy=_s(Sh),hT=Dn({},Sh,{dataTransfer:0}),pT=_s(hT),mT=Dn({},xd,{relatedTarget:0}),S1=_s(mT),xT=Dn({},Ac,{animationName:0,elapsedTime:0,pseudoElement:0}),gT=_s(xT),vT=Dn({},Ac,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yT=_s(vT),wT=Dn({},Ac,{data:0}),Dy=_s(wT),bT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ET={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ET[e])?!!t[e]:!1}function sg(){return NT}var _T=Dn({},xd,{key:function(e){if(e.key){var t=bT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=r0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sg,charCode:function(e){return e.type==="keypress"?r0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?r0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ST=_s(_T),AT=Dn({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iy=_s(AT),kT=Dn({},xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sg}),TT=_s(kT),jT=Dn({},Ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),DT=_s(jT),IT=Dn({},Sh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RT=_s(IT),OT=[9,13,27,32],ig=pa&&"CompositionEvent"in window,Ru=null;pa&&"documentMode"in document&&(Ru=document.documentMode);var MT=pa&&"TextEvent"in window&&!Ru,o4=pa&&(!ig||Ru&&8<Ru&&11>=Ru),Ry=String.fromCharCode(32),Oy=!1;function l4(e,t){switch(e){case"keyup":return OT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wl=!1;function LT(e,t){switch(e){case"compositionend":return c4(t);case"keypress":return t.which!==32?null:(Oy=!0,Ry);case"textInput":return e=t.data,e===Ry&&Oy?null:e;default:return null}}function PT(e,t){if(Wl)return e==="compositionend"||!ig&&l4(e,t)?(e=a4(),n0=ng=Ga=null,Wl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return o4&&t.locale!=="ko"?null:t.data;default:return null}}var FT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FT[e.type]:t==="textarea"}function u4(e,t,n,r){z3(r),t=j0(t,"onChange"),0<t.length&&(n=new rg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ou=null,$u=null;function BT(e){b4(e,0)}function Ah(e){var t=Vl(e);if(O3(t))return e}function UT(e,t){if(e==="change")return t}var d4=!1;if(pa){var A1;if(pa){var k1="oninput"in document;if(!k1){var Ly=document.createElement("div");Ly.setAttribute("oninput","return;"),k1=typeof Ly.oninput=="function"}A1=k1}else A1=!1;d4=A1&&(!document.documentMode||9<document.documentMode)}function Py(){Ou&&(Ou.detachEvent("onpropertychange",f4),$u=Ou=null)}function f4(e){if(e.propertyName==="value"&&Ah($u)){var t=[];u4(t,$u,e,Kx(e)),V3(BT,t)}}function zT(e,t,n){e==="focusin"?(Py(),Ou=t,$u=n,Ou.attachEvent("onpropertychange",f4)):e==="focusout"&&Py()}function WT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ah($u)}function HT(e,t){if(e==="click")return Ah(t)}function qT(e,t){if(e==="input"||e==="change")return Ah(t)}function VT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var di=typeof Object.is=="function"?Object.is:VT;function Gu(e,t){if(di(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!um.call(t,i)||!di(e[i],t[i]))return!1}return!0}function Fy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function By(e,t){var n=Fy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fy(n)}}function h4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function p4(){for(var e=window,t=E0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=E0(e.document)}return t}function ag(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YT(e){var t=p4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&h4(n.ownerDocument.documentElement,n)){if(r!==null&&ag(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=By(n,a);var d=By(n,r);i&&d&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $T=pa&&"documentMode"in document&&11>=document.documentMode,Hl=null,Tm=null,Mu=null,jm=!1;function Uy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jm||Hl==null||Hl!==E0(r)||(r=Hl,"selectionStart"in r&&ag(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mu&&Gu(Mu,r)||(Mu=r,r=j0(Tm,"onSelect"),0<r.length&&(t=new rg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hl)))}function Mf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ql={animationend:Mf("Animation","AnimationEnd"),animationiteration:Mf("Animation","AnimationIteration"),animationstart:Mf("Animation","AnimationStart"),transitionend:Mf("Transition","TransitionEnd")},T1={},m4={};pa&&(m4=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function kh(e){if(T1[e])return T1[e];if(!ql[e])return e;var t=ql[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in m4)return T1[e]=t[n];return e}var x4=kh("animationend"),g4=kh("animationiteration"),v4=kh("animationstart"),y4=kh("transitionend"),w4=new Map,zy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(e,t){w4.set(e,t),pl(t,[e])}for(var j1=0;j1<zy.length;j1++){var D1=zy[j1],GT=D1.toLowerCase(),XT=D1[0].toUpperCase()+D1.slice(1);po(GT,"on"+XT)}po(x4,"onAnimationEnd");po(g4,"onAnimationIteration");po(v4,"onAnimationStart");po("dblclick","onDoubleClick");po("focusin","onFocus");po("focusout","onBlur");po(y4,"onTransitionEnd");cc("onMouseEnter",["mouseout","mouseover"]);cc("onMouseLeave",["mouseout","mouseover"]);cc("onPointerEnter",["pointerout","pointerover"]);cc("onPointerLeave",["pointerout","pointerover"]);pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ku));function Wy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gk(r,t,void 0,e),e.currentTarget=null}function b4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var d=r.length-1;0<=d;d--){var x=r[d],g=x.instance,v=x.currentTarget;if(x=x.listener,g!==a&&i.isPropagationStopped())break e;Wy(i,x,v),a=g}else for(d=0;d<r.length;d++){if(x=r[d],g=x.instance,v=x.currentTarget,x=x.listener,g!==a&&i.isPropagationStopped())break e;Wy(i,x,v),a=g}}}if(_0)throw e=_m,_0=!1,_m=null,e}function pn(e,t){var n=t[Mm];n===void 0&&(n=t[Mm]=new Set);var r=e+"__bubble";n.has(r)||(C4(t,e,2,!1),n.add(r))}function I1(e,t,n){var r=0;t&&(r|=4),C4(n,e,r,t)}var Lf="_reactListening"+Math.random().toString(36).slice(2);function Xu(e){if(!e[Lf]){e[Lf]=!0,T3.forEach(function(n){n!=="selectionchange"&&(QT.has(n)||I1(n,!1,e),I1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lf]||(t[Lf]=!0,I1("selectionchange",!1,t))}}function C4(e,t,n,r){switch(i4(t)){case 1:var i=uT;break;case 4:i=dT;break;default:i=tg}n=i.bind(null,t,n,e),i=void 0,!Nm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function R1(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var x=r.stateNode.containerInfo;if(x===i||x.nodeType===8&&x.parentNode===i)break;if(d===4)for(d=r.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===i||g.nodeType===8&&g.parentNode===i))return;d=d.return}for(;x!==null;){if(d=$o(x),d===null)return;if(g=d.tag,g===5||g===6){r=a=d;continue e}x=x.parentNode}}r=r.return}V3(function(){var v=a,w=Kx(n),E=[];e:{var _=w4.get(e);if(_!==void 0){var k=rg,A=e;switch(e){case"keypress":if(r0(n)===0)break e;case"keydown":case"keyup":k=ST;break;case"focusin":A="focus",k=S1;break;case"focusout":A="blur",k=S1;break;case"beforeblur":case"afterblur":k=S1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=pT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=TT;break;case x4:case g4:case v4:k=gT;break;case y4:k=DT;break;case"scroll":k=fT;break;case"wheel":k=RT;break;case"copy":case"cut":case"paste":k=yT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Iy}var I=(t&4)!==0,L=!I&&e==="scroll",D=I?_!==null?_+"Capture":null:_;I=[];for(var j=v,O;j!==null;){O=j;var W=O.stateNode;if(O.tag===5&&W!==null&&(O=W,D!==null&&(W=Hu(j,D),W!=null&&I.push(Qu(j,W,O)))),L)break;j=j.return}0<I.length&&(_=new k(_,A,null,n,w),E.push({event:_,listeners:I}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",_&&n!==Cm&&(A=n.relatedTarget||n.fromElement)&&($o(A)||A[ma]))break e;if((k||_)&&(_=w.window===w?w:(_=w.ownerDocument)?_.defaultView||_.parentWindow:window,k?(A=n.relatedTarget||n.toElement,k=v,A=A?$o(A):null,A!==null&&(L=ml(A),A!==L||A.tag!==5&&A.tag!==6)&&(A=null)):(k=null,A=v),k!==A)){if(I=jy,W="onMouseLeave",D="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(I=Iy,W="onPointerLeave",D="onPointerEnter",j="pointer"),L=k==null?_:Vl(k),O=A==null?_:Vl(A),_=new I(W,j+"leave",k,n,w),_.target=L,_.relatedTarget=O,W=null,$o(w)===v&&(I=new I(D,j+"enter",A,n,w),I.target=O,I.relatedTarget=L,W=I),L=W,k&&A)t:{for(I=k,D=A,j=0,O=I;O;O=Pl(O))j++;for(O=0,W=D;W;W=Pl(W))O++;for(;0<j-O;)I=Pl(I),j--;for(;0<O-j;)D=Pl(D),O--;for(;j--;){if(I===D||D!==null&&I===D.alternate)break t;I=Pl(I),D=Pl(D)}I=null}else I=null;k!==null&&Hy(E,_,k,I,!1),A!==null&&L!==null&&Hy(E,L,A,I,!0)}}e:{if(_=v?Vl(v):window,k=_.nodeName&&_.nodeName.toLowerCase(),k==="select"||k==="input"&&_.type==="file")var Z=UT;else if(My(_))if(d4)Z=qT;else{Z=WT;var B=zT}else(k=_.nodeName)&&k.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(Z=HT);if(Z&&(Z=Z(e,v))){u4(E,Z,n,w);break e}B&&B(e,_,v),e==="focusout"&&(B=_._wrapperState)&&B.controlled&&_.type==="number"&&gm(_,"number",_.value)}switch(B=v?Vl(v):window,e){case"focusin":(My(B)||B.contentEditable==="true")&&(Hl=B,Tm=v,Mu=null);break;case"focusout":Mu=Tm=Hl=null;break;case"mousedown":jm=!0;break;case"contextmenu":case"mouseup":case"dragend":jm=!1,Uy(E,n,w);break;case"selectionchange":if($T)break;case"keydown":case"keyup":Uy(E,n,w)}var R;if(ig)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Wl?l4(e,n)&&(V="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(o4&&n.locale!=="ko"&&(Wl||V!=="onCompositionStart"?V==="onCompositionEnd"&&Wl&&(R=a4()):(Ga=w,ng="value"in Ga?Ga.value:Ga.textContent,Wl=!0)),B=j0(v,V),0<B.length&&(V=new Dy(V,e,null,n,w),E.push({event:V,listeners:B}),R?V.data=R:(R=c4(n),R!==null&&(V.data=R)))),(R=MT?LT(e,n):PT(e,n))&&(v=j0(v,"onBeforeInput"),0<v.length&&(w=new Dy("onBeforeInput","beforeinput",null,n,w),E.push({event:w,listeners:v}),w.data=R))}b4(E,t)})}function Qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function j0(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Hu(e,n),a!=null&&r.unshift(Qu(e,a,i)),a=Hu(e,t),a!=null&&r.push(Qu(e,a,i))),e=e.return}return r}function Pl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hy(e,t,n,r,i){for(var a=t._reactName,d=[];n!==null&&n!==r;){var x=n,g=x.alternate,v=x.stateNode;if(g!==null&&g===r)break;x.tag===5&&v!==null&&(x=v,i?(g=Hu(n,a),g!=null&&d.unshift(Qu(n,g,x))):i||(g=Hu(n,a),g!=null&&d.push(Qu(n,g,x)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var KT=/\r\n?/g,ZT=/\u0000|\uFFFD/g;function qy(e){return(typeof e=="string"?e:""+e).replace(KT,`
`).replace(ZT,"")}function Pf(e,t,n){if(t=qy(t),qy(e)!==t&&n)throw Error(De(425))}function D0(){}var Dm=null,Im=null;function Rm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Om=typeof setTimeout=="function"?setTimeout:void 0,JT=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,ej=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(e){return Vy.resolve(null).then(e).catch(tj)}:Om;function tj(e){setTimeout(function(){throw e})}function O1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Yu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yu(t)}function to(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kc=Math.random().toString(36).slice(2),ki="__reactFiber$"+kc,Ku="__reactProps$"+kc,ma="__reactContainer$"+kc,Mm="__reactEvents$"+kc,nj="__reactListeners$"+kc,rj="__reactHandles$"+kc;function $o(e){var t=e[ki];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[ki]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yy(e);e!==null;){if(n=e[ki])return n;e=Yy(e)}return t}e=n,n=e.parentNode}return null}function gd(e){return e=e[ki]||e[ma],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(De(33))}function Th(e){return e[Ku]||null}var Lm=[],Yl=-1;function mo(e){return{current:e}}function xn(e){0>Yl||(e.current=Lm[Yl],Lm[Yl]=null,Yl--)}function un(e,t){Yl++,Lm[Yl]=e.current,e.current=t}var uo={},Rr=mo(uo),ts=mo(!1),sl=uo;function uc(e,t){var n=e.type.contextTypes;if(!n)return uo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ns(e){return e=e.childContextTypes,e!=null}function I0(){xn(ts),xn(Rr)}function $y(e,t,n){if(Rr.current!==uo)throw Error(De(168));un(Rr,t),un(ts,n)}function E4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(De(108,zk(e)||"Unknown",i));return Dn({},n,r)}function R0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||uo,sl=Rr.current,un(Rr,e),un(ts,ts.current),!0}function Gy(e,t,n){var r=e.stateNode;if(!r)throw Error(De(169));n?(e=E4(e,t,sl),r.__reactInternalMemoizedMergedChildContext=e,xn(ts),xn(Rr),un(Rr,e)):xn(ts),un(ts,n)}var sa=null,jh=!1,M1=!1;function N4(e){sa===null?sa=[e]:sa.push(e)}function sj(e){jh=!0,N4(e)}function xo(){if(!M1&&sa!==null){M1=!0;var e=0,t=tn;try{var n=sa;for(tn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sa=null,jh=!1}catch(i){throw sa!==null&&(sa=sa.slice(e+1)),X3(Zx,xo),i}finally{tn=t,M1=!1}}return null}var $l=[],Gl=0,O0=null,M0=0,zs=[],Ws=0,il=null,ia=1,aa="";function Ho(e,t){$l[Gl++]=M0,$l[Gl++]=O0,O0=e,M0=t}function _4(e,t,n){zs[Ws++]=ia,zs[Ws++]=aa,zs[Ws++]=il,il=e;var r=ia;e=aa;var i=32-oi(r)-1;r&=~(1<<i),n+=1;var a=32-oi(t)+i;if(30<a){var d=i-i%5;a=(r&(1<<d)-1).toString(32),r>>=d,i-=d,ia=1<<32-oi(t)+i|n<<i|r,aa=a+e}else ia=1<<a|n<<i|r,aa=e}function og(e){e.return!==null&&(Ho(e,1),_4(e,1,0))}function lg(e){for(;e===O0;)O0=$l[--Gl],$l[Gl]=null,M0=$l[--Gl],$l[Gl]=null;for(;e===il;)il=zs[--Ws],zs[Ws]=null,aa=zs[--Ws],zs[Ws]=null,ia=zs[--Ws],zs[Ws]=null}var bs=null,ys=null,Cn=!1,ai=null;function S4(e,t){var n=qs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bs=e,ys=to(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bs=e,ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=il!==null?{id:ia,overflow:aa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bs=e,ys=null,!0):!1;default:return!1}}function Pm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fm(e){if(Cn){var t=ys;if(t){var n=t;if(!Xy(e,t)){if(Pm(e))throw Error(De(418));t=to(n.nextSibling);var r=bs;t&&Xy(e,t)?S4(r,n):(e.flags=e.flags&-4097|2,Cn=!1,bs=e)}}else{if(Pm(e))throw Error(De(418));e.flags=e.flags&-4097|2,Cn=!1,bs=e}}}function Qy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bs=e}function Ff(e){if(e!==bs)return!1;if(!Cn)return Qy(e),Cn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rm(e.type,e.memoizedProps)),t&&(t=ys)){if(Pm(e))throw A4(),Error(De(418));for(;t;)S4(e,t),t=to(t.nextSibling)}if(Qy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ys=to(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ys=null}}else ys=bs?to(e.stateNode.nextSibling):null;return!0}function A4(){for(var e=ys;e;)e=to(e.nextSibling)}function dc(){ys=bs=null,Cn=!1}function cg(e){ai===null?ai=[e]:ai.push(e)}var ij=Ca.ReactCurrentBatchConfig;function gu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(d){var x=i.refs;d===null?delete x[a]:x[a]=d},t._stringRef=a,t)}if(typeof e!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,e))}return e}function Bf(e,t){throw e=Object.prototype.toString.call(t),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ky(e){var t=e._init;return t(e._payload)}function k4(e){function t(D,j){if(e){var O=D.deletions;O===null?(D.deletions=[j],D.flags|=16):O.push(j)}}function n(D,j){if(!e)return null;for(;j!==null;)t(D,j),j=j.sibling;return null}function r(D,j){for(D=new Map;j!==null;)j.key!==null?D.set(j.key,j):D.set(j.index,j),j=j.sibling;return D}function i(D,j){return D=io(D,j),D.index=0,D.sibling=null,D}function a(D,j,O){return D.index=O,e?(O=D.alternate,O!==null?(O=O.index,O<j?(D.flags|=2,j):O):(D.flags|=2,j)):(D.flags|=1048576,j)}function d(D){return e&&D.alternate===null&&(D.flags|=2),D}function x(D,j,O,W){return j===null||j.tag!==6?(j=W1(O,D.mode,W),j.return=D,j):(j=i(j,O),j.return=D,j)}function g(D,j,O,W){var Z=O.type;return Z===zl?w(D,j,O.props.children,W,O.key):j!==null&&(j.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Wa&&Ky(Z)===j.type)?(W=i(j,O.props),W.ref=gu(D,j,O),W.return=D,W):(W=u0(O.type,O.key,O.props,null,D.mode,W),W.ref=gu(D,j,O),W.return=D,W)}function v(D,j,O,W){return j===null||j.tag!==4||j.stateNode.containerInfo!==O.containerInfo||j.stateNode.implementation!==O.implementation?(j=H1(O,D.mode,W),j.return=D,j):(j=i(j,O.children||[]),j.return=D,j)}function w(D,j,O,W,Z){return j===null||j.tag!==7?(j=el(O,D.mode,W,Z),j.return=D,j):(j=i(j,O),j.return=D,j)}function E(D,j,O){if(typeof j=="string"&&j!==""||typeof j=="number")return j=W1(""+j,D.mode,O),j.return=D,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case kf:return O=u0(j.type,j.key,j.props,null,D.mode,O),O.ref=gu(D,null,j),O.return=D,O;case Ul:return j=H1(j,D.mode,O),j.return=D,j;case Wa:var W=j._init;return E(D,W(j._payload),O)}if(Su(j)||fu(j))return j=el(j,D.mode,O,null),j.return=D,j;Bf(D,j)}return null}function _(D,j,O,W){var Z=j!==null?j.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return Z!==null?null:x(D,j,""+O,W);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case kf:return O.key===Z?g(D,j,O,W):null;case Ul:return O.key===Z?v(D,j,O,W):null;case Wa:return Z=O._init,_(D,j,Z(O._payload),W)}if(Su(O)||fu(O))return Z!==null?null:w(D,j,O,W,null);Bf(D,O)}return null}function k(D,j,O,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number")return D=D.get(O)||null,x(j,D,""+W,Z);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case kf:return D=D.get(W.key===null?O:W.key)||null,g(j,D,W,Z);case Ul:return D=D.get(W.key===null?O:W.key)||null,v(j,D,W,Z);case Wa:var B=W._init;return k(D,j,O,B(W._payload),Z)}if(Su(W)||fu(W))return D=D.get(O)||null,w(j,D,W,Z,null);Bf(j,W)}return null}function A(D,j,O,W){for(var Z=null,B=null,R=j,V=j=0,Y=null;R!==null&&V<O.length;V++){R.index>V?(Y=R,R=null):Y=R.sibling;var ee=_(D,R,O[V],W);if(ee===null){R===null&&(R=Y);break}e&&R&&ee.alternate===null&&t(D,R),j=a(ee,j,V),B===null?Z=ee:B.sibling=ee,B=ee,R=Y}if(V===O.length)return n(D,R),Cn&&Ho(D,V),Z;if(R===null){for(;V<O.length;V++)R=E(D,O[V],W),R!==null&&(j=a(R,j,V),B===null?Z=R:B.sibling=R,B=R);return Cn&&Ho(D,V),Z}for(R=r(D,R);V<O.length;V++)Y=k(R,D,V,O[V],W),Y!==null&&(e&&Y.alternate!==null&&R.delete(Y.key===null?V:Y.key),j=a(Y,j,V),B===null?Z=Y:B.sibling=Y,B=Y);return e&&R.forEach(function(de){return t(D,de)}),Cn&&Ho(D,V),Z}function I(D,j,O,W){var Z=fu(O);if(typeof Z!="function")throw Error(De(150));if(O=Z.call(O),O==null)throw Error(De(151));for(var B=Z=null,R=j,V=j=0,Y=null,ee=O.next();R!==null&&!ee.done;V++,ee=O.next()){R.index>V?(Y=R,R=null):Y=R.sibling;var de=_(D,R,ee.value,W);if(de===null){R===null&&(R=Y);break}e&&R&&de.alternate===null&&t(D,R),j=a(de,j,V),B===null?Z=de:B.sibling=de,B=de,R=Y}if(ee.done)return n(D,R),Cn&&Ho(D,V),Z;if(R===null){for(;!ee.done;V++,ee=O.next())ee=E(D,ee.value,W),ee!==null&&(j=a(ee,j,V),B===null?Z=ee:B.sibling=ee,B=ee);return Cn&&Ho(D,V),Z}for(R=r(D,R);!ee.done;V++,ee=O.next())ee=k(R,D,V,ee.value,W),ee!==null&&(e&&ee.alternate!==null&&R.delete(ee.key===null?V:ee.key),j=a(ee,j,V),B===null?Z=ee:B.sibling=ee,B=ee);return e&&R.forEach(function(ie){return t(D,ie)}),Cn&&Ho(D,V),Z}function L(D,j,O,W){if(typeof O=="object"&&O!==null&&O.type===zl&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case kf:e:{for(var Z=O.key,B=j;B!==null;){if(B.key===Z){if(Z=O.type,Z===zl){if(B.tag===7){n(D,B.sibling),j=i(B,O.props.children),j.return=D,D=j;break e}}else if(B.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Wa&&Ky(Z)===B.type){n(D,B.sibling),j=i(B,O.props),j.ref=gu(D,B,O),j.return=D,D=j;break e}n(D,B);break}else t(D,B);B=B.sibling}O.type===zl?(j=el(O.props.children,D.mode,W,O.key),j.return=D,D=j):(W=u0(O.type,O.key,O.props,null,D.mode,W),W.ref=gu(D,j,O),W.return=D,D=W)}return d(D);case Ul:e:{for(B=O.key;j!==null;){if(j.key===B)if(j.tag===4&&j.stateNode.containerInfo===O.containerInfo&&j.stateNode.implementation===O.implementation){n(D,j.sibling),j=i(j,O.children||[]),j.return=D,D=j;break e}else{n(D,j);break}else t(D,j);j=j.sibling}j=H1(O,D.mode,W),j.return=D,D=j}return d(D);case Wa:return B=O._init,L(D,j,B(O._payload),W)}if(Su(O))return A(D,j,O,W);if(fu(O))return I(D,j,O,W);Bf(D,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,j!==null&&j.tag===6?(n(D,j.sibling),j=i(j,O),j.return=D,D=j):(n(D,j),j=W1(O,D.mode,W),j.return=D,D=j),d(D)):n(D,j)}return L}var fc=k4(!0),T4=k4(!1),L0=mo(null),P0=null,Xl=null,ug=null;function dg(){ug=Xl=P0=null}function fg(e){var t=L0.current;xn(L0),e._currentValue=t}function Bm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sc(e,t){P0=e,ug=Xl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(es=!0),e.firstContext=null)}function Ys(e){var t=e._currentValue;if(ug!==e)if(e={context:e,memoizedValue:t,next:null},Xl===null){if(P0===null)throw Error(De(308));Xl=e,P0.dependencies={lanes:0,firstContext:e}}else Xl=Xl.next=e;return t}var Go=null;function hg(e){Go===null?Go=[e]:Go.push(e)}function j4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,hg(t)):(n.next=i.next,i.next=n),t.interleaved=n,xa(e,r)}function xa(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ha=!1;function pg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function no(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ft&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,xa(e,n)}return i=r.interleaved,i===null?(t.next=t,hg(r)):(t.next=i.next,i.next=t),r.interleaved=t,xa(e,n)}function s0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jx(e,n)}}function Zy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=d:a=a.next=d,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function F0(e,t,n,r){var i=e.updateQueue;Ha=!1;var a=i.firstBaseUpdate,d=i.lastBaseUpdate,x=i.shared.pending;if(x!==null){i.shared.pending=null;var g=x,v=g.next;g.next=null,d===null?a=v:d.next=v,d=g;var w=e.alternate;w!==null&&(w=w.updateQueue,x=w.lastBaseUpdate,x!==d&&(x===null?w.firstBaseUpdate=v:x.next=v,w.lastBaseUpdate=g))}if(a!==null){var E=i.baseState;d=0,w=v=g=null,x=a;do{var _=x.lane,k=x.eventTime;if((r&_)===_){w!==null&&(w=w.next={eventTime:k,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var A=e,I=x;switch(_=t,k=n,I.tag){case 1:if(A=I.payload,typeof A=="function"){E=A.call(k,E,_);break e}E=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=I.payload,_=typeof A=="function"?A.call(k,E,_):A,_==null)break e;E=Dn({},E,_);break e;case 2:Ha=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[x]:_.push(x))}else k={eventTime:k,lane:_,tag:x.tag,payload:x.payload,callback:x.callback,next:null},w===null?(v=w=k,g=E):w=w.next=k,d|=_;if(x=x.next,x===null){if(x=i.shared.pending,x===null)break;_=x,x=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(1);if(w===null&&(g=E),i.baseState=g,i.firstBaseUpdate=v,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do d|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ol|=d,e.lanes=d,e.memoizedState=E}}function Jy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(De(191,i));i.call(r)}}}var vd={},Ri=mo(vd),Zu=mo(vd),Ju=mo(vd);function Xo(e){if(e===vd)throw Error(De(174));return e}function mg(e,t){switch(un(Ju,t),un(Zu,e),un(Ri,vd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ym(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ym(t,e)}xn(Ri),un(Ri,t)}function hc(){xn(Ri),xn(Zu),xn(Ju)}function I4(e){Xo(Ju.current);var t=Xo(Ri.current),n=ym(t,e.type);t!==n&&(un(Zu,e),un(Ri,n))}function xg(e){Zu.current===e&&(xn(Ri),xn(Zu))}var An=mo(0);function B0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var L1=[];function gg(){for(var e=0;e<L1.length;e++)L1[e]._workInProgressVersionPrimary=null;L1.length=0}var i0=Ca.ReactCurrentDispatcher,P1=Ca.ReactCurrentBatchConfig,al=0,Tn=null,ir=null,fr=null,U0=!1,Lu=!1,ed=0,aj=0;function kr(){throw Error(De(321))}function vg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!di(e[n],t[n]))return!1;return!0}function yg(e,t,n,r,i,a){if(al=a,Tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,i0.current=e===null||e.memoizedState===null?uj:dj,e=n(r,i),Lu){a=0;do{if(Lu=!1,ed=0,25<=a)throw Error(De(301));a+=1,fr=ir=null,t.updateQueue=null,i0.current=fj,e=n(r,i)}while(Lu)}if(i0.current=z0,t=ir!==null&&ir.next!==null,al=0,fr=ir=Tn=null,U0=!1,t)throw Error(De(300));return e}function wg(){var e=ed!==0;return ed=0,e}function Ni(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?Tn.memoizedState=fr=e:fr=fr.next=e,fr}function $s(){if(ir===null){var e=Tn.alternate;e=e!==null?e.memoizedState:null}else e=ir.next;var t=fr===null?Tn.memoizedState:fr.next;if(t!==null)fr=t,ir=e;else{if(e===null)throw Error(De(310));ir=e,e={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},fr===null?Tn.memoizedState=fr=e:fr=fr.next=e}return fr}function td(e,t){return typeof t=="function"?t(e):t}function F1(e){var t=$s(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=ir,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var d=i.next;i.next=a.next,a.next=d}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var x=d=null,g=null,v=a;do{var w=v.lane;if((al&w)===w)g!==null&&(g=g.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var E={lane:w,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};g===null?(x=g=E,d=r):g=g.next=E,Tn.lanes|=w,ol|=w}v=v.next}while(v!==null&&v!==a);g===null?d=r:g.next=x,di(r,t.memoizedState)||(es=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=g,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Tn.lanes|=a,ol|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function B1(e){var t=$s(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var d=i=i.next;do a=e(a,d.action),d=d.next;while(d!==i);di(a,t.memoizedState)||(es=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function R4(){}function O4(e,t){var n=Tn,r=$s(),i=t(),a=!di(r.memoizedState,i);if(a&&(r.memoizedState=i,es=!0),r=r.queue,bg(P4.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||fr!==null&&fr.memoizedState.tag&1){if(n.flags|=2048,nd(9,L4.bind(null,n,r,i,t),void 0,null),hr===null)throw Error(De(349));al&30||M4(n,t,i)}return i}function M4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Tn.updateQueue,t===null?(t={lastEffect:null,stores:null},Tn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function L4(e,t,n,r){t.value=n,t.getSnapshot=r,F4(t)&&B4(e)}function P4(e,t,n){return n(function(){F4(t)&&B4(e)})}function F4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!di(e,n)}catch{return!0}}function B4(e){var t=xa(e,1);t!==null&&li(t,e,1,-1)}function ew(e){var t=Ni();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:e},t.queue=e,e=e.dispatch=cj.bind(null,Tn,e),[t.memoizedState,e]}function nd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Tn.updateQueue,t===null?(t={lastEffect:null,stores:null},Tn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function U4(){return $s().memoizedState}function a0(e,t,n,r){var i=Ni();Tn.flags|=e,i.memoizedState=nd(1|t,n,void 0,r===void 0?null:r)}function Dh(e,t,n,r){var i=$s();r=r===void 0?null:r;var a=void 0;if(ir!==null){var d=ir.memoizedState;if(a=d.destroy,r!==null&&vg(r,d.deps)){i.memoizedState=nd(t,n,a,r);return}}Tn.flags|=e,i.memoizedState=nd(1|t,n,a,r)}function tw(e,t){return a0(8390656,8,e,t)}function bg(e,t){return Dh(2048,8,e,t)}function z4(e,t){return Dh(4,2,e,t)}function W4(e,t){return Dh(4,4,e,t)}function H4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function q4(e,t,n){return n=n!=null?n.concat([e]):null,Dh(4,4,H4.bind(null,t,e),n)}function Cg(){}function V4(e,t){var n=$s();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Y4(e,t){var n=$s();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $4(e,t,n){return al&21?(di(n,t)||(n=Z3(),Tn.lanes|=n,ol|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,es=!0),e.memoizedState=n)}function oj(e,t){var n=tn;tn=n!==0&&4>n?n:4,e(!0);var r=P1.transition;P1.transition={};try{e(!1),t()}finally{tn=n,P1.transition=r}}function G4(){return $s().memoizedState}function lj(e,t,n){var r=so(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},X4(e))Q4(t,n);else if(n=j4(e,t,n,r),n!==null){var i=qr();li(n,e,r,i),K4(n,t,r)}}function cj(e,t,n){var r=so(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(X4(e))Q4(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var d=t.lastRenderedState,x=a(d,n);if(i.hasEagerState=!0,i.eagerState=x,di(x,d)){var g=t.interleaved;g===null?(i.next=i,hg(t)):(i.next=g.next,g.next=i),t.interleaved=i;return}}catch{}finally{}n=j4(e,t,i,r),n!==null&&(i=qr(),li(n,e,r,i),K4(n,t,r))}}function X4(e){var t=e.alternate;return e===Tn||t!==null&&t===Tn}function Q4(e,t){Lu=U0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function K4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jx(e,n)}}var z0={readContext:Ys,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},uj={readContext:Ys,useCallback:function(e,t){return Ni().memoizedState=[e,t===void 0?null:t],e},useContext:Ys,useEffect:tw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,a0(4194308,4,H4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return a0(4194308,4,e,t)},useInsertionEffect:function(e,t){return a0(4,2,e,t)},useMemo:function(e,t){var n=Ni();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ni();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lj.bind(null,Tn,e),[r.memoizedState,e]},useRef:function(e){var t=Ni();return e={current:e},t.memoizedState=e},useState:ew,useDebugValue:Cg,useDeferredValue:function(e){return Ni().memoizedState=e},useTransition:function(){var e=ew(!1),t=e[0];return e=oj.bind(null,e[1]),Ni().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Tn,i=Ni();if(Cn){if(n===void 0)throw Error(De(407));n=n()}else{if(n=t(),hr===null)throw Error(De(349));al&30||M4(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,tw(P4.bind(null,r,a,e),[e]),r.flags|=2048,nd(9,L4.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ni(),t=hr.identifierPrefix;if(Cn){var n=aa,r=ia;n=(r&~(1<<32-oi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ed++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=aj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dj={readContext:Ys,useCallback:V4,useContext:Ys,useEffect:bg,useImperativeHandle:q4,useInsertionEffect:z4,useLayoutEffect:W4,useMemo:Y4,useReducer:F1,useRef:U4,useState:function(){return F1(td)},useDebugValue:Cg,useDeferredValue:function(e){var t=$s();return $4(t,ir.memoizedState,e)},useTransition:function(){var e=F1(td)[0],t=$s().memoizedState;return[e,t]},useMutableSource:R4,useSyncExternalStore:O4,useId:G4,unstable_isNewReconciler:!1},fj={readContext:Ys,useCallback:V4,useContext:Ys,useEffect:bg,useImperativeHandle:q4,useInsertionEffect:z4,useLayoutEffect:W4,useMemo:Y4,useReducer:B1,useRef:U4,useState:function(){return B1(td)},useDebugValue:Cg,useDeferredValue:function(e){var t=$s();return ir===null?t.memoizedState=e:$4(t,ir.memoizedState,e)},useTransition:function(){var e=B1(td)[0],t=$s().memoizedState;return[e,t]},useMutableSource:R4,useSyncExternalStore:O4,useId:G4,unstable_isNewReconciler:!1};function si(e,t){if(e&&e.defaultProps){t=Dn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Um(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Dn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ih={isMounted:function(e){return(e=e._reactInternals)?ml(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qr(),i=so(e),a=la(r,i);a.payload=t,n!=null&&(a.callback=n),t=no(e,a,i),t!==null&&(li(t,e,i,r),s0(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qr(),i=so(e),a=la(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=no(e,a,i),t!==null&&(li(t,e,i,r),s0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qr(),r=so(e),i=la(n,r);i.tag=2,t!=null&&(i.callback=t),t=no(e,i,r),t!==null&&(li(t,e,r,n),s0(t,e,r))}};function nw(e,t,n,r,i,a,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,d):t.prototype&&t.prototype.isPureReactComponent?!Gu(n,r)||!Gu(i,a):!0}function Z4(e,t,n){var r=!1,i=uo,a=t.contextType;return typeof a=="object"&&a!==null?a=Ys(a):(i=ns(t)?sl:Rr.current,r=t.contextTypes,a=(r=r!=null)?uc(e,i):uo),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ih,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function rw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ih.enqueueReplaceState(t,t.state,null)}function zm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},pg(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ys(a):(a=ns(t)?sl:Rr.current,i.context=uc(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Um(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ih.enqueueReplaceState(i,i.state,null),F0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function pc(e,t){try{var n="",r=t;do n+=Uk(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function U1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hj=typeof WeakMap=="function"?WeakMap:Map;function J4(e,t,n){n=la(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){H0||(H0=!0,Zm=r),Wm(e,t)},n}function eC(e,t,n){n=la(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Wm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Wm(e,t),typeof r!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function sw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hj;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Aj.bind(null,e,t,n),t.then(e,e))}function iw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function aw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=la(-1,1),t.tag=2,no(n,t,1))),n.lanes|=1),e)}var pj=Ca.ReactCurrentOwner,es=!1;function Br(e,t,n,r){t.child=e===null?T4(t,null,n,r):fc(t,e.child,n,r)}function ow(e,t,n,r,i){n=n.render;var a=t.ref;return sc(t,i),r=yg(e,t,n,r,a,i),n=wg(),e!==null&&!es?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ga(e,t,i)):(Cn&&n&&og(t),t.flags|=1,Br(e,t,r,i),t.child)}function lw(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!jg(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,tC(e,t,a,r,i)):(e=u0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var d=a.memoizedProps;if(n=n.compare,n=n!==null?n:Gu,n(d,r)&&e.ref===t.ref)return ga(e,t,i)}return t.flags|=1,e=io(a,r),e.ref=t.ref,e.return=t,t.child=e}function tC(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Gu(a,r)&&e.ref===t.ref)if(es=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(es=!0);else return t.lanes=e.lanes,ga(e,t,i)}return Hm(e,t,n,r,i)}function nC(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},un(Kl,gs),gs|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,un(Kl,gs),gs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,un(Kl,gs),gs|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,un(Kl,gs),gs|=r;return Br(e,t,i,n),t.child}function rC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hm(e,t,n,r,i){var a=ns(n)?sl:Rr.current;return a=uc(t,a),sc(t,i),n=yg(e,t,n,r,a,i),r=wg(),e!==null&&!es?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ga(e,t,i)):(Cn&&r&&og(t),t.flags|=1,Br(e,t,n,i),t.child)}function cw(e,t,n,r,i){if(ns(n)){var a=!0;R0(t)}else a=!1;if(sc(t,i),t.stateNode===null)o0(e,t),Z4(t,n,r),zm(t,n,r,i),r=!0;else if(e===null){var d=t.stateNode,x=t.memoizedProps;d.props=x;var g=d.context,v=n.contextType;typeof v=="object"&&v!==null?v=Ys(v):(v=ns(n)?sl:Rr.current,v=uc(t,v));var w=n.getDerivedStateFromProps,E=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function";E||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==r||g!==v)&&rw(t,d,r,v),Ha=!1;var _=t.memoizedState;d.state=_,F0(t,r,d,i),g=t.memoizedState,x!==r||_!==g||ts.current||Ha?(typeof w=="function"&&(Um(t,n,w,r),g=t.memoizedState),(x=Ha||nw(t,n,x,r,_,g,v))?(E||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=g),d.props=r,d.state=g,d.context=v,r=x):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,D4(e,t),x=t.memoizedProps,v=t.type===t.elementType?x:si(t.type,x),d.props=v,E=t.pendingProps,_=d.context,g=n.contextType,typeof g=="object"&&g!==null?g=Ys(g):(g=ns(n)?sl:Rr.current,g=uc(t,g));var k=n.getDerivedStateFromProps;(w=typeof k=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==E||_!==g)&&rw(t,d,r,g),Ha=!1,_=t.memoizedState,d.state=_,F0(t,r,d,i);var A=t.memoizedState;x!==E||_!==A||ts.current||Ha?(typeof k=="function"&&(Um(t,n,k,r),A=t.memoizedState),(v=Ha||nw(t,n,v,r,_,A,g)||!1)?(w||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,A,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,A,g)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),d.props=r,d.state=A,d.context=g,r=v):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return qm(e,t,n,r,a,i)}function qm(e,t,n,r,i,a){rC(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return i&&Gy(t,n,!1),ga(e,t,a);r=t.stateNode,pj.current=t;var x=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=fc(t,e.child,null,a),t.child=fc(t,null,x,a)):Br(e,t,x,a),t.memoizedState=r.state,i&&Gy(t,n,!0),t.child}function sC(e){var t=e.stateNode;t.pendingContext?$y(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$y(e,t.context,!1),mg(e,t.containerInfo)}function uw(e,t,n,r,i){return dc(),cg(i),t.flags|=256,Br(e,t,n,r),t.child}var Vm={dehydrated:null,treeContext:null,retryLane:0};function Ym(e){return{baseLanes:e,cachePool:null,transitions:null}}function iC(e,t,n){var r=t.pendingProps,i=An.current,a=!1,d=(t.flags&128)!==0,x;if((x=d)||(x=e!==null&&e.memoizedState===null?!1:(i&2)!==0),x?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),un(An,i&1),e===null)return Fm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=r.children,e=r.fallback,a?(r=t.mode,a=t.child,d={mode:"hidden",children:d},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=d):a=Mh(d,r,0,null),e=el(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ym(n),t.memoizedState=Vm,e):Eg(t,d));if(i=e.memoizedState,i!==null&&(x=i.dehydrated,x!==null))return mj(e,t,d,r,x,i,n);if(a){a=r.fallback,d=t.mode,i=e.child,x=i.sibling;var g={mode:"hidden",children:r.children};return!(d&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=g,t.deletions=null):(r=io(i,g),r.subtreeFlags=i.subtreeFlags&14680064),x!==null?a=io(x,a):(a=el(a,d,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,d=e.child.memoizedState,d=d===null?Ym(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},a.memoizedState=d,a.childLanes=e.childLanes&~n,t.memoizedState=Vm,r}return a=e.child,e=a.sibling,r=io(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Eg(e,t){return t=Mh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uf(e,t,n,r){return r!==null&&cg(r),fc(t,e.child,null,n),e=Eg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mj(e,t,n,r,i,a,d){if(n)return t.flags&256?(t.flags&=-257,r=U1(Error(De(422))),Uf(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mh({mode:"visible",children:r.children},i,0,null),a=el(a,i,d,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&fc(t,e.child,null,d),t.child.memoizedState=Ym(d),t.memoizedState=Vm,a);if(!(t.mode&1))return Uf(e,t,d,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var x=r.dgst;return r=x,a=Error(De(419)),r=U1(a,r,void 0),Uf(e,t,d,r)}if(x=(d&e.childLanes)!==0,es||x){if(r=hr,r!==null){switch(d&-d){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|d)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,xa(e,i),li(r,e,i,-1))}return Tg(),r=U1(Error(De(421))),Uf(e,t,d,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=kj.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ys=to(i.nextSibling),bs=t,Cn=!0,ai=null,e!==null&&(zs[Ws++]=ia,zs[Ws++]=aa,zs[Ws++]=il,ia=e.id,aa=e.overflow,il=t),t=Eg(t,r.children),t.flags|=4096,t)}function dw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bm(e.return,t,n)}function z1(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function aC(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Br(e,t,r.children,n),r=An.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dw(e,n,t);else if(e.tag===19)dw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(un(An,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&B0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),z1(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&B0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}z1(t,!0,n,null,a);break;case"together":z1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function o0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ga(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ol|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(De(153));if(t.child!==null){for(e=t.child,n=io(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=io(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xj(e,t,n){switch(t.tag){case 3:sC(t),dc();break;case 5:I4(t);break;case 1:ns(t.type)&&R0(t);break;case 4:mg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;un(L0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(un(An,An.current&1),t.flags|=128,null):n&t.child.childLanes?iC(e,t,n):(un(An,An.current&1),e=ga(e,t,n),e!==null?e.sibling:null);un(An,An.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return aC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),un(An,An.current),r)break;return null;case 22:case 23:return t.lanes=0,nC(e,t,n)}return ga(e,t,n)}var oC,$m,lC,cC;oC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$m=function(){};lC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(Ri.current);var a=null;switch(n){case"input":i=mm(e,i),r=mm(e,r),a=[];break;case"select":i=Dn({},i,{value:void 0}),r=Dn({},r,{value:void 0}),a=[];break;case"textarea":i=vm(e,i),r=vm(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=D0)}wm(n,r);var d;n=null;for(v in i)if(!r.hasOwnProperty(v)&&i.hasOwnProperty(v)&&i[v]!=null)if(v==="style"){var x=i[v];for(d in x)x.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(zu.hasOwnProperty(v)?a||(a=[]):(a=a||[]).push(v,null));for(v in r){var g=r[v];if(x=i!=null?i[v]:void 0,r.hasOwnProperty(v)&&g!==x&&(g!=null||x!=null))if(v==="style")if(x){for(d in x)!x.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in g)g.hasOwnProperty(d)&&x[d]!==g[d]&&(n||(n={}),n[d]=g[d])}else n||(a||(a=[]),a.push(v,n)),n=g;else v==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,x=x?x.__html:void 0,g!=null&&x!==g&&(a=a||[]).push(v,g)):v==="children"?typeof g!="string"&&typeof g!="number"||(a=a||[]).push(v,""+g):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(zu.hasOwnProperty(v)?(g!=null&&v==="onScroll"&&pn("scroll",e),a||x===g||(a=[])):(a=a||[]).push(v,g))}n&&(a=a||[]).push("style",n);var v=a;(t.updateQueue=v)&&(t.flags|=4)}};cC=function(e,t,n,r){n!==r&&(t.flags|=4)};function vu(e,t){if(!Cn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gj(e,t,n){var r=t.pendingProps;switch(lg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(t),null;case 1:return ns(t.type)&&I0(),Tr(t),null;case 3:return r=t.stateNode,hc(),xn(ts),xn(Rr),gg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ff(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ai!==null&&(tx(ai),ai=null))),$m(e,t),Tr(t),null;case 5:xg(t);var i=Xo(Ju.current);if(n=t.type,e!==null&&t.stateNode!=null)lC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(De(166));return Tr(t),null}if(e=Xo(Ri.current),Ff(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ki]=t,r[Ku]=a,e=(t.mode&1)!==0,n){case"dialog":pn("cancel",r),pn("close",r);break;case"iframe":case"object":case"embed":pn("load",r);break;case"video":case"audio":for(i=0;i<ku.length;i++)pn(ku[i],r);break;case"source":pn("error",r);break;case"img":case"image":case"link":pn("error",r),pn("load",r);break;case"details":pn("toggle",r);break;case"input":wy(r,a),pn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},pn("invalid",r);break;case"textarea":Cy(r,a),pn("invalid",r)}wm(n,a),i=null;for(var d in a)if(a.hasOwnProperty(d)){var x=a[d];d==="children"?typeof x=="string"?r.textContent!==x&&(a.suppressHydrationWarning!==!0&&Pf(r.textContent,x,e),i=["children",x]):typeof x=="number"&&r.textContent!==""+x&&(a.suppressHydrationWarning!==!0&&Pf(r.textContent,x,e),i=["children",""+x]):zu.hasOwnProperty(d)&&x!=null&&d==="onScroll"&&pn("scroll",r)}switch(n){case"input":Tf(r),by(r,a,!0);break;case"textarea":Tf(r),Ey(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=D0)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[ki]=t,e[Ku]=r,oC(e,t,!1,!1),t.stateNode=e;e:{switch(d=bm(n,r),n){case"dialog":pn("cancel",e),pn("close",e),i=r;break;case"iframe":case"object":case"embed":pn("load",e),i=r;break;case"video":case"audio":for(i=0;i<ku.length;i++)pn(ku[i],e);i=r;break;case"source":pn("error",e),i=r;break;case"img":case"image":case"link":pn("error",e),pn("load",e),i=r;break;case"details":pn("toggle",e),i=r;break;case"input":wy(e,r),i=mm(e,r),pn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Dn({},r,{value:void 0}),pn("invalid",e);break;case"textarea":Cy(e,r),i=vm(e,r),pn("invalid",e);break;default:i=r}wm(n,i),x=i;for(a in x)if(x.hasOwnProperty(a)){var g=x[a];a==="style"?U3(e,g):a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&F3(e,g)):a==="children"?typeof g=="string"?(n!=="textarea"||g!=="")&&Wu(e,g):typeof g=="number"&&Wu(e,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(zu.hasOwnProperty(a)?g!=null&&a==="onScroll"&&pn("scroll",e):g!=null&&$x(e,a,g,d))}switch(n){case"input":Tf(e),by(e,r,!1);break;case"textarea":Tf(e),Ey(e);break;case"option":r.value!=null&&e.setAttribute("value",""+co(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ec(e,!!r.multiple,a,!1):r.defaultValue!=null&&ec(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=D0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tr(t),null;case 6:if(e&&t.stateNode!=null)cC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(De(166));if(n=Xo(Ju.current),Xo(Ri.current),Ff(t)){if(r=t.stateNode,n=t.memoizedProps,r[ki]=t,(a=r.nodeValue!==n)&&(e=bs,e!==null))switch(e.tag){case 3:Pf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pf(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ki]=t,t.stateNode=r}return Tr(t),null;case 13:if(xn(An),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Cn&&ys!==null&&t.mode&1&&!(t.flags&128))A4(),dc(),t.flags|=98560,a=!1;else if(a=Ff(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(De(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(De(317));a[ki]=t}else dc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tr(t),a=!1}else ai!==null&&(tx(ai),ai=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||An.current&1?ar===0&&(ar=3):Tg())),t.updateQueue!==null&&(t.flags|=4),Tr(t),null);case 4:return hc(),$m(e,t),e===null&&Xu(t.stateNode.containerInfo),Tr(t),null;case 10:return fg(t.type._context),Tr(t),null;case 17:return ns(t.type)&&I0(),Tr(t),null;case 19:if(xn(An),a=t.memoizedState,a===null)return Tr(t),null;if(r=(t.flags&128)!==0,d=a.rendering,d===null)if(r)vu(a,!1);else{if(ar!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=B0(e),d!==null){for(t.flags|=128,vu(a,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,d=a.alternate,d===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,e=d.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return un(An,An.current&1|2),t.child}e=e.sibling}a.tail!==null&&Hn()>mc&&(t.flags|=128,r=!0,vu(a,!1),t.lanes=4194304)}else{if(!r)if(e=B0(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!Cn)return Tr(t),null}else 2*Hn()-a.renderingStartTime>mc&&n!==1073741824&&(t.flags|=128,r=!0,vu(a,!1),t.lanes=4194304);a.isBackwards?(d.sibling=t.child,t.child=d):(n=a.last,n!==null?n.sibling=d:t.child=d,a.last=d)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Hn(),t.sibling=null,n=An.current,un(An,r?n&1|2:n&1),t):(Tr(t),null);case 22:case 23:return kg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gs&1073741824&&(Tr(t),t.subtreeFlags&6&&(t.flags|=8192)):Tr(t),null;case 24:return null;case 25:return null}throw Error(De(156,t.tag))}function vj(e,t){switch(lg(t),t.tag){case 1:return ns(t.type)&&I0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hc(),xn(ts),xn(Rr),gg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xg(t),null;case 13:if(xn(An),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(De(340));dc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xn(An),null;case 4:return hc(),null;case 10:return fg(t.type._context),null;case 22:case 23:return kg(),null;case 24:return null;default:return null}}var zf=!1,jr=!1,yj=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Ql(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pn(e,t,r)}else n.current=null}function Gm(e,t,n){try{n()}catch(r){Pn(e,t,r)}}var fw=!1;function wj(e,t){if(Dm=k0,e=p4(),ag(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var d=0,x=-1,g=-1,v=0,w=0,E=e,_=null;t:for(;;){for(var k;E!==n||i!==0&&E.nodeType!==3||(x=d+i),E!==a||r!==0&&E.nodeType!==3||(g=d+r),E.nodeType===3&&(d+=E.nodeValue.length),(k=E.firstChild)!==null;)_=E,E=k;for(;;){if(E===e)break t;if(_===n&&++v===i&&(x=d),_===a&&++w===r&&(g=d),(k=E.nextSibling)!==null)break;E=_,_=E.parentNode}E=k}n=x===-1||g===-1?null:{start:x,end:g}}else n=null}n=n||{start:0,end:0}}else n=null;for(Im={focusedElem:e,selectionRange:n},k0=!1,Ve=t;Ve!==null;)if(t=Ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ve=e;else for(;Ve!==null;){t=Ve;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var I=A.memoizedProps,L=A.memoizedState,D=t.stateNode,j=D.getSnapshotBeforeUpdate(t.elementType===t.type?I:si(t.type,I),L);D.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(W){Pn(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,Ve=e;break}Ve=t.return}return A=fw,fw=!1,A}function Pu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Gm(t,n,a)}i=i.next}while(i!==r)}}function Rh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uC(e){var t=e.alternate;t!==null&&(e.alternate=null,uC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ki],delete t[Ku],delete t[Mm],delete t[nj],delete t[rj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dC(e){return e.tag===5||e.tag===3||e.tag===4}function hw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=D0));else if(r!==4&&(e=e.child,e!==null))for(Qm(e,t,n),e=e.sibling;e!==null;)Qm(e,t,n),e=e.sibling}function Km(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Km(e,t,n),e=e.sibling;e!==null;)Km(e,t,n),e=e.sibling}var vr=null,ii=!1;function Fa(e,t,n){for(n=n.child;n!==null;)fC(e,t,n),n=n.sibling}function fC(e,t,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(_h,n)}catch{}switch(n.tag){case 5:jr||Ql(n,t);case 6:var r=vr,i=ii;vr=null,Fa(e,t,n),vr=r,ii=i,vr!==null&&(ii?(e=vr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vr.removeChild(n.stateNode));break;case 18:vr!==null&&(ii?(e=vr,n=n.stateNode,e.nodeType===8?O1(e.parentNode,n):e.nodeType===1&&O1(e,n),Yu(e)):O1(vr,n.stateNode));break;case 4:r=vr,i=ii,vr=n.stateNode.containerInfo,ii=!0,Fa(e,t,n),vr=r,ii=i;break;case 0:case 11:case 14:case 15:if(!jr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,d=a.destroy;a=a.tag,d!==void 0&&(a&2||a&4)&&Gm(n,t,d),i=i.next}while(i!==r)}Fa(e,t,n);break;case 1:if(!jr&&(Ql(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(x){Pn(n,t,x)}Fa(e,t,n);break;case 21:Fa(e,t,n);break;case 22:n.mode&1?(jr=(r=jr)||n.memoizedState!==null,Fa(e,t,n),jr=r):Fa(e,t,n);break;default:Fa(e,t,n)}}function pw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yj),t.forEach(function(r){var i=Tj.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ri(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,d=t,x=d;e:for(;x!==null;){switch(x.tag){case 5:vr=x.stateNode,ii=!1;break e;case 3:vr=x.stateNode.containerInfo,ii=!0;break e;case 4:vr=x.stateNode.containerInfo,ii=!0;break e}x=x.return}if(vr===null)throw Error(De(160));fC(a,d,i),vr=null,ii=!1;var g=i.alternate;g!==null&&(g.return=null),i.return=null}catch(v){Pn(i,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hC(t,e),t=t.sibling}function hC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ri(t,e),wi(e),r&4){try{Pu(3,e,e.return),Rh(3,e)}catch(I){Pn(e,e.return,I)}try{Pu(5,e,e.return)}catch(I){Pn(e,e.return,I)}}break;case 1:ri(t,e),wi(e),r&512&&n!==null&&Ql(n,n.return);break;case 5:if(ri(t,e),wi(e),r&512&&n!==null&&Ql(n,n.return),e.flags&32){var i=e.stateNode;try{Wu(i,"")}catch(I){Pn(e,e.return,I)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,d=n!==null?n.memoizedProps:a,x=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{x==="input"&&a.type==="radio"&&a.name!=null&&M3(i,a),bm(x,d);var v=bm(x,a);for(d=0;d<g.length;d+=2){var w=g[d],E=g[d+1];w==="style"?U3(i,E):w==="dangerouslySetInnerHTML"?F3(i,E):w==="children"?Wu(i,E):$x(i,w,E,v)}switch(x){case"input":xm(i,a);break;case"textarea":L3(i,a);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var k=a.value;k!=null?ec(i,!!a.multiple,k,!1):_!==!!a.multiple&&(a.defaultValue!=null?ec(i,!!a.multiple,a.defaultValue,!0):ec(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ku]=a}catch(I){Pn(e,e.return,I)}}break;case 6:if(ri(t,e),wi(e),r&4){if(e.stateNode===null)throw Error(De(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(I){Pn(e,e.return,I)}}break;case 3:if(ri(t,e),wi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yu(t.containerInfo)}catch(I){Pn(e,e.return,I)}break;case 4:ri(t,e),wi(e);break;case 13:ri(t,e),wi(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Sg=Hn())),r&4&&pw(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(jr=(v=jr)||w,ri(t,e),jr=v):ri(t,e),wi(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!w&&e.mode&1)for(Ve=e,w=e.child;w!==null;){for(E=Ve=w;Ve!==null;){switch(_=Ve,k=_.child,_.tag){case 0:case 11:case 14:case 15:Pu(4,_,_.return);break;case 1:Ql(_,_.return);var A=_.stateNode;if(typeof A.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(I){Pn(r,n,I)}}break;case 5:Ql(_,_.return);break;case 22:if(_.memoizedState!==null){xw(E);continue}}k!==null?(k.return=_,Ve=k):xw(E)}w=w.sibling}e:for(w=null,E=e;;){if(E.tag===5){if(w===null){w=E;try{i=E.stateNode,v?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(x=E.stateNode,g=E.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,x.style.display=B3("display",d))}catch(I){Pn(e,e.return,I)}}}else if(E.tag===6){if(w===null)try{E.stateNode.nodeValue=v?"":E.memoizedProps}catch(I){Pn(e,e.return,I)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;w===E&&(w=null),E=E.return}w===E&&(w=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:ri(t,e),wi(e),r&4&&pw(e);break;case 21:break;default:ri(t,e),wi(e)}}function wi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dC(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wu(i,""),r.flags&=-33);var a=hw(e);Km(e,a,i);break;case 3:case 4:var d=r.stateNode.containerInfo,x=hw(e);Qm(e,x,d);break;default:throw Error(De(161))}}catch(g){Pn(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bj(e,t,n){Ve=e,pC(e)}function pC(e,t,n){for(var r=(e.mode&1)!==0;Ve!==null;){var i=Ve,a=i.child;if(i.tag===22&&r){var d=i.memoizedState!==null||zf;if(!d){var x=i.alternate,g=x!==null&&x.memoizedState!==null||jr;x=zf;var v=jr;if(zf=d,(jr=g)&&!v)for(Ve=i;Ve!==null;)d=Ve,g=d.child,d.tag===22&&d.memoizedState!==null?gw(i):g!==null?(g.return=d,Ve=g):gw(i);for(;a!==null;)Ve=a,pC(a),a=a.sibling;Ve=i,zf=x,jr=v}mw(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ve=a):mw(e)}}function mw(e){for(;Ve!==null;){var t=Ve;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jr||Rh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!jr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:si(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Jy(t,a,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jy(t,d,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&n.focus();break;case"img":g.src&&(n.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var w=v.memoizedState;if(w!==null){var E=w.dehydrated;E!==null&&Yu(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}jr||t.flags&512&&Xm(t)}catch(_){Pn(t,t.return,_)}}if(t===e){Ve=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ve=n;break}Ve=t.return}}function xw(e){for(;Ve!==null;){var t=Ve;if(t===e){Ve=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ve=n;break}Ve=t.return}}function gw(e){for(;Ve!==null;){var t=Ve;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Rh(4,t)}catch(g){Pn(t,n,g)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(g){Pn(t,i,g)}}var a=t.return;try{Xm(t)}catch(g){Pn(t,a,g)}break;case 5:var d=t.return;try{Xm(t)}catch(g){Pn(t,d,g)}}}catch(g){Pn(t,t.return,g)}if(t===e){Ve=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Ve=x;break}Ve=t.return}}var Cj=Math.ceil,W0=Ca.ReactCurrentDispatcher,Ng=Ca.ReactCurrentOwner,Vs=Ca.ReactCurrentBatchConfig,Ft=0,hr=null,Zn=null,yr=0,gs=0,Kl=mo(0),ar=0,rd=null,ol=0,Oh=0,_g=0,Fu=null,Jr=null,Sg=0,mc=1/0,ra=null,H0=!1,Zm=null,ro=null,Wf=!1,Xa=null,q0=0,Bu=0,Jm=null,l0=-1,c0=0;function qr(){return Ft&6?Hn():l0!==-1?l0:l0=Hn()}function so(e){return e.mode&1?Ft&2&&yr!==0?yr&-yr:ij.transition!==null?(c0===0&&(c0=Z3()),c0):(e=tn,e!==0||(e=window.event,e=e===void 0?16:i4(e.type)),e):1}function li(e,t,n,r){if(50<Bu)throw Bu=0,Jm=null,Error(De(185));md(e,n,r),(!(Ft&2)||e!==hr)&&(e===hr&&(!(Ft&2)&&(Oh|=n),ar===4&&Ya(e,yr)),rs(e,r),n===1&&Ft===0&&!(t.mode&1)&&(mc=Hn()+500,jh&&xo()))}function rs(e,t){var n=e.callbackNode;iT(e,t);var r=A0(e,e===hr?yr:0);if(r===0)n!==null&&Sy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sy(n),t===1)e.tag===0?sj(vw.bind(null,e)):N4(vw.bind(null,e)),ej(function(){!(Ft&6)&&xo()}),n=null;else{switch(J3(r)){case 1:n=Zx;break;case 4:n=Q3;break;case 16:n=S0;break;case 536870912:n=K3;break;default:n=S0}n=CC(n,mC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mC(e,t){if(l0=-1,c0=0,Ft&6)throw Error(De(327));var n=e.callbackNode;if(ic()&&e.callbackNode!==n)return null;var r=A0(e,e===hr?yr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=V0(e,r);else{t=r;var i=Ft;Ft|=2;var a=gC();(hr!==e||yr!==t)&&(ra=null,mc=Hn()+500,Jo(e,t));do try{_j();break}catch(x){xC(e,x)}while(1);dg(),W0.current=a,Ft=i,Zn!==null?t=0:(hr=null,yr=0,t=ar)}if(t!==0){if(t===2&&(i=Sm(e),i!==0&&(r=i,t=ex(e,i))),t===1)throw n=rd,Jo(e,0),Ya(e,r),rs(e,Hn()),n;if(t===6)Ya(e,r);else{if(i=e.current.alternate,!(r&30)&&!Ej(i)&&(t=V0(e,r),t===2&&(a=Sm(e),a!==0&&(r=a,t=ex(e,a))),t===1))throw n=rd,Jo(e,0),Ya(e,r),rs(e,Hn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(De(345));case 2:qo(e,Jr,ra);break;case 3:if(Ya(e,r),(r&130023424)===r&&(t=Sg+500-Hn(),10<t)){if(A0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){qr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Om(qo.bind(null,e,Jr,ra),t);break}qo(e,Jr,ra);break;case 4:if(Ya(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var d=31-oi(r);a=1<<d,d=t[d],d>i&&(i=d),r&=~a}if(r=i,r=Hn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cj(r/1960))-r,10<r){e.timeoutHandle=Om(qo.bind(null,e,Jr,ra),r);break}qo(e,Jr,ra);break;case 5:qo(e,Jr,ra);break;default:throw Error(De(329))}}}return rs(e,Hn()),e.callbackNode===n?mC.bind(null,e):null}function ex(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(Jo(e,t).flags|=256),e=V0(e,t),e!==2&&(t=Jr,Jr=n,t!==null&&tx(t)),e}function tx(e){Jr===null?Jr=e:Jr.push.apply(Jr,e)}function Ej(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!di(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ya(e,t){for(t&=~_g,t&=~Oh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-oi(t),r=1<<n;e[n]=-1,t&=~r}}function vw(e){if(Ft&6)throw Error(De(327));ic();var t=A0(e,0);if(!(t&1))return rs(e,Hn()),null;var n=V0(e,t);if(e.tag!==0&&n===2){var r=Sm(e);r!==0&&(t=r,n=ex(e,r))}if(n===1)throw n=rd,Jo(e,0),Ya(e,t),rs(e,Hn()),n;if(n===6)throw Error(De(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qo(e,Jr,ra),rs(e,Hn()),null}function Ag(e,t){var n=Ft;Ft|=1;try{return e(t)}finally{Ft=n,Ft===0&&(mc=Hn()+500,jh&&xo())}}function ll(e){Xa!==null&&Xa.tag===0&&!(Ft&6)&&ic();var t=Ft;Ft|=1;var n=Vs.transition,r=tn;try{if(Vs.transition=null,tn=1,e)return e()}finally{tn=r,Vs.transition=n,Ft=t,!(Ft&6)&&xo()}}function kg(){gs=Kl.current,xn(Kl)}function Jo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,JT(n)),Zn!==null)for(n=Zn.return;n!==null;){var r=n;switch(lg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&I0();break;case 3:hc(),xn(ts),xn(Rr),gg();break;case 5:xg(r);break;case 4:hc();break;case 13:xn(An);break;case 19:xn(An);break;case 10:fg(r.type._context);break;case 22:case 23:kg()}n=n.return}if(hr=e,Zn=e=io(e.current,null),yr=gs=t,ar=0,rd=null,_g=Oh=ol=0,Jr=Fu=null,Go!==null){for(t=0;t<Go.length;t++)if(n=Go[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var d=a.next;a.next=i,r.next=d}n.pending=r}Go=null}return e}function xC(e,t){do{var n=Zn;try{if(dg(),i0.current=z0,U0){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}U0=!1}if(al=0,fr=ir=Tn=null,Lu=!1,ed=0,Ng.current=null,n===null||n.return===null){ar=1,rd=t,Zn=null;break}e:{var a=e,d=n.return,x=n,g=t;if(t=yr,x.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var v=g,w=x,E=w.tag;if(!(w.mode&1)&&(E===0||E===11||E===15)){var _=w.alternate;_?(w.updateQueue=_.updateQueue,w.memoizedState=_.memoizedState,w.lanes=_.lanes):(w.updateQueue=null,w.memoizedState=null)}var k=iw(d);if(k!==null){k.flags&=-257,aw(k,d,x,a,t),k.mode&1&&sw(a,v,t),t=k,g=v;var A=t.updateQueue;if(A===null){var I=new Set;I.add(g),t.updateQueue=I}else A.add(g);break e}else{if(!(t&1)){sw(a,v,t),Tg();break e}g=Error(De(426))}}else if(Cn&&x.mode&1){var L=iw(d);if(L!==null){!(L.flags&65536)&&(L.flags|=256),aw(L,d,x,a,t),cg(pc(g,x));break e}}a=g=pc(g,x),ar!==4&&(ar=2),Fu===null?Fu=[a]:Fu.push(a),a=d;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var D=J4(a,g,t);Zy(a,D);break e;case 1:x=g;var j=a.type,O=a.stateNode;if(!(a.flags&128)&&(typeof j.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(ro===null||!ro.has(O)))){a.flags|=65536,t&=-t,a.lanes|=t;var W=eC(a,x,t);Zy(a,W);break e}}a=a.return}while(a!==null)}yC(n)}catch(Z){t=Z,Zn===n&&n!==null&&(Zn=n=n.return);continue}break}while(1)}function gC(){var e=W0.current;return W0.current=z0,e===null?z0:e}function Tg(){(ar===0||ar===3||ar===2)&&(ar=4),hr===null||!(ol&268435455)&&!(Oh&268435455)||Ya(hr,yr)}function V0(e,t){var n=Ft;Ft|=2;var r=gC();(hr!==e||yr!==t)&&(ra=null,Jo(e,t));do try{Nj();break}catch(i){xC(e,i)}while(1);if(dg(),Ft=n,W0.current=r,Zn!==null)throw Error(De(261));return hr=null,yr=0,ar}function Nj(){for(;Zn!==null;)vC(Zn)}function _j(){for(;Zn!==null&&!Qk();)vC(Zn)}function vC(e){var t=bC(e.alternate,e,gs);e.memoizedProps=e.pendingProps,t===null?yC(e):Zn=t,Ng.current=null}function yC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vj(n,t),n!==null){n.flags&=32767,Zn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ar=6,Zn=null;return}}else if(n=gj(n,t,gs),n!==null){Zn=n;return}if(t=t.sibling,t!==null){Zn=t;return}Zn=t=e}while(t!==null);ar===0&&(ar=5)}function qo(e,t,n){var r=tn,i=Vs.transition;try{Vs.transition=null,tn=1,Sj(e,t,n,r)}finally{Vs.transition=i,tn=r}return null}function Sj(e,t,n,r){do ic();while(Xa!==null);if(Ft&6)throw Error(De(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(De(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(aT(e,a),e===hr&&(Zn=hr=null,yr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wf||(Wf=!0,CC(S0,function(){return ic(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Vs.transition,Vs.transition=null;var d=tn;tn=1;var x=Ft;Ft|=4,Ng.current=null,wj(e,n),hC(n,e),YT(Im),k0=!!Dm,Im=Dm=null,e.current=n,bj(n),Kk(),Ft=x,tn=d,Vs.transition=a}else e.current=n;if(Wf&&(Wf=!1,Xa=e,q0=i),a=e.pendingLanes,a===0&&(ro=null),eT(n.stateNode),rs(e,Hn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(H0)throw H0=!1,e=Zm,Zm=null,e;return q0&1&&e.tag!==0&&ic(),a=e.pendingLanes,a&1?e===Jm?Bu++:(Bu=0,Jm=e):Bu=0,xo(),null}function ic(){if(Xa!==null){var e=J3(q0),t=Vs.transition,n=tn;try{if(Vs.transition=null,tn=16>e?16:e,Xa===null)var r=!1;else{if(e=Xa,Xa=null,q0=0,Ft&6)throw Error(De(331));var i=Ft;for(Ft|=4,Ve=e.current;Ve!==null;){var a=Ve,d=a.child;if(Ve.flags&16){var x=a.deletions;if(x!==null){for(var g=0;g<x.length;g++){var v=x[g];for(Ve=v;Ve!==null;){var w=Ve;switch(w.tag){case 0:case 11:case 15:Pu(8,w,a)}var E=w.child;if(E!==null)E.return=w,Ve=E;else for(;Ve!==null;){w=Ve;var _=w.sibling,k=w.return;if(uC(w),w===v){Ve=null;break}if(_!==null){_.return=k,Ve=_;break}Ve=k}}}var A=a.alternate;if(A!==null){var I=A.child;if(I!==null){A.child=null;do{var L=I.sibling;I.sibling=null,I=L}while(I!==null)}}Ve=a}}if(a.subtreeFlags&2064&&d!==null)d.return=a,Ve=d;else e:for(;Ve!==null;){if(a=Ve,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pu(9,a,a.return)}var D=a.sibling;if(D!==null){D.return=a.return,Ve=D;break e}Ve=a.return}}var j=e.current;for(Ve=j;Ve!==null;){d=Ve;var O=d.child;if(d.subtreeFlags&2064&&O!==null)O.return=d,Ve=O;else e:for(d=j;Ve!==null;){if(x=Ve,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Rh(9,x)}}catch(Z){Pn(x,x.return,Z)}if(x===d){Ve=null;break e}var W=x.sibling;if(W!==null){W.return=x.return,Ve=W;break e}Ve=x.return}}if(Ft=i,xo(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(_h,e)}catch{}r=!0}return r}finally{tn=n,Vs.transition=t}}return!1}function yw(e,t,n){t=pc(n,t),t=J4(e,t,1),e=no(e,t,1),t=qr(),e!==null&&(md(e,1,t),rs(e,t))}function Pn(e,t,n){if(e.tag===3)yw(e,e,n);else for(;t!==null;){if(t.tag===3){yw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ro===null||!ro.has(r))){e=pc(n,e),e=eC(t,e,1),t=no(t,e,1),e=qr(),t!==null&&(md(t,1,e),rs(t,e));break}}t=t.return}}function Aj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qr(),e.pingedLanes|=e.suspendedLanes&n,hr===e&&(yr&n)===n&&(ar===4||ar===3&&(yr&130023424)===yr&&500>Hn()-Sg?Jo(e,0):_g|=n),rs(e,t)}function wC(e,t){t===0&&(e.mode&1?(t=If,If<<=1,!(If&130023424)&&(If=4194304)):t=1);var n=qr();e=xa(e,t),e!==null&&(md(e,t,n),rs(e,n))}function kj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wC(e,n)}function Tj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(t),wC(e,n)}var bC;bC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ts.current)es=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return es=!1,xj(e,t,n);es=!!(e.flags&131072)}else es=!1,Cn&&t.flags&1048576&&_4(t,M0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;o0(e,t),e=t.pendingProps;var i=uc(t,Rr.current);sc(t,n),i=yg(null,t,r,e,i,n);var a=wg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ns(r)?(a=!0,R0(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pg(t),i.updater=Ih,t.stateNode=i,i._reactInternals=t,zm(t,r,e,n),t=qm(null,t,r,!0,a,n)):(t.tag=0,Cn&&a&&og(t),Br(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(o0(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Dj(r),e=si(r,e),i){case 0:t=Hm(null,t,r,e,n);break e;case 1:t=cw(null,t,r,e,n);break e;case 11:t=ow(null,t,r,e,n);break e;case 14:t=lw(null,t,r,si(r.type,e),n);break e}throw Error(De(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:si(r,i),Hm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:si(r,i),cw(e,t,r,i,n);case 3:e:{if(sC(t),e===null)throw Error(De(387));r=t.pendingProps,a=t.memoizedState,i=a.element,D4(e,t),F0(t,r,null,n);var d=t.memoizedState;if(r=d.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=pc(Error(De(423)),t),t=uw(e,t,r,n,i);break e}else if(r!==i){i=pc(Error(De(424)),t),t=uw(e,t,r,n,i);break e}else for(ys=to(t.stateNode.containerInfo.firstChild),bs=t,Cn=!0,ai=null,n=T4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dc(),r===i){t=ga(e,t,n);break e}Br(e,t,r,n)}t=t.child}return t;case 5:return I4(t),e===null&&Fm(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,d=i.children,Rm(r,i)?d=null:a!==null&&Rm(r,a)&&(t.flags|=32),rC(e,t),Br(e,t,d,n),t.child;case 6:return e===null&&Fm(t),null;case 13:return iC(e,t,n);case 4:return mg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fc(t,null,r,n):Br(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:si(r,i),ow(e,t,r,i,n);case 7:return Br(e,t,t.pendingProps,n),t.child;case 8:return Br(e,t,t.pendingProps.children,n),t.child;case 12:return Br(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,d=i.value,un(L0,r._currentValue),r._currentValue=d,a!==null)if(di(a.value,d)){if(a.children===i.children&&!ts.current){t=ga(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var x=a.dependencies;if(x!==null){d=a.child;for(var g=x.firstContext;g!==null;){if(g.context===r){if(a.tag===1){g=la(-1,n&-n),g.tag=2;var v=a.updateQueue;if(v!==null){v=v.shared;var w=v.pending;w===null?g.next=g:(g.next=w.next,w.next=g),v.pending=g}}a.lanes|=n,g=a.alternate,g!==null&&(g.lanes|=n),Bm(a.return,n,t),x.lanes|=n;break}g=g.next}}else if(a.tag===10)d=a.type===t.type?null:a.child;else if(a.tag===18){if(d=a.return,d===null)throw Error(De(341));d.lanes|=n,x=d.alternate,x!==null&&(x.lanes|=n),Bm(d,n,t),d=a.sibling}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===t){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}Br(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,sc(t,n),i=Ys(i),r=r(i),t.flags|=1,Br(e,t,r,n),t.child;case 14:return r=t.type,i=si(r,t.pendingProps),i=si(r.type,i),lw(e,t,r,i,n);case 15:return tC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:si(r,i),o0(e,t),t.tag=1,ns(r)?(e=!0,R0(t)):e=!1,sc(t,n),Z4(t,r,i),zm(t,r,i,n),qm(null,t,r,!0,e,n);case 19:return aC(e,t,n);case 22:return nC(e,t,n)}throw Error(De(156,t.tag))};function CC(e,t){return X3(e,t)}function jj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(e,t,n,r){return new jj(e,t,n,r)}function jg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dj(e){if(typeof e=="function")return jg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xx)return 11;if(e===Qx)return 14}return 2}function io(e,t){var n=e.alternate;return n===null?(n=qs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function u0(e,t,n,r,i,a){var d=2;if(r=e,typeof e=="function")jg(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case zl:return el(n.children,i,a,t);case Gx:d=8,i|=8;break;case dm:return e=qs(12,n,t,i|2),e.elementType=dm,e.lanes=a,e;case fm:return e=qs(13,n,t,i),e.elementType=fm,e.lanes=a,e;case hm:return e=qs(19,n,t,i),e.elementType=hm,e.lanes=a,e;case I3:return Mh(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j3:d=10;break e;case D3:d=9;break e;case Xx:d=11;break e;case Qx:d=14;break e;case Wa:d=16,r=null;break e}throw Error(De(130,e==null?e:typeof e,""))}return t=qs(d,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function el(e,t,n,r){return e=qs(7,e,r,t),e.lanes=n,e}function Mh(e,t,n,r){return e=qs(22,e,r,t),e.elementType=I3,e.lanes=n,e.stateNode={isHidden:!1},e}function W1(e,t,n){return e=qs(6,e,null,t),e.lanes=n,e}function H1(e,t,n){return t=qs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ij(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=E1(0),this.expirationTimes=E1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dg(e,t,n,r,i,a,d,x,g){return e=new Ij(e,t,n,x,g),t===1?(t=1,a===!0&&(t|=8)):t=0,a=qs(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pg(a),e}function Rj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function EC(e){if(!e)return uo;e=e._reactInternals;e:{if(ml(e)!==e||e.tag!==1)throw Error(De(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ns(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(De(171))}if(e.tag===1){var n=e.type;if(ns(n))return E4(e,n,t)}return t}function NC(e,t,n,r,i,a,d,x,g){return e=Dg(n,r,!0,e,i,a,d,x,g),e.context=EC(null),n=e.current,r=qr(),i=so(n),a=la(r,i),a.callback=t??null,no(n,a,i),e.current.lanes=i,md(e,i,r),rs(e,r),e}function Lh(e,t,n,r){var i=t.current,a=qr(),d=so(i);return n=EC(n),t.context===null?t.context=n:t.pendingContext=n,t=la(a,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=no(i,t,d),e!==null&&(li(e,i,d,a),s0(e,i,d)),d}function Y0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ww(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ig(e,t){ww(e,t),(e=e.alternate)&&ww(e,t)}function Oj(){return null}var _C=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rg(e){this._internalRoot=e}Ph.prototype.render=Rg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(De(409));Lh(e,t,null,null)};Ph.prototype.unmount=Rg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ll(function(){Lh(null,e,null,null)}),t[ma]=null}};function Ph(e){this._internalRoot=e}Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=n4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Va.length&&t!==0&&t<Va[n].priority;n++);Va.splice(n,0,e),n===0&&s4(e)}};function Og(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bw(){}function Mj(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var v=Y0(d);a.call(v)}}var d=NC(t,r,e,0,null,!1,!1,"",bw);return e._reactRootContainer=d,e[ma]=d.current,Xu(e.nodeType===8?e.parentNode:e),ll(),d}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var x=r;r=function(){var v=Y0(g);x.call(v)}}var g=Dg(e,0,!1,null,null,!1,!1,"",bw);return e._reactRootContainer=g,e[ma]=g.current,Xu(e.nodeType===8?e.parentNode:e),ll(function(){Lh(t,g,n,r)}),g}function Bh(e,t,n,r,i){var a=n._reactRootContainer;if(a){var d=a;if(typeof i=="function"){var x=i;i=function(){var g=Y0(d);x.call(g)}}Lh(t,d,e,i)}else d=Mj(n,t,e,i,r);return Y0(d)}e4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Au(t.pendingLanes);n!==0&&(Jx(t,n|1),rs(t,Hn()),!(Ft&6)&&(mc=Hn()+500,xo()))}break;case 13:ll(function(){var r=xa(e,1);if(r!==null){var i=qr();li(r,e,1,i)}}),Ig(e,1)}};eg=function(e){if(e.tag===13){var t=xa(e,134217728);if(t!==null){var n=qr();li(t,e,134217728,n)}Ig(e,134217728)}};t4=function(e){if(e.tag===13){var t=so(e),n=xa(e,t);if(n!==null){var r=qr();li(n,e,t,r)}Ig(e,t)}};n4=function(){return tn};r4=function(e,t){var n=tn;try{return tn=e,t()}finally{tn=n}};Em=function(e,t,n){switch(t){case"input":if(xm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Th(r);if(!i)throw Error(De(90));O3(r),xm(r,i)}}}break;case"textarea":L3(e,n);break;case"select":t=n.value,t!=null&&ec(e,!!n.multiple,t,!1)}};H3=Ag;q3=ll;var Lj={usingClientEntryPoint:!1,Events:[gd,Vl,Th,z3,W3,Ag]},yu={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pj={bundleType:yu.bundleType,version:yu.version,rendererPackageName:yu.rendererPackageName,rendererConfig:yu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$3(e),e===null?null:e.stateNode},findFiberByHostInstance:yu.findFiberByHostInstance||Oj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hf.isDisabled&&Hf.supportsFiber)try{_h=Hf.inject(Pj),Ii=Hf}catch{}}Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lj;Ns.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Og(t))throw Error(De(200));return Rj(e,t,null,n)};Ns.createRoot=function(e,t){if(!Og(e))throw Error(De(299));var n=!1,r="",i=_C;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Dg(e,1,!1,null,null,n,!1,r,i),e[ma]=t.current,Xu(e.nodeType===8?e.parentNode:e),new Rg(t)};Ns.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=$3(t),e=e===null?null:e.stateNode,e};Ns.flushSync=function(e){return ll(e)};Ns.hydrate=function(e,t,n){if(!Fh(t))throw Error(De(200));return Bh(null,e,t,!0,n)};Ns.hydrateRoot=function(e,t,n){if(!Og(e))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",d=_C;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=NC(t,null,e,1,n??null,i,!1,a,d),e[ma]=t.current,Xu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ph(t)};Ns.render=function(e,t,n){if(!Fh(t))throw Error(De(200));return Bh(null,e,t,!1,n)};Ns.unmountComponentAtNode=function(e){if(!Fh(e))throw Error(De(40));return e._reactRootContainer?(ll(function(){Bh(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0):!1};Ns.unstable_batchedUpdates=Ag;Ns.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fh(n))throw Error(De(200));if(e==null||e._reactInternals===void 0)throw Error(De(38));return Bh(e,t,n,!1,r)};Ns.version="18.3.1-next-f1338f8080-20240426";function SC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SC)}catch(e){console.error(e)}}SC(),S3.exports=Ns;var Mg=S3.exports;const Fj=Eh(Mg);var Cw=Mg;cm.createRoot=Cw.createRoot,cm.hydrateRoot=Cw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sd.apply(this,arguments)}var Qa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qa||(Qa={}));const Ew="popstate";function Bj(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:d,hash:x}=r.location;return nx("",{pathname:a,search:d,hash:x},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$0(i)}return zj(t,n,null,e)}function $n(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Uj(){return Math.random().toString(36).substr(2,8)}function Nw(e,t){return{usr:e.state,key:e.key,idx:t}}function nx(e,t,n,r){return n===void 0&&(n=null),sd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tc(t):t,{state:n,key:t&&t.key||r||Uj()})}function $0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Tc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function zj(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,d=i.history,x=Qa.Pop,g=null,v=w();v==null&&(v=0,d.replaceState(sd({},d.state,{idx:v}),""));function w(){return(d.state||{idx:null}).idx}function E(){x=Qa.Pop;let L=w(),D=L==null?null:L-v;v=L,g&&g({action:x,location:I.location,delta:D})}function _(L,D){x=Qa.Push;let j=nx(I.location,L,D);n&&n(j,L),v=w()+1;let O=Nw(j,v),W=I.createHref(j);try{d.pushState(O,"",W)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;i.location.assign(W)}a&&g&&g({action:x,location:I.location,delta:1})}function k(L,D){x=Qa.Replace;let j=nx(I.location,L,D);n&&n(j,L),v=w();let O=Nw(j,v),W=I.createHref(j);d.replaceState(O,"",W),a&&g&&g({action:x,location:I.location,delta:0})}function A(L){let D=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof L=="string"?L:$0(L);return j=j.replace(/ $/,"%20"),$n(D,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,D)}let I={get action(){return x},get location(){return e(i,d)},listen(L){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(Ew,E),g=L,()=>{i.removeEventListener(Ew,E),g=null}},createHref(L){return t(i,L)},createURL:A,encodeLocation(L){let D=A(L);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:k,go(L){return d.go(L)}};return I}var _w;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_w||(_w={}));function Wj(e,t,n){return n===void 0&&(n="/"),Hj(e,t,n,!1)}function Hj(e,t,n,r){let i=typeof t=="string"?Tc(t):t,a=Lg(i.pathname||"/",n);if(a==null)return null;let d=kC(e);qj(d);let x=null;for(let g=0;x==null&&g<d.length;++g){let v=tD(a);x=Jj(d[g],v,r)}return x}function kC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,d,x)=>{let g={relativePath:x===void 0?a.path||"":x,caseSensitive:a.caseSensitive===!0,childrenIndex:d,route:a};g.relativePath.startsWith("/")&&($n(g.relativePath.startsWith(r),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(r.length));let v=ao([r,g.relativePath]),w=n.concat(g);a.children&&a.children.length>0&&($n(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),kC(a.children,t,w,v)),!(a.path==null&&!a.index)&&t.push({path:v,score:Kj(v,a.index),routesMeta:w})};return e.forEach((a,d)=>{var x;if(a.path===""||!((x=a.path)!=null&&x.includes("?")))i(a,d);else for(let g of TC(a.path))i(a,d,g)}),t}function TC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let d=TC(r.join("/")),x=[];return x.push(...d.map(g=>g===""?a:[a,g].join("/"))),i&&x.push(...d),x.map(g=>e.startsWith("/")&&g===""?"/":g)}function qj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Zj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Vj=/^:[\w-]+$/,Yj=3,$j=2,Gj=1,Xj=10,Qj=-2,Sw=e=>e==="*";function Kj(e,t){let n=e.split("/"),r=n.length;return n.some(Sw)&&(r+=Qj),t&&(r+=$j),n.filter(i=>!Sw(i)).reduce((i,a)=>i+(Vj.test(a)?Yj:a===""?Gj:Xj),r)}function Zj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Jj(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a="/",d=[];for(let x=0;x<r.length;++x){let g=r[x],v=x===r.length-1,w=a==="/"?t:t.slice(a.length)||"/",E=Aw({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),_=g.route;if(!E&&v&&n&&!r[r.length-1].route.index&&(E=Aw({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!E)return null;Object.assign(i,E.params),d.push({params:i,pathname:ao([a,E.pathname]),pathnameBase:iD(ao([a,E.pathnameBase])),route:_}),E.pathnameBase!=="/"&&(a=ao([a,E.pathnameBase]))}return d}function Aw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=eD(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],d=a.replace(/(.)\/+$/,"$1"),x=i.slice(1);return{params:r.reduce((v,w,E)=>{let{paramName:_,isOptional:k}=w;if(_==="*"){let I=x[E]||"";d=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const A=x[E];return k&&!A?v[_]=void 0:v[_]=(A||"").replace(/%2F/g,"/"),v},{}),pathname:a,pathnameBase:d,pattern:e}}function eD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),AC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,x,g)=>(r.push({paramName:x,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function tD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return AC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function nD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Tc(e):e;return{pathname:n?n.startsWith("/")?n:rD(n,t):t,search:aD(r),hash:oD(i)}}function rD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function q1(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Pg(e,t){let n=sD(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Fg(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Tc(e):(i=sd({},e),$n(!i.pathname||!i.pathname.includes("?"),q1("?","pathname","search",i)),$n(!i.pathname||!i.pathname.includes("#"),q1("#","pathname","hash",i)),$n(!i.search||!i.search.includes("#"),q1("#","search","hash",i)));let a=e===""||i.pathname==="",d=a?"/":i.pathname,x;if(d==null)x=n;else{let E=t.length-1;if(!r&&d.startsWith("..")){let _=d.split("/");for(;_[0]==="..";)_.shift(),E-=1;i.pathname=_.join("/")}x=E>=0?t[E]:"/"}let g=nD(i,x),v=d&&d!=="/"&&d.endsWith("/"),w=(a||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}const ao=e=>e.join("/").replace(/\/\/+/g,"/"),iD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jC=["post","put","patch","delete"];new Set(jC);const cD=["get",...jC];new Set(cD);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},id.apply(this,arguments)}const Bg=M.createContext(null),uD=M.createContext(null),go=M.createContext(null),Uh=M.createContext(null),Ea=M.createContext({outlet:null,matches:[],isDataRoute:!1}),DC=M.createContext(null);function dD(e,t){let{relative:n}=t===void 0?{}:t;jc()||$n(!1);let{basename:r,navigator:i}=M.useContext(go),{hash:a,pathname:d,search:x}=OC(e,{relative:n}),g=d;return r!=="/"&&(g=d==="/"?r:ao([r,d])),i.createHref({pathname:g,search:x,hash:a})}function jc(){return M.useContext(Uh)!=null}function Dc(){return jc()||$n(!1),M.useContext(Uh).location}function IC(e){M.useContext(go).static||M.useLayoutEffect(e)}function Xs(){let{isDataRoute:e}=M.useContext(Ea);return e?ND():fD()}function fD(){jc()||$n(!1);let e=M.useContext(Bg),{basename:t,future:n,navigator:r}=M.useContext(go),{matches:i}=M.useContext(Ea),{pathname:a}=Dc(),d=JSON.stringify(Pg(i,n.v7_relativeSplatPath)),x=M.useRef(!1);return IC(()=>{x.current=!0}),M.useCallback(function(v,w){if(w===void 0&&(w={}),!x.current)return;if(typeof v=="number"){r.go(v);return}let E=Fg(v,JSON.parse(d),a,w.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:ao([t,E.pathname])),(w.replace?r.replace:r.push)(E,w.state,w)},[t,r,d,a,e])}function RC(){let{matches:e}=M.useContext(Ea),t=e[e.length-1];return t?t.params:{}}function OC(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=M.useContext(go),{matches:i}=M.useContext(Ea),{pathname:a}=Dc(),d=JSON.stringify(Pg(i,r.v7_relativeSplatPath));return M.useMemo(()=>Fg(e,JSON.parse(d),a,n==="path"),[e,d,a,n])}function hD(e,t){return pD(e,t)}function pD(e,t,n,r){jc()||$n(!1);let{navigator:i,static:a}=M.useContext(go),{matches:d}=M.useContext(Ea),x=d[d.length-1],g=x?x.params:{};x&&x.pathname;let v=x?x.pathnameBase:"/";x&&x.route;let w=Dc(),E;if(t){var _;let D=typeof t=="string"?Tc(t):t;v==="/"||(_=D.pathname)!=null&&_.startsWith(v)||$n(!1),E=D}else E=w;let k=E.pathname||"/",A=k;if(v!=="/"){let D=v.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(D.length).join("/")}let I=!a&&n&&n.matches&&n.matches.length>0?n.matches:Wj(e,{pathname:A}),L=yD(I&&I.map(D=>Object.assign({},D,{params:Object.assign({},g,D.params),pathname:ao([v,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:ao([v,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),d,n,r);return t&&L?M.createElement(Uh.Provider,{value:{location:id({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Qa.Pop}},L):L}function mD(){let e=ED(),t=lD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:i},n):null,a)}const xD=M.createElement(mD,null);class gD extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?M.createElement(Ea.Provider,{value:this.props.routeContext},M.createElement(DC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vD(e){let{routeContext:t,match:n,children:r}=e,i=M.useContext(Bg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Ea.Provider,{value:t},r)}function yD(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let d=e,x=(i=n)==null?void 0:i.errors;if(x!=null){let w=d.findIndex(E=>E.route.id&&(x==null?void 0:x[E.route.id])!==void 0);w>=0||$n(!1),d=d.slice(0,Math.min(d.length,w+1))}let g=!1,v=-1;if(n&&r&&r.v7_partialHydration)for(let w=0;w<d.length;w++){let E=d[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(v=w),E.route.id){let{loaderData:_,errors:k}=n,A=E.route.loader&&_[E.route.id]===void 0&&(!k||k[E.route.id]===void 0);if(E.route.lazy||A){g=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((w,E,_)=>{let k,A=!1,I=null,L=null;n&&(k=x&&E.route.id?x[E.route.id]:void 0,I=E.route.errorElement||xD,g&&(v<0&&_===0?(_D("route-fallback",!1),A=!0,L=null):v===_&&(A=!0,L=E.route.hydrateFallbackElement||null)));let D=t.concat(d.slice(0,_+1)),j=()=>{let O;return k?O=I:A?O=L:E.route.Component?O=M.createElement(E.route.Component,null):E.route.element?O=E.route.element:O=w,M.createElement(vD,{match:E,routeContext:{outlet:w,matches:D,isDataRoute:n!=null},children:O})};return n&&(E.route.ErrorBoundary||E.route.errorElement||_===0)?M.createElement(gD,{location:n.location,revalidation:n.revalidation,component:I,error:k,children:j(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):j()},null)}var MC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(MC||{}),G0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(G0||{});function wD(e){let t=M.useContext(Bg);return t||$n(!1),t}function bD(e){let t=M.useContext(uD);return t||$n(!1),t}function CD(e){let t=M.useContext(Ea);return t||$n(!1),t}function LC(e){let t=CD(),n=t.matches[t.matches.length-1];return n.route.id||$n(!1),n.route.id}function ED(){var e;let t=M.useContext(DC),n=bD(G0.UseRouteError),r=LC(G0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ND(){let{router:e}=wD(MC.UseNavigateStable),t=LC(G0.UseNavigateStable),n=M.useRef(!1);return IC(()=>{n.current=!0}),M.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,id({fromRouteId:t},a)))},[e,t])}const kw={};function _D(e,t,n){!t&&!kw[e]&&(kw[e]=!0)}function SD(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function X0(e){let{to:t,replace:n,state:r,relative:i}=e;jc()||$n(!1);let{future:a,static:d}=M.useContext(go),{matches:x}=M.useContext(Ea),{pathname:g}=Dc(),v=Xs(),w=Fg(t,Pg(x,a.v7_relativeSplatPath),g,i==="path"),E=JSON.stringify(w);return M.useEffect(()=>v(JSON.parse(E),{replace:n,state:r,relative:i}),[v,E,i,n,r]),null}function ms(e){$n(!1)}function AD(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Qa.Pop,navigator:a,static:d=!1,future:x}=e;jc()&&$n(!1);let g=t.replace(/^\/*/,"/"),v=M.useMemo(()=>({basename:g,navigator:a,static:d,future:id({v7_relativeSplatPath:!1},x)}),[g,x,a,d]);typeof r=="string"&&(r=Tc(r));let{pathname:w="/",search:E="",hash:_="",state:k=null,key:A="default"}=r,I=M.useMemo(()=>{let L=Lg(w,g);return L==null?null:{location:{pathname:L,search:E,hash:_,state:k,key:A},navigationType:i}},[g,w,E,_,k,A,i]);return I==null?null:M.createElement(go.Provider,{value:v},M.createElement(Uh.Provider,{children:n,value:I}))}function kD(e){let{children:t,location:n}=e;return hD(rx(t),n)}new Promise(()=>{});function rx(e,t){t===void 0&&(t=[]);let n=[];return M.Children.forEach(e,(r,i)=>{if(!M.isValidElement(r))return;let a=[...t,i];if(r.type===M.Fragment){n.push.apply(n,rx(r.props.children,a));return}r.type!==ms&&$n(!1),!r.props.index||!r.props.children||$n(!1);let d={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=rx(r.props.children,a)),n.push(d)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sx.apply(this,arguments)}function TD(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function DD(e,t){return e.button===0&&(!t||t==="_self")&&!jD(e)}const ID=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RD="6";try{window.__reactRouterVersion=RD}catch{}const OD="startTransition",Tw=qx[OD];function MD(e){let{basename:t,children:n,future:r,window:i}=e,a=M.useRef();a.current==null&&(a.current=Bj({window:i,v5Compat:!0}));let d=a.current,[x,g]=M.useState({action:d.action,location:d.location}),{v7_startTransition:v}=r||{},w=M.useCallback(E=>{v&&Tw?Tw(()=>g(E)):g(E)},[g,v]);return M.useLayoutEffect(()=>d.listen(w),[d,w]),M.useEffect(()=>SD(r),[r]),M.createElement(AD,{basename:t,children:n,location:x.location,navigationType:x.action,navigator:d,future:r})}const LD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qn=M.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:d,state:x,target:g,to:v,preventScrollReset:w,viewTransition:E}=t,_=TD(t,ID),{basename:k}=M.useContext(go),A,I=!1;if(typeof v=="string"&&PD.test(v)&&(A=v,LD))try{let O=new URL(window.location.href),W=v.startsWith("//")?new URL(O.protocol+v):new URL(v),Z=Lg(W.pathname,k);W.origin===O.origin&&Z!=null?v=Z+W.search+W.hash:I=!0}catch{}let L=dD(v,{relative:i}),D=FD(v,{replace:d,state:x,target:g,preventScrollReset:w,relative:i,viewTransition:E});function j(O){r&&r(O),O.defaultPrevented||D(O)}return M.createElement("a",sx({},_,{href:A||L,onClick:I||a?r:j,ref:n,target:g}))});var jw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jw||(jw={}));var Dw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dw||(Dw={}));function FD(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:d,viewTransition:x}=t===void 0?{}:t,g=Xs(),v=Dc(),w=OC(e,{relative:d});return M.useCallback(E=>{if(DD(E,n)){E.preventDefault();let _=r!==void 0?r:$0(v)===$0(w);g(e,{replace:_,state:i,preventScrollReset:a,relative:d,viewTransition:x})}},[v,g,w,r,i,n,e,a,d,x])}class Ic{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const n={listener:t};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const ad=typeof window>"u"||"Deno"in window;function Fs(){}function BD(e,t){return typeof e=="function"?e(t):e}function ix(e){return typeof e=="number"&&e>=0&&e!==1/0}function PC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zl(e,t,n){return yd(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function UD(e,t,n){return yd(e)?typeof t=="function"?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function qa(e,t,n){return yd(e)?[{...t,queryKey:e},n]:[e||{},t]}function Iw(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:d,stale:x}=e;if(yd(d)){if(r){if(t.queryHash!==Ug(d,t.options))return!1}else if(!Q0(t.queryKey,d))return!1}if(n!=="all"){const g=t.isActive();if(n==="active"&&!g||n==="inactive"&&g)return!1}return!(typeof x=="boolean"&&t.isStale()!==x||typeof i<"u"&&i!==t.state.fetchStatus||a&&!a(t))}function Rw(e,t){const{exact:n,fetching:r,predicate:i,mutationKey:a}=e;if(yd(a)){if(!t.options.mutationKey)return!1;if(n){if(Qo(t.options.mutationKey)!==Qo(a))return!1}else if(!Q0(t.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function Ug(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qo)(e)}function Qo(e){return JSON.stringify(e,(t,n)=>ax(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Q0(e,t){return FC(e,t)}function FC(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!FC(e[n],t[n])):!1}function BC(e,t){if(e===t)return e;const n=Ow(e)&&Ow(t);if(n||ax(e)&&ax(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,d=n?[]:{};let x=0;for(let g=0;g<a;g++){const v=n?g:i[g];d[v]=BC(e[v],t[v]),d[v]===e[v]&&x++}return r===a&&x===r?e:d}return t}function K0(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Ow(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ax(e){if(!Mw(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Mw(n)||!n.hasOwnProperty("isPrototypeOf"))}function Mw(e){return Object.prototype.toString.call(e)==="[object Object]"}function yd(e){return Array.isArray(e)}function UC(e){return new Promise(t=>{setTimeout(t,e)})}function Lw(e){UC(0).then(e)}function zD(){if(typeof AbortController=="function")return new AbortController}function ox(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?BC(e,t):t}class WD extends Ic{constructor(){super(),this.setup=t=>{if(!ad&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Z0=new WD,Pw=["online","offline"];class HD extends Ic{constructor(){super(),this.setup=t=>{if(!ad&&window.addEventListener){const n=()=>t();return Pw.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{Pw.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const J0=new HD;function qD(e){return Math.min(1e3*2**e,3e4)}function zh(e){return(e??"online")==="online"?J0.isOnline():!0}class zC{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function d0(e){return e instanceof zC}function WC(e){let t=!1,n=0,r=!1,i,a,d;const x=new Promise((L,D)=>{a=L,d=D}),g=L=>{r||(k(new zC(L)),e.abort==null||e.abort())},v=()=>{t=!0},w=()=>{t=!1},E=()=>!Z0.isFocused()||e.networkMode!=="always"&&!J0.isOnline(),_=L=>{r||(r=!0,e.onSuccess==null||e.onSuccess(L),i==null||i(),a(L))},k=L=>{r||(r=!0,e.onError==null||e.onError(L),i==null||i(),d(L))},A=()=>new Promise(L=>{i=D=>{const j=r||!E();return j&&L(D),j},e.onPause==null||e.onPause()}).then(()=>{i=void 0,r||e.onContinue==null||e.onContinue()}),I=()=>{if(r)return;let L;try{L=e.fn()}catch(D){L=Promise.reject(D)}Promise.resolve(L).then(_).catch(D=>{var j,O;if(r)return;const W=(j=e.retry)!=null?j:3,Z=(O=e.retryDelay)!=null?O:qD,B=typeof Z=="function"?Z(n,D):Z,R=W===!0||typeof W=="number"&&n<W||typeof W=="function"&&W(n,D);if(t||!R){k(D);return}n++,e.onFail==null||e.onFail(n,D),UC(B).then(()=>{if(E())return A()}).then(()=>{t?k(D):I()})})};return zh(e.networkMode)?I():A().then(I),{promise:x,cancel:g,continue:()=>(i==null?void 0:i())?x:Promise.resolve(),cancelRetry:v,continueRetry:w}}const zg=console;function VD(){let e=[],t=0,n=w=>{w()},r=w=>{w()};const i=w=>{let E;t++;try{E=w()}finally{t--,t||x()}return E},a=w=>{t?e.push(w):Lw(()=>{n(w)})},d=w=>(...E)=>{a(()=>{w(...E)})},x=()=>{const w=e;e=[],w.length&&Lw(()=>{r(()=>{w.forEach(E=>{n(E)})})})};return{batch:i,batchCalls:d,schedule:a,setNotifyFunction:w=>{n=w},setBatchNotifyFunction:w=>{r=w}}}const Fn=VD();class HC{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ix(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(ad?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class YD extends HC{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||zg,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||$D(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=ox(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(Fs).catch(Fs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!PC(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const k=this.observers.find(A=>A.options.queryFn);k&&this.setOptions(k.options)}const d=zD(),x={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},g=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{if(d)return this.abortSignalConsumed=!0,d.signal}})};g(x);const v=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(x)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),w={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:v};if(g(w),(r=this.options.behavior)==null||r.onFetch(w),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=w.fetchOptions)==null?void 0:i.meta)){var E;this.dispatch({type:"fetch",meta:(E=w.fetchOptions)==null?void 0:E.meta})}const _=k=>{if(d0(k)&&k.silent||this.dispatch({type:"error",error:k}),!d0(k)){var A,I,L,D;(A=(I=this.cache.config).onError)==null||A.call(I,k,this),(L=(D=this.cache.config).onSettled)==null||L.call(D,this.state.data,k,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=WC({fn:w.fetchFn,abort:d==null?void 0:d.abort.bind(d),onSuccess:k=>{var A,I,L,D;if(typeof k>"u"){_(new Error(this.queryHash+" data is undefined"));return}this.setData(k),(A=(I=this.cache.config).onSuccess)==null||A.call(I,k,this),(L=(D=this.cache.config).onSettled)==null||L.call(D,k,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:_,onFail:(k,A)=>{this.dispatch({type:"failed",failureCount:k,error:A})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:w.options.retry,retryDelay:w.options.retryDelay,networkMode:w.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var i,a;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:zh(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=t.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const d=t.error;return d0(d)&&d.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:d,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Fn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function $D(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class GD extends Ic{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var i;const a=n.queryKey,d=(i=n.queryHash)!=null?i:Ug(a,n);let x=this.get(d);return x||(x=new YD({cache:this,logger:t.getLogger(),queryKey:a,queryHash:d,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(x)),x}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){Fn.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=qa(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>Iw(r,i))}findAll(t,n){const[r]=qa(t,n);return Object.keys(r).length>0?this.queries.filter(i=>Iw(r,i)):this.queries}notify(t){Fn.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}onFocus(){Fn.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){Fn.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class XD extends HC{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||zg,this.observers=[],this.state=t.state||qC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var R;return this.retryer=WC({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(V,Y)=>{this.dispatch({type:"failed",failureCount:V,error:Y})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(R=this.options.retry)!=null?R:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,a,d,x,g,v,w;if(!n){var E,_,k,A;this.dispatch({type:"loading",variables:this.options.variables}),await((E=(_=this.mutationCache.config).onMutate)==null?void 0:E.call(_,this.state.variables,this));const V=await((k=(A=this.options).onMutate)==null?void 0:k.call(A,this.state.variables));V!==this.state.context&&this.dispatch({type:"loading",context:V,variables:this.state.variables})}const R=await t();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,R,this.state.variables,this.state.context,this)),await((a=(d=this.options).onSuccess)==null?void 0:a.call(d,R,this.state.variables,this.state.context)),await((x=(g=this.mutationCache.config).onSettled)==null?void 0:x.call(g,R,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,R,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:R}),R}catch(R){try{var I,L,D,j,O,W,Z,B;throw await((I=(L=this.mutationCache.config).onError)==null?void 0:I.call(L,R,this.state.variables,this.state.context,this)),await((D=(j=this.options).onError)==null?void 0:D.call(j,R,this.state.variables,this.state.context)),await((O=(W=this.mutationCache.config).onSettled)==null?void 0:O.call(W,void 0,R,this.state.variables,this.state.context,this)),await((Z=(B=this.options).onSettled)==null?void 0:Z.call(B,void 0,R,this.state.variables,this.state.context)),R}finally{this.dispatch({type:"error",error:R})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!zh(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),Fn.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function qC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class QD extends Ic{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const i=new XD({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){Fn.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>Rw(t,n))}findAll(t){return this.mutations.filter(n=>Rw(t,n))}notify(t){Fn.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return Fn.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Fs)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function lx(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,i,a,d;const x=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,g=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,v=g==null?void 0:g.pageParam,w=(g==null?void 0:g.direction)==="forward",E=(g==null?void 0:g.direction)==="backward",_=((a=e.state.data)==null?void 0:a.pages)||[],k=((d=e.state.data)==null?void 0:d.pageParams)||[];let A=k,I=!1;const L=B=>{Object.defineProperty(B,"signal",{enumerable:!0,get:()=>{var R;if((R=e.signal)!=null&&R.aborted)I=!0;else{var V;(V=e.signal)==null||V.addEventListener("abort",()=>{I=!0})}return e.signal}})},D=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),j=(B,R,V,Y)=>(A=Y?[R,...A]:[...A,R],Y?[V,...B]:[...B,V]),O=(B,R,V,Y)=>{if(I)return Promise.reject("Cancelled");if(typeof V>"u"&&!R&&B.length)return Promise.resolve(B);const ee={queryKey:e.queryKey,pageParam:V,meta:e.options.meta};L(ee);const de=D(ee);return Promise.resolve(de).then(ce=>j(B,V,ce,Y))};let W;if(!_.length)W=O([]);else if(w){const B=typeof v<"u",R=B?v:cx(e.options,_);W=O(_,B,R)}else if(E){const B=typeof v<"u",R=B?v:VC(e.options,_);W=O(_,B,R,!0)}else{A=[];const B=typeof e.options.getNextPageParam>"u";W=(x&&_[0]?x(_[0],0,_):!0)?O([],B,k[0]):Promise.resolve(j([],k[0],_[0]));for(let V=1;V<_.length;V++)W=W.then(Y=>{if(x&&_[V]?x(_[V],V,_):!0){const de=B?k[V]:cx(e.options,Y);return O(Y,B,de)}return Promise.resolve(j(Y,k[V],_[V]))})}return W.then(B=>({pages:B,pageParams:A}))}}}}function cx(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function VC(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}function KD(e,t){if(e.getNextPageParam&&Array.isArray(t)){const n=cx(e,t);return typeof n<"u"&&n!==null&&n!==!1}}function ZD(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){const n=VC(e,t);return typeof n<"u"&&n!==null&&n!==!1}}class JD{constructor(t={}){this.queryCache=t.queryCache||new GD,this.mutationCache=t.mutationCache||new QD,this.logger=t.logger||zg,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Z0.subscribe(()=>{Z0.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=J0.subscribe(()=>{J0.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=qa(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const i=Zl(t,n,r),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.queryCache.find(t),a=i==null?void 0:i.state.data,d=BD(n,a);if(typeof d>"u")return;const x=Zl(t),g=this.defaultQueryOptions(x);return this.queryCache.build(this,g).setData(d,{...r,manual:!0})}setQueriesData(t,n,r){return Fn.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=qa(t,n),i=this.queryCache;Fn.batch(()=>{i.findAll(r).forEach(a=>{i.remove(a)})})}resetQueries(t,n,r){const[i,a]=qa(t,n,r),d=this.queryCache,x={type:"active",...i};return Fn.batch(()=>(d.findAll(i).forEach(g=>{g.reset()}),this.refetchQueries(x,a)))}cancelQueries(t,n,r){const[i,a={}]=qa(t,n,r);typeof a.revert>"u"&&(a.revert=!0);const d=Fn.batch(()=>this.queryCache.findAll(i).map(x=>x.cancel(a)));return Promise.all(d).then(Fs).catch(Fs)}invalidateQueries(t,n,r){const[i,a]=qa(t,n,r);return Fn.batch(()=>{var d,x;if(this.queryCache.findAll(i).forEach(v=>{v.invalidate()}),i.refetchType==="none")return Promise.resolve();const g={...i,type:(d=(x=i.refetchType)!=null?x:i.type)!=null?d:"active"};return this.refetchQueries(g,a)})}refetchQueries(t,n,r){const[i,a]=qa(t,n,r),d=Fn.batch(()=>this.queryCache.findAll(i).filter(g=>!g.isDisabled()).map(g=>{var v;return g.fetch(void 0,{...a,cancelRefetch:(v=a==null?void 0:a.cancelRefetch)!=null?v:!0,meta:{refetchPage:i.refetchPage}})}));let x=Promise.all(d).then(Fs);return a!=null&&a.throwOnError||(x=x.catch(Fs)),x}fetchQuery(t,n,r){const i=Zl(t,n,r),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const d=this.queryCache.build(this,a);return d.isStaleByTime(a.staleTime)?d.fetch(a):Promise.resolve(d.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(Fs).catch(Fs)}fetchInfiniteQuery(t,n,r){const i=Zl(t,n,r);return i.behavior=lx(),this.fetchQuery(i)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(Fs).catch(Fs)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(i=>Qo(t)===Qo(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>Q0(t,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(i=>Qo(t)===Qo(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>Q0(t,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Ug(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class YC extends Ic{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Fw(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ux(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ux(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),K0(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&Bw(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const d=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t),r=this.createResult(n,t);return t7(this,r,t)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Fs)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),ad||this.currentResult.isStale||!ix(this.options.staleTime))return;const n=PC(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(ad||this.options.enabled===!1||!ix(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Z0.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const r=this.currentQuery,i=this.options,a=this.currentResult,d=this.currentResultState,x=this.currentResultOptions,g=t!==r,v=g?t.state:this.currentQueryInitialState,w=g?this.currentResult:this.previousQueryResult,{state:E}=t;let{dataUpdatedAt:_,error:k,errorUpdatedAt:A,fetchStatus:I,status:L}=E,D=!1,j=!1,O;if(n._optimisticResults){const V=this.hasListeners(),Y=!V&&Fw(t,n),ee=V&&Bw(t,r,n,i);(Y||ee)&&(I=zh(t.options.networkMode)?"fetching":"paused",_||(L="loading")),n._optimisticResults==="isRestoring"&&(I="idle")}if(n.keepPreviousData&&!E.dataUpdatedAt&&w!=null&&w.isSuccess&&L!=="error")O=w.data,_=w.dataUpdatedAt,L=w.status,D=!0;else if(n.select&&typeof E.data<"u")if(a&&E.data===(d==null?void 0:d.data)&&n.select===this.selectFn)O=this.selectResult;else try{this.selectFn=n.select,O=n.select(E.data),O=ox(a==null?void 0:a.data,O,n),this.selectResult=O,this.selectError=null}catch(V){this.selectError=V}else O=E.data;if(typeof n.placeholderData<"u"&&typeof O>"u"&&L==="loading"){let V;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(x==null?void 0:x.placeholderData))V=a.data;else if(V=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof V<"u")try{V=n.select(V),this.selectError=null}catch(Y){this.selectError=Y}typeof V<"u"&&(L="success",O=ox(a==null?void 0:a.data,V,n),j=!0)}this.selectError&&(k=this.selectError,O=this.selectResult,A=Date.now(),L="error");const W=I==="fetching",Z=L==="loading",B=L==="error";return{status:L,fetchStatus:I,isLoading:Z,isSuccess:L==="success",isError:B,isInitialLoading:Z&&W,data:O,dataUpdatedAt:_,error:k,errorUpdatedAt:A,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>v.dataUpdateCount||E.errorUpdateCount>v.errorUpdateCount,isFetching:W,isRefetching:W&&!Z,isLoadingError:B&&E.dataUpdatedAt===0,isPaused:I==="paused",isPlaceholderData:j,isPreviousData:D,isRefetchError:B&&E.dataUpdatedAt!==0,isStale:Wg(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,K0(r,n))return;this.currentResult=r;const i={cache:!0},a=()=>{if(!n)return!0;const{notifyOnChangeProps:d}=this.options,x=typeof d=="function"?d():d;if(x==="all"||!x&&!this.trackedProps.size)return!0;const g=new Set(x??this.trackedProps);return this.options.useErrorBoundary&&g.add("error"),Object.keys(this.currentResult).some(v=>{const w=v;return this.currentResult[w]!==n[w]&&g.has(w)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!d0(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){Fn.batch(()=>{if(t.onSuccess){var n,r,i,a;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(t.onError){var d,x,g,v;(d=(x=this.options).onError)==null||d.call(x,this.currentResult.error),(g=(v=this.options).onSettled)==null||g.call(v,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(({listener:w})=>{w(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function e7(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Fw(e,t){return e7(e,t)||e.state.dataUpdatedAt>0&&ux(e,t,t.refetchOnMount)}function ux(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Wg(e,t)}return!1}function Bw(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&Wg(e,n)}function Wg(e,t){return e.isStaleByTime(t.staleTime)}function t7(e,t,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?t.isPlaceholderData:!K0(e.getCurrentResult(),t)}class n7 extends YC{constructor(t,n){super(t,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,n){super.setOptions({...t,behavior:lx()},n)}getOptimisticResult(t){return t.behavior=lx(),super.getOptimisticResult(t)}fetchNextPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"forward",pageParam:t}}})}fetchPreviousPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"backward",pageParam:t}}})}createResult(t,n){var r,i,a,d,x,g;const{state:v}=t,w=super.createResult(t,n),{isFetching:E,isRefetching:_}=w,k=E&&((r=v.fetchMeta)==null||(i=r.fetchMore)==null?void 0:i.direction)==="forward",A=E&&((a=v.fetchMeta)==null||(d=a.fetchMore)==null?void 0:d.direction)==="backward";return{...w,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:KD(n,(x=v.data)==null?void 0:x.pages),hasPreviousPage:ZD(n,(g=v.data)==null?void 0:g.pages),isFetchingNextPage:k,isFetchingPreviousPage:A,isRefetching:_&&!k&&!A}}}let r7=class extends Ic{constructor(t,n){super(),this.client=t,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=this.client.defaultMutationOptions(t),K0(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const n={listeners:!0};t.type==="success"?n.onSuccess=!0:t.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:qC(),n={...t,isLoading:t.status==="loading",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(t){Fn.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var n,r,i,a;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(a=this.mutateOptions).onSettled)==null||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var d,x,g,v;(d=(x=this.mutateOptions).onError)==null||d.call(x,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(g=(v=this.mutateOptions).onSettled)==null||g.call(v,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(({listener:w})=>{w(this.currentResult)})})}};var $C={exports:{}},GC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=M;function s7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var i7=typeof Object.is=="function"?Object.is:s7,a7=xc.useState,o7=xc.useEffect,l7=xc.useLayoutEffect,c7=xc.useDebugValue;function u7(e,t){var n=t(),r=a7({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return l7(function(){i.value=n,i.getSnapshot=t,V1(i)&&a({inst:i})},[e,n,t]),o7(function(){return V1(i)&&a({inst:i}),e(function(){V1(i)&&a({inst:i})})},[e]),c7(n),n}function V1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i7(e,n)}catch{return!0}}function d7(e,t){return t()}var f7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d7:u7;GC.useSyncExternalStore=xc.useSyncExternalStore!==void 0?xc.useSyncExternalStore:f7;$C.exports=GC;var h7=$C.exports;const XC=h7.useSyncExternalStore,Uw=M.createContext(void 0),QC=M.createContext(!1);function KC(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Uw),window.ReactQueryClientContext):Uw)}const Gn=({context:e}={})=>{const t=M.useContext(KC(e,M.useContext(QC)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},p7=({client:e,children:t,context:n,contextSharing:r=!1})=>{M.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=KC(n,r);return M.createElement(QC.Provider,{value:!n&&r},M.createElement(i.Provider,{value:e},t))},ZC=M.createContext(!1),m7=()=>M.useContext(ZC);ZC.Provider;function x7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const g7=M.createContext(x7()),v7=()=>M.useContext(g7);function JC(e,t){return typeof e=="function"?e(...t):!!e}const y7=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},w7=e=>{M.useEffect(()=>{e.clearReset()},[e])},b7=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&JC(n,[e.error,r]),C7=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},E7=(e,t)=>e.isLoading&&e.isFetching&&!t,N7=(e,t,n)=>(e==null?void 0:e.suspense)&&E7(t,n),_7=(e,t,n)=>t.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{n.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function eE(e,t){const n=Gn({context:e.context}),r=m7(),i=v7(),a=n.defaultQueryOptions(e);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=Fn.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Fn.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Fn.batchCalls(a.onSettled)),C7(a),y7(a,i),w7(i);const[d]=M.useState(()=>new t(n,a)),x=d.getOptimisticResult(a);if(XC(M.useCallback(g=>{const v=r?()=>{}:d.subscribe(Fn.batchCalls(g));return d.updateResult(),v},[d,r]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),M.useEffect(()=>{d.setOptions(a,{listeners:!1})},[a,d]),N7(a,x,r))throw _7(a,d,i);if(b7({result:x,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:d.getCurrentQuery()}))throw x.error;return a.notifyOnChangeProps?x:d.trackResult(x)}function vt(e,t,n){const r=Zl(e,t,n);return eE(r,YC)}function jn(e,t,n){const r=UD(e,t,n),i=Gn({context:r.context}),[a]=M.useState(()=>new r7(i,r));M.useEffect(()=>{a.setOptions(r)},[a,r]);const d=XC(M.useCallback(g=>a.subscribe(Fn.batchCalls(g)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),x=M.useCallback((g,v)=>{a.mutate(g,v).catch(S7)},[a]);if(d.error&&JC(a.options.useErrorBoundary,[d.error]))throw d.error;return{...d,mutate:x,mutateAsync:d.mutate}}function S7(){}function Hg(e,t,n){const r=Zl(e,t,n);return eE(r,n7)}function tE(e,t){return function(){return e.apply(t,arguments)}}const{toString:A7}=Object.prototype,{getPrototypeOf:qg}=Object,{iterator:Wh,toStringTag:nE}=Symbol,Hh=(e=>t=>{const n=A7.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hi=e=>(e=e.toLowerCase(),t=>Hh(t)===e),qh=e=>t=>typeof t===e,{isArray:Rc}=Array,od=qh("undefined");function k7(e){return e!==null&&!od(e)&&e.constructor!==null&&!od(e.constructor)&&ss(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const rE=hi("ArrayBuffer");function T7(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&rE(e.buffer),t}const j7=qh("string"),ss=qh("function"),sE=qh("number"),Vh=e=>e!==null&&typeof e=="object",D7=e=>e===!0||e===!1,f0=e=>{if(Hh(e)!=="object")return!1;const t=qg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(nE in e)&&!(Wh in e)},I7=hi("Date"),R7=hi("File"),O7=hi("Blob"),M7=hi("FileList"),L7=e=>Vh(e)&&ss(e.pipe),P7=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ss(e.append)&&((t=Hh(e))==="formdata"||t==="object"&&ss(e.toString)&&e.toString()==="[object FormData]"))},F7=hi("URLSearchParams"),[B7,U7,z7,W7]=["ReadableStream","Request","Response","Headers"].map(hi),H7=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wd(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Rc(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),d=a.length;let x;for(r=0;r<d;r++)x=a[r],t.call(null,e[x],x,e)}}function iE(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Ko=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),aE=e=>!od(e)&&e!==Ko;function dx(){const{caseless:e}=aE(this)&&this||{},t={},n=(r,i)=>{const a=e&&iE(t,i)||i;f0(t[a])&&f0(r)?t[a]=dx(t[a],r):f0(r)?t[a]=dx({},r):Rc(r)?t[a]=r.slice():t[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&wd(arguments[r],n);return t}const q7=(e,t,n,{allOwnKeys:r}={})=>(wd(t,(i,a)=>{n&&ss(i)?e[a]=tE(i,n):e[a]=i},{allOwnKeys:r}),e),V7=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Y7=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},$7=(e,t,n,r)=>{let i,a,d;const x={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)d=i[a],(!r||r(d,e,t))&&!x[d]&&(t[d]=e[d],x[d]=!0);e=n!==!1&&qg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},G7=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},X7=e=>{if(!e)return null;if(Rc(e))return e;let t=e.length;if(!sE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Q7=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qg(Uint8Array)),K7=(e,t)=>{const r=(e&&e[Wh]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},Z7=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},J7=hi("HTMLFormElement"),eI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),zw=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),tI=hi("RegExp"),oE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};wd(n,(i,a)=>{let d;(d=t(i,a,e))!==!1&&(r[a]=d||i)}),Object.defineProperties(e,r)},nI=e=>{oE(e,(t,n)=>{if(ss(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ss(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},rI=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Rc(e)?r(e):r(String(e).split(t)),n},sI=()=>{},iI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function aI(e){return!!(e&&ss(e.append)&&e[nE]==="FormData"&&e[Wh])}const oI=e=>{const t=new Array(10),n=(r,i)=>{if(Vh(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const a=Rc(r)?[]:{};return wd(r,(d,x)=>{const g=n(d,i+1);!od(g)&&(a[x]=g)}),t[i]=void 0,a}}return r};return n(e,0)},lI=hi("AsyncFunction"),cI=e=>e&&(Vh(e)||ss(e))&&ss(e.then)&&ss(e.catch),lE=((e,t)=>e?setImmediate:t?((n,r)=>(Ko.addEventListener("message",({source:i,data:a})=>{i===Ko&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ko.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ss(Ko.postMessage)),uI=typeof queueMicrotask<"u"?queueMicrotask.bind(Ko):typeof process<"u"&&process.nextTick||lE,dI=e=>e!=null&&ss(e[Wh]),me={isArray:Rc,isArrayBuffer:rE,isBuffer:k7,isFormData:P7,isArrayBufferView:T7,isString:j7,isNumber:sE,isBoolean:D7,isObject:Vh,isPlainObject:f0,isReadableStream:B7,isRequest:U7,isResponse:z7,isHeaders:W7,isUndefined:od,isDate:I7,isFile:R7,isBlob:O7,isRegExp:tI,isFunction:ss,isStream:L7,isURLSearchParams:F7,isTypedArray:Q7,isFileList:M7,forEach:wd,merge:dx,extend:q7,trim:H7,stripBOM:V7,inherits:Y7,toFlatObject:$7,kindOf:Hh,kindOfTest:hi,endsWith:G7,toArray:X7,forEachEntry:K7,matchAll:Z7,isHTMLForm:J7,hasOwnProperty:zw,hasOwnProp:zw,reduceDescriptors:oE,freezeMethods:nI,toObjectSet:rI,toCamelCase:eI,noop:sI,toFiniteNumber:iI,findKey:iE,global:Ko,isContextDefined:aE,isSpecCompliantForm:aI,toJSONObject:oI,isAsyncFn:lI,isThenable:cI,setImmediate:lE,asap:uI,isIterable:dI};function gt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}me.inherits(gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const cE=gt.prototype,uE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{uE[e]={value:e}});Object.defineProperties(gt,uE);Object.defineProperty(cE,"isAxiosError",{value:!0});gt.from=(e,t,n,r,i,a)=>{const d=Object.create(cE);return me.toFlatObject(e,d,function(g){return g!==Error.prototype},x=>x!=="isAxiosError"),gt.call(d,e.message,t,n,r,i),d.cause=e,d.name=e.name,a&&Object.assign(d,a),d};const fI=null;function fx(e){return me.isPlainObject(e)||me.isArray(e)}function dE(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function Ww(e,t,n){return e?e.concat(t).map(function(i,a){return i=dE(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function hI(e){return me.isArray(e)&&!e.some(fx)}const pI=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function Yh(e,t,n){if(!me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=me.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,L){return!me.isUndefined(L[I])});const r=n.metaTokens,i=n.visitor||w,a=n.dots,d=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(i))throw new TypeError("visitor must be a function");function v(A){if(A===null)return"";if(me.isDate(A))return A.toISOString();if(!g&&me.isBlob(A))throw new gt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(A)||me.isTypedArray(A)?g&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function w(A,I,L){let D=A;if(A&&!L&&typeof A=="object"){if(me.endsWith(I,"{}"))I=r?I:I.slice(0,-2),A=JSON.stringify(A);else if(me.isArray(A)&&hI(A)||(me.isFileList(A)||me.endsWith(I,"[]"))&&(D=me.toArray(A)))return I=dE(I),D.forEach(function(O,W){!(me.isUndefined(O)||O===null)&&t.append(d===!0?Ww([I],W,a):d===null?I:I+"[]",v(O))}),!1}return fx(A)?!0:(t.append(Ww(L,I,a),v(A)),!1)}const E=[],_=Object.assign(pI,{defaultVisitor:w,convertValue:v,isVisitable:fx});function k(A,I){if(!me.isUndefined(A)){if(E.indexOf(A)!==-1)throw Error("Circular reference detected in "+I.join("."));E.push(A),me.forEach(A,function(D,j){(!(me.isUndefined(D)||D===null)&&i.call(t,D,me.isString(j)?j.trim():j,I,_))===!0&&k(D,I?I.concat(j):[j])}),E.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return k(e),t}function Hw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Vg(e,t){this._pairs=[],e&&Yh(e,this,t)}const fE=Vg.prototype;fE.append=function(t,n){this._pairs.push([t,n])};fE.toString=function(t){const n=t?function(r){return t.call(this,r,Hw)}:Hw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function mI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hE(e,t,n){if(!t)return e;const r=n&&n.encode||mI;me.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=me.isURLSearchParams(t)?t.toString():new Vg(t,n).toString(r),a){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class xI{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(r){r!==null&&t(r)})}}const qw=xI,pE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gI=typeof URLSearchParams<"u"?URLSearchParams:Vg,vI=typeof FormData<"u"?FormData:null,yI=typeof Blob<"u"?Blob:null,wI={isBrowser:!0,classes:{URLSearchParams:gI,FormData:vI,Blob:yI},protocols:["http","https","file","blob","url","data"]},Yg=typeof window<"u"&&typeof document<"u",hx=typeof navigator=="object"&&navigator||void 0,bI=Yg&&(!hx||["ReactNative","NativeScript","NS"].indexOf(hx.product)<0),CI=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),EI=Yg&&window.location.href||"http://localhost",NI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yg,hasStandardBrowserEnv:bI,hasStandardBrowserWebWorkerEnv:CI,navigator:hx,origin:EI},Symbol.toStringTag,{value:"Module"})),Dr={...NI,...wI};function _I(e,t){return Yh(e,new Dr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,a){return Dr.isNode&&me.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function SI(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function AI(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function mE(e){function t(n,r,i,a){let d=n[a++];if(d==="__proto__")return!0;const x=Number.isFinite(+d),g=a>=n.length;return d=!d&&me.isArray(i)?i.length:d,g?(me.hasOwnProp(i,d)?i[d]=[i[d],r]:i[d]=r,!x):((!i[d]||!me.isObject(i[d]))&&(i[d]=[]),t(n,r,i[d],a)&&me.isArray(i[d])&&(i[d]=AI(i[d])),!x)}if(me.isFormData(e)&&me.isFunction(e.entries)){const n={};return me.forEachEntry(e,(r,i)=>{t(SI(r),i,n,0)}),n}return null}function kI(e,t,n){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const $g={transitional:pE,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=me.isObject(t);if(a&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return i?JSON.stringify(mE(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t)||me.isReadableStream(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let x;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return _I(t,this.formSerializer).toString();if((x=me.isFileList(t))||r.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Yh(x?{"files[]":t}:t,g&&new g,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),kI(t)):t}],transformResponse:[function(t){const n=this.transitional||$g.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(me.isResponse(t)||me.isReadableStream(t))return t;if(t&&me.isString(t)&&(r&&!this.responseType||i)){const d=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(x){if(d)throw x.name==="SyntaxError"?gt.from(x,gt.ERR_BAD_RESPONSE,this,null,this.response):x}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dr.classes.FormData,Blob:Dr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{$g.headers[e]={}});const Gg=$g,TI=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jI=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(d){i=d.indexOf(":"),n=d.substring(0,i).trim().toLowerCase(),r=d.substring(i+1).trim(),!(!n||t[n]&&TI[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Vw=Symbol("internals");function wu(e){return e&&String(e).trim().toLowerCase()}function h0(e){return e===!1||e==null?e:me.isArray(e)?e.map(h0):String(e)}function DI(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const II=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Y1(e,t,n,r,i){if(me.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!me.isString(t)){if(me.isString(r))return t.indexOf(r)!==-1;if(me.isRegExp(r))return r.test(t)}}function RI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function OI(e,t){const n=me.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,d){return this[r].call(this,t,i,a,d)},configurable:!0})})}class $h{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(x,g,v){const w=wu(g);if(!w)throw new Error("header name must be a non-empty string");const E=me.findKey(i,w);(!E||i[E]===void 0||v===!0||v===void 0&&i[E]!==!1)&&(i[E||g]=h0(x))}const d=(x,g)=>me.forEach(x,(v,w)=>a(v,w,g));if(me.isPlainObject(t)||t instanceof this.constructor)d(t,n);else if(me.isString(t)&&(t=t.trim())&&!II(t))d(jI(t),n);else if(me.isObject(t)&&me.isIterable(t)){let x={},g,v;for(const w of t){if(!me.isArray(w))throw TypeError("Object iterator must return a key-value pair");x[v=w[0]]=(g=x[v])?me.isArray(g)?[...g,w[1]]:[g,w[1]]:w[1]}d(x,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=wu(t),t){const r=me.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return DI(i);if(me.isFunction(n))return n.call(this,i,r);if(me.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=wu(t),t){const r=me.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Y1(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(d){if(d=wu(d),d){const x=me.findKey(r,d);x&&(!n||Y1(r,r[x],x,n))&&(delete r[x],i=!0)}}return me.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||Y1(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return me.forEach(this,(i,a)=>{const d=me.findKey(r,a);if(d){n[d]=h0(i),delete n[a];return}const x=t?RI(a):String(a).trim();x!==a&&delete n[a],n[x]=h0(i),r[x]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return me.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&me.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Vw]=this[Vw]={accessors:{}}).accessors,i=this.prototype;function a(d){const x=wu(d);r[x]||(OI(i,d),r[x]=!0)}return me.isArray(t)?t.forEach(a):a(t),this}}$h.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors($h.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});me.freezeMethods($h);const ci=$h;function $1(e,t){const n=this||Gg,r=t||n,i=ci.from(r.headers);let a=r.data;return me.forEach(e,function(x){a=x.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function xE(e){return!!(e&&e.__CANCEL__)}function Oc(e,t,n){gt.call(this,e??"canceled",gt.ERR_CANCELED,t,n),this.name="CanceledError"}me.inherits(Oc,gt,{__CANCEL__:!0});function gE(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new gt("Request failed with status code "+n.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function MI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function LI(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,d;return t=t!==void 0?t:1e3,function(g){const v=Date.now(),w=r[a];d||(d=v),n[i]=g,r[i]=v;let E=a,_=0;for(;E!==i;)_+=n[E++],E=E%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),v-d<t)return;const k=w&&v-w;return k?Math.round(_*1e3/k):void 0}}function PI(e,t){let n=0,r=1e3/t,i,a;const d=(v,w=Date.now())=>{n=w,i=null,a&&(clearTimeout(a),a=null),e.apply(null,v)};return[(...v)=>{const w=Date.now(),E=w-n;E>=r?d(v,w):(i=v,a||(a=setTimeout(()=>{a=null,d(i)},r-E)))},()=>i&&d(i)]}const eh=(e,t,n=3)=>{let r=0;const i=LI(50,250);return PI(a=>{const d=a.loaded,x=a.lengthComputable?a.total:void 0,g=d-r,v=i(g),w=d<=x;r=d;const E={loaded:d,total:x,progress:x?d/x:void 0,bytes:g,rate:v||void 0,estimated:v&&x&&w?(x-d)/v:void 0,event:a,lengthComputable:x!=null,[t?"download":"upload"]:!0};e(E)},n)},Yw=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},$w=e=>(...t)=>me.asap(()=>e(...t)),FI=Dr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Dr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Dr.origin),Dr.navigator&&/(msie|trident)/i.test(Dr.navigator.userAgent)):()=>!0,BI=Dr.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const d=[e+"="+encodeURIComponent(t)];me.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),me.isString(r)&&d.push("path="+r),me.isString(i)&&d.push("domain="+i),a===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function UI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function zI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function vE(e,t,n){let r=!UI(t);return e&&(r||n==!1)?zI(e,t):t}const Gw=e=>e instanceof ci?{...e}:e;function cl(e,t){t=t||{};const n={};function r(v,w,E,_){return me.isPlainObject(v)&&me.isPlainObject(w)?me.merge.call({caseless:_},v,w):me.isPlainObject(w)?me.merge({},w):me.isArray(w)?w.slice():w}function i(v,w,E,_){if(me.isUndefined(w)){if(!me.isUndefined(v))return r(void 0,v,E,_)}else return r(v,w,E,_)}function a(v,w){if(!me.isUndefined(w))return r(void 0,w)}function d(v,w){if(me.isUndefined(w)){if(!me.isUndefined(v))return r(void 0,v)}else return r(void 0,w)}function x(v,w,E){if(E in t)return r(v,w);if(E in e)return r(void 0,v)}const g={url:a,method:a,data:a,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:x,headers:(v,w,E)=>i(Gw(v),Gw(w),E,!0)};return me.forEach(Object.keys(Object.assign({},e,t)),function(w){const E=g[w]||i,_=E(e[w],t[w],w);me.isUndefined(_)&&E!==x||(n[w]=_)}),n}const yE=e=>{const t=cl({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:d,auth:x}=t;t.headers=d=ci.from(d),t.url=hE(vE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),x&&d.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):"")));let g;if(me.isFormData(n)){if(Dr.hasStandardBrowserEnv||Dr.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((g=d.getContentType())!==!1){const[v,...w]=g?g.split(";").map(E=>E.trim()).filter(Boolean):[];d.setContentType([v||"multipart/form-data",...w].join("; "))}}if(Dr.hasStandardBrowserEnv&&(r&&me.isFunction(r)&&(r=r(t)),r||r!==!1&&FI(t.url))){const v=i&&a&&BI.read(a);v&&d.set(i,v)}return t},WI=typeof XMLHttpRequest<"u",HI=WI&&function(e){return new Promise(function(n,r){const i=yE(e);let a=i.data;const d=ci.from(i.headers).normalize();let{responseType:x,onUploadProgress:g,onDownloadProgress:v}=i,w,E,_,k,A;function I(){k&&k(),A&&A(),i.cancelToken&&i.cancelToken.unsubscribe(w),i.signal&&i.signal.removeEventListener("abort",w)}let L=new XMLHttpRequest;L.open(i.method.toUpperCase(),i.url,!0),L.timeout=i.timeout;function D(){if(!L)return;const O=ci.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),Z={data:!x||x==="text"||x==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:O,config:e,request:L};gE(function(R){n(R),I()},function(R){r(R),I()},Z),L=null}"onloadend"in L?L.onloadend=D:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(D)},L.onabort=function(){L&&(r(new gt("Request aborted",gt.ECONNABORTED,e,L)),L=null)},L.onerror=function(){r(new gt("Network Error",gt.ERR_NETWORK,e,L)),L=null},L.ontimeout=function(){let W=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Z=i.transitional||pE;i.timeoutErrorMessage&&(W=i.timeoutErrorMessage),r(new gt(W,Z.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,e,L)),L=null},a===void 0&&d.setContentType(null),"setRequestHeader"in L&&me.forEach(d.toJSON(),function(W,Z){L.setRequestHeader(Z,W)}),me.isUndefined(i.withCredentials)||(L.withCredentials=!!i.withCredentials),x&&x!=="json"&&(L.responseType=i.responseType),v&&([_,A]=eh(v,!0),L.addEventListener("progress",_)),g&&L.upload&&([E,k]=eh(g),L.upload.addEventListener("progress",E),L.upload.addEventListener("loadend",k)),(i.cancelToken||i.signal)&&(w=O=>{L&&(r(!O||O.type?new Oc(null,e,L):O),L.abort(),L=null)},i.cancelToken&&i.cancelToken.subscribe(w),i.signal&&(i.signal.aborted?w():i.signal.addEventListener("abort",w)));const j=MI(i.url);if(j&&Dr.protocols.indexOf(j)===-1){r(new gt("Unsupported protocol "+j+":",gt.ERR_BAD_REQUEST,e));return}L.send(a||null)})},qI=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const a=function(v){if(!i){i=!0,x();const w=v instanceof Error?v:this.reason;r.abort(w instanceof gt?w:new Oc(w instanceof Error?w.message:w))}};let d=t&&setTimeout(()=>{d=null,a(new gt(`timeout ${t} of ms exceeded`,gt.ETIMEDOUT))},t);const x=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(v=>{v.unsubscribe?v.unsubscribe(a):v.removeEventListener("abort",a)}),e=null)};e.forEach(v=>v.addEventListener("abort",a));const{signal:g}=r;return g.unsubscribe=()=>me.asap(x),g}},VI=qI,YI=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},$I=async function*(e,t){for await(const n of GI(e))yield*YI(n,t)},GI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Xw=(e,t,n,r)=>{const i=$I(e,t);let a=0,d,x=g=>{d||(d=!0,r&&r(g))};return new ReadableStream({async pull(g){try{const{done:v,value:w}=await i.next();if(v){x(),g.close();return}let E=w.byteLength;if(n){let _=a+=E;n(_)}g.enqueue(new Uint8Array(w))}catch(v){throw x(v),v}},cancel(g){return x(g),i.return()}},{highWaterMark:2})},Gh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wE=Gh&&typeof ReadableStream=="function",XI=Gh&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),bE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},QI=wE&&bE(()=>{let e=!1;const t=new Request(Dr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Qw=64*1024,px=wE&&bE(()=>me.isReadableStream(new Response("").body)),th={stream:px&&(e=>e.body)};Gh&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!th[t]&&(th[t]=me.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new gt(`Response type '${t}' is not supported`,gt.ERR_NOT_SUPPORT,r)})})})(new Response);const KI=async e=>{if(e==null)return 0;if(me.isBlob(e))return e.size;if(me.isSpecCompliantForm(e))return(await new Request(Dr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(me.isArrayBufferView(e)||me.isArrayBuffer(e))return e.byteLength;if(me.isURLSearchParams(e)&&(e=e+""),me.isString(e))return(await XI(e)).byteLength},ZI=async(e,t)=>{const n=me.toFiniteNumber(e.getContentLength());return n??KI(t)},JI=Gh&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:a,timeout:d,onDownloadProgress:x,onUploadProgress:g,responseType:v,headers:w,withCredentials:E="same-origin",fetchOptions:_}=yE(e);v=v?(v+"").toLowerCase():"text";let k=VI([i,a&&a.toAbortSignal()],d),A;const I=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let L;try{if(g&&QI&&n!=="get"&&n!=="head"&&(L=await ZI(w,r))!==0){let Z=new Request(t,{method:"POST",body:r,duplex:"half"}),B;if(me.isFormData(r)&&(B=Z.headers.get("content-type"))&&w.setContentType(B),Z.body){const[R,V]=Yw(L,eh($w(g)));r=Xw(Z.body,Qw,R,V)}}me.isString(E)||(E=E?"include":"omit");const D="credentials"in Request.prototype;A=new Request(t,{..._,signal:k,method:n.toUpperCase(),headers:w.normalize().toJSON(),body:r,duplex:"half",credentials:D?E:void 0});let j=await fetch(A);const O=px&&(v==="stream"||v==="response");if(px&&(x||O&&I)){const Z={};["status","statusText","headers"].forEach(Y=>{Z[Y]=j[Y]});const B=me.toFiniteNumber(j.headers.get("content-length")),[R,V]=x&&Yw(B,eh($w(x),!0))||[];j=new Response(Xw(j.body,Qw,R,()=>{V&&V(),I&&I()}),Z)}v=v||"text";let W=await th[me.findKey(th,v)||"text"](j,e);return!O&&I&&I(),await new Promise((Z,B)=>{gE(Z,B,{data:W,headers:ci.from(j.headers),status:j.status,statusText:j.statusText,config:e,request:A})})}catch(D){throw I&&I(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new gt("Network Error",gt.ERR_NETWORK,e,A),{cause:D.cause||D}):gt.from(D,D&&D.code,e,A)}}),mx={http:fI,xhr:HI,fetch:JI};me.forEach(mx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Kw=e=>`- ${e}`,eR=e=>me.isFunction(e)||e===null||e===!1,CE={getAdapter:e=>{e=me.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){n=e[a];let d;if(r=n,!eR(n)&&(r=mx[(d=String(n)).toLowerCase()],r===void 0))throw new gt(`Unknown adapter '${d}'`);if(r)break;i[d||"#"+a]=r}if(!r){const a=Object.entries(i).map(([x,g])=>`adapter ${x} `+(g===!1?"is not supported by the environment":"is not available in the build"));let d=t?a.length>1?`since :
`+a.map(Kw).join(`
`):" "+Kw(a[0]):"as no adapter specified";throw new gt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:mx};function G1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Oc(null,e)}function Zw(e){return G1(e),e.headers=ci.from(e.headers),e.data=$1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),CE.getAdapter(e.adapter||Gg.adapter)(e).then(function(r){return G1(e),r.data=$1.call(e,e.transformResponse,r),r.headers=ci.from(r.headers),r},function(r){return xE(r)||(G1(e),r&&r.response&&(r.response.data=$1.call(e,e.transformResponse,r.response),r.response.headers=ci.from(r.response.headers))),Promise.reject(r)})}const EE="1.9.0",Xh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xh[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Jw={};Xh.transitional=function(t,n,r){function i(a,d){return"[Axios v"+EE+"] Transitional option '"+a+"'"+d+(r?". "+r:"")}return(a,d,x)=>{if(t===!1)throw new gt(i(d," has been removed"+(n?" in "+n:"")),gt.ERR_DEPRECATED);return n&&!Jw[d]&&(Jw[d]=!0,console.warn(i(d," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,d,x):!0}};Xh.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function tR(e,t,n){if(typeof e!="object")throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],d=t[a];if(d){const x=e[a],g=x===void 0||d(x,a,e);if(g!==!0)throw new gt("option "+a+" must be "+g,gt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new gt("Unknown option "+a,gt.ERR_BAD_OPTION)}}const p0={assertOptions:tR,validators:Xh},bi=p0.validators;class nh{constructor(t){this.defaults=t||{},this.interceptors={request:new qw,response:new qw}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=cl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&p0.assertOptions(r,{silentJSONParsing:bi.transitional(bi.boolean),forcedJSONParsing:bi.transitional(bi.boolean),clarifyTimeoutError:bi.transitional(bi.boolean)},!1),i!=null&&(me.isFunction(i)?n.paramsSerializer={serialize:i}:p0.assertOptions(i,{encode:bi.function,serialize:bi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),p0.assertOptions(n,{baseUrl:bi.spelling("baseURL"),withXsrfToken:bi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=a&&me.merge(a.common,a[n.method]);a&&me.forEach(["delete","get","head","post","put","patch","common"],A=>{delete a[A]}),n.headers=ci.concat(d,a);const x=[];let g=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(n)===!1||(g=g&&I.synchronous,x.unshift(I.fulfilled,I.rejected))});const v=[];this.interceptors.response.forEach(function(I){v.push(I.fulfilled,I.rejected)});let w,E=0,_;if(!g){const A=[Zw.bind(this),void 0];for(A.unshift.apply(A,x),A.push.apply(A,v),_=A.length,w=Promise.resolve(n);E<_;)w=w.then(A[E++],A[E++]);return w}_=x.length;let k=n;for(E=0;E<_;){const A=x[E++],I=x[E++];try{k=A(k)}catch(L){I.call(this,L);break}}try{w=Zw.call(this,k)}catch(A){return Promise.reject(A)}for(E=0,_=v.length;E<_;)w=w.then(v[E++],v[E++]);return w}getUri(t){t=cl(this.defaults,t);const n=vE(t.baseURL,t.url,t.allowAbsoluteUrls);return hE(n,t.params,t.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(t){nh.prototype[t]=function(n,r){return this.request(cl(r||{},{method:t,url:n,data:(r||{}).data}))}});me.forEach(["post","put","patch"],function(t){function n(r){return function(a,d,x){return this.request(cl(x||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:d}))}}nh.prototype[t]=n(),nh.prototype[t+"Form"]=n(!0)});const m0=nh;class Xg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const d=new Promise(x=>{r.subscribe(x),a=x}).then(i);return d.cancel=function(){r.unsubscribe(a)},d},t(function(a,d,x){r.reason||(r.reason=new Oc(a,d,x),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Xg(function(i){t=i}),cancel:t}}}const nR=Xg;function rR(e){return function(n){return e.apply(null,n)}}function sR(e){return me.isObject(e)&&e.isAxiosError===!0}const xx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xx).forEach(([e,t])=>{xx[t]=e});const iR=xx;function NE(e){const t=new m0(e),n=tE(m0.prototype.request,t);return me.extend(n,m0.prototype,t,{allOwnKeys:!0}),me.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return NE(cl(e,i))},n}const Jn=NE(Gg);Jn.Axios=m0;Jn.CanceledError=Oc;Jn.CancelToken=nR;Jn.isCancel=xE;Jn.VERSION=EE;Jn.toFormData=Yh;Jn.AxiosError=gt;Jn.Cancel=Jn.CanceledError;Jn.all=function(t){return Promise.all(t)};Jn.spread=rR;Jn.isAxiosError=sR;Jn.mergeConfig=cl;Jn.AxiosHeaders=ci;Jn.formToJSON=e=>mE(me.isHTMLForm(e)?new FormData(e):e);Jn.getAdapter=CE.getAdapter;Jn.HttpStatusCode=iR;Jn.default=Jn;const dt=Jn,_E=M.createContext(),or=()=>M.useContext(_E),aR=({children:e})=>{const[t,n]=M.useState(null),[r,i]=M.useState(localStorage.getItem("token")),[a,d]=M.useState(!0),[x,g]=M.useState(null);M.useEffect(()=>{r?dt.defaults.headers.common.Authorization=`Bearer ${r}`:delete dt.defaults.headers.common.Authorization},[r]),M.useEffect(()=>{const W=async()=>{if(!r){d(!1);return}try{const B=await dt.get("/api/auth/me");n(B.data.user),g(null)}catch(B){console.error("Token verification failed:",B),B.response&&B.response.status===401?(w(),g("Session expired. Please log in again.")):g("Error verifying session. Please try again.")}finally{d(!1)}};W();const Z=setInterval(()=>{r&&W()},60*60*1e3);return()=>{clearInterval(Z)}},[r]);const v=async(W,Z)=>{var B,R;try{d(!0);const V=await dt.post("/api/auth/login",{username:W,password:Z}),{token:Y,user:ee}=V.data;return localStorage.setItem("token",Y),dt.defaults.headers.common.Authorization=`Bearer ${Y}`,i(Y),n(ee),g(null),ee}catch(V){throw console.error("Login error:",V),g(((R=(B=V.response)==null?void 0:B.data)==null?void 0:R.message)||"Login failed"),V}finally{d(!1)}},w=()=>{localStorage.removeItem("token"),i(null),n(null),delete dt.defaults.headers.common.Authorization},O={user:t,token:r,loading:a,error:x,login:v,logout:w,register:async W=>{var Z,B;try{return d(!0),(await dt.post("/api/auth/register",W)).data}catch(R){throw console.error("Register error:",R),g(((B=(Z=R.response)==null?void 0:Z.data)==null?void 0:B.message)||"Registration failed"),R}finally{d(!1)}},isAdmin:()=>(t==null?void 0:t.role)==="admin",isAdvanced:()=>(t==null?void 0:t.role)==="advanced",isBasic:()=>(t==null?void 0:t.role)==="basic",canEditEquipment:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="advanced",isImpersonating:()=>!!(t!=null&&t.impersonated),impersonateUser:async W=>{var Z,B;try{d(!0);const R=await dt.post(`/api/auth/impersonate/${W}`),{token:V,user:Y}=R.data;return localStorage.setItem("token",V),i(V),n(Y),g(null),Y}catch(R){throw console.error("Impersonation error:",R),g(((B=(Z=R.response)==null?void 0:Z.data)==null?void 0:B.message)||"Impersonation failed"),R}finally{d(!1)}},getUsers:async()=>{var W,Z;try{return(await dt.get("/api/auth/users")).data.users}catch(B){throw console.error("Get users error:",B),g(((Z=(W=B.response)==null?void 0:W.data)==null?void 0:Z.message)||"Failed to get users"),B}}};return l.jsx(_E.Provider,{value:O,children:e})};function SE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=SE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function En(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=SE(e))&&(r&&(r+=" "),r+=t);return r}function oR(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}oR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var bd=e=>typeof e=="number"&&!isNaN(e),ul=e=>typeof e=="string",va=e=>typeof e=="function",lR=e=>ul(e)||bd(e),gx=e=>ul(e)||va(e)?e:null,cR=(e,t)=>e===!1||bd(e)&&e>0?e:t,vx=e=>M.isValidElement(e)||ul(e)||va(e)||bd(e);function uR(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function dR({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:d,preventExitTransition:x,done:g,nodeRef:v,isIn:w,playToast:E}){let _=n?`${e}--${d}`:e,k=n?`${t}--${d}`:t,A=M.useRef(0);return M.useLayoutEffect(()=>{let I=v.current,L=_.split(" "),D=j=>{j.target===v.current&&(E(),I.removeEventListener("animationend",D),I.removeEventListener("animationcancel",D),A.current===0&&j.type!=="animationcancel"&&I.classList.remove(...L))};I.classList.add(...L),I.addEventListener("animationend",D),I.addEventListener("animationcancel",D)},[]),M.useEffect(()=>{let I=v.current,L=()=>{I.removeEventListener("animationend",L),r?uR(I,g,i):g()};w||(x?L():(A.current=1,I.className+=` ${k}`,I.addEventListener("animationend",L)))},[w]),fe.createElement(fe.Fragment,null,a)}}function eb(e,t){return{content:AE(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function AE(e,t,n=!1){return M.isValidElement(e)&&!ul(e.type)?M.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):va(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function fR({closeToast:e,theme:t,ariaLabel:n="close"}){return fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function hR({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:a,controlledProgress:d,progress:x,rtl:g,isIn:v,theme:w}){let E=i||d&&x===0,_={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};d&&(_.transform=`scaleX(${x})`);let k=En("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${w}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":g}),A=va(a)?a({rtl:g,type:r,defaultClassName:k}):En(k,a),I={[d&&x>=1?"onTransitionEnd":"onAnimationEnd"]:d&&x<1?null:()=>{v&&n()}};return fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${w} Toastify__progress-bar--${r}`}),fe.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:A,style:_,...I}))}var pR=1,kE=()=>`${pR++}`;function mR(e,t,n){let r=1,i=0,a=[],d=[],x=t,g=new Map,v=new Set,w=j=>(v.add(j),()=>v.delete(j)),E=()=>{d=Array.from(g.values()),v.forEach(j=>j())},_=({containerId:j,toastId:O,updateId:W})=>{let Z=j?j!==e:e!==1,B=g.has(O)&&W==null;return Z||B},k=(j,O)=>{g.forEach(W=>{var Z;(O==null||O===W.props.toastId)&&((Z=W.toggle)==null||Z.call(W,j))})},A=j=>{var O,W;(W=(O=j.props)==null?void 0:O.onClose)==null||W.call(O,j.removalReason),j.isActive=!1},I=j=>{if(j==null)g.forEach(A);else{let O=g.get(j);O&&A(O)}E()},L=()=>{i-=a.length,a=[]},D=j=>{var O,W;let{toastId:Z,updateId:B}=j.props,R=B==null;j.staleId&&g.delete(j.staleId),j.isActive=!0,g.set(Z,j),E(),n(eb(j,R?"added":"updated")),R&&((W=(O=j.props).onOpen)==null||W.call(O))};return{id:e,props:x,observe:w,toggle:k,removeToast:I,toasts:g,clearQueue:L,buildToast:(j,O)=>{if(_(O))return;let{toastId:W,updateId:Z,data:B,staleId:R,delay:V}=O,Y=Z==null;Y&&i++;let ee={...x,style:x.toastStyle,key:r++,...Object.fromEntries(Object.entries(O).filter(([ie,ce])=>ce!=null)),toastId:W,updateId:Z,data:B,isIn:!1,className:gx(O.className||x.toastClassName),progressClassName:gx(O.progressClassName||x.progressClassName),autoClose:O.isLoading?!1:cR(O.autoClose,x.autoClose),closeToast(ie){g.get(W).removalReason=ie,I(W)},deleteToast(){let ie=g.get(W);if(ie!=null){if(n(eb(ie,"removed")),g.delete(W),i--,i<0&&(i=0),a.length>0){D(a.shift());return}E()}}};ee.closeButton=x.closeButton,O.closeButton===!1||vx(O.closeButton)?ee.closeButton=O.closeButton:O.closeButton===!0&&(ee.closeButton=vx(x.closeButton)?x.closeButton:!0);let de={content:j,props:ee,staleId:R};x.limit&&x.limit>0&&i>x.limit&&Y?a.push(de):bd(V)?setTimeout(()=>{D(de)},V):D(de)},setProps(j){x=j},setToggle:(j,O)=>{let W=g.get(j);W&&(W.toggle=O)},isToastActive:j=>{var O;return(O=g.get(j))==null?void 0:O.isActive},getSnapshot:()=>d}}var Wr=new Map,ld=[],yx=new Set,xR=e=>yx.forEach(t=>t(e)),TE=()=>Wr.size>0;function gR(){ld.forEach(e=>DE(e.content,e.options)),ld=[]}var vR=(e,{containerId:t})=>{var n;return(n=Wr.get(t||1))==null?void 0:n.toasts.get(e)};function jE(e,t){var n;if(t)return!!((n=Wr.get(t))!=null&&n.isToastActive(e));let r=!1;return Wr.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function yR(e){if(!TE()){ld=ld.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||lR(e))Wr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Wr.get(e.containerId);t?t.removeToast(e.id):Wr.forEach(n=>{n.removeToast(e.id)})}}var wR=(e={})=>{Wr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function DE(e,t){vx(e)&&(TE()||ld.push({content:e,options:t}),Wr.forEach(n=>{n.buildToast(e,t)}))}function bR(e){var t;(t=Wr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function IE(e,t){Wr.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function CR(e){let t=e.containerId||1;return{subscribe(n){let r=mR(t,e,xR);Wr.set(t,r);let i=r.observe(n);return gR(),()=>{i(),Wr.delete(t)}},setProps(n){var r;(r=Wr.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Wr.get(t))==null?void 0:n.getSnapshot()}}}function ER(e){return yx.add(e),()=>{yx.delete(e)}}function NR(e){return e&&(ul(e.toastId)||bd(e.toastId))?e.toastId:kE()}function Cd(e,t){return DE(e,t),t.toastId}function Qh(e,t){return{...t,type:t&&t.type||e,toastId:NR(t)}}function Kh(e){return(t,n)=>Cd(t,Qh(e,n))}function et(e,t){return Cd(e,Qh("default",t))}et.loading=(e,t)=>Cd(e,Qh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function _R(e,{pending:t,error:n,success:r},i){let a;t&&(a=ul(t)?et.loading(t,i):et.loading(t.render,{...i,...t}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},x=(v,w,E)=>{if(w==null){et.dismiss(a);return}let _={type:v,...d,...i,data:E},k=ul(w)?{render:w}:w;return a?et.update(a,{..._,...k}):et(k.render,{..._,...k}),E},g=va(e)?e():e;return g.then(v=>x("success",r,v)).catch(v=>x("error",n,v)),g}et.promise=_R;et.success=Kh("success");et.info=Kh("info");et.error=Kh("error");et.warning=Kh("warning");et.warn=et.warning;et.dark=(e,t)=>Cd(e,Qh("default",{theme:"dark",...t}));function SR(e){yR(e)}et.dismiss=SR;et.clearWaitingQueue=wR;et.isActive=jE;et.update=(e,t={})=>{let n=vR(e,t);if(n){let{props:r,content:i}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:kE()};a.toastId!==e&&(a.staleId=e);let d=a.render||i;delete a.render,Cd(d,a)}};et.done=e=>{et.update(e,{progress:1})};et.onChange=ER;et.play=e=>IE(!0,e);et.pause=e=>IE(!1,e);function AR(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=M.useRef(CR(e)).current;i(e);let a=(t=M.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function d(x){if(!a)return[];let g=new Map;return e.newestOnTop&&a.reverse(),a.forEach(v=>{let{position:w}=v.props;g.has(w)||g.set(w,[]),g.get(w).push(v)}),Array.from(g,v=>x(v[0],v[1]))}return{getToastToRender:d,isToastActive:jE,count:a==null?void 0:a.length}}function kR(e){let[t,n]=M.useState(!1),[r,i]=M.useState(!1),a=M.useRef(null),d=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:x,pauseOnHover:g,closeToast:v,onClick:w,closeOnClick:E}=e;bR({id:e.toastId,containerId:e.containerId,fn:n}),M.useEffect(()=>{if(e.pauseOnFocusLoss)return _(),()=>{k()}},[e.pauseOnFocusLoss]);function _(){document.hasFocus()||D(),window.addEventListener("focus",L),window.addEventListener("blur",D)}function k(){window.removeEventListener("focus",L),window.removeEventListener("blur",D)}function A(R){if(e.draggable===!0||e.draggable===R.pointerType){j();let V=a.current;d.canCloseOnClick=!0,d.canDrag=!0,V.style.transition="none",e.draggableDirection==="x"?(d.start=R.clientX,d.removalDistance=V.offsetWidth*(e.draggablePercent/100)):(d.start=R.clientY,d.removalDistance=V.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function I(R){let{top:V,bottom:Y,left:ee,right:de}=a.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&e.pauseOnHover&&R.clientX>=ee&&R.clientX<=de&&R.clientY>=V&&R.clientY<=Y?D():L()}function L(){n(!0)}function D(){n(!1)}function j(){d.didMove=!1,document.addEventListener("pointermove",W),document.addEventListener("pointerup",Z)}function O(){document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Z)}function W(R){let V=a.current;if(d.canDrag&&V){d.didMove=!0,t&&D(),e.draggableDirection==="x"?d.delta=R.clientX-d.start:d.delta=R.clientY-d.start,d.start!==R.clientX&&(d.canCloseOnClick=!1);let Y=e.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;V.style.transform=`translate3d(${Y},0)`,V.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function Z(){O();let R=a.current;if(d.canDrag&&d.didMove&&R){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let B={onPointerDown:A,onPointerUp:I};return x&&g&&(B.onMouseEnter=D,e.stacked||(B.onMouseLeave=L)),E&&(B.onClick=R=>{w&&w(R),d.canCloseOnClick&&v(!0)}),{playToast:L,pauseToast:D,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:B}}var TR=typeof window<"u"?M.useLayoutEffect:M.useEffect,Zh=({theme:e,type:t,isLoading:n,...r})=>fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function jR(e){return fe.createElement(Zh,{...e},fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function DR(e){return fe.createElement(Zh,{...e},fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function IR(e){return fe.createElement(Zh,{...e},fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function RR(e){return fe.createElement(Zh,{...e},fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function OR(){return fe.createElement("div",{className:"Toastify__spinner"})}var wx={info:DR,warning:jR,success:IR,error:RR,spinner:OR},MR=e=>e in wx;function LR({theme:e,type:t,isLoading:n,icon:r}){let i=null,a={theme:e,type:t};return r===!1||(va(r)?i=r({...a,isLoading:n}):M.isValidElement(r)?i=M.cloneElement(r,a):n?i=wx.spinner():MR(t)&&(i=wx[t](a))),i}var PR=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=kR(e),{closeButton:d,children:x,autoClose:g,onClick:v,type:w,hideProgressBar:E,closeToast:_,transition:k,position:A,className:I,style:L,progressClassName:D,updateId:j,role:O,progress:W,rtl:Z,toastId:B,deleteToast:R,isIn:V,isLoading:Y,closeOnClick:ee,theme:de,ariaLabel:ie}=e,ce=En("Toastify__toast",`Toastify__toast-theme--${de}`,`Toastify__toast--${w}`,{"Toastify__toast--rtl":Z},{"Toastify__toast--close-on-click":ee}),Te=va(I)?I({rtl:Z,position:A,type:w,defaultClassName:ce}):En(ce,I),re=LR(e),_e=!!W||!g,ve={closeToast:_,type:w,theme:de},ue=null;return d===!1||(va(d)?ue=d(ve):M.isValidElement(d)?ue=M.cloneElement(d,ve):ue=fR(ve)),fe.createElement(k,{isIn:V,done:R,position:A,preventExitTransition:n,nodeRef:r,playToast:a},fe.createElement("div",{id:B,tabIndex:0,onClick:v,"data-in":V,className:Te,...i,style:L,ref:r,...V&&{role:O,"aria-label":ie}},re!=null&&fe.createElement("div",{className:En("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Y})},re),AE(x,e,!t),ue,!e.customProgressBar&&fe.createElement(hR,{...j&&!_e?{key:`p-${j}`}:{},rtl:Z,theme:de,delay:g,isRunning:t,isIn:V,closeToast:_,hide:E,type:w,className:D,controlledProgress:_e,progress:W||0})))},FR=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),BR=dR(FR("bounce",!0)),UR={position:"top-right",transition:BR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Jh(e){let t={...UR,...e},n=e.stacked,[r,i]=M.useState(!0),a=M.useRef(null),{getToastToRender:d,isToastActive:x,count:g}=AR(t),{className:v,style:w,rtl:E,containerId:_,hotKeys:k}=t;function A(L){let D=En("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":E});return va(v)?v({position:L,rtl:E,defaultClassName:D}):En(D,gx(v))}function I(){n&&(i(!0),et.play())}return TR(()=>{var L;if(n){let D=a.current.querySelectorAll('[data-in="true"]'),j=12,O=(L=t.position)==null?void 0:L.includes("top"),W=0,Z=0;Array.from(D).reverse().forEach((B,R)=>{let V=B;V.classList.add("Toastify__toast--stacked"),R>0&&(V.dataset.collapsed=`${r}`),V.dataset.pos||(V.dataset.pos=O?"top":"bot");let Y=W*(r?.2:1)+(r?0:j*R);V.style.setProperty("--y",`${O?Y:Y*-1}px`),V.style.setProperty("--g",`${j}`),V.style.setProperty("--s",`${1-(r?Z:0)}`),W+=V.offsetHeight,Z+=.025})}},[r,g,n]),M.useEffect(()=>{function L(D){var j;let O=a.current;k(D)&&((j=O.querySelector('[tabIndex="0"]'))==null||j.focus(),i(!1),et.pause()),D.key==="Escape"&&(document.activeElement===O||O!=null&&O.contains(document.activeElement))&&(i(!0),et.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[k]),fe.createElement("section",{ref:a,className:"Toastify",id:_,onMouseEnter:()=>{n&&(i(!1),et.pause())},onMouseLeave:I,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},d((L,D)=>{let j=D.length?{...w}:{...w,pointerEvents:"none"};return fe.createElement("div",{tabIndex:-1,className:A(L),"data-stacked":n,style:j,key:`c-${L}`},D.map(({content:O,props:W})=>fe.createElement(PR,{...W,stacked:n,collapseAll:I,isIn:x(W.toastId,W.containerId),key:`t-${W.key}`},O)))}))}var RE={exports:{}},zR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WR=zR,HR=WR;function OE(){}function ME(){}ME.resetWarningCache=OE;var qR=function(){function e(r,i,a,d,x,g){if(g!==HR){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ME,resetWarningCache:OE};return n.PropTypes=n,n};RE.exports=qR();var VR=RE.exports;const se=Eh(VR),oa=async({page:e=1,limit:t=10,type:n,brand:r,status:i,location_id:a,search:d,sortBy:x="updated_at",sortOrder:g="desc",startDate:v,endDate:w})=>{const E={page:e,limit:t};return n&&(E.type=n),r&&(E.brand=r),i&&(E.status=i),a&&(E.location_id=a),d&&(E.search=d),x&&(E.sortBy=x),g&&(E.sortOrder=g),v&&(E.startDate=v),w&&(E.endDate=w),(await dt.get("/api/equipment",{params:E})).data},ep=async e=>(await dt.get(`/api/equipment/${e}`)).data,Qg=async(e,t=[],n=null)=>{const r=new FormData;if(!e.type_id)throw console.error("Missing required field: type_id"),new Error("Equipment type is required");if(!e.brand)throw console.error("Missing required field: brand"),new Error("Brand is required");if(!e.model)throw console.error("Missing required field: model"),new Error("Model is required");if(!e.serial_number)throw console.error("Missing required field: serial_number"),new Error("Serial number is required");const i=Object.fromEntries(Object.entries(e).filter(([a,d])=>d!==void 0));console.log("Creating equipment with data:",i),Object.keys(i).forEach(a=>{a==="type_id"&&typeof i[a]=="string"?r.append(a,parseInt(i[a],10)):r.append(a,i[a])}),n&&r.append("referenceImage",n),t&&t.length>0&&t.forEach(a=>{r.append("files",a)});try{return(await dt.post("/api/equipment",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error in createEquipment:",a),a}},LE=async(e,t,n=[],r=[],i=null,a=!1)=>{try{const d=new FormData,x=Object.fromEntries(Object.entries(t).filter(([w,E])=>E!==void 0));console.log("Full equipment data:",t);const g=["location_id","type_id"];return Object.keys(x).forEach(w=>{w!=="reference_image_id"&&(g.includes(w)&&(x[w]===""||x[w]==="0")?(d.append(w,""),d.append(`${w}_is_null`,"true")):d.append(w,x[w]))}),i&&d.append("referenceImage",i),a&&d.append("removeReferenceImage","true"),n&&n.length>0&&n.forEach(w=>{d.append("files",w)}),r&&r.length>0&&d.append("filesToDelete",JSON.stringify(r)),console.log("Updating equipment with data:",x),console.log("Files to delete:",r),console.log("Reference image file:",i?i.name:"None"),console.log("Remove reference image:",a),(await dt.put(`/api/equipment/${e}`,d,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(d){throw console.error("Error in updateEquipment:",d),d}},YR=async e=>(await dt.delete(`/api/equipment/${e}`)).data,rh=(e,t=!1,n=!0)=>{if(!e)return null;const r=`/api/files/${e}`;let i=t?`${r}?thumbnail=true`:r;return n&&(i+=(i.includes("?")?"&":"?")+`t=${new Date().getTime()}`),i},$R=async(e,t)=>{try{return console.log(`Updating equipment ${e} status to ${t}`),(await dt.patch(`/api/equipment/${e}/status`,{status:t})).data}catch(n){throw console.error("Error updating equipment status:",n),n}},GR=async(e,t)=>{try{return console.log(`Updating equipment ${e} location:`,t),(await dt.patch(`/api/equipment/${e}/location`,t)).data}catch(n){throw console.error("Error updating equipment location:",n),n}},XR=async(e,t)=>{try{return console.log(`Updating equipment ${e} type to ${t}`),(await dt.patch(`/api/equipment/${e}/type`,{type_id:t})).data}catch(n){throw console.error("Error updating equipment type:",n),n}},QR=async(e,t)=>{try{return console.log(`Updating equipment ${e} category to ${t}`),(await dt.patch(`/api/equipment/${e}/category`,{category_id:t})).data}catch(n){throw console.error("Error updating equipment category:",n),n}},KR=async(e,t)=>{try{return console.log(`Updating equipment ${e} brand/model:`,t),(await dt.patch(`/api/equipment/${e}/brand-model`,t)).data}catch(n){throw console.error("Error updating equipment brand/model:",n),n}},Li=async()=>{try{return(await dt.get("/api/equipment-types")).data}catch(e){throw console.error("Error fetching equipment types:",e),e}},ZR=async e=>(await dt.post("/api/equipment-types",{name:e})).data,JR=async(e,t)=>(await dt.put(`/api/equipment-types/${e}`,{name:t})).data,eO=async e=>(await dt.delete(`/api/equipment-types/${e}`)).data,PE=M.createContext(),tO=3,FE=({children:e})=>{const[t,n]=M.useState([]),{user:r}=or(),i=(r==null?void 0:r.role)==="admin",{data:a}=vt(["equipment",{limit:1e3}],()=>oa({limit:1e3}),{enabled:i,refetchInterval:5*60*1e3,staleTime:4*60*1e3}),{data:d}=vt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5,enabled:i});M.useEffect(()=>{if(!i||!(a!=null&&a.equipment)||!(d!=null&&d.types))return;const A=a.equipment,I=d.types,L={};A.forEach(j=>{j.type&&(L[j.type]||(L[j.type]=[]),L[j.type].push(j))});const D=[];Object.entries(L).forEach(([j,O])=>{const W=O.filter(Z=>Z.status==="available");if(W.length<=tO){const Z=I.find(B=>B.name.toLowerCase()===j.toLowerCase());D.push({id:`low-stock-${j}`,type:"warning",title:"Low Stock Alert",message:`Only ${W.length} ${j} ${W.length===1?"item is":"items are"} available.`,timestamp:new Date,read:!1,typeId:Z==null?void 0:Z.id})}}),D.length>0&&n(j=>[...j.filter(W=>!W.id.startsWith("low-stock-")),...D])},[a,d,i]);const x=A=>{n(I=>[...I,{id:A.id||`notification-${Date.now()}`,timestamp:new Date,read:!1,...A}])},g=A=>{n(I=>I.map(L=>L.id===A?{...L,read:!0}:L))},v=()=>{n(A=>A.map(I=>({...I,read:!0})))},w=A=>{n(I=>I.filter(L=>L.id!==A))},E=()=>{n([])},_=t.filter(A=>!A.read).length,k={notifications:t,unreadCount:_,addNotification:x,markAsRead:g,markAllAsRead:v,removeNotification:w,clearNotifications:E};return l.jsx(PE.Provider,{value:k,children:e})};FE.propTypes={children:se.node.isRequired};const nO=()=>{const e=M.useContext(PE);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},rO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),sO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})}),iO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),BE=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),aO=({className:e="w-5 h-5"})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),tb=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})}),UE=({className:e="w-5 h-5"})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),Kg=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125"})}),Zg=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),Jg=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})}),oO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),lO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),tp=({className:e="w-4 h-4"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),np=({className:e="w-4 h-4"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),e2=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),nb=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),cO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})}),uO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75a2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),zE=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),dO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),fO=({className:e="w-5 h-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),WE=6048e5,hO=864e5,rp=6e4,sp=36e5,pO=1e3,qf=43200,rb=1440,sb=Symbol.for("constructDateFrom");function Gt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&sb in e?e[sb](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ye(e,t){return Gt(t||e,e)}function ui(e,t,n){const r=Ye(e,n==null?void 0:n.in);return isNaN(t)?Gt((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function fi(e,t,n){const r=Ye(e,n==null?void 0:n.in);if(isNaN(t))return Gt((n==null?void 0:n.in)||e,NaN);if(!t)return r;const i=r.getDate(),a=Gt((n==null?void 0:n.in)||e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const d=a.getDate();return i>=d?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function HE(e,t,n){return Gt((n==null?void 0:n.in)||e,+Ye(e)+t)}function mO(e,t,n){return HE(e,t*sp,n)}let xO={};function vo(){return xO}function ya(e,t){var x,g,v,w;const n=vo(),r=(t==null?void 0:t.weekStartsOn)??((g=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,i=Ye(e,t==null?void 0:t.in),a=i.getDay(),d=(a<r?7:0)+a-r;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function gc(e,t){return ya(e,{...t,weekStartsOn:1})}function qE(e,t){const n=Ye(e,t==null?void 0:t.in),r=n.getFullYear(),i=Gt(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=gc(i),d=Gt(n,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const x=gc(d);return n.getTime()>=a.getTime()?r+1:n.getTime()>=x.getTime()?r:r-1}function vc(e){const t=Ye(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function pi(e,...t){const n=Gt.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function dl(e,t){const n=Ye(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function yc(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t),a=dl(r),d=dl(i),x=+a-vc(a),g=+d-vc(d);return Math.round((x-g)/hO)}function gO(e,t){const n=qE(e,t),r=Gt((t==null?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),gc(r)}function bx(e,t,n){const r=Ye(e,n==null?void 0:n.in);return r.setTime(r.getTime()+t*rp),r}function t2(e,t,n){return fi(e,t*3,n)}function vO(e,t,n){return HE(e,t*1e3,n)}function sh(e,t,n){return ui(e,t*7,n)}function ca(e,t,n){return fi(e,t*12,n)}function ib(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Gt.bind(null,i));const a=Ye(i,r);(!n||n<a||isNaN(+a))&&(n=a)}),Gt(r,n||NaN)}function ab(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Gt.bind(null,i));const a=Ye(i,r);(!n||n>a||isNaN(+a))&&(n=a)}),Gt(r,n||NaN)}function x0(e,t){const n=+Ye(e)-+Ye(t);return n<0?-1:n>0?1:n}function yO(e){return Gt(e,Date.now())}function wO(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t);return+dl(r)==+dl(i)}function ua(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ih(e){return!(!ua(e)&&typeof e!="number"||isNaN(+Ye(e)))}function cd(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t),a=r.getFullYear()-i.getFullYear(),d=r.getMonth()-i.getMonth();return a*12+d}function tl(e,t){const n=Ye(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function ah(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t),a=r.getFullYear()-i.getFullYear(),d=tl(r)-tl(i);return a*4+d}function oh(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t);return r.getFullYear()-i.getFullYear()}function bO(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t),a=ob(r,i),d=Math.abs(yc(r,i));r.setDate(r.getDate()-a*d);const x=+(ob(r,i)===-a),g=a*(d-x);return g===0?0:g}function ob(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function CO(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function EO(e,t){return+Ye(e)-+Ye(t)}function n2(e,t){const n=Ye(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function r2(e,t){const n=Ye(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function NO(e,t){const n=Ye(e,t==null?void 0:t.in);return+n2(n,t)==+r2(n,t)}function _O(e,t,n){const[r,i,a]=pi(n==null?void 0:n.in,e,e,t),d=x0(i,a),x=Math.abs(cd(i,a));if(x<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-d*x);let g=x0(i,a)===-d;NO(r)&&x===1&&x0(r,a)===1&&(g=!1);const v=d*(x-+g);return v===0?0:v}function SO(e,t,n){const r=EO(e,t)/1e3;return CO(n==null?void 0:n.roundingMethod)(r)}function Cx(e,t){const n=Ye(e,t==null?void 0:t.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function VE(e,t){const n=Ye(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function YE(e,t){const n=Ye(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function ip(e,t){const n=Ye(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function AO(e,t){var x,g,v,w;const n=vo(),r=(t==null?void 0:t.weekStartsOn)??((g=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,i=Ye(e,t==null?void 0:t.in),a=i.getDay(),d=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}const kO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TO=(e,t,n)=>{let r;const i=kO[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function X1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const jO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},DO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},IO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RO={date:X1({formats:jO,defaultWidth:"full"}),time:X1({formats:DO,defaultWidth:"full"}),dateTime:X1({formats:IO,defaultWidth:"full"})},OO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},MO=(e,t,n,r)=>OO[e];function bu(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,x=n!=null&&n.width?String(n.width):d;i=e.formattingValues[x]||e.formattingValues[d]}else{const d=e.defaultWidth,x=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[x]||e.values[d]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const LO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},FO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},WO=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},HO={ordinalNumber:WO,era:bu({values:LO,defaultWidth:"wide"}),quarter:bu({values:PO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:bu({values:FO,defaultWidth:"wide"}),day:bu({values:BO,defaultWidth:"wide"}),dayPeriod:bu({values:UO,defaultWidth:"wide",formattingValues:zO,defaultFormattingWidth:"wide"})};function Cu(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const d=a[0],x=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(x)?VO(x,E=>E.test(d)):qO(x,E=>E.test(d));let v;v=e.valueCallback?e.valueCallback(g):g,v=n.valueCallback?n.valueCallback(v):v;const w=t.slice(d.length);return{value:v,rest:w}}}function qO(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function VO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function YO(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let d=e.valueCallback?e.valueCallback(a[0]):a[0];d=n.valueCallback?n.valueCallback(d):d;const x=t.slice(i.length);return{value:d,rest:x}}}const $O=/^(\d+)(th|st|nd|rd)?/i,GO=/\d+/i,XO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QO={any:[/^b/i,/^(a|c)/i]},KO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ZO={any:[/1/i,/2/i,/3/i,/4/i]},JO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iM={ordinalNumber:YO({matchPattern:$O,parsePattern:GO,valueCallback:e=>parseInt(e,10)}),era:Cu({matchPatterns:XO,defaultMatchWidth:"wide",parsePatterns:QO,defaultParseWidth:"any"}),quarter:Cu({matchPatterns:KO,defaultMatchWidth:"wide",parsePatterns:ZO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Cu({matchPatterns:JO,defaultMatchWidth:"wide",parsePatterns:eM,defaultParseWidth:"any"}),day:Cu({matchPatterns:tM,defaultMatchWidth:"wide",parsePatterns:nM,defaultParseWidth:"any"}),dayPeriod:Cu({matchPatterns:rM,defaultMatchWidth:"any",parsePatterns:sM,defaultParseWidth:"any"})},s2={code:"en-US",formatDistance:TO,formatLong:RO,formatRelative:MO,localize:HO,match:iM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aM(e,t){const n=Ye(e,t==null?void 0:t.in);return yc(n,ip(n))+1}function i2(e,t){const n=Ye(e,t==null?void 0:t.in),r=+gc(n)-+gO(n);return Math.round(r/WE)+1}function a2(e,t){var w,E,_,k;const n=Ye(e,t==null?void 0:t.in),r=n.getFullYear(),i=vo(),a=(t==null?void 0:t.firstWeekContainsDate)??((E=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??i.firstWeekContainsDate??((k=(_=i.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=Gt((t==null?void 0:t.in)||e,0);d.setFullYear(r+1,0,a),d.setHours(0,0,0,0);const x=ya(d,t),g=Gt((t==null?void 0:t.in)||e,0);g.setFullYear(r,0,a),g.setHours(0,0,0,0);const v=ya(g,t);return+n>=+x?r+1:+n>=+v?r:r-1}function oM(e,t){var x,g,v,w;const n=vo(),r=(t==null?void 0:t.firstWeekContainsDate)??((g=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,i=a2(e,t),a=Gt((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),ya(a,t)}function $E(e,t){const n=Ye(e,t==null?void 0:t.in),r=+ya(n,t)-+oM(n,t);return Math.round(r/WE)+1}function en(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ba={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return en(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):en(n+1,2)},d(e,t){return en(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return en(e.getHours()%12||12,t.length)},H(e,t){return en(e.getHours(),t.length)},m(e,t){return en(e.getMinutes(),t.length)},s(e,t){return en(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return en(i,t.length)}},Fl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lb={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ba.y(e,t)},Y:function(e,t,n,r){const i=a2(e,r),a=i>0?i:1-i;if(t==="YY"){const d=a%100;return en(d,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):en(a,t.length)},R:function(e,t){const n=qE(e);return en(n,t.length)},u:function(e,t){const n=e.getFullYear();return en(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return en(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return en(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ba.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return en(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=$E(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):en(i,t.length)},I:function(e,t,n){const r=i2(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):en(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ba.d(e,t)},D:function(e,t,n){const r=aM(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):en(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return en(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return en(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return en(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Fl.noon:r===0?i=Fl.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Fl.evening:r>=12?i=Fl.afternoon:r>=4?i=Fl.morning:i=Fl.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ba.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ba.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):en(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):en(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ba.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ba.s(e,t)},S:function(e,t){return Ba.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ub(r);case"XXXX":case"XX":return Vo(r);case"XXXXX":case"XXX":default:return Vo(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ub(r);case"xxxx":case"xx":return Vo(r);case"xxxxx":case"xxx":default:return Vo(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+cb(r,":");case"OOOO":default:return"GMT"+Vo(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+cb(r,":");case"zzzz":default:return"GMT"+Vo(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return en(r,t.length)},T:function(e,t,n){return en(+e,t.length)}};function cb(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+en(a,2)}function ub(e,t){return e%60===0?(e>0?"-":"+")+en(Math.abs(e)/60,2):Vo(e,t)}function Vo(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=en(Math.trunc(r/60),2),a=en(r%60,2);return n+i+t+a}const db=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},GE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},lM=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return db(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",db(r,t)).replace("{{time}}",GE(i,t))},Ex={p:GE,P:lM},cM=/^D+$/,uM=/^Y+$/,dM=["D","DD","YY","YYYY"];function XE(e){return cM.test(e)}function QE(e){return uM.test(e)}function Nx(e,t,n){const r=fM(e,t,n);if(console.warn(r),dM.includes(e))throw new RangeError(r)}function fM(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mM=/^'([^]*?)'?$/,xM=/''/g,gM=/[a-zA-Z]/;function ud(e,t,n){var w,E,_,k,A,I,L,D;const r=vo(),i=(n==null?void 0:n.locale)??r.locale??s2,a=(n==null?void 0:n.firstWeekContainsDate)??((E=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??r.firstWeekContainsDate??((k=(_=r.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((I=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:I.weekStartsOn)??r.weekStartsOn??((D=(L=r.locale)==null?void 0:L.options)==null?void 0:D.weekStartsOn)??0,x=Ye(e,n==null?void 0:n.in);if(!ih(x))throw new RangeError("Invalid time value");let g=t.match(pM).map(j=>{const O=j[0];if(O==="p"||O==="P"){const W=Ex[O];return W(j,i.formatLong)}return j}).join("").match(hM).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const O=j[0];if(O==="'")return{isToken:!1,value:vM(j)};if(lb[O])return{isToken:!0,value:j};if(O.match(gM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(g=i.localize.preprocessor(x,g));const v={firstWeekContainsDate:a,weekStartsOn:d,locale:i};return g.map(j=>{if(!j.isToken)return j.value;const O=j.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&QE(O)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&XE(O))&&Nx(O,t,String(e));const W=lb[O[0]];return W(x,O,i.localize,v)}).join("")}function vM(e){const t=e.match(mM);return t?t[1].replace(xM,"'"):e}function yM(e,t,n){const r=vo(),i=(n==null?void 0:n.locale)??r.locale??s2,a=2520,d=x0(e,t);if(isNaN(d))throw new RangeError("Invalid time value");const x=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:d}),[g,v]=pi(n==null?void 0:n.in,...d>0?[t,e]:[e,t]),w=SO(v,g),E=(vc(v)-vc(g))/1e3,_=Math.round((w-E)/60);let k;if(_<2)return n!=null&&n.includeSeconds?w<5?i.formatDistance("lessThanXSeconds",5,x):w<10?i.formatDistance("lessThanXSeconds",10,x):w<20?i.formatDistance("lessThanXSeconds",20,x):w<40?i.formatDistance("halfAMinute",0,x):w<60?i.formatDistance("lessThanXMinutes",1,x):i.formatDistance("xMinutes",1,x):_===0?i.formatDistance("lessThanXMinutes",1,x):i.formatDistance("xMinutes",_,x);if(_<45)return i.formatDistance("xMinutes",_,x);if(_<90)return i.formatDistance("aboutXHours",1,x);if(_<rb){const A=Math.round(_/60);return i.formatDistance("aboutXHours",A,x)}else{if(_<a)return i.formatDistance("xDays",1,x);if(_<qf){const A=Math.round(_/rb);return i.formatDistance("xDays",A,x)}else if(_<qf*2)return k=Math.round(_/qf),i.formatDistance("aboutXMonths",k,x)}if(k=_O(v,g),k<12){const A=Math.round(_/qf);return i.formatDistance("xMonths",A,x)}else{const A=k%12,I=Math.trunc(k/12);return A<3?i.formatDistance("aboutXYears",I,x):A<9?i.formatDistance("overXYears",I,x):i.formatDistance("almostXYears",I+1,x)}}function wM(e,t){return yM(e,yO(e),t)}function fb(e,t){return Ye(e,t==null?void 0:t.in).getDate()}function bM(e,t){return Ye(e,t==null?void 0:t.in).getDay()}function CM(e,t){const n=Ye(e,t==null?void 0:t.in),r=n.getFullYear(),i=n.getMonth(),a=Gt(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function EM(){return Object.assign({},vo())}function da(e,t){return Ye(e,t==null?void 0:t.in).getHours()}function NM(e,t){const n=Ye(e,t==null?void 0:t.in).getDay();return n===0?7:n}function fa(e,t){return Ye(e,t==null?void 0:t.in).getMinutes()}function Ir(e,t){return Ye(e,t==null?void 0:t.in).getMonth()}function oo(e){return Ye(e).getSeconds()}function _x(e){return+Ye(e)}function Ct(e,t){return Ye(e,t==null?void 0:t.in).getFullYear()}function fo(e,t){return+Ye(e)>+Ye(t)}function fl(e,t){return+Ye(e)<+Ye(t)}function _M(e,t){return+Ye(e)==+Ye(t)}function SM(e,t){const n=AM(t)?new t(0):Gt(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function AM(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const kM=10;class KE{constructor(){ze(this,"subPriority",0)}validate(t,n){return!0}}class TM extends KE{constructor(t,n,r,i,a){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class jM extends KE{constructor(n,r){super();ze(this,"priority",kM);ze(this,"subPriority",-1);this.context=n||(i=>Gt(r,i))}set(n,r){return r.timestampIsSet?n:Gt(n,SM(n,this.context))}}class Ht{run(t,n,r,i){const a=this.parse(t,n,r,i);return a?{setter:new TM(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,n,r){return!0}}class DM extends Ht{constructor(){super(...arguments);ze(this,"priority",140);ze(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Vn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ti={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Yn(e,t){return e&&{value:t(e.value),rest:e.rest}}function kn(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ji(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,d=n[5]?parseInt(n[5],10):0;return{value:r*(i*sp+a*rp+d*pO),rest:t.slice(n[0].length)}}function ZE(e){return kn(Vn.anyDigitsSigned,e)}function Bn(e,t){switch(e){case 1:return kn(Vn.singleDigit,t);case 2:return kn(Vn.twoDigits,t);case 3:return kn(Vn.threeDigits,t);case 4:return kn(Vn.fourDigits,t);default:return kn(new RegExp("^\\d{1,"+e+"}"),t)}}function lh(e,t){switch(e){case 1:return kn(Vn.singleDigitSigned,t);case 2:return kn(Vn.twoDigitsSigned,t);case 3:return kn(Vn.threeDigitsSigned,t);case 4:return kn(Vn.fourDigitsSigned,t);default:return kn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function o2(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function JE(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const a=r+50,d=Math.trunc(a/100)*100,x=e>=a%100;i=e+d-(x?100:0)}return n?i:1-i}function eN(e){return e%400===0||e%4===0&&e%100!==0}class IM extends Ht{constructor(){super(...arguments);ze(this,"priority",130);ze(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const a=d=>({year:d,isTwoDigitYear:r==="yy"});switch(r){case"y":return Yn(Bn(4,n),a);case"yo":return Yn(i.ordinalNumber(n,{unit:"year"}),a);default:return Yn(Bn(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const a=n.getFullYear();if(i.isTwoDigitYear){const x=JE(i.year,a);return n.setFullYear(x,0,1),n.setHours(0,0,0,0),n}const d=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(d,0,1),n.setHours(0,0,0,0),n}}class RM extends Ht{constructor(){super(...arguments);ze(this,"priority",130);ze(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const a=d=>({year:d,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Yn(Bn(4,n),a);case"Yo":return Yn(i.ordinalNumber(n,{unit:"year"}),a);default:return Yn(Bn(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,a){const d=a2(n,a);if(i.isTwoDigitYear){const g=JE(i.year,d);return n.setFullYear(g,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),ya(n,a)}const x=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(x,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),ya(n,a)}}class OM extends Ht{constructor(){super(...arguments);ze(this,"priority",130);ze(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return lh(r==="R"?4:r.length,n)}set(n,r,i){const a=Gt(n,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),gc(a)}}class MM extends Ht{constructor(){super(...arguments);ze(this,"priority",130);ze(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return lh(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class LM extends Ht{constructor(){super(...arguments);ze(this,"priority",120);ze(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Bn(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class PM extends Ht{constructor(){super(...arguments);ze(this,"priority",120);ze(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Bn(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class FM extends Ht{constructor(){super(...arguments);ze(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ze(this,"priority",110)}parse(n,r,i){const a=d=>d-1;switch(r){case"M":return Yn(kn(Vn.month,n),a);case"MM":return Yn(Bn(2,n),a);case"Mo":return Yn(i.ordinalNumber(n,{unit:"month"}),a);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class BM extends Ht{constructor(){super(...arguments);ze(this,"priority",110);ze(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const a=d=>d-1;switch(r){case"L":return Yn(kn(Vn.month,n),a);case"LL":return Yn(Bn(2,n),a);case"Lo":return Yn(i.ordinalNumber(n,{unit:"month"}),a);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function UM(e,t,n){const r=Ye(e,n==null?void 0:n.in),i=$E(r,n)-t;return r.setDate(r.getDate()-i*7),Ye(r,n==null?void 0:n.in)}class zM extends Ht{constructor(){super(...arguments);ze(this,"priority",100);ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return kn(Vn.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Bn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,a){return ya(UM(n,i,a),a)}}function WM(e,t,n){const r=Ye(e,n==null?void 0:n.in),i=i2(r,n)-t;return r.setDate(r.getDate()-i*7),r}class HM extends Ht{constructor(){super(...arguments);ze(this,"priority",100);ze(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return kn(Vn.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Bn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return gc(WM(n,i))}}const qM=[31,28,31,30,31,30,31,31,30,31,30,31],VM=[31,29,31,30,31,30,31,31,30,31,30,31];class YM extends Ht{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"subPriority",1);ze(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return kn(Vn.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Bn(r.length,n)}}validate(n,r){const i=n.getFullYear(),a=eN(i),d=n.getMonth();return a?r>=1&&r<=VM[d]:r>=1&&r<=qM[d]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class $M extends Ht{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"subpriority",1);ze(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return kn(Vn.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Bn(r.length,n)}}validate(n,r){const i=n.getFullYear();return eN(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function l2(e,t,n){var E,_,k,A;const r=vo(),i=(n==null?void 0:n.weekStartsOn)??((_=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((A=(k=r.locale)==null?void 0:k.options)==null?void 0:A.weekStartsOn)??0,a=Ye(e,n==null?void 0:n.in),d=a.getDay(),g=(t%7+7)%7,v=7-i,w=t<0||t>6?t-(d+v)%7:(g+v)%7-(d+v)%7;return ui(a,w,n)}class GM extends Ht{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,a){return n=l2(n,i,a),n.setHours(0,0,0,0),n}}class XM extends Ht{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,a){const d=x=>{const g=Math.floor((x-1)/7)*7;return(x+a.weekStartsOn+6)%7+g};switch(r){case"e":case"ee":return Yn(Bn(r.length,n),d);case"eo":return Yn(i.ordinalNumber(n,{unit:"day"}),d);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,a){return n=l2(n,i,a),n.setHours(0,0,0,0),n}}class QM extends Ht{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,a){const d=x=>{const g=Math.floor((x-1)/7)*7;return(x+a.weekStartsOn+6)%7+g};switch(r){case"c":case"cc":return Yn(Bn(r.length,n),d);case"co":return Yn(i.ordinalNumber(n,{unit:"day"}),d);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,a){return n=l2(n,i,a),n.setHours(0,0,0,0),n}}function KM(e,t,n){const r=Ye(e,n==null?void 0:n.in),i=NM(r,n),a=t-i;return ui(r,a,n)}class ZM extends Ht{constructor(){super(...arguments);ze(this,"priority",90);ze(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const a=d=>d===0?7:d;switch(r){case"i":case"ii":return Bn(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Yn(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),a);case"iiiii":return Yn(i.day(n,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Yn(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Yn(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),a)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=KM(n,i),n.setHours(0,0,0,0),n}}class JM extends Ht{constructor(){super(...arguments);ze(this,"priority",80);ze(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(o2(i),0,0,0),n}}class e9 extends Ht{constructor(){super(...arguments);ze(this,"priority",80);ze(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(o2(i),0,0,0),n}}class t9 extends Ht{constructor(){super(...arguments);ze(this,"priority",80);ze(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(o2(i),0,0,0),n}}class n9 extends Ht{constructor(){super(...arguments);ze(this,"priority",70);ze(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return kn(Vn.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Bn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const a=n.getHours()>=12;return a&&i<12?n.setHours(i+12,0,0,0):!a&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class r9 extends Ht{constructor(){super(...arguments);ze(this,"priority",70);ze(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return kn(Vn.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Bn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class s9 extends Ht{constructor(){super(...arguments);ze(this,"priority",70);ze(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return kn(Vn.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Bn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class i9 extends Ht{constructor(){super(...arguments);ze(this,"priority",70);ze(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return kn(Vn.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Bn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const a=i<=24?i%24:i;return n.setHours(a,0,0,0),n}}class a9 extends Ht{constructor(){super(...arguments);ze(this,"priority",60);ze(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return kn(Vn.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Bn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class o9 extends Ht{constructor(){super(...arguments);ze(this,"priority",50);ze(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return kn(Vn.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Bn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class l9 extends Ht{constructor(){super(...arguments);ze(this,"priority",30);ze(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return Yn(Bn(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class c9 extends Ht{constructor(){super(...arguments);ze(this,"priority",10);ze(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return ji(Ti.basicOptionalMinutes,n);case"XX":return ji(Ti.basic,n);case"XXXX":return ji(Ti.basicOptionalSeconds,n);case"XXXXX":return ji(Ti.extendedOptionalSeconds,n);case"XXX":default:return ji(Ti.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Gt(n,n.getTime()-vc(n)-i)}}class u9 extends Ht{constructor(){super(...arguments);ze(this,"priority",10);ze(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return ji(Ti.basicOptionalMinutes,n);case"xx":return ji(Ti.basic,n);case"xxxx":return ji(Ti.basicOptionalSeconds,n);case"xxxxx":return ji(Ti.extendedOptionalSeconds,n);case"xxx":default:return ji(Ti.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Gt(n,n.getTime()-vc(n)-i)}}class d9 extends Ht{constructor(){super(...arguments);ze(this,"priority",40);ze(this,"incompatibleTokens","*")}parse(n){return ZE(n)}set(n,r,i){return[Gt(n,i*1e3),{timestampIsSet:!0}]}}class f9 extends Ht{constructor(){super(...arguments);ze(this,"priority",20);ze(this,"incompatibleTokens","*")}parse(n){return ZE(n)}set(n,r,i){return[Gt(n,i),{timestampIsSet:!0}]}}const h9={G:new DM,y:new IM,Y:new RM,R:new OM,u:new MM,Q:new LM,q:new PM,M:new FM,L:new BM,w:new zM,I:new HM,d:new YM,D:new $M,E:new GM,e:new XM,c:new QM,i:new ZM,a:new JM,b:new e9,B:new t9,h:new n9,H:new r9,K:new s9,k:new i9,m:new a9,s:new o9,S:new l9,X:new c9,x:new u9,t:new d9,T:new f9},p9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x9=/^'([^]*?)'?$/,g9=/''/g,v9=/\S/,y9=/[a-zA-Z]/;function w9(e,t,n,r){var L,D,j,O,W,Z,B,R;const i=()=>Gt((r==null?void 0:r.in)||n,NaN),a=EM(),d=(r==null?void 0:r.locale)??a.locale??s2,x=(r==null?void 0:r.firstWeekContainsDate)??((D=(L=r==null?void 0:r.locale)==null?void 0:L.options)==null?void 0:D.firstWeekContainsDate)??a.firstWeekContainsDate??((O=(j=a.locale)==null?void 0:j.options)==null?void 0:O.firstWeekContainsDate)??1,g=(r==null?void 0:r.weekStartsOn)??((Z=(W=r==null?void 0:r.locale)==null?void 0:W.options)==null?void 0:Z.weekStartsOn)??a.weekStartsOn??((R=(B=a.locale)==null?void 0:B.options)==null?void 0:R.weekStartsOn)??0;if(!t)return e?i():Ye(n,r==null?void 0:r.in);const v={firstWeekContainsDate:x,weekStartsOn:g,locale:d},w=[new jM(r==null?void 0:r.in,n)],E=t.match(m9).map(V=>{const Y=V[0];if(Y in Ex){const ee=Ex[Y];return ee(V,d.formatLong)}return V}).join("").match(p9),_=[];for(let V of E){!(r!=null&&r.useAdditionalWeekYearTokens)&&QE(V)&&Nx(V,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&XE(V)&&Nx(V,t,e);const Y=V[0],ee=h9[Y];if(ee){const{incompatibleTokens:de}=ee;if(Array.isArray(de)){const ce=_.find(Te=>de.includes(Te.token)||Te.token===Y);if(ce)throw new RangeError(`The format string mustn't contain \`${ce.fullToken}\` and \`${V}\` at the same time`)}else if(ee.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${V}\` and any other token at the same time`);_.push({token:Y,fullToken:V});const ie=ee.run(e,V,d.match,v);if(!ie)return i();w.push(ie.setter),e=ie.rest}else{if(Y.match(y9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");if(V==="''"?V="'":Y==="'"&&(V=b9(V)),e.indexOf(V)===0)e=e.slice(V.length);else return i()}}if(e.length>0&&v9.test(e))return i();const k=w.map(V=>V.priority).sort((V,Y)=>Y-V).filter((V,Y,ee)=>ee.indexOf(V)===Y).map(V=>w.filter(Y=>Y.priority===V).sort((Y,ee)=>ee.subPriority-Y.subPriority)).map(V=>V[0]);let A=Ye(n,r==null?void 0:r.in);if(isNaN(+A))return i();const I={};for(const V of k){if(!V.validate(A,v))return i();const Y=V.set(A,I,v);Array.isArray(Y)?(A=Y[0],Object.assign(I,Y[1])):A=Y}return A}function b9(e){return e.match(x9)[1].replace(g9,"'")}function C9(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function E9(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t);return+Cx(r)==+Cx(i)}function N9(e,t,n){const[r,i]=pi(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()}function dd(e,t,n){const r=+Ye(e,n==null?void 0:n.in),[i,a]=[+Ye(t.start,n==null?void 0:n.in),+Ye(t.end,n==null?void 0:n.in)].sort((d,x)=>d-x);return r>=i&&r<=a}function _9(e,t,n){return ui(e,-t,n)}function S9(e,t){const n=()=>Gt(t==null?void 0:t.in,NaN),r=(t==null?void 0:t.additionalDigits)??2,i=j9(e);let a;if(i.date){const v=D9(i.date,r);a=I9(v.restDateString,v.year)}if(!a||isNaN(+a))return n();const d=+a;let x=0,g;if(i.time&&(x=R9(i.time),isNaN(x)))return n();if(i.timezone){if(g=O9(i.timezone),isNaN(g))return n()}else{const v=new Date(d+x),w=Ye(0,t==null?void 0:t.in);return w.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),w.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),w}return Ye(d+x+g,t==null?void 0:t.in)}const Vf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},A9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,k9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,T9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function j9(e){const t={},n=e.split(Vf.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Vf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Vf.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=Vf.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function D9(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function I9(e,t){if(t===null)return new Date(NaN);const n=e.match(A9);if(!n)return new Date(NaN);const r=!!n[4],i=Eu(n[1]),a=Eu(n[2])-1,d=Eu(n[3]),x=Eu(n[4]),g=Eu(n[5])-1;if(r)return B9(t,x,g)?M9(t,x,g):new Date(NaN);{const v=new Date(0);return!P9(t,a,d)||!F9(t,i)?new Date(NaN):(v.setUTCFullYear(t,a,Math.max(i,d)),v)}}function Eu(e){return e?parseInt(e):1}function R9(e){const t=e.match(k9);if(!t)return NaN;const n=Q1(t[1]),r=Q1(t[2]),i=Q1(t[3]);return U9(n,r,i)?n*sp+r*rp+i*1e3:NaN}function Q1(e){return e&&parseFloat(e.replace(",","."))||0}function O9(e){if(e==="Z")return 0;const t=e.match(T9);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return z9(r,i)?n*(r*sp+i*rp):NaN}function M9(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const L9=[31,null,31,30,31,30,31,31,30,31,30,31];function tN(e){return e%400===0||e%4===0&&e%100!==0}function P9(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(L9[t]||(tN(e)?29:28))}function F9(e,t){return t>=1&&t<=(tN(e)?366:365)}function B9(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function U9(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function z9(e,t){return t>=0&&t<=59}function Us(e,t,n){const r=Ye(e,n==null?void 0:n.in),i=r.getFullYear(),a=r.getDate(),d=Gt((n==null?void 0:n.in)||e,0);d.setFullYear(i,t,15),d.setHours(0,0,0,0);const x=CM(d);return r.setMonth(t,Math.min(a,x)),r}function g0(e,t,n){const r=Ye(e,n==null?void 0:n.in);return r.setHours(t),r}function v0(e,t,n){const r=Ye(e,n==null?void 0:n.in);return r.setMinutes(t),r}function Bl(e,t,n){const r=Ye(e,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,a=t-i;return Us(r,r.getMonth()+a*3)}function y0(e,t,n){const r=Ye(e,n==null?void 0:n.in);return r.setSeconds(t),r}function _i(e,t,n){const r=Ye(e,n==null?void 0:n.in);return isNaN(+r)?Gt((n==null?void 0:n.in)||e,NaN):(r.setFullYear(t),r)}function nl(e,t,n){return fi(e,-t,n)}function nN(e,t,n){return t2(e,-t,n)}function hb(e,t,n){return sh(e,-t,n)}function wc(e,t,n){return ca(e,-t,n)}const W9=()=>{const[e,t]=M.useState(!1),n=M.useRef(null),{notifications:r,unreadCount:i,markAsRead:a,markAllAsRead:d,clearNotifications:x}=nO();M.useEffect(()=>{const E=_=>{n.current&&!n.current.contains(_.target)&&t(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const g=()=>{t(!e)},v=E=>{a(E.id),t(!1)},w=E=>{switch(E){case"warning":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"success":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});default:return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}};return l.jsxs("div",{className:"relative",ref:n,children:[l.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-800 focus:outline-none",onClick:g,"aria-label":`Notifications ${i>0?`(${i} unread)`:""}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),i>0&&l.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:i})]}),e&&l.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:l.jsxs("div",{className:"py-2",children:[l.jsxs("div",{className:"px-4 py-2 bg-gray-100 flex justify-between items-center",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Notifications"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:d,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"}),l.jsx("button",{onClick:x,className:"text-xs text-red-600 hover:text-red-800",children:"Clear all"})]})]}),l.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.length===0?l.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No notifications"}):r.map(E=>l.jsx("div",{className:`px-4 py-3 border-b border-gray-100 ${E.read?"":"bg-blue-50"}`,onClick:()=>v(E),children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:w(E.type)}),l.jsxs("div",{className:"ml-3 w-0 flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.title}),l.jsx("p",{className:"text-sm text-gray-600",children:E.message}),E.typeId&&l.jsx(qn,{to:`/equipment?type=${E.typeId}`,className:"text-xs text-blue-600 hover:text-blue-800 mt-1 inline-block",onClick:_=>_.stopPropagation(),children:"View equipment"}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:wM(new Date(E.timestamp),{addSuffix:!0})})]})]})},E.id))})]})})]})},H9=({toggleSidebar:e})=>{const{user:t,logout:n,isImpersonating:r}=or(),i=Xs(),a=()=>{n(),i("/login")};return l.jsx("nav",{className:"bg-white text-slate-800 shadow-soft sticky top-0 z-30 border-b border-slate-200 h-16",children:l.jsx("div",{className:"container-app py-0",children:l.jsxs("div",{className:"flex justify-between h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsxs(qn,{to:"/",className:"flex-shrink-0 flex items-center gap-2",children:[l.jsx("img",{src:"/bird-logo.svg",alt:"Theater Equipment Logo",className:"w-8 h-8"}),l.jsx("span",{className:"text-xl font-bold text-slate-800",children:"Ton Equipment Inventory"})]})}),t?l.jsx("div",{className:"flex items-center",children:l.jsxs("div",{className:"flex items-center gap-3",children:[t.role==="admin"&&l.jsx(W9,{}),l.jsxs("div",{className:"px-3 py-1 rounded-full bg-slate-100 text-slate-700 text-sm flex items-center",children:[l.jsx("span",{className:"font-medium",children:t.username}),l.jsx("span",{className:"ml-1 text-xs px-1.5 py-0.5 bg-primary-100 text-primary-700 rounded-full",children:t.role}),r()&&l.jsx("span",{className:"ml-1 text-xs bg-yellow-100 text-yellow-700 px-1.5 py-0.5 rounded-full border border-yellow-200",children:"Impersonating"})]}),l.jsxs("button",{onClick:a,className:"nav-link text-slate-600 hover:text-red-600","aria-label":"Logout",children:[l.jsx(tb,{}),l.jsx("span",{className:"hidden md:inline",children:r()?"End Impersonation":"Logout"})]})]})}):l.jsx("div",{className:"flex items-center",children:l.jsxs(qn,{to:"/login",className:"btn btn-primary",children:[l.jsx(tb,{className:"rotate-180"}),l.jsx("span",{children:"Login"})]})})]})})})},q9=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:l.jsx("polyline",{points:"9 18 15 12 9 6"})}),V9=({isOpen:e,isCollapsed:t,toggleSidebar:n,toggleCollapse:r})=>{const{isAdmin:i,isAdvanced:a}=or(),d=Dc();M.useEffect(()=>{const g=()=>{window.innerWidth<768&&e&&n(!1)};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[e,n]);const x=g=>d.pathname===g;return l.jsxs(l.Fragment,{children:[e&&l.jsx("div",{className:"sidebar-overlay",onClick:()=>n(!1),style:{opacity:e?1:0}}),l.jsxs("aside",{className:`sidebar ${e?"":"sidebar-hidden"} ${t?"sidebar-collapsed":"sidebar-expanded"}`,children:[l.jsxs("div",{className:"flex justify-between items-center px-4 py-2",children:[!t&&l.jsx("span",{className:"text-lg font-semibold text-slate-800",children:"Navigation"}),l.jsxs("div",{className:"flex",children:[l.jsx("button",{onClick:()=>r(!t),className:"sidebar-collapse-btn","aria-label":t?"Expand sidebar":"Collapse sidebar",children:t?l.jsx(q9,{className:"w-4 h-4"}):l.jsx(lO,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>n(!e),className:"sidebar-toggle-btn md:hidden","aria-label":e?"Hide sidebar":"Show sidebar",children:l.jsx(oO,{className:"w-4 h-4"})})]})]}),l.jsxs("nav",{className:"sidebar-nav",children:[l.jsxs(qn,{to:"/dashboard",className:`sidebar-nav-item ${x("/dashboard")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Dashboard",children:[l.jsx(rO,{className:"sidebar-nav-icon"}),l.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Dashboard"})]}),l.jsxs(qn,{to:"/equipment",className:`sidebar-nav-item ${x("/equipment")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Equipment",children:[l.jsx(sO,{className:"sidebar-nav-icon"}),l.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Equipment"})]}),(i()||a())&&l.jsxs(qn,{to:"/equipment/new",className:`sidebar-nav-item ${x("/equipment/new")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Add Equipment",children:[l.jsx(BE,{className:"sidebar-nav-icon"}),l.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Add Equipment"})]}),i()&&l.jsxs(qn,{to:"/equipment-logs",className:`sidebar-nav-item ${x("/equipment-logs")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Equipment Logs",children:[l.jsx(uO,{className:"sidebar-nav-icon"}),l.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Equipment Logs"})]}),i()&&l.jsxs(qn,{to:"/admin",className:`sidebar-nav-item ${x("/admin")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Admin",children:[l.jsx(iO,{className:"sidebar-nav-icon"}),l.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Admin"})]}),l.jsxs(qn,{to:"/settings",className:`sidebar-nav-item ${x("/settings")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Settings",children:[l.jsx(aO,{className:"sidebar-nav-icon"}),l.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Settings"})]})]})]})]})},Y9=()=>{const{user:e,isImpersonating:t,logout:n}=or();return t()?l.jsx("div",{className:"bg-yellow-500 text-white py-2",children:l.jsxs("div",{className:"container-app py-0 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-bold",children:"Impersonation Mode:"})," You are currently viewing the application as ",e.username," (",e.role,")"]}),l.jsx("button",{onClick:n,className:"bg-white text-yellow-700 px-3 py-1 rounded-md text-sm font-medium hover:bg-yellow-100",children:"End Impersonation"})]})}):null},$9=()=>{const[e,t]=M.useState(""),[n,r]=M.useState(""),[i,a]=M.useState(""),[d,x]=M.useState(!1),{login:g}=or(),v=Xs(),w=async E=>{var _,k;if(E.preventDefault(),!e||!n){a("Username and password are required");return}try{x(!0),a(""),await g(e,n),v("/dashboard")}catch(A){a(((k=(_=A.response)==null?void 0:_.data)==null?void 0:k.message)||"Login failed")}finally{x(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Theater Equipment Catalog"}),l.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[i&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:l.jsx("p",{className:"text-red-700",children:i})}),l.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),l.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:E=>t(E.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),l.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:E=>r(E.target.value)})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:d,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${d?"opacity-70 cursor-not-allowed":""}`,children:d?"Signing in...":"Sign in"})}),l.jsx("div",{className:"text-sm text-center",children:l.jsx("p",{className:"text-gray-600",children:"Insert the credentials the admin provided to you"})})]})]})})},xl=async()=>{try{return{categories:(await dt.get("/api/categories")).data}}catch(e){return console.error("Error fetching categories:",e),{categories:[]}}},G9=async(e,t="")=>(await dt.post("/api/categories",{name:e,description:t})).data,X9=async(e,t,n="")=>(await dt.put(`/api/categories/${e}`,{name:t,description:n})).data,Q9=async e=>(await dt.delete(`/api/categories/${e}`)).data,rN=async()=>{try{return{searches:(await dt.get("/api/saved-searches")).data||[]}}catch(e){return console.error("Error fetching saved searches:",e),{searches:[]}}},sN=async e=>{try{return(await dt.post("/api/saved-searches",e)).data}catch(t){throw console.error("Error saving search:",t),t}},iN=async e=>{try{return(await dt.delete(`/api/saved-searches/${e}`)).data}catch(t){throw console.error("Error deleting saved search:",t),t}},Be=({children:e,variant:t="primary",size:n="md",type:r="button",fullWidth:i=!1,disabled:a=!1,onClick:d,className:x="",as:g="button",...v})=>{const w="inline-flex items-center justify-center font-medium transition-all duration-200 rounded-md focus:outline-none focus:ring-1 focus:ring-offset-1",E={primary:"bg-white text-primary-600 hover:bg-primary-50 focus:ring-primary-500 border border-primary-500 hover:border-primary-600 hover:shadow-sm transition-all",secondary:"bg-white text-slate-600 hover:bg-slate-50 focus:ring-slate-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",outline:"bg-white hover:bg-slate-50 text-slate-700 focus:ring-primary-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",danger:"bg-white text-red-600 hover:bg-red-50 focus:ring-red-500 border border-red-500 hover:border-red-600 hover:shadow-sm transition-all",success:"bg-white text-green-600 hover:bg-green-50 focus:ring-green-500 border border-green-500 hover:border-green-600 hover:shadow-sm transition-all",ghost:"bg-transparent hover:bg-slate-100 text-slate-700 focus:ring-slate-500 border border-transparent hover:shadow-sm transition-all"},_={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-sm"},k=a?"opacity-60 cursor-not-allowed":"cursor-pointer",A=i?"w-full":"",I=`
    ${w}
    ${E[t]||E.primary}
    ${_[n]||_.md}
    ${k}
    ${A}
    ${x}
  `,L=g==="button"?{type:r,...v}:v;return l.jsx(g,{className:I,disabled:a,onClick:d,...L,children:e})};Be.propTypes={children:se.node.isRequired,variant:se.oneOf(["primary","secondary","outline","danger","success","ghost"]),size:se.oneOf(["sm","md","lg"]),type:se.oneOf(["button","submit","reset"]),fullWidth:se.bool,disabled:se.bool,onClick:se.func,className:se.string,as:se.elementType};const Dt=({id:e,name:t,type:n="text",label:r,placeholder:i,value:a,onChange:d,onBlur:x,error:g,icon:v,disabled:w=!1,required:E=!1,className:_="",...k})=>{const j=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${g?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${w?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    ${v?"pl-10":"pl-3"}
    py-2 pr-3 text-sm
    ${_}
  `;return l.jsxs("div",{className:"w-full",children:[r&&l.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${g?"text-red-600":"text-slate-700"}`,children:[r,E&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsxs("div",{className:"relative",children:[v&&l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:v}),l.jsx("input",{id:e,name:t,type:n,value:a,onChange:d,onBlur:x,placeholder:i,disabled:w,required:E,className:j,...k})]}),g&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g})]})};Dt.propTypes={id:se.string.isRequired,name:se.string.isRequired,type:se.string,label:se.string,placeholder:se.string,value:se.oneOfType([se.string,se.number]),onChange:se.func,onBlur:se.func,error:se.string,icon:se.node,disabled:se.bool,required:se.bool,className:se.string};var He;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(He||(He={}));var pb=new Map([[He.QR_CODE,"QR_CODE"],[He.AZTEC,"AZTEC"],[He.CODABAR,"CODABAR"],[He.CODE_39,"CODE_39"],[He.CODE_93,"CODE_93"],[He.CODE_128,"CODE_128"],[He.DATA_MATRIX,"DATA_MATRIX"],[He.MAXICODE,"MAXICODE"],[He.ITF,"ITF"],[He.EAN_13,"EAN_13"],[He.EAN_8,"EAN_8"],[He.PDF_417,"PDF_417"],[He.RSS_14,"RSS_14"],[He.RSS_EXPANDED,"RSS_EXPANDED"],[He.UPC_A,"UPC_A"],[He.UPC_E,"UPC_E"],[He.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),mb;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(mb||(mb={}));function K9(e){return Object.values(He).includes(e)}var ch;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ch||(ch={}));var Z9=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[ch.SCAN_TYPE_CAMERA,ch.SCAN_TYPE_FILE],e}(),aN=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!pb.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,pb.get(t))},e}(),xb=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Sx;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Sx||(Sx={}));var J9=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Sx.UNKWOWN_ERROR}},e}(),eL=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function na(e){return typeof e>"u"||e===null}var Jl=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),oN=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),d=Object.keys(t),x=0,g=d;x<g.length;x++){var v=g[x];if(a.has(v))return n.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},e}(),Ax={exports:{}};(function(e,t){(function(n,r){r(t)})(Ai,function(n){function r(P){return P==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,s){P.__proto__=s}||function(P,s){for(var o in s)s.hasOwnProperty(o)&&(P[o]=s[o])};function a(P,s){i(P,s);function o(){this.constructor=P}P.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function d(P,s){var o=Object.setPrototypeOf;o?o(P,s):P.__proto__=s}function x(P,s){s===void 0&&(s=P.constructor);var o=Error.captureStackTrace;o&&o(P,s)}var g=function(P){a(s,P);function s(o){var c=this.constructor,f=P.call(this,o)||this;return Object.defineProperty(f,"name",{value:c.name,enumerable:!1}),d(f,c.prototype),x(f),f}return s}(Error);class v extends g{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}v.kind="Exception";class w extends v{}w.kind="ArgumentException";class E extends v{}E.kind="IllegalArgumentException";class _{constructor(s){if(this.binarizer=s,s===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,c,f){const h=this.binarizer.getLuminanceSource().crop(s,o,c,f);return new _(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends v{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class A{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(s,o,c,f,h){for(;h--;)c[f++]=s[o++]}static currentTimeMillis(){return Date.now()}}class L extends v{}L.kind="IndexOutOfBoundsException";class D extends L{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}D.kind="ArrayIndexOutOfBoundsException";class j{static fill(s,o){for(let c=0,f=s.length;c<f;c++)s[c]=o}static fillWithin(s,o,c,f){j.rangeCheck(s.length,o,c);for(let h=o;h<c;h++)s[h]=f}static rangeCheck(s,o,c){if(o>c)throw new E("fromIndex("+o+") > toIndex("+c+")");if(o<0)throw new D(o);if(c>s)throw new D(c)}static asList(...s){return s}static create(s,o,c){return Array.from({length:s}).map(h=>Array.from({length:o}).fill(c))}static createInt32Array(s,o,c){return Array.from({length:s}).map(h=>Int32Array.from({length:o}).fill(c))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let c=0,f=s.length;c<f;c++)if(s[c]!==o[c])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const c of s)o=31*o+c;return o}static fillUint8Array(s,o){for(let c=0;c!==s.length;c++)s[c]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const c=new Uint8Array(o);return c.set(s),c}return s.slice(0,o)}static copyOfRange(s,o,c){const f=c-o,h=new Int32Array(f);return I.arraycopy(s,o,h,0,f),h}static binarySearch(s,o,c){c===void 0&&(c=j.numberComparator);let f=0,h=s.length-1;for(;f<=h;){const m=h+f>>1,y=c(o,s[m]);if(y>0)f=m+1;else if(y<0)h=m-1;else return m}return-f-1}static numberComparator(s,o){return s-o}}class O{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let c=31;return o=s<<16,o!==0&&(c-=16,s=o),o=s<<8,o!==0&&(c-=8,s=o),o=s<<4,o!==0&&(c-=4,s=o),o=s<<2,o!==0&&(c-=2,s=o),c-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class W{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=W.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=W.makeArray(s);I.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),h=c[f];h&=~((1<<(s&31))-1);const m=c.length;for(;h===0;){if(++f===m)return o;h=c[f]}const y=f*32+O.numberOfTrailingZeros(h);return y>o?o:y}getNextUnset(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),h=~c[f];h&=~((1<<(s&31))-1);const m=c.length;for(;h===0;){if(++f===m)return o;h=~c[f]}const y=f*32+O.numberOfTrailingZeros(h);return y>o?o:y}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new E;if(o===s)return;o--;const c=Math.floor(s/32),f=Math.floor(o/32),h=this.bits;for(let m=c;m<=f;m++){const y=m>c?0:s&31,N=(2<<(m<f?31:o&31))-(1<<y);h[m]|=N}}clear(){const s=this.bits.length,o=this.bits;for(let c=0;c<s;c++)o[c]=0}isRange(s,o,c){if(o<s||s<0||o>this.size)throw new E;if(o===s)return!0;o--;const f=Math.floor(s/32),h=Math.floor(o/32),m=this.bits;for(let y=f;y<=h;y++){const C=y>f?0:s&31,T=(2<<(y<h?31:o&31))-(1<<C)&4294967295;if((m[y]&T)!==(c?T:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let c=o;c>0;c--)this.appendBit((s>>c-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let c=0;c<o;c++)this.appendBit(s.get(c))}xor(s){if(this.size!==s.size)throw new E("Sizes don't match");const o=this.bits;for(let c=0,f=o.length;c<f;c++)o[c]^=s.bits[c]}toBytes(s,o,c,f){for(let h=0;h<f;h++){let m=0;for(let y=0;y<8;y++)this.get(s)&&(m|=1<<7-y),s++;o[c+h]=m}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),c=o+1,f=this.bits;for(let h=0;h<c;h++){let m=f[h];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,s[o-h]=m}if(this.size!==c*32){const h=c*32-this.size;let m=s[0]>>>h;for(let y=1;y<c;y++){const C=s[y];m|=C<<32-h,s[y-1]=m,m=C>>>h}s[c-1]=m}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof W))return!1;const o=s;return this.size===o.size&&j.equals(this.bits,o.bits)}hashCode(){return 31*this.size+j.hashCode(this.bits)}toString(){let s="";for(let o=0,c=this.size;o<c;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new W(this.size,this.bits.slice())}}var Z;(function(P){P[P.OTHER=0]="OTHER",P[P.PURE_BARCODE=1]="PURE_BARCODE",P[P.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",P[P.TRY_HARDER=3]="TRY_HARDER",P[P.CHARACTER_SET=4]="CHARACTER_SET",P[P.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",P[P.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",P[P.ASSUME_GS1=7]="ASSUME_GS1",P[P.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",P[P.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",P[P.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Z||(Z={}));var B=Z;class R extends v{static getFormatInstance(){return new R}}R.kind="FormatException";var V;(function(P){P[P.Cp437=0]="Cp437",P[P.ISO8859_1=1]="ISO8859_1",P[P.ISO8859_2=2]="ISO8859_2",P[P.ISO8859_3=3]="ISO8859_3",P[P.ISO8859_4=4]="ISO8859_4",P[P.ISO8859_5=5]="ISO8859_5",P[P.ISO8859_6=6]="ISO8859_6",P[P.ISO8859_7=7]="ISO8859_7",P[P.ISO8859_8=8]="ISO8859_8",P[P.ISO8859_9=9]="ISO8859_9",P[P.ISO8859_10=10]="ISO8859_10",P[P.ISO8859_11=11]="ISO8859_11",P[P.ISO8859_13=12]="ISO8859_13",P[P.ISO8859_14=13]="ISO8859_14",P[P.ISO8859_15=14]="ISO8859_15",P[P.ISO8859_16=15]="ISO8859_16",P[P.SJIS=16]="SJIS",P[P.Cp1250=17]="Cp1250",P[P.Cp1251=18]="Cp1251",P[P.Cp1252=19]="Cp1252",P[P.Cp1256=20]="Cp1256",P[P.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",P[P.UTF8=22]="UTF8",P[P.ASCII=23]="ASCII",P[P.Big5=24]="Big5",P[P.GB18030=25]="GB18030",P[P.EUC_KR=26]="EUC_KR"})(V||(V={}));class Y{constructor(s,o,c,...f){this.valueIdentifier=s,this.name=c,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,Y.VALUE_IDENTIFIER_TO_ECI.set(s,this),Y.NAME_TO_ECI.set(c,this);const h=this.values;for(let m=0,y=h.length;m!==y;m++){const C=h[m];Y.VALUES_TO_ECI.set(C,this)}for(const m of f)Y.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new R("incorect value");const o=Y.VALUES_TO_ECI.get(s);if(o===void 0)throw new R("incorect value");return o}static getCharacterSetECIByName(s){const o=Y.NAME_TO_ECI.get(s);if(o===void 0)throw new R("incorect value");return o}equals(s){if(!(s instanceof Y))return!1;const o=s;return this.getName()===o.getName()}}Y.VALUE_IDENTIFIER_TO_ECI=new Map,Y.VALUES_TO_ECI=new Map,Y.NAME_TO_ECI=new Map,Y.Cp437=new Y(V.Cp437,Int32Array.from([0,2]),"Cp437"),Y.ISO8859_1=new Y(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Y.ISO8859_2=new Y(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Y.ISO8859_3=new Y(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Y.ISO8859_4=new Y(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Y.ISO8859_5=new Y(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Y.ISO8859_6=new Y(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Y.ISO8859_7=new Y(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Y.ISO8859_8=new Y(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Y.ISO8859_9=new Y(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Y.ISO8859_10=new Y(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Y.ISO8859_11=new Y(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Y.ISO8859_13=new Y(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Y.ISO8859_14=new Y(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Y.ISO8859_15=new Y(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Y.ISO8859_16=new Y(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Y.SJIS=new Y(V.SJIS,20,"SJIS","Shift_JIS"),Y.Cp1250=new Y(V.Cp1250,21,"Cp1250","windows-1250"),Y.Cp1251=new Y(V.Cp1251,22,"Cp1251","windows-1251"),Y.Cp1252=new Y(V.Cp1252,23,"Cp1252","windows-1252"),Y.Cp1256=new Y(V.Cp1256,24,"Cp1256","windows-1256"),Y.UnicodeBigUnmarked=new Y(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Y.UTF8=new Y(V.UTF8,26,"UTF8","UTF-8"),Y.ASCII=new Y(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Y.Big5=new Y(V.Big5,28,"Big5"),Y.GB18030=new Y(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Y.EUC_KR=new Y(V.EUC_KR,30,"EUC_KR","EUC-KR");class ee extends v{}ee.kind="UnsupportedOperationException";class de{static decode(s,o){const c=this.encodingName(o);return this.customDecoder?this.customDecoder(s,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(s,c):new TextDecoder(c).decode(s)}static shouldDecodeOnFallback(s){return!de.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const c=this.encodingName(o);return this.customEncoder?this.customEncoder(s,c):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof Y?s:Y.getCharacterSetECIByName(s)}static decodeFallback(s,o){const c=this.encodingCharacterSet(o);if(de.isDecodeFallbackSupported(c)){let f="";for(let h=0,m=s.length;h<m;h++){let y=s[h].toString(16);y.length<2&&(y="0"+y),f+="%"+y}return decodeURIComponent(f)}if(c.equals(Y.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new ee(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(Y.UTF8)||s.equals(Y.ISO8859_1)||s.equals(Y.ASCII)}static encodeFallback(s){const c=btoa(unescape(encodeURIComponent(s))).split(""),f=[];for(let h=0;h<c.length;h++)f.push(c[h].charCodeAt(0));return new Uint8Array(f)}}class ie{static castAsNonUtf8Char(s,o=null){const c=o?o.getName():this.ISO88591;return de.decode(new Uint8Array([s]),c)}static guessEncoding(s,o){if(o!=null&&o.get(B.CHARACTER_SET)!==void 0)return o.get(B.CHARACTER_SET).toString();const c=s.length;let f=!0,h=!0,m=!0,y=0,C=0,N=0,T=0,F=0,H=0,K=0,z=0,$=0,X=0,te=0;const pe=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let xe=0;xe<c&&(f||h||m);xe++){const ye=s[xe]&255;m&&(y>0?ye&128?y--:m=!1:ye&128&&(ye&64?(y++,ye&32?(y++,ye&16?(y++,ye&8?m=!1:T++):N++):C++):m=!1)),f&&(ye>127&&ye<160?f=!1:ye>159&&(ye<192||ye===215||ye===247)&&te++),h&&(F>0?ye<64||ye===127||ye>252?h=!1:F--:ye===128||ye===160||ye>239?h=!1:ye>160&&ye<224?(H++,z=0,K++,K>$&&($=K)):ye>127?(F++,K=0,z++,z>X&&(X=z)):(K=0,z=0))}return m&&y>0&&(m=!1),h&&F>0&&(h=!1),m&&(pe||C+N+T>0)?ie.UTF8:h&&(ie.ASSUME_SHIFT_JIS||$>=3||X>=3)?ie.SHIFT_JIS:f&&h?$===2&&H===2||te*10>=c?ie.SHIFT_JIS:ie.ISO88591:f?ie.ISO88591:h?ie.SHIFT_JIS:m?ie.UTF8:ie.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let c=-1;function f(m,y,C,N,T,F){if(m==="%%")return"%";if(o[++c]===void 0)return;m=N?parseInt(N.substr(1)):void 0;let H=T?parseInt(T.substr(1)):void 0,K;switch(F){case"s":K=o[c];break;case"c":K=o[c][0];break;case"f":K=parseFloat(o[c]).toFixed(m);break;case"p":K=parseFloat(o[c]).toPrecision(m);break;case"e":K=parseFloat(o[c]).toExponential(m);break;case"x":K=parseInt(o[c]).toString(H||16);break;case"d":K=parseFloat(parseInt(o[c],H||10).toPrecision(m)).toFixed(0);break}K=typeof K=="object"?JSON.stringify(K):(+K).toString(H);let z=parseInt(C),$=C&&C[0]+""=="0"?"0":" ";for(;K.length<z;)K=y!==void 0?K+$:$+K;return K}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}static getBytes(s,o){return de.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}ie.SHIFT_JIS=Y.SJIS.getName(),ie.GB2312="GB2312",ie.ISO88591=Y.ISO8859_1.getName(),ie.EUC_JP="EUC_JP",ie.UTF8=Y.UTF8.getName(),ie.PLATFORM_DEFAULT_ENCODING=ie.UTF8,ie.ASSUME_SHIFT_JIS=!1;class ce{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=ie.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,c){for(let f=o;o<o+c;f++)this.append(s[f]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class Te{constructor(s,o,c,f){if(this.width=s,this.height=o,this.rowSize=c,this.bits=f,o==null&&(o=s),this.height=o,s<1||o<1)throw new E("Both dimensions must be greater than 0");c==null&&(c=Math.floor((s+31)/32)),this.rowSize=c,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,c=s[0].length,f=new Te(c,o);for(let h=0;h<o;h++){const m=s[h];for(let y=0;y<c;y++)m[y]&&f.set(y,h)}return f}static parseFromString(s,o,c){if(s===null)throw new E("stringRepresentation cannot be null");const f=new Array(s.length);let h=0,m=0,y=-1,C=0,N=0;for(;N<s.length;)if(s.charAt(N)===`
`||s.charAt(N)==="\r"){if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new E("row lengths do not match");m=h,C++}N++}else if(s.substring(N,N+o.length)===o)N+=o.length,f[h]=!0,h++;else if(s.substring(N,N+c.length)===c)N+=c.length,f[h]=!1,h++;else throw new E("illegal character encountered: "+s.substring(N));if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new E("row lengths do not match");C++}const T=new Te(y,C);for(let F=0;F<h;F++)f[F]&&T.set(Math.floor(F%y),Math.floor(F/y));return T}get(s,o){const c=o*this.rowSize+Math.floor(s/32);return(this.bits[c]>>>(s&31)&1)!==0}set(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]|=1<<(s&31)&4294967295}unset(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]&=~(1<<(s&31)&4294967295)}flip(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new E("input matrix dimensions do not match");const o=new W(Math.floor(this.width/32)+1),c=this.rowSize,f=this.bits;for(let h=0,m=this.height;h<m;h++){const y=h*c,C=s.getRow(h,o).getBitArray();for(let N=0;N<c;N++)f[y+N]^=C[N]}}clear(){const s=this.bits,o=s.length;for(let c=0;c<o;c++)s[c]=0}setRegion(s,o,c,f){if(o<0||s<0)throw new E("Left and top must be nonnegative");if(f<1||c<1)throw new E("Height and width must be at least 1");const h=s+c,m=o+f;if(m>this.height||h>this.width)throw new E("The region must fit inside the matrix");const y=this.rowSize,C=this.bits;for(let N=o;N<m;N++){const T=N*y;for(let F=s;F<h;F++)C[T+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new W(this.width):o.clear();const c=this.rowSize,f=this.bits,h=s*c;for(let m=0;m<c;m++)o.setBulk(m*32,f[h+m]);return o}setRow(s,o){I.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let c=new W(s),f=new W(s);for(let h=0,m=Math.floor((o+1)/2);h<m;h++)c=this.getRow(h,c),f=this.getRow(o-1-h,f),c.reverse(),f.reverse(),this.setRow(h,f),this.setRow(o-1-h,c)}getEnclosingRectangle(){const s=this.width,o=this.height,c=this.rowSize,f=this.bits;let h=s,m=o,y=-1,C=-1;for(let N=0;N<o;N++)for(let T=0;T<c;T++){const F=f[N*c+T];if(F!==0){if(N<m&&(m=N),N>C&&(C=N),T*32<h){let H=0;for(;!(F<<31-H&4294967295);)H++;T*32+H<h&&(h=T*32+H)}if(T*32+31>y){let H=31;for(;!(F>>>H);)H--;T*32+H>y&&(y=T*32+H)}}}return y<h||C<m?null:Int32Array.from([h,m,y-h+1,C-m+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let c=0;for(;c<o.length&&o[c]===0;)c++;if(c===o.length)return null;const f=c/s;let h=c%s*32;const m=o[c];let y=0;for(;!(m<<31-y&4294967295);)y++;return h+=y,Int32Array.from([h,f])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let c=o.length-1;for(;c>=0&&o[c]===0;)c--;if(c<0)return null;const f=Math.floor(c/s);let h=Math.floor(c%s)*32;const m=o[c];let y=31;for(;!(m>>>y);)y--;return h+=y,Int32Array.from([h,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof Te))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&j.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+j.hashCode(this.bits),s}toString(s="X ",o="  ",c=`
`){return this.buildToString(s,o,c)}buildToString(s,o,c){let f=new ce;for(let h=0,m=this.height;h<m;h++){for(let y=0,C=this.width;y<C;y++)f.append(this.get(y,h)?s:o);f.append(c)}return f.toString()}clone(){return new Te(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends v{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class _e extends A{constructor(s){super(s),this.luminances=_e.EMPTY,this.buckets=new Int32Array(_e.LUMINANCE_BUCKETS)}getBlackRow(s,o){const c=this.getLuminanceSource(),f=c.getWidth();o==null||o.getSize()<f?o=new W(f):o.clear(),this.initArrays(f);const h=c.getRow(s,this.luminances),m=this.buckets;for(let C=0;C<f;C++)m[(h[C]&255)>>_e.LUMINANCE_SHIFT]++;const y=_e.estimateBlackPoint(m);if(f<3)for(let C=0;C<f;C++)(h[C]&255)<y&&o.set(C);else{let C=h[0]&255,N=h[1]&255;for(let T=1;T<f-1;T++){const F=h[T+1]&255;(N*4-C-F)/2<y&&o.set(T),C=N,N=F}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight(),f=new Te(o,c);this.initArrays(o);const h=this.buckets;for(let C=1;C<5;C++){const N=Math.floor(c*C/5),T=s.getRow(N,this.luminances),F=Math.floor(o*4/5);for(let H=Math.floor(o/5);H<F;H++){const K=T[H]&255;h[K>>_e.LUMINANCE_SHIFT]++}}const m=_e.estimateBlackPoint(h),y=s.getMatrix();for(let C=0;C<c;C++){const N=C*o;for(let T=0;T<o;T++)(y[N+T]&255)<m&&f.set(T,C)}return f}createBinarizer(s){return new _e(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let c=0;c<_e.LUMINANCE_BUCKETS;c++)o[c]=0}static estimateBlackPoint(s){const o=s.length;let c=0,f=0,h=0;for(let T=0;T<o;T++)s[T]>h&&(f=T,h=s[T]),s[T]>c&&(c=s[T]);let m=0,y=0;for(let T=0;T<o;T++){const F=T-f,H=s[T]*F*F;H>y&&(m=T,y=H)}if(f>m){const T=f;f=m,m=T}if(m-f<=o/16)throw new re;let C=m-1,N=-1;for(let T=m-1;T>f;T--){const F=T-f,H=F*F*(m-T)*(c-s[T]);H>N&&(C=T,N=H)}return C<<_e.LUMINANCE_SHIFT}}_e.LUMINANCE_BITS=5,_e.LUMINANCE_SHIFT=8-_e.LUMINANCE_BITS,_e.LUMINANCE_BUCKETS=1<<_e.LUMINANCE_BITS,_e.EMPTY=Uint8ClampedArray.from([0]);class ve extends _e{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight();if(o>=ve.MINIMUM_DIMENSION&&c>=ve.MINIMUM_DIMENSION){const f=s.getMatrix();let h=o>>ve.BLOCK_SIZE_POWER;o&ve.BLOCK_SIZE_MASK&&h++;let m=c>>ve.BLOCK_SIZE_POWER;c&ve.BLOCK_SIZE_MASK&&m++;const y=ve.calculateBlackPoints(f,h,m,o,c),C=new Te(o,c);ve.calculateThresholdForBlock(f,h,m,o,c,y,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ve(s)}static calculateThresholdForBlock(s,o,c,f,h,m,y){const C=h-ve.BLOCK_SIZE,N=f-ve.BLOCK_SIZE;for(let T=0;T<c;T++){let F=T<<ve.BLOCK_SIZE_POWER;F>C&&(F=C);const H=ve.cap(T,2,c-3);for(let K=0;K<o;K++){let z=K<<ve.BLOCK_SIZE_POWER;z>N&&(z=N);const $=ve.cap(K,2,o-3);let X=0;for(let pe=-2;pe<=2;pe++){const xe=m[H+pe];X+=xe[$-2]+xe[$-1]+xe[$]+xe[$+1]+xe[$+2]}const te=X/25;ve.thresholdBlock(s,z,F,te,f,y)}}}static cap(s,o,c){return s<o?o:s>c?c:s}static thresholdBlock(s,o,c,f,h,m){for(let y=0,C=c*h+o;y<ve.BLOCK_SIZE;y++,C+=h)for(let N=0;N<ve.BLOCK_SIZE;N++)(s[C+N]&255)<=f&&m.set(o+N,c+y)}static calculateBlackPoints(s,o,c,f,h){const m=h-ve.BLOCK_SIZE,y=f-ve.BLOCK_SIZE,C=new Array(c);for(let N=0;N<c;N++){C[N]=new Int32Array(o);let T=N<<ve.BLOCK_SIZE_POWER;T>m&&(T=m);for(let F=0;F<o;F++){let H=F<<ve.BLOCK_SIZE_POWER;H>y&&(H=y);let K=0,z=255,$=0;for(let te=0,pe=T*f+H;te<ve.BLOCK_SIZE;te++,pe+=f){for(let xe=0;xe<ve.BLOCK_SIZE;xe++){const ye=s[pe+xe]&255;K+=ye,ye<z&&(z=ye),ye>$&&($=ye)}if($-z>ve.MIN_DYNAMIC_RANGE)for(te++,pe+=f;te<ve.BLOCK_SIZE;te++,pe+=f)for(let xe=0;xe<ve.BLOCK_SIZE;xe++)K+=s[pe+xe]&255}let X=K>>ve.BLOCK_SIZE_POWER*2;if($-z<=ve.MIN_DYNAMIC_RANGE&&(X=z/2,N>0&&F>0)){const te=(C[N-1][F]+2*C[N][F-1]+C[N-1][F-1])/4;z<te&&(X=te)}C[N][F]=X}}return C}}ve.BLOCK_SIZE_POWER=3,ve.BLOCK_SIZE=1<<ve.BLOCK_SIZE_POWER,ve.BLOCK_SIZE_MASK=ve.BLOCK_SIZE-1,ve.MINIMUM_DIMENSION=ve.BLOCK_SIZE*5,ve.MIN_DYNAMIC_RANGE=24;class ue{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,c,f){throw new ee("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ee("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ee("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new ce;for(let c=0;c<this.height;c++){const f=this.getRow(c,s);for(let h=0;h<this.width;h++){const m=f[h]&255;let y;m<64?y="#":m<128?y="+":m<192?y=".":y=" ",o.append(y)}o.append(`
`)}return o.toString()}}class ge extends ue{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const c=this.delegate.getRow(s,o),f=this.getWidth();for(let h=0;h<f;h++)c[h]=255-(c[h]&255);return c}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(o);for(let f=0;f<o;f++)c[f]=255-(s[f]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,c,f){return new ge(this.delegate.crop(s,o,c,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ge(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ge(this.delegate.rotateCounterClockwise45())}}class Re extends ue{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=Re.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return Re.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,c){const f=new Uint8ClampedArray(o*c);for(let h=0,m=0,y=s.length;h<y;h+=4,m++){let C;if(s[h+3]===0)C=255;else{const T=s[h],F=s[h+1],H=s[h+2];C=306*T+601*F+117*H+512>>10}f[m]=C}return f}getRow(s,o){if(s<0||s>=this.getHeight())throw new E("Requested row is outside the image: "+s);const c=this.getWidth(),f=s*c;return o===null?o=this.buffer.slice(f,f+c):(o.length<c&&(o=new Uint8ClampedArray(c)),o.set(this.buffer.slice(f,f+c))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,c,f){return super.crop(s,o,c,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),c=o.getContext("2d"),f=s*Re.DEGREE_TO_RADIANS,h=this.canvas.width,m=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(f))*h+Math.abs(Math.sin(f))*m),C=Math.ceil(Math.abs(Math.sin(f))*h+Math.abs(Math.cos(f))*m);return o.width=y,o.height=C,c.translate(y/2,C/2),c.rotate(f),c.drawImage(this.canvas,h/-2,m/-2),this.buffer=Re.makeBufferFromCanvasImageData(o),this}invert(){return new ge(this)}}Re.DEGREE_TO_RADIANS=Math.PI/180;class qe{constructor(s,o,c){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var tt=(globalThis||Ai||self||window||void 0)&&(globalThis||Ai||self||window||void 0).__awaiter||function(P,s,o,c){function f(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function y(T){try{N(c.next(T))}catch(F){m(F)}}function C(T){try{N(c.throw(T))}catch(F){m(F)}}function N(T){T.done?h(T.value):f(T.value).then(y,C)}N((c=c.apply(P,s||[])).next())})};class Ae{constructor(s,o=500,c){this.reader=s,this.timeBetweenScansMillis=o,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return tt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const c of s){const f=c.kind==="video"?"videoinput":c.kind;if(f!=="videoinput")continue;const h=c.deviceId||c.id,m=c.label||`Video device ${o.length+1}`,y=c.groupId,C={deviceId:h,label:m,kind:f,groupId:y};o.push(C)}return o})}getVideoInputDevices(){return tt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new qe(o.deviceId,o.label))})}findDeviceById(s){return tt(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(c=>c.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return tt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return tt(this,void 0,void 0,function*(){this.reset();let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(s,o){return tt(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(c,o)})}decodeOnceFromStream(s,o){return tt(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(s,o,c){return tt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,c)})}decodeFromVideoDevice(s,o,c){return tt(this,void 0,void 0,function*(){let f;s?f={deviceId:{exact:s}}:f={facingMode:"environment"};const h={video:f};return yield this.decodeFromConstraints(h,o,c)})}decodeFromConstraints(s,o,c){return tt(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(f,o,c)})}decodeFromStream(s,o,c){return tt(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(f,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return tt(this,void 0,void 0,function*(){const c=this.prepareVideoElement(o);return this.addVideoSource(c,s),this.videoElement=c,this.stream=s,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(s){return new Promise((o,c)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return tt(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const c=document.getElementById(s);if(!c)throw new w(`element with id '${s}' not found`);if(c.nodeName.toLowerCase()!==o.toLowerCase())throw new w(`element with id '${s}' must be an ${o} element`);return c}decodeFromImage(s,o){if(!s&&!o)throw new w("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new w("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,c){if(s===void 0&&o===void 0)throw new w("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,c):this.decodeFromVideoElementContinuously(s,c)}decodeFromImageElement(s){if(!s)throw new w("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let c;return this.isImageLoaded(o)?c=this.decodeOnce(o,!1,!0):c=this._decodeOnLoadImage(o),c}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(c,o)}_decodeFromVideoElementSetup(s){if(!s)throw new w("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const c=this._decodeOnLoadImage(o);return o.src=s,c}decodeFromVideoUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElement(o);return o.src=s,c}decodeFromVideoUrlContinuously(s,o){if(!s)throw new w("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(c,o);return c.src=s,f}_decodeOnLoadImage(s){return new Promise((o,c)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,c),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return tt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return tt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,c=!0){this._stopAsyncDecode=!1;const f=(h,m)=>{if(this._stopAsyncDecode){m(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(s);h(y)}catch(y){const C=o&&y instanceof re,T=(y instanceof k||y instanceof R)&&c;if(C||T)return setTimeout(f,this._timeBetweenDecodingAttempts,h,m);m(y)}};return new Promise((h,m)=>f(h,m))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(s);o(f,null),setTimeout(c,this.timeBetweenScansMillis)}catch(f){o(null,f);const h=f instanceof k||f instanceof R,m=f instanceof re;(h||m)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,c){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,c=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),c=new Re(o),f=new ve(c);return new _(f)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let c,f;return typeof s<"u"&&(s instanceof HTMLVideoElement?(c=s.videoWidth,f=s.videoHeight):s instanceof HTMLImageElement&&(c=s.naturalWidth||s.width,f=s.naturalHeight||s.height)),o.style.width=c+"px",o.style.height=f+"px",o.width=c,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Ge{constructor(s,o,c=o==null?0:8*o.length,f,h,m=I.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=c,this.resultPoints=f,this.format=h,this.timestamp=m,this.text=s,this.rawBytes=o,c==null?this.numBits=o==null?0:8*o.length:this.numBits=c,this.resultPoints=f,this.format=h,this.resultMetadata=null,m==null?this.timestamp=I.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const c=new Array(o.length+s.length);I.arraycopy(o,0,c,0,o.length),I.arraycopy(s,0,c,o.length,s.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var st;(function(P){P[P.AZTEC=0]="AZTEC",P[P.CODABAR=1]="CODABAR",P[P.CODE_39=2]="CODE_39",P[P.CODE_93=3]="CODE_93",P[P.CODE_128=4]="CODE_128",P[P.DATA_MATRIX=5]="DATA_MATRIX",P[P.EAN_8=6]="EAN_8",P[P.EAN_13=7]="EAN_13",P[P.ITF=8]="ITF",P[P.MAXICODE=9]="MAXICODE",P[P.PDF_417=10]="PDF_417",P[P.QR_CODE=11]="QR_CODE",P[P.RSS_14=12]="RSS_14",P[P.RSS_EXPANDED=13]="RSS_EXPANDED",P[P.UPC_A=14]="UPC_A",P[P.UPC_E=15]="UPC_E",P[P.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(st||(st={}));var oe=st,ft;(function(P){P[P.OTHER=0]="OTHER",P[P.ORIENTATION=1]="ORIENTATION",P[P.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",P[P.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",P[P.ISSUE_NUMBER=4]="ISSUE_NUMBER",P[P.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",P[P.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",P[P.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",P[P.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",P[P.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",P[P.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ft||(ft={}));var it=ft;class nn{constructor(s,o,c,f,h=-1,m=-1){this.rawBytes=s,this.text=o,this.byteSegments=c,this.ecLevel=f,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=m,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class dn{exp(s){return this.expTable[s]}log(s){if(s===0)throw new E;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class qt{constructor(s,o){if(o.length===0)throw new E;this.field=s;const c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-f),I.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let c;if(s===1){c=0;for(let m=0,y=o.length;m!==y;m++){const C=o[m];c=dn.addOrSubtract(c,C)}return c}c=o[0];const f=o.length,h=this.field;for(let m=1;m<f;m++)c=dn.addOrSubtract(h.multiply(s,c),o[m]);return c}addOrSubtract(s){if(!this.field.equals(s.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){const m=o;o=c,c=m}let f=new Int32Array(c.length);const h=c.length-o.length;I.arraycopy(c,0,f,0,h);for(let m=h;m<c.length;m++)f[m]=dn.addOrSubtract(o[m-h],c[m]);return new qt(this.field,f)}multiply(s){if(!this.field.equals(s.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,c=o.length,f=s.coefficients,h=f.length,m=new Int32Array(c+h-1),y=this.field;for(let C=0;C<c;C++){const N=o[C];for(let T=0;T<h;T++)m[C+T]=dn.addOrSubtract(m[C+T],y.multiply(N,f[T]))}return new qt(y,m)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,c=this.field,f=new Int32Array(o),h=this.coefficients;for(let m=0;m<o;m++)f[m]=c.multiply(h[m],s);return new qt(c,f)}multiplyByMonomial(s,o){if(s<0)throw new E;if(o===0)return this.field.getZero();const c=this.coefficients,f=c.length,h=new Int32Array(f+s),m=this.field;for(let y=0;y<f;y++)h[y]=m.multiply(c[y],o);return new qt(m,h)}divide(s){if(!this.field.equals(s.field))throw new E("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new E("Divide by 0");const o=this.field;let c=o.getZero(),f=this;const h=s.getCoefficient(s.getDegree()),m=o.inverse(h);for(;f.getDegree()>=s.getDegree()&&!f.isZero();){const y=f.getDegree()-s.getDegree(),C=o.multiply(f.getCoefficient(f.getDegree()),m),N=s.multiplyByMonomial(y,C),T=o.buildMonomial(y,C);c=c.addOrSubtract(T),f=f.addOrSubtract(N)}return[c,f]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);if(c!==0){if(c<0?(s+=" - ",c=-c):s.length>0&&(s+=" + "),o===0||c!==1){const f=this.field.log(c);f===0?s+="1":f===1?s+="a":(s+="a^",s+=f)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class Wt extends v{}Wt.kind="ArithmeticException";class Ee extends dn{constructor(s,o,c){super(),this.primitive=s,this.size=o,this.generatorBase=c;const f=new Int32Array(o);let h=1;for(let y=0;y<o;y++)f[y]=h,h*=2,h>=o&&(h^=s,h&=o-1);this.expTable=f;const m=new Int32Array(o);for(let y=0;y<o-1;y++)m[f[y]]=y;this.logTable=m,this.zero=new qt(this,Int32Array.from([0])),this.one=new qt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new E;if(o===0)return this.zero;const c=new Int32Array(s+1);return c[0]=o,new qt(this,c)}inverse(s){if(s===0)throw new Wt;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Ee.AZTEC_DATA_12=new Ee(4201,4096,1),Ee.AZTEC_DATA_10=new Ee(1033,1024,1),Ee.AZTEC_DATA_6=new Ee(67,64,1),Ee.AZTEC_PARAM=new Ee(19,16,1),Ee.QR_CODE_FIELD_256=new Ee(285,256,0),Ee.DATA_MATRIX_FIELD_256=new Ee(301,256,1),Ee.AZTEC_DATA_8=Ee.DATA_MATRIX_FIELD_256,Ee.MAXICODE_FIELD_64=Ee.AZTEC_DATA_6;class Qe extends v{}Qe.kind="ReedSolomonException";class It extends v{}It.kind="IllegalStateException";class we{constructor(s){this.field=s}decode(s,o){const c=this.field,f=new qt(c,s),h=new Int32Array(o);let m=!0;for(let K=0;K<o;K++){const z=f.evaluateAt(c.exp(K+c.getGeneratorBase()));h[h.length-1-K]=z,z!==0&&(m=!1)}if(m)return;const y=new qt(c,h),C=this.runEuclideanAlgorithm(c.buildMonomial(o,1),y,o),N=C[0],T=C[1],F=this.findErrorLocations(N),H=this.findErrorMagnitudes(T,F);for(let K=0;K<F.length;K++){const z=s.length-1-c.log(F[K]);if(z<0)throw new Qe("Bad error location");s[z]=Ee.addOrSubtract(s[z],H[K])}}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){const K=s;s=o,o=K}const f=this.field;let h=s,m=o,y=f.getZero(),C=f.getOne();for(;m.getDegree()>=(c/2|0);){let K=h,z=y;if(h=m,y=C,h.isZero())throw new Qe("r_{i-1} was zero");m=K;let $=f.getZero();const X=h.getCoefficient(h.getDegree()),te=f.inverse(X);for(;m.getDegree()>=h.getDegree()&&!m.isZero();){const pe=m.getDegree()-h.getDegree(),xe=f.multiply(m.getCoefficient(m.getDegree()),te);$=$.addOrSubtract(f.buildMonomial(pe,xe)),m=m.addOrSubtract(h.multiplyByMonomial(pe,xe))}if(C=$.multiply(y).addOrSubtract(z),m.getDegree()>=h.getDegree())throw new It("Division algorithm failed to reduce polynomial?")}const N=C.getCoefficient(0);if(N===0)throw new Qe("sigmaTilde(0) was zero");const T=f.inverse(N),F=C.multiplyScalar(T),H=m.multiplyScalar(T);return[F,H]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const c=new Int32Array(o);let f=0;const h=this.field;for(let m=1;m<h.getSize()&&f<o;m++)s.evaluateAt(m)===0&&(c[f]=h.inverse(m),f++);if(f!==o)throw new Qe("Error locator degree does not match number of roots");return c}findErrorMagnitudes(s,o){const c=o.length,f=new Int32Array(c),h=this.field;for(let m=0;m<c;m++){const y=h.inverse(o[m]);let C=1;for(let N=0;N<c;N++)if(m!==N){const T=h.multiply(o[N],y),F=T&1?T&-2:T|1;C=h.multiply(C,F)}f[m]=h.multiply(s.evaluateAt(y),h.inverse(C)),h.getGeneratorBase()!==0&&(f[m]=h.multiply(f[m],y))}return f}}var Se;(function(P){P[P.UPPER=0]="UPPER",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.DIGIT=3]="DIGIT",P[P.PUNCT=4]="PUNCT",P[P.BINARY=5]="BINARY"})(Se||(Se={}));class Fe{decode(s){this.ddata=s;let o=s.getBits(),c=this.extractBits(o),f=this.correctBits(c),h=Fe.convertBoolArrayToByteArray(f),m=Fe.getEncodedData(f),y=new nn(h,m,null,null);return y.setNumBits(f.length),y}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,c=Se.UPPER,f=Se.UPPER,h="",m=0;for(;m<o;)if(f===Se.BINARY){if(o-m<5)break;let y=Fe.readCode(s,m,5);if(m+=5,y===0){if(o-m<11)break;y=Fe.readCode(s,m,11)+31,m+=11}for(let C=0;C<y;C++){if(o-m<8){m=o;break}const N=Fe.readCode(s,m,8);h+=ie.castAsNonUtf8Char(N),m+=8}f=c}else{let y=f===Se.DIGIT?4:5;if(o-m<y)break;let C=Fe.readCode(s,m,y);m+=y;let N=Fe.getCharacter(f,C);N.startsWith("CTRL_")?(c=f,f=Fe.getTable(N.charAt(5)),N.charAt(6)==="L"&&(c=f)):(h+=N,f=c)}return h}static getTable(s){switch(s){case"L":return Se.LOWER;case"P":return Se.PUNCT;case"M":return Se.MIXED;case"D":return Se.DIGIT;case"B":return Se.BINARY;case"U":default:return Se.UPPER}}static getCharacter(s,o){switch(s){case Se.UPPER:return Fe.UPPER_TABLE[o];case Se.LOWER:return Fe.LOWER_TABLE[o];case Se.MIXED:return Fe.MIXED_TABLE[o];case Se.PUNCT:return Fe.PUNCT_TABLE[o];case Se.DIGIT:return Fe.DIGIT_TABLE[o];default:throw new It("Bad table")}}correctBits(s){let o,c;this.ddata.getNbLayers()<=2?(c=6,o=Ee.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,o=Ee.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,o=Ee.AZTEC_DATA_10):(c=12,o=Ee.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),h=s.length/c;if(h<f)throw new R;let m=s.length%c,y=new Int32Array(h);for(let H=0;H<h;H++,m+=c)y[H]=Fe.readCode(s,m,c);try{new we(o).decode(y,h-f)}catch(H){throw new R(H)}let C=(1<<c)-1,N=0;for(let H=0;H<f;H++){let K=y[H];if(K===0||K===C)throw new R;(K===1||K===C-1)&&N++}let T=new Array(f*c-N),F=0;for(let H=0;H<f;H++){let K=y[H];if(K===1||K===C-1)T.fill(K>1,F,F+c-1),F+=c-1;else for(let z=c-1;z>=0;--z)T[F++]=(K&1<<z)!==0}return T}extractBits(s){let o=this.ddata.isCompact(),c=this.ddata.getNbLayers(),f=(o?11:14)+c*4,h=new Int32Array(f),m=new Array(this.totalBitsInLayer(c,o));if(o)for(let y=0;y<h.length;y++)h[y]=y;else{let y=f+1+2*O.truncDivision(O.truncDivision(f,2)-1,15),C=f/2,N=O.truncDivision(y,2);for(let T=0;T<C;T++){let F=T+O.truncDivision(T,15);h[C-T-1]=N-F-1,h[C+T]=N+F+1}}for(let y=0,C=0;y<c;y++){let N=(c-y)*4+(o?9:12),T=y*2,F=f-1-T;for(let H=0;H<N;H++){let K=H*2;for(let z=0;z<2;z++)m[C+K+z]=s.get(h[T+z],h[T+H]),m[C+2*N+K+z]=s.get(h[T+H],h[F-z]),m[C+4*N+K+z]=s.get(h[F-z],h[F-H]),m[C+6*N+K+z]=s.get(h[F-H],h[T+z])}C+=N*8}return m}static readCode(s,o,c){let f=0;for(let h=o;h<o+c;h++)f<<=1,s[h]&&(f|=1);return f}static readByte(s,o){let c=s.length-o;return c>=8?Fe.readCode(s,o,8):Fe.readCode(s,o,c)<<8-c}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let c=0;c<o.length;c++)o[c]=Fe.readByte(s,8*c);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Fe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Fe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Fe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Fe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Fe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Xe{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,c,f){const h=s-c,m=o-f;return Math.sqrt(h*h+m*m)}static sum(s){let o=0;for(let c=0,f=s.length;c!==f;c++){const h=s[c];o+=h}return o}}class Me{static floatToIntBits(s){return s}}Me.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ke{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof ke){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Me.floatToIntBits(this.x)+Me.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),c=this.distance(s[1],s[2]),f=this.distance(s[0],s[2]);let h,m,y;if(c>=o&&c>=f?(m=s[0],h=s[1],y=s[2]):f>=c&&f>=o?(m=s[1],h=s[0],y=s[2]):(m=s[2],h=s[0],y=s[1]),this.crossProductZ(h,m,y)<0){const C=h;h=y,y=C}s[0]=h,s[1]=m,s[2]=y}static distance(s,o){return Xe.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,c){const f=o.x,h=o.y;return(c.x-f)*(s.y-h)-(c.y-h)*(s.x-f)}}class gn{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Xn extends gn{constructor(s,o,c,f,h){super(s,o),this.compact=c,this.nbDatablocks=f,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Oe{constructor(s,o,c,f){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=Oe.INIT_SIZE),c==null&&(c=s.getWidth()/2|0),f==null&&(f=s.getHeight()/2|0);const h=o/2|0;if(this.leftInit=c-h,this.rightInit=c+h,this.upInit=f-h,this.downInit=f+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let s=this.leftInit,o=this.rightInit,c=this.upInit,f=this.downInit,h=!1,m=!0,y=!1,C=!1,N=!1,T=!1,F=!1;const H=this.width,K=this.height;for(;m;){m=!1;let z=!0;for(;(z||!C)&&o<H;)z=this.containsBlackPoint(c,f,o,!1),z?(o++,m=!0,C=!0):C||o++;if(o>=H){h=!0;break}let $=!0;for(;($||!N)&&f<K;)$=this.containsBlackPoint(s,o,f,!0),$?(f++,m=!0,N=!0):N||f++;if(f>=K){h=!0;break}let X=!0;for(;(X||!T)&&s>=0;)X=this.containsBlackPoint(c,f,s,!1),X?(s--,m=!0,T=!0):T||s--;if(s<0){h=!0;break}let te=!0;for(;(te||!F)&&c>=0;)te=this.containsBlackPoint(s,o,c,!0),te?(c--,m=!0,F=!0):F||c--;if(c<0){h=!0;break}m&&(y=!0)}if(!h&&y){const z=o-s;let $=null;for(let xe=1;$===null&&xe<z;xe++)$=this.getBlackPointOnSegment(s,f-xe,s+xe,f);if($==null)throw new re;let X=null;for(let xe=1;X===null&&xe<z;xe++)X=this.getBlackPointOnSegment(s,c+xe,s+xe,c);if(X==null)throw new re;let te=null;for(let xe=1;te===null&&xe<z;xe++)te=this.getBlackPointOnSegment(o,c+xe,o-xe,c);if(te==null)throw new re;let pe=null;for(let xe=1;pe===null&&xe<z;xe++)pe=this.getBlackPointOnSegment(o,f-xe,o-xe,f);if(pe==null)throw new re;return this.centerEdges(pe,$,te,X)}else throw new re}getBlackPointOnSegment(s,o,c,f){const h=Xe.round(Xe.distance(s,o,c,f)),m=(c-s)/h,y=(f-o)/h,C=this.image;for(let N=0;N<h;N++){const T=Xe.round(s+N*m),F=Xe.round(o+N*y);if(C.get(T,F))return new ke(T,F)}return null}centerEdges(s,o,c,f){const h=s.getX(),m=s.getY(),y=o.getX(),C=o.getY(),N=c.getX(),T=c.getY(),F=f.getX(),H=f.getY(),K=Oe.CORR;return h<this.width/2?[new ke(F-K,H+K),new ke(y+K,C+K),new ke(N-K,T-K),new ke(h+K,m-K)]:[new ke(F+K,H+K),new ke(y+K,C-K),new ke(N-K,T+K),new ke(h-K,m-K)]}containsBlackPoint(s,o,c,f){const h=this.image;if(f){for(let m=s;m<=o;m++)if(h.get(m,c))return!0}else for(let m=s;m<=o;m++)if(h.get(c,m))return!0;return!1}}Oe.INIT_SIZE=10,Oe.CORR=1;class Je{static checkAndNudgePoints(s,o){const c=s.getWidth(),f=s.getHeight();let h=!0;for(let m=0;m<o.length&&h;m+=2){const y=Math.floor(o[m]),C=Math.floor(o[m+1]);if(y<-1||y>c||C<-1||C>f)throw new re;h=!1,y===-1?(o[m]=0,h=!0):y===c&&(o[m]=c-1,h=!0),C===-1?(o[m+1]=0,h=!0):C===f&&(o[m+1]=f-1,h=!0)}h=!0;for(let m=o.length-2;m>=0&&h;m-=2){const y=Math.floor(o[m]),C=Math.floor(o[m+1]);if(y<-1||y>c||C<-1||C>f)throw new re;h=!1,y===-1?(o[m]=0,h=!0):y===c&&(o[m]=c-1,h=!0),C===-1?(o[m+1]=0,h=!0):C===f&&(o[m+1]=f-1,h=!0)}}}class Rt{constructor(s,o,c,f,h,m,y,C,N){this.a11=s,this.a21=o,this.a31=c,this.a12=f,this.a22=h,this.a32=m,this.a13=y,this.a23=C,this.a33=N}static quadrilateralToQuadrilateral(s,o,c,f,h,m,y,C,N,T,F,H,K,z,$,X){const te=Rt.quadrilateralToSquare(s,o,c,f,h,m,y,C);return Rt.squareToQuadrilateral(N,T,F,H,K,z,$,X).times(te)}transformPoints(s){const o=s.length,c=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,C=this.a23,N=this.a31,T=this.a32,F=this.a33;for(let H=0;H<o;H+=2){const K=s[H],z=s[H+1],$=h*K+C*z+F;s[H]=(c*K+m*z+N)/$,s[H+1]=(f*K+y*z+T)/$}}transformPointsWithValues(s,o){const c=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,C=this.a23,N=this.a31,T=this.a32,F=this.a33,H=s.length;for(let K=0;K<H;K++){const z=s[K],$=o[K],X=h*z+C*$+F;s[K]=(c*z+m*$+N)/X,o[K]=(f*z+y*$+T)/X}}static squareToQuadrilateral(s,o,c,f,h,m,y,C){const N=s-c+h-y,T=o-f+m-C;if(N===0&&T===0)return new Rt(c-s,h-c,s,f-o,m-f,o,0,0,1);{const F=c-h,H=y-h,K=f-m,z=C-m,$=F*z-H*K,X=(N*z-H*T)/$,te=(F*T-N*K)/$;return new Rt(c-s+X*c,y-s+te*y,s,f-o+X*f,C-o+te*C,o,X,te,1)}}static quadrilateralToSquare(s,o,c,f,h,m,y,C){return Rt.squareToQuadrilateral(s,o,c,f,h,m,y,C).buildAdjoint()}buildAdjoint(){return new Rt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Rt(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class sn extends Je{sampleGrid(s,o,c,f,h,m,y,C,N,T,F,H,K,z,$,X,te,pe,xe){const ye=Rt.quadrilateralToQuadrilateral(f,h,m,y,C,N,T,F,H,K,z,$,X,te,pe,xe);return this.sampleGridWithTransform(s,o,c,ye)}sampleGridWithTransform(s,o,c,f){if(o<=0||c<=0)throw new re;const h=new Te(o,c),m=new Float32Array(2*o);for(let y=0;y<c;y++){const C=m.length,N=y+.5;for(let T=0;T<C;T+=2)m[T]=T/2+.5,m[T+1]=N;f.transformPoints(m),Je.checkAndNudgePoints(s,m);try{for(let T=0;T<C;T+=2)s.get(Math.floor(m[T]),Math.floor(m[T+1]))&&h.set(T/2,y)}catch{throw new re}}return h}}class Xt{static setGridSampler(s){Xt.gridSampler=s}static getInstance(){return Xt.gridSampler}}Xt.gridSampler=new sn;class fn{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new ke(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class is{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),c=this.getBullsEyeCorners(o);if(s){let m=c[0];c[0]=c[2],c[2]=m}this.extractParameters(c);let f=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),h=this.getMatrixCornerPoints(c);return new Xn(f,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new re;let o=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(c,o);let f=0;for(let m=0;m<4;m++){let y=c[(this.shift+m)%4];this.compact?(f<<=7,f+=y>>1&127):(f<<=10,f+=(y>>2&992)+(y>>1&31))}let h=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(s,o){let c=0;s.forEach((f,h,m)=>{let y=(f>>o-2<<1)+(f&1);c=(c<<3)+y}),c=((c&1)<<11)+(c>>1);for(let f=0;f<4;f++)if(O.bitCount(c^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new re}getCorrectedParameterData(s,o){let c,f;o?(c=7,f=2):(c=10,f=4);let h=c-f,m=new Int32Array(c);for(let C=c-1;C>=0;--C)m[C]=s&15,s>>=4;try{new we(Ee.AZTEC_PARAM).decode(m,h)}catch{throw new re}let y=0;for(let C=0;C<f;C++)y=(y<<4)+m[C];return y}getBullsEyeCorners(s){let o=s,c=s,f=s,h=s,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(o,m,1,-1),H=this.getFirstDifferent(c,m,1,1),K=this.getFirstDifferent(f,m,-1,1),z=this.getFirstDifferent(h,m,-1,-1);if(this.nbCenterLayers>2){let $=this.distancePoint(z,F)*this.nbCenterLayers/(this.distancePoint(h,o)*(this.nbCenterLayers+2));if($<.75||$>1.25||!this.isWhiteOrBlackRectangle(F,H,K,z))break}o=F,c=H,f=K,h=z,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let y=new ke(o.getX()+.5,o.getY()-.5),C=new ke(c.getX()+.5,c.getY()+.5),N=new ke(f.getX()-.5,f.getY()+.5),T=new ke(h.getX()-.5,h.getY()-.5);return this.expandSquare([y,C,N,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,c,f;try{let y=new Oe(this.image).detect();s=y[0],o=y[1],c=y[2],f=y[3]}catch{let C=this.image.getWidth()/2,N=this.image.getHeight()/2;s=this.getFirstDifferent(new fn(C+7,N-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new fn(C+7,N+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new fn(C-7,N+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new fn(C-7,N-7),!1,-1,-1).toResultPoint()}let h=Xe.round((s.getX()+f.getX()+o.getX()+c.getX())/4),m=Xe.round((s.getY()+f.getY()+o.getY()+c.getY())/4);try{let y=new Oe(this.image,15,h,m).detect();s=y[0],o=y[1],c=y[2],f=y[3]}catch{s=this.getFirstDifferent(new fn(h+7,m-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new fn(h+7,m+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new fn(h-7,m+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new fn(h-7,m-7),!1,-1,-1).toResultPoint()}return h=Xe.round((s.getX()+f.getX()+o.getX()+c.getX())/4),m=Xe.round((s.getY()+f.getY()+o.getY()+c.getY())/4),new fn(h,m)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,c,f,h){let m=Xt.getInstance(),y=this.getDimension(),C=y/2-this.nbCenterLayers,N=y/2+this.nbCenterLayers;return m.sampleGrid(s,y,y,C,C,N,C,N,N,C,N,o.getX(),o.getY(),c.getX(),c.getY(),f.getX(),f.getY(),h.getX(),h.getY())}sampleLine(s,o,c){let f=0,h=this.distanceResultPoint(s,o),m=h/c,y=s.getX(),C=s.getY(),N=m*(o.getX()-s.getX())/h,T=m*(o.getY()-s.getY())/h;for(let F=0;F<c;F++)this.image.get(Xe.round(y+F*N),Xe.round(C+F*T))&&(f|=1<<c-F-1);return f}isWhiteOrBlackRectangle(s,o,c,f){let h=3;s=new fn(s.getX()-h,s.getY()+h),o=new fn(o.getX()-h,o.getY()-h),c=new fn(c.getX()+h,c.getY()-h),f=new fn(f.getX()+h,f.getY()+h);let m=this.getColor(f,s);if(m===0)return!1;let y=this.getColor(s,o);return y!==m||(y=this.getColor(o,c),y!==m)?!1:(y=this.getColor(c,f),y===m)}getColor(s,o){let c=this.distancePoint(s,o),f=(o.getX()-s.getX())/c,h=(o.getY()-s.getY())/c,m=0,y=s.getX(),C=s.getY(),N=this.image.get(s.getX(),s.getY()),T=Math.ceil(c);for(let H=0;H<T;H++)y+=f,C+=h,this.image.get(Xe.round(y),Xe.round(C))!==N&&m++;let F=m/c;return F>.1&&F<.9?0:F<=.1===N?1:-1}getFirstDifferent(s,o,c,f){let h=s.getX()+c,m=s.getY()+f;for(;this.isValid(h,m)&&this.image.get(h,m)===o;)h+=c,m+=f;for(h-=c,m-=f;this.isValid(h,m)&&this.image.get(h,m)===o;)h+=c;for(h-=c;this.isValid(h,m)&&this.image.get(h,m)===o;)m+=f;return m-=f,new fn(h,m)}expandSquare(s,o,c){let f=c/(2*o),h=s[0].getX()-s[2].getX(),m=s[0].getY()-s[2].getY(),y=(s[0].getX()+s[2].getX())/2,C=(s[0].getY()+s[2].getY())/2,N=new ke(y+f*h,C+f*m),T=new ke(y-f*h,C-f*m);h=s[1].getX()-s[3].getX(),m=s[1].getY()-s[3].getY(),y=(s[1].getX()+s[3].getX())/2,C=(s[1].getY()+s[3].getY())/2;let F=new ke(y+f*h,C+f*m),H=new ke(y-f*h,C-f*m);return[N,F,T,H]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=Xe.round(s.getX()),c=Xe.round(s.getY());return this.isValid(o,c)}distancePoint(s,o){return Xe.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return Xe.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class Ss{decode(s,o=null){let c=null,f=new is(s.getBlackMatrix()),h=null,m=null;try{let T=f.detectMirror(!1);h=T.getPoints(),this.reportFoundResultPoints(o,h),m=new Fe().decode(T)}catch(T){c=T}if(m==null)try{let T=f.detectMirror(!0);h=T.getPoints(),this.reportFoundResultPoints(o,h),m=new Fe().decode(T)}catch(T){throw c??T}let y=new Ge(m.getText(),m.getRawBytes(),m.getNumBits(),h,oe.AZTEC,I.currentTimeMillis()),C=m.getByteSegments();C!=null&&y.putMetadata(it.BYTE_SEGMENTS,C);let N=m.getECLevel();return N!=null&&y.putMetadata(it.ERROR_CORRECTION_LEVEL,N),y}reportFoundResultPoints(s,o){if(s!=null){let c=s.get(B.NEED_RESULT_POINT_CALLBACK);c!=null&&o.forEach((f,h,m)=>{c.foundPossibleResultPoint(f)})}}reset(){}}class Fi extends Ae{constructor(s=500){super(new Ss,s)}}class rn{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(B.TRY_HARDER)===!0&&s.isRotateSupported()){const h=s.rotateCounterClockwise(),m=this.doDecode(h,o),y=m.getResultMetadata();let C=270;y!==null&&y.get(it.ORIENTATION)===!0&&(C=C+y.get(it.ORIENTATION)%360),m.putMetadata(it.ORIENTATION,C);const N=m.getResultPoints();if(N!==null){const T=h.getHeight();for(let F=0;F<N.length;F++)N[F]=new ke(T-N[F].getY()-1,N[F].getX())}return m}else throw new re}}reset(){}doDecode(s,o){const c=s.getWidth(),f=s.getHeight();let h=new W(c);const m=o&&o.get(B.TRY_HARDER)===!0,y=Math.max(1,f>>(m?8:5));let C;m?C=f:C=15;const N=Math.trunc(f/2);for(let T=0;T<C;T++){const F=Math.trunc((T+1)/2),H=(T&1)===0,K=N+y*(H?F:-F);if(K<0||K>=f)break;try{h=s.getBlackRow(K,h)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(h.reverse(),o&&o.get(B.NEED_RESULT_POINT_CALLBACK)===!0)){const $=new Map;o.forEach((X,te)=>$.set(te,X)),$.delete(B.NEED_RESULT_POINT_CALLBACK),o=$}try{const $=this.decodeRow(K,h,o);if(z===1){$.putMetadata(it.ORIENTATION,180);const X=$.getResultPoints();X!==null&&(X[0]=new ke(c-X[0].getX()-1,X[0].getY()),X[1]=new ke(c-X[1].getX()-1,X[1].getY()))}return $}catch{}}}throw new re}static recordPattern(s,o,c){const f=c.length;for(let N=0;N<f;N++)c[N]=0;const h=s.getSize();if(o>=h)throw new re;let m=!s.get(o),y=0,C=o;for(;C<h;){if(s.get(C)!==m)c[y]++;else{if(++y===f)break;c[y]=1,m=!m}C++}if(!(y===f||y===f-1&&C===h))throw new re}static recordPatternInReverse(s,o,c){let f=c.length,h=s.get(o);for(;o>0&&f>=0;)s.get(--o)!==h&&(f--,h=!h);if(f>=0)throw new re;rn.recordPattern(s,o+1,c)}static patternMatchVariance(s,o,c){const f=s.length;let h=0,m=0;for(let N=0;N<f;N++)h+=s[N],m+=o[N];if(h<m)return Number.POSITIVE_INFINITY;const y=h/m;c*=y;let C=0;for(let N=0;N<f;N++){const T=s[N],F=o[N]*y,H=T>F?T-F:F-T;if(H>c)return Number.POSITIVE_INFINITY;C+=H}return C/h}}class Ie extends rn{static findStartPattern(s){const o=s.getSize(),c=s.getNextSet(0);let f=0,h=Int32Array.from([0,0,0,0,0,0]),m=c,y=!1;const C=6;for(let N=c;N<o;N++)if(s.get(N)!==y)h[f]++;else{if(f===C-1){let T=Ie.MAX_AVG_VARIANCE,F=-1;for(let H=Ie.CODE_START_A;H<=Ie.CODE_START_C;H++){const K=rn.patternMatchVariance(h,Ie.CODE_PATTERNS[H],Ie.MAX_INDIVIDUAL_VARIANCE);K<T&&(T=K,F=H)}if(F>=0&&s.isRange(Math.max(0,m-(N-m)/2),m,!1))return Int32Array.from([m,N,F]);m+=h[0]+h[1],h=h.slice(2,h.length-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,y=!y}throw new re}static decodeCode(s,o,c){rn.recordPattern(s,c,o);let f=Ie.MAX_AVG_VARIANCE,h=-1;for(let m=0;m<Ie.CODE_PATTERNS.length;m++){const y=Ie.CODE_PATTERNS[m],C=this.patternMatchVariance(o,y,Ie.MAX_INDIVIDUAL_VARIANCE);C<f&&(f=C,h=m)}if(h>=0)return h;throw new re}decodeRow(s,o,c){const f=c&&c.get(B.ASSUME_GS1)===!0,h=Ie.findStartPattern(o),m=h[2];let y=0;const C=new Uint8Array(20);C[y++]=m;let N;switch(m){case Ie.CODE_START_A:N=Ie.CODE_CODE_A;break;case Ie.CODE_START_B:N=Ie.CODE_CODE_B;break;case Ie.CODE_START_C:N=Ie.CODE_CODE_C;break;default:throw new R}let T=!1,F=!1,H="",K=h[0],z=h[1];const $=Int32Array.from([0,0,0,0,0,0]);let X=0,te=0,pe=m,xe=0,ye=!0,$e=!1,ht=!1;for(;!T;){const At=F;switch(F=!1,X=te,te=Ie.decodeCode(o,$,z),C[y++]=te,te!==Ie.CODE_STOP&&(ye=!0),te!==Ie.CODE_STOP&&(xe++,pe+=xe*te),K=z,z+=$.reduce((Np,Yd)=>Np+Yd,0),te){case Ie.CODE_START_A:case Ie.CODE_START_B:case Ie.CODE_START_C:throw new R}switch(N){case Ie.CODE_CODE_A:if(te<64)ht===$e?H+=String.fromCharCode(" ".charCodeAt(0)+te):H+=String.fromCharCode(" ".charCodeAt(0)+te+128),ht=!1;else if(te<96)ht===$e?H+=String.fromCharCode(te-64):H+=String.fromCharCode(te+64),ht=!1;else switch(te!==Ie.CODE_STOP&&(ye=!1),te){case Ie.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Ie.CODE_FNC_2:case Ie.CODE_FNC_3:break;case Ie.CODE_FNC_4_A:!$e&&ht?($e=!0,ht=!1):$e&&ht?($e=!1,ht=!1):ht=!0;break;case Ie.CODE_SHIFT:F=!0,N=Ie.CODE_CODE_B;break;case Ie.CODE_CODE_B:N=Ie.CODE_CODE_B;break;case Ie.CODE_CODE_C:N=Ie.CODE_CODE_C;break;case Ie.CODE_STOP:T=!0;break}break;case Ie.CODE_CODE_B:if(te<96)ht===$e?H+=String.fromCharCode(" ".charCodeAt(0)+te):H+=String.fromCharCode(" ".charCodeAt(0)+te+128),ht=!1;else switch(te!==Ie.CODE_STOP&&(ye=!1),te){case Ie.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Ie.CODE_FNC_2:case Ie.CODE_FNC_3:break;case Ie.CODE_FNC_4_B:!$e&&ht?($e=!0,ht=!1):$e&&ht?($e=!1,ht=!1):ht=!0;break;case Ie.CODE_SHIFT:F=!0,N=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_A:N=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_C:N=Ie.CODE_CODE_C;break;case Ie.CODE_STOP:T=!0;break}break;case Ie.CODE_CODE_C:if(te<100)te<10&&(H+="0"),H+=te;else switch(te!==Ie.CODE_STOP&&(ye=!1),te){case Ie.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Ie.CODE_CODE_A:N=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_B:N=Ie.CODE_CODE_B;break;case Ie.CODE_STOP:T=!0;break}break}At&&(N=N===Ie.CODE_CODE_A?Ie.CODE_CODE_B:Ie.CODE_CODE_A)}const _r=z-K;if(z=o.getNextUnset(z),!o.isRange(z,Math.min(o.getSize(),z+(z-K)/2),!1))throw new re;if(pe-=xe*X,pe%103!==X)throw new k;const wn=H.length;if(wn===0)throw new re;wn>0&&ye&&(N===Ie.CODE_CODE_C?H=H.substring(0,wn-2):H=H.substring(0,wn-1));const rr=(h[1]+h[0])/2,Jt=K+_r/2,bn=C.length,ur=new Uint8Array(bn);for(let At=0;At<bn;At++)ur[At]=C[At];const Js=[new ke(rr,s),new ke(Jt,s)];return new Ge(H,ur,0,Js,oe.CODE_128,new Date().getTime())}}Ie.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ie.MAX_AVG_VARIANCE=.25,Ie.MAX_INDIVIDUAL_VARIANCE=.7,Ie.CODE_SHIFT=98,Ie.CODE_CODE_C=99,Ie.CODE_CODE_B=100,Ie.CODE_CODE_A=101,Ie.CODE_FNC_1=102,Ie.CODE_FNC_2=97,Ie.CODE_FNC_3=96,Ie.CODE_FNC_4_A=101,Ie.CODE_FNC_4_B=100,Ie.CODE_START_A=103,Ie.CODE_START_B=104,Ie.CODE_START_C=105,Ie.CODE_STOP=106;class an extends rn{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,c){let f=this.counters;f.fill(0),this.decodeRowResult="";let h=an.findAsteriskPattern(o,f),m=o.getNextSet(h[1]),y=o.getSize(),C,N;do{an.recordPattern(o,m,f);let $=an.toNarrowWidePattern(f);if($<0)throw new re;C=an.patternToChar($),this.decodeRowResult+=C,N=m;for(let X of f)m+=X;m=o.getNextSet(m)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let $ of f)T+=$;let F=m-N-T;if(m!==y&&F*2<T)throw new re;if(this.usingCheckDigit){let $=this.decodeRowResult.length-1,X=0;for(let te=0;te<$;te++)X+=an.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt($)!==an.ALPHABET_STRING.charAt(X%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,$)}if(this.decodeRowResult.length===0)throw new re;let H;this.extendedMode?H=an.decodeExtended(this.decodeRowResult):H=this.decodeRowResult;let K=(h[1]+h[0])/2,z=N+T/2;return new Ge(H,null,0,[new ke(K,s),new ke(z,s)],oe.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let c=s.getSize(),f=s.getNextSet(0),h=0,m=f,y=!1,C=o.length;for(let N=f;N<c;N++)if(s.get(N)!==y)o[h]++;else{if(h===C-1){if(this.toNarrowWidePattern(o)===an.ASTERISK_ENCODING&&s.isRange(Math.max(0,m-Math.floor((N-m)/2)),m,!1))return[m,N];m+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,y=!y}throw new re}static toNarrowWidePattern(s){let o=s.length,c=0,f;do{let h=2147483647;for(let C of s)C<h&&C>c&&(h=C);c=h,f=0;let m=0,y=0;for(let C=0;C<o;C++){let N=s[C];N>c&&(y|=1<<o-1-C,f++,m+=N)}if(f===3){for(let C=0;C<o&&f>0;C++){let N=s[C];if(N>c&&(f--,N*2>=m))return-1}return y}}while(f>3);return-1}static patternToChar(s){for(let o=0;o<an.CHARACTER_ENCODINGS.length;o++)if(an.CHARACTER_ENCODINGS[o]===s)return an.ALPHABET_STRING.charAt(o);if(s===an.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(s){let o=s.length,c="";for(let f=0;f<o;f++){let h=s.charAt(f);if(h==="+"||h==="$"||h==="%"||h==="/"){let m=s.charAt(f+1),y="\0";switch(h){case"+":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)+32);else throw new R;break;case"$":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)-64);else throw new R;break;case"%":if(m>="A"&&m<="E")y=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")y=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")y=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")y="\0";else if(m==="V")y="@";else if(m==="W")y="`";else if(m==="X"||m==="Y"||m==="Z")y="";else throw new R;break;case"/":if(m>="A"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")y=":";else throw new R;break}c+=y,f++}else c+=h}return c}}an.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",an.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],an.ASTERISK_ENCODING=148;class Tt extends rn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,c){let f=this.decodeStart(o),h=this.decodeEnd(o),m=new ce;Tt.decodeMiddle(o,f[1],h[0],m);let y=m.toString(),C=null;c!=null&&(C=c.get(B.ALLOWED_LENGTHS)),C==null&&(C=Tt.DEFAULT_ALLOWED_LENGTHS);let N=y.length,T=!1,F=0;for(let z of C){if(N===z){T=!0;break}z>F&&(F=z)}if(!T&&N>F&&(T=!0),!T)throw new R;const H=[new ke(f[1],s),new ke(h[0],s)];return new Ge(y,null,0,H,oe.ITF,new Date().getTime())}static decodeMiddle(s,o,c,f){let h=new Int32Array(10),m=new Int32Array(5),y=new Int32Array(5);for(h.fill(0),m.fill(0),y.fill(0);o<c;){rn.recordPattern(s,o,h);for(let N=0;N<5;N++){let T=2*N;m[N]=h[T],y[N]=h[T+1]}let C=Tt.decodeDigit(m);f.append(C.toString()),C=this.decodeDigit(y),f.append(C.toString()),h.forEach(function(N){o+=N})}}decodeStart(s){let o=Tt.skipWhiteSpace(s),c=Tt.findGuardPattern(s,o,Tt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(s,c[0]),c}validateQuietZone(s,o){let c=this.narrowLineWidth*10;c=c<o?c:o;for(let f=o-1;c>0&&f>=0&&!s.get(f);f--)c--;if(c!==0)throw new re}static skipWhiteSpace(s){const o=s.getSize(),c=s.getNextSet(0);if(c===o)throw new re;return c}decodeEnd(s){s.reverse();try{let o=Tt.skipWhiteSpace(s),c;try{c=Tt.findGuardPattern(s,o,Tt.END_PATTERN_REVERSED[0])}catch(h){h instanceof re&&(c=Tt.findGuardPattern(s,o,Tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,c[0]);let f=c[0];return c[0]=s.getSize()-c[1],c[1]=s.getSize()-f,c}finally{s.reverse()}}static findGuardPattern(s,o,c){let f=c.length,h=new Int32Array(f),m=s.getSize(),y=!1,C=0,N=o;h.fill(0);for(let T=o;T<m;T++)if(s.get(T)!==y)h[C]++;else{if(C===f-1){if(rn.patternMatchVariance(h,c,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return[N,T];N+=h[0]+h[1],I.arraycopy(h,2,h,0,C-1),h[C-1]=0,h[C]=0,C--}else C++;h[C]=1,y=!y}throw new re}static decodeDigit(s){let o=Tt.MAX_AVG_VARIANCE,c=-1,f=Tt.PATTERNS.length;for(let h=0;h<f;h++){let m=Tt.PATTERNS[h],y=rn.patternMatchVariance(s,m,Tt.MAX_INDIVIDUAL_VARIANCE);y<o?(o=y,c=h):y===o&&(c=-1)}if(c>=0)return c%10;throw new re}}Tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Tt.MAX_AVG_VARIANCE=.38,Tt.MAX_INDIVIDUAL_VARIANCE=.5,Tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Tt.START_PATTERN=Int32Array.from([1,1,1,1]),Tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Vt extends rn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,c,f=0,h=Int32Array.from([0,0,0]);for(;!o;){h=Int32Array.from([0,0,0]),c=Vt.findGuardPattern(s,f,!1,this.START_END_PATTERN,h);let m=c[0];f=c[1];let y=m-(f-m);y>=0&&(o=s.isRange(y,m,!1))}return c}static checkChecksum(s){return Vt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return Vt.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new R;c+=h}c*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new R;c+=h}return(1e3-c)%10}static decodeEnd(s,o){return Vt.findGuardPattern(s,o,!1,Vt.START_END_PATTERN,new Int32Array(Vt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,c,f){return this.findGuardPattern(s,o,c,f,new Int32Array(f.length))}static findGuardPattern(s,o,c,f,h){let m=s.getSize();o=c?s.getNextUnset(o):s.getNextSet(o);let y=0,C=o,N=f.length,T=c;for(let F=o;F<m;F++)if(s.get(F)!==T)h[y]++;else{if(y===N-1){if(rn.patternMatchVariance(h,f,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE)return Int32Array.from([C,F]);C+=h[0]+h[1];let H=h.slice(2,h.length-1);for(let K=0;K<y-1;K++)h[K]=H[K];h[y-1]=0,h[y]=0,y--}else y++;h[y]=1,T=!T}throw new re}static decodeDigit(s,o,c,f){this.recordPattern(s,c,o);let h=this.MAX_AVG_VARIANCE,m=-1,y=f.length;for(let C=0;C<y;C++){let N=f[C],T=rn.patternMatchVariance(o,N,Vt.MAX_INDIVIDUAL_VARIANCE);T<h&&(h=T,m=C)}if(m>=0)return m;throw new re}}Vt.MAX_AVG_VARIANCE=.48,Vt.MAX_INDIVIDUAL_VARIANCE=.7,Vt.START_END_PATTERN=Int32Array.from([1,1,1]),Vt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Vt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Vt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Qs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,c,f),m=f.toString(),y=Qs.parseExtensionString(m),C=[new ke((c[0]+c[1])/2,s),new ke(h,s)],N=new Ge(m,null,0,C,oe.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&N.putAllMetadata(y),N}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1],y=0;for(let N=0;N<5&&m<h;N++){let T=Vt.decodeDigit(s,f,m,Vt.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<4-N),N!==4&&(m=s.getNextSet(m),m=s.getNextUnset(m))}if(c.length!==5)throw new re;let C=this.determineCheckDigit(y);if(Qs.extensionChecksum(c.toString())!==C)throw new re;return m}static extensionChecksum(s){let o=s.length,c=0;for(let f=o-2;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);c*=3;for(let f=o-1;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);return c*=3,c%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new re}static parseExtensionString(s){if(s.length!==5)return null;let o=Qs.parseExtension5String(s);return o==null?null:new Map([[it.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let c=parseInt(s.substring(1)),f=(c/100).toString(),h=c%100,m=h<10?"0"+h:h.toString();return o+f+"."+m}}class bo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,c,f),m=f.toString(),y=bo.parseExtensionString(m),C=[new ke((c[0]+c[1])/2,s),new ke(h,s)],N=new Ge(m,null,0,C,oe.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&N.putAllMetadata(y),N}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1],y=0;for(let C=0;C<2&&m<h;C++){let N=Vt.decodeDigit(s,f,m,Vt.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+N%10);for(let T of f)m+=T;N>=10&&(y|=1<<1-C),C!==1&&(m=s.getNextSet(m),m=s.getNextUnset(m))}if(c.length!==2)throw new re;if(parseInt(c.toString())%4!==y)throw new re;return m}static parseExtensionString(s){return s.length!==2?null:new Map([[it.ISSUE_NUMBER,parseInt(s)]])}}class Td{static decodeRow(s,o,c){let f=Vt.findGuardPattern(o,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Qs().decodeRow(s,o,f)}catch{return new bo().decodeRow(s,o,f)}}}Td.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ot extends Vt{constructor(){super(),this.decodeRowStringBuffer="",Ot.L_AND_G_PATTERNS=Ot.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=Ot.L_PATTERNS[s-10],c=new Int32Array(o.length);for(let f=0;f<o.length;f++)c[f]=o[o.length-f-1];Ot.L_AND_G_PATTERNS[s]=c}}decodeRow(s,o,c){let f=Ot.findStartGuardPattern(o),h=c==null?null:c.get(B.NEED_RESULT_POINT_CALLBACK);if(h!=null){const ye=new ke((f[0]+f[1])/2,s);h.foundPossibleResultPoint(ye)}let m=this.decodeMiddle(o,f,this.decodeRowStringBuffer),y=m.rowOffset,C=m.resultString;if(h!=null){const ye=new ke(y,s);h.foundPossibleResultPoint(ye)}let N=this.decodeEnd(o,y);if(h!=null){const ye=new ke((N[0]+N[1])/2,s);h.foundPossibleResultPoint(ye)}let T=N[1],F=T+(T-N[0]);if(F>=o.getSize()||!o.isRange(T,F,!1))throw new re;let H=C.toString();if(H.length<8)throw new R;if(!Ot.checkChecksum(H))throw new k;let K=(f[1]+f[0])/2,z=(N[1]+N[0])/2,$=this.getBarcodeFormat(),X=[new ke(K,s),new ke(z,s)],te=new Ge(H,null,0,X,$,new Date().getTime()),pe=0;try{let ye=Td.decodeRow(s,o,N[1]);te.putMetadata(it.UPC_EAN_EXTENSION,ye.getText()),te.putAllMetadata(ye.getResultMetadata()),te.addResultPoints(ye.getResultPoints()),pe=ye.getText().length}catch{}let xe=c==null?null:c.get(B.ALLOWED_EAN_EXTENSIONS);if(xe!=null){let ye=!1;for(let $e in xe)if(pe.toString()===$e){ye=!0;break}if(!ye)throw new re}return te}decodeEnd(s,o){return Ot.findGuardPattern(s,o,!1,Ot.START_END_PATTERN,new Int32Array(Ot.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Ot.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return Ot.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new R;c+=h}c*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new R;c+=h}return(1e3-c)%10}}class mi extends Ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1],y=0;for(let N=0;N<6&&m<h;N++){let T=Ot.decodeDigit(s,f,m,Ot.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<5-N)}c=mi.determineFirstDigit(c,y),m=Ot.findGuardPattern(s,m,!0,Ot.MIDDLE_PATTERN,new Int32Array(Ot.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&m<h;N++){let T=Ot.decodeDigit(s,f,m,Ot.L_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+T);for(let F of f)m+=F}return{rowOffset:m,resultString:c}}getBarcodeFormat(){return oe.EAN_13}static determineFirstDigit(s,o){for(let c=0;c<10;c++)if(o===this.FIRST_DIGIT_ENCODINGS[c])return s=String.fromCharCode("0".charCodeAt(0)+c)+s,s;throw new re}}mi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class jd extends Ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1];for(let C=0;C<4&&m<h;C++){let N=Ot.decodeDigit(s,f,m,Ot.L_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+N);for(let T of f)m+=T}m=Ot.findGuardPattern(s,m,!0,Ot.MIDDLE_PATTERN,new Int32Array(Ot.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&m<h;C++){let N=Ot.decodeDigit(s,f,m,Ot.L_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+N);for(let T of f)m+=T}return{rowOffset:m,resultString:c}}getBarcodeFormat(){return oe.EAN_8}}class Dd extends Ot{constructor(){super(...arguments),this.ean13Reader=new mi}getBarcodeFormat(){return oe.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,c))}decodeMiddle(s,o,c){return this.ean13Reader.decodeMiddle(s,o,c)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let c=new Ge(o.substring(1),null,null,s.getResultPoints(),oe.UPC_A);return s.getResultMetadata()!=null&&c.putAllMetadata(s.getResultMetadata()),c}else throw new re}reset(){this.ean13Reader.reset()}}class as extends Ot{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters.map(N=>N);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const h=s.getSize();let m=o[1],y=0;for(let N=0;N<6&&m<h;N++){const T=as.decodeDigit(s,f,m,as.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<5-N)}let C=as.determineNumSysAndCheckDigit(c,y);return{rowOffset:m,resultString:C}}decodeEnd(s,o){return as.findGuardPatternWithoutCounters(s,o,!0,as.MIDDLE_END_PATTERN)}checkChecksum(s){return Ot.checkChecksum(as.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let c=0;c<=1;c++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][f]){let h=String.fromCharCode("0".charCodeAt(0)+c),m=String.fromCharCode("0".charCodeAt(0)+f);return h+s+m}throw re.getNotFoundInstance()}getBarcodeFormat(){return oe.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(h=>h.charCodeAt(0)),c=new ce;c.append(s.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:c.appendChars(o,0,2),c.append(f),c.append("0000"),c.appendChars(o,2,3);break;case 3:c.appendChars(o,0,3),c.append("00000"),c.appendChars(o,3,2);break;case 4:c.appendChars(o,0,4),c.append("00000"),c.append(o[4]);break;default:c.appendChars(o,0,5),c.append("0000"),c.append(f);break}return s.length>=8&&c.append(s.charAt(7)),c.toString()}}as.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),as.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Lc extends rn{constructor(s){super();let o=s==null?null:s.get(B.POSSIBLE_FORMATS),c=[];r(o)?(c.push(new mi),c.push(new Dd),c.push(new jd),c.push(new as)):(o.indexOf(oe.EAN_13)>-1&&c.push(new mi),o.indexOf(oe.UPC_A)>-1&&c.push(new Dd),o.indexOf(oe.EAN_8)>-1&&c.push(new jd),o.indexOf(oe.UPC_E)>-1&&c.push(new as)),this.readers=c}decodeRow(s,o,c){for(let f of this.readers)try{const h=f.decodeRow(s,o,c),m=h.getBarcodeFormat()===oe.EAN_13&&h.getText().charAt(0)==="0",y=c==null?null:c.get(B.POSSIBLE_FORMATS),C=y==null||y.includes(oe.UPC_A);if(m&&C){const N=h.getRawBytes(),T=new Ge(h.getText().substring(1),N,N?N.length:null,h.getResultPoints(),oe.UPC_A);return T.putAllMetadata(h.getResultMetadata()),T}return h}catch{}throw new re}reset(){for(let s of this.readers)s.reset()}}class er extends rn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let c=0;c<o.length;c++)if(rn.patternMatchVariance(s,o[c],er.MAX_INDIVIDUAL_VARIANCE)<er.MAX_AVG_VARIANCE)return c;throw new re}static count(s){return Xe.sum(new Int32Array(s))}static increment(s,o){let c=0,f=o[0];for(let h=1;h<s.length;h++)o[h]>f&&(f=o[h],c=h);s[c]++}static decrement(s,o){let c=0,f=o[0];for(let h=1;h<s.length;h++)o[h]<f&&(f=o[h],c=h);s[c]--}static isFinderPattern(s){let o=s[0]+s[1],c=o+s[2]+s[3],f=o/c;if(f>=er.MIN_FINDER_PATTERN_RATIO&&f<=er.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let y of s)y>m&&(m=y),y<h&&(h=y);return m<10*h}return!1}}er.MAX_AVG_VARIANCE=.2,er.MAX_INDIVIDUAL_VARIANCE=.45,er.MIN_FINDER_PATTERN_RATIO=9.5/12,er.MAX_FINDER_PATTERN_RATIO=12.5/14;class Na{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Na))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class vl{constructor(s,o,c,f,h){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new ke(c,h)),this.resultPoints.push(new ke(f,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof vl))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class As{constructor(){}static getRSSvalue(s,o,c){let f=0;for(let C of s)f+=C;let h=0,m=0,y=s.length;for(let C=0;C<y-1;C++){let N;for(N=1,m|=1<<C;N<s[C];N++,m&=~(1<<C)){let T=As.combins(f-N-1,y-C-2);if(c&&m===0&&f-N-(y-C-1)>=y-C-1&&(T-=As.combins(f-N-(y-C),y-C-2)),y-C-1>1){let F=0;for(let H=f-N-(y-C-2);H>o;H--)F+=As.combins(f-N-H-1,y-C-3);T-=F*(y-1-C)}else f-N>o&&T--;h+=T}f-=N}return h}static combins(s,o){let c,f;s-o>o?(f=o,c=s-o):(f=s-o,c=o);let h=1,m=1;for(let y=s;y>c;y--)h*=y,m<=f&&(h/=m,m++);for(;m<=f;)h/=m,m++;return h}}class Pc{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let c=12*o,f=new W(c),h=0,y=s[0].getRightChar().getValue();for(let C=11;C>=0;--C)y&1<<C&&f.set(h),h++;for(let C=1;C<s.length;++C){let N=s[C],T=N.getLeftChar().getValue();for(let F=11;F>=0;--F)T&1<<F&&f.set(h),h++;if(N.getRightChar()!=null){let F=N.getRightChar().getValue();for(let H=11;H>=0;--H)F&1<<H&&f.set(h),h++}}return f}}class Bi{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Co{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class br extends Co{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===br.FNC1}}br.FNC1="$";class Ui extends Co{constructor(s,o,c){super(s),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class $r extends Co{constructor(s,o,c){if(super(s),o<0||o>10||c<0||c>10)throw new R;this.firstDigit=o,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===$r.FNC1}isSecondDigitFNC1(){return this.secondDigit===$r.FNC1}isAnyFNC1(){return this.firstDigit===$r.FNC1||this.secondDigit===$r.FNC1}}$r.FNC1=10;class Ue{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new re;let o=s.substring(0,2);for(let h of Ue.TWO_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(2,h[2],s):Ue.processFixedAI(2,h[1],s);if(s.length<3)throw new re;let c=s.substring(0,3);for(let h of Ue.THREE_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(3,h[2],s):Ue.processFixedAI(3,h[1],s);for(let h of Ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(4,h[2],s):Ue.processFixedAI(4,h[1],s);if(s.length<4)throw new re;let f=s.substring(0,4);for(let h of Ue.FOUR_DIGIT_DATA_LENGTH)if(h[0]===f)return h[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(4,h[2],s):Ue.processFixedAI(4,h[1],s);throw new re}static processFixedAI(s,o,c){if(c.length<s)throw new re;let f=c.substring(0,s);if(c.length<s+o)throw new re;let h=c.substring(s,s+o),m=c.substring(s+o),y="("+f+")"+h,C=Ue.parseFieldsInGeneralPurpose(m);return C==null?y:y+C}static processVariableAI(s,o,c){let f=c.substring(0,s),h;c.length<s+o?h=c.length:h=s+o;let m=c.substring(s,h),y=c.substring(h),C="("+f+")"+m,N=Ue.parseFieldsInGeneralPurpose(y);return N==null?C:C+N}}Ue.VARIABLE_LENGTH=[],Ue.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ue.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ue.VARIABLE_LENGTH,20],["22",Ue.VARIABLE_LENGTH,29],["30",Ue.VARIABLE_LENGTH,8],["37",Ue.VARIABLE_LENGTH,8],["90",Ue.VARIABLE_LENGTH,30],["91",Ue.VARIABLE_LENGTH,30],["92",Ue.VARIABLE_LENGTH,30],["93",Ue.VARIABLE_LENGTH,30],["94",Ue.VARIABLE_LENGTH,30],["95",Ue.VARIABLE_LENGTH,30],["96",Ue.VARIABLE_LENGTH,30],["97",Ue.VARIABLE_LENGTH,3],["98",Ue.VARIABLE_LENGTH,30],["99",Ue.VARIABLE_LENGTH,30]],Ue.THREE_DIGIT_DATA_LENGTH=[["240",Ue.VARIABLE_LENGTH,30],["241",Ue.VARIABLE_LENGTH,30],["242",Ue.VARIABLE_LENGTH,6],["250",Ue.VARIABLE_LENGTH,30],["251",Ue.VARIABLE_LENGTH,30],["253",Ue.VARIABLE_LENGTH,17],["254",Ue.VARIABLE_LENGTH,20],["400",Ue.VARIABLE_LENGTH,30],["401",Ue.VARIABLE_LENGTH,30],["402",17],["403",Ue.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ue.VARIABLE_LENGTH,20],["421",Ue.VARIABLE_LENGTH,15],["422",3],["423",Ue.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ue.VARIABLE_LENGTH,15],["391",Ue.VARIABLE_LENGTH,18],["392",Ue.VARIABLE_LENGTH,15],["393",Ue.VARIABLE_LENGTH,18],["703",Ue.VARIABLE_LENGTH,30]],Ue.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ue.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ue.VARIABLE_LENGTH,20],["8003",Ue.VARIABLE_LENGTH,30],["8004",Ue.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ue.VARIABLE_LENGTH,30],["8008",Ue.VARIABLE_LENGTH,12],["8018",18],["8020",Ue.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ue.VARIABLE_LENGTH,70],["8200",Ue.VARIABLE_LENGTH,70]];class _a{constructor(s){this.buffer=new ce,this.information=s}decodeAllCodes(s,o){let c=o,f=null;do{let h=this.decodeGeneralPurposeField(c,f),m=Ue.parseFieldsInGeneralPurpose(h.getNewString());if(m!=null&&s.append(m),h.isRemaining()?f=""+h.getRemainingValue():f=null,c===h.getNewPosition())break;c=h.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(s,4);return h===0?new $r(this.information.getSize(),$r.FNC1,$r.FNC1):new $r(this.information.getSize(),h-1,$r.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),c=(o-8)/11,f=(o-8)%11;return new $r(s+7,c,f)}extractNumericValueFromBitArray(s,o){return _a.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,c){let f=0;for(let h=0;h<c;++h)s.get(o+h)&&(f|=1<<c-h-1);return f}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new Ui(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new Ui(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let c=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(c!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new Ui(this.current.getPosition(),this.buffer.toString()):o=new Ui(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Bi(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new Ui(this.current.getPosition(),this.buffer.toString());return new Bi(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Bi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Ui(this.current.getPosition(),this.buffer.toString());return new Bi(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Bi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Ui(this.current.getPosition(),this.buffer.toString());return new Bi(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Bi(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<116)return!0;if(s+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(s,8);return f>=232&&f<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new br(s+5,br.FNC1);if(o>=5&&o<15)return new br(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<90)return new br(s+7,""+(c+1));if(c>=90&&c<116)return new br(s+7,""+(c+7));let f=this.extractNumericValueFromBitArray(s,8),h;switch(f){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new R}return new br(s+8,h)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,6);return c>=16&&c<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new br(s+5,br.FNC1);if(o>=5&&o<15)return new br(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,6);if(c>=32&&c<58)return new br(s+6,""+(c+33));let f;switch(c){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new It("Decoding invalid alphanumeric value: "+c)}return new br(s+6,f)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class Fc{constructor(s){this.information=s,this.generalDecoder=new _a(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Cr extends Fc{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,c)}encodeCompressedGtinWithoutAI(s,o,c){for(let f=0;f<4;++f){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);h/100===0&&s.append("0"),h/10===0&&s.append("0"),s.append(h)}Cr.appendCheckDigit(s,c)}static appendCheckDigit(s,o){let c=0;for(let f=0;f<13;f++){let h=s.charAt(f+o).charCodeAt(0)-"0".charCodeAt(0);c+=f&1?h:3*h}c=10-c%10,c===10&&(c=0),s.append(c)}}Cr.GTIN_SIZE=40;class Sa extends Cr{constructor(s){super(s)}parseInformation(){let s=new ce;s.append("(01)");let o=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Sa.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,Sa.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,Sa.HEADER_SIZE+44)}}Sa.HEADER_SIZE=1+1+2;class Eo extends Fc{constructor(s){super(s)}parseInformation(){let s=new ce;return this.getGeneralDecoder().decodeAllCodes(s,Eo.HEADER_SIZE)}}Eo.HEADER_SIZE=2+1+2;class yl extends Cr{constructor(s){super(s)}encodeCompressedWeight(s,o,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,c);this.addWeightCode(s,f);let h=this.checkWeight(f),m=1e5;for(let y=0;y<5;++y)h/m===0&&s.append("0"),m/=10;s.append(h)}}class ks extends yl{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=ks.HEADER_SIZE+yl.GTIN_SIZE+ks.WEIGHT_SIZE)throw new re;let s=new ce;return this.encodeCompressedGtin(s,ks.HEADER_SIZE),this.encodeCompressedWeight(s,ks.HEADER_SIZE+yl.GTIN_SIZE,ks.WEIGHT_SIZE),s.toString()}}ks.HEADER_SIZE=4+1,ks.WEIGHT_SIZE=15;class hp extends ks{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class pp extends ks{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Ts extends Cr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Ts.HEADER_SIZE+Cr.GTIN_SIZE)throw new re;let s=new ce;this.encodeCompressedGtin(s,Ts.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ts.HEADER_SIZE+Cr.GTIN_SIZE,Ts.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Ts.HEADER_SIZE+Cr.GTIN_SIZE+Ts.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}Ts.HEADER_SIZE=5+1+2,Ts.LAST_DIGIT_SIZE=2;class mr extends Cr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<mr.HEADER_SIZE+Cr.GTIN_SIZE)throw new re;let s=new ce;this.encodeCompressedGtin(s,mr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Cr.GTIN_SIZE,mr.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Cr.GTIN_SIZE+mr.LAST_DIGIT_SIZE,mr.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let f=this.getGeneralDecoder().decodeGeneralPurposeField(mr.HEADER_SIZE+Cr.GTIN_SIZE+mr.LAST_DIGIT_SIZE+mr.FIRST_THREE_DIGITS_SIZE,null);return s.append(f.getNewString()),s.toString()}}mr.HEADER_SIZE=5+1+2,mr.LAST_DIGIT_SIZE=2,mr.FIRST_THREE_DIGITS_SIZE=10;class Qt extends yl{constructor(s,o,c){super(s),this.dateCode=c,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Qt.HEADER_SIZE+Qt.GTIN_SIZE+Qt.WEIGHT_SIZE+Qt.DATE_SIZE)throw new re;let s=new ce;return this.encodeCompressedGtin(s,Qt.HEADER_SIZE),this.encodeCompressedWeight(s,Qt.HEADER_SIZE+Qt.GTIN_SIZE,Qt.WEIGHT_SIZE),this.encodeCompressedDate(s,Qt.HEADER_SIZE+Qt.GTIN_SIZE+Qt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Qt.DATE_SIZE);if(c==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let f=c%32;c/=32;let h=c%12+1;c/=12;let m=c;m/10==0&&s.append("0"),s.append(m),h/10==0&&s.append("0"),s.append(h),f/10==0&&s.append("0"),s.append(f)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}Qt.HEADER_SIZE=7+1,Qt.WEIGHT_SIZE=20,Qt.DATE_SIZE=16;function Id(P){try{if(P.get(1))return new Sa(P);if(!P.get(2))return new Eo(P);switch(_a.extractNumericValueFromBitArray(P,1,4)){case 4:return new hp(P);case 5:return new pp(P)}switch(_a.extractNumericValueFromBitArray(P,1,5)){case 12:return new Ts(P);case 13:return new mr(P)}switch(_a.extractNumericValueFromBitArray(P,1,7)){case 56:return new Qt(P,"310","11");case 57:return new Qt(P,"320","11");case 58:return new Qt(P,"310","13");case 59:return new Qt(P,"320","13");case 60:return new Qt(P,"310","15");case 61:return new Qt(P,"320","15");case 62:return new Qt(P,"310","17");case 63:return new Qt(P,"320","17")}}catch(s){throw console.log(s),new It("unknown decoder: "+P)}}class os{constructor(s,o,c,f){this.leftchar=s,this.rightchar=o,this.finderpattern=c,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof os?os.equalsOrNull(s.leftchar,o.leftchar)&&os.equalsOrNull(s.rightchar,o.rightchar)&&os.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:os.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Bc{constructor(s,o,c){this.pairs=s,this.rowNumber=o,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof Bc?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let c;return s.forEach((f,h)=>{o.forEach(m=>{f.getLeftChar().getValue()===m.getLeftChar().getValue()&&f.getRightChar().getValue()===m.getRightChar().getValue()&&f.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(c=!0)})}),c}}class Ne extends er{constructor(s){super(...arguments),this.pairs=new Array(Ne.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,c){this.pairs.length=0,this.startFromEven=!1;try{return Ne.constructResult(this.decodeRow2pairs(s,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,Ne.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(h){if(h instanceof re){if(!this.pairs.length)throw new re;c=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(s,!1),f){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new re}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let c=o;c<this.rows.length;c++){let f=this.rows[c];this.pairs.length=0;for(let m of s)this.pairs.push(m.getPairs());if(this.pairs.push(f.getPairs()),!Ne.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(s);h.push(f);try{return this.checkRows(h,c+1)}catch(m){this.verbose&&console.log(m)}}throw new re}static isValidSequence(s){for(let o of Ne.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let c=!0;for(let f=0;f<s.length;f++)if(s[f].getFinderPattern().getValue()!=o[f]){c=!1;break}if(c)return!0}return!1}storeRow(s,o){let c=0,f=!1,h=!1;for(;c<this.rows.length;){let m=this.rows[c];if(m.getRowNumber()>s){h=m.isEquivalent(this.pairs);break}f=m.isEquivalent(this.pairs),c++}h||f||Ne.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new Bc(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let c of o)if(c.getPairs().length!==s.length){for(let f of c.getPairs())for(let h of s)if(os.equals(f,h))break}}static isPartialRow(s,o){for(let c of o){let f=!0;for(let h of s){let m=!1;for(let y of c.getPairs())if(h.equals(y)){m=!0;break}if(!m){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=Pc.buildBitArray(s),f=Id(o).parseInformation(),h=s[0].getFinderPattern().getResultPoints(),m=s[s.length-1].getFinderPattern().getResultPoints(),y=[h[0],h[1],m[0],m[1]];return new Ge(f,null,null,y,oe.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),c=s.getRightChar();if(c==null)return!1;let f=c.getChecksumPortion(),h=2;for(let y=1;y<this.pairs.size();++y){let C=this.pairs.get(y);f+=C.getLeftChar().getChecksumPortion(),h++;let N=C.getRightChar();N!=null&&(f+=N.getChecksumPortion(),h++)}return f%=211,211*(h-4)+f==o.getValue()}static getNextSecondBar(s,o){let c;return s.get(o)?(c=s.getNextUnset(o),c=s.getNextSet(c)):(c=s.getNextSet(o),c=s.getNextUnset(c)),c}retrieveNextPair(s,o,c){let f=o.length%2==0;this.startFromEven&&(f=!f);let h,m=!0,y=-1;do this.findNextPair(s,o,y),h=this.parseFoundFinderPattern(s,c,f),h==null?y=Ne.getNextSecondBar(s,this.startEnd[0]):m=!1;while(m);let C=this.decodeDataCharacter(s,h,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new re;let N;try{N=this.decodeDataCharacter(s,h,f,!1)}catch(T){N=null,this.verbose&&console.log(T)}return new os(C,N,h,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m;c>=0?m=c:this.isEmptyPair(o)?m=0:m=o[o.length-1].getFinderPattern().getStartEnd()[1];let y=o.length%2!=0;this.startFromEven&&(y=!y);let C=!1;for(;m<h&&(C=!s.get(m),!!C);)m++;let N=0,T=m;for(let F=m;F<h;F++)if(s.get(F)!=C)f[N]++;else{if(N==3){if(y&&Ne.reverseCounters(f),Ne.isFinderPattern(f)){this.startEnd[0]=T,this.startEnd[1]=F;return}y&&Ne.reverseCounters(f),T+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,N--}else N++;f[N]=1,C=!C}throw new re}static reverseCounters(s){let o=s.length;for(let c=0;c<o/2;++c){let f=s[c];s[c]=s[o-c-1],s[o-c-1]=f}}parseFoundFinderPattern(s,o,c){let f,h,m;if(c){let N=this.startEnd[0]-1;for(;N>=0&&!s.get(N);)N--;N++,f=this.startEnd[0]-N,h=N,m=this.startEnd[1]}else h=this.startEnd[0],m=s.getNextUnset(this.startEnd[1]+1),f=m-this.startEnd[1];let y=this.getDecodeFinderCounters();I.arraycopy(y,0,y,1,y.length-1),y[0]=f;let C;try{C=this.parseFinderValue(y,Ne.FINDER_PATTERNS)}catch{return null}return new vl(C,[h,m],h,m,o)}decodeDataCharacter(s,o,c,f){let h=this.getDataCharacterCounters();for(let Jt=0;Jt<h.length;Jt++)h[Jt]=0;if(f)Ne.recordPatternInReverse(s,o.getStartEnd()[0],h);else{Ne.recordPattern(s,o.getStartEnd()[1],h);for(let Jt=0,bn=h.length-1;Jt<bn;Jt++,bn--){let ur=h[Jt];h[Jt]=h[bn],h[bn]=ur}}let m=17,y=Xe.sum(new Int32Array(h))/m,C=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(y-C)/C>.3)throw new re;let N=this.getOddCounts(),T=this.getEvenCounts(),F=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let Jt=0;Jt<h.length;Jt++){let bn=1*h[Jt]/y,ur=bn+.5;if(ur<1){if(bn<.3)throw new re;ur=1}else if(ur>8){if(bn>8.7)throw new re;ur=8}let Js=Jt/2;Jt&1?(T[Js]=ur,H[Js]=bn-ur):(N[Js]=ur,F[Js]=bn-ur)}this.adjustOddEvenCounts(m);let K=4*o.getValue()+(c?0:2)+(f?0:1)-1,z=0,$=0;for(let Jt=N.length-1;Jt>=0;Jt--){if(Ne.isNotA1left(o,c,f)){let bn=Ne.WEIGHTS[K][2*Jt];$+=N[Jt]*bn}z+=N[Jt]}let X=0;for(let Jt=T.length-1;Jt>=0;Jt--)if(Ne.isNotA1left(o,c,f)){let bn=Ne.WEIGHTS[K][2*Jt+1];X+=T[Jt]*bn}let te=$+X;if(z&1||z>13||z<4)throw new re;let pe=(13-z)/2,xe=Ne.SYMBOL_WIDEST[pe],ye=9-xe,$e=As.getRSSvalue(N,xe,!0),ht=As.getRSSvalue(T,ye,!1),_r=Ne.EVEN_TOTAL_SUBSET[pe],wn=Ne.GSUM[pe],rr=$e*_r+ht+wn;return new Na(rr,te)}static isNotA1left(s,o,c){return!(s.getValue()==0&&o&&c)}adjustOddEvenCounts(s){let o=Xe.sum(new Int32Array(this.getOddCounts())),c=Xe.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let m=!1,y=!1;c>13?y=!0:c<4&&(m=!0);let C=o+c-s,N=(o&1)==1,T=(c&1)==0;if(C==1)if(N){if(T)throw new re;h=!0}else{if(!T)throw new re;y=!0}else if(C==-1)if(N){if(T)throw new re;f=!0}else{if(!T)throw new re;m=!0}else if(C==0){if(N){if(!T)throw new re;o<c?(f=!0,y=!0):(h=!0,m=!0)}else if(T)throw new re}else throw new re;if(f){if(h)throw new re;Ne.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Ne.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new re;Ne.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Ne.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ne.SYMBOL_WIDEST=[7,5,4,3,1],Ne.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ne.GSUM=[0,348,1388,2948,3988],Ne.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ne.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ne.FINDER_PAT_A=0,Ne.FINDER_PAT_B=1,Ne.FINDER_PAT_C=2,Ne.FINDER_PAT_D=3,Ne.FINDER_PAT_E=4,Ne.FINDER_PAT_F=5,Ne.FINDER_PATTERN_SEQUENCES=[[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_C,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_C],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_E],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F]],Ne.MAX_PAIRS=11;class mp extends Na{constructor(s,o,c){super(s,o),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class hn extends er{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,c){const f=this.decodePair(o,!1,s,c);hn.addOrTally(this.possibleLeftPairs,f),o.reverse();let h=this.decodePair(o,!0,s,c);hn.addOrTally(this.possibleRightPairs,h),o.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&hn.checkChecksum(m,y))return hn.constructResult(m,y)}throw new re}static addOrTally(s,o){if(o==null)return;let c=!1;for(let f of s)if(f.getValue()===o.getValue()){f.incrementCount(),c=!0;break}c||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let c=4537077*s.getValue()+o.getValue(),f=new String(c).toString(),h=new ce;for(let N=13-f.length;N>0;N--)h.append("0");h.append(f);let m=0;for(let N=0;N<13;N++){let T=h.charAt(N).charCodeAt(0)-"0".charCodeAt(0);m+=N&1?T:3*T}m=10-m%10,m===10&&(m=0),h.append(m.toString());let y=s.getFinderPattern().getResultPoints(),C=o.getFinderPattern().getResultPoints();return new Ge(h.toString(),null,0,[y[0],y[1],C[0],C[1]],oe.RSS_14,new Date().getTime())}static checkChecksum(s,o){let c=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,c===f}decodePair(s,o,c,f){try{let h=this.findFinderPattern(s,o),m=this.parseFoundFinderPattern(s,c,o,h),y=f==null?null:f.get(B.NEED_RESULT_POINT_CALLBACK);if(y!=null){let T=(h[0]+h[1])/2;o&&(T=s.getSize()-1-T),y.foundPossibleResultPoint(new ke(T,c))}let C=this.decodeDataCharacter(s,m,!0),N=this.decodeDataCharacter(s,m,!1);return new mp(1597*C.getValue()+N.getValue(),C.getChecksumPortion()+4*N.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(s,o,c){let f=this.getDataCharacterCounters();for(let X=0;X<f.length;X++)f[X]=0;if(c)rn.recordPatternInReverse(s,o.getStartEnd()[0],f);else{rn.recordPattern(s,o.getStartEnd()[1]+1,f);for(let X=0,te=f.length-1;X<te;X++,te--){let pe=f[X];f[X]=f[te],f[te]=pe}}let h=c?16:15,m=Xe.sum(new Int32Array(f))/h,y=this.getOddCounts(),C=this.getEvenCounts(),N=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let X=0;X<f.length;X++){let te=f[X]/m,pe=Math.floor(te+.5);pe<1?pe=1:pe>8&&(pe=8);let xe=Math.floor(X/2);X&1?(C[xe]=pe,T[xe]=te-pe):(y[xe]=pe,N[xe]=te-pe)}this.adjustOddEvenCounts(c,h);let F=0,H=0;for(let X=y.length-1;X>=0;X--)H*=9,H+=y[X],F+=y[X];let K=0,z=0;for(let X=C.length-1;X>=0;X--)K*=9,K+=C[X],z+=C[X];let $=H+3*K;if(c){if(F&1||F>12||F<4)throw new re;let X=(12-F)/2,te=hn.OUTSIDE_ODD_WIDEST[X],pe=9-te,xe=As.getRSSvalue(y,te,!1),ye=As.getRSSvalue(C,pe,!0),$e=hn.OUTSIDE_EVEN_TOTAL_SUBSET[X],ht=hn.OUTSIDE_GSUM[X];return new Na(xe*$e+ye+ht,$)}else{if(z&1||z>10||z<4)throw new re;let X=(10-z)/2,te=hn.INSIDE_ODD_WIDEST[X],pe=9-te,xe=As.getRSSvalue(y,te,!0),ye=As.getRSSvalue(C,pe,!1),$e=hn.INSIDE_ODD_TOTAL_SUBSET[X],ht=hn.INSIDE_GSUM[X];return new Na(ye*$e+xe+ht,$)}}findFinderPattern(s,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=s.getSize(),h=!1,m=0;for(;m<f&&(h=!s.get(m),o!==h);)m++;let y=0,C=m;for(let N=m;N<f;N++)if(s.get(N)!==h)c[y]++;else{if(y===3){if(er.isFinderPattern(c))return[C,N];C+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,y--}else y++;c[y]=1,h=!h}throw new re}parseFoundFinderPattern(s,o,c,f){let h=s.get(f[0]),m=f[0]-1;for(;m>=0&&h!==s.get(m);)m--;m++;const y=f[0]-m,C=this.getDecodeFinderCounters(),N=new Int32Array(C.length);I.arraycopy(C,0,N,1,C.length-1),N[0]=y;const T=this.parseFinderValue(N,hn.FINDER_PATTERNS);let F=m,H=f[1];return c&&(F=s.getSize()-1-F,H=s.getSize()-1-H),new vl(T,[m,f[1]],F,H,o)}adjustOddEvenCounts(s,o){let c=Xe.sum(new Int32Array(this.getOddCounts())),f=Xe.sum(new Int32Array(this.getEvenCounts())),h=!1,m=!1,y=!1,C=!1;s?(c>12?m=!0:c<4&&(h=!0),f>12?C=!0:f<4&&(y=!0)):(c>11?m=!0:c<5&&(h=!0),f>10?C=!0:f<4&&(y=!0));let N=c+f-o,T=(c&1)===(s?1:0),F=(f&1)===1;if(N===1)if(T){if(F)throw new re;m=!0}else{if(!F)throw new re;C=!0}else if(N===-1)if(T){if(F)throw new re;h=!0}else{if(!F)throw new re;y=!0}else if(N===0){if(T){if(!F)throw new re;c<f?(h=!0,C=!0):(m=!0,y=!0)}else if(F)throw new re}else throw new re;if(h){if(m)throw new re;er.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&er.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(C)throw new re;er.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&er.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}hn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],hn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],hn.OUTSIDE_GSUM=[0,161,961,2015,2715],hn.INSIDE_GSUM=[0,336,1036,1516],hn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],hn.INSIDE_ODD_WIDEST=[2,4,6,8],hn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class zi extends rn{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const c=s?s.get(B.POSSIBLE_FORMATS):null,f=s&&s.get(B.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(oe.EAN_13)||c.includes(oe.UPC_A)||c.includes(oe.EAN_8)||c.includes(oe.UPC_E))&&this.readers.push(new Lc(s)),c.includes(oe.CODE_39)&&this.readers.push(new an(f)),c.includes(oe.CODE_128)&&this.readers.push(new Ie),c.includes(oe.ITF)&&this.readers.push(new Tt),c.includes(oe.RSS_14)&&this.readers.push(new hn),c.includes(oe.RSS_EXPANDED)&&this.readers.push(new Ne(this.verbose))):(this.readers.push(new Lc(s)),this.readers.push(new an),this.readers.push(new Lc(s)),this.readers.push(new Ie),this.readers.push(new Tt),this.readers.push(new hn),this.readers.push(new Ne(this.verbose)))}decodeRow(s,o,c){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(s,o,c)}catch{}throw new re}reset(){this.readers.forEach(s=>s.reset())}}class Rd extends Ae{constructor(s=500,o){super(new zi(o),s,o)}}class Bt{constructor(s,o,c){this.ecCodewords=s,this.ecBlocks=[o],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Mt{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Et{constructor(s,o,c,f,h,m){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=c,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=h,this.ecBlocks=m;let y=0;const C=m.getECCodewords(),N=m.getECBlocks();for(let T of N)y+=T.getCount()*(T.getDataCodewords()+C);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new R;for(let c of Et.VERSIONS)if(c.symbolSizeRows===s&&c.symbolSizeColumns===o)return c;throw new R}toString(){return""+this.versionNumber}static buildVersions(){return[new Et(1,10,10,8,8,new Bt(5,new Mt(1,3))),new Et(2,12,12,10,10,new Bt(7,new Mt(1,5))),new Et(3,14,14,12,12,new Bt(10,new Mt(1,8))),new Et(4,16,16,14,14,new Bt(12,new Mt(1,12))),new Et(5,18,18,16,16,new Bt(14,new Mt(1,18))),new Et(6,20,20,18,18,new Bt(18,new Mt(1,22))),new Et(7,22,22,20,20,new Bt(20,new Mt(1,30))),new Et(8,24,24,22,22,new Bt(24,new Mt(1,36))),new Et(9,26,26,24,24,new Bt(28,new Mt(1,44))),new Et(10,32,32,14,14,new Bt(36,new Mt(1,62))),new Et(11,36,36,16,16,new Bt(42,new Mt(1,86))),new Et(12,40,40,18,18,new Bt(48,new Mt(1,114))),new Et(13,44,44,20,20,new Bt(56,new Mt(1,144))),new Et(14,48,48,22,22,new Bt(68,new Mt(1,174))),new Et(15,52,52,24,24,new Bt(42,new Mt(2,102))),new Et(16,64,64,14,14,new Bt(56,new Mt(2,140))),new Et(17,72,72,16,16,new Bt(36,new Mt(4,92))),new Et(18,80,80,18,18,new Bt(48,new Mt(4,114))),new Et(19,88,88,20,20,new Bt(56,new Mt(4,144))),new Et(20,96,96,22,22,new Bt(68,new Mt(4,174))),new Et(21,104,104,24,24,new Bt(56,new Mt(6,136))),new Et(22,120,120,18,18,new Bt(68,new Mt(6,175))),new Et(23,132,132,20,20,new Bt(62,new Mt(8,163))),new Et(24,144,144,22,22,new Bt(62,new Mt(8,156),new Mt(2,155))),new Et(25,8,18,6,16,new Bt(7,new Mt(1,5))),new Et(26,8,32,6,14,new Bt(11,new Mt(1,10))),new Et(27,12,26,10,24,new Bt(14,new Mt(1,16))),new Et(28,12,36,10,16,new Bt(18,new Mt(1,22))),new Et(29,16,36,14,16,new Bt(24,new Mt(1,32))),new Et(30,16,48,14,22,new Bt(28,new Mt(1,49)))]}}Et.VERSIONS=Et.buildVersions();class Uc{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new R;this.version=Uc.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Te(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),c=s.getWidth();return Et.getVersionForDimensions(o,c)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,c=4,f=0;const h=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let y=!1,C=!1,N=!1,T=!1;do if(c===h&&f===0&&!y)s[o++]=this.readCorner1(h,m)&255,c-=2,f+=2,y=!0;else if(c===h-2&&f===0&&m&3&&!C)s[o++]=this.readCorner2(h,m)&255,c-=2,f+=2,C=!0;else if(c===h+4&&f===2&&!(m&7)&&!N)s[o++]=this.readCorner3(h,m)&255,c-=2,f+=2,N=!0;else if(c===h-2&&f===0&&(m&7)===4&&!T)s[o++]=this.readCorner4(h,m)&255,c-=2,f+=2,T=!0;else{do c<h&&f>=0&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,h,m)&255),c-=2,f+=2;while(c>=0&&f<m);c+=1,f+=3;do c>=0&&f<m&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,h,m)&255),c+=2,f-=2;while(c<h&&f>=0);c+=3,f+=1}while(c<h||f<m);if(o!==this.version.getTotalCodewords())throw new R;return s}readModule(s,o,c,f){return s<0&&(s+=c,o+=4-(c+4&7)),o<0&&(o+=f,s+=4-(f+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,c,f){let h=0;return this.readModule(s-2,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s-2,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o,c,f)&&(h|=1),h<<=1,this.readModule(s,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s,o,c,f)&&(h|=1),h}readCorner1(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,1,s,o)&&(c|=1),c<<=1,this.readModule(s-1,2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}readCorner2(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-4,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner3(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-3,s,o)&&(c|=1),c<<=1,this.readModule(1,o-2,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner4(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new E("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),m=o/f|0,y=c/h|0,C=m*f,N=y*h,T=new Te(N,C);for(let F=0;F<m;++F){const H=F*f;for(let K=0;K<y;++K){const z=K*h;for(let $=0;$<f;++$){const X=F*(f+2)+1+$,te=H+$;for(let pe=0;pe<h;++pe){const xe=K*(h+2)+1+pe;if(s.get(xe,X)){const ye=z+pe;T.set(ye,te)}}}}}return T}}class wl{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const c=o.getECBlocks();let f=0;const h=c.getECBlocks();for(let $ of h)f+=$.getCount();const m=new Array(f);let y=0;for(let $ of h)for(let X=0;X<$.getCount();X++){const te=$.getDataCodewords(),pe=c.getECCodewords()+te;m[y++]=new wl(te,new Uint8Array(pe))}const N=m[0].codewords.length-c.getECCodewords(),T=N-1;let F=0;for(let $=0;$<T;$++)for(let X=0;X<y;X++)m[X].codewords[$]=s[F++];const H=o.getVersionNumber()===24,K=H?8:y;for(let $=0;$<K;$++)m[$].codewords[N-1]=s[F++];const z=m[0].codewords.length;for(let $=N;$<z;$++)for(let X=0;X<y;X++){const te=H?(X+8)%y:X,pe=H&&te>7?$-1:$;m[te].codewords[pe]=s[F++]}if(F!==s.length)throw new E;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class bl{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new E(""+s);let o=0,c=this.bitOffset,f=this.byteOffset;const h=this.bytes;if(c>0){const m=8-c,y=s<m?s:m,C=m-y,N=255>>8-y<<C;o=(h[f]&N)>>C,s-=y,c+=y,c===8&&(c=0,f++)}if(s>0){for(;s>=8;)o=o<<8|h[f]&255,f++,s-=8;if(s>0){const m=8-s,y=255>>m<<m;o=o<<s|(h[f]&y)>>m,c+=s}}return this.bitOffset=c,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var In;(function(P){P[P.PAD_ENCODE=0]="PAD_ENCODE",P[P.ASCII_ENCODE=1]="ASCII_ENCODE",P[P.C40_ENCODE=2]="C40_ENCODE",P[P.TEXT_ENCODE=3]="TEXT_ENCODE",P[P.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",P[P.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",P[P.BASE256_ENCODE=6]="BASE256_ENCODE"})(In||(In={}));class js{static decode(s){const o=new bl(s),c=new ce,f=new ce,h=new Array;let m=In.ASCII_ENCODE;do if(m===In.ASCII_ENCODE)m=this.decodeAsciiSegment(o,c,f);else{switch(m){case In.C40_ENCODE:this.decodeC40Segment(o,c);break;case In.TEXT_ENCODE:this.decodeTextSegment(o,c);break;case In.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,c);break;case In.EDIFACT_ENCODE:this.decodeEdifactSegment(o,c);break;case In.BASE256_ENCODE:this.decodeBase256Segment(o,c,h);break;default:throw new R}m=In.ASCII_ENCODE}while(m!==In.PAD_ENCODE&&o.available()>0);return f.length()>0&&c.append(f.toString()),new nn(s,c.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(s,o,c){let f=!1;do{let h=s.readBits(8);if(h===0)throw new R;if(h<=128)return f&&(h+=128),o.append(String.fromCharCode(h-1)),In.ASCII_ENCODE;if(h===129)return In.PAD_ENCODE;if(h<=229){const m=h-130;m<10&&o.append("0"),o.append(""+m)}else switch(h){case 230:return In.C40_ENCODE;case 231:return In.BASE256_ENCODE;case 232:o.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),c.insert(0,"");break;case 237:o.append("[)>06"),c.insert(0,"");break;case 238:return In.ANSIX12_ENCODE;case 239:return In.TEXT_ENCODE;case 240:return In.EDIFACT_ENCODE;case 241:break;default:if(h!==254||s.available()!==0)throw new R;break}}while(s.available()>0);return In.ASCII_ENCODE}static decodeC40Segment(s,o){let c=!1;const f=[];let h=0;do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),f);for(let y=0;y<3;y++){const C=f[y];switch(h){case 0:if(C<3)h=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[C];c?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):o.append(N)}else throw new R;break;case 1:c?(o.append(String.fromCharCode(C+128)),c=!1):o.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[C];c?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:c=!0;break;default:throw new R}h=0;break;case 3:c?(o.append(String.fromCharCode(C+224)),c=!1):o.append(String.fromCharCode(C+96)),h=0;break;default:throw new R}}}while(s.available()>0)}static decodeTextSegment(s,o){let c=!1,f=[],h=0;do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),f);for(let y=0;y<3;y++){const C=f[y];switch(h){case 0:if(C<3)h=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[C];c?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):o.append(N)}else throw new R;break;case 1:c?(o.append(String.fromCharCode(C+128)),c=!1):o.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[C];c?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:c=!0;break;default:throw new R}h=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[C];c?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):o.append(N),h=0}else throw new R;break;default:throw new R}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const c=[];do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let h=0;h<3;h++){const m=c[h];switch(m){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(m<14)o.append(String.fromCharCode(m+44));else if(m<40)o.append(String.fromCharCode(m+51));else throw new R;break}}}while(s.available()>0)}static parseTwoBytes(s,o,c){let f=(s<<8)+o-1,h=Math.floor(f/1600);c[0]=h,f-=h*1600,h=Math.floor(f/40),c[1]=h,c[2]=f-h*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let c=0;c<4;c++){let f=s.readBits(6);if(f===31){const h=8-s.getBitOffset();h!==8&&s.readBits(h);return}f&32||(f|=64),o.append(String.fromCharCode(f))}}while(s.available()>0)}static decodeBase256Segment(s,o,c){let f=1+s.getByteOffset();const h=this.unrandomize255State(s.readBits(8),f++);let m;if(h===0?m=s.available()/8|0:h<250?m=h:m=250*(h-249)+this.unrandomize255State(s.readBits(8),f++),m<0)throw new R;const y=new Uint8Array(m);for(let C=0;C<m;C++){if(s.available()<8)throw new R;y[C]=this.unrandomize255State(s.readBits(8),f++)}c.push(y);try{o.append(de.decode(y,ie.ISO88591))}catch(C){throw new It("Platform does not support required encoding: "+C.message)}}static unrandomize255State(s,o){const c=149*o%255+1,f=s-c;return f>=0?f:f+256}}js.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],js.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],js.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],js.TEXT_SHIFT2_SET_CHARS=js.C40_SHIFT2_SET_CHARS,js.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class xp{constructor(){this.rsDecoder=new we(Ee.DATA_MATRIX_FIELD_256)}decode(s){const o=new Uc(s),c=o.getVersion(),f=o.readCodewords(),h=wl.getDataBlocks(f,c);let m=0;for(let N of h)m+=N.getNumDataCodewords();const y=new Uint8Array(m),C=h.length;for(let N=0;N<C;N++){const T=h[N],F=T.getCodewords(),H=T.getNumDataCodewords();this.correctErrors(F,H);for(let K=0;K<H;K++)y[K*C+N]=F[K]}return js.decode(y)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new k}for(let f=0;f<o;f++)s[f]=c[f]}}class vn{constructor(s){this.image=s,this.rectangleDetector=new Oe(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new re;o=this.shiftToModuleCenter(o);const c=o[0],f=o[1],h=o[2],m=o[3];let y=this.transitionsBetween(c,m)+1,C=this.transitionsBetween(h,m)+1;(y&1)===1&&(y+=1),(C&1)===1&&(C+=1),4*y<7*C&&4*C<7*y&&(y=C=Math.max(y,C));let N=vn.sampleGrid(this.image,c,f,h,m,y,C);return new gn(N,[c,f,h,m])}static shiftPoint(s,o,c){let f=(o.getX()-s.getX())/(c+1),h=(o.getY()-s.getY())/(c+1);return new ke(s.getX()+f,s.getY()+h)}static moveAway(s,o,c){let f=s.getX(),h=s.getY();return f<o?f-=1:f+=1,h<c?h-=1:h+=1,new ke(f,h)}detectSolid1(s){let o=s[0],c=s[1],f=s[3],h=s[2],m=this.transitionsBetween(o,c),y=this.transitionsBetween(c,f),C=this.transitionsBetween(f,h),N=this.transitionsBetween(h,o),T=m,F=[h,o,c,f];return T>y&&(T=y,F[0]=o,F[1]=c,F[2]=f,F[3]=h),T>C&&(T=C,F[0]=c,F[1]=f,F[2]=h,F[3]=o),T>N&&(F[0]=f,F[1]=h,F[2]=o,F[3]=c),F}detectSolid2(s){let o=s[0],c=s[1],f=s[2],h=s[3],m=this.transitionsBetween(o,h),y=vn.shiftPoint(c,f,(m+1)*4),C=vn.shiftPoint(f,c,(m+1)*4),N=this.transitionsBetween(y,o),T=this.transitionsBetween(C,h);return N<T?(s[0]=o,s[1]=c,s[2]=f,s[3]=h):(s[0]=c,s[1]=f,s[2]=h,s[3]=o),s}correctTopRight(s){let o=s[0],c=s[1],f=s[2],h=s[3],m=this.transitionsBetween(o,h),y=this.transitionsBetween(c,h),C=vn.shiftPoint(o,c,(y+1)*4),N=vn.shiftPoint(f,c,(m+1)*4);m=this.transitionsBetween(C,h),y=this.transitionsBetween(N,h);let T=new ke(h.getX()+(f.getX()-c.getX())/(m+1),h.getY()+(f.getY()-c.getY())/(m+1)),F=new ke(h.getX()+(o.getX()-c.getX())/(y+1),h.getY()+(o.getY()-c.getY())/(y+1));if(!this.isValid(T))return this.isValid(F)?F:null;if(!this.isValid(F))return T;let H=this.transitionsBetween(C,T)+this.transitionsBetween(N,T),K=this.transitionsBetween(C,F)+this.transitionsBetween(N,F);return H>K?T:F}shiftToModuleCenter(s){let o=s[0],c=s[1],f=s[2],h=s[3],m=this.transitionsBetween(o,h)+1,y=this.transitionsBetween(f,h)+1,C=vn.shiftPoint(o,c,y*4),N=vn.shiftPoint(f,c,m*4);m=this.transitionsBetween(C,h)+1,y=this.transitionsBetween(N,h)+1,(m&1)===1&&(m+=1),(y&1)===1&&(y+=1);let T=(o.getX()+c.getX()+f.getX()+h.getX())/4,F=(o.getY()+c.getY()+f.getY()+h.getY())/4;o=vn.moveAway(o,T,F),c=vn.moveAway(c,T,F),f=vn.moveAway(f,T,F),h=vn.moveAway(h,T,F);let H,K;return C=vn.shiftPoint(o,c,y*4),C=vn.shiftPoint(C,h,m*4),H=vn.shiftPoint(c,o,y*4),H=vn.shiftPoint(H,f,m*4),N=vn.shiftPoint(f,h,y*4),N=vn.shiftPoint(N,c,m*4),K=vn.shiftPoint(h,f,y*4),K=vn.shiftPoint(K,o,m*4),[C,H,N,K]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,c,f,h,m,y){return Xt.getInstance().sampleGrid(s,m,y,.5,.5,m-.5,.5,m-.5,y-.5,.5,y-.5,o.getX(),o.getY(),h.getX(),h.getY(),f.getX(),f.getY(),c.getX(),c.getY())}transitionsBetween(s,o){let c=Math.trunc(s.getX()),f=Math.trunc(s.getY()),h=Math.trunc(o.getX()),m=Math.trunc(o.getY()),y=Math.abs(m-f)>Math.abs(h-c);if(y){let $=c;c=f,f=$,$=h,h=m,m=$}let C=Math.abs(h-c),N=Math.abs(m-f),T=-C/2,F=f<m?1:-1,H=c<h?1:-1,K=0,z=this.image.get(y?f:c,y?c:f);for(let $=c,X=f;$!==h;$+=H){let te=this.image.get(y?X:$,y?$:X);if(te!==z&&(K++,z=te),T+=N,T>0){if(X===m)break;X+=F,T-=C}}return K}}class ls{constructor(){this.decoder=new xp}decode(s,o=null){let c,f;if(o!=null&&o.has(B.PURE_BARCODE)){const N=ls.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(N),f=ls.NO_POINTS}else{const N=new vn(s.getBlackMatrix()).detect();c=this.decoder.decode(N.getBits()),f=N.getPoints()}const h=c.getRawBytes(),m=new Ge(c.getText(),h,8*h.length,f,oe.DATA_MATRIX,I.currentTimeMillis()),y=c.getByteSegments();y!=null&&m.putMetadata(it.BYTE_SEGMENTS,y);const C=c.getECLevel();return C!=null&&m.putMetadata(it.ERROR_CORRECTION_LEVEL,C),m}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o==null||c==null)throw new re;const f=this.moduleSize(o,s);let h=o[1];const m=c[1];let y=o[0];const N=(c[0]-y+1)/f,T=(m-h+1)/f;if(N<=0||T<=0)throw new re;const F=f/2;h+=F,y+=F;const H=new Te(N,T);for(let K=0;K<T;K++){const z=h+K*f;for(let $=0;$<N;$++)s.get(y+$*f,z)&&H.set($,K)}return H}static moduleSize(s,o){const c=o.getWidth();let f=s[0];const h=s[1];for(;f<c&&o.get(f,h);)f++;if(f===c)throw new re;const m=f-s[0];if(m===0)throw new re;return m}}ls.NO_POINTS=[];class Od extends Ae{constructor(s=500){super(new ls,s)}}var Aa;(function(P){P[P.L=0]="L",P[P.M=1]="M",P[P.Q=2]="Q",P[P.H=3]="H"})(Aa||(Aa={}));class Kt{constructor(s,o,c){this.value=s,this.stringValue=o,this.bits=c,Kt.FOR_BITS.set(c,this),Kt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Kt.L;case"M":return Kt.M;case"Q":return Kt.Q;case"H":return Kt.H;default:throw new w(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Kt))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=Kt.FOR_BITS.size)throw new E;return Kt.FOR_BITS.get(s)}}Kt.FOR_BITS=new Map,Kt.FOR_VALUE=new Map,Kt.L=new Kt(Aa.L,"L",1),Kt.M=new Kt(Aa.M,"M",0),Kt.Q=new Kt(Aa.Q,"Q",3),Kt.H=new Kt(Aa.H,"H",2);class tr{constructor(s){this.errorCorrectionLevel=Kt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return O.bitCount(s^o)}static decodeFormatInformation(s,o){const c=tr.doDecodeFormatInformation(s,o);return c!==null?c:tr.doDecodeFormatInformation(s^tr.FORMAT_INFO_MASK_QR,o^tr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let c=Number.MAX_SAFE_INTEGER,f=0;for(const h of tr.FORMAT_INFO_DECODE_LOOKUP){const m=h[0];if(m===s||m===o)return new tr(h[1]);let y=tr.numBitsDiffering(s,m);y<c&&(f=h[1],c=y),s!==o&&(y=tr.numBitsDiffering(o,m),y<c&&(f=h[1],c=y))}return c<=3?new tr(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof tr))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}tr.FORMAT_INFO_MASK_QR=21522,tr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class le{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const c of o)s+=c.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Q{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ze{constructor(s,o,...c){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=c;let f=0;const h=c[0].getECCodewordsPerBlock(),m=c[0].getECBlocks();for(const y of m)f+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new R;try{return this.getVersionForNumber((s-17)/4)}catch{throw new R}}static getVersionForNumber(s){if(s<1||s>40)throw new E;return Ze.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,c=0;for(let f=0;f<Ze.VERSION_DECODE_INFO.length;f++){const h=Ze.VERSION_DECODE_INFO[f];if(h===s)return Ze.getVersionForNumber(f+7);const m=tr.numBitsDiffering(s,h);m<o&&(c=f+7,o=m)}return o<=3?Ze.getVersionForNumber(c):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new Te(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const c=this.alignmentPatternCenters.length;for(let f=0;f<c;f++){const h=this.alignmentPatternCenters[f]-2;for(let m=0;m<c;m++)f===0&&(m===0||m===c-1)||f===c-1&&m===0||o.setRegion(this.alignmentPatternCenters[m]-2,h,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}Ze.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ze.VERSIONS=[new Ze(1,new Int32Array(0),new le(7,new Q(1,19)),new le(10,new Q(1,16)),new le(13,new Q(1,13)),new le(17,new Q(1,9))),new Ze(2,Int32Array.from([6,18]),new le(10,new Q(1,34)),new le(16,new Q(1,28)),new le(22,new Q(1,22)),new le(28,new Q(1,16))),new Ze(3,Int32Array.from([6,22]),new le(15,new Q(1,55)),new le(26,new Q(1,44)),new le(18,new Q(2,17)),new le(22,new Q(2,13))),new Ze(4,Int32Array.from([6,26]),new le(20,new Q(1,80)),new le(18,new Q(2,32)),new le(26,new Q(2,24)),new le(16,new Q(4,9))),new Ze(5,Int32Array.from([6,30]),new le(26,new Q(1,108)),new le(24,new Q(2,43)),new le(18,new Q(2,15),new Q(2,16)),new le(22,new Q(2,11),new Q(2,12))),new Ze(6,Int32Array.from([6,34]),new le(18,new Q(2,68)),new le(16,new Q(4,27)),new le(24,new Q(4,19)),new le(28,new Q(4,15))),new Ze(7,Int32Array.from([6,22,38]),new le(20,new Q(2,78)),new le(18,new Q(4,31)),new le(18,new Q(2,14),new Q(4,15)),new le(26,new Q(4,13),new Q(1,14))),new Ze(8,Int32Array.from([6,24,42]),new le(24,new Q(2,97)),new le(22,new Q(2,38),new Q(2,39)),new le(22,new Q(4,18),new Q(2,19)),new le(26,new Q(4,14),new Q(2,15))),new Ze(9,Int32Array.from([6,26,46]),new le(30,new Q(2,116)),new le(22,new Q(3,36),new Q(2,37)),new le(20,new Q(4,16),new Q(4,17)),new le(24,new Q(4,12),new Q(4,13))),new Ze(10,Int32Array.from([6,28,50]),new le(18,new Q(2,68),new Q(2,69)),new le(26,new Q(4,43),new Q(1,44)),new le(24,new Q(6,19),new Q(2,20)),new le(28,new Q(6,15),new Q(2,16))),new Ze(11,Int32Array.from([6,30,54]),new le(20,new Q(4,81)),new le(30,new Q(1,50),new Q(4,51)),new le(28,new Q(4,22),new Q(4,23)),new le(24,new Q(3,12),new Q(8,13))),new Ze(12,Int32Array.from([6,32,58]),new le(24,new Q(2,92),new Q(2,93)),new le(22,new Q(6,36),new Q(2,37)),new le(26,new Q(4,20),new Q(6,21)),new le(28,new Q(7,14),new Q(4,15))),new Ze(13,Int32Array.from([6,34,62]),new le(26,new Q(4,107)),new le(22,new Q(8,37),new Q(1,38)),new le(24,new Q(8,20),new Q(4,21)),new le(22,new Q(12,11),new Q(4,12))),new Ze(14,Int32Array.from([6,26,46,66]),new le(30,new Q(3,115),new Q(1,116)),new le(24,new Q(4,40),new Q(5,41)),new le(20,new Q(11,16),new Q(5,17)),new le(24,new Q(11,12),new Q(5,13))),new Ze(15,Int32Array.from([6,26,48,70]),new le(22,new Q(5,87),new Q(1,88)),new le(24,new Q(5,41),new Q(5,42)),new le(30,new Q(5,24),new Q(7,25)),new le(24,new Q(11,12),new Q(7,13))),new Ze(16,Int32Array.from([6,26,50,74]),new le(24,new Q(5,98),new Q(1,99)),new le(28,new Q(7,45),new Q(3,46)),new le(24,new Q(15,19),new Q(2,20)),new le(30,new Q(3,15),new Q(13,16))),new Ze(17,Int32Array.from([6,30,54,78]),new le(28,new Q(1,107),new Q(5,108)),new le(28,new Q(10,46),new Q(1,47)),new le(28,new Q(1,22),new Q(15,23)),new le(28,new Q(2,14),new Q(17,15))),new Ze(18,Int32Array.from([6,30,56,82]),new le(30,new Q(5,120),new Q(1,121)),new le(26,new Q(9,43),new Q(4,44)),new le(28,new Q(17,22),new Q(1,23)),new le(28,new Q(2,14),new Q(19,15))),new Ze(19,Int32Array.from([6,30,58,86]),new le(28,new Q(3,113),new Q(4,114)),new le(26,new Q(3,44),new Q(11,45)),new le(26,new Q(17,21),new Q(4,22)),new le(26,new Q(9,13),new Q(16,14))),new Ze(20,Int32Array.from([6,34,62,90]),new le(28,new Q(3,107),new Q(5,108)),new le(26,new Q(3,41),new Q(13,42)),new le(30,new Q(15,24),new Q(5,25)),new le(28,new Q(15,15),new Q(10,16))),new Ze(21,Int32Array.from([6,28,50,72,94]),new le(28,new Q(4,116),new Q(4,117)),new le(26,new Q(17,42)),new le(28,new Q(17,22),new Q(6,23)),new le(30,new Q(19,16),new Q(6,17))),new Ze(22,Int32Array.from([6,26,50,74,98]),new le(28,new Q(2,111),new Q(7,112)),new le(28,new Q(17,46)),new le(30,new Q(7,24),new Q(16,25)),new le(24,new Q(34,13))),new Ze(23,Int32Array.from([6,30,54,78,102]),new le(30,new Q(4,121),new Q(5,122)),new le(28,new Q(4,47),new Q(14,48)),new le(30,new Q(11,24),new Q(14,25)),new le(30,new Q(16,15),new Q(14,16))),new Ze(24,Int32Array.from([6,28,54,80,106]),new le(30,new Q(6,117),new Q(4,118)),new le(28,new Q(6,45),new Q(14,46)),new le(30,new Q(11,24),new Q(16,25)),new le(30,new Q(30,16),new Q(2,17))),new Ze(25,Int32Array.from([6,32,58,84,110]),new le(26,new Q(8,106),new Q(4,107)),new le(28,new Q(8,47),new Q(13,48)),new le(30,new Q(7,24),new Q(22,25)),new le(30,new Q(22,15),new Q(13,16))),new Ze(26,Int32Array.from([6,30,58,86,114]),new le(28,new Q(10,114),new Q(2,115)),new le(28,new Q(19,46),new Q(4,47)),new le(28,new Q(28,22),new Q(6,23)),new le(30,new Q(33,16),new Q(4,17))),new Ze(27,Int32Array.from([6,34,62,90,118]),new le(30,new Q(8,122),new Q(4,123)),new le(28,new Q(22,45),new Q(3,46)),new le(30,new Q(8,23),new Q(26,24)),new le(30,new Q(12,15),new Q(28,16))),new Ze(28,Int32Array.from([6,26,50,74,98,122]),new le(30,new Q(3,117),new Q(10,118)),new le(28,new Q(3,45),new Q(23,46)),new le(30,new Q(4,24),new Q(31,25)),new le(30,new Q(11,15),new Q(31,16))),new Ze(29,Int32Array.from([6,30,54,78,102,126]),new le(30,new Q(7,116),new Q(7,117)),new le(28,new Q(21,45),new Q(7,46)),new le(30,new Q(1,23),new Q(37,24)),new le(30,new Q(19,15),new Q(26,16))),new Ze(30,Int32Array.from([6,26,52,78,104,130]),new le(30,new Q(5,115),new Q(10,116)),new le(28,new Q(19,47),new Q(10,48)),new le(30,new Q(15,24),new Q(25,25)),new le(30,new Q(23,15),new Q(25,16))),new Ze(31,Int32Array.from([6,30,56,82,108,134]),new le(30,new Q(13,115),new Q(3,116)),new le(28,new Q(2,46),new Q(29,47)),new le(30,new Q(42,24),new Q(1,25)),new le(30,new Q(23,15),new Q(28,16))),new Ze(32,Int32Array.from([6,34,60,86,112,138]),new le(30,new Q(17,115)),new le(28,new Q(10,46),new Q(23,47)),new le(30,new Q(10,24),new Q(35,25)),new le(30,new Q(19,15),new Q(35,16))),new Ze(33,Int32Array.from([6,30,58,86,114,142]),new le(30,new Q(17,115),new Q(1,116)),new le(28,new Q(14,46),new Q(21,47)),new le(30,new Q(29,24),new Q(19,25)),new le(30,new Q(11,15),new Q(46,16))),new Ze(34,Int32Array.from([6,34,62,90,118,146]),new le(30,new Q(13,115),new Q(6,116)),new le(28,new Q(14,46),new Q(23,47)),new le(30,new Q(44,24),new Q(7,25)),new le(30,new Q(59,16),new Q(1,17))),new Ze(35,Int32Array.from([6,30,54,78,102,126,150]),new le(30,new Q(12,121),new Q(7,122)),new le(28,new Q(12,47),new Q(26,48)),new le(30,new Q(39,24),new Q(14,25)),new le(30,new Q(22,15),new Q(41,16))),new Ze(36,Int32Array.from([6,24,50,76,102,128,154]),new le(30,new Q(6,121),new Q(14,122)),new le(28,new Q(6,47),new Q(34,48)),new le(30,new Q(46,24),new Q(10,25)),new le(30,new Q(2,15),new Q(64,16))),new Ze(37,Int32Array.from([6,28,54,80,106,132,158]),new le(30,new Q(17,122),new Q(4,123)),new le(28,new Q(29,46),new Q(14,47)),new le(30,new Q(49,24),new Q(10,25)),new le(30,new Q(24,15),new Q(46,16))),new Ze(38,Int32Array.from([6,32,58,84,110,136,162]),new le(30,new Q(4,122),new Q(18,123)),new le(28,new Q(13,46),new Q(32,47)),new le(30,new Q(48,24),new Q(14,25)),new le(30,new Q(42,15),new Q(32,16))),new Ze(39,Int32Array.from([6,26,54,82,110,138,166]),new le(30,new Q(20,117),new Q(4,118)),new le(28,new Q(40,47),new Q(7,48)),new le(30,new Q(43,24),new Q(22,25)),new le(30,new Q(10,15),new Q(67,16))),new Ze(40,Int32Array.from([6,30,58,86,114,142,170]),new le(30,new Q(19,118),new Q(6,119)),new le(28,new Q(18,47),new Q(31,48)),new le(30,new Q(34,24),new Q(34,25)),new le(30,new Q(20,15),new Q(61,16)))];var Rn;(function(P){P[P.DATA_MASK_000=0]="DATA_MASK_000",P[P.DATA_MASK_001=1]="DATA_MASK_001",P[P.DATA_MASK_010=2]="DATA_MASK_010",P[P.DATA_MASK_011=3]="DATA_MASK_011",P[P.DATA_MASK_100=4]="DATA_MASK_100",P[P.DATA_MASK_101=5]="DATA_MASK_101",P[P.DATA_MASK_110=6]="DATA_MASK_110",P[P.DATA_MASK_111=7]="DATA_MASK_111"})(Rn||(Rn={}));class Er{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let c=0;c<o;c++)for(let f=0;f<o;f++)this.isMasked(c,f)&&s.flip(f,c)}}Er.values=new Map([[Rn.DATA_MASK_000,new Er(Rn.DATA_MASK_000,(P,s)=>(P+s&1)===0)],[Rn.DATA_MASK_001,new Er(Rn.DATA_MASK_001,(P,s)=>(P&1)===0)],[Rn.DATA_MASK_010,new Er(Rn.DATA_MASK_010,(P,s)=>s%3===0)],[Rn.DATA_MASK_011,new Er(Rn.DATA_MASK_011,(P,s)=>(P+s)%3===0)],[Rn.DATA_MASK_100,new Er(Rn.DATA_MASK_100,(P,s)=>(Math.floor(P/2)+Math.floor(s/3)&1)===0)],[Rn.DATA_MASK_101,new Er(Rn.DATA_MASK_101,(P,s)=>P*s%6===0)],[Rn.DATA_MASK_110,new Er(Rn.DATA_MASK_110,(P,s)=>P*s%6<3)],[Rn.DATA_MASK_111,new Er(Rn.DATA_MASK_111,(P,s)=>(P+s+P*s%3&1)===0)]]);class ka{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new R;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let h=0;h<6;h++)s=this.copyBit(h,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let h=5;h>=0;h--)s=this.copyBit(8,h,s);const o=this.bitMatrix.getHeight();let c=0;const f=o-7;for(let h=o-1;h>=f;h--)c=this.copyBit(8,h,c);for(let h=o-8;h<o;h++)c=this.copyBit(h,8,c);if(this.parsedFormatInfo=tr.decodeFormatInformation(s,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new R}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return Ze.getVersionForNumber(o);let c=0;const f=s-11;for(let m=5;m>=0;m--)for(let y=s-9;y>=f;y--)c=this.copyBit(y,m,c);let h=Ze.decodeVersionInformation(c);if(h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;c=0;for(let m=5;m>=0;m--)for(let y=s-9;y>=f;y--)c=this.copyBit(m,y,c);if(h=Ze.decodeVersionInformation(c),h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;throw new R}copyBit(s,o,c){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?c<<1|1:c<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),c=Er.values.get(s.getDataMask()),f=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,f);const h=o.buildFunctionPattern();let m=!0;const y=new Uint8Array(o.getTotalCodewords());let C=0,N=0,T=0;for(let F=f-1;F>0;F-=2){F===6&&F--;for(let H=0;H<f;H++){const K=m?f-1-H:H;for(let z=0;z<2;z++)h.get(F-z,K)||(T++,N<<=1,this.bitMatrix.get(F-z,K)&&(N|=1),T===8&&(y[C++]=N,T=0,N=0))}m=!m}if(C!==o.getTotalCodewords())throw new R;return y}remask(){if(this.parsedFormatInfo===null)return;const s=Er.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,c=s.getWidth();o<c;o++)for(let f=o+1,h=s.getHeight();f<h;f++)s.get(o,f)!==s.get(f,o)&&(s.flip(f,o),s.flip(o,f))}}class Cl{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,c){if(s.length!==o.getTotalCodewords())throw new E;const f=o.getECBlocksForLevel(c);let h=0;const m=f.getECBlocks();for(const z of m)h+=z.getCount();const y=new Array(h);let C=0;for(const z of m)for(let $=0;$<z.getCount();$++){const X=z.getDataCodewords(),te=f.getECCodewordsPerBlock()+X;y[C++]=new Cl(X,new Uint8Array(te))}const N=y[0].codewords.length;let T=y.length-1;for(;T>=0&&y[T].codewords.length!==N;)T--;T++;const F=N-f.getECCodewordsPerBlock();let H=0;for(let z=0;z<F;z++)for(let $=0;$<C;$++)y[$].codewords[z]=s[H++];for(let z=T;z<C;z++)y[z].codewords[F]=s[H++];const K=y[0].codewords.length;for(let z=F;z<K;z++)for(let $=0;$<C;$++){const X=$<T?z:z+1;y[$].codewords[X]=s[H++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Or;(function(P){P[P.TERMINATOR=0]="TERMINATOR",P[P.NUMERIC=1]="NUMERIC",P[P.ALPHANUMERIC=2]="ALPHANUMERIC",P[P.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",P[P.BYTE=4]="BYTE",P[P.ECI=5]="ECI",P[P.KANJI=6]="KANJI",P[P.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",P[P.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",P[P.HANZI=9]="HANZI"})(Or||(Or={}));class nt{constructor(s,o,c,f){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=c,this.bits=f,nt.FOR_BITS.set(f,this),nt.FOR_VALUE.set(s,this)}static forBits(s){const o=nt.FOR_BITS.get(s);if(o===void 0)throw new E;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let c;return o<=9?c=0:o<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof nt))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}nt.FOR_BITS=new Map,nt.FOR_VALUE=new Map,nt.TERMINATOR=new nt(Or.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),nt.NUMERIC=new nt(Or.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),nt.ALPHANUMERIC=new nt(Or.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),nt.STRUCTURED_APPEND=new nt(Or.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),nt.BYTE=new nt(Or.BYTE,"BYTE",Int32Array.from([8,16,16]),4),nt.ECI=new nt(Or.ECI,"ECI",Int32Array.from([0,0,0]),7),nt.KANJI=new nt(Or.KANJI,"KANJI",Int32Array.from([8,10,12]),8),nt.FNC1_FIRST_POSITION=new nt(Or.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),nt.FNC1_SECOND_POSITION=new nt(Or.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),nt.HANZI=new nt(Or.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class cn{static decode(s,o,c,f){const h=new bl(s);let m=new ce;const y=new Array;let C=-1,N=-1;try{let T=null,F=!1,H;do{if(h.available()<4)H=nt.TERMINATOR;else{const K=h.readBits(4);H=nt.forBits(K)}switch(H){case nt.TERMINATOR:break;case nt.FNC1_FIRST_POSITION:case nt.FNC1_SECOND_POSITION:F=!0;break;case nt.STRUCTURED_APPEND:if(h.available()<16)throw new R;C=h.readBits(8),N=h.readBits(8);break;case nt.ECI:const K=cn.parseECIValue(h);if(T=Y.getCharacterSetECIByValue(K),T===null)throw new R;break;case nt.HANZI:const z=h.readBits(4),$=h.readBits(H.getCharacterCountBits(o));z===cn.GB2312_SUBSET&&cn.decodeHanziSegment(h,m,$);break;default:const X=h.readBits(H.getCharacterCountBits(o));switch(H){case nt.NUMERIC:cn.decodeNumericSegment(h,m,X);break;case nt.ALPHANUMERIC:cn.decodeAlphanumericSegment(h,m,X,F);break;case nt.BYTE:cn.decodeByteSegment(h,m,X,T,y,f);break;case nt.KANJI:cn.decodeKanjiSegment(h,m,X);break;default:throw new R}break}}while(H!==nt.TERMINATOR)}catch{throw new R}return new nn(s,m.toString(),y.length===0?null:y,c===null?null:c.toString(),C,N)}static decodeHanziSegment(s,o,c){if(c*13>s.available())throw new R;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const m=s.readBits(13);let y=m/96<<8&4294967295|m%96;y<959?y+=41377:y+=42657,f[h]=y>>8&255,f[h+1]=y&255,h+=2,c--}try{o.append(de.decode(f,ie.GB2312))}catch(m){throw new R(m)}}static decodeKanjiSegment(s,o,c){if(c*13>s.available())throw new R;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const m=s.readBits(13);let y=m/192<<8&4294967295|m%192;y<7936?y+=33088:y+=49472,f[h]=y>>8,f[h+1]=y,h+=2,c--}try{o.append(de.decode(f,ie.SHIFT_JIS))}catch(m){throw new R(m)}}static decodeByteSegment(s,o,c,f,h,m){if(8*c>s.available())throw new R;const y=new Uint8Array(c);for(let N=0;N<c;N++)y[N]=s.readBits(8);let C;f===null?C=ie.guessEncoding(y,m):C=f.getName();try{o.append(de.decode(y,C))}catch(N){throw new R(N)}h.push(y)}static toAlphaNumericChar(s){if(s>=cn.ALPHANUMERIC_CHARS.length)throw new R;return cn.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,c,f){const h=o.length();for(;c>1;){if(s.available()<11)throw new R;const m=s.readBits(11);o.append(cn.toAlphaNumericChar(Math.floor(m/45))),o.append(cn.toAlphaNumericChar(m%45)),c-=2}if(c===1){if(s.available()<6)throw new R;o.append(cn.toAlphaNumericChar(s.readBits(6)))}if(f)for(let m=h;m<o.length();m++)o.charAt(m)==="%"&&(m<o.length()-1&&o.charAt(m+1)==="%"?o.deleteCharAt(m+1):o.setCharAt(m,String.fromCharCode(29)))}static decodeNumericSegment(s,o,c){for(;c>=3;){if(s.available()<10)throw new R;const f=s.readBits(10);if(f>=1e3)throw new R;o.append(cn.toAlphaNumericChar(Math.floor(f/100))),o.append(cn.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(cn.toAlphaNumericChar(f%10)),c-=3}if(c===2){if(s.available()<7)throw new R;const f=s.readBits(7);if(f>=100)throw new R;o.append(cn.toAlphaNumericChar(Math.floor(f/10))),o.append(cn.toAlphaNumericChar(f%10))}else if(c===1){if(s.available()<4)throw new R;const f=s.readBits(4);if(f>=10)throw new R;o.append(cn.toAlphaNumericChar(f))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const c=s.readBits(8);return(o&63)<<8&4294967295|c}if((o&224)===192){const c=s.readBits(16);return(o&31)<<16&4294967295|c}throw new R}}cn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",cn.GB2312_SUBSET=1;class zc{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class Md{constructor(){this.rsDecoder=new we(Ee.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(Te.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const c=new ka(s);let f=null;try{return this.decodeBitMatrixParser(c,o)}catch(h){f=h}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const h=this.decodeBitMatrixParser(c,o);return h.setOther(new zc(!0)),h}catch(h){throw f!==null?f:h}}decodeBitMatrixParser(s,o){const c=s.readVersion(),f=s.readFormatInformation().getErrorCorrectionLevel(),h=s.readCodewords(),m=Cl.getDataBlocks(h,c,f);let y=0;for(const T of m)y+=T.getNumDataCodewords();const C=new Uint8Array(y);let N=0;for(const T of m){const F=T.getCodewords(),H=T.getNumDataCodewords();this.correctErrors(F,H);for(let K=0;K<H;K++)C[N++]=F[K]}return cn.decode(C,c,f,o)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new k}for(let f=0;f<o;f++)s[f]=c[f]}}class El extends ke{constructor(s,o,c){super(s,o),this.estimatedModuleSize=c}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=(this.getX()+o)/2,h=(this.getY()+s)/2,m=(this.estimatedModuleSize+c)/2;return new El(f,h,m)}}class Nl{constructor(s,o,c,f,h,m,y){this.image=s,this.startX=o,this.startY=c,this.width=f,this.height=h,this.moduleSize=m,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,c=this.width,f=s+c,h=this.startY+o/2,m=new Int32Array(3),y=this.image;for(let C=0;C<o;C++){const N=h+(C&1?-Math.floor((C+1)/2):Math.floor((C+1)/2));m[0]=0,m[1]=0,m[2]=0;let T=s;for(;T<f&&!y.get(T,N);)T++;let F=0;for(;T<f;){if(y.get(T,N))if(F===1)m[1]++;else if(F===2){if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,N,T);if(H!==null)return H}m[0]=m[2],m[1]=1,m[2]=0,F=1}else m[++F]++;else F===1&&F++,m[F]++;T++}if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,N,f);if(H!==null)return H}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,c=o/2;for(let f=0;f<3;f++)if(Math.abs(o-s[f])>=c)return!1;return!0}crossCheckVertical(s,o,c,f){const h=this.image,m=h.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let C=s;for(;C>=0&&h.get(o,C)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&!h.get(o,C)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<m&&h.get(o,C)&&y[1]<=c;)y[1]++,C++;if(C===m||y[1]>c)return NaN;for(;C<m&&!h.get(o,C)&&y[2]<=c;)y[2]++,C++;if(y[2]>c)return NaN;const N=y[0]+y[1]+y[2];return 5*Math.abs(N-f)>=2*f?NaN:this.foundPatternCross(y)?Nl.centerFromEnd(y,C):NaN}handlePossibleCenter(s,o,c){const f=s[0]+s[1]+s[2],h=Nl.centerFromEnd(s,c),m=this.crossCheckVertical(o,h,2*s[1],f);if(!isNaN(m)){const y=(s[0]+s[1]+s[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(y,m,h))return N.combineEstimate(m,h,y);const C=new El(h,m,y);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class Wc extends ke{constructor(s,o,c,f){super(s,o),this.estimatedModuleSize=c,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=this.count+1,h=(this.count*this.getX()+o)/f,m=(this.count*this.getY()+s)/f,y=(this.count*this.estimatedModuleSize+c)/f;return new Wc(h,m,y,f)}}class gp{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Un{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(B.TRY_HARDER)!==void 0,c=s!=null&&s.get(B.PURE_BARCODE)!==void 0,f=this.image,h=f.getHeight(),m=f.getWidth();let y=Math.floor(3*h/(4*Un.MAX_MODULES));(y<Un.MIN_SKIP||o)&&(y=Un.MIN_SKIP);let C=!1;const N=new Int32Array(5);for(let F=y-1;F<h&&!C;F+=y){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let H=0;for(let K=0;K<m;K++)if(f.get(K,F))(H&1)===1&&H++,N[H]++;else if(H&1)N[H]++;else if(H===4)if(Un.foundPatternCross(N)){if(this.handlePossibleCenter(N,F,K,c)===!0)if(y=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const $=this.findRowSkip();$>N[2]&&(F+=$-N[2]-y,K=m-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,H=3;continue}H=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,H=3;else N[++H]++;Un.foundPatternCross(N)&&this.handlePossibleCenter(N,F,m,c)===!0&&(y=N[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return ke.orderBestPatterns(T),new gp(T)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let h=0;h<5;h++){const m=s[h];if(m===0)return!1;o+=m}if(o<7)return!1;const c=o/7,f=c/2;return Math.abs(c-s[0])<f&&Math.abs(c-s[1])<f&&Math.abs(3*c-s[2])<3*f&&Math.abs(c-s[3])<f&&Math.abs(c-s[4])<f}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,c,f){const h=this.getCrossCheckStateCount();let m=0;const y=this.image;for(;s>=m&&o>=m&&y.get(o-m,s-m);)h[2]++,m++;if(s<m||o<m)return!1;for(;s>=m&&o>=m&&!y.get(o-m,s-m)&&h[1]<=c;)h[1]++,m++;if(s<m||o<m||h[1]>c)return!1;for(;s>=m&&o>=m&&y.get(o-m,s-m)&&h[0]<=c;)h[0]++,m++;if(h[0]>c)return!1;const C=y.getHeight(),N=y.getWidth();for(m=1;s+m<C&&o+m<N&&y.get(o+m,s+m);)h[2]++,m++;if(s+m>=C||o+m>=N)return!1;for(;s+m<C&&o+m<N&&!y.get(o+m,s+m)&&h[3]<c;)h[3]++,m++;if(s+m>=C||o+m>=N||h[3]>=c)return!1;for(;s+m<C&&o+m<N&&y.get(o+m,s+m)&&h[4]<c;)h[4]++,m++;if(h[4]>=c)return!1;const T=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(T-f)<2*f&&Un.foundPatternCross(h)}crossCheckVertical(s,o,c,f){const h=this.image,m=h.getHeight(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&h.get(o,C);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(o,C)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&h.get(o,C)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<m&&h.get(o,C);)y[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(o,C)&&y[3]<c;)y[3]++,C++;if(C===m||y[3]>=c)return NaN;for(;C<m&&h.get(o,C)&&y[4]<c;)y[4]++,C++;if(y[4]>=c)return NaN;const N=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(N-f)>=2*f?NaN:Un.foundPatternCross(y)?Un.centerFromEnd(y,C):NaN}crossCheckHorizontal(s,o,c,f){const h=this.image,m=h.getWidth(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&h.get(C,o);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(C,o)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&h.get(C,o)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<m&&h.get(C,o);)y[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(C,o)&&y[3]<c;)y[3]++,C++;if(C===m||y[3]>=c)return NaN;for(;C<m&&h.get(C,o)&&y[4]<c;)y[4]++,C++;if(y[4]>=c)return NaN;const N=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(N-f)>=f?NaN:Un.foundPatternCross(y)?Un.centerFromEnd(y,C):NaN}handlePossibleCenter(s,o,c,f){const h=s[0]+s[1]+s[2]+s[3]+s[4];let m=Un.centerFromEnd(s,c),y=this.crossCheckVertical(o,Math.floor(m),s[2],h);if(!isNaN(y)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(y),s[2],h),!isNaN(m)&&(!f||this.crossCheckDiagonal(Math.floor(y),Math.floor(m),s[2],h)))){const C=h/7;let N=!1;const T=this.possibleCenters;for(let F=0,H=T.length;F<H;F++){const K=T[F];if(K.aboutEquals(C,y,m)){T[F]=K.combineEstimate(y,m,C),N=!0;break}}if(!N){const F=new Wc(m,y,C);T.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const c of this.possibleCenters)if(c.getCount()>=Un.CENTER_QUORUM)if(o==null)o=c;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-c.getX())-Math.abs(o.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const c=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=Un.CENTER_QUORUM&&(s++,o+=m.getEstimatedModuleSize());if(s<3)return!1;const f=o/c;let h=0;for(const m of this.possibleCenters)h+=Math.abs(m.getEstimatedModuleSize()-f);return h<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new re;const o=this.possibleCenters;let c;if(s>3){let f=0,h=0;for(const C of this.possibleCenters){const N=C.getEstimatedModuleSize();f+=N,h+=N*N}c=f/s;let m=Math.sqrt(h/s-c*c);o.sort((C,N)=>{const T=Math.abs(N.getEstimatedModuleSize()-c),F=Math.abs(C.getEstimatedModuleSize()-c);return T<F?-1:T>F?1:0});const y=Math.max(.2*c,m);for(let C=0;C<o.length&&o.length>3;C++){const N=o[C];Math.abs(N.getEstimatedModuleSize()-c)>y&&(o.splice(C,1),C--)}}if(o.length>3){let f=0;for(const h of o)f+=h.getEstimatedModuleSize();c=f/o.length,o.sort((h,m)=>{if(m.getCount()===h.getCount()){const y=Math.abs(m.getEstimatedModuleSize()-c),C=Math.abs(h.getEstimatedModuleSize()-c);return y<C?1:y>C?-1:0}else return m.getCount()-h.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Un.CENTER_QUORUM=2,Un.MIN_SKIP=3,Un.MAX_MODULES=57;class No{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(B.NEED_RESULT_POINT_CALLBACK);const c=new Un(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(c)}processFinderPatternInfo(s){const o=s.getTopLeft(),c=s.getTopRight(),f=s.getBottomLeft(),h=this.calculateModuleSize(o,c,f);if(h<1)throw new re("No pattern found in proccess finder.");const m=No.computeDimension(o,c,f,h),y=Ze.getProvisionalVersionForDimension(m),C=y.getDimensionForVersion()-7;let N=null;if(y.getAlignmentPatternCenters().length>0){const K=c.getX()-o.getX()+f.getX(),z=c.getY()-o.getY()+f.getY(),$=1-3/C,X=Math.floor(o.getX()+$*(K-o.getX())),te=Math.floor(o.getY()+$*(z-o.getY()));for(let pe=4;pe<=16;pe<<=1)try{N=this.findAlignmentInRegion(h,X,te,pe);break}catch(xe){if(!(xe instanceof re))throw xe}}const T=No.createTransform(o,c,f,N,m),F=No.sampleGrid(this.image,T,m);let H;return N===null?H=[f,o,c]:H=[f,o,c,N],new gn(F,H)}static createTransform(s,o,c,f,h){const m=h-3.5;let y,C,N,T;return f!==null?(y=f.getX(),C=f.getY(),N=m-3,T=N):(y=o.getX()-s.getX()+c.getX(),C=o.getY()-s.getY()+c.getY(),N=m,T=m),Rt.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,N,T,3.5,m,s.getX(),s.getY(),o.getX(),o.getY(),y,C,c.getX(),c.getY())}static sampleGrid(s,o,c){return Xt.getInstance().sampleGridWithTransform(s,c,c,o)}static computeDimension(s,o,c,f){const h=Xe.round(ke.distance(s,o)/f),m=Xe.round(ke.distance(s,c)/f);let y=Math.floor((h+m)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new re("Dimensions could be not found.")}return y}calculateModuleSize(s,o,c){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,c))/2}calculateModuleSizeOneWay(s,o){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(c)?f/7:isNaN(f)?c/7:(c+f)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,c,f){let h=this.sizeOfBlackWhiteBlackRun(s,o,c,f),m=1,y=s-(c-s);y<0?(m=s/(s-y),y=0):y>=this.image.getWidth()&&(m=(this.image.getWidth()-1-s)/(y-s),y=this.image.getWidth()-1);let C=Math.floor(o-(f-o)*m);return m=1,C<0?(m=o/(o-C),C=0):C>=this.image.getHeight()&&(m=(this.image.getHeight()-1-o)/(C-o),C=this.image.getHeight()-1),y=Math.floor(s+(y-s)*m),h+=this.sizeOfBlackWhiteBlackRun(s,o,y,C),h-1}sizeOfBlackWhiteBlackRun(s,o,c,f){const h=Math.abs(f-o)>Math.abs(c-s);if(h){let K=s;s=o,o=K,K=c,c=f,f=K}const m=Math.abs(c-s),y=Math.abs(f-o);let C=-m/2;const N=s<c?1:-1,T=o<f?1:-1;let F=0;const H=c+N;for(let K=s,z=o;K!==H;K+=N){const $=h?z:K,X=h?K:z;if(F===1===this.image.get($,X)){if(F===2)return Xe.distance(K,z,s,o);F++}if(C+=y,C>0){if(z===f)break;z+=T,C-=m}}return F===2?Xe.distance(c+N,f,s,o):NaN}findAlignmentInRegion(s,o,c,f){const h=Math.floor(f*s),m=Math.max(0,o-h),y=Math.min(this.image.getWidth()-1,o+h);if(y-m<s*3)throw new re("Alignment top exceeds estimated module size.");const C=Math.max(0,c-h),N=Math.min(this.image.getHeight()-1,c+h);if(N-C<s*3)throw new re("Alignment bottom exceeds estimated module size.");return new Nl(this.image,m,C,y-m,N-C,s,this.resultPointCallback).find()}}class xi{constructor(){this.decoder=new Md}getDecoder(){return this.decoder}decode(s,o){let c,f;if(o!=null&&o.get(B.PURE_BARCODE)!==void 0){const C=xi.extractPureBits(s.getBlackMatrix());c=this.decoder.decodeBitMatrix(C,o),f=xi.NO_POINTS}else{const C=new No(s.getBlackMatrix()).detect(o);c=this.decoder.decodeBitMatrix(C.getBits(),o),f=C.getPoints()}c.getOther()instanceof zc&&c.getOther().applyMirroredCorrection(f);const h=new Ge(c.getText(),c.getRawBytes(),void 0,f,oe.QR_CODE,void 0),m=c.getByteSegments();m!==null&&h.putMetadata(it.BYTE_SEGMENTS,m);const y=c.getECLevel();return y!==null&&h.putMetadata(it.ERROR_CORRECTION_LEVEL,y),c.hasStructuredAppend()&&(h.putMetadata(it.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),h.putMetadata(it.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),h}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o===null||c===null)throw new re;const f=this.moduleSize(o,s);let h=o[1],m=c[1],y=o[0],C=c[0];if(y>=C||h>=m)throw new re;if(m-h!==C-y&&(C=y+(m-h),C>=s.getWidth()))throw new re;const N=Math.round((C-y+1)/f),T=Math.round((m-h+1)/f);if(N<=0||T<=0)throw new re;if(T!==N)throw new re;const F=Math.floor(f/2);h+=F,y+=F;const H=y+Math.floor((N-1)*f)-C;if(H>0){if(H>F)throw new re;y-=H}const K=h+Math.floor((T-1)*f)-m;if(K>0){if(K>F)throw new re;h-=K}const z=new Te(N,T);for(let $=0;$<T;$++){const X=h+Math.floor($*f);for(let te=0;te<N;te++)s.get(y+Math.floor(te*f),X)&&z.set(te,$)}return z}static moduleSize(s,o){const c=o.getHeight(),f=o.getWidth();let h=s[0],m=s[1],y=!0,C=0;for(;h<f&&m<c;){if(y!==o.get(h,m)){if(++C===5)break;y=!y}h++,m++}if(h===f||m===c)throw new re;return(h-s[0])/7}}xi.NO_POINTS=new Array;class at{PDF417Common(){}static getBitCountSum(s){return Xe.sum(s)}static toIntArray(s){if(s==null||!s.length)return at.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let c=0;for(const f of s)o[c++]=f;return o}static getCodeword(s){const o=j.binarySearch(at.SYMBOL_TABLE,s&262143);return o<0?-1:(at.CODEWORD_TABLE[o]-1)%at.NUMBER_OF_CODEWORDS}}at.NUMBER_OF_CODEWORDS=929,at.MAX_CODEWORDS_IN_BARCODE=at.NUMBER_OF_CODEWORDS-1,at.MIN_ROWS_IN_BARCODE=3,at.MAX_ROWS_IN_BARCODE=90,at.MODULES_IN_CODEWORD=17,at.MODULES_IN_STOP_PATTERN=18,at.BARS_IN_MODULE=8,at.EMPTY_INT_ARRAY=new Int32Array([]),at.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),at.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class vp{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class pt{static detectMultiple(s,o,c){let f=s.getBlackMatrix(),h=pt.detect(c,f);return h.length||(f=f.clone(),f.rotate180(),h=pt.detect(c,f)),new vp(f,h)}static detect(s,o){const c=new Array;let f=0,h=0,m=!1;for(;f<o.getHeight();){const y=pt.findVertices(o,f,h);if(y[0]==null&&y[3]==null){if(!m)break;m=!1,h=0;for(const C of c)C[1]!=null&&(f=Math.trunc(Math.max(f,C[1].getY()))),C[3]!=null&&(f=Math.max(f,Math.trunc(C[3].getY())));f+=pt.ROW_STEP;continue}if(m=!0,c.push(y),!s)break;y[2]!=null?(h=Math.trunc(y[2].getX()),f=Math.trunc(y[2].getY())):(h=Math.trunc(y[4].getX()),f=Math.trunc(y[4].getY()))}return c}static findVertices(s,o,c){const f=s.getHeight(),h=s.getWidth(),m=new Array(8);return pt.copyToResult(m,pt.findRowsWithPattern(s,f,h,o,c,pt.START_PATTERN),pt.INDEXES_START_PATTERN),m[4]!=null&&(c=Math.trunc(m[4].getX()),o=Math.trunc(m[4].getY())),pt.copyToResult(m,pt.findRowsWithPattern(s,f,h,o,c,pt.STOP_PATTERN),pt.INDEXES_STOP_PATTERN),m}static copyToResult(s,o,c){for(let f=0;f<c.length;f++)s[c[f]]=o[f]}static findRowsWithPattern(s,o,c,f,h,m){const y=new Array(4);let C=!1;const N=new Int32Array(m.length);for(;f<o;f+=pt.ROW_STEP){let F=pt.findGuardPattern(s,h,f,c,!1,m,N);if(F!=null){for(;f>0;){const H=pt.findGuardPattern(s,h,--f,c,!1,m,N);if(H!=null)F=H;else{f++;break}}y[0]=new ke(F[0],f),y[1]=new ke(F[1],f),C=!0;break}}let T=f+1;if(C){let F=0,H=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;T<o;T++){const K=pt.findGuardPattern(s,H[0],T,c,!1,m,N);if(K!=null&&Math.abs(H[0]-K[0])<pt.MAX_PATTERN_DRIFT&&Math.abs(H[1]-K[1])<pt.MAX_PATTERN_DRIFT)H=K,F=0;else{if(F>pt.SKIPPED_ROW_COUNT_MAX)break;F++}}T-=F+1,y[2]=new ke(H[0],T),y[3]=new ke(H[1],T)}return T-f<pt.BARCODE_MIN_HEIGHT&&j.fill(y,null),y}static findGuardPattern(s,o,c,f,h,m,y){j.fillWithin(y,0,y.length,0);let C=o,N=0;for(;s.get(C,c)&&C>0&&N++<pt.MAX_PIXEL_DRIFT;)C--;let T=C,F=0,H=m.length;for(let K=h;T<f;T++)if(s.get(T,c)!==K)y[F]++;else{if(F===H-1){if(pt.patternMatchVariance(y,m,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE)return new Int32Array([C,T]);C+=y[0]+y[1],I.arraycopy(y,2,y,0,F-1),y[F-1]=0,y[F]=0,F--}else F++;y[F]=1,K=!K}return F===H-1&&pt.patternMatchVariance(y,m,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE?new Int32Array([C,T-1]):null}static patternMatchVariance(s,o,c){let f=s.length,h=0,m=0;for(let N=0;N<f;N++)h+=s[N],m+=o[N];if(h<m)return 1/0;let y=h/m;c*=y;let C=0;for(let N=0;N<f;N++){let T=s[N],F=o[N]*y,H=T>F?T-F:F-T;if(H>c)return 1/0;C+=H}return C/h}}pt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),pt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),pt.MAX_AVG_VARIANCE=.42,pt.MAX_INDIVIDUAL_VARIANCE=.8,pt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),pt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),pt.MAX_PIXEL_DRIFT=3,pt.MAX_PATTERN_DRIFT=5,pt.SKIPPED_ROW_COUNT_MAX=25,pt.ROW_STEP=5,pt.BARCODE_MIN_HEIGHT=10;class nr{constructor(s,o){if(o.length===0)throw new E;this.field=s;let c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-f),I.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let f=0;for(let h of this.coefficients)f=this.field.add(f,h);return f}let o=this.coefficients[0],c=this.coefficients.length;for(let f=1;f<c;f++)o=this.field.add(this.field.multiply(s,o),this.coefficients[f]);return o}add(s){if(!this.field.equals(s.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){let m=o;o=c,c=m}let f=new Int32Array(c.length),h=c.length-o.length;I.arraycopy(c,0,f,0,h);for(let m=h;m<c.length;m++)f[m]=this.field.add(o[m-h],c[m]);return new nr(this.field,f)}subtract(s){if(!this.field.equals(s.field))throw new E("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof nr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new nr(this.field,new Int32Array([0]));let o=this.coefficients,c=o.length,f=s.coefficients,h=f.length,m=new Int32Array(c+h-1);for(let y=0;y<c;y++){let C=o[y];for(let N=0;N<h;N++)m[y+N]=this.field.add(m[y+N],this.field.multiply(C,f[N]))}return new nr(this.field,m)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=this.field.subtract(0,this.coefficients[c]);return new nr(this.field,o)}multiplyScalar(s){if(s===0)return new nr(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,c=new Int32Array(o);for(let f=0;f<o;f++)c[f]=this.field.multiply(this.coefficients[f],s);return new nr(this.field,c)}multiplyByMonomial(s,o){if(s<0)throw new E;if(o===0)return new nr(this.field,new Int32Array([0]));let c=this.coefficients.length,f=new Int32Array(c+s);for(let h=0;h<c;h++)f[h]=this.field.multiply(this.coefficients[h],o);return new nr(this.field,f)}toString(){let s=new ce;for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);c!==0&&(c<0?(s.append(" - "),c=-c):s.length()>0&&s.append(" + "),(o===0||c!==1)&&s.append(c),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class yp{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new E;return this.logTable[s]}inverse(s){if(s===0)throw new Wt;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Hc extends yp{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let c=1;for(let f=0;f<s;f++)this.expTable[f]=c,c=c*o%s;for(let f=0;f<s-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new nr(this,new Int32Array([0])),this.one=new nr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new E;if(o===0)return this.zero;let c=new Int32Array(s+1);return c[0]=o,new nr(this,c)}}Hc.PDF417_GF=new Hc(at.NUMBER_OF_CODEWORDS,3);class Ld{constructor(){this.field=Hc.PDF417_GF}decode(s,o,c){let f=new nr(this.field,s),h=new Int32Array(o),m=!1;for(let z=o;z>0;z--){let $=f.evaluateAt(this.field.exp(z));h[o-z]=$,$!==0&&(m=!0)}if(!m)return 0;let y=this.field.getOne();if(c!=null)for(const z of c){let $=this.field.exp(s.length-1-z),X=new nr(this.field,new Int32Array([this.field.subtract(0,$),1]));y=y.multiply(X)}let C=new nr(this.field,h),N=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),C,o),T=N[0],F=N[1],H=this.findErrorLocations(T),K=this.findErrorMagnitudes(F,T,H);for(let z=0;z<H.length;z++){let $=s.length-1-this.field.log(H[z]);if($<0)throw k.getChecksumInstance();s[$]=this.field.subtract(s[$],K[z])}return H.length}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){let H=s;s=o,o=H}let f=s,h=o,m=this.field.getZero(),y=this.field.getOne();for(;h.getDegree()>=Math.round(c/2);){let H=f,K=m;if(f=h,m=y,f.isZero())throw k.getChecksumInstance();h=H;let z=this.field.getZero(),$=f.getCoefficient(f.getDegree()),X=this.field.inverse($);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){let te=h.getDegree()-f.getDegree(),pe=this.field.multiply(h.getCoefficient(h.getDegree()),X);z=z.add(this.field.buildMonomial(te,pe)),h=h.subtract(f.multiplyByMonomial(te,pe))}y=z.multiply(m).subtract(K).negative()}let C=y.getCoefficient(0);if(C===0)throw k.getChecksumInstance();let N=this.field.inverse(C),T=y.multiply(N),F=h.multiply(N);return[T,F]}findErrorLocations(s){let o=s.getDegree(),c=new Int32Array(o),f=0;for(let h=1;h<this.field.getSize()&&f<o;h++)s.evaluateAt(h)===0&&(c[f]=this.field.inverse(h),f++);if(f!==o)throw k.getChecksumInstance();return c}findErrorMagnitudes(s,o,c){let f=o.getDegree(),h=new Int32Array(f);for(let N=1;N<=f;N++)h[f-N]=this.field.multiply(N,o.getCoefficient(N));let m=new nr(this.field,h),y=c.length,C=new Int32Array(y);for(let N=0;N<y;N++){let T=this.field.inverse(c[N]),F=this.field.subtract(0,s.evaluateAt(T)),H=this.field.inverse(m.evaluateAt(T));C[N]=this.field.multiply(F,H)}return C}}class Wi{constructor(s,o,c,f,h){s instanceof Wi?this.constructor_2(s):this.constructor_1(s,o,c,f,h)}constructor_1(s,o,c,f,h){const m=o==null||c==null,y=f==null||h==null;if(m&&y)throw new re;m?(o=new ke(0,f.getY()),c=new ke(0,h.getY())):y&&(f=new ke(s.getWidth()-1,o.getY()),h=new ke(s.getWidth()-1,c.getY())),this.image=s,this.topLeft=o,this.bottomLeft=c,this.topRight=f,this.bottomRight=h,this.minX=Math.trunc(Math.min(o.getX(),c.getX())),this.maxX=Math.trunc(Math.max(f.getX(),h.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(c.getY(),h.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new Wi(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,c){let f=this.topLeft,h=this.bottomLeft,m=this.topRight,y=this.bottomRight;if(s>0){let C=c?this.topLeft:this.topRight,N=Math.trunc(C.getY()-s);N<0&&(N=0);let T=new ke(C.getX(),N);c?f=T:m=T}if(o>0){let C=c?this.bottomLeft:this.bottomRight,N=Math.trunc(C.getY()+o);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let T=new ke(C.getX(),N);c?h=T:y=T}return new Wi(this.image,f,h,m,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class on{constructor(s,o,c,f){this.columnCount=s,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=c,this.rowCount=o+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ut{constructor(){this.buffer=""}static form(s,o){let c=-1;function f(m,y,C,N,T,F){if(m==="%%")return"%";if(o[++c]===void 0)return;m=N?parseInt(N.substr(1)):void 0;let H=T?parseInt(T.substr(1)):void 0,K;switch(F){case"s":K=o[c];break;case"c":K=o[c][0];break;case"f":K=parseFloat(o[c]).toFixed(m);break;case"p":K=parseFloat(o[c]).toPrecision(m);break;case"e":K=parseFloat(o[c]).toExponential(m);break;case"x":K=parseInt(o[c]).toString(H||16);break;case"d":K=parseFloat(parseInt(o[c],H||10).toPrecision(m)).toFixed(0);break}K=typeof K=="object"?JSON.stringify(K):(+K).toString(H);let z=parseInt(C),$=C&&C[0]+""=="0"?"0":" ";for(;K.length<z;)K=y!==void 0?K+$:$+K;return K}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}format(s,...o){this.buffer+=Ut.form(s,o)}toString(){return this.buffer}}class _o{constructor(s){this.boundingBox=new Wi(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let c=1;c<_o.MAX_NEARBY_DISTANCE;c++){let f=this.imageRowToCodewordIndex(s)-c;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(s)+c,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Ut;let o=0;for(const c of this.codewords){if(c==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,c.getRowNumber(),c.getValue())}return s.toString()}}_o.MAX_NEARBY_DISTANCE=5;class So{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[c,f]of this.values.entries()){const h={getKey:()=>c,getValue:()=>f};h.getValue()>s?(s=h.getValue(),o=[],o.push(h.getKey())):h.getValue()===s&&o.push(h.getKey())}return at.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class Pd extends _o{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),h=this._isLeft?c.getBottomLeft():c.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),C=-1,N=1,T=0;for(let F=m;F<y;F++){if(o[F]==null)continue;let H=o[F],K=H.getRowNumber()-C;if(K===0)T++;else if(K===1)N=Math.max(N,T),T=1,C=H.getRowNumber();else if(K<0||H.getRowNumber()>=s.getRowCount()||K>F)o[F]=null;else{let z;N>2?z=(N-2)*K:z=K;let $=z>=F;for(let X=1;X<=z&&!$;X++)$=o[F-X]!=null;$?o[F]=null:(C=H.getRowNumber(),T=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let c of this.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.getCodewords(),C=-1;for(let N=h;N<m;N++){if(y[N]==null)continue;let T=y[N];T.setRowNumberAsRowIndicatorColumn();let F=T.getRowNumber()-C;F===0||(F===1?C=T.getRowNumber():T.getRowNumber()>=s.getRowCount()?y[N]=null:C=T.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new So,c=new So,f=new So,h=new So;for(let y of s){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let C=y.getValue()%30,N=y.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:c.setValue(C*3+1);break;case 1:h.setValue(C/3),f.setValue(C%3);break;case 2:o.setValue(C+1);break}}if(o.getValue().length===0||c.getValue().length===0||f.getValue().length===0||h.getValue().length===0||o.getValue()[0]<1||c.getValue()[0]+f.getValue()[0]<at.MIN_ROWS_IN_BARCODE||c.getValue()[0]+f.getValue()[0]>at.MAX_ROWS_IN_BARCODE)return null;let m=new on(o.getValue()[0],c.getValue()[0],f.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(s,m),m}removeIncorrectCodewords(s,o){for(let c=0;c<s.length;c++){let f=s[c];if(s[c]==null)continue;let h=f.getValue()%30,m=f.getRowNumber();if(m>o.getRowCount()){s[c]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:h*3+1!==o.getRowCountUpperPart()&&(s[c]=null);break;case 1:(Math.trunc(h/3)!==o.getErrorCorrectionLevel()||h%3!==o.getRowCountLowerPart())&&(s[c]=null);break;case 2:h+1!==o.getColumnCount()&&(s[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ao{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=at.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let c=this.detectionResultColumns[o].getCodewords();for(let f=0;f<c.length;f++)c[f]!=null&&(c[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,c))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++)if(s[c]!=null&&o[c]!=null&&s[c].getRowNumber()===o[c].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let h=this.detectionResultColumns[f].getCodewords()[c];h!=null&&(h.setRowNumber(s[c].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),h=0;for(let m=this.barcodeColumnCount+1;m>0&&h<this.ADJUST_ROW_NUMBER_SKIP;m--){let y=this.detectionResultColumns[m].getCodewords()[c];y!=null&&(h=Ao.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),h=0;for(let m=1;m<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;m++){let y=this.detectionResultColumns[m].getCodewords()[c];y!=null&&(h=Ao.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(s)?(c.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,c){if(!this.detectionResultColumns[s-1])return;let f=c[o],h=this.detectionResultColumns[s-1].getCodewords(),m=h;this.detectionResultColumns[s+1]!=null&&(m=this.detectionResultColumns[s+1].getCodewords());let y=new Array(14);y[2]=h[o],y[3]=m[o],o>0&&(y[0]=c[o-1],y[4]=h[o-1],y[5]=m[o-1]),o>1&&(y[8]=c[o-2],y[10]=h[o-2],y[11]=m[o-2]),o<c.length-1&&(y[1]=c[o+1],y[6]=h[o+1],y[7]=m[o+1]),o<c.length-2&&(y[9]=c[o+2],y[12]=h[o+2],y[13]=m[o+2]);for(let C of y)if(Ao.adjustRowNumber(f,C))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Ut;for(let c=0;c<s.getCodewords().length;c++){o.format("CW %3d:",c);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let h=this.detectionResultColumns[f].getCodewords()[c];if(h==null){o.format("    |   ");continue}o.format(" %3d|%3d",h.getRowNumber(),h.getValue())}o.format("%n")}return o.toString()}}class ko{constructor(s,o,c,f){this.rowNumber=ko.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(c),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==ko.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}ko.BARCODE_ROW_UNKNOWN=-1;class Nr{static initialize(){for(let s=0;s<at.SYMBOL_TABLE.length;s++){let o=at.SYMBOL_TABLE[s],c=o&1;for(let f=0;f<at.BARS_IN_MODULE;f++){let h=0;for(;(o&1)===c;)h+=1,o>>=1;c=o&1,Nr.RATIOS_TABLE[s]||(Nr.RATIOS_TABLE[s]=new Array(at.BARS_IN_MODULE)),Nr.RATIOS_TABLE[s][at.BARS_IN_MODULE-f-1]=Math.fround(h/at.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=Nr.getDecodedCodewordValue(Nr.sampleBitCounts(s));return o!==-1?o:Nr.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=Xe.sum(s),c=new Int32Array(at.BARS_IN_MODULE),f=0,h=0;for(let m=0;m<at.MODULES_IN_CODEWORD;m++){let y=o/(2*at.MODULES_IN_CODEWORD)+m*o/at.MODULES_IN_CODEWORD;h+s[f]<=y&&(h+=s[f],f++),c[f]++}return c}static getDecodedCodewordValue(s){let o=Nr.getBitValue(s);return at.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let c=0;c<s.length;c++)for(let f=0;f<s[c];f++)o=o<<1|(c%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=Xe.sum(s),c=new Array(at.BARS_IN_MODULE);if(o>1)for(let m=0;m<c.length;m++)c[m]=Math.fround(s[m]/o);let f=Me.MAX_VALUE,h=-1;this.bSymbolTableReady||Nr.initialize();for(let m=0;m<Nr.RATIOS_TABLE.length;m++){let y=0,C=Nr.RATIOS_TABLE[m];for(let N=0;N<at.BARS_IN_MODULE;N++){let T=Math.fround(C[N]-c[N]);if(y+=Math.fround(T*T),y>=f)break}y<f&&(f=y,h=at.SYMBOL_TABLE[m])}return h}}Nr.bSymbolTableReady=!1,Nr.RATIOS_TABLE=new Array(at.SYMBOL_TABLE.length).map(P=>new Array(at.BARS_IN_MODULE));class qc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Fd{static parseLong(s,o=void 0){return parseInt(s,o)}}class Qn extends v{}Qn.kind="NullPointerException";class Vc{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,c){if(s==null)throw new Qn;if(o<0||o>s.length||c<0||o+c>s.length||o+c<0)throw new L;if(c===0)return;for(let f=0;f<c;f++)this.write(s[o+f])}flush(){}close(){}}class Hi extends v{}class Bd extends Vc{constructor(s=32){if(super(),this.count=0,s<0)throw new E("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let c=this.buf.length<<1;if(c-s<0&&(c=s),c<0){if(s<0)throw new Hi;c=O.MAX_VALUE}this.buf=j.copyOfUint8Array(this.buf,c)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,c){if(o<0||o>s.length||c<0||o+c-s.length>0)throw new L;this.ensureCapacity(this.count+c),I.arraycopy(s,o,this.buf,this.count,c),this.count+=c}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return j.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var zt;(function(P){P[P.ALPHA=0]="ALPHA",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.PUNCT=3]="PUNCT",P[P.ALPHA_SHIFT=4]="ALPHA_SHIFT",P[P.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(zt||(zt={}));function Mr(){if(typeof window<"u")return window.BigInt||null;if(typeof Ai<"u")return Ai.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let To;function Ks(P){if(typeof To>"u"&&(To=Mr()),To===null)throw new Error("BigInt is not supported!");return To(P)}function Ud(){let P=[];P[0]=Ks(1);let s=Ks(900);P[1]=s;for(let o=2;o<16;o++)P[o]=P[o-1]*s;return P}class he{static decode(s,o){let c=new ce(""),f=Y.ISO8859_1;c.enableDecoding(f);let h=1,m=s[h++],y=new qc;for(;h<s[0];){switch(m){case he.TEXT_COMPACTION_MODE_LATCH:h=he.textCompaction(s,h,c);break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:h=he.byteCompaction(m,s,f,h,c);break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h++]);break;case he.NUMERIC_COMPACTION_MODE_LATCH:h=he.numericCompaction(s,h,c);break;case he.ECI_CHARSET:Y.getCharacterSetECIByValue(s[h++]);break;case he.ECI_GENERAL_PURPOSE:h+=2;break;case he.ECI_USER_DEFINED:h++;break;case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=he.decodeMacroBlock(s,h,y);break;case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:throw new R;default:h--,h=he.textCompaction(s,h,c);break}if(h<s.length)m=s[h++];else throw R.getFormatInstance()}if(c.length()===0)throw R.getFormatInstance();let C=new nn(null,c.toString(),null,o);return C.setOther(y),C}static decodeMacroBlock(s,o,c){if(o+he.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw R.getFormatInstance();let f=new Int32Array(he.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<he.NUMBER_OF_SEQUENCE_CODEWORDS;y++,o++)f[y]=s[o];c.setSegmentIndex(O.parseInt(he.decodeBase900toBase10(f,he.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new ce;o=he.textCompaction(s,o,h),c.setFileId(h.toString());let m=-1;for(s[o]===he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=o+1);o<s[0];)switch(s[o]){case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new ce;o=he.textCompaction(s,o+1,y),c.setFileName(y.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new ce;o=he.textCompaction(s,o+1,C),c.setSender(C.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new ce;o=he.textCompaction(s,o+1,N),c.setAddressee(N.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new ce;o=he.numericCompaction(s,o+1,T),c.setSegmentCount(O.parseInt(T.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new ce;o=he.numericCompaction(s,o+1,F),c.setTimestamp(Fd.parseLong(F.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let H=new ce;o=he.numericCompaction(s,o+1,H),c.setChecksum(O.parseInt(H.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let K=new ce;o=he.numericCompaction(s,o+1,K),c.setFileSize(Fd.parseLong(K.toString()));break;default:throw R.getFormatInstance()}break;case he.MACRO_PDF417_TERMINATOR:o++,c.setLastSegment(!0);break;default:throw R.getFormatInstance()}if(m!==-1){let y=o-m;c.isLastSegment()&&y--,c.setOptionalData(j.copyOfRange(s,m,m+y))}return o}static textCompaction(s,o,c){let f=new Int32Array((s[0]-o)*2),h=new Int32Array((s[0]-o)*2),m=0,y=!1;for(;o<s[0]&&!y;){let C=s[o++];if(C<he.TEXT_COMPACTION_MODE_LATCH)f[m]=C/30,f[m+1]=C%30,m+=2;else switch(C){case he.TEXT_COMPACTION_MODE_LATCH:f[m++]=he.TEXT_COMPACTION_MODE_LATCH;break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:o--,y=!0;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[m]=he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=s[o++],h[m]=C,m++;break}}return he.decodeTextCompaction(f,h,m,c),o}static decodeTextCompaction(s,o,c,f){let h=zt.ALPHA,m=zt.ALPHA,y=0;for(;y<c;){let C=s[y],N="";switch(h){case zt.ALPHA:if(C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case he.LL:h=zt.LOWER;break;case he.ML:h=zt.MIXED;break;case he.PS:m=h,h=zt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.LOWER:if(C<26)N=String.fromCharCode(97+C);else switch(C){case 26:N=" ";break;case he.AS:m=h,h=zt.ALPHA_SHIFT;break;case he.ML:h=zt.MIXED;break;case he.PS:m=h,h=zt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.MIXED:if(C<he.PL)N=he.MIXED_CHARS[C];else switch(C){case he.PL:h=zt.PUNCT;break;case 26:N=" ";break;case he.LL:h=zt.LOWER;break;case he.AL:h=zt.ALPHA;break;case he.PS:m=h,h=zt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.PUNCT:if(C<he.PAL)N=he.PUNCT_CHARS[C];else switch(C){case he.PAL:h=zt.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.ALPHA_SHIFT:if(h=m,C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case he.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.PUNCT_SHIFT:if(h=m,C<he.PAL)N=he.PUNCT_CHARS[C];else switch(C){case he.PAL:h=zt.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break}N!==""&&f.append(N),y++}}static byteCompaction(s,o,c,f,h){let m=new Bd,y=0,C=0,N=!1;switch(s){case he.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),F=o[f++];for(;f<o[0]&&!N;)switch(T[y++]=F,C=900*C+F,F=o[f++],F){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:f--,N=!0;break;default:if(y%5===0&&y>0){for(let H=0;H<6;++H)m.write(Number(Ks(C)>>Ks(8*(5-H))));C=0,y=0}break}f===o[0]&&F<he.TEXT_COMPACTION_MODE_LATCH&&(T[y++]=F);for(let H=0;H<y;H++)m.write(T[H]);break;case he.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!N;){let H=o[f++];if(H<he.TEXT_COMPACTION_MODE_LATCH)y++,C=900*C+H;else switch(H){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:f--,N=!0;break}if(y%5===0&&y>0){for(let K=0;K<6;++K)m.write(Number(Ks(C)>>Ks(8*(5-K))));C=0,y=0}}break}return h.append(de.decode(m.toByteArray(),c)),f}static numericCompaction(s,o,c){let f=0,h=!1,m=new Int32Array(he.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!h;){let y=s[o++];if(o===s[0]&&(h=!0),y<he.TEXT_COMPACTION_MODE_LATCH)m[f]=y,f++;else switch(y){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:o--,h=!0;break}(f%he.MAX_NUMERIC_CODEWORDS===0||y===he.NUMERIC_COMPACTION_MODE_LATCH||h)&&f>0&&(c.append(he.decodeBase900toBase10(m,f)),f=0)}return o}static decodeBase900toBase10(s,o){let c=Ks(0);for(let h=0;h<o;h++)c+=he.EXP900[o-h-1]*Ks(s[h]);let f=c.toString();if(f.charAt(0)!=="1")throw new R;return f.substring(1)}}he.TEXT_COMPACTION_MODE_LATCH=900,he.BYTE_COMPACTION_MODE_LATCH=901,he.NUMERIC_COMPACTION_MODE_LATCH=902,he.BYTE_COMPACTION_MODE_LATCH_6=924,he.ECI_USER_DEFINED=925,he.ECI_GENERAL_PURPOSE=926,he.ECI_CHARSET=927,he.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,he.MACRO_PDF417_TERMINATOR=922,he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,he.MAX_NUMERIC_CODEWORDS=15,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,he.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,he.PL=25,he.LL=27,he.AS=27,he.ML=28,he.AL=28,he.PS=29,he.PAL=29,he.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,he.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",he.EXP900=Mr()?Ud():[],he.NUMBER_OF_SEQUENCE_CODEWORDS=2;class xt{constructor(){}static decode(s,o,c,f,h,m,y){let C=new Wi(s,o,c,f,h),N=null,T=null,F;for(let z=!0;;z=!1){if(o!=null&&(N=xt.getRowIndicatorColumn(s,C,o,!0,m,y)),f!=null&&(T=xt.getRowIndicatorColumn(s,C,f,!1,m,y)),F=xt.merge(N,T),F==null)throw re.getNotFoundInstance();let $=F.getBoundingBox();if(z&&$!=null&&($.getMinY()<C.getMinY()||$.getMaxY()>C.getMaxY()))C=$;else break}F.setBoundingBox(C);let H=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,N),F.setDetectionResultColumn(H,T);let K=N!=null;for(let z=1;z<=H;z++){let $=K?z:H-z;if(F.getDetectionResultColumn($)!==void 0)continue;let X;$===0||$===H?X=new Pd(C,$===0):X=new _o(C),F.setDetectionResultColumn($,X);let te=-1,pe=te;for(let xe=C.getMinY();xe<=C.getMaxY();xe++){if(te=xt.getStartColumn(F,$,xe,K),te<0||te>C.getMaxX()){if(pe===-1)continue;te=pe}let ye=xt.detectCodeword(s,C.getMinX(),C.getMaxX(),K,te,xe,m,y);ye!=null&&(X.setCodeword(xe,ye),pe=te,m=Math.min(m,ye.getWidth()),y=Math.max(y,ye.getWidth()))}}return xt.createDecoderResult(F)}static merge(s,o){if(s==null&&o==null)return null;let c=xt.getBarcodeMetadata(s,o);if(c==null)return null;let f=Wi.merge(xt.adjustBoundingBox(s),xt.adjustBoundingBox(o));return new Ao(c,f)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let c=xt.getMax(o),f=0;for(let y of o)if(f+=c-y,y>0)break;let h=s.getCodewords();for(let y=0;f>0&&h[y]==null;y++)f--;let m=0;for(let y=o.length-1;y>=0&&(m+=c-o[y],!(o[y]>0));y--);for(let y=h.length-1;m>0&&h[y]==null;y--)m--;return s.getBoundingBox().addMissingRows(f,m,s.isLeft())}static getMax(s){let o=-1;for(let c of s)o=Math.max(o,c);return o}static getBarcodeMetadata(s,o){let c;if(s==null||(c=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?c:c.getColumnCount()!==f.getColumnCount()&&c.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&c.getRowCount()!==f.getRowCount()?null:c}static getRowIndicatorColumn(s,o,c,f,h,m){let y=new Pd(o,f);for(let C=0;C<2;C++){let N=C===0?1:-1,T=Math.trunc(Math.trunc(c.getX()));for(let F=Math.trunc(Math.trunc(c.getY()));F<=o.getMaxY()&&F>=o.getMinY();F+=N){let H=xt.detectCodeword(s,0,s.getWidth(),f,T,F,h,m);H!=null&&(y.setCodeword(F,H),f?T=H.getStartX():T=H.getEndX())}}return y}static adjustCodewordCount(s,o){let c=o[0][1],f=c.getValue(),h=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-xt.getNumberOfECCodeWords(s.getBarcodeECLevel());if(f.length===0){if(h<1||h>at.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();c.setValue(h)}else f[0]!==h&&c.setValue(h)}static createDecoderResult(s){let o=xt.createBarcodeMatrix(s);xt.adjustCodewordCount(s,o);let c=new Array,f=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),h=[],m=new Array;for(let C=0;C<s.getBarcodeRowCount();C++)for(let N=0;N<s.getBarcodeColumnCount();N++){let T=o[C][N+1].getValue(),F=C*s.getBarcodeColumnCount()+N;T.length===0?c.push(F):T.length===1?f[F]=T[0]:(m.push(F),h.push(T))}let y=new Array(h.length);for(let C=0;C<y.length;C++)y[C]=h[C];return xt.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),f,at.toIntArray(c),at.toIntArray(m),y)}static createDecoderResultFromAmbiguousValues(s,o,c,f,h){let m=new Int32Array(f.length),y=100;for(;y-- >0;){for(let C=0;C<m.length;C++)o[f[C]]=h[C][m[C]];try{return xt.decodeCodewords(o,s,c)}catch(C){if(!(C instanceof k))throw C}if(m.length===0)throw k.getChecksumInstance();for(let C=0;C<m.length;C++)if(m[C]<h[C].length-1){m[C]++;break}else if(m[C]=0,C===m.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let h=0;h<o[f].length;h++)o[f][h]=new So;let c=0;for(let f of s.getDetectionResultColumns()){if(f!=null){for(let h of f.getCodewords())if(h!=null){let m=h.getRowNumber();if(m>=0){if(m>=o.length)continue;o[m][c].setValue(h.getValue())}}}c++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,c,f){let h=f?1:-1,m=null;if(xt.isValidBarcodeColumn(s,o-h)&&(m=s.getDetectionResultColumn(o-h).getCodeword(c)),m!=null)return f?m.getEndX():m.getStartX();if(m=s.getDetectionResultColumn(o).getCodewordNearby(c),m!=null)return f?m.getStartX():m.getEndX();if(xt.isValidBarcodeColumn(s,o-h)&&(m=s.getDetectionResultColumn(o-h).getCodewordNearby(c)),m!=null)return f?m.getEndX():m.getStartX();let y=0;for(;xt.isValidBarcodeColumn(s,o-h);){o-=h;for(let C of s.getDetectionResultColumn(o).getCodewords())if(C!=null)return(f?C.getEndX():C.getStartX())+h*y*(C.getEndX()-C.getStartX());y++}return f?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,c,f,h,m,y,C){h=xt.adjustCodewordStartColumn(s,o,c,f,h,m);let N=xt.getModuleBitCount(s,o,c,f,h,m);if(N==null)return null;let T,F=Xe.sum(N);if(f)T=h+F;else{for(let z=0;z<N.length/2;z++){let $=N[z];N[z]=N[N.length-1-z],N[N.length-1-z]=$}T=h,h=T-F}if(!xt.checkCodewordSkew(F,y,C))return null;let H=Nr.getDecodedValue(N),K=at.getCodeword(H);return K===-1?null:new ko(h,T,xt.getCodewordBucketNumber(H),K)}static getModuleBitCount(s,o,c,f,h,m){let y=h,C=new Int32Array(8),N=0,T=f?1:-1,F=f;for(;(f?y<c:y>=o)&&N<C.length;)s.get(y,m)===F?(C[N]++,y+=T):(N++,F=!F);return N===C.length||y===(f?c:o)&&N===C.length-1?C:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,c,f,h,m){let y=h,C=f?-1:1;for(let N=0;N<2;N++){for(;(f?y>=o:y<c)&&f===s.get(y,m);){if(Math.abs(h-y)>xt.CODEWORD_SKEW_SIZE)return h;y+=C}C=-C,f=!f}return y}static checkCodewordSkew(s,o,c){return o-xt.CODEWORD_SKEW_SIZE<=s&&s<=c+xt.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,c){if(s.length===0)throw R.getFormatInstance();let f=1<<o+1,h=xt.correctErrors(s,c,f);xt.verifyCodewordCount(s,f);let m=he.decode(s,""+o);return m.setErrorsCorrected(h),m.setErasures(c.length),m}static correctErrors(s,o,c){if(o!=null&&o.length>c/2+xt.MAX_ERRORS||c<0||c>xt.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return xt.errorCorrection.decode(s,c,o)}static verifyCodewordCount(s,o){if(s.length<4)throw R.getFormatInstance();let c=s[0];if(c>s.length)throw R.getFormatInstance();if(c===0)if(o<s.length)s[0]=s.length-o;else throw R.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),c=0,f=o.length-1;for(;!((s&1)!==c&&(c=s&1,f--,f<0));)o[f]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return xt.getCodewordBucketNumber(xt.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new Ut;for(let c=0;c<s.length;c++){o.format("Row %2d: ",c);for(let f=0;f<s[c].length;f++){let h=s[c][f];h.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}o.format("%n")}return o.toString()}}xt.CODEWORD_SKEW_SIZE=2,xt.MAX_ERRORS=3,xt.MAX_EC_CODEWORDS=512,xt.errorCorrection=new Ld;class Kn{decode(s,o=null){let c=Kn.decode(s,o,!1);if(c==null||c.length===0||c[0]==null)throw re.getNotFoundInstance();return c[0]}decodeMultiple(s,o=null){try{return Kn.decode(s,o,!0)}catch(c){throw c instanceof R||c instanceof k?re.getNotFoundInstance():c}}static decode(s,o,c){const f=new Array,h=pt.detectMultiple(s,o,c);for(const m of h.getPoints()){const y=xt.decode(h.getBits(),m[4],m[5],m[6],m[7],Kn.getMinCodewordWidth(m),Kn.getMaxCodewordWidth(m)),C=new Ge(y.getText(),y.getRawBytes(),void 0,m,oe.PDF_417);C.putMetadata(it.ERROR_CORRECTION_LEVEL,y.getECLevel());const N=y.getOther();N!=null&&C.putMetadata(it.PDF417_EXTRA_METADATA,N),f.push(C)}return f.map(m=>m)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?O.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Kn.getMaxWidth(s[0],s[4]),Kn.getMaxWidth(s[6],s[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.max(Kn.getMaxWidth(s[1],s[5]),Kn.getMaxWidth(s[7],s[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Kn.getMinWidth(s[0],s[4]),Kn.getMinWidth(s[6],s[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.min(Kn.getMinWidth(s[1],s[5]),Kn.getMinWidth(s[7],s[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}reset(){}}class lr extends v{}lr.kind="ReaderException";class zd{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!r(s)&&s.get(B.TRY_HARDER)===!0,c=r(s)?null:s.get(B.POSSIBLE_FORMATS),f=new Array;if(!r(c)){const h=c.some(m=>m===oe.UPC_A||m===oe.UPC_E||m===oe.EAN_13||m===oe.EAN_8||m===oe.CODABAR||m===oe.CODE_39||m===oe.CODE_93||m===oe.CODE_128||m===oe.ITF||m===oe.RSS_14||m===oe.RSS_EXPANDED);h&&!o&&f.push(new zi(s,this.verbose)),c.includes(oe.QR_CODE)&&f.push(new xi),c.includes(oe.DATA_MATRIX)&&f.push(new ls),c.includes(oe.AZTEC)&&f.push(new Ss),c.includes(oe.PDF_417)&&f.push(new Kn),h&&o&&f.push(new zi(s,this.verbose))}f.length===0&&(o||f.push(new zi(s,this.verbose)),f.push(new xi),f.push(new ls),f.push(new Ss),f.push(new Kn),o&&f.push(new zi(s,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new lr("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(c){if(c instanceof lr)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class Gr extends Ae{constructor(s=null,o=500){const c=new zd;c.setHints(s),super(c,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class wp extends Ae{constructor(s=500){super(new Kn,s)}}class Wd extends Ae{constructor(s=500){super(new xi,s)}}var Ds;(function(P){P[P.ERROR_CORRECTION=0]="ERROR_CORRECTION",P[P.CHARACTER_SET=1]="CHARACTER_SET",P[P.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",P[P.MIN_SIZE=3]="MIN_SIZE",P[P.MAX_SIZE=4]="MAX_SIZE",P[P.MARGIN=5]="MARGIN",P[P.PDF417_COMPACT=6]="PDF417_COMPACT",P[P.PDF417_COMPACTION=7]="PDF417_COMPACTION",P[P.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",P[P.AZTEC_LAYERS=9]="AZTEC_LAYERS",P[P.QR_VERSION=10]="QR_VERSION"})(Ds||(Ds={}));var yn=Ds;class jo{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new qt(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let c=o[o.length-1];const f=this.field;for(let h=o.length;h<=s;h++){const m=c.multiply(new qt(f,Int32Array.from([1,f.exp(h-1+f.getGeneratorBase())])));o.push(m),c=m}}return o[s]}encode(s,o){if(o===0)throw new E("No error correction bytes");const c=s.length-o;if(c<=0)throw new E("No data bytes provided");const f=this.buildGenerator(o),h=new Int32Array(c);I.arraycopy(s,0,h,0,c);let m=new qt(this.field,h);m=m.multiplyByMonomial(o,1);const C=m.divide(f)[1].getCoefficients(),N=o-C.length;for(let T=0;T<N;T++)s[c+T]=0;I.arraycopy(C,0,s,c+N,C.length)}}class ut{constructor(){}static applyMaskPenaltyRule1(s){return ut.applyMaskPenaltyRule1Internal(s,!0)+ut.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let m=0;m<h-1;m++){const y=c[m];for(let C=0;C<f-1;C++){const N=y[C];N===y[C+1]&&N===c[m+1][C]&&N===c[m+1][C+1]&&o++}}return ut.N2*o}static applyMaskPenaltyRule3(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let m=0;m<h;m++)for(let y=0;y<f;y++){const C=c[m];y+6<f&&C[y]===1&&C[y+1]===0&&C[y+2]===1&&C[y+3]===1&&C[y+4]===1&&C[y+5]===0&&C[y+6]===1&&(ut.isWhiteHorizontal(C,y-4,y)||ut.isWhiteHorizontal(C,y+7,y+11))&&o++,m+6<h&&c[m][y]===1&&c[m+1][y]===0&&c[m+2][y]===1&&c[m+3][y]===1&&c[m+4][y]===1&&c[m+5][y]===0&&c[m+6][y]===1&&(ut.isWhiteVertical(c,y,m-4,m)||ut.isWhiteVertical(c,y,m+7,m+11))&&o++}return o*ut.N3}static isWhiteHorizontal(s,o,c){o=Math.max(o,0),c=Math.min(c,s.length);for(let f=o;f<c;f++)if(s[f]===1)return!1;return!0}static isWhiteVertical(s,o,c,f){c=Math.max(c,0),f=Math.min(f,s.length);for(let h=c;h<f;h++)if(s[h][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let C=0;C<h;C++){const N=c[C];for(let T=0;T<f;T++)N[T]===1&&o++}const m=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-m)*10/m)*ut.N4}static getDataMaskBit(s,o,c){let f,h;switch(s){case 0:f=c+o&1;break;case 1:f=c&1;break;case 2:f=o%3;break;case 3:f=(c+o)%3;break;case 4:f=Math.floor(c/2)+Math.floor(o/3)&1;break;case 5:h=c*o,f=(h&1)+h%3;break;case 6:h=c*o,f=(h&1)+h%3&1;break;case 7:h=c*o,f=h%3+(c+o&1)&1;break;default:throw new E("Invalid mask pattern: "+s)}return f===0}static applyMaskPenaltyRule1Internal(s,o){let c=0;const f=o?s.getHeight():s.getWidth(),h=o?s.getWidth():s.getHeight(),m=s.getArray();for(let y=0;y<f;y++){let C=0,N=-1;for(let T=0;T<h;T++){const F=o?m[y][T]:m[T][y];F===N?C++:(C>=5&&(c+=ut.N1+(C-5)),C=1,N=F)}C>=5&&(c+=ut.N1+(C-5))}return c}}ut.N1=3,ut.N2=3,ut.N3=40,ut.N4=10;class cs{constructor(s,o){this.width=s,this.height=o;const c=new Array(o);for(let f=0;f!==o;f++)c[f]=new Uint8Array(s);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,c){this.bytes[o][s]=c}setBoolean(s,o,c){this.bytes[o][s]=c?1:0}clear(s){for(const o of this.bytes)j.fill(o,s)}equals(s){if(!(s instanceof cs))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let c=0,f=this.height;c<f;++c){const h=this.bytes[c],m=o.bytes[c];for(let y=0,C=this.width;y<C;++y)if(h[y]!==m[y])return!1}return!0}toString(){const s=new ce;for(let o=0,c=this.height;o<c;++o){const f=this.bytes[o];for(let h=0,m=this.width;h<m;++h)switch(f[h]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Zs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new ce;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Zs.NUM_MASK_PATTERNS}}Zs.NUM_MASK_PATTERNS=8;class Zt extends v{}Zt.kind="WriterException";class rt{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,c,f,h){rt.clearMatrix(h),rt.embedBasicPatterns(c,h),rt.embedTypeInfo(o,f,h),rt.maybeEmbedVersionInfo(c,h),rt.embedDataBits(s,f,h)}static embedBasicPatterns(s,o){rt.embedPositionDetectionPatternsAndSeparators(o),rt.embedDarkDotAtLeftBottomCorner(o),rt.maybeEmbedPositionAdjustmentPatterns(s,o),rt.embedTimingPatterns(o)}static embedTypeInfo(s,o,c){const f=new W;rt.makeTypeInfoBits(s,o,f);for(let h=0,m=f.getSize();h<m;++h){const y=f.get(f.getSize()-1-h),C=rt.TYPE_INFO_COORDINATES[h],N=C[0],T=C[1];if(c.setBoolean(N,T,y),h<8){const F=c.getWidth()-h-1,H=8;c.setBoolean(F,H,y)}else{const H=c.getHeight()-7+(h-8);c.setBoolean(8,H,y)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const c=new W;rt.makeVersionInfoBits(s,c);let f=6*3-1;for(let h=0;h<6;++h)for(let m=0;m<3;++m){const y=c.get(f);f--,o.setBoolean(h,o.getHeight()-11+m,y),o.setBoolean(o.getHeight()-11+m,h,y)}}static embedDataBits(s,o,c){let f=0,h=-1,m=c.getWidth()-1,y=c.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);y>=0&&y<c.getHeight();){for(let C=0;C<2;++C){const N=m-C;if(!rt.isEmpty(c.get(N,y)))continue;let T;f<s.getSize()?(T=s.get(f),++f):T=!1,o!==255&&ut.getDataMaskBit(o,N,y)&&(T=!T),c.setBoolean(N,y,T)}y+=h}h=-h,y+=h,m-=2}if(f!==s.getSize())throw new Zt("Not all bits consumed: "+f+"/"+s.getSize())}static findMSBSet(s){return 32-O.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new E("0 polynomial");const c=rt.findMSBSet(o);for(s<<=c-1;rt.findMSBSet(s)>=c;)s^=o<<rt.findMSBSet(s)-c;return s}static makeTypeInfoBits(s,o,c){if(!Zs.isValidMaskPattern(o))throw new Zt("Invalid mask pattern");const f=s.getBits()<<3|o;c.appendBits(f,5);const h=rt.calculateBCHCode(f,rt.TYPE_INFO_POLY);c.appendBits(h,10);const m=new W;if(m.appendBits(rt.TYPE_INFO_MASK_PATTERN,15),c.xor(m),c.getSize()!==15)throw new Zt("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const c=rt.calculateBCHCode(s.getVersionNumber(),rt.VERSION_INFO_POLY);if(o.appendBits(c,12),o.getSize()!==18)throw new Zt("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const c=(o+1)%2;rt.isEmpty(s.get(o,6))&&s.setNumber(o,6,c),rt.isEmpty(s.get(6,o))&&s.setNumber(6,o,c)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Zt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,c){for(let f=0;f<8;++f){if(!rt.isEmpty(c.get(s+f,o)))throw new Zt;c.setNumber(s+f,o,0)}}static embedVerticalSeparationPattern(s,o,c){for(let f=0;f<7;++f){if(!rt.isEmpty(c.get(s,o+f)))throw new Zt;c.setNumber(s,o+f,0)}}static embedPositionAdjustmentPattern(s,o,c){for(let f=0;f<5;++f){const h=rt.POSITION_ADJUSTMENT_PATTERN[f];for(let m=0;m<5;++m)c.setNumber(s+m,o+f,h[m])}}static embedPositionDetectionPattern(s,o,c){for(let f=0;f<7;++f){const h=rt.POSITION_DETECTION_PATTERN[f];for(let m=0;m<7;++m)c.setNumber(s+m,o+f,h[m])}}static embedPositionDetectionPatternsAndSeparators(s){const o=rt.POSITION_DETECTION_PATTERN[0].length;rt.embedPositionDetectionPattern(0,0,s),rt.embedPositionDetectionPattern(s.getWidth()-o,0,s),rt.embedPositionDetectionPattern(0,s.getWidth()-o,s);const c=8;rt.embedHorizontalSeparationPattern(0,c-1,s),rt.embedHorizontalSeparationPattern(s.getWidth()-c,c-1,s),rt.embedHorizontalSeparationPattern(0,s.getWidth()-c,s);const f=7;rt.embedVerticalSeparationPattern(f,0,s),rt.embedVerticalSeparationPattern(s.getHeight()-f-1,0,s),rt.embedVerticalSeparationPattern(f,s.getHeight()-f,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const c=s.getVersionNumber()-1,f=rt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let h=0,m=f.length;h!==m;h++){const y=f[h];if(y>=0)for(let C=0;C!==m;C++){const N=f[C];N>=0&&rt.isEmpty(o.get(N,y))&&rt.embedPositionAdjustmentPattern(N-2,y-2,o)}}}}rt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),rt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),rt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),rt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),rt.VERSION_INFO_POLY=7973,rt.TYPE_INFO_POLY=1335,rt.TYPE_INFO_MASK_PATTERN=21522;class bp{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ln{constructor(){}static calculateMaskPenalty(s){return ut.applyMaskPenaltyRule1(s)+ut.applyMaskPenaltyRule2(s)+ut.applyMaskPenaltyRule3(s)+ut.applyMaskPenaltyRule4(s)}static encode(s,o,c=null){let f=ln.DEFAULT_BYTE_MODE_ENCODING;const h=c!==null&&c.get(yn.CHARACTER_SET)!==void 0;h&&(f=c.get(yn.CHARACTER_SET).toString());const m=this.chooseMode(s,f),y=new W;if(m===nt.BYTE&&(h||ln.DEFAULT_BYTE_MODE_ENCODING!==f)){const xe=Y.getCharacterSetECIByName(f);xe!==void 0&&this.appendECI(xe,y)}this.appendModeInfo(m,y);const C=new W;this.appendBytes(s,m,C,f);let N;if(c!==null&&c.get(yn.QR_VERSION)!==void 0){const xe=Number.parseInt(c.get(yn.QR_VERSION).toString(),10);N=Ze.getVersionForNumber(xe);const ye=this.calculateBitsNeeded(m,y,C,N);if(!this.willFit(ye,N,o))throw new Zt("Data too big for requested version")}else N=this.recommendVersion(o,m,y,C);const T=new W;T.appendBitArray(y);const F=m===nt.BYTE?C.getSizeInBytes():s.length;this.appendLengthInfo(F,N,m,T),T.appendBitArray(C);const H=N.getECBlocksForLevel(o),K=N.getTotalCodewords()-H.getTotalECCodewords();this.terminateBits(K,T);const z=this.interleaveWithECBytes(T,N.getTotalCodewords(),K,H.getNumBlocks()),$=new Zs;$.setECLevel(o),$.setMode(m),$.setVersion(N);const X=N.getDimensionForVersion(),te=new cs(X,X),pe=this.chooseMaskPattern(z,o,N,te);return $.setMaskPattern(pe),rt.buildMatrix(z,o,N,pe,te),$.setMatrix(te),$}static recommendVersion(s,o,c,f){const h=this.calculateBitsNeeded(o,c,f,Ze.getVersionForNumber(1)),m=this.chooseVersion(h,s),y=this.calculateBitsNeeded(o,c,f,m);return this.chooseVersion(y,s)}static calculateBitsNeeded(s,o,c,f){return o.getSize()+s.getCharacterCountBits(f)+c.getSize()}static getAlphanumericCode(s){return s<ln.ALPHANUMERIC_TABLE.length?ln.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(Y.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return nt.KANJI;let c=!1,f=!1;for(let h=0,m=s.length;h<m;++h){const y=s.charAt(h);if(ln.isDigit(y))c=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)f=!0;else return nt.BYTE}return f?nt.ALPHANUMERIC:c?nt.NUMERIC:nt.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=de.encode(s,Y.SJIS)}catch{return!1}const c=o.length;if(c%2!==0)return!1;for(let f=0;f<c;f+=2){const h=o[f]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(s,o,c,f){let h=Number.MAX_SAFE_INTEGER,m=-1;for(let y=0;y<Zs.NUM_MASK_PATTERNS;y++){rt.buildMatrix(s,o,c,y,f);let C=this.calculateMaskPenalty(f);C<h&&(h=C,m=y)}return m}static chooseVersion(s,o){for(let c=1;c<=40;c++){const f=Ze.getVersionForNumber(c);if(ln.willFit(s,f,o))return f}throw new Zt("Data too big")}static willFit(s,o,c){const f=o.getTotalCodewords(),m=o.getECBlocksForLevel(c).getTotalECCodewords(),y=f-m,C=(s+7)/8;return y>=C}static terminateBits(s,o){const c=s*8;if(o.getSize()>c)throw new Zt("data bits cannot fit in the QR Code"+o.getSize()+" > "+c);for(let m=0;m<4&&o.getSize()<c;++m)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let m=f;m<8;m++)o.appendBit(!1);const h=s-o.getSizeInBytes();for(let m=0;m<h;++m)o.appendBits(m&1?17:236,8);if(o.getSize()!==c)throw new Zt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,c,f,h,m){if(f>=c)throw new Zt("Block ID too large");const y=s%c,C=c-y,N=Math.floor(s/c),T=N+1,F=Math.floor(o/c),H=F+1,K=N-F,z=T-H;if(K!==z)throw new Zt("EC bytes mismatch");if(c!==C+y)throw new Zt("RS blocks mismatch");if(s!==(F+K)*C+(H+z)*y)throw new Zt("Total bytes mismatch");f<C?(h[0]=F,m[0]=K):(h[0]=H,m[0]=z)}static interleaveWithECBytes(s,o,c,f){if(s.getSizeInBytes()!==c)throw new Zt("Number of bits and data bytes does not match");let h=0,m=0,y=0;const C=new Array;for(let T=0;T<f;++T){const F=new Int32Array(1),H=new Int32Array(1);ln.getNumDataBytesAndNumECBytesForBlockID(o,c,f,T,F,H);const K=F[0],z=new Uint8Array(K);s.toBytes(8*h,z,0,K);const $=ln.generateECBytes(z,H[0]);C.push(new bp(z,$)),m=Math.max(m,K),y=Math.max(y,$.length),h+=F[0]}if(c!==h)throw new Zt("Data bytes does not match offset");const N=new W;for(let T=0;T<m;++T)for(const F of C){const H=F.getDataBytes();T<H.length&&N.appendBits(H[T],8)}for(let T=0;T<y;++T)for(const F of C){const H=F.getErrorCorrectionBytes();T<H.length&&N.appendBits(H[T],8)}if(o!==N.getSizeInBytes())throw new Zt("Interleaving error: "+o+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(s,o){const c=s.length,f=new Int32Array(c+o);for(let m=0;m<c;m++)f[m]=s[m]&255;new jo(Ee.QR_CODE_FIELD_256).encode(f,o);const h=new Uint8Array(o);for(let m=0;m<o;m++)h[m]=f[c+m];return h}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,c,f){const h=c.getCharacterCountBits(o);if(s>=1<<h)throw new Zt(s+" is bigger than "+((1<<h)-1));f.appendBits(s,h)}static appendBytes(s,o,c,f){switch(o){case nt.NUMERIC:ln.appendNumericBytes(s,c);break;case nt.ALPHANUMERIC:ln.appendAlphanumericBytes(s,c);break;case nt.BYTE:ln.append8BitBytes(s,c,f);break;case nt.KANJI:ln.appendKanjiBytes(s,c);break;default:throw new Zt("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=ln.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const h=ln.getDigit(s.charAt(f));if(f+2<c){const m=ln.getDigit(s.charAt(f+1)),y=ln.getDigit(s.charAt(f+2));o.appendBits(h*100+m*10+y,10),f+=3}else if(f+1<c){const m=ln.getDigit(s.charAt(f+1));o.appendBits(h*10+m,7),f+=2}else o.appendBits(h,4),f++}}static appendAlphanumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const h=ln.getAlphanumericCode(s.charCodeAt(f));if(h===-1)throw new Zt;if(f+1<c){const m=ln.getAlphanumericCode(s.charCodeAt(f+1));if(m===-1)throw new Zt;o.appendBits(h*45+m,11),f+=2}else o.appendBits(h,6),f++}}static append8BitBytes(s,o,c){let f;try{f=de.encode(s,c)}catch(h){throw new Zt(h)}for(let h=0,m=f.length;h!==m;h++){const y=f[h];o.appendBits(y,8)}}static appendKanjiBytes(s,o){let c;try{c=de.encode(s,Y.SJIS)}catch(h){throw new Zt(h)}const f=c.length;for(let h=0;h<f;h+=2){const m=c[h]&255,y=c[h+1]&255,C=m<<8&4294967295|y;let N=-1;if(C>=33088&&C<=40956?N=C-33088:C>=57408&&C<=60351&&(N=C-49472),N===-1)throw new Zt("Invalid byte sequence");const T=(N>>8)*192+(N&255);o.appendBits(T,13)}}static appendECI(s,o){o.appendBits(nt.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}ln.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ln.DEFAULT_BYTE_MODE_ENCODING=Y.UTF8.getName();class qi{write(s,o,c,f=null){if(s.length===0)throw new E("Found empty contents");if(o<0||c<0)throw new E("Requested dimensions are too small: "+o+"x"+c);let h=Kt.L,m=qi.QUIET_ZONE_SIZE;f!==null&&(f.get(yn.ERROR_CORRECTION)!==void 0&&(h=Kt.fromString(f.get(yn.ERROR_CORRECTION).toString())),f.get(yn.MARGIN)!==void 0&&(m=Number.parseInt(f.get(yn.MARGIN).toString(),10)));const y=ln.encode(s,h,f);return this.renderResult(y,o,c,m)}writeToDom(s,o,c,f,h=null){typeof s=="string"&&(s=document.querySelector(s));const m=this.write(o,c,f,h);s&&s.appendChild(m)}renderResult(s,o,c,f){const h=s.getMatrix();if(h===null)throw new It;const m=h.getWidth(),y=h.getHeight(),C=m+f*2,N=y+f*2,T=Math.max(o,C),F=Math.max(c,N),H=Math.min(Math.floor(T/C),Math.floor(F/N)),K=Math.floor((T-m*H)/2),z=Math.floor((F-y*H)/2),$=this.createSVGElement(T,F);for(let X=0,te=z;X<y;X++,te+=H)for(let pe=0,xe=K;pe<m;pe++,xe+=H)if(h.get(pe,X)===1){const ye=this.createSvgRectElement(xe,te,H,H);$.appendChild(ye)}return $}createSVGElement(s,o){const c=document.createElementNS(qi.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",o.toString()),c}createSvgRectElement(s,o,c,f){const h=document.createElementNS(qi.SVG_NS,"rect");return h.setAttributeNS(null,"x",s.toString()),h.setAttributeNS(null,"y",o.toString()),h.setAttributeNS(null,"height",c.toString()),h.setAttributeNS(null,"width",f.toString()),h.setAttributeNS(null,"fill","#000000"),h}}qi.QUIET_ZONE_SIZE=4,qi.SVG_NS="http://www.w3.org/2000/svg";class Vi{encode(s,o,c,f,h){if(s.length===0)throw new E("Found empty contents");if(o!==oe.QR_CODE)throw new E("Can only encode QR_CODE, but got "+o);if(c<0||f<0)throw new E(`Requested dimensions are too small: ${c}x${f}`);let m=Kt.L,y=Vi.QUIET_ZONE_SIZE;h!==null&&(h.get(yn.ERROR_CORRECTION)!==void 0&&(m=Kt.fromString(h.get(yn.ERROR_CORRECTION).toString())),h.get(yn.MARGIN)!==void 0&&(y=Number.parseInt(h.get(yn.MARGIN).toString(),10)));const C=ln.encode(s,m,h);return Vi.renderResult(C,c,f,y)}static renderResult(s,o,c,f){const h=s.getMatrix();if(h===null)throw new It;const m=h.getWidth(),y=h.getHeight(),C=m+f*2,N=y+f*2,T=Math.max(o,C),F=Math.max(c,N),H=Math.min(Math.floor(T/C),Math.floor(F/N)),K=Math.floor((T-m*H)/2),z=Math.floor((F-y*H)/2),$=new Te(T,F);for(let X=0,te=z;X<y;X++,te+=H)for(let pe=0,xe=K;pe<m;pe++,xe+=H)h.get(pe,X)===1&&$.setRegion(xe,te,H,H);return $}}Vi.QUIET_ZONE_SIZE=4;class _l{encode(s,o,c,f,h){let m;switch(o){case oe.QR_CODE:m=new Vi;break;default:throw new E("No encoder available for format "+o)}return m.encode(s,o,c,f,h)}}class xr extends ue{constructor(s,o,c,f,h,m,y,C){if(super(m,y),this.yuvData=s,this.dataWidth=o,this.dataHeight=c,this.left=f,this.top=h,f+m>o||h+y>c)throw new E("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(m,y)}getRow(s,o){if(s<0||s>=this.getHeight())throw new E("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const c=s*o,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return I.arraycopy(this.yuvData,h,f,0,c),f;for(let m=0;m<o;m++){const y=m*s;I.arraycopy(this.yuvData,h,f,y,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new xr(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,c,f,!1)}renderThumbnail(){const s=this.getWidth()/xr.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/xr.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*o),f=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let m=0;m<o;m++){const y=m*s;for(let C=0;C<s;C++){const N=f[h+C*xr.THUMBNAIL_SCALE_FACTOR]&255;c[y+C]=4278190080|N*65793}h+=this.dataWidth*xr.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/xr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/xr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const c=this.yuvData;for(let f=0,h=this.top*this.dataWidth+this.left;f<o;f++,h+=this.dataWidth){const m=h+s/2;for(let y=h,C=h+s-1;y<m;y++,C--){const N=c[y];c[y]=c[C],c[C]=N}}}invert(){return new ge(this)}}xr.THUMBNAIL_SCALE_FACTOR=2;class Yc extends ue{constructor(s,o,c,f,h,m,y){if(super(o,c),this.dataWidth=f,this.dataHeight=h,this.left=m,this.top=y,s.BYTES_PER_ELEMENT===4){const C=o*c,N=new Uint8ClampedArray(C);for(let T=0;T<C;T++){const F=s[T],H=F>>16&255,K=F>>7&510,z=F&255;N[T]=(H+K+z)/4&255}this.luminances=N}else this.luminances=s;if(f===void 0&&(this.dataWidth=o),h===void 0&&(this.dataHeight=c),m===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+c>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new E("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const c=s*o,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return I.arraycopy(this.luminances,h,f,0,c),f;for(let m=0;m<o;m++){const y=m*s;I.arraycopy(this.luminances,h,f,y,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new Yc(this.luminances,c,f,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new ge(this)}}class $c extends Y{static forName(s){return this.getCharacterSetECIByName(s)}}class Sl{}Sl.ISO_8859_1=Y.ISO8859_1;class Al{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class kl{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class Hd{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Ta extends Hd{constructor(s,o,c){super(s),this.value=o,this.bitCount=c}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new Ta(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ta(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+O.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Do extends Ta{constructor(s,o,c){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=c}appendTo(s,o){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):c===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+c],8)}addBinaryShift(s,o){return new Do(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Gc(P,s,o){return new Do(P,s,o)}function Io(P,s,o){return new Ta(P,s,o)}const qd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],On=0,ja=1,cr=2,Xc=3,us=4,Cp=new Ta(null,0,0),Qc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function Ep(P){for(let s of P)j.fill(s,-1);return P[On][us]=0,P[ja][us]=0,P[ja][On]=28,P[Xc][us]=0,P[cr][us]=0,P[cr][On]=15,P}const Vd=Ep(j.createInt32Array(6,6));class Is{constructor(s,o,c,f){this.token=s,this.mode=o,this.binaryShiftByteCount=c,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let c=this.bitCount,f=this.token;if(s!==this.mode){let m=Qc[this.mode][s];f=Io(f,m&65535,m>>16),c+=m>>16}let h=s===cr?4:5;return f=Io(f,o,h),new Is(f,s,0,c+h)}shiftAndAppend(s,o){let c=this.token,f=this.mode===cr?4:5;return c=Io(c,Vd[this.mode][s],f),c=Io(c,o,5),new Is(c,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(s){let o=this.token,c=this.mode,f=this.bitCount;if(this.mode===us||this.mode===cr){let y=Qc[c][On];o=Io(o,y&65535,y>>16),f+=y>>16,c=On}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new Is(o,c,this.binaryShiftByteCount+1,f+h);return m.binaryShiftByteCount===2047+31&&(m=m.endBinaryShift(s+1)),m}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Gc(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Is(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(Qc[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=Is.calculateBinaryShiftCost(s)-Is.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let f=this.endBinaryShift(s.length).token;f!==null;f=f.getPrevious())o.unshift(f);let c=new W;for(const f of o)f.appendTo(c,s);return c}toString(){return ie.format("%s bits=%d bytes=%d",qd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Is.INITIAL_STATE=new Is(Cp,On,0,0);function Da(P){const s=ie.getCharCode(" "),o=ie.getCharCode("."),c=ie.getCharCode(",");P[On][s]=1;const f=ie.getCharCode("Z"),h=ie.getCharCode("A");for(let H=h;H<=f;H++)P[On][H]=H-h+2;P[ja][s]=1;const m=ie.getCharCode("z"),y=ie.getCharCode("a");for(let H=y;H<=m;H++)P[ja][H]=H-y+2;P[cr][s]=1;const C=ie.getCharCode("9"),N=ie.getCharCode("0");for(let H=N;H<=C;H++)P[cr][H]=H-N+2;P[cr][c]=12,P[cr][o]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let H=0;H<T.length;H++)P[Xc][ie.getCharCode(T[H])]=H;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let H=0;H<F.length;H++)ie.getCharCode(F[H])>0&&(P[us][ie.getCharCode(F[H])]=H);return P}const Kc=Da(j.createInt32Array(5,256));class Ro{constructor(s){this.text=s}encode(){const s=ie.getCharCode(" "),o=ie.getCharCode(`
`);let c=kl.singletonList(Is.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let m,y=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case ie.getCharCode("\r"):m=y===o?2:0;break;case ie.getCharCode("."):m=y===s?3:0;break;case ie.getCharCode(","):m=y===s?4:0;break;case ie.getCharCode(":"):m=y===s?5:0;break;default:m=0}m>0?(c=Ro.updateStateListForPair(c,h,m),h++):c=this.updateStateListForChar(c,h)}return kl.min(c,(h,m)=>h.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const c=[];for(let f of s)this.updateStateForChar(f,o,c);return Ro.simplifyStates(c)}updateStateForChar(s,o,c){let f=this.text[o]&255,h=Kc[s.getMode()][f]>0,m=null;for(let y=0;y<=us;y++){let C=Kc[y][f];if(C>0){if(m==null&&(m=s.endBinaryShift(o)),!h||y===s.getMode()||y===cr){const N=m.latchAndAppend(y,C);c.push(N)}if(!h&&Vd[s.getMode()][y]>=0){const N=m.shiftAndAppend(y,C);c.push(N)}}}if(s.getBinaryShiftByteCount()>0||Kc[s.getMode()][f]===0){let y=s.addBinaryShiftChar(o);c.push(y)}}static updateStateListForPair(s,o,c){const f=[];for(let h of s)this.updateStateForPair(h,o,c,f);return this.simplifyStates(f)}static updateStateForPair(s,o,c,f){let h=s.endBinaryShift(o);if(f.push(h.latchAndAppend(us,c)),s.getMode()!==us&&f.push(h.shiftAndAppend(us,c)),c===3||c===4){let m=h.latchAndAppend(cr,16-c).latchAndAppend(cr,1);f.push(m)}if(s.getBinaryShiftByteCount()>0){let m=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(m)}}static simplifyStates(s){let o=[];for(const c of s){let f=!0;for(const h of o){if(h.isBetterThanOrEqualTo(c)){f=!1;break}c.isBetterThanOrEqualTo(h)&&(o=o.filter(m=>m!==h))}f&&o.push(c)}return o}}class Nt{constructor(){}static encodeBytes(s){return Nt.encode(s,Nt.DEFAULT_EC_PERCENT,Nt.DEFAULT_AZTEC_LAYERS)}static encode(s,o,c){let f=new Ro(s).encode(),h=O.truncDivision(f.getSize()*o,100)+11,m=f.getSize()+h,y,C,N,T,F;if(c!==Nt.DEFAULT_AZTEC_LAYERS){if(y=c<0,C=Math.abs(c),C>(y?Nt.MAX_NB_BITS_COMPACT:Nt.MAX_NB_BITS))throw new E(ie.format("Illegal value %s for layers",c));N=Nt.totalBitsInLayer(C,y),T=Nt.WORD_SIZE[C];let ye=N-N%T;if(F=Nt.stuffBits(f,T),F.getSize()+h>ye)throw new E("Data to large for user specified layer");if(y&&F.getSize()>T*64)throw new E("Data to large for user specified layer")}else{T=0,F=null;for(let ye=0;;ye++){if(ye>Nt.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(y=ye<=3,C=y?ye+1:ye,N=Nt.totalBitsInLayer(C,y),m>N)continue;(F==null||T!==Nt.WORD_SIZE[C])&&(T=Nt.WORD_SIZE[C],F=Nt.stuffBits(f,T));let $e=N-N%T;if(!(y&&F.getSize()>T*64)&&F.getSize()+h<=$e)break}}let H=Nt.generateCheckWords(F,N,T),K=F.getSize()/T,z=Nt.generateModeMessage(y,C,K),$=(y?11:14)+C*4,X=new Int32Array($),te;if(y){te=$;for(let ye=0;ye<X.length;ye++)X[ye]=ye}else{te=$+1+2*O.truncDivision(O.truncDivision($,2)-1,15);let ye=O.truncDivision($,2),$e=O.truncDivision(te,2);for(let ht=0;ht<ye;ht++){let _r=ht+O.truncDivision(ht,15);X[ye-ht-1]=$e-_r-1,X[ye+ht]=$e+_r+1}}let pe=new Te(te);for(let ye=0,$e=0;ye<C;ye++){let ht=(C-ye)*4+(y?9:12);for(let _r=0;_r<ht;_r++){let wn=_r*2;for(let rr=0;rr<2;rr++)H.get($e+wn+rr)&&pe.set(X[ye*2+rr],X[ye*2+_r]),H.get($e+ht*2+wn+rr)&&pe.set(X[ye*2+_r],X[$-1-ye*2-rr]),H.get($e+ht*4+wn+rr)&&pe.set(X[$-1-ye*2-rr],X[$-1-ye*2-_r]),H.get($e+ht*6+wn+rr)&&pe.set(X[$-1-ye*2-_r],X[ye*2+rr])}$e+=ht*8}if(Nt.drawModeMessage(pe,y,te,z),y)Nt.drawBullsEye(pe,O.truncDivision(te,2),5);else{Nt.drawBullsEye(pe,O.truncDivision(te,2),7);for(let ye=0,$e=0;ye<O.truncDivision($,2)-1;ye+=15,$e+=16)for(let ht=O.truncDivision(te,2)&1;ht<te;ht+=2)pe.set(O.truncDivision(te,2)-$e,ht),pe.set(O.truncDivision(te,2)+$e,ht),pe.set(ht,O.truncDivision(te,2)-$e),pe.set(ht,O.truncDivision(te,2)+$e)}let xe=new Al;return xe.setCompact(y),xe.setSize(te),xe.setLayers(C),xe.setCodeWords(K),xe.setMatrix(pe),xe}static drawBullsEye(s,o,c){for(let f=0;f<c;f+=2)for(let h=o-f;h<=o+f;h++)s.set(h,o-f),s.set(h,o+f),s.set(o-f,h),s.set(o+f,h);s.set(o-c,o-c),s.set(o-c+1,o-c),s.set(o-c,o-c+1),s.set(o+c,o-c),s.set(o+c,o-c+1),s.set(o+c,o+c-1)}static generateModeMessage(s,o,c){let f=new W;return s?(f.appendBits(o-1,2),f.appendBits(c-1,6),f=Nt.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(c-1,11),f=Nt.generateCheckWords(f,40,4)),f}static drawModeMessage(s,o,c,f){let h=O.truncDivision(c,2);if(o)for(let m=0;m<7;m++){let y=h-3+m;f.get(m)&&s.set(y,h-5),f.get(m+7)&&s.set(h+5,y),f.get(20-m)&&s.set(y,h+5),f.get(27-m)&&s.set(h-5,y)}else for(let m=0;m<10;m++){let y=h-5+m+O.truncDivision(m,5);f.get(m)&&s.set(y,h-7),f.get(m+10)&&s.set(h+7,y),f.get(29-m)&&s.set(y,h+7),f.get(39-m)&&s.set(h-7,y)}}static generateCheckWords(s,o,c){let f=s.getSize()/c,h=new jo(Nt.getGF(c)),m=O.truncDivision(o,c),y=Nt.bitsToWords(s,c,m);h.encode(y,m-f);let C=o%c,N=new W;N.appendBits(0,C);for(const T of Array.from(y))N.appendBits(T,c);return N}static bitsToWords(s,o,c){let f=new Int32Array(c),h,m;for(h=0,m=s.getSize()/o;h<m;h++){let y=0;for(let C=0;C<o;C++)y|=s.get(h*o+C)?1<<o-C-1:0;f[h]=y}return f}static getGF(s){switch(s){case 4:return Ee.AZTEC_PARAM;case 6:return Ee.AZTEC_DATA_6;case 8:return Ee.AZTEC_DATA_8;case 10:return Ee.AZTEC_DATA_10;case 12:return Ee.AZTEC_DATA_12;default:throw new E("Unsupported word size "+s)}}static stuffBits(s,o){let c=new W,f=s.getSize(),h=(1<<o)-2;for(let m=0;m<f;m+=o){let y=0;for(let C=0;C<o;C++)(m+C>=f||s.get(m+C))&&(y|=1<<o-1-C);(y&h)===h?(c.appendBits(y&h,o),m--):y&h?c.appendBits(y,o):(c.appendBits(y|1,o),m--)}return c}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Nt.DEFAULT_EC_PERCENT=33,Nt.DEFAULT_AZTEC_LAYERS=0,Nt.MAX_NB_BITS=32,Nt.MAX_NB_BITS_COMPACT=4,Nt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Oo{encode(s,o,c,f){return this.encodeWithHints(s,o,c,f,null)}encodeWithHints(s,o,c,f,h){let m=Sl.ISO_8859_1,y=Nt.DEFAULT_EC_PERCENT,C=Nt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(yn.CHARACTER_SET)&&(m=$c.forName(h.get(yn.CHARACTER_SET).toString())),h.has(yn.ERROR_CORRECTION)&&(y=O.parseInt(h.get(yn.ERROR_CORRECTION).toString())),h.has(yn.AZTEC_LAYERS)&&(C=O.parseInt(h.get(yn.AZTEC_LAYERS).toString()))),Oo.encodeLayers(s,o,c,f,m,y,C)}static encodeLayers(s,o,c,f,h,m,y){if(o!==oe.AZTEC)throw new E("Can only encode AZTEC, but got "+o);let C=Nt.encode(ie.getBytes(s,h),m,y);return Oo.renderResult(C,c,f)}static renderResult(s,o,c){let f=s.getMatrix();if(f==null)throw new It;let h=f.getWidth(),m=f.getHeight(),y=Math.max(o,h),C=Math.max(c,m),N=Math.min(y/h,C/m),T=(y-h*N)/2,F=(C-m*N)/2,H=new Te(y,C);for(let K=0,z=F;K<m;K++,z+=N)for(let $=0,X=T;$<h;$++,X+=N)f.get($,K)&&H.setRegion(X,z,N,N);return H}}n.AbstractExpandedDecoder=Fc,n.ArgumentException=w,n.ArithmeticException=Wt,n.AztecCode=Al,n.AztecCodeReader=Ss,n.AztecCodeWriter=Oo,n.AztecDecoder=Fe,n.AztecDetector=is,n.AztecDetectorResult=Xn,n.AztecEncoder=Nt,n.AztecHighLevelEncoder=Ro,n.AztecPoint=fn,n.BarcodeFormat=oe,n.Binarizer=A,n.BinaryBitmap=_,n.BitArray=W,n.BitMatrix=Te,n.BitSource=bl,n.BrowserAztecCodeReader=Fi,n.BrowserBarcodeReader=Rd,n.BrowserCodeReader=Ae,n.BrowserDatamatrixCodeReader=Od,n.BrowserMultiFormatReader=Gr,n.BrowserPDF417Reader=wp,n.BrowserQRCodeReader=Wd,n.BrowserQRCodeSvgWriter=qi,n.CharacterSetECI=Y,n.ChecksumException=k,n.Code128Reader=Ie,n.Code39Reader=an,n.DataMatrixDecodedBitStreamParser=js,n.DataMatrixReader=ls,n.DecodeHintType=B,n.DecoderResult=nn,n.DefaultGridSampler=sn,n.DetectorResult=gn,n.EAN13Reader=mi,n.EncodeHintType=yn,n.Exception=v,n.FormatException=R,n.GenericGF=Ee,n.GenericGFPoly=qt,n.GlobalHistogramBinarizer=_e,n.GridSampler=Je,n.GridSamplerInstance=Xt,n.HTMLCanvasElementLuminanceSource=Re,n.HybridBinarizer=ve,n.ITFReader=Tt,n.IllegalArgumentException=E,n.IllegalStateException=It,n.InvertedLuminanceSource=ge,n.LuminanceSource=ue,n.MathUtils=Xe,n.MultiFormatOneDReader=zi,n.MultiFormatReader=zd,n.MultiFormatWriter=_l,n.NotFoundException=re,n.OneDReader=rn,n.PDF417DecodedBitStreamParser=he,n.PDF417DecoderErrorCorrection=Ld,n.PDF417Reader=Kn,n.PDF417ResultMetadata=qc,n.PerspectiveTransform=Rt,n.PlanarYUVLuminanceSource=xr,n.QRCodeByteMatrix=cs,n.QRCodeDataMask=Er,n.QRCodeDecodedBitStreamParser=cn,n.QRCodeDecoderErrorCorrectionLevel=Kt,n.QRCodeDecoderFormatInformation=tr,n.QRCodeEncoder=ln,n.QRCodeEncoderQRCode=Zs,n.QRCodeMaskUtil=ut,n.QRCodeMatrixUtil=rt,n.QRCodeMode=nt,n.QRCodeReader=xi,n.QRCodeVersion=Ze,n.QRCodeWriter=Vi,n.RGBLuminanceSource=Yc,n.RSS14Reader=hn,n.RSSExpandedReader=Ne,n.ReaderException=lr,n.ReedSolomonDecoder=we,n.ReedSolomonEncoder=jo,n.ReedSolomonException=Qe,n.Result=Ge,n.ResultMetadataType=it,n.ResultPoint=ke,n.StringUtils=ie,n.UnsupportedOperationException=ee,n.VideoInputDevice=qe,n.WhiteRectangleDetector=Oe,n.WriterException=Zt,n.ZXingArrays=j,n.ZXingCharset=$c,n.ZXingInteger=O,n.ZXingStandardCharsets=Sl,n.ZXingStringBuilder=ce,n.ZXingStringEncoding=de,n.ZXingSystem=I,n.createAbstractExpandedDecoder=Id,Object.defineProperty(n,"__esModule",{value:!0})})})(Ax,Ax.exports);var mn=Ax.exports;const tL=Eh(mn),nL=p3({__proto__:null,default:tL},[mn]);var gb=function(){function e(t,n,r){if(this.formatMap=new Map([[He.QR_CODE,mn.BarcodeFormat.QR_CODE],[He.AZTEC,mn.BarcodeFormat.AZTEC],[He.CODABAR,mn.BarcodeFormat.CODABAR],[He.CODE_39,mn.BarcodeFormat.CODE_39],[He.CODE_93,mn.BarcodeFormat.CODE_93],[He.CODE_128,mn.BarcodeFormat.CODE_128],[He.DATA_MATRIX,mn.BarcodeFormat.DATA_MATRIX],[He.MAXICODE,mn.BarcodeFormat.MAXICODE],[He.ITF,mn.BarcodeFormat.ITF],[He.EAN_13,mn.BarcodeFormat.EAN_13],[He.EAN_8,mn.BarcodeFormat.EAN_8],[He.PDF_417,mn.BarcodeFormat.PDF_417],[He.RSS_14,mn.BarcodeFormat.RSS_14],[He.RSS_EXPANDED,mn.BarcodeFormat.RSS_EXPANDED],[He.UPC_A,mn.BarcodeFormat.UPC_A],[He.UPC_E,mn.BarcodeFormat.UPC_E],[He.UPC_EAN_EXTENSION,mn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!nL)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),a=new Map;a.set(mn.DecodeHintType.POSSIBLE_FORMATS,i),a.set(mn.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var n=new mn.MultiFormatReader(this.verbose,this.hints),r=new mn.HTMLCanvasElementLuminanceSource(t),i=new mn.BinaryBitmap(new mn.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:aN.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),rL=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function x(w){try{v(r.next(w))}catch(E){d(E)}}function g(w){try{v(r.throw(w))}catch(E){d(E)}}function v(w){w.done?a(w.value):i(w.value).then(x,g)}v((r=r.apply(e,t||[])).next())})},sL=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(v){return function(w){return g([v,w])}}function g(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(a=v[0]&2?i.return:v[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,v[1])).done)return a;switch(i=0,a&&(v=[v[0]&2,a.value]),v[0]){case 0:case 1:a=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!a||v[1]>a[0]&&v[1]<a[3])){n.label=v[1];break}if(v[0]===6&&n.label<a[1]){n.label=a[1],a=v;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(v);break}a[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=a=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},vb=function(){function e(t,n,r){if(this.formatMap=new Map([[He.QR_CODE,"qr_code"],[He.AZTEC,"aztec"],[He.CODABAR,"codabar"],[He.CODE_39,"code_39"],[He.CODE_93,"code_93"],[He.CODE_128,"code_128"],[He.DATA_MATRIX,"data_matrix"],[He.ITF,"itf"],[He.EAN_13,"ean_13"],[He.EAN_8,"ean_8"],[He.PDF_417,"pdf417"],[He.UPC_A,"upc_a"],[He.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return rL(this,void 0,void 0,function(){var n,r;return sL(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:aN.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,a=t;i<a.length;i++){var d=a[i],x=d.boundingBox.width*d.boundingBox.height;x>r&&(r=x,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),yb=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function x(w){try{v(r.next(w))}catch(E){d(E)}}function g(w){try{v(r.throw(w))}catch(E){d(E)}}function v(w){w.done?a(w.value):i(w.value).then(x,g)}v((r=r.apply(e,t||[])).next())})},wb=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(v){return function(w){return g([v,w])}}function g(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(a=v[0]&2?i.return:v[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,v[1])).done)return a;switch(i=0,a&&(v=[v[0]&2,a.value]),v[0]){case 0:case 1:a=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!a||v[1]>a[0]&&v[1]<a[3])){n.label=v[1];break}if(v[0]===6&&n.label<a[1]){n.label=a[1],a=v;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(v);break}a[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=a=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},iL=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&vb.isSupported()?(this.primaryDecoder=new vb(t,r,i),this.secondaryDecoder=new gb(t,r,i)):this.primaryDecoder=new gb(t,r,i)}return e.prototype.decodeAsync=function(t){return yb(this,void 0,void 0,function(){var n;return wb(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return yb(this,void 0,void 0,function(){var n,r;return wb(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),c2=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),uh=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function x(w){try{v(r.next(w))}catch(E){d(E)}}function g(w){try{v(r.throw(w))}catch(E){d(E)}}function v(w){w.done?a(w.value):i(w.value).then(x,g)}v((r=r.apply(e,t||[])).next())})},dh=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(v){return function(w){return g([v,w])}}function g(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(a=v[0]&2?i.return:v[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,v[1])).done)return a;switch(i=0,a&&(v=[v[0]&2,a.value]),v[0]){case 0:case 1:a=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!a||v[1]>a[0]&&v[1]<a[3])){n.label=v[1];break}if(v[0]===6&&n.label<a[1]){n.label=a[1],a=v;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(v);break}a[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=a=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},lN=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),aL=function(e){c2(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(lN),oL=function(e){c2(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(aL),lL=function(e){c2(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(lN),cL=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new oL(this.track)},e.prototype.torchFeature=function(){return new lL(this.track)},e}(),uL=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return uh(this,void 0,void 0,function(){var a,d;return dh(this,function(x){switch(x.label){case 0:return a=new e(t,n,i),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:x.sent(),x.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return uh(this,void 0,void 0,function(){return dh(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),a=i.length,d=0;t.mediaStream.getVideoTracks().forEach(function(x){t.mediaStream.removeTrack(x),x.stop(),++d,d>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new cL(this.getFirstTrackOrFail())},e}(),dL=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return uh(this,void 0,void 0,function(){return dh(this,function(i){return[2,uL.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return uh(this,void 0,void 0,function(){var n,r;return dh(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),bb=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function x(w){try{v(r.next(w))}catch(E){d(E)}}function g(w){try{v(r.throw(w))}catch(E){d(E)}}function v(w){w.done?a(w.value):i(w.value).then(x,g)}v((r=r.apply(e,t||[])).next())})},Cb=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(v){return function(w){return g([v,w])}}function g(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(a=v[0]&2?i.return:v[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,v[1])).done)return a;switch(i=0,a&&(v=[v[0]&2,a.value]),v[0]){case 0:case 1:a=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!a||v[1]>a[0]&&v[1]<a[3])){n.label=v[1];break}if(v[0]===6&&n.label<a[1]){n.label=a[1],a=v;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(v);break}a[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=a=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},fL=function(){function e(){}return e.failIfNotSupported=function(){return bb(this,void 0,void 0,function(){return Cb(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return bb(this,void 0,void 0,function(){return Cb(this,function(n){return[2,dL.create(t)]})})},e}(),hL=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function x(w){try{v(r.next(w))}catch(E){d(E)}}function g(w){try{v(r.throw(w))}catch(E){d(E)}}function v(w){w.done?a(w.value):i(w.value).then(x,g)}v((r=r.apply(e,t||[])).next())})},pL=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(v){return function(w){return g([v,w])}}function g(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(a=v[0]&2?i.return:v[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,v[1])).done)return a;switch(i=0,a&&(v=[v[0]&2,a.value]),v[0]){case 0:case 1:a=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!a||v[1]>a[0]&&v[1]<a[3])){n.label=v[1];break}if(v[0]===6&&n.label<a[1]){n.label=a[1],a=v;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(v);break}a[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=a=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},mL=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Jl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Jl.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return hL(this,void 0,void 0,function(){var t,n,r,i,a,d,x;return pL(this,function(g){switch(g.label){case 0:return t=function(v){for(var w=v.getVideoTracks(),E=0,_=w;E<_.length;E++){var k=_[E];k.enabled=!1,k.stop(),v.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=g.sent(),i=[],a=0,d=r;a<d.length;a++)x=d[a],x.kind==="videoinput"&&i.push({id:x.deviceId,label:x.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var d=[],x=0,g=a;x<g.length;x++){var v=g[x];v.kind==="video"&&d.push({id:v.id,label:v.label})}t(d)},i=MediaStreamTrack;i.getSources(r)})},e}(),Ln;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Ln||(Ln={}));var xL=function(){function e(){this.state=Ln.NOT_STARTED,this.onGoingTransactionNewState=Ln.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ln.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ln.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ln.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ln.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ln.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Ln.UNKNOWN:throw"Transition from unknown is not allowed";case Ln.NOT_STARTED:this.failIfNewStateIs(t,[Ln.PAUSED]);break;case Ln.SCANNING:break;case Ln.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),gL=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ln.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ln.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ln.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ln.PAUSED},e}(),vL=function(){function e(){}return e.create=function(){return new gL(new xL)},e}(),yL=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xs=function(e){yL(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Z9),wL=function(){function e(t,n){this.logger=n,this.fps=xs.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=xs.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?oN.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!na(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),bL=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new eL(this.verbose),this.qrcode=new iL(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=vL.create()}return e.prototype.start=function(t,n,r,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;i?d=i:d=this.verbose?this.logger.log:function(){};var x=wL.create(n,this.logger);this.clearElement();var g=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=g,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:xs.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var E=this,_=this.stateManagerProxy.startTransition(Ln.SCANNING);return new Promise(function(k,A){var I=v?x.videoConstraints:E.createVideoConstraints(t);if(!I){_.cancel(),A("videoConstraints should be defined");return}var L={};(!v||x.aspectRatio)&&(L.aspectRatio=x.aspectRatio);var D={onRenderSurfaceReady:function(j,O){E.setupUi(j,O,x),E.isScanning=!0,E.foreverScan(x,r,d)}};fL.failIfNotSupported().then(function(j){j.create(I).then(function(O){return O.render(a.element,L,D).then(function(W){E.renderedCamera=W,_.execute(),k(null)}).catch(function(W){_.cancel(),A(W)})}).catch(function(O){_.cancel(),A(Jl.errorGettingUserMedia(O))})}).catch(function(j){_.cancel(),A(Jl.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ln.PAUSED),this.showPausedState(),(na(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Ln.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Ln.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(xs.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(na(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var x=d.width,g=d.height,v=document.getElementById(r.elementId),w=v.clientWidth?v.clientWidth:xs.DEFAULT_WIDTH,E=Math.max(v.clientHeight?v.clientHeight:g,xs.FILE_SCAN_MIN_HEIGHT),_=r.computeCanvasDrawConfig(x,g,w,E);if(n){var k=r.createCanvasElement(w,E,"qr-canvas-visible");k.style.display="inline-block",v.appendChild(k);var A=k.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=w,A.canvas.height=E,A.drawImage(d,0,0,x,g,_.x,_.y,_.width,_.height)}var I=xs.FILE_SCAN_HIDDEN_CANVAS_PADDING,L=Math.max(d.width,_.width),D=Math.max(d.height,_.height),j=L+2*I,O=D+2*I,W=r.createCanvasElement(j,O);v.appendChild(W);var Z=W.getContext("2d");if(!Z)throw"Unable to get 2d context from canvas";Z.canvas.width=j,Z.canvas.height=O,Z.drawImage(d,0,0,x,g,I,I,L,D);try{r.qrcode.decodeRobustlyAsync(W).then(function(B){i(xb.createFromQrcodeResult(B))}).catch(a)}catch(B){a("QR code parse error, error = ".concat(B))}},d.onerror=a,d.onabort=a,d.onstalled=a,d.onsuspend=a,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return mL.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!oN.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[He.QR_CODE,He.AZTEC,He.CODABAR,He.CODE_39,He.CODE_93,He.CODE_128,He.DATA_MATRIX,He.MAXICODE,He.ITF,He.EAN_13,He.EAN_8,He.PDF_417,He.RSS_14,He.RSS_EXPANDED,He.UPC_A,He.UPC_E,He.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=t.formatsToSupport;i<a.length;i++){var d=a[i];K9(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(na(t))return!0;if(!na(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(na(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return na(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var d=this.toQrdimensions(t,n,a),x=function(v){if(v<xs.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(xs.MIN_QR_BOX_SIZE,"px.")},g=function(v){return v>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=t),v};x(d.width),x(d.height),d.width=g(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=na(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&a.height<=n,x={x:0,y:0,width:t,height:n},g=d?this.getShadedRegionBounds(t,n,a):x,v=this.createCanvasElement(g.width,g.height),w={willReadFrequently:!0},E=v.getContext("2d",w);E.canvas.width=g.width,E.canvas.height=g.height,this.element.append(v),d&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=E,this.canvasElement=v},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Jl.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,xb.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=Jl.codeParseError(i);return n(a,J9.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),d=a.videoWidth/a.clientWidth,x=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*d,v=this.qrRegion.height*x,w=this.qrRegion.x*d,E=this.qrRegion.y*x;this.context.drawImage(a,w,E,g,v,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(k){!k&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){_()})):_()}).catch(function(k){i.logger.logError("Error happend while scanning context",k),_()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",d=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},x=Object.keys(t);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var g=Object.keys(t)[0];if(g!==n&&g!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(g===n){var v=t.facingMode;if(typeof v=="string"){if(d(v))return{facingMode:v}}else if(typeof v=="object")if(a in v){if(d(v["".concat(a)]))return{facingMode:{exact:v["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var w=typeof v;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var E=t.deviceId;if(typeof E=="string")return{deviceId:E};if(typeof E=="object"){if(a in E)return{deviceId:{exact:E["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var _=typeof E;throw"Invalid type of 'deviceId' = ".concat(_)}}}var k=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var a=(r-t)/2,d=(i-n)/2;return{x:a,y:d,width:t,height:n}}else{var x=t,g=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(g)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?xs.BORDER_SHADER_MATCH_COLOR:xs.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,a=n,d=document.createElement("canvas");return d.style.width="".concat(i,"px"),d.style.height="".concat(a,"px"),d.style.display="none",d.id=na(r)?"qr-canvas":r,d},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var d=(n-i.width)/2,x=(r-i.height)/2;if(a.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(xs.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var g=5,v=40;this.insertShaderBorders(a,v,g,-g,null,0,!0),this.insertShaderBorders(a,v,g,-g,null,0,!1),this.insertShaderBorders(a,v,g,null,-g,0,!0),this.insertShaderBorders(a,v,g,null,-g,0,!1),this.insertShaderBorders(a,g,v+g,-g,null,-g,!0),this.insertShaderBorders(a,g,v+g,null,-g,-g,!0),this.insertShaderBorders(a,g,v+g,-g,null,-g,!1),this.insertShaderBorders(a,g,v+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,i,a,d,x){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=xs.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(n,"px"),g.style.height="".concat(r,"px"),i!==null&&(g.style.top="".concat(i,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),x?g.style.left="".concat(d,"px"):g.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var Eb;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Eb||(Eb={}));const cN=({onScan:e,onError:t=i=>console.error(i),isOpen:n,onClose:r})=>{const[i,a]=M.useState(!1),[d,x]=M.useState(""),g=M.useRef(null),v=M.useRef(null);M.useEffect(()=>(n&&!i&&w(),()=>{E()}),[n]);const w=async()=>{if(g.current)try{const k=new bL("scanner");v.current=k;const A={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[1,2,3,4,5,6,7,8,9,10,11,12]};await k.start({facingMode:"environment"},A,I=>{e(I),E(),r()},I=>{console.log(I)}),a(!0)}catch(k){console.error("Error starting scanner:",k);let A="",I="";k.name==="NotFoundError"||k.message&&k.message.includes("Requested device not found")?(A="No camera found. Please make sure your device has a camera and you have granted permission to use it.",I="No camera detected. You can manually enter the barcode value instead.",et.error(I,{icon:"📷❌",toastId:"camera-not-found"})):k.name==="NotAllowedError"||k.message&&k.message.includes("Permission denied")?(A="Camera access denied. Please grant permission to use your camera.",I="Camera access denied. Please check your browser permissions.",et.error(I,{icon:"🔒",toastId:"camera-permission-denied"})):(A=k&&k.message?k.message:"Failed to start scanner",et.error("Failed to start barcode scanner. Please try again later.",{toastId:"scanner-error"})),x(A),t(A),r()}},E=async()=>{if(v.current&&i)try{await v.current.stop(),a(!1)}catch(k){console.error("Error stopping scanner:",k)}},_=()=>{E(),r()};return n?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Scan Barcode"}),l.jsx("button",{onClick:_,className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"mb-4",children:l.jsx("div",{id:"scanner",ref:g,className:"w-full h-64 bg-gray-100 rounded flex items-center justify-center",children:d&&l.jsxs("div",{className:"text-center p-4",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-red-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),l.jsx("p",{className:"text-red-600 font-medium",children:d}),l.jsx("p",{className:"text-gray-600 mt-2",children:"You can manually enter the barcode value instead."})]})})}),l.jsx("div",{className:"text-sm text-gray-500 mb-4",children:d?"To use the barcode scanner, you need a device with a camera and permission to access it.":"Position the barcode within the scanner area. The scanner will automatically detect and process the code."}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:_,className:"btn btn-outline",children:"Cancel"})})]})}):null};cN.propTypes={onScan:se.func.isRequired,onError:se.func,isOpen:se.bool.isRequired,onClose:se.func.isRequired};const uN=({id:e="",onScan:t,buttonText:n="",className:r=""})=>{const[i,a]=M.useState(!1),d=()=>{a(!0)},x=()=>{a(!1)},g=v=>{console.error("Scan error:",v)};return l.jsxs(l.Fragment,{children:[l.jsxs("button",{id:e,type:"button",onClick:d,className:`flex items-center justify-center px-3 py-1.5 text-sm font-medium rounded-md
          bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
          hover:border-primary-600 hover:shadow-sm transition-all ${r}`,title:"Scan Barcode",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),n&&l.jsx("span",{className:"ml-1 font-medium",children:n})]}),l.jsx(cN,{isOpen:i,onClose:x,onScan:t,onError:g})]})};uN.propTypes={id:se.string,onScan:se.func.isRequired,buttonText:se.string,className:se.string};const dN=({id:e,name:t,type:n="text",label:r,placeholder:i,value:a,onChange:d,onBlur:x,error:g,disabled:v=!1,required:w=!1,className:E="",onScan:_,...k})=>{const D=`
    rounded-l-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${g?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${v?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 px-3 text-sm
    w-full
    ${E}
  `,j=`barcode-scan-button-${e}`;return l.jsxs("div",{className:"w-full",children:[r&&l.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${g?"text-red-600":"text-slate-700"}`,children:[r,w&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsxs("div",{className:"flex",style:{display:"flex",width:"100%"},children:[l.jsx("input",{id:e,name:t,type:n,value:a,onChange:d,onBlur:x,placeholder:i,disabled:v,required:w,className:D,style:{width:"calc(100% - 120px)"},...k}),l.jsxs("button",{type:"button",onClick:()=>{const O=document.getElementById(j);O&&O.click()},className:`w-[120px] bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
            hover:border-primary-600 hover:shadow-sm transition-all font-medium flex items-center
            justify-center rounded-r-md border-l-0`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Scan"]}),l.jsx("div",{style:{display:"none"},children:l.jsx(uN,{id:j,onScan:_})})]}),g&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g})]})};dN.propTypes={id:se.string.isRequired,name:se.string.isRequired,type:se.string,label:se.string,placeholder:se.string,value:se.oneOfType([se.string,se.number]),onChange:se.func,onBlur:se.func,error:se.string,disabled:se.bool,required:se.bool,className:se.string,onScan:se.func.isRequired};const ws=({id:e,name:t,label:n,value:r,onChange:i,onBlur:a,options:d=[],error:x,disabled:g=!1,required:v=!1,placeholder:w="Select an option",className:E="",..._})=>{const L=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none
    ${x?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900"}
    ${g?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 pl-3 pr-10 text-sm
    ${E}
  `;return l.jsxs("div",{className:"w-full",children:[n&&l.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${x?"text-red-600":"text-slate-700"}`,children:[n,v&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{id:e,name:t,value:r,onChange:i,onBlur:a,disabled:g,required:v,className:L,..._,children:[l.jsx("option",{value:"",children:w}),d.map(D=>l.jsx("option",{value:D.value||D,children:D.label||D},D.value||D))]}),l.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:l.jsx("svg",{className:"h-5 w-5 text-slate-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:l.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),x&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:x})]})};ws.propTypes={id:se.string.isRequired,name:se.string.isRequired,label:se.string,value:se.string,onChange:se.func,onBlur:se.func,options:se.arrayOf(se.oneOfType([se.string,se.shape({value:se.string.isRequired,label:se.string.isRequired})])),error:se.string,disabled:se.bool,required:se.bool,placeholder:se.string,className:se.string};const We=({children:e,className:t="",...n})=>l.jsx("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden ${t}`,...n,children:e}),fN=({children:e,className:t="",...n})=>l.jsx("div",{className:`px-6 py-4 border-b border-slate-200 ${t}`,...n,children:e}),hN=({children:e,className:t="",...n})=>l.jsx("h3",{className:`text-lg font-medium text-slate-800 ${t}`,...n,children:e}),pN=({children:e,className:t="",...n})=>l.jsx("div",{className:`p-6 ${t}`,...n,children:e}),mN=({children:e,className:t="",...n})=>l.jsx("div",{className:`px-6 py-4 bg-slate-50 border-t border-slate-200 ${t}`,...n,children:e});We.Header=fN;We.Title=hN;We.Body=pN;We.Footer=mN;We.propTypes={children:se.node.isRequired,className:se.string};fN.propTypes={children:se.node.isRequired,className:se.string};hN.propTypes={children:se.node.isRequired,className:se.string};pN.propTypes={children:se.node.isRequired,className:se.string};mN.propTypes={children:se.node.isRequired,className:se.string};const vs=({children:e,variant:t="primary",size:n="md",className:r="",...i})=>{const a="inline-flex items-center font-medium rounded-full",d={primary:"bg-primary-100 text-primary-800",secondary:"bg-slate-100 text-slate-800",success:"bg-green-100 text-green-800",danger:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",info:"bg-blue-100 text-blue-800"},x={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"},g=`
    ${a}
    ${d[t]||d.primary}
    ${x[n]||x.md}
    ${r}
  `;return l.jsx("span",{className:g,...i,children:e})};vs.propTypes={children:se.node.isRequired,variant:se.oneOf(["primary","secondary","success","danger","warning","info"]),size:se.oneOf(["sm","md","lg"]),className:se.string};function ap(){return typeof window<"u"}function Mc(e){return xN(e)?(e.nodeName||"").toLowerCase():"#document"}function Cs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pi(e){var t;return(t=(xN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xN(e){return ap()?e instanceof Node||e instanceof Cs(e).Node:!1}function Hr(e){return ap()?e instanceof Element||e instanceof Cs(e).Element:!1}function Mi(e){return ap()?e instanceof HTMLElement||e instanceof Cs(e).HTMLElement:!1}function Nb(e){return!ap()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cs(e).ShadowRoot}function Ed(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Gs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function CL(e){return["table","td","th"].includes(Mc(e))}function op(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function u2(e){const t=d2(),n=Hr(e)?Gs(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function EL(e){let t=ho(e);for(;Mi(t)&&!bc(t);){if(u2(t))return t;if(op(t))return null;t=ho(t)}return null}function d2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bc(e){return["html","body","#document"].includes(Mc(e))}function Gs(e){return Cs(e).getComputedStyle(e)}function lp(e){return Hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ho(e){if(Mc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Nb(e)&&e.host||Pi(e);return Nb(t)?t.host:t}function gN(e){const t=ho(e);return bc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mi(t)&&Ed(t)?t:gN(t)}function fd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=gN(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),d=Cs(i);if(a){const x=kx(d);return t.concat(d,d.visualViewport||[],Ed(i)?i:[],x&&n?fd(x):[])}return t.concat(i,fd(i,[],n))}function kx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Cc=Math.min,rl=Math.max,fh=Math.round,Yf=Math.floor,Oi=e=>({x:e,y:e}),NL={left:"right",right:"left",bottom:"top",top:"bottom"},_L={start:"end",end:"start"};function SL(e,t,n){return rl(e,Cc(t,n))}function cp(e,t){return typeof e=="function"?e(t):e}function Ec(e){return e.split("-")[0]}function Nd(e){return e.split("-")[1]}function AL(e){return e==="x"?"y":"x"}function f2(e){return e==="y"?"height":"width"}function ac(e){return["top","bottom"].includes(Ec(e))?"y":"x"}function h2(e){return AL(ac(e))}function kL(e,t,n){n===void 0&&(n=!1);const r=Nd(e),i=h2(e),a=f2(i);let d=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(d=hh(d)),[d,hh(d)]}function TL(e){const t=hh(e);return[Tx(e),t,Tx(t)]}function Tx(e){return e.replace(/start|end/g,t=>_L[t])}function jL(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:d;default:return[]}}function DL(e,t,n,r){const i=Nd(e);let a=jL(Ec(e),n==="start",r);return i&&(a=a.map(d=>d+"-"+i),t&&(a=a.concat(a.map(Tx)))),a}function hh(e){return e.replace(/left|right|bottom|top/g,t=>NL[t])}function IL(e){return{top:0,right:0,bottom:0,left:0,...e}}function vN(e){return typeof e!="number"?IL(e):{top:e,right:e,bottom:e,left:e}}function ph(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var mh=typeof document<"u"?M.useLayoutEffect:M.useEffect;const RL={...qx},OL=RL.useInsertionEffect,ML=OL||(e=>e());function LL(e){const t=M.useRef(()=>{});return ML(()=>{t.current=e}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function _b(e,t,n){let{reference:r,floating:i}=e;const a=ac(t),d=h2(t),x=f2(d),g=Ec(t),v=a==="y",w=r.x+r.width/2-i.width/2,E=r.y+r.height/2-i.height/2,_=r[x]/2-i[x]/2;let k;switch(g){case"top":k={x:w,y:r.y-i.height};break;case"bottom":k={x:w,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:E};break;case"left":k={x:r.x-i.width,y:E};break;default:k={x:r.x,y:r.y}}switch(Nd(t)){case"start":k[d]-=_*(n&&v?-1:1);break;case"end":k[d]+=_*(n&&v?-1:1);break}return k}const PL=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:d}=n,x=a.filter(Boolean),g=await(d.isRTL==null?void 0:d.isRTL(t));let v=await d.getElementRects({reference:e,floating:t,strategy:i}),{x:w,y:E}=_b(v,r,g),_=r,k={},A=0;for(let I=0;I<x.length;I++){const{name:L,fn:D}=x[I],{x:j,y:O,data:W,reset:Z}=await D({x:w,y:E,initialPlacement:r,placement:_,strategy:i,middlewareData:k,rects:v,platform:d,elements:{reference:e,floating:t}});w=j??w,E=O??E,k={...k,[L]:{...k[L],...W}},Z&&A<=50&&(A++,typeof Z=="object"&&(Z.placement&&(_=Z.placement),Z.rects&&(v=Z.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:i}):Z.rects),{x:w,y:E}=_b(v,_,g)),I=-1)}return{x:w,y:E,placement:_,strategy:i,middlewareData:k}};async function FL(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:d,elements:x,strategy:g}=e,{boundary:v="clippingAncestors",rootBoundary:w="viewport",elementContext:E="floating",altBoundary:_=!1,padding:k=0}=cp(t,e),A=vN(k),L=x[_?E==="floating"?"reference":"floating":E],D=ph(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(L)))==null||n?L:L.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(x.floating)),boundary:v,rootBoundary:w,strategy:g})),j=E==="floating"?{x:r,y:i,width:d.floating.width,height:d.floating.height}:d.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(x.floating)),W=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},Z=ph(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:x,rect:j,offsetParent:O,strategy:g}):j);return{top:(D.top-Z.top+A.top)/W.y,bottom:(Z.bottom-D.bottom+A.bottom)/W.y,left:(D.left-Z.left+A.left)/W.x,right:(Z.right-D.right+A.right)/W.x}}const BL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:d,elements:x,middlewareData:g}=t,{element:v,padding:w=0}=cp(e,t)||{};if(v==null)return{};const E=vN(w),_={x:n,y:r},k=h2(i),A=f2(k),I=await d.getDimensions(v),L=k==="y",D=L?"top":"left",j=L?"bottom":"right",O=L?"clientHeight":"clientWidth",W=a.reference[A]+a.reference[k]-_[k]-a.floating[A],Z=_[k]-a.reference[k],B=await(d.getOffsetParent==null?void 0:d.getOffsetParent(v));let R=B?B[O]:0;(!R||!await(d.isElement==null?void 0:d.isElement(B)))&&(R=x.floating[O]||a.floating[A]);const V=W/2-Z/2,Y=R/2-I[A]/2-1,ee=Cc(E[D],Y),de=Cc(E[j],Y),ie=ee,ce=R-I[A]-de,Te=R/2-I[A]/2+V,re=SL(ie,Te,ce),_e=!g.arrow&&Nd(i)!=null&&Te!==re&&a.reference[A]/2-(Te<ie?ee:de)-I[A]/2<0,ve=_e?Te<ie?Te-ie:Te-ce:0;return{[k]:_[k]+ve,data:{[k]:re,centerOffset:Te-re-ve,..._e&&{alignmentOffset:ve}},reset:_e}}}),UL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:d,initialPlacement:x,platform:g,elements:v}=t,{mainAxis:w=!0,crossAxis:E=!0,fallbackPlacements:_,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:I=!0,...L}=cp(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const D=Ec(i),j=ac(x),O=Ec(x)===x,W=await(g.isRTL==null?void 0:g.isRTL(v.floating)),Z=_||(O||!I?[hh(x)]:TL(x)),B=A!=="none";!_&&B&&Z.push(...DL(x,I,A,W));const R=[x,...Z],V=await FL(t,L),Y=[];let ee=((r=a.flip)==null?void 0:r.overflows)||[];if(w&&Y.push(V[D]),E){const re=kL(i,d,W);Y.push(V[re[0]],V[re[1]])}if(ee=[...ee,{placement:i,overflows:Y}],!Y.every(re=>re<=0)){var de,ie;const re=(((de=a.flip)==null?void 0:de.index)||0)+1,_e=R[re];if(_e){var ce;const ue=E==="alignment"?j!==ac(_e):!1,ge=((ce=ee[0])==null?void 0:ce.overflows[0])>0;if(!ue||ge)return{data:{index:re,overflows:ee},reset:{placement:_e}}}let ve=(ie=ee.filter(ue=>ue.overflows[0]<=0).sort((ue,ge)=>ue.overflows[1]-ge.overflows[1])[0])==null?void 0:ie.placement;if(!ve)switch(k){case"bestFit":{var Te;const ue=(Te=ee.filter(ge=>{if(B){const Re=ac(ge.placement);return Re===j||Re==="y"}return!0}).map(ge=>[ge.placement,ge.overflows.filter(Re=>Re>0).reduce((Re,qe)=>Re+qe,0)]).sort((ge,Re)=>ge[1]-Re[1])[0])==null?void 0:Te[0];ue&&(ve=ue);break}case"initialPlacement":ve=x;break}if(i!==ve)return{reset:{placement:ve}}}return{}}}};async function zL(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),d=Ec(n),x=Nd(n),g=ac(n)==="y",v=["left","top"].includes(d)?-1:1,w=a&&g?-1:1,E=cp(t,e);let{mainAxis:_,crossAxis:k,alignmentAxis:A}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return x&&typeof A=="number"&&(k=x==="end"?A*-1:A),g?{x:k*w,y:_*v}:{x:_*v,y:k*w}}const WL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:d,middlewareData:x}=t,g=await zL(t,e);return d===((n=x.offset)==null?void 0:n.placement)&&(r=x.arrow)!=null&&r.alignmentOffset?{}:{x:i+g.x,y:a+g.y,data:{...g,placement:d}}}}};function yN(e){const t=Gs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Mi(e),a=i?e.offsetWidth:n,d=i?e.offsetHeight:r,x=fh(n)!==a||fh(r)!==d;return x&&(n=a,r=d),{width:n,height:r,$:x}}function p2(e){return Hr(e)?e:e.contextElement}function oc(e){const t=p2(e);if(!Mi(t))return Oi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=yN(t);let d=(a?fh(n.width):n.width)/r,x=(a?fh(n.height):n.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!x||!Number.isFinite(x))&&(x=1),{x:d,y:x}}const HL=Oi(0);function wN(e){const t=Cs(e);return!d2()||!t.visualViewport?HL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cs(e)?!1:t}function hl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=p2(e);let d=Oi(1);t&&(r?Hr(r)&&(d=oc(r)):d=oc(e));const x=qL(a,n,r)?wN(a):Oi(0);let g=(i.left+x.x)/d.x,v=(i.top+x.y)/d.y,w=i.width/d.x,E=i.height/d.y;if(a){const _=Cs(a),k=r&&Hr(r)?Cs(r):r;let A=_,I=kx(A);for(;I&&r&&k!==A;){const L=oc(I),D=I.getBoundingClientRect(),j=Gs(I),O=D.left+(I.clientLeft+parseFloat(j.paddingLeft))*L.x,W=D.top+(I.clientTop+parseFloat(j.paddingTop))*L.y;g*=L.x,v*=L.y,w*=L.x,E*=L.y,g+=O,v+=W,A=Cs(I),I=kx(A)}}return ph({width:w,height:E,x:g,y:v})}function m2(e,t){const n=lp(e).scrollLeft;return t?t.left+n:hl(Pi(e)).left+n}function bN(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:m2(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function VL(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",d=Pi(r),x=t?op(t.floating):!1;if(r===d||x&&a)return n;let g={scrollLeft:0,scrollTop:0},v=Oi(1);const w=Oi(0),E=Mi(r);if((E||!E&&!a)&&((Mc(r)!=="body"||Ed(d))&&(g=lp(r)),Mi(r))){const k=hl(r);v=oc(r),w.x=k.x+r.clientLeft,w.y=k.y+r.clientTop}const _=d&&!E&&!a?bN(d,g,!0):Oi(0);return{width:n.width*v.x,height:n.height*v.y,x:n.x*v.x-g.scrollLeft*v.x+w.x+_.x,y:n.y*v.y-g.scrollTop*v.y+w.y+_.y}}function YL(e){return Array.from(e.getClientRects())}function $L(e){const t=Pi(e),n=lp(e),r=e.ownerDocument.body,i=rl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=rl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let d=-n.scrollLeft+m2(e);const x=-n.scrollTop;return Gs(r).direction==="rtl"&&(d+=rl(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:d,y:x}}function GL(e,t){const n=Cs(e),r=Pi(e),i=n.visualViewport;let a=r.clientWidth,d=r.clientHeight,x=0,g=0;if(i){a=i.width,d=i.height;const v=d2();(!v||v&&t==="fixed")&&(x=i.offsetLeft,g=i.offsetTop)}return{width:a,height:d,x,y:g}}function XL(e,t){const n=hl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Mi(e)?oc(e):Oi(1),d=e.clientWidth*a.x,x=e.clientHeight*a.y,g=i*a.x,v=r*a.y;return{width:d,height:x,x:g,y:v}}function Sb(e,t,n){let r;if(t==="viewport")r=GL(e,n);else if(t==="document")r=$L(Pi(e));else if(Hr(t))r=XL(t,n);else{const i=wN(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ph(r)}function CN(e,t){const n=ho(e);return n===t||!Hr(n)||bc(n)?!1:Gs(n).position==="fixed"||CN(n,t)}function QL(e,t){const n=t.get(e);if(n)return n;let r=fd(e,[],!1).filter(x=>Hr(x)&&Mc(x)!=="body"),i=null;const a=Gs(e).position==="fixed";let d=a?ho(e):e;for(;Hr(d)&&!bc(d);){const x=Gs(d),g=u2(d);!g&&x.position==="fixed"&&(i=null),(a?!g&&!i:!g&&x.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ed(d)&&!g&&CN(e,d))?r=r.filter(w=>w!==d):i=x,d=ho(d)}return t.set(e,r),r}function KL(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const d=[...n==="clippingAncestors"?op(t)?[]:QL(t,this._c):[].concat(n),r],x=d[0],g=d.reduce((v,w)=>{const E=Sb(t,w,i);return v.top=rl(E.top,v.top),v.right=Cc(E.right,v.right),v.bottom=Cc(E.bottom,v.bottom),v.left=rl(E.left,v.left),v},Sb(t,x,i));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function ZL(e){const{width:t,height:n}=yN(e);return{width:t,height:n}}function JL(e,t,n){const r=Mi(t),i=Pi(t),a=n==="fixed",d=hl(e,!0,a,t);let x={scrollLeft:0,scrollTop:0};const g=Oi(0);function v(){g.x=m2(i)}if(r||!r&&!a)if((Mc(t)!=="body"||Ed(i))&&(x=lp(t)),r){const k=hl(t,!0,a,t);g.x=k.x+t.clientLeft,g.y=k.y+t.clientTop}else i&&v();a&&!r&&i&&v();const w=i&&!r&&!a?bN(i,x):Oi(0),E=d.left+x.scrollLeft-g.x-w.x,_=d.top+x.scrollTop-g.y-w.y;return{x:E,y:_,width:d.width,height:d.height}}function K1(e){return Gs(e).position==="static"}function Ab(e,t){if(!Mi(e)||Gs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Pi(e)===n&&(n=n.ownerDocument.body),n}function EN(e,t){const n=Cs(e);if(op(e))return n;if(!Mi(e)){let i=ho(e);for(;i&&!bc(i);){if(Hr(i)&&!K1(i))return i;i=ho(i)}return n}let r=Ab(e,t);for(;r&&CL(r)&&K1(r);)r=Ab(r,t);return r&&bc(r)&&K1(r)&&!u2(r)?n:r||EL(e)||n}const eP=async function(e){const t=this.getOffsetParent||EN,n=this.getDimensions,r=await n(e.floating);return{reference:JL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tP(e){return Gs(e).direction==="rtl"}const nP={convertOffsetParentRelativeRectToViewportRelativeRect:VL,getDocumentElement:Pi,getClippingRect:KL,getOffsetParent:EN,getElementRects:eP,getClientRects:YL,getDimensions:ZL,getScale:oc,isElement:Hr,isRTL:tP};function NN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rP(e,t){let n=null,r;const i=Pi(e);function a(){var x;clearTimeout(r),(x=n)==null||x.disconnect(),n=null}function d(x,g){x===void 0&&(x=!1),g===void 0&&(g=1),a();const v=e.getBoundingClientRect(),{left:w,top:E,width:_,height:k}=v;if(x||t(),!_||!k)return;const A=Yf(E),I=Yf(i.clientWidth-(w+_)),L=Yf(i.clientHeight-(E+k)),D=Yf(w),O={rootMargin:-A+"px "+-I+"px "+-L+"px "+-D+"px",threshold:rl(0,Cc(1,g))||1};let W=!0;function Z(B){const R=B[0].intersectionRatio;if(R!==g){if(!W)return d();R?d(!1,R):r=setTimeout(()=>{d(!1,1e-7)},1e3)}R===1&&!NN(v,e.getBoundingClientRect())&&d(),W=!1}try{n=new IntersectionObserver(Z,{...O,root:i.ownerDocument})}catch{n=new IntersectionObserver(Z,O)}n.observe(e)}return d(!0),a}function sP(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:x=typeof IntersectionObserver=="function",animationFrame:g=!1}=r,v=p2(e),w=i||a?[...v?fd(v):[],...fd(t)]:[];w.forEach(D=>{i&&D.addEventListener("scroll",n,{passive:!0}),a&&D.addEventListener("resize",n)});const E=v&&x?rP(v,n):null;let _=-1,k=null;d&&(k=new ResizeObserver(D=>{let[j]=D;j&&j.target===v&&k&&(k.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var O;(O=k)==null||O.observe(t)})),n()}),v&&!g&&k.observe(v),k.observe(t));let A,I=g?hl(e):null;g&&L();function L(){const D=hl(e);I&&!NN(I,D)&&n(),I=D,A=requestAnimationFrame(L)}return n(),()=>{var D;w.forEach(j=>{i&&j.removeEventListener("scroll",n),a&&j.removeEventListener("resize",n)}),E==null||E(),(D=k)==null||D.disconnect(),k=null,g&&cancelAnimationFrame(A)}}const iP=WL,aP=UL,kb=BL,oP=(e,t,n)=>{const r=new Map,i={platform:nP,...n},a={...i.platform,_c:r};return PL(e,t,{...i,platform:a})};var w0=typeof document<"u"?M.useLayoutEffect:M.useEffect;function xh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!xh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!xh(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function _N(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tb(e,t){const n=_N(e);return Math.round(t*n)/n}function Z1(e){const t=M.useRef(e);return w0(()=>{t.current=e}),t}function lP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:d}={},transform:x=!0,whileElementsMounted:g,open:v}=e,[w,E]=M.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[_,k]=M.useState(r);xh(_,r)||k(r);const[A,I]=M.useState(null),[L,D]=M.useState(null),j=M.useCallback(ue=>{ue!==B.current&&(B.current=ue,I(ue))},[]),O=M.useCallback(ue=>{ue!==R.current&&(R.current=ue,D(ue))},[]),W=a||A,Z=d||L,B=M.useRef(null),R=M.useRef(null),V=M.useRef(w),Y=g!=null,ee=Z1(g),de=Z1(i),ie=Z1(v),ce=M.useCallback(()=>{if(!B.current||!R.current)return;const ue={placement:t,strategy:n,middleware:_};de.current&&(ue.platform=de.current),oP(B.current,R.current,ue).then(ge=>{const Re={...ge,isPositioned:ie.current!==!1};Te.current&&!xh(V.current,Re)&&(V.current=Re,Mg.flushSync(()=>{E(Re)}))})},[_,t,n,de,ie]);w0(()=>{v===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,E(ue=>({...ue,isPositioned:!1})))},[v]);const Te=M.useRef(!1);w0(()=>(Te.current=!0,()=>{Te.current=!1}),[]),w0(()=>{if(W&&(B.current=W),Z&&(R.current=Z),W&&Z){if(ee.current)return ee.current(W,Z,ce);ce()}},[W,Z,ce,ee,Y]);const re=M.useMemo(()=>({reference:B,floating:R,setReference:j,setFloating:O}),[j,O]),_e=M.useMemo(()=>({reference:W,floating:Z}),[W,Z]),ve=M.useMemo(()=>{const ue={position:n,left:0,top:0};if(!_e.floating)return ue;const ge=Tb(_e.floating,w.x),Re=Tb(_e.floating,w.y);return x?{...ue,transform:"translate("+ge+"px, "+Re+"px)",..._N(_e.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ge,top:Re}},[n,x,_e.floating,w.x,w.y]);return M.useMemo(()=>({...w,update:ce,refs:re,elements:_e,floatingStyles:ve}),[w,ce,re,_e,ve])}const cP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?kb({element:r.current,padding:i}).fn(n):{}:r?kb({element:r,padding:i}).fn(n):{}}}},uP=(e,t)=>({...iP(e),options:[e,t]}),dP=(e,t)=>({...aP(e),options:[e,t]}),fP=(e,t)=>({...cP(e),options:[e,t]}),hP={...qx};let jb=!1,pP=0;const Db=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+pP++;function mP(){const[e,t]=M.useState(()=>jb?Db():void 0);return mh(()=>{e==null&&t(Db())},[]),M.useEffect(()=>{jb=!0},[]),e}const xP=hP.useId,SN=xP||mP,gP=M.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:a,shift:d}},width:x=14,height:g=7,tipRadius:v=0,strokeWidth:w=0,staticOffset:E,stroke:_,d:k,style:{transform:A,...I}={},...L}=t,D=SN(),[j,O]=M.useState(!1);if(mh(()=>{if(!i)return;Gs(i).direction==="rtl"&&O(!0)},[i]),!i)return null;const[W,Z]=r.split("-"),B=W==="top"||W==="bottom";let R=E;(B&&d!=null&&d.x||!B&&d!=null&&d.y)&&(R=null);const V=w*2,Y=V/2,ee=x/2*(v/-8+1),de=g/2*v/4,ie=!!k,ce=R&&Z==="end"?"bottom":"top";let Te=R&&Z==="end"?"right":"left";R&&j&&(Te=Z==="end"?"left":"right");const re=(a==null?void 0:a.x)!=null?R||a.x:"",_e=(a==null?void 0:a.y)!=null?R||a.y:"",ve=k||"M0,0"+(" H"+x)+(" L"+(x-ee)+","+(g-de))+(" Q"+x/2+","+g+" "+ee+","+(g-de))+" Z",ue={top:ie?"rotate(180deg)":"",left:ie?"rotate(90deg)":"rotate(-90deg)",bottom:ie?"":"rotate(180deg)",right:ie?"rotate(-90deg)":"rotate(90deg)"}[W];return l.jsxs("svg",{...L,"aria-hidden":!0,ref:n,width:ie?x:x+V,height:x,viewBox:"0 0 "+x+" "+(g>x?g:x),style:{position:"absolute",pointerEvents:"none",[Te]:re,[ce]:_e,[W]:B||ie?"100%":"calc(100% - "+V/2+"px)",transform:[ue,A].filter(ge=>!!ge).join(" "),...I},children:[V>0&&l.jsx("path",{clipPath:"url(#"+D+")",fill:"none",stroke:_,strokeWidth:V+(k?0:1),d:ve}),l.jsx("path",{stroke:V&&!k?L.fill:"none",d:ve}),l.jsx("clipPath",{id:D,children:l.jsx("rect",{x:-Y,y:Y*(ie?-1:1),width:x+V,height:x})})]})});function vP(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const yP=M.createContext(null),wP=M.createContext(null),bP=()=>{var e;return((e=M.useContext(yP))==null?void 0:e.id)||null},CP=()=>M.useContext(wP);function EP(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=SN(),a=M.useRef({}),[d]=M.useState(()=>vP()),x=bP()!=null,[g,v]=M.useState(r.reference),w=LL((k,A,I)=>{a.current.openEvent=k?A:void 0,d.emit("openchange",{open:k,event:A,reason:I,nested:x}),n==null||n(k,A,I)}),E=M.useMemo(()=>({setPositionReference:v}),[]),_=M.useMemo(()=>({reference:g||r.reference||null,floating:r.floating||null,domReference:r.reference}),[g,r.reference,r.floating]);return M.useMemo(()=>({dataRef:a,open:t,onOpenChange:w,elements:_,events:d,floatingId:i,refs:E}),[t,w,_,d,i,E])}function NP(e){e===void 0&&(e={});const{nodeId:t}=e,n=EP({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[a,d]=M.useState(null),[x,g]=M.useState(null),w=(i==null?void 0:i.domReference)||a,E=M.useRef(null),_=CP();mh(()=>{w&&(E.current=w)},[w]);const k=lP({...e,elements:{...i,...x&&{reference:x}}}),A=M.useCallback(O=>{const W=Hr(O)?{getBoundingClientRect:()=>O.getBoundingClientRect(),getClientRects:()=>O.getClientRects(),contextElement:O}:O;g(W),k.refs.setReference(W)},[k.refs]),I=M.useCallback(O=>{(Hr(O)||O===null)&&(E.current=O,d(O)),(Hr(k.refs.reference.current)||k.refs.reference.current===null||O!==null&&!Hr(O))&&k.refs.setReference(O)},[k.refs]),L=M.useMemo(()=>({...k.refs,setReference:I,setPositionReference:A,domReference:E}),[k.refs,I,A]),D=M.useMemo(()=>({...k.elements,domReference:w}),[k.elements,w]),j=M.useMemo(()=>({...k,...r,refs:L,elements:D,nodeId:t}),[k,L,D,t,r]);return mh(()=>{r.dataRef.current.floatingContext=j;const O=_==null?void 0:_.nodesRef.current.find(W=>W.id===t);O&&(O.context=j)}),M.useMemo(()=>({...k,context:j,refs:L,elements:D}),[k,L,D,j])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var jx=function(t,n){return jx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},jx(t,n)};function pr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");jx(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Pt=function(){return Pt=Object.assign||function(n){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(n[d]=r[d])}return n},Pt.apply(this,arguments)};function Di(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var _P=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,a=e.className,d=e.children,x=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return fe.createElement("div",{className:a,role:"dialog","aria-label":x,"aria-modal":"true"},d)},SP=function(e,t){var n=M.useRef(null),r=M.useRef(e);r.current=e;var i=M.useCallback(function(a){var d,x=a.composed&&a.composedPath&&a.composedPath().find(function(g){return g instanceof Node})||a.target;n.current&&!n.current.contains(x)&&(t&&x instanceof HTMLElement&&x.classList.contains(t)||(d=r.current)===null||d===void 0||d.call(r,a))},[t]);return M.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},up=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,d=e.ignoreClass,x=SP(n,d);return fe.createElement("div",{className:r,style:a,ref:function(g){x.current=g,i&&(i.current=g)}},t)},Pe;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Pe||(Pe={}));function AN(){var e=typeof window<"u"?window:globalThis;return e}var _d=12;function $t(e){if(e==null)return new Date;var t=typeof e=="string"?S9(e):Ye(e);return dp(t)?t:new Date}function J1(e,t,n,r,i){i===void 0&&(i=$t());for(var a=Nc(n)||Nc(x2()),d=Array.isArray(t)?t:[t],x=0,g=d;x<g.length;x++){var v=g[x],w=w9(e,v,i,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(dp(w)&&(!r||e===Nn(w,v,n)))return w}return null}function dp(e,t){return ih(e)&&!fl(e,new Date("1/1/1800"))}function Nn(e,t,n){if(n==="en")return ud(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Nc(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Nc(x2()),ud(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Bs(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Nn(e,i,r)||""}var kN=" - ";function AP(e,t,n){if(!e)return"";var r=Bs(e,n),i=t?Bs(t,n):"";return"".concat(r).concat(kN).concat(i)}function kP(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?Bs(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=Bs(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}function em(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,a=i===void 0?0:i,d=t.second,x=d===void 0?0:d;return g0(v0(y0(e,x),a),r)}function TP(e){return i2(e)}function jP(e,t){return Nn(e,"ddd",t)}function b0(e){return dl(e)}function lo(e,t,n){var r=Nc(t||x2());return ya(e,{locale:r,weekStartsOn:n})}function ha(e){return VE(e)}function Tu(e){return ip(e)}function Ib(e){return Cx(e)}function Rb(){return dl($t())}function Ob(e){return n2(e)}function DP(e){return AO(e)}function IP(e){return r2(e)}function Si(e,t){return e&&t?N9(e,t):!e&&!t}function Ur(e,t){return e&&t?C9(e,t):!e&&!t}function gh(e,t){return e&&t?E9(e,t):!e&&!t}function Lt(e,t){return e&&t?wO(e,t):!e&&!t}function Zo(e,t){return e&&t?_M(e,t):!e&&!t}function ju(e,t,n){var r,i=dl(t),a=n2(n);try{r=dd(e,{start:i,end:a})}catch{r=!1}return r}function x2(){var e=AN();return e.__localeId__}function Nc(e){if(typeof e=="string"){var t=AN();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function RP(e,t,n){return t(Nn(e,"EEEE",n))}function OP(e,t){return Nn(e,"EEEEEE",t)}function MP(e,t){return Nn(e,"EEE",t)}function g2(e,t){return Nn(Us($t(),e),"LLLL",t)}function TN(e,t){return Nn(Us($t(),e),"LLL",t)}function LP(e,t){return Nn(Bl($t(),e),"QQQ",t)}function Hs(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.excludeDateIntervals,x=n.includeDates,g=n.includeDateIntervals,v=n.filterDate;return Sd(e,{minDate:r,maxDate:i})||a&&a.some(function(w){return w instanceof Date?Lt(e,w):Lt(e,w.date)})||d&&d.some(function(w){var E=w.start,_=w.end;return dd(e,{start:E,end:_})})||x&&!x.some(function(w){return Lt(e,w)})||g&&!g.some(function(w){var E=w.start,_=w.end;return dd(e,{start:E,end:_})})||v&&!v($t(e))||!1}function v2(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var d=a.start,x=a.end;return dd(e,{start:d,end:x})}):r&&r.some(function(a){var d;return a instanceof Date?Lt(e,a):Lt(e,(d=a.date)!==null&&d!==void 0?d:new Date)})||!1}function jN(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.includeDates,x=n.filterDate;return Sd(e,{minDate:r?VE(r):void 0,maxDate:i?r2(i):void 0})||(a==null?void 0:a.some(function(g){return Ur(e,g instanceof Date?g:g.date)}))||d&&!d.some(function(g){return Ur(e,g)})||x&&!x($t(e))||!1}function $f(e,t,n,r){var i=Ct(e),a=Ir(e),d=Ct(t),x=Ir(t),g=Ct(r);return i===d&&i===g?a<=n&&n<=x:i<d?g===i&&a<=n||g===d&&x>=n||g<d&&g>i:!1}function PP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.includeDates;return Sd(e,{minDate:r,maxDate:i})||a&&a.some(function(x){return Ur(x instanceof Date?x:x.date,e)})||d&&!d.some(function(x){return Ur(x,e)})||!1}function Gf(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.includeDates,x=n.filterDate;return Sd(e,{minDate:r,maxDate:i})||(a==null?void 0:a.some(function(g){return gh(e,g instanceof Date?g:g.date)}))||d&&!d.some(function(g){return gh(e,g)})||x&&!x($t(e))||!1}function Xf(e,t,n){if(!t||!n||!ih(t)||!ih(n))return!1;var r=Ct(t),i=Ct(n);return r<=e&&i>=e}function C0(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,d=n.includeDates,x=n.filterDate,g=new Date(e,0,1);return Sd(g,{minDate:r?ip(r):void 0,maxDate:i?YE(i):void 0})||(a==null?void 0:a.some(function(v){return Si(g,v instanceof Date?v:v.date)}))||d&&!d.some(function(v){return Si(g,v)})||x&&!x($t(g))||!1}function Qf(e,t,n,r){var i=Ct(e),a=tl(e),d=Ct(t),x=tl(t),g=Ct(r);return i===d&&i===g?a<=n&&n<=x:i<d?g===i&&a<=n||g===d&&x>=n||g<d&&g>i:!1}function Sd(e,t){var n,r=t===void 0?{}:t,i=r.minDate,a=r.maxDate;return(n=i&&yc(e,i)<0||a&&yc(e,a)>0)!==null&&n!==void 0?n:!1}function Mb(e,t){return t.some(function(n){return da(n)===da(e)&&fa(n)===fa(e)&&oo(n)===oo(e)})}function Lb(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,a=n.filterTime;return r&&Mb(e,r)||i&&!Mb(e,i)||a&&!a(e)||!1}function Pb(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=$t();i=g0(i,da(e)),i=v0(i,fa(e)),i=y0(i,oo(e));var a=$t();a=g0(a,da(n)),a=v0(a,fa(n)),a=y0(a,oo(n));var d=$t();d=g0(d,da(r)),d=v0(d,fa(r)),d=y0(d,oo(r));var x;try{x=!dd(i,{start:a,end:d})}catch{x=!1}return x}function Fb(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=nl(e,1);return r&&cd(r,a)>0||i&&i.every(function(d){return cd(d,a)>0})||!1}function Bb(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=fi(e,1);return r&&cd(a,r)>0||i&&i.every(function(d){return cd(a,d)>0})||!1}function FP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=ip(e),d=nN(a,1);return r&&ah(r,d)>0||i&&i.every(function(x){return ah(x,d)>0})||!1}function BP(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=YE(e),d=t2(a,1);return r&&ah(d,r)>0||i&&i.every(function(x){return ah(d,x)>0})||!1}function Ub(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=wc(e,1);return r&&oh(r,a)>0||i&&i.every(function(d){return oh(d,a)>0})||!1}function UP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,a=i===void 0?_d:i,d=Tu(wc(e,a)),x=Ka(d,a).endPeriod,g=r&&Ct(r);return g&&g>x||!1}function zb(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=ca(e,1);return r&&oh(a,r)>0||i&&i.every(function(d){return oh(a,d)>0})||!1}function zP(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,a=i===void 0?_d:i,d=ca(e,a),x=Ka(d,a).startPeriod,g=r&&Ct(r);return g&&g<x||!1}function DN(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return yc(i,t)>=0});return ab(r)}else return n?ab(n):t}function IN(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return yc(i,t)<=0});return ib(r)}else return n?ib(n):t}function Wb(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var d=e[i];if(ua(d)){var x=Nn(d,"MM.dd.yyyy"),g=r.get(x)||[];g.includes(t)||(g.push(t),r.set(x,g))}else if(typeof d=="object"){var v=Object.keys(d),w=(n=v[0])!==null&&n!==void 0?n:"",E=d[w];if(typeof w=="string"&&Array.isArray(E))for(var _=0,k=E.length;_<k;_++){var A=E[_];if(A){var x=Nn(A,"MM.dd.yyyy"),g=r.get(x)||[];g.includes(w)||(g.push(w),r.set(x,g))}}}}return r}function WP(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function HP(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var i=r.date,a=r.holidayName;if(ua(i)){var d=Nn(i,"MM.dd.yyyy"),x=n.get(d)||{className:"",holidayNames:[]};if(!("className"in x&&x.className===t&&WP(x.holidayNames,[a]))){x.className=t;var g=x.holidayNames;x.holidayNames=g?Di(Di([],g,!0),[a],!1):[a],n.set(d,x)}}}),n}function qP(e,t,n,r,i){for(var a=i.length,d=[],x=0;x<a;x++){var g=e,v=i[x];v&&(g=mO(g,da(v)),g=bx(g,fa(v)),g=vO(g,oo(v)));var w=bx(e,(n+1)*r);fo(g,t)&&fl(g,w)&&v!=null&&d.push(v)}return d}function Hb(e){return e<10?"0".concat(e):"".concat(e)}function Ka(e,t){t===void 0&&(t=_d);var n=Math.ceil(Ct(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function VP(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function qb(e){var t=e.getSeconds(),n=e.getMilliseconds();return Ye(e.getTime()-t*1e3-n)}function YP(e,t){return qb(e).getTime()===qb(t).getTime()}function Vb(e){if(!ua(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Yb(e,t){if(!ua(e)||!ua(t))throw new Error("Invalid date received");var n=Vb(e),r=Vb(t);return fl(n,r)}function RN(e){return e.key===Pe.Space}var $P=function(e){pr(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=fe.createRef(),r.onTimeChange=function(i){var a,d;r.setState({time:i});var x=r.props.date,g=x instanceof Date&&!isNaN(+x),v=g?x:new Date;if(i!=null&&i.includes(":")){var w=i.split(":"),E=w[0],_=w[1];v.setHours(Number(E)),v.setMinutes(Number(_))}(d=(a=r.props).onChange)===null||d===void 0||d.call(a,v)},r.renderTimeInput=function(){var i=r.state.time,a=r.props,d=a.date,x=a.timeString,g=a.customTimeInput;return g?M.cloneElement(g,{date:d,value:i,onChange:r.onTimeChange}):fe.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var v;(v=r.inputRef.current)===null||v===void 0||v.focus()},required:!0,value:i,onChange:function(v){r.onTimeChange(v.target.value||x)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return fe.createElement("div",{className:"react-datepicker__input-time-container"},fe.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),fe.createElement("div",{className:"react-datepicker-time__input-container"},fe.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(M.Component),GP=function(e){pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=M.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,a,d=r.key;d===Pe.Space&&(r.preventDefault(),r.key=Pe.Enter),(a=(i=n.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},n.isSameDay=function(r){return Lt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(d){return n.isSameDayOrWeek(d)}):n.isSameDayOrWeek(n.props.selected),a=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!a},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Hs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return v2(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Lt(n.props.day,lo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Lt(r,lo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,a=r.highlightDates;if(!a)return!1;var d=Nn(i,"MM.dd.yyyy");return a.get(d)},n.getHolidaysClass=function(){var r,i=n.props,a=i.day,d=i.holidays;if(!d)return[void 0];var x=Nn(a,"MM.dd.yyyy");return d.has(x)?[(r=d.get(x))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:ju(i,a,d)},n.isInSelectingRange=function(){var r,i=n.props,a=i.day,d=i.selectsStart,x=i.selectsEnd,g=i.selectsRange,v=i.selectsDisabledDaysInRange,w=i.startDate,E=i.endDate,_=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(d||x||g)||!_||!v&&n.isDisabled()?!1:d&&E&&(fl(_,E)||Zo(_,E))?ju(a,_,E):x&&w&&(fo(_,w)||Zo(_,w))||g&&w&&!E&&(fo(_,w)||Zo(_,w))?ju(a,w,_):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,a=i.day,d=i.startDate,x=i.selectsStart,g=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return x?Lt(a,g):Lt(a,d)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,a=i.day,d=i.endDate,x=i.selectsEnd,g=i.selectsRange,v=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return x||g?Lt(a,v):Lt(a,d)},n.isRangeStart=function(){var r=n.props,i=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:Lt(a,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:Lt(d,i)},n.isWeekend=function(){var r=bM(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Ir(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Ir(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay($t())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return En("react-datepicker__day",i,"react-datepicker__day--"+jP(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,a=r.ariaLabelPrefixWhenEnabled,d=a===void 0?"Choose":a,x=r.ariaLabelPrefixWhenDisabled,g=x===void 0?"Not available":x,v=n.isDisabled()||n.isExcluded()?g:d;return"".concat(v," ").concat(Nn(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,a=r.holidays,d=a===void 0?new Map:a,x=r.excludeDates,g=Nn(i,"MM.dd.yyyy"),v=[];return d.has(g)&&v.push.apply(v,d.get(g).holidayNames),n.isExcluded()&&v.push(x==null?void 0:x.filter(function(w){return w instanceof Date?Lt(w,i):Lt(w==null?void 0:w.date,i)}).map(function(w){if(!(w instanceof Date))return w==null?void 0:w.message})),v.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,a=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Lt(i,r))?0:-1;return a},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(fb(n.props.day),n.props.day):fb(n.props.day)},n.render=function(){return fe.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&fe.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(M.Component),XP=function(e){pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=M.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,a,d=r.key;d===Pe.Space&&(r.preventDefault(),r.key=Pe.Enter),(a=(i=n.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Lt(n.props.date,n.props.selected)&&Lt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Lt(n.props.date,n.props.selected)&&Lt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Lt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,a=n.ariaLabelPrefix,d=a===void 0?t.defaultProps.ariaLabelPrefix:a,x=n.onClick,g={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!x&&!i,"react-datepicker__week-number--selected":!!x&&Lt(this.props.date,this.props.selected)};return fe.createElement("div",{ref:this.weekNumberEl,className:En(g),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(M.Component),QP=function(e){pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return Hs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,a){for(var d,x,g,v=new Date(r),w=0;w<7;w++){var E=new Date(r);E.setDate(E.getDate()+w);var _=!n.isDisabled(E);if(_){v=E;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(v,i,a),n.props.showWeekPicker&&n.handleDayClick(v,a),((d=n.props.shouldCloseOnSelect)!==null&&d!==void 0?d:t.defaultProps.shouldCloseOnSelect)&&((g=(x=n.props).setOpen)===null||g===void 0||g.call(x,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):TP(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=ui(r,6),a=new Date(r);a<=i;){if(!n.isDisabled(a))return!1;a=ui(a,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],a=n.formatWeekNumber(r);if(n.props.showWeekNumber){var d=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,a):void 0;i.push(fe.createElement(XP,Pt({key:"W"},t.defaultProps,n.props,{weekNumber:a,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:d})))}return i.concat([0,1,2,3,4,5,6].map(function(x){var g=ui(r,x);return fe.createElement(GP,Pt({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:g.valueOf(),day:g,onClick:n.handleDayClick.bind(n,g),onMouseEnter:n.handleDayMouseEnter.bind(n,g)}))}))},n.startOfWeek=function(){return lo(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Lt(n.startOfWeek(),n.props.selected)&&Lt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Lt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return fe.createElement("div",{className:En(n)},this.renderDays())},t}(M.Component),Nu,KP=6,lc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},tm=(Nu={},Nu[lc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Nu[lc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Nu[lc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Nu),Kf=1;function $b(e,t){return e?lc.FOUR_COLUMNS:t?lc.TWO_COLUMNS:lc.THREE_COLUMNS}var ZP=function(e){pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Di([],Array(12),!0).map(function(){return M.createRef()}),n.QUARTER_REFS=Di([],Array(4),!0).map(function(){return M.createRef()}),n.isDisabled=function(r){return Hs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return v2(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var a,d;(d=(a=n.props).onDayClick)===null||d===void 0||d.call(a,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,a;(a=(i=n.props).onDayMouseEnter)===null||a===void 0||a.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,a=i.day,d=i.startDate,x=i.endDate;return!d||!x?!1:Ur(Us(a,r),d)},n.isRangeStartQuarter=function(r){var i=n.props,a=i.day,d=i.startDate,x=i.endDate;return!d||!x?!1:gh(Bl(a,r),d)},n.isRangeEndMonth=function(r){var i=n.props,a=i.day,d=i.startDate,x=i.endDate;return!d||!x?!1:Ur(Us(a,r),x)},n.isRangeEndQuarter=function(r){var i=n.props,a=i.day,d=i.startDate,x=i.endDate;return!d||!x?!1:gh(Bl(a,r),x)},n.isInSelectingRangeMonth=function(r){var i,a=n.props,d=a.day,x=a.selectsStart,g=a.selectsEnd,v=a.selectsRange,w=a.startDate,E=a.endDate,_=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(x||g||v)||!_?!1:x&&E?$f(_,E,r,d):g&&w||v&&w&&!E?$f(w,_,r,d):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,d=a.day,x=a.startDate,g=a.selectsStart,v=Us(d,r),w=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return g?Ur(v,w):Ur(v,x)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,d=a.day,x=a.endDate,g=a.selectsEnd,v=a.selectsRange,w=Us(d,r),E=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return g||v?Ur(w,E):Ur(w,x)},n.isInSelectingRangeQuarter=function(r){var i,a=n.props,d=a.day,x=a.selectsStart,g=a.selectsEnd,v=a.selectsRange,w=a.startDate,E=a.endDate,_=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(x||g||v)||!_?!1:x&&E?Qf(_,E,r,d):g&&w||v&&w&&!E?Qf(w,_,r,d):!1},n.isWeekInMonth=function(r){var i=n.props.day,a=ui(r,6);return Ur(r,i)||Ur(a,i)},n.isCurrentMonth=function(r,i){return Ct(r)===Ct($t())&&i===Ir($t())},n.isCurrentQuarter=function(r,i){return Ct(r)===Ct($t())&&i===tl($t())},n.isSelectedMonth=function(r,i,a){return Ir(a)===i&&Ct(r)===Ct(a)},n.isSelectMonthInList=function(r,i,a){return a.some(function(d){return n.isSelectedMonth(r,i,d)})},n.isSelectedQuarter=function(r,i,a){return tl(r)===i&&Ct(r)===Ct(a)},n.isMonthSelected=function(){var r=n.props,i=r.day,a=r.selected,d=r.selectedDates,x=r.selectsMultiple,g=Ir(i);return x?d==null?void 0:d.some(function(v){return n.isSelectedMonth(i,g,v)}):!!a&&n.isSelectedMonth(i,g,a)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,a=0,d=!1,x=lo(ha(n.props.day),n.props.locale,n.props.calendarStartDay),g=function(A){return n.props.showWeekPicker?lo(A,n.props.locale,n.props.calendarStartDay):n.props.preSelection},v=function(A){return n.props.showWeekPicker?lo(A,n.props.locale,n.props.calendarStartDay):n.props.selected},w=n.props.selected?v(n.props.selected):void 0,E=n.props.preSelection?g(n.props.preSelection):void 0;r.push(fe.createElement(QP,Pt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:a,day:x,month:Ir(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:w,preSelection:E,showWeekNumber:n.props.showWeekNumbers}))),!d;){a++,x=sh(x,1);var _=i&&a>=KP,k=!i&&!n.isWeekInMonth(x);if(_||k)if(n.props.peekNextMonth)d=!0;else break}return r},n.onMonthClick=function(r,i){var a=n.isMonthDisabledForLabelDate(i),d=a.isDisabled,x=a.labelDate;d||n.handleDayClick(ha(x),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),a=i.isDisabled,d=i.labelDate;a||n.handleDayMouseEnter(ha(d))},n.handleMonthNavigation=function(r,i){var a,d,x,g;(d=(a=n.props).setPreSelection)===null||d===void 0||d.call(a,i),(g=(x=n.MONTH_REFS[r])===null||x===void 0?void 0:x.current)===null||g===void 0||g.focus()},n.handleKeyboardNavigation=function(r,i,a){var d,x=n.props,g=x.selected,v=x.preSelection,w=x.setPreSelection,E=x.minDate,_=x.maxDate,k=x.showFourColumnMonthYearPicker,A=x.showTwoColumnMonthYearPicker;if(v){var I=$b(k,A),L=n.getVerticalOffset(I),D=(d=tm[I])===null||d===void 0?void 0:d.grid,j=function(R,V,Y){var ee,de,ie=V,ce=Y;switch(R){case Pe.ArrowRight:ie=fi(V,Kf),ce=Y===11?0:Y+Kf;break;case Pe.ArrowLeft:ie=nl(V,Kf),ce=Y===0?11:Y-Kf;break;case Pe.ArrowUp:ie=nl(V,L),ce=!((ee=D==null?void 0:D[0])===null||ee===void 0)&&ee.includes(Y)?Y+12-L:Y-L;break;case Pe.ArrowDown:ie=fi(V,L),ce=!((de=D==null?void 0:D[D.length-1])===null||de===void 0)&&de.includes(Y)?Y-12+L:Y+L;break}return{newCalculatedDate:ie,newCalculatedMonth:ce}},O=function(R,V,Y){for(var ee=40,de=R,ie=!1,ce=0,Te=j(de,V,Y),re=Te.newCalculatedDate,_e=Te.newCalculatedMonth;!ie;){if(ce>=ee){re=V,_e=Y;break}if(E&&re<E){de=Pe.ArrowRight;var ve=j(de,re,_e);re=ve.newCalculatedDate,_e=ve.newCalculatedMonth}if(_&&re>_){de=Pe.ArrowLeft;var ve=j(de,re,_e);re=ve.newCalculatedDate,_e=ve.newCalculatedMonth}if(PP(re,n.props)){var ve=j(de,re,_e);re=ve.newCalculatedDate,_e=ve.newCalculatedMonth}else ie=!0;ce++}return{newCalculatedDate:re,newCalculatedMonth:_e}};if(i===Pe.Enter){n.isMonthDisabled(a)||(n.onMonthClick(r,a),w==null||w(g));return}var W=O(i,v,a),Z=W.newCalculatedDate,B=W.newCalculatedMonth;switch(i){case Pe.ArrowRight:case Pe.ArrowLeft:case Pe.ArrowUp:case Pe.ArrowDown:n.handleMonthNavigation(B,Z);break}}},n.getVerticalOffset=function(r){var i,a;return(a=(i=tm[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},n.onMonthKeyDown=function(r,i){var a=n.props,d=a.disabledKeyboardNavigation,x=a.handleOnMonthKeyDown,g=r.key;g!==Pe.Tab&&r.preventDefault(),d||n.handleKeyboardNavigation(r,g,i),x&&x(r)},n.onQuarterClick=function(r,i){var a=Bl(n.props.day,i);Gf(a,n.props)||n.handleDayClick(Ib(a),r)},n.onQuarterMouseEnter=function(r){var i=Bl(n.props.day,r);Gf(i,n.props)||n.handleDayMouseEnter(Ib(i))},n.handleQuarterNavigation=function(r,i){var a,d,x,g;n.isDisabled(i)||n.isExcluded(i)||((d=(a=n.props).setPreSelection)===null||d===void 0||d.call(a,i),(g=(x=n.QUARTER_REFS[r-1])===null||x===void 0?void 0:x.current)===null||g===void 0||g.focus())},n.onQuarterKeyDown=function(r,i){var a,d,x=r.key;if(!n.props.disabledKeyboardNavigation)switch(x){case Pe.Enter:n.onQuarterClick(r,i),(d=(a=n.props).setPreSelection)===null||d===void 0||d.call(a,n.props.selected);break;case Pe.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,t2(n.props.preSelection,1));break;case Pe.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,nN(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,a=n.props,d=a.day,x=a.minDate,g=a.maxDate,v=a.excludeDates,w=a.includeDates,E=Us(d,r);return{isDisabled:(i=(x||g||v||w)&&jN(E,n.props))!==null&&i!==void 0?i:!1,labelDate:E}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,a=i.day,d=i.startDate,x=i.endDate,g=i.preSelection,v=i.monthClassName,w=v?v(Us(a,r)):void 0,E=n.getSelection();return En("react-datepicker__month-text","react-datepicker__month-".concat(r),w,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":E?n.isSelectMonthInList(a,r,E):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&g&&n.isSelectedMonth(a,r,g)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":d&&x?$f(d,x,r,a):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(a,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Ir(n.props.preSelection),a=n.isMonthDisabledForLabelDate(i).isDisabled,d=r===i&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=tl(n.props.preSelection),a=Gf(n.props.day,n.props),d=r===i&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getAriaLabel=function(r){var i=n.props,a=i.chooseDayAriaLabelPrefix,d=a===void 0?"Choose":a,x=i.disabledDayAriaLabelPrefix,g=x===void 0?"Not available":x,v=i.day,w=i.locale,E=Us(v,r),_=n.isDisabled(E)||n.isExcluded(E)?g:d;return"".concat(_," ").concat(Nn(E,"MMMM yyyy",w))},n.getQuarterClassNames=function(r){var i=n.props,a=i.day,d=i.startDate,x=i.endDate,g=i.selected,v=i.minDate,w=i.maxDate,E=i.excludeDates,_=i.includeDates,k=i.filterDate,A=i.preSelection,I=i.disabledKeyboardNavigation,L=(v||w||E||_||k)&&Gf(Bl(a,r),n.props);return En("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":L,"react-datepicker__quarter-text--selected":g?n.isSelectedQuarter(a,r,g):void 0,"react-datepicker__quarter-text--keyboard-selected":!I&&A&&n.isSelectedQuarter(a,r,A)&&!L,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":d&&x?Qf(d,x,r,a):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(a,r)})},n.getMonthContent=function(r){var i=n.props,a=i.showFullMonthYearPicker,d=i.renderMonthContent,x=i.locale,g=i.day,v=TN(r,x),w=g2(r,x);return d?d(r,v,w,g):a?w:v},n.getQuarterContent=function(r){var i,a=n.props,d=a.renderQuarterContent,x=a.locale,g=LP(r,x);return(i=d==null?void 0:d(r,g))!==null&&i!==void 0?i:g},n.renderMonths=function(){var r,i=n.props,a=i.showTwoColumnMonthYearPicker,d=i.showFourColumnMonthYearPicker,x=i.day,g=i.selected,v=(r=tm[$b(d,a)])===null||r===void 0?void 0:r.grid;return v==null?void 0:v.map(function(w,E){return fe.createElement("div",{className:"react-datepicker__month-wrapper",key:E},w.map(function(_,k){return fe.createElement("div",{ref:n.MONTH_REFS[_],key:k,onClick:function(A){n.onMonthClick(A,_)},onKeyDown:function(A){RN(A)&&(A.preventDefault(),A.key=Pe.Enter),n.onMonthKeyDown(A,_)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(_)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(_)}:void 0,tabIndex:Number(n.getTabIndex(_)),className:n.getMonthClassNames(_),"aria-disabled":n.isMonthDisabled(_),role:"option","aria-label":n.getAriaLabel(_),"aria-current":n.isCurrentMonth(x,_)?"date":void 0,"aria-selected":g?n.isSelectedMonth(x,_,g):void 0},n.getMonthContent(_))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,a=r.selected,d=[1,2,3,4];return fe.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(x,g){return fe.createElement("div",{key:g,ref:n.QUARTER_REFS[g],role:"option",onClick:function(v){n.onQuarterClick(v,x)},onKeyDown:function(v){n.onQuarterKeyDown(v,x)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(x)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(x)}:void 0,className:n.getQuarterClassNames(x),"aria-selected":a?n.isSelectedQuarter(i,x,a):void 0,tabIndex:Number(n.getQuarterTabIndex(x)),"aria-current":n.isCurrentQuarter(i,x)?"date":void 0},n.getQuarterContent(x))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,a=r.selectsStart,d=r.selectsEnd,x=r.showMonthYearPicker,g=r.showQuarterYearPicker,v=r.showWeekPicker;return En("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||d)},{"react-datepicker__monthPicker":x},{"react-datepicker__quarterPicker":g},{"react-datepicker__weekPicker":v})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,a=n.selectsMultiple;if(a)return i;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,a=n.day,d=n.ariaLabelPrefix,x=d===void 0?"Month ":d,g=x?x.trim()+" ":"";return fe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(g).concat(Nn(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},t}(M.Component),JP=function(e){pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return fe.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?fe.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return fe.createElement(up,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(M.Component),eF=function(e){pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,a){return fe.createElement("option",{key:i,value:a},i)})},n.renderSelectMode=function(r){return fe.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return fe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},fe.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),fe.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return fe.createElement(JP,Pt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,a=[n.renderReadView(!i,r)];return i&&a.unshift(n.renderDropdown(r)),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return TN(a,n.props.locale)}:function(a){return g2(a,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return fe.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t}(M.Component);function tF(e,t){for(var n=[],r=ha(e),i=ha(t);!fo(r,i);)n.push($t(r)),r=fi(r,1);return n}var nF=function(e){pr(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var a=_x(i),d=Si(r.props.date,i)&&Ur(r.props.date,i);return fe.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":d?"true":void 0},d?fe.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Nn(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:tF(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=En({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return fe.createElement(up,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(M.Component),rF=function(e){pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=ha(n.props.minDate),i=ha(n.props.maxDate),a=[];!fo(r,i);){var d=_x(r);a.push(fe.createElement("option",{key:d,value:d},Nn(r,n.props.dateFormat,n.props.locale))),r=fi(r,1)}return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return fe.createElement("select",{value:_x(ha(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=Nn(n.props.date,n.props.dateFormat,n.props.locale);return fe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},fe.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),fe.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return fe.createElement(nF,Pt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=$t(r);Si(n.props.date,i)&&Ur(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return fe.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(M.Component),sF=function(e){pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,a;n.list&&(n.list.scrollTop=(a=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&a!==void 0?a:0)})},n.handleClick=function(r){var i,a;(n.props.minTime||n.props.maxTime)&&Pb(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Lb(r,n.props)||(a=(i=n.props).onChange)===null||a===void 0||a.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&YP(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&Pb(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Lb(r,n.props)},n.liClasses=function(r){var i,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(da(r)*3600+fa(r)*60+oo(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(r,i){var a,d;r.key===Pe.Space&&(r.preventDefault(),r.key=Pe.Enter),(r.key===Pe.ArrowUp||r.key===Pe.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Pe.ArrowDown||r.key===Pe.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Pe.Enter&&n.handleClick(i),(d=(a=n.props).handleOnKeyDown)===null||d===void 0||d.call(a,r)},n.renderTimes=function(){for(var r,i=[],a=typeof n.props.format=="string"?n.props.format:"p",d=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,x=n.props.selected||n.props.openToDate||$t(),g=b0(x),v=n.props.injectTimes&&n.props.injectTimes.sort(function(L,D){return L.getTime()-D.getTime()}),w=60*VP(x),E=w/d,_=0;_<E;_++){var k=bx(g,_*d);if(i.push(k),v){var A=qP(g,k,_,d,v);i=i.concat(A)}}var I=i.reduce(function(L,D){return D.getTime()<=x.getTime()?D:L},i[0]);return i.map(function(L){return fe.createElement("li",{key:L.valueOf(),onClick:n.handleClick.bind(n,L),className:n.liClasses(L),ref:function(D){L===I&&(n.centerLi=D)},onKeyDown:function(D){n.handleOnKeyDown(D,L)},tabIndex:L===I?0:-1,role:"option","aria-selected":n.isSelectedTime(L)?"true":void 0,"aria-disabled":n.isDisabledTime(L)?"true":void 0},Nn(L,a,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?fe.createElement(fe.Fragment,null):fe.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},fe.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,i=this.state.height;return fe.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),fe.createElement("div",{className:"react-datepicker__time"},fe.createElement("div",{className:"react-datepicker__time-box"},fe.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){n.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(M.Component),Gb=3,iF=function(e){pr(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=Di([],Array(r.props.yearItemNumber),!0).map(function(){return M.createRef()}),r.isDisabled=function(i){return Hs(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return v2(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var a=function(){var d,x;(x=(d=r.YEAR_REFS[i])===null||d===void 0?void 0:d.current)===null||x===void 0||x.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(i,a){r.props.onDayClick&&r.props.onDayClick(i,a)},r.handleYearNavigation=function(i,a){var d,x,g,v,w=r.props,E=w.date,_=w.yearItemNumber;if(!(E===void 0||_===void 0)){var k=Ka(E,_).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((x=(d=r.props).setPreSelection)===null||x===void 0||x.call(d,a),i-k<0?r.updateFocusOnPaginate(_-(k-i)):i-k>=_?r.updateFocusOnPaginate(Math.abs(_-(i-k))):(v=(g=r.YEAR_REFS[i-k])===null||g===void 0?void 0:g.current)===null||v===void 0||v.focus())}},r.isSameDay=function(i,a){return Lt(i,a)},r.isCurrentYear=function(i){return i===Ct($t())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Si(_i($t(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Si(_i($t(),i),r.props.endDate)},r.isInRange=function(i){return Xf(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var a=r.props,d=a.selectsStart,x=a.selectsEnd,g=a.selectsRange,v=a.startDate,w=a.endDate;return!(d||x||g)||!r.selectingDate()?!1:d&&w?Xf(i,r.selectingDate(),w):x&&v||g&&v&&!w?Xf(i,v,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var a;if(!r.isInSelectingRange(i))return!1;var d=r.props,x=d.startDate,g=d.selectsStart,v=_i($t(),i);return g?Si(v,(a=r.selectingDate())!==null&&a!==void 0?a:null):Si(v,x??null)},r.isSelectingRangeEnd=function(i){var a;if(!r.isInSelectingRange(i))return!1;var d=r.props,x=d.endDate,g=d.selectsEnd,v=d.selectsRange,w=_i($t(),i);return g||v?Si(w,(a=r.selectingDate())!==null&&a!==void 0?a:null):Si(w,x??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,d=a.minDate,x=a.maxDate,g=a.excludeDates,v=a.includeDates,w=a.filterDate,E=Tu(_i(r.props.date,i)),_=(d||x||g||v||w)&&C0(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Lt(E,Tu(r.props.selected))&&Lt(E,Tu(r.props.preSelection))&&!_}},r.isSelectedYear=function(i){var a=r.props,d=a.selectsMultiple,x=a.selected,g=a.selectedDates;return d?g==null?void 0:g.some(function(v){return i===Ct(v)}):!!x&&i===Ct(x)},r.onYearClick=function(i,a){var d=r.props.date;d!==void 0&&r.handleYearClick(Tu(_i(d,a)),i)},r.onYearKeyDown=function(i,a){var d,x,g=i.key,v=r.props,w=v.date,E=v.yearItemNumber,_=v.handleOnKeyDown;if(g!==Pe.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(g){case Pe.Enter:if(r.props.selected==null)break;r.onYearClick(i,a),(x=(d=r.props).setPreSelection)===null||x===void 0||x.call(d,r.props.selected);break;case Pe.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,ca(r.props.preSelection,1));break;case Pe.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,wc(r.props.preSelection,1));break;case Pe.ArrowUp:{if(w===void 0||E===void 0||r.props.preSelection==null)break;var k=Ka(w,E).startPeriod,A=Gb,I=a-A;if(I<k){var L=E%A;a>=k&&a<k+L?A=L:A+=L,I=a-A}r.handleYearNavigation(I,wc(r.props.preSelection,A));break}case Pe.ArrowDown:{if(w===void 0||E===void 0||r.props.preSelection==null)break;var D=Ka(w,E).endPeriod,A=Gb,I=a+A;if(I>D){var L=E%A;a<=D&&a>D-L?A=L:A+=L,I=a+A}r.handleYearNavigation(I,ca(r.props.preSelection,A));break}}_&&_(i)},r.getYearClassNames=function(i){var a=r.props,d=a.date,x=a.minDate,g=a.maxDate,v=a.excludeDates,w=a.includeDates,E=a.filterDate,_=a.yearClassName;return En("react-datepicker__year-text","react-datepicker__year-".concat(i),d?_==null?void 0:_(_i(d,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(x||g||v||w||E)&&C0(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=Ct(r.props.preSelection),d=C0(i,r.props);return i===a&&!d?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return t.prototype.render=function(){var n=this,r=[],i=this.props,a=i.date,d=i.yearItemNumber,x=i.onYearMouseEnter,g=i.onYearMouseLeave;if(a===void 0)return null;for(var v=Ka(a,d),w=v.startPeriod,E=v.endPeriod,_=function(I){r.push(fe.createElement("div",{ref:k.YEAR_REFS[I-w],onClick:function(L){n.onYearClick(L,I)},onKeyDown:function(L){RN(L)&&(L.preventDefault(),L.key=Pe.Enter),n.onYearKeyDown(L,I)},tabIndex:Number(k.getYearTabIndex(I)),className:k.getYearClassNames(I),onMouseEnter:k.props.usePointerEvent?void 0:function(L){return x(L,I)},onPointerEnter:k.props.usePointerEvent?function(L){return x(L,I)}:void 0,onMouseLeave:k.props.usePointerEvent?void 0:function(L){return g(L,I)},onPointerLeave:k.props.usePointerEvent?function(L){return g(L,I)}:void 0,key:I,"aria-current":k.isCurrentYear(I)?"date":void 0},k.getYearContent(I)))},k=this,A=w;A<=E;A++)_(A);return fe.createElement("div",{className:"react-datepicker__year"},fe.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(M.Component);function aF(e,t,n,r){for(var i=[],a=0;a<2*t+1;a++){var d=e+t-a,x=!0;n&&(x=Ct(n)<=d),r&&x&&(x=Ct(r)>=d),x&&i.push(d)}return i}var oF=function(e){pr(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var x=r.props.year,g=r.state.yearsList.map(function(E){return fe.createElement("div",{className:x===E?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:E,onClick:r.onChange.bind(r,E),"aria-selected":x===E?"true":void 0},x===E?fe.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",E)}),v=r.props.minDate?Ct(r.props.minDate):null,w=r.props.maxDate?Ct(r.props.maxDate):null;return(!w||!r.state.yearsList.find(function(E){return E===w}))&&g.unshift(fe.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},fe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!v||!r.state.yearsList.find(function(E){return E===v}))&&g.push(fe.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},fe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),g},r.onChange=function(x){r.props.onChange(x)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(x){var g=r.state.yearsList.map(function(v){return v+x});r.setState({yearsList:g})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,a=n.scrollableYearDropdown,d=i||(a?10:5);return r.state={yearsList:aF(r.props.year,d,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(a){return a.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=En({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return fe.createElement(up,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(M.Component),lF=function(e){pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?Ct(n.props.minDate):1900,i=n.props.maxDate?Ct(n.props.maxDate):2100,a=[],d=r;d<=i;d++)a.push(fe.createElement("option",{key:d,value:d},d));return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return fe.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return fe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},fe.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),fe.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return fe.createElement(oF,Pt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var a;(a=n.onSelect)===null||a===void 0||a.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var a,d;(d=(a=n.props).onSelect)===null||d===void 0||d.call(a,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return fe.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(M.Component),cF=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],uF=function(e){var t=(e.className||"").split(/\s+/);return cF.some(function(n){return t.indexOf(n)>=0})},dF=function(e){pr(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var a,d;uF(i.target)&&((d=(a=r.props).onDropdownFocus)===null||d===void 0||d.call(a,i))},r.getDateInView=function(){var i=r.props,a=i.preSelection,d=i.selected,x=i.openToDate,g=DN(r.props),v=IN(r.props),w=$t(),E=x||d||a;return E||(g&&fl(w,g)?g:v&&fo(w,v)?v:w)},r.increaseMonth=function(){r.setState(function(i){var a=i.date;return{date:fi(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var a=i.date;return{date:nl(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,a,d){r.props.onSelect(i,a,d),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,a){r.setState({selectingDate:_i($t(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,a)},r.handleYearMouseLeave=function(i,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,a)},r.handleYearChange=function(i){var a,d,x,g;(d=(a=r.props).onYearChange)===null||d===void 0||d.call(a,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(g=(x=r.props).setOpen)===null||g===void 0||g.call(x,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Hs(i,r.props))return i;for(var a=ha(i),d=IP(i),x=bO(d,a),g=null,v=0;v<=x;v++){var w=ui(a,v);if(!Hs(w,r.props)){g=w;break}}return g},r.handleMonthChange=function(i){var a,d,x,g=(a=r.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;r.handleCustomMonthChange(g),r.props.adjustDateOnChange&&(r.props.onSelect(g),(x=(d=r.props).setOpen)===null||x===void 0||x.call(d,!0)),r.props.setPreSelection&&r.props.setPreSelection(g)},r.handleCustomMonthChange=function(i){var a,d;(d=(a=r.props).onMonthChange)===null||d===void 0||d.call(a,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(a){var d=a.date;return{date:_i(d,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(a){var d=a.date;return{date:Us(d,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(a){var d=a.date;return{date:_i(Us(d,Ir(i)),Ct(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var a=lo(i,r.props.locale,r.props.calendarStartDay),d=[];return r.props.showWeekNumbers&&d.push(fe.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(x){var g=ui(a,x),v=r.formatWeekday(g,r.props.locale),w=r.props.weekDayClassName?r.props.weekDayClassName(g):void 0;return fe.createElement("div",{key:x,"aria-label":Nn(g,"EEEE",r.props.locale),className:En("react-datepicker__day-name",w)},v)}))},r.formatWeekday=function(i,a){return r.props.formatWeekDay?RP(i,r.props.formatWeekDay,a):r.props.useWeekdaysShort?MP(i,a):OP(i,a)},r.decreaseYear=function(){r.setState(function(i){var a,d=i.date;return{date:wc(d,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,a,d;if(!r.props.renderCustomHeader){var x=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,g=r.props.showPreviousMonths?x-1:0,v=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:g,w=nl(r.state.date,v),E;switch(!0){case r.props.showMonthYearPicker:E=Ub(r.state.date,r.props);break;case r.props.showYearPicker:E=UP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:E=FP(r.state.date,r.props);break;default:E=Fb(w,r.props);break}if(!(!((d=r.props.forceShowMonthNavigation)!==null&&d!==void 0?d:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&E||r.props.showTimeSelectOnly)){var _=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],k=["react-datepicker__navigation","react-datepicker__navigation--previous"],A=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(A=r.decreaseYear),E&&r.props.showDisabledMonthNavigation&&(k.push("react-datepicker__navigation--previous--disabled"),A=void 0);var I=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,L=r.props,D=L.previousMonthButtonLabel,j=D===void 0?t.defaultProps.previousMonthButtonLabel:D,O=L.previousYearButtonLabel,W=O===void 0?t.defaultProps.previousYearButtonLabel:O,Z=r.props,B=Z.previousMonthAriaLabel,R=B===void 0?typeof j=="string"?j:"Previous Month":B,V=Z.previousYearAriaLabel,Y=V===void 0?typeof W=="string"?W:"Previous Year":V;return fe.createElement("button",{type:"button",className:k.join(" "),onClick:A,onKeyDown:r.props.handleOnKeyDown,"aria-label":I?Y:R},fe.createElement("span",{className:_.join(" ")},I?W:j))}}},r.increaseYear=function(){r.setState(function(i){var a,d=i.date;return{date:ca(d,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=zb(r.state.date,r.props);break;case r.props.showYearPicker:a=zP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=BP(r.state.date,r.props);break;default:a=Bb(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var g=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),g=void 0);var v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,E=w.nextMonthButtonLabel,_=E===void 0?t.defaultProps.nextMonthButtonLabel:E,k=w.nextYearButtonLabel,A=k===void 0?t.defaultProps.nextYearButtonLabel:k,I=r.props,L=I.nextMonthAriaLabel,D=L===void 0?typeof _=="string"?_:"Next Month":L,j=I.nextYearAriaLabel,O=j===void 0?typeof A=="string"?A:"Next Year":j;return fe.createElement("button",{type:"button",className:d.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":v?O:D},fe.createElement("span",{className:x.join(" ")},v?A:_))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),fe.createElement("h2",{className:a.join(" ")},Nn(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return fe.createElement(lF,Pt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Ct(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return fe.createElement(eF,Pt({},t.defaultProps,r.props,{month:Ir(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return fe.createElement(rF,Pt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(Rb(),i),r.props.setPreSelection&&r.props.setPreSelection(Rb())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return fe.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var a=i.monthDate,d=i.i;return fe.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),fe.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(d!==0),r.renderMonthYearDropdown(d!==0),r.renderYearDropdown(d!==0)),fe.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(i){var a,d,x=i.monthDate,g=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var v=Fb(r.state.date,r.props),w=Bb(r.state.date,r.props),E=Ub(r.state.date,r.props),_=zb(r.state.date,r.props),k=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return fe.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(d=(a=r.props).renderCustomHeader)===null||d===void 0?void 0:d.call(a,Pt(Pt({},r.state),{customHeaderCount:g,monthDate:x,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:v,nextMonthButtonDisabled:w,prevYearButtonDisabled:E,nextYearButtonDisabled:_})),k&&fe.createElement("div",{className:"react-datepicker__day-names"},r.header(x)))},r.renderYearHeader=function(i){var a=i.monthDate,d=r.props,x=d.showYearPicker,g=d.yearItemNumber,v=g===void 0?t.defaultProps.yearItemNumber:g,w=Ka(a,v),E=w.startPeriod,_=w.endPeriod;return fe.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},x?"".concat(E," - ").concat(_):Ct(a))},r.renderHeader=function(i){var a=i.monthDate,d=i.i,x=d===void 0?0:d,g={monthDate:a,i:x};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(g);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(g);default:return r.renderDefaultHeader(g)}},r.renderMonths=function(){var i,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var d=[],x=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,g=r.props.showPreviousMonths?x-1:0,v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ca(r.state.date,g):nl(r.state.date,g),w=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:g,E=0;E<x;++E){var _=E-w+g,k=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ca(v,_):fi(v,_),A="month-".concat(E),I=E<x-1,L=E>0;d.push(fe.createElement("div",{key:A,ref:function(D){r.monthContainer=D??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:k,i:E}),fe.createElement(ZP,Pt({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:k,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:E,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:I,monthShowsDuplicateDaysStart:L}))))}return d}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return fe.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),fe.createElement(iF,Pt({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return fe.createElement(sF,Pt({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,a=i&&dp(i)&&!!r.props.selected,d=a?"".concat(Hb(i.getHours()),":").concat(Hb(i.getMinutes())):"";if(r.props.showTimeInput)return fe.createElement($P,Pt({},t.defaultProps,r.props,{date:i,timeString:d,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,a=Ka(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),d=a.startPeriod,x=a.endPeriod,g;return r.props.showYearPicker?g="".concat(d," - ").concat(x):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?g=Ct(r.state.date):g="".concat(g2(Ir(r.state.date),r.props.locale)," ").concat(Ct(r.state.date)),fe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&g)},r.renderChildren=function(){if(r.props.children)return fe.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=M.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:_d}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Lt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Ur(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Lt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||_P;return fe.createElement(up,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},fe.createElement("div",{style:{display:"contents"},ref:this.containerRef},fe.createElement(n,{className:En("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(M.Component),fF=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,i=e.onClick,a="react-datepicker__calendar-icon";if(typeof t=="string")return fe.createElement("i",{className:"".concat(a," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i});if(fe.isValidElement(t)){var d=t;return fe.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(a," ").concat(r),onClick:function(x){typeof d.props.onClick=="function"&&d.props.onClick(x),typeof i=="function"&&i(x)}})}return fe.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},fe.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},ON=function(e){pr(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Fj.createPortal(this.props.children,this.el)},t}(M.Component),hF="[tabindex], a, button, input, select, textarea",pF=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},MN=function(e){pr(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(hF),1,-1).filter(pF)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=M.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?fe.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},fe.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,fe.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(M.Component);function mF(e){var t=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,a=M.useRef(null),d=NP(Pt({open:!i,whileElementsMounted:sP,placement:n.popperPlacement,middleware:Di([dP({padding:15}),uP(10),fP({element:a})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),x=Pt(Pt({},n),{hidePopper:i,popperProps:Pt(Pt({},d),{arrowRef:a})});return fe.createElement(e,Pt({},x))};return t}var xF=function(e){pr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,a=n.hidePopper,d=a===void 0?t.defaultProps.hidePopper:a,x=n.popperComponent,g=n.targetComponent,v=n.enableTabLoop,w=n.popperOnKeyDown,E=n.portalId,_=n.portalHost,k=n.popperProps,A=n.showArrow,I=void 0;if(!d){var L=En("react-datepicker-popper",r);I=fe.createElement(MN,{enableTabLoop:v},fe.createElement("div",{ref:k.refs.setFloating,style:k.floatingStyles,className:L,"data-placement":k.placement,onKeyDown:w},x,A&&fe.createElement(gP,{ref:k.arrowRef,context:k.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(I=M.createElement(this.props.popperContainer,{},I)),E&&!d&&(I=fe.createElement(ON,{portalId:E,portalHost:_},I));var D=En("react-datepicker-wrapper",i);return fe.createElement(fe.Fragment,null,fe.createElement("div",{ref:k.refs.setReference,className:D},g),I)},t}(M.Component),gF=mF(xF),Xb="react-datepicker-ignore-onclickoutside";function vF(e,t){return e&&t?Ir(e)!==Ir(t)||Ct(e)!==Ct(t):e!==t}var nm="Date input not valid.",LN=function(e){pr(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:$t()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,d){var x=new Date(d.date);return dp(x)?Di(Di([],a,!0),[Pt(Pt({},d),{date:x})],!1):a},[])},r.calcInitialState=function(){var i,a=r.getPreSelection(),d=DN(r.props),x=IN(r.props),g=d&&fl(a,b0(d))?d:x&&fo(a,Ob(x))?x:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:g,highlightDates:Wb(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Pt(Pt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Pt(Pt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},r.setBlur=function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,a){a===void 0&&(a=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:rm},function(){i||r.setState(function(d){return{focused:a?d.focused:!1}},function(){!a&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return ua(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var a,d,x=r.state.wasHidden,g=x?r.state.open:!0;x&&r.resetHiddenStatus(),r.state.preventFocus||((d=(a=r.props).onFocus)===null||d===void 0||d.call(a,i),g&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var a,d;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((d=(a=r.props).onBlur)===null||d===void 0||d.call(a,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var a,d;r.props.inline||r.setOpen(!1),(d=(a=r.props).onClickOutside)===null||d===void 0||d.call(a,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,a,d,x,g,v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];var E=v[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,v),!E||typeof E.isDefaultPrevented!="function"||E.isDefaultPrevented()))){r.setState({inputValue:(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:null,lastPreSelectChange:yF});var _=r.props,k=_.selectsRange,A=_.startDate,I=_.endDate,L=(i=r.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,D=(a=r.props.strictParsing)!==null&&a!==void 0?a:t.defaultProps.strictParsing,j=(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:"";if(k){var O=j.split(L.includes("-")?kN:"-",2).map(function(de){return de.trim()}),W=O[0],Z=O[1],B=J1(W??"",L,r.props.locale,D),R=J1(Z??"",L,r.props.locale,D),V=(A==null?void 0:A.getTime())!==(B==null?void 0:B.getTime()),Y=(I==null?void 0:I.getTime())!==(R==null?void 0:R.getTime());if(!V&&!Y||B&&Hs(B,r.props)||R&&Hs(R,r.props))return;(x=(d=r.props).onChange)===null||x===void 0||x.call(d,[B,R],E)}else{var ee=J1(j,L,r.props.locale,D,(g=r.props.selected)!==null&&g!==void 0?g:void 0);(ee||!j)&&r.setSelected(ee,E,!0)}}},r.handleSelect=function(i,a,d){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(i,a,!1,d),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var x=r.props,g=x.startDate,v=x.endDate;g&&!v&&(r.props.swapRange||!Yb(i,g))&&r.setOpen(!1)}}},r.setSelected=function(i,a,d,x){var g,v,w=i;if(r.props.showYearPicker){if(w!==null&&C0(Ct(w),r.props))return}else if(r.props.showMonthYearPicker){if(w!==null&&jN(w,r.props))return}else if(w!==null&&Hs(w,r.props))return;var E=r.props,_=E.onChange,k=E.selectsRange,A=E.startDate,I=E.endDate,L=E.selectsMultiple,D=E.selectedDates,j=E.minTime,O=E.swapRange;if(!Zo(r.props.selected,w)||r.props.allowSameDay||k||L)if(w!==null&&(r.props.selected&&(!d||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(w=em(w,{hour:da(r.props.selected),minute:fa(r.props.selected),second:oo(r.props.selected)})),!d&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&j&&(w=em(w,{hour:j.getHours(),minute:j.getMinutes(),second:j.getSeconds()})),r.props.inline||r.setState({preSelection:w}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:x})),k){var W=!A&&!I,Z=A&&!I,B=A&&I;W?_==null||_([w,null],a):Z&&(w===null?_==null||_([null,null],a):Yb(w,A)?O?_==null||_([w,A],a):_==null||_([w,null],a):_==null||_([A,w],a)),B&&(_==null||_([w,null],a))}else if(L){if(w!==null)if(!(D!=null&&D.length))_==null||_([w],a);else{var R=D.some(function(Y){return Lt(Y,w)});if(R){var V=D.filter(function(Y){return!Lt(Y,w)});_==null||_(V,a)}else _==null||_(Di(Di([],D,!0),[w],!1),a)}}else _==null||_(w,a);d||((v=(g=r.props).onSelect)===null||v===void 0||v.call(g,w,a),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var a=ua(r.props.minDate),d=ua(r.props.maxDate),x=!0;if(i){var g=b0(i);if(a&&d)x=ju(i,r.props.minDate,r.props.maxDate);else if(a){var v=b0(r.props.minDate);x=fo(i,v)||Zo(g,v)}else if(d){var w=Ob(r.props.maxDate);x=fl(i,w)||Zo(g,w)}}x&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var a,d;if(!(r.props.selectsRange||r.props.selectsMultiple)){var x=r.props.selected?r.props.selected:r.getPreSelection(),g=r.props.selected?i:em(x,{hour:da(i),minute:fa(i)});r.setState({preSelection:g}),(d=(a=r.props).onChange)===null||d===void 0||d.call(a,g),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(i=r.props).onInputClick)===null||a===void 0||a.call(i)},r.onInputKeyDown=function(i){var a,d,x,g,v,w;(d=(a=r.props).onKeyDown)===null||d===void 0||d.call(a,i);var E=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(E===Pe.ArrowDown||E===Pe.ArrowUp||E===Pe.Enter)&&((x=r.onInputClick)===null||x===void 0||x.call(r));return}if(r.state.open){if(E===Pe.ArrowDown||E===Pe.ArrowUp){i.preventDefault();var _=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',k=((g=r.calendar)===null||g===void 0?void 0:g.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(_);k instanceof HTMLElement&&k.focus({preventScroll:!0});return}var A=$t(r.state.preSelection);E===Pe.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===rm?(r.handleSelect(A,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(A)):r.setOpen(!1)):E===Pe.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):E===Pe.Tab&&r.setOpen(!1),r.inputOk()||(w=(v=r.props).onInputError)===null||w===void 0||w.call(v,{code:1,msg:nm})}},r.onPortalKeyDown=function(i){var a=i.key;a===Pe.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var a,d,x,g,v,w,E=r.props,_=E.minDate,k=E.maxDate,A=E.disabledKeyboardNavigation,I=E.showWeekPicker,L=E.shouldCloseOnSelect,D=E.locale,j=E.calendarStartDay,O=E.adjustDateOnChange,W=E.inline;if((d=(a=r.props).onKeyDown)===null||d===void 0||d.call(a,i),!A){var Z=i.key,B=i.shiftKey,R=$t(r.state.preSelection),V=function(re,_e){var ve=_e;switch(re){case Pe.ArrowRight:ve=I?sh(_e,1):ui(_e,1);break;case Pe.ArrowLeft:ve=I?hb(_e,1):_9(_e,1);break;case Pe.ArrowUp:ve=hb(_e,1);break;case Pe.ArrowDown:ve=sh(_e,1);break;case Pe.PageUp:ve=B?wc(_e,1):nl(_e,1);break;case Pe.PageDown:ve=B?ca(_e,1):fi(_e,1);break;case Pe.Home:ve=lo(_e,D,j);break;case Pe.End:ve=DP(_e);break}return ve},Y=function(re,_e){for(var ve=40,ue=re,ge=!1,Re=0,qe=V(re,_e);!ge;){if(Re>=ve){qe=_e;break}_&&qe<_&&(ue=Pe.ArrowRight,qe=Hs(_,r.props)?V(ue,qe):_),k&&qe>k&&(ue=Pe.ArrowLeft,qe=Hs(k,r.props)?V(ue,qe):k),Hs(qe,r.props)?((ue===Pe.PageUp||ue===Pe.Home)&&(ue=Pe.ArrowRight),(ue===Pe.PageDown||ue===Pe.End)&&(ue=Pe.ArrowLeft),qe=V(ue,qe)):ge=!0,Re++}return qe};if(Z===Pe.Enter){i.preventDefault(),r.handleSelect(R,i),!L&&r.setPreSelection(R);return}else if(Z===Pe.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(g=(x=r.props).onInputError)===null||g===void 0||g.call(x,{code:1,msg:nm});return}var ee=null;switch(Z){case Pe.ArrowLeft:case Pe.ArrowRight:case Pe.ArrowUp:case Pe.ArrowDown:case Pe.PageUp:case Pe.PageDown:case Pe.Home:case Pe.End:ee=Y(Z,R);break}if(!ee){(w=(v=r.props).onInputError)===null||w===void 0||w.call(v,{code:1,msg:nm});return}if(i.preventDefault(),r.setState({lastPreSelectChange:rm}),O&&r.setSelected(ee),r.setPreSelection(ee),W){var de=Ir(R),ie=Ir(ee),ce=Ct(R),Te=Ct(ee);de!==ie||ce!==Te?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var a=i.key;a===Pe.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var a=r.props,d=a.selectsRange,x=a.onChange;d?x==null||x([null,null],i):x==null||x(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,a;return!r.props.inline&&!r.isCalendarOpen()?null:fe.createElement(dF,Pt({showMonthYearDropdown:void 0,ref:function(d){r.calendar=d}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:HP(r.modifyHolidays()),outsideClickIgnoreClass:Xb,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,a=i.dateFormat,d=a===void 0?t.defaultProps.dateFormat:a,x=i.locale,g=r.props.showTimeInput||r.props.showTimeSelect,v=g?"PPPPp":"PPPP",w;return r.props.selectsRange?w="Selected start date: ".concat(Bs(r.props.startDate,{dateFormat:v,locale:x}),". ").concat(r.props.endDate?"End date: "+Bs(r.props.endDate,{dateFormat:v,locale:x}):""):r.props.showTimeSelectOnly?w="Selected time: ".concat(Bs(r.props.selected,{dateFormat:d,locale:x})):r.props.showYearPicker?w="Selected year: ".concat(Bs(r.props.selected,{dateFormat:"yyyy",locale:x})):r.props.showMonthYearPicker?w="Selected month: ".concat(Bs(r.props.selected,{dateFormat:"MMMM yyyy",locale:x})):r.props.showQuarterYearPicker?w="Selected quarter: ".concat(Bs(r.props.selected,{dateFormat:"yyyy, QQQ",locale:x})):w="Selected date: ".concat(Bs(r.props.selected,{dateFormat:v,locale:x})),fe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},w)},r.renderDateInput=function(){var i,a,d,x=En(r.props.className,(i={},i[Xb]=r.state.open,i)),g=r.props.customInput||fe.createElement("input",{type:"text"}),v=r.props.customInputRef||"ref",w=r.props,E=w.dateFormat,_=E===void 0?t.defaultProps.dateFormat:E,k=w.locale,A=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?AP(r.props.startDate,r.props.endDate,{dateFormat:_,locale:k}):r.props.selectsMultiple?kP((d=r.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:_,locale:k}):Bs(r.props.selected,{dateFormat:_,locale:k});return M.cloneElement(g,(a={},a[v]=function(I){r.input=I},a.value=A,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=En(g.props.className,x),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var i=r.props,a=i.isClearable,d=i.disabled,x=i.selected,g=i.startDate,v=i.endDate,w=i.clearButtonTitle,E=i.clearButtonClassName,_=E===void 0?"":E,k=i.ariaLabelClose,A=k===void 0?"Close":k,I=i.selectedDates,L=i.readOnly;return a&&!L&&(x!=null||g!=null||v!=null||I!=null&&I.length)?fe.createElement("button",{type:"button",className:En("react-datepicker__close-icon",_,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":A,onClick:r.onClearClick,title:w,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:_d,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var i,a,d,x;n.inline&&vF(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Wb(this.props.highlightDates)}),!r.focused&&!Zo(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),r.open===!0&&this.state.open===!1&&((x=(d=this.props).onCalendarClose)===null||x===void 0||x.call(d)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,a=n.calendarIconClassname,d=n.calendarIconClassName,x=n.toggleCalendarOnIconClick,g=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),fe.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&fe.createElement(fF,Pt({icon:i,className:En(d,!d&&a,g&&"react-datepicker-ignore-onclickoutside")},x?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?fe.createElement(MN,{enableTabLoop:this.props.enableTabLoop},fe.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=fe.createElement(ON,Pt({portalId:this.props.portalId},this.props),r)),fe.createElement("div",null,this.renderInputContainer(),r)}return fe.createElement(gF,Pt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(M.Component),yF="input",rm="navigate";var vh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */vh.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",x="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",v=500,w="__lodash_placeholder__",E=1,_=2,k=4,A=1,I=2,L=1,D=2,j=4,O=8,W=16,Z=32,B=64,R=128,V=256,Y=512,ee=30,de="...",ie=800,ce=16,Te=1,re=2,_e=3,ve=1/0,ue=9007199254740991,ge=17976931348623157e292,Re=0/0,qe=4294967295,tt=qe-1,Ae=qe>>>1,Ge=[["ary",R],["bind",L],["bindKey",D],["curry",O],["curryRight",W],["flip",Y],["partial",Z],["partialRight",B],["rearg",V]],st="[object Arguments]",oe="[object Array]",ft="[object AsyncFunction]",it="[object Boolean]",nn="[object Date]",dn="[object DOMException]",qt="[object Error]",Wt="[object Function]",Ee="[object GeneratorFunction]",Qe="[object Map]",It="[object Number]",we="[object Null]",Se="[object Object]",Fe="[object Promise]",Xe="[object Proxy]",Me="[object RegExp]",ke="[object Set]",gn="[object String]",Xn="[object Symbol]",Oe="[object Undefined]",Je="[object WeakMap]",Rt="[object WeakSet]",sn="[object ArrayBuffer]",Xt="[object DataView]",fn="[object Float32Array]",is="[object Float64Array]",Ss="[object Int8Array]",Fi="[object Int16Array]",rn="[object Int32Array]",Ie="[object Uint8Array]",an="[object Uint8ClampedArray]",Tt="[object Uint16Array]",Vt="[object Uint32Array]",Qs=/\b__p \+= '';/g,bo=/\b(__p \+=) '' \+/g,Td=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ot=/&(?:amp|lt|gt|quot|#39);/g,mi=/[&<>"']/g,jd=RegExp(Ot.source),Dd=RegExp(mi.source),as=/<%-([\s\S]+?)%>/g,Lc=/<%([\s\S]+?)%>/g,er=/<%=([\s\S]+?)%>/g,Na=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vl=/^\w*$/,As=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pc=/[\\^$.*+?()[\]{}|]/g,Bi=RegExp(Pc.source),Co=/^\s+/,br=/\s/,Ui=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$r=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,_a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fc=/[()=,{}\[\]\/\s]/,Cr=/\\(\\)?/g,Sa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Eo=/\w*$/,yl=/^[-+]0x[0-9a-f]+$/i,ks=/^0b[01]+$/i,hp=/^\[object .+?Constructor\]$/,pp=/^0o[0-7]+$/i,Ts=/^(?:0|[1-9]\d*)$/,mr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,Id=/['\n\r\u2028\u2029\\]/g,os="\\ud800-\\udfff",Bc="\\u0300-\\u036f",Ne="\\ufe20-\\ufe2f",mp="\\u20d0-\\u20ff",hn=Bc+Ne+mp,zi="\\u2700-\\u27bf",Rd="a-z\\xdf-\\xf6\\xf8-\\xff",Bt="\\xac\\xb1\\xd7\\xf7",Mt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Et="\\u2000-\\u206f",Uc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wl="A-Z\\xc0-\\xd6\\xd8-\\xde",bl="\\ufe0e\\ufe0f",In=Bt+Mt+Et+Uc,js="['’]",xp="["+os+"]",vn="["+In+"]",ls="["+hn+"]",Od="\\d+",Aa="["+zi+"]",Kt="["+Rd+"]",tr="[^"+os+In+Od+zi+Rd+wl+"]",le="\\ud83c[\\udffb-\\udfff]",Q="(?:"+ls+"|"+le+")",Ze="[^"+os+"]",Rn="(?:\\ud83c[\\udde6-\\uddff]){2}",Er="[\\ud800-\\udbff][\\udc00-\\udfff]",ka="["+wl+"]",Cl="\\u200d",Or="(?:"+Kt+"|"+tr+")",nt="(?:"+ka+"|"+tr+")",cn="(?:"+js+"(?:d|ll|m|re|s|t|ve))?",zc="(?:"+js+"(?:D|LL|M|RE|S|T|VE))?",Md=Q+"?",El="["+bl+"]?",Nl="(?:"+Cl+"(?:"+[Ze,Rn,Er].join("|")+")"+El+Md+")*",Wc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Un=El+Md+Nl,No="(?:"+[Aa,Rn,Er].join("|")+")"+Un,xi="(?:"+[Ze+ls+"?",ls,Rn,Er,xp].join("|")+")",at=RegExp(js,"g"),vp=RegExp(ls,"g"),pt=RegExp(le+"(?="+le+")|"+xi+Un,"g"),nr=RegExp([ka+"?"+Kt+"+"+cn+"(?="+[vn,ka,"$"].join("|")+")",nt+"+"+zc+"(?="+[vn,ka+Or,"$"].join("|")+")",ka+"?"+Or+"+"+cn,ka+"+"+zc,gp,Wc,Od,No].join("|"),"g"),yp=RegExp("["+Cl+os+hn+bl+"]"),Hc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ld=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wi=-1,on={};on[fn]=on[is]=on[Ss]=on[Fi]=on[rn]=on[Ie]=on[an]=on[Tt]=on[Vt]=!0,on[st]=on[oe]=on[sn]=on[it]=on[Xt]=on[nn]=on[qt]=on[Wt]=on[Qe]=on[It]=on[Se]=on[Me]=on[ke]=on[gn]=on[Je]=!1;var Ut={};Ut[st]=Ut[oe]=Ut[sn]=Ut[Xt]=Ut[it]=Ut[nn]=Ut[fn]=Ut[is]=Ut[Ss]=Ut[Fi]=Ut[rn]=Ut[Qe]=Ut[It]=Ut[Se]=Ut[Me]=Ut[ke]=Ut[gn]=Ut[Xn]=Ut[Ie]=Ut[an]=Ut[Tt]=Ut[Vt]=!0,Ut[qt]=Ut[Wt]=Ut[Je]=!1;var _o={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},So={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ao={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ko=parseFloat,Nr=parseInt,qc=typeof Ai=="object"&&Ai&&Ai.Object===Object&&Ai,Fd=typeof self=="object"&&self&&self.Object===Object&&self,Qn=qc||Fd||Function("return this")(),Vc=t&&!t.nodeType&&t,Hi=Vc&&!0&&e&&!e.nodeType&&e,Bd=Hi&&Hi.exports===Vc,zt=Bd&&qc.process,Mr=function(){try{var z=Hi&&Hi.require&&Hi.require("util").types;return z||zt&&zt.binding&&zt.binding("util")}catch{}}(),To=Mr&&Mr.isArrayBuffer,Ks=Mr&&Mr.isDate,Ud=Mr&&Mr.isMap,he=Mr&&Mr.isRegExp,xt=Mr&&Mr.isSet,Kn=Mr&&Mr.isTypedArray;function lr(z,$,X){switch(X.length){case 0:return z.call($);case 1:return z.call($,X[0]);case 2:return z.call($,X[0],X[1]);case 3:return z.call($,X[0],X[1],X[2])}return z.apply($,X)}function zd(z,$,X,te){for(var pe=-1,xe=z==null?0:z.length;++pe<xe;){var ye=z[pe];$(te,ye,X(ye),z)}return te}function Gr(z,$){for(var X=-1,te=z==null?0:z.length;++X<te&&$(z[X],X,z)!==!1;);return z}function wp(z,$){for(var X=z==null?0:z.length;X--&&$(z[X],X,z)!==!1;);return z}function Wd(z,$){for(var X=-1,te=z==null?0:z.length;++X<te;)if(!$(z[X],X,z))return!1;return!0}function Ds(z,$){for(var X=-1,te=z==null?0:z.length,pe=0,xe=[];++X<te;){var ye=z[X];$(ye,X,z)&&(xe[pe++]=ye)}return xe}function yn(z,$){var X=z==null?0:z.length;return!!X&&xr(z,$,0)>-1}function jo(z,$,X){for(var te=-1,pe=z==null?0:z.length;++te<pe;)if(X($,z[te]))return!0;return!1}function ut(z,$){for(var X=-1,te=z==null?0:z.length,pe=Array(te);++X<te;)pe[X]=$(z[X],X,z);return pe}function cs(z,$){for(var X=-1,te=$.length,pe=z.length;++X<te;)z[pe+X]=$[X];return z}function Zs(z,$,X,te){var pe=-1,xe=z==null?0:z.length;for(te&&xe&&(X=z[++pe]);++pe<xe;)X=$(X,z[pe],pe,z);return X}function Zt(z,$,X,te){var pe=z==null?0:z.length;for(te&&pe&&(X=z[--pe]);pe--;)X=$(X,z[pe],pe,z);return X}function rt(z,$){for(var X=-1,te=z==null?0:z.length;++X<te;)if($(z[X],X,z))return!0;return!1}var bp=Al("length");function ln(z){return z.split("")}function qi(z){return z.match(_a)||[]}function Vi(z,$,X){var te;return X(z,function(pe,xe,ye){if($(pe,xe,ye))return te=xe,!1}),te}function _l(z,$,X,te){for(var pe=z.length,xe=X+(te?1:-1);te?xe--:++xe<pe;)if($(z[xe],xe,z))return xe;return-1}function xr(z,$,X){return $===$?c(z,$,X):_l(z,$c,X)}function Yc(z,$,X,te){for(var pe=X-1,xe=z.length;++pe<xe;)if(te(z[pe],$))return pe;return-1}function $c(z){return z!==z}function Sl(z,$){var X=z==null?0:z.length;return X?Do(z,$)/X:Re}function Al(z){return function($){return $==null?n:$[z]}}function kl(z){return function($){return z==null?n:z[$]}}function Hd(z,$,X,te,pe){return pe(z,function(xe,ye,$e){X=te?(te=!1,xe):$(X,xe,ye,$e)}),X}function Ta(z,$){var X=z.length;for(z.sort($);X--;)z[X]=z[X].value;return z}function Do(z,$){for(var X,te=-1,pe=z.length;++te<pe;){var xe=$(z[te]);xe!==n&&(X=X===n?xe:X+xe)}return X}function Gc(z,$){for(var X=-1,te=Array(z);++X<z;)te[X]=$(X);return te}function Io(z,$){return ut($,function(X){return[X,z[X]]})}function qd(z){return z&&z.slice(0,y(z)+1).replace(Co,"")}function On(z){return function($){return z($)}}function ja(z,$){return ut($,function(X){return z[X]})}function cr(z,$){return z.has($)}function Xc(z,$){for(var X=-1,te=z.length;++X<te&&xr($,z[X],0)>-1;);return X}function us(z,$){for(var X=z.length;X--&&xr($,z[X],0)>-1;);return X}function Cp(z,$){for(var X=z.length,te=0;X--;)z[X]===$&&++te;return te}var Qc=kl(_o),Ep=kl(So);function Vd(z){return"\\"+Ao[z]}function Is(z,$){return z==null?n:z[$]}function Da(z){return yp.test(z)}function Kc(z){return Hc.test(z)}function Ro(z){for(var $,X=[];!($=z.next()).done;)X.push($.value);return X}function Nt(z){var $=-1,X=Array(z.size);return z.forEach(function(te,pe){X[++$]=[pe,te]}),X}function Oo(z,$){return function(X){return z($(X))}}function P(z,$){for(var X=-1,te=z.length,pe=0,xe=[];++X<te;){var ye=z[X];(ye===$||ye===w)&&(z[X]=w,xe[pe++]=X)}return xe}function s(z){var $=-1,X=Array(z.size);return z.forEach(function(te){X[++$]=te}),X}function o(z){var $=-1,X=Array(z.size);return z.forEach(function(te){X[++$]=[te,te]}),X}function c(z,$,X){for(var te=X-1,pe=z.length;++te<pe;)if(z[te]===$)return te;return-1}function f(z,$,X){for(var te=X+1;te--;)if(z[te]===$)return te;return te}function h(z){return Da(z)?N(z):bp(z)}function m(z){return Da(z)?T(z):ln(z)}function y(z){for(var $=z.length;$--&&br.test(z.charAt($)););return $}var C=kl(Pd);function N(z){for(var $=pt.lastIndex=0;pt.test(z);)++$;return $}function T(z){return z.match(pt)||[]}function F(z){return z.match(nr)||[]}var H=function z($){$=$==null?Qn:K.defaults(Qn.Object(),$,K.pick(Qn,Ld));var X=$.Array,te=$.Date,pe=$.Error,xe=$.Function,ye=$.Math,$e=$.Object,ht=$.RegExp,_r=$.String,wn=$.TypeError,rr=X.prototype,Jt=xe.prototype,bn=$e.prototype,ur=$["__core-js_shared__"],Js=Jt.toString,At=bn.hasOwnProperty,Np=0,Yd=function(){var u=/[^.]+$/.exec(ur&&ur.keys&&ur.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),$d=bn.toString,o5=Js.call($e),l5=Qn._,c5=ht("^"+Js.call(At).replace(Pc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gd=Bd?$.Buffer:n,Ia=$.Symbol,Xd=$.Uint8Array,S2=Gd?Gd.allocUnsafe:n,Qd=Oo($e.getPrototypeOf,$e),A2=$e.create,k2=bn.propertyIsEnumerable,Kd=rr.splice,T2=Ia?Ia.isConcatSpreadable:n,Zc=Ia?Ia.iterator:n,Mo=Ia?Ia.toStringTag:n,Zd=function(){try{var u=Uo($e,"defineProperty");return u({},"",{}),u}catch{}}(),u5=$.clearTimeout!==Qn.clearTimeout&&$.clearTimeout,d5=te&&te.now!==Qn.Date.now&&te.now,f5=$.setTimeout!==Qn.setTimeout&&$.setTimeout,Jd=ye.ceil,ef=ye.floor,_p=$e.getOwnPropertySymbols,h5=Gd?Gd.isBuffer:n,j2=$.isFinite,p5=rr.join,m5=Oo($e.keys,$e),sr=ye.max,Sr=ye.min,x5=te.now,g5=$.parseInt,D2=ye.random,v5=rr.reverse,Sp=Uo($,"DataView"),Jc=Uo($,"Map"),Ap=Uo($,"Promise"),Tl=Uo($,"Set"),eu=Uo($,"WeakMap"),tu=Uo($e,"create"),tf=eu&&new eu,jl={},y5=zo(Sp),w5=zo(Jc),b5=zo(Ap),C5=zo(Tl),E5=zo(eu),nf=Ia?Ia.prototype:n,nu=nf?nf.valueOf:n,I2=nf?nf.toString:n;function q(u){if(Mn(u)&&!mt(u)&&!(u instanceof kt)){if(u instanceof Rs)return u;if(At.call(u,"__wrapped__"))return Rv(u)}return new Rs(u)}var Dl=function(){function u(){}return function(p){if(!_n(p))return{};if(A2)return A2(p);u.prototype=p;var b=new u;return u.prototype=n,b}}();function rf(){}function Rs(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}q.templateSettings={escape:as,evaluate:Lc,interpolate:er,variable:"",imports:{_:q}},q.prototype=rf.prototype,q.prototype.constructor=q,Rs.prototype=Dl(rf.prototype),Rs.prototype.constructor=Rs;function kt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qe,this.__views__=[]}function N5(){var u=new kt(this.__wrapped__);return u.__actions__=Xr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Xr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Xr(this.__views__),u}function _5(){if(this.__filtered__){var u=new kt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function S5(){var u=this.__wrapped__.value(),p=this.__dir__,b=mt(u),S=p<0,U=b?u.length:0,G=F_(0,U,this.__views__),J=G.start,ne=G.end,ae=ne-J,be=S?ne:J-1,Ce=this.__iteratees__,je=Ce.length,Le=0,Ke=Sr(ae,this.__takeCount__);if(!b||!S&&U==ae&&Ke==ae)return nv(u,this.__actions__);var lt=[];e:for(;ae--&&Le<Ke;){be+=p;for(var wt=-1,ct=u[be];++wt<je;){var _t=Ce[wt],jt=_t.iteratee,hs=_t.type,Fr=jt(ct);if(hs==re)ct=Fr;else if(!Fr){if(hs==Te)continue e;break e}}lt[Le++]=ct}return lt}kt.prototype=Dl(rf.prototype),kt.prototype.constructor=kt;function Lo(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var S=u[p];this.set(S[0],S[1])}}function A5(){this.__data__=tu?tu(null):{},this.size=0}function k5(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p}function T5(u){var p=this.__data__;if(tu){var b=p[u];return b===g?n:b}return At.call(p,u)?p[u]:n}function j5(u){var p=this.__data__;return tu?p[u]!==n:At.call(p,u)}function D5(u,p){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=tu&&p===n?g:p,this}Lo.prototype.clear=A5,Lo.prototype.delete=k5,Lo.prototype.get=T5,Lo.prototype.has=j5,Lo.prototype.set=D5;function Yi(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var S=u[p];this.set(S[0],S[1])}}function I5(){this.__data__=[],this.size=0}function R5(u){var p=this.__data__,b=sf(p,u);if(b<0)return!1;var S=p.length-1;return b==S?p.pop():Kd.call(p,b,1),--this.size,!0}function O5(u){var p=this.__data__,b=sf(p,u);return b<0?n:p[b][1]}function M5(u){return sf(this.__data__,u)>-1}function L5(u,p){var b=this.__data__,S=sf(b,u);return S<0?(++this.size,b.push([u,p])):b[S][1]=p,this}Yi.prototype.clear=I5,Yi.prototype.delete=R5,Yi.prototype.get=O5,Yi.prototype.has=M5,Yi.prototype.set=L5;function $i(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var S=u[p];this.set(S[0],S[1])}}function P5(){this.size=0,this.__data__={hash:new Lo,map:new(Jc||Yi),string:new Lo}}function F5(u){var p=gf(this,u).delete(u);return this.size-=p?1:0,p}function B5(u){return gf(this,u).get(u)}function U5(u){return gf(this,u).has(u)}function z5(u,p){var b=gf(this,u),S=b.size;return b.set(u,p),this.size+=b.size==S?0:1,this}$i.prototype.clear=P5,$i.prototype.delete=F5,$i.prototype.get=B5,$i.prototype.has=U5,$i.prototype.set=z5;function Po(u){var p=-1,b=u==null?0:u.length;for(this.__data__=new $i;++p<b;)this.add(u[p])}function W5(u){return this.__data__.set(u,g),this}function H5(u){return this.__data__.has(u)}Po.prototype.add=Po.prototype.push=W5,Po.prototype.has=H5;function ei(u){var p=this.__data__=new Yi(u);this.size=p.size}function q5(){this.__data__=new Yi,this.size=0}function V5(u){var p=this.__data__,b=p.delete(u);return this.size=p.size,b}function Y5(u){return this.__data__.get(u)}function $5(u){return this.__data__.has(u)}function G5(u,p){var b=this.__data__;if(b instanceof Yi){var S=b.__data__;if(!Jc||S.length<i-1)return S.push([u,p]),this.size=++b.size,this;b=this.__data__=new $i(S)}return b.set(u,p),this.size=b.size,this}ei.prototype.clear=q5,ei.prototype.delete=V5,ei.prototype.get=Y5,ei.prototype.has=$5,ei.prototype.set=G5;function R2(u,p){var b=mt(u),S=!b&&Wo(u),U=!b&&!S&&Pa(u),G=!b&&!S&&!U&&Ml(u),J=b||S||U||G,ne=J?Gc(u.length,_r):[],ae=ne.length;for(var be in u)(p||At.call(u,be))&&!(J&&(be=="length"||U&&(be=="offset"||be=="parent")||G&&(be=="buffer"||be=="byteLength"||be=="byteOffset")||Ki(be,ae)))&&ne.push(be);return ne}function O2(u){var p=u.length;return p?u[Fp(0,p-1)]:n}function X5(u,p){return vf(Xr(u),Fo(p,0,u.length))}function Q5(u){return vf(Xr(u))}function kp(u,p,b){(b!==n&&!ti(u[p],b)||b===n&&!(p in u))&&Gi(u,p,b)}function ru(u,p,b){var S=u[p];(!(At.call(u,p)&&ti(S,b))||b===n&&!(p in u))&&Gi(u,p,b)}function sf(u,p){for(var b=u.length;b--;)if(ti(u[b][0],p))return b;return-1}function K5(u,p,b,S){return Ra(u,function(U,G,J){p(S,U,b(U),J)}),S}function M2(u,p){return u&&vi(p,dr(p),u)}function Z5(u,p){return u&&vi(p,Kr(p),u)}function Gi(u,p,b){p=="__proto__"&&Zd?Zd(u,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[p]=b}function Tp(u,p){for(var b=-1,S=p.length,U=X(S),G=u==null;++b<S;)U[b]=G?n:c1(u,p[b]);return U}function Fo(u,p,b){return u===u&&(b!==n&&(u=u<=b?u:b),p!==n&&(u=u>=p?u:p)),u}function Os(u,p,b,S,U,G){var J,ne=p&E,ae=p&_,be=p&k;if(b&&(J=U?b(u,S,U,G):b(u)),J!==n)return J;if(!_n(u))return u;var Ce=mt(u);if(Ce){if(J=U_(u),!ne)return Xr(u,J)}else{var je=Ar(u),Le=je==Wt||je==Ee;if(Pa(u))return iv(u,ne);if(je==Se||je==st||Le&&!U){if(J=ae||Le?{}:Nv(u),!ne)return ae?T_(u,Z5(J,u)):k_(u,M2(J,u))}else{if(!Ut[je])return U?u:{};J=z_(u,je,ne)}}G||(G=new ei);var Ke=G.get(u);if(Ke)return Ke;G.set(u,J),Jv(u)?u.forEach(function(ct){J.add(Os(ct,p,b,ct,u,G))}):Kv(u)&&u.forEach(function(ct,_t){J.set(_t,Os(ct,p,b,_t,u,G))});var lt=be?ae?Xp:Gp:ae?Kr:dr,wt=Ce?n:lt(u);return Gr(wt||u,function(ct,_t){wt&&(_t=ct,ct=u[_t]),ru(J,_t,Os(ct,p,b,_t,u,G))}),J}function J5(u){var p=dr(u);return function(b){return L2(b,u,p)}}function L2(u,p,b){var S=b.length;if(u==null)return!S;for(u=$e(u);S--;){var U=b[S],G=p[U],J=u[U];if(J===n&&!(U in u)||!G(J))return!1}return!0}function P2(u,p,b){if(typeof u!="function")throw new wn(d);return uu(function(){u.apply(n,b)},p)}function su(u,p,b,S){var U=-1,G=yn,J=!0,ne=u.length,ae=[],be=p.length;if(!ne)return ae;b&&(p=ut(p,On(b))),S?(G=jo,J=!1):p.length>=i&&(G=cr,J=!1,p=new Po(p));e:for(;++U<ne;){var Ce=u[U],je=b==null?Ce:b(Ce);if(Ce=S||Ce!==0?Ce:0,J&&je===je){for(var Le=be;Le--;)if(p[Le]===je)continue e;ae.push(Ce)}else G(p,je,S)||ae.push(Ce)}return ae}var Ra=uv(gi),F2=uv(Dp,!0);function e_(u,p){var b=!0;return Ra(u,function(S,U,G){return b=!!p(S,U,G),b}),b}function af(u,p,b){for(var S=-1,U=u.length;++S<U;){var G=u[S],J=p(G);if(J!=null&&(ne===n?J===J&&!fs(J):b(J,ne)))var ne=J,ae=G}return ae}function t_(u,p,b,S){var U=u.length;for(b=yt(b),b<0&&(b=-b>U?0:U+b),S=S===n||S>U?U:yt(S),S<0&&(S+=U),S=b>S?0:ty(S);b<S;)u[b++]=p;return u}function B2(u,p){var b=[];return Ra(u,function(S,U,G){p(S,U,G)&&b.push(S)}),b}function gr(u,p,b,S,U){var G=-1,J=u.length;for(b||(b=H_),U||(U=[]);++G<J;){var ne=u[G];p>0&&b(ne)?p>1?gr(ne,p-1,b,S,U):cs(U,ne):S||(U[U.length]=ne)}return U}var jp=dv(),U2=dv(!0);function gi(u,p){return u&&jp(u,p,dr)}function Dp(u,p){return u&&U2(u,p,dr)}function of(u,p){return Ds(p,function(b){return Zi(u[b])})}function Bo(u,p){p=Ma(p,u);for(var b=0,S=p.length;u!=null&&b<S;)u=u[yi(p[b++])];return b&&b==S?u:n}function z2(u,p,b){var S=p(u);return mt(u)?S:cs(S,b(u))}function Lr(u){return u==null?u===n?Oe:we:Mo&&Mo in $e(u)?P_(u):Q_(u)}function Ip(u,p){return u>p}function n_(u,p){return u!=null&&At.call(u,p)}function r_(u,p){return u!=null&&p in $e(u)}function s_(u,p,b){return u>=Sr(p,b)&&u<sr(p,b)}function Rp(u,p,b){for(var S=b?jo:yn,U=u[0].length,G=u.length,J=G,ne=X(G),ae=1/0,be=[];J--;){var Ce=u[J];J&&p&&(Ce=ut(Ce,On(p))),ae=Sr(Ce.length,ae),ne[J]=!b&&(p||U>=120&&Ce.length>=120)?new Po(J&&Ce):n}Ce=u[0];var je=-1,Le=ne[0];e:for(;++je<U&&be.length<ae;){var Ke=Ce[je],lt=p?p(Ke):Ke;if(Ke=b||Ke!==0?Ke:0,!(Le?cr(Le,lt):S(be,lt,b))){for(J=G;--J;){var wt=ne[J];if(!(wt?cr(wt,lt):S(u[J],lt,b)))continue e}Le&&Le.push(lt),be.push(Ke)}}return be}function i_(u,p,b,S){return gi(u,function(U,G,J){p(S,b(U),G,J)}),S}function iu(u,p,b){p=Ma(p,u),u=kv(u,p);var S=u==null?u:u[yi(Ls(p))];return S==null?n:lr(S,u,b)}function W2(u){return Mn(u)&&Lr(u)==st}function a_(u){return Mn(u)&&Lr(u)==sn}function o_(u){return Mn(u)&&Lr(u)==nn}function au(u,p,b,S,U){return u===p?!0:u==null||p==null||!Mn(u)&&!Mn(p)?u!==u&&p!==p:l_(u,p,b,S,au,U)}function l_(u,p,b,S,U,G){var J=mt(u),ne=mt(p),ae=J?oe:Ar(u),be=ne?oe:Ar(p);ae=ae==st?Se:ae,be=be==st?Se:be;var Ce=ae==Se,je=be==Se,Le=ae==be;if(Le&&Pa(u)){if(!Pa(p))return!1;J=!0,Ce=!1}if(Le&&!Ce)return G||(G=new ei),J||Ml(u)?bv(u,p,b,S,U,G):M_(u,p,ae,b,S,U,G);if(!(b&A)){var Ke=Ce&&At.call(u,"__wrapped__"),lt=je&&At.call(p,"__wrapped__");if(Ke||lt){var wt=Ke?u.value():u,ct=lt?p.value():p;return G||(G=new ei),U(wt,ct,b,S,G)}}return Le?(G||(G=new ei),L_(u,p,b,S,U,G)):!1}function c_(u){return Mn(u)&&Ar(u)==Qe}function Op(u,p,b,S){var U=b.length,G=U,J=!S;if(u==null)return!G;for(u=$e(u);U--;){var ne=b[U];if(J&&ne[2]?ne[1]!==u[ne[0]]:!(ne[0]in u))return!1}for(;++U<G;){ne=b[U];var ae=ne[0],be=u[ae],Ce=ne[1];if(J&&ne[2]){if(be===n&&!(ae in u))return!1}else{var je=new ei;if(S)var Le=S(be,Ce,ae,u,p,je);if(!(Le===n?au(Ce,be,A|I,S,je):Le))return!1}}return!0}function H2(u){if(!_n(u)||V_(u))return!1;var p=Zi(u)?c5:hp;return p.test(zo(u))}function u_(u){return Mn(u)&&Lr(u)==Me}function d_(u){return Mn(u)&&Ar(u)==ke}function f_(u){return Mn(u)&&Nf(u.length)&&!!on[Lr(u)]}function q2(u){return typeof u=="function"?u:u==null?Zr:typeof u=="object"?mt(u)?$2(u[0],u[1]):Y2(u):fy(u)}function Mp(u){if(!cu(u))return m5(u);var p=[];for(var b in $e(u))At.call(u,b)&&b!="constructor"&&p.push(b);return p}function h_(u){if(!_n(u))return X_(u);var p=cu(u),b=[];for(var S in u)S=="constructor"&&(p||!At.call(u,S))||b.push(S);return b}function Lp(u,p){return u<p}function V2(u,p){var b=-1,S=Qr(u)?X(u.length):[];return Ra(u,function(U,G,J){S[++b]=p(U,G,J)}),S}function Y2(u){var p=Kp(u);return p.length==1&&p[0][2]?Sv(p[0][0],p[0][1]):function(b){return b===u||Op(b,u,p)}}function $2(u,p){return Jp(u)&&_v(p)?Sv(yi(u),p):function(b){var S=c1(b,u);return S===n&&S===p?u1(b,u):au(p,S,A|I)}}function lf(u,p,b,S,U){u!==p&&jp(p,function(G,J){if(U||(U=new ei),_n(G))p_(u,p,J,b,lf,S,U);else{var ne=S?S(t1(u,J),G,J+"",u,p,U):n;ne===n&&(ne=G),kp(u,J,ne)}},Kr)}function p_(u,p,b,S,U,G,J){var ne=t1(u,b),ae=t1(p,b),be=J.get(ae);if(be){kp(u,b,be);return}var Ce=G?G(ne,ae,b+"",u,p,J):n,je=Ce===n;if(je){var Le=mt(ae),Ke=!Le&&Pa(ae),lt=!Le&&!Ke&&Ml(ae);Ce=ae,Le||Ke||lt?mt(ne)?Ce=ne:zn(ne)?Ce=Xr(ne):Ke?(je=!1,Ce=iv(ae,!0)):lt?(je=!1,Ce=av(ae,!0)):Ce=[]:du(ae)||Wo(ae)?(Ce=ne,Wo(ne)?Ce=ny(ne):(!_n(ne)||Zi(ne))&&(Ce=Nv(ae))):je=!1}je&&(J.set(ae,Ce),U(Ce,ae,S,G,J),J.delete(ae)),kp(u,b,Ce)}function G2(u,p){var b=u.length;if(b)return p+=p<0?b:0,Ki(p,b)?u[p]:n}function X2(u,p,b){p.length?p=ut(p,function(G){return mt(G)?function(J){return Bo(J,G.length===1?G[0]:G)}:G}):p=[Zr];var S=-1;p=ut(p,On(ot()));var U=V2(u,function(G,J,ne){var ae=ut(p,function(be){return be(G)});return{criteria:ae,index:++S,value:G}});return Ta(U,function(G,J){return A_(G,J,b)})}function m_(u,p){return Q2(u,p,function(b,S){return u1(u,S)})}function Q2(u,p,b){for(var S=-1,U=p.length,G={};++S<U;){var J=p[S],ne=Bo(u,J);b(ne,J)&&ou(G,Ma(J,u),ne)}return G}function x_(u){return function(p){return Bo(p,u)}}function Pp(u,p,b,S){var U=S?Yc:xr,G=-1,J=p.length,ne=u;for(u===p&&(p=Xr(p)),b&&(ne=ut(u,On(b)));++G<J;)for(var ae=0,be=p[G],Ce=b?b(be):be;(ae=U(ne,Ce,ae,S))>-1;)ne!==u&&Kd.call(ne,ae,1),Kd.call(u,ae,1);return u}function K2(u,p){for(var b=u?p.length:0,S=b-1;b--;){var U=p[b];if(b==S||U!==G){var G=U;Ki(U)?Kd.call(u,U,1):zp(u,U)}}return u}function Fp(u,p){return u+ef(D2()*(p-u+1))}function g_(u,p,b,S){for(var U=-1,G=sr(Jd((p-u)/(b||1)),0),J=X(G);G--;)J[S?G:++U]=u,u+=b;return J}function Bp(u,p){var b="";if(!u||p<1||p>ue)return b;do p%2&&(b+=u),p=ef(p/2),p&&(u+=u);while(p);return b}function bt(u,p){return n1(Av(u,p,Zr),u+"")}function v_(u){return O2(Ll(u))}function y_(u,p){var b=Ll(u);return vf(b,Fo(p,0,b.length))}function ou(u,p,b,S){if(!_n(u))return u;p=Ma(p,u);for(var U=-1,G=p.length,J=G-1,ne=u;ne!=null&&++U<G;){var ae=yi(p[U]),be=b;if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return u;if(U!=J){var Ce=ne[ae];be=S?S(Ce,ae,ne):n,be===n&&(be=_n(Ce)?Ce:Ki(p[U+1])?[]:{})}ru(ne,ae,be),ne=ne[ae]}return u}var Z2=tf?function(u,p){return tf.set(u,p),u}:Zr,w_=Zd?function(u,p){return Zd(u,"toString",{configurable:!0,enumerable:!1,value:f1(p),writable:!0})}:Zr;function b_(u){return vf(Ll(u))}function Ms(u,p,b){var S=-1,U=u.length;p<0&&(p=-p>U?0:U+p),b=b>U?U:b,b<0&&(b+=U),U=p>b?0:b-p>>>0,p>>>=0;for(var G=X(U);++S<U;)G[S]=u[S+p];return G}function C_(u,p){var b;return Ra(u,function(S,U,G){return b=p(S,U,G),!b}),!!b}function cf(u,p,b){var S=0,U=u==null?S:u.length;if(typeof p=="number"&&p===p&&U<=Ae){for(;S<U;){var G=S+U>>>1,J=u[G];J!==null&&!fs(J)&&(b?J<=p:J<p)?S=G+1:U=G}return U}return Up(u,p,Zr,b)}function Up(u,p,b,S){var U=0,G=u==null?0:u.length;if(G===0)return 0;p=b(p);for(var J=p!==p,ne=p===null,ae=fs(p),be=p===n;U<G;){var Ce=ef((U+G)/2),je=b(u[Ce]),Le=je!==n,Ke=je===null,lt=je===je,wt=fs(je);if(J)var ct=S||lt;else be?ct=lt&&(S||Le):ne?ct=lt&&Le&&(S||!Ke):ae?ct=lt&&Le&&!Ke&&(S||!wt):Ke||wt?ct=!1:ct=S?je<=p:je<p;ct?U=Ce+1:G=Ce}return Sr(G,tt)}function J2(u,p){for(var b=-1,S=u.length,U=0,G=[];++b<S;){var J=u[b],ne=p?p(J):J;if(!b||!ti(ne,ae)){var ae=ne;G[U++]=J===0?0:J}}return G}function ev(u){return typeof u=="number"?u:fs(u)?Re:+u}function ds(u){if(typeof u=="string")return u;if(mt(u))return ut(u,ds)+"";if(fs(u))return I2?I2.call(u):"";var p=u+"";return p=="0"&&1/u==-ve?"-0":p}function Oa(u,p,b){var S=-1,U=yn,G=u.length,J=!0,ne=[],ae=ne;if(b)J=!1,U=jo;else if(G>=i){var be=p?null:R_(u);if(be)return s(be);J=!1,U=cr,ae=new Po}else ae=p?[]:ne;e:for(;++S<G;){var Ce=u[S],je=p?p(Ce):Ce;if(Ce=b||Ce!==0?Ce:0,J&&je===je){for(var Le=ae.length;Le--;)if(ae[Le]===je)continue e;p&&ae.push(je),ne.push(Ce)}else U(ae,je,b)||(ae!==ne&&ae.push(je),ne.push(Ce))}return ne}function zp(u,p){return p=Ma(p,u),u=kv(u,p),u==null||delete u[yi(Ls(p))]}function tv(u,p,b,S){return ou(u,p,b(Bo(u,p)),S)}function uf(u,p,b,S){for(var U=u.length,G=S?U:-1;(S?G--:++G<U)&&p(u[G],G,u););return b?Ms(u,S?0:G,S?G+1:U):Ms(u,S?G+1:0,S?U:G)}function nv(u,p){var b=u;return b instanceof kt&&(b=b.value()),Zs(p,function(S,U){return U.func.apply(U.thisArg,cs([S],U.args))},b)}function Wp(u,p,b){var S=u.length;if(S<2)return S?Oa(u[0]):[];for(var U=-1,G=X(S);++U<S;)for(var J=u[U],ne=-1;++ne<S;)ne!=U&&(G[U]=su(G[U]||J,u[ne],p,b));return Oa(gr(G,1),p,b)}function rv(u,p,b){for(var S=-1,U=u.length,G=p.length,J={};++S<U;){var ne=S<G?p[S]:n;b(J,u[S],ne)}return J}function Hp(u){return zn(u)?u:[]}function qp(u){return typeof u=="function"?u:Zr}function Ma(u,p){return mt(u)?u:Jp(u,p)?[u]:Iv(Yt(u))}var E_=bt;function La(u,p,b){var S=u.length;return b=b===n?S:b,!p&&b>=S?u:Ms(u,p,b)}var sv=u5||function(u){return Qn.clearTimeout(u)};function iv(u,p){if(p)return u.slice();var b=u.length,S=S2?S2(b):new u.constructor(b);return u.copy(S),S}function Vp(u){var p=new u.constructor(u.byteLength);return new Xd(p).set(new Xd(u)),p}function N_(u,p){var b=p?Vp(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function __(u){var p=new u.constructor(u.source,Eo.exec(u));return p.lastIndex=u.lastIndex,p}function S_(u){return nu?$e(nu.call(u)):{}}function av(u,p){var b=p?Vp(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function ov(u,p){if(u!==p){var b=u!==n,S=u===null,U=u===u,G=fs(u),J=p!==n,ne=p===null,ae=p===p,be=fs(p);if(!ne&&!be&&!G&&u>p||G&&J&&ae&&!ne&&!be||S&&J&&ae||!b&&ae||!U)return 1;if(!S&&!G&&!be&&u<p||be&&b&&U&&!S&&!G||ne&&b&&U||!J&&U||!ae)return-1}return 0}function A_(u,p,b){for(var S=-1,U=u.criteria,G=p.criteria,J=U.length,ne=b.length;++S<J;){var ae=ov(U[S],G[S]);if(ae){if(S>=ne)return ae;var be=b[S];return ae*(be=="desc"?-1:1)}}return u.index-p.index}function lv(u,p,b,S){for(var U=-1,G=u.length,J=b.length,ne=-1,ae=p.length,be=sr(G-J,0),Ce=X(ae+be),je=!S;++ne<ae;)Ce[ne]=p[ne];for(;++U<J;)(je||U<G)&&(Ce[b[U]]=u[U]);for(;be--;)Ce[ne++]=u[U++];return Ce}function cv(u,p,b,S){for(var U=-1,G=u.length,J=-1,ne=b.length,ae=-1,be=p.length,Ce=sr(G-ne,0),je=X(Ce+be),Le=!S;++U<Ce;)je[U]=u[U];for(var Ke=U;++ae<be;)je[Ke+ae]=p[ae];for(;++J<ne;)(Le||U<G)&&(je[Ke+b[J]]=u[U++]);return je}function Xr(u,p){var b=-1,S=u.length;for(p||(p=X(S));++b<S;)p[b]=u[b];return p}function vi(u,p,b,S){var U=!b;b||(b={});for(var G=-1,J=p.length;++G<J;){var ne=p[G],ae=S?S(b[ne],u[ne],ne,b,u):n;ae===n&&(ae=u[ne]),U?Gi(b,ne,ae):ru(b,ne,ae)}return b}function k_(u,p){return vi(u,Zp(u),p)}function T_(u,p){return vi(u,Cv(u),p)}function df(u,p){return function(b,S){var U=mt(b)?zd:K5,G=p?p():{};return U(b,u,ot(S,2),G)}}function Il(u){return bt(function(p,b){var S=-1,U=b.length,G=U>1?b[U-1]:n,J=U>2?b[2]:n;for(G=u.length>3&&typeof G=="function"?(U--,G):n,J&&Pr(b[0],b[1],J)&&(G=U<3?n:G,U=1),p=$e(p);++S<U;){var ne=b[S];ne&&u(p,ne,S,G)}return p})}function uv(u,p){return function(b,S){if(b==null)return b;if(!Qr(b))return u(b,S);for(var U=b.length,G=p?U:-1,J=$e(b);(p?G--:++G<U)&&S(J[G],G,J)!==!1;);return b}}function dv(u){return function(p,b,S){for(var U=-1,G=$e(p),J=S(p),ne=J.length;ne--;){var ae=J[u?ne:++U];if(b(G[ae],ae,G)===!1)break}return p}}function j_(u,p,b){var S=p&L,U=lu(u);function G(){var J=this&&this!==Qn&&this instanceof G?U:u;return J.apply(S?b:this,arguments)}return G}function fv(u){return function(p){p=Yt(p);var b=Da(p)?m(p):n,S=b?b[0]:p.charAt(0),U=b?La(b,1).join(""):p.slice(1);return S[u]()+U}}function Rl(u){return function(p){return Zs(uy(cy(p).replace(at,"")),u,"")}}function lu(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=Dl(u.prototype),S=u.apply(b,p);return _n(S)?S:b}}function D_(u,p,b){var S=lu(u);function U(){for(var G=arguments.length,J=X(G),ne=G,ae=Ol(U);ne--;)J[ne]=arguments[ne];var be=G<3&&J[0]!==ae&&J[G-1]!==ae?[]:P(J,ae);if(G-=be.length,G<b)return gv(u,p,ff,U.placeholder,n,J,be,n,n,b-G);var Ce=this&&this!==Qn&&this instanceof U?S:u;return lr(Ce,this,J)}return U}function hv(u){return function(p,b,S){var U=$e(p);if(!Qr(p)){var G=ot(b,3);p=dr(p),b=function(ne){return G(U[ne],ne,U)}}var J=u(p,b,S);return J>-1?U[G?p[J]:J]:n}}function pv(u){return Qi(function(p){var b=p.length,S=b,U=Rs.prototype.thru;for(u&&p.reverse();S--;){var G=p[S];if(typeof G!="function")throw new wn(d);if(U&&!J&&xf(G)=="wrapper")var J=new Rs([],!0)}for(S=J?S:b;++S<b;){G=p[S];var ne=xf(G),ae=ne=="wrapper"?Qp(G):n;ae&&e1(ae[0])&&ae[1]==(R|O|Z|V)&&!ae[4].length&&ae[9]==1?J=J[xf(ae[0])].apply(J,ae[3]):J=G.length==1&&e1(G)?J[ne]():J.thru(G)}return function(){var be=arguments,Ce=be[0];if(J&&be.length==1&&mt(Ce))return J.plant(Ce).value();for(var je=0,Le=b?p[je].apply(this,be):Ce;++je<b;)Le=p[je].call(this,Le);return Le}})}function ff(u,p,b,S,U,G,J,ne,ae,be){var Ce=p&R,je=p&L,Le=p&D,Ke=p&(O|W),lt=p&Y,wt=Le?n:lu(u);function ct(){for(var _t=arguments.length,jt=X(_t),hs=_t;hs--;)jt[hs]=arguments[hs];if(Ke)var Fr=Ol(ct),ps=Cp(jt,Fr);if(S&&(jt=lv(jt,S,U,Ke)),G&&(jt=cv(jt,G,J,Ke)),_t-=ps,Ke&&_t<be){var Wn=P(jt,Fr);return gv(u,p,ff,ct.placeholder,b,jt,Wn,ne,ae,be-_t)}var ni=je?b:this,ea=Le?ni[u]:u;return _t=jt.length,ne?jt=K_(jt,ne):lt&&_t>1&&jt.reverse(),Ce&&ae<_t&&(jt.length=ae),this&&this!==Qn&&this instanceof ct&&(ea=wt||lu(ea)),ea.apply(ni,jt)}return ct}function mv(u,p){return function(b,S){return i_(b,u,p(S),{})}}function hf(u,p){return function(b,S){var U;if(b===n&&S===n)return p;if(b!==n&&(U=b),S!==n){if(U===n)return S;typeof b=="string"||typeof S=="string"?(b=ds(b),S=ds(S)):(b=ev(b),S=ev(S)),U=u(b,S)}return U}}function Yp(u){return Qi(function(p){return p=ut(p,On(ot())),bt(function(b){var S=this;return u(p,function(U){return lr(U,S,b)})})})}function pf(u,p){p=p===n?" ":ds(p);var b=p.length;if(b<2)return b?Bp(p,u):p;var S=Bp(p,Jd(u/h(p)));return Da(p)?La(m(S),0,u).join(""):S.slice(0,u)}function I_(u,p,b,S){var U=p&L,G=lu(u);function J(){for(var ne=-1,ae=arguments.length,be=-1,Ce=S.length,je=X(Ce+ae),Le=this&&this!==Qn&&this instanceof J?G:u;++be<Ce;)je[be]=S[be];for(;ae--;)je[be++]=arguments[++ne];return lr(Le,U?b:this,je)}return J}function xv(u){return function(p,b,S){return S&&typeof S!="number"&&Pr(p,b,S)&&(b=S=n),p=Ji(p),b===n?(b=p,p=0):b=Ji(b),S=S===n?p<b?1:-1:Ji(S),g_(p,b,S,u)}}function mf(u){return function(p,b){return typeof p=="string"&&typeof b=="string"||(p=Ps(p),b=Ps(b)),u(p,b)}}function gv(u,p,b,S,U,G,J,ne,ae,be){var Ce=p&O,je=Ce?J:n,Le=Ce?n:J,Ke=Ce?G:n,lt=Ce?n:G;p|=Ce?Z:B,p&=~(Ce?B:Z),p&j||(p&=~(L|D));var wt=[u,p,U,Ke,je,lt,Le,ne,ae,be],ct=b.apply(n,wt);return e1(u)&&Tv(ct,wt),ct.placeholder=S,jv(ct,u,p)}function $p(u){var p=ye[u];return function(b,S){if(b=Ps(b),S=S==null?0:Sr(yt(S),292),S&&j2(b)){var U=(Yt(b)+"e").split("e"),G=p(U[0]+"e"+(+U[1]+S));return U=(Yt(G)+"e").split("e"),+(U[0]+"e"+(+U[1]-S))}return p(b)}}var R_=Tl&&1/s(new Tl([,-0]))[1]==ve?function(u){return new Tl(u)}:m1;function vv(u){return function(p){var b=Ar(p);return b==Qe?Nt(p):b==ke?o(p):Io(p,u(p))}}function Xi(u,p,b,S,U,G,J,ne){var ae=p&D;if(!ae&&typeof u!="function")throw new wn(d);var be=S?S.length:0;if(be||(p&=~(Z|B),S=U=n),J=J===n?J:sr(yt(J),0),ne=ne===n?ne:yt(ne),be-=U?U.length:0,p&B){var Ce=S,je=U;S=U=n}var Le=ae?n:Qp(u),Ke=[u,p,b,S,U,Ce,je,G,J,ne];if(Le&&G_(Ke,Le),u=Ke[0],p=Ke[1],b=Ke[2],S=Ke[3],U=Ke[4],ne=Ke[9]=Ke[9]===n?ae?0:u.length:sr(Ke[9]-be,0),!ne&&p&(O|W)&&(p&=~(O|W)),!p||p==L)var lt=j_(u,p,b);else p==O||p==W?lt=D_(u,p,ne):(p==Z||p==(L|Z))&&!U.length?lt=I_(u,p,b,S):lt=ff.apply(n,Ke);var wt=Le?Z2:Tv;return jv(wt(lt,Ke),u,p)}function yv(u,p,b,S){return u===n||ti(u,bn[b])&&!At.call(S,b)?p:u}function wv(u,p,b,S,U,G){return _n(u)&&_n(p)&&(G.set(p,u),lf(u,p,n,wv,G),G.delete(p)),u}function O_(u){return du(u)?n:u}function bv(u,p,b,S,U,G){var J=b&A,ne=u.length,ae=p.length;if(ne!=ae&&!(J&&ae>ne))return!1;var be=G.get(u),Ce=G.get(p);if(be&&Ce)return be==p&&Ce==u;var je=-1,Le=!0,Ke=b&I?new Po:n;for(G.set(u,p),G.set(p,u);++je<ne;){var lt=u[je],wt=p[je];if(S)var ct=J?S(wt,lt,je,p,u,G):S(lt,wt,je,u,p,G);if(ct!==n){if(ct)continue;Le=!1;break}if(Ke){if(!rt(p,function(_t,jt){if(!cr(Ke,jt)&&(lt===_t||U(lt,_t,b,S,G)))return Ke.push(jt)})){Le=!1;break}}else if(!(lt===wt||U(lt,wt,b,S,G))){Le=!1;break}}return G.delete(u),G.delete(p),Le}function M_(u,p,b,S,U,G,J){switch(b){case Xt:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case sn:return!(u.byteLength!=p.byteLength||!G(new Xd(u),new Xd(p)));case it:case nn:case It:return ti(+u,+p);case qt:return u.name==p.name&&u.message==p.message;case Me:case gn:return u==p+"";case Qe:var ne=Nt;case ke:var ae=S&A;if(ne||(ne=s),u.size!=p.size&&!ae)return!1;var be=J.get(u);if(be)return be==p;S|=I,J.set(u,p);var Ce=bv(ne(u),ne(p),S,U,G,J);return J.delete(u),Ce;case Xn:if(nu)return nu.call(u)==nu.call(p)}return!1}function L_(u,p,b,S,U,G){var J=b&A,ne=Gp(u),ae=ne.length,be=Gp(p),Ce=be.length;if(ae!=Ce&&!J)return!1;for(var je=ae;je--;){var Le=ne[je];if(!(J?Le in p:At.call(p,Le)))return!1}var Ke=G.get(u),lt=G.get(p);if(Ke&&lt)return Ke==p&&lt==u;var wt=!0;G.set(u,p),G.set(p,u);for(var ct=J;++je<ae;){Le=ne[je];var _t=u[Le],jt=p[Le];if(S)var hs=J?S(jt,_t,Le,p,u,G):S(_t,jt,Le,u,p,G);if(!(hs===n?_t===jt||U(_t,jt,b,S,G):hs)){wt=!1;break}ct||(ct=Le=="constructor")}if(wt&&!ct){var Fr=u.constructor,ps=p.constructor;Fr!=ps&&"constructor"in u&&"constructor"in p&&!(typeof Fr=="function"&&Fr instanceof Fr&&typeof ps=="function"&&ps instanceof ps)&&(wt=!1)}return G.delete(u),G.delete(p),wt}function Qi(u){return n1(Av(u,n,Lv),u+"")}function Gp(u){return z2(u,dr,Zp)}function Xp(u){return z2(u,Kr,Cv)}var Qp=tf?function(u){return tf.get(u)}:m1;function xf(u){for(var p=u.name+"",b=jl[p],S=At.call(jl,p)?b.length:0;S--;){var U=b[S],G=U.func;if(G==null||G==u)return U.name}return p}function Ol(u){var p=At.call(q,"placeholder")?q:u;return p.placeholder}function ot(){var u=q.iteratee||h1;return u=u===h1?q2:u,arguments.length?u(arguments[0],arguments[1]):u}function gf(u,p){var b=u.__data__;return q_(p)?b[typeof p=="string"?"string":"hash"]:b.map}function Kp(u){for(var p=dr(u),b=p.length;b--;){var S=p[b],U=u[S];p[b]=[S,U,_v(U)]}return p}function Uo(u,p){var b=Is(u,p);return H2(b)?b:n}function P_(u){var p=At.call(u,Mo),b=u[Mo];try{u[Mo]=n;var S=!0}catch{}var U=$d.call(u);return S&&(p?u[Mo]=b:delete u[Mo]),U}var Zp=_p?function(u){return u==null?[]:(u=$e(u),Ds(_p(u),function(p){return k2.call(u,p)}))}:x1,Cv=_p?function(u){for(var p=[];u;)cs(p,Zp(u)),u=Qd(u);return p}:x1,Ar=Lr;(Sp&&Ar(new Sp(new ArrayBuffer(1)))!=Xt||Jc&&Ar(new Jc)!=Qe||Ap&&Ar(Ap.resolve())!=Fe||Tl&&Ar(new Tl)!=ke||eu&&Ar(new eu)!=Je)&&(Ar=function(u){var p=Lr(u),b=p==Se?u.constructor:n,S=b?zo(b):"";if(S)switch(S){case y5:return Xt;case w5:return Qe;case b5:return Fe;case C5:return ke;case E5:return Je}return p});function F_(u,p,b){for(var S=-1,U=b.length;++S<U;){var G=b[S],J=G.size;switch(G.type){case"drop":u+=J;break;case"dropRight":p-=J;break;case"take":p=Sr(p,u+J);break;case"takeRight":u=sr(u,p-J);break}}return{start:u,end:p}}function B_(u){var p=u.match($r);return p?p[1].split(Ue):[]}function Ev(u,p,b){p=Ma(p,u);for(var S=-1,U=p.length,G=!1;++S<U;){var J=yi(p[S]);if(!(G=u!=null&&b(u,J)))break;u=u[J]}return G||++S!=U?G:(U=u==null?0:u.length,!!U&&Nf(U)&&Ki(J,U)&&(mt(u)||Wo(u)))}function U_(u){var p=u.length,b=new u.constructor(p);return p&&typeof u[0]=="string"&&At.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function Nv(u){return typeof u.constructor=="function"&&!cu(u)?Dl(Qd(u)):{}}function z_(u,p,b){var S=u.constructor;switch(p){case sn:return Vp(u);case it:case nn:return new S(+u);case Xt:return N_(u,b);case fn:case is:case Ss:case Fi:case rn:case Ie:case an:case Tt:case Vt:return av(u,b);case Qe:return new S;case It:case gn:return new S(u);case Me:return __(u);case ke:return new S;case Xn:return S_(u)}}function W_(u,p){var b=p.length;if(!b)return u;var S=b-1;return p[S]=(b>1?"& ":"")+p[S],p=p.join(b>2?", ":" "),u.replace(Ui,`{
/* [wrapped with `+p+`] */
`)}function H_(u){return mt(u)||Wo(u)||!!(T2&&u&&u[T2])}function Ki(u,p){var b=typeof u;return p=p??ue,!!p&&(b=="number"||b!="symbol"&&Ts.test(u))&&u>-1&&u%1==0&&u<p}function Pr(u,p,b){if(!_n(b))return!1;var S=typeof p;return(S=="number"?Qr(b)&&Ki(p,b.length):S=="string"&&p in b)?ti(b[p],u):!1}function Jp(u,p){if(mt(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||fs(u)?!0:vl.test(u)||!Na.test(u)||p!=null&&u in $e(p)}function q_(u){var p=typeof u;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?u!=="__proto__":u===null}function e1(u){var p=xf(u),b=q[p];if(typeof b!="function"||!(p in kt.prototype))return!1;if(u===b)return!0;var S=Qp(b);return!!S&&u===S[0]}function V_(u){return!!Yd&&Yd in u}var Y_=ur?Zi:g1;function cu(u){var p=u&&u.constructor,b=typeof p=="function"&&p.prototype||bn;return u===b}function _v(u){return u===u&&!_n(u)}function Sv(u,p){return function(b){return b==null?!1:b[u]===p&&(p!==n||u in $e(b))}}function $_(u){var p=Cf(u,function(S){return b.size===v&&b.clear(),S}),b=p.cache;return p}function G_(u,p){var b=u[1],S=p[1],U=b|S,G=U<(L|D|R),J=S==R&&b==O||S==R&&b==V&&u[7].length<=p[8]||S==(R|V)&&p[7].length<=p[8]&&b==O;if(!(G||J))return u;S&L&&(u[2]=p[2],U|=b&L?0:j);var ne=p[3];if(ne){var ae=u[3];u[3]=ae?lv(ae,ne,p[4]):ne,u[4]=ae?P(u[3],w):p[4]}return ne=p[5],ne&&(ae=u[5],u[5]=ae?cv(ae,ne,p[6]):ne,u[6]=ae?P(u[5],w):p[6]),ne=p[7],ne&&(u[7]=ne),S&R&&(u[8]=u[8]==null?p[8]:Sr(u[8],p[8])),u[9]==null&&(u[9]=p[9]),u[0]=p[0],u[1]=U,u}function X_(u){var p=[];if(u!=null)for(var b in $e(u))p.push(b);return p}function Q_(u){return $d.call(u)}function Av(u,p,b){return p=sr(p===n?u.length-1:p,0),function(){for(var S=arguments,U=-1,G=sr(S.length-p,0),J=X(G);++U<G;)J[U]=S[p+U];U=-1;for(var ne=X(p+1);++U<p;)ne[U]=S[U];return ne[p]=b(J),lr(u,this,ne)}}function kv(u,p){return p.length<2?u:Bo(u,Ms(p,0,-1))}function K_(u,p){for(var b=u.length,S=Sr(p.length,b),U=Xr(u);S--;){var G=p[S];u[S]=Ki(G,b)?U[G]:n}return u}function t1(u,p){if(!(p==="constructor"&&typeof u[p]=="function")&&p!="__proto__")return u[p]}var Tv=Dv(Z2),uu=f5||function(u,p){return Qn.setTimeout(u,p)},n1=Dv(w_);function jv(u,p,b){var S=p+"";return n1(u,W_(S,Z_(B_(S),b)))}function Dv(u){var p=0,b=0;return function(){var S=x5(),U=ce-(S-b);if(b=S,U>0){if(++p>=ie)return arguments[0]}else p=0;return u.apply(n,arguments)}}function vf(u,p){var b=-1,S=u.length,U=S-1;for(p=p===n?S:p;++b<p;){var G=Fp(b,U),J=u[G];u[G]=u[b],u[b]=J}return u.length=p,u}var Iv=$_(function(u){var p=[];return u.charCodeAt(0)===46&&p.push(""),u.replace(As,function(b,S,U,G){p.push(U?G.replace(Cr,"$1"):S||b)}),p});function yi(u){if(typeof u=="string"||fs(u))return u;var p=u+"";return p=="0"&&1/u==-ve?"-0":p}function zo(u){if(u!=null){try{return Js.call(u)}catch{}try{return u+""}catch{}}return""}function Z_(u,p){return Gr(Ge,function(b){var S="_."+b[0];p&b[1]&&!yn(u,S)&&u.push(S)}),u.sort()}function Rv(u){if(u instanceof kt)return u.clone();var p=new Rs(u.__wrapped__,u.__chain__);return p.__actions__=Xr(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}function J_(u,p,b){(b?Pr(u,p,b):p===n)?p=1:p=sr(yt(p),0);var S=u==null?0:u.length;if(!S||p<1)return[];for(var U=0,G=0,J=X(Jd(S/p));U<S;)J[G++]=Ms(u,U,U+=p);return J}function eS(u){for(var p=-1,b=u==null?0:u.length,S=0,U=[];++p<b;){var G=u[p];G&&(U[S++]=G)}return U}function tS(){var u=arguments.length;if(!u)return[];for(var p=X(u-1),b=arguments[0],S=u;S--;)p[S-1]=arguments[S];return cs(mt(b)?Xr(b):[b],gr(p,1))}var nS=bt(function(u,p){return zn(u)?su(u,gr(p,1,zn,!0)):[]}),rS=bt(function(u,p){var b=Ls(p);return zn(b)&&(b=n),zn(u)?su(u,gr(p,1,zn,!0),ot(b,2)):[]}),sS=bt(function(u,p){var b=Ls(p);return zn(b)&&(b=n),zn(u)?su(u,gr(p,1,zn,!0),n,b):[]});function iS(u,p,b){var S=u==null?0:u.length;return S?(p=b||p===n?1:yt(p),Ms(u,p<0?0:p,S)):[]}function aS(u,p,b){var S=u==null?0:u.length;return S?(p=b||p===n?1:yt(p),p=S-p,Ms(u,0,p<0?0:p)):[]}function oS(u,p){return u&&u.length?uf(u,ot(p,3),!0,!0):[]}function lS(u,p){return u&&u.length?uf(u,ot(p,3),!0):[]}function cS(u,p,b,S){var U=u==null?0:u.length;return U?(b&&typeof b!="number"&&Pr(u,p,b)&&(b=0,S=U),t_(u,p,b,S)):[]}function Ov(u,p,b){var S=u==null?0:u.length;if(!S)return-1;var U=b==null?0:yt(b);return U<0&&(U=sr(S+U,0)),_l(u,ot(p,3),U)}function Mv(u,p,b){var S=u==null?0:u.length;if(!S)return-1;var U=S-1;return b!==n&&(U=yt(b),U=b<0?sr(S+U,0):Sr(U,S-1)),_l(u,ot(p,3),U,!0)}function Lv(u){var p=u==null?0:u.length;return p?gr(u,1):[]}function uS(u){var p=u==null?0:u.length;return p?gr(u,ve):[]}function dS(u,p){var b=u==null?0:u.length;return b?(p=p===n?1:yt(p),gr(u,p)):[]}function fS(u){for(var p=-1,b=u==null?0:u.length,S={};++p<b;){var U=u[p];S[U[0]]=U[1]}return S}function Pv(u){return u&&u.length?u[0]:n}function hS(u,p,b){var S=u==null?0:u.length;if(!S)return-1;var U=b==null?0:yt(b);return U<0&&(U=sr(S+U,0)),xr(u,p,U)}function pS(u){var p=u==null?0:u.length;return p?Ms(u,0,-1):[]}var mS=bt(function(u){var p=ut(u,Hp);return p.length&&p[0]===u[0]?Rp(p):[]}),xS=bt(function(u){var p=Ls(u),b=ut(u,Hp);return p===Ls(b)?p=n:b.pop(),b.length&&b[0]===u[0]?Rp(b,ot(p,2)):[]}),gS=bt(function(u){var p=Ls(u),b=ut(u,Hp);return p=typeof p=="function"?p:n,p&&b.pop(),b.length&&b[0]===u[0]?Rp(b,n,p):[]});function vS(u,p){return u==null?"":p5.call(u,p)}function Ls(u){var p=u==null?0:u.length;return p?u[p-1]:n}function yS(u,p,b){var S=u==null?0:u.length;if(!S)return-1;var U=S;return b!==n&&(U=yt(b),U=U<0?sr(S+U,0):Sr(U,S-1)),p===p?f(u,p,U):_l(u,$c,U,!0)}function wS(u,p){return u&&u.length?G2(u,yt(p)):n}var bS=bt(Fv);function Fv(u,p){return u&&u.length&&p&&p.length?Pp(u,p):u}function CS(u,p,b){return u&&u.length&&p&&p.length?Pp(u,p,ot(b,2)):u}function ES(u,p,b){return u&&u.length&&p&&p.length?Pp(u,p,n,b):u}var NS=Qi(function(u,p){var b=u==null?0:u.length,S=Tp(u,p);return K2(u,ut(p,function(U){return Ki(U,b)?+U:U}).sort(ov)),S});function _S(u,p){var b=[];if(!(u&&u.length))return b;var S=-1,U=[],G=u.length;for(p=ot(p,3);++S<G;){var J=u[S];p(J,S,u)&&(b.push(J),U.push(S))}return K2(u,U),b}function r1(u){return u==null?u:v5.call(u)}function SS(u,p,b){var S=u==null?0:u.length;return S?(b&&typeof b!="number"&&Pr(u,p,b)?(p=0,b=S):(p=p==null?0:yt(p),b=b===n?S:yt(b)),Ms(u,p,b)):[]}function AS(u,p){return cf(u,p)}function kS(u,p,b){return Up(u,p,ot(b,2))}function TS(u,p){var b=u==null?0:u.length;if(b){var S=cf(u,p);if(S<b&&ti(u[S],p))return S}return-1}function jS(u,p){return cf(u,p,!0)}function DS(u,p,b){return Up(u,p,ot(b,2),!0)}function IS(u,p){var b=u==null?0:u.length;if(b){var S=cf(u,p,!0)-1;if(ti(u[S],p))return S}return-1}function RS(u){return u&&u.length?J2(u):[]}function OS(u,p){return u&&u.length?J2(u,ot(p,2)):[]}function MS(u){var p=u==null?0:u.length;return p?Ms(u,1,p):[]}function LS(u,p,b){return u&&u.length?(p=b||p===n?1:yt(p),Ms(u,0,p<0?0:p)):[]}function PS(u,p,b){var S=u==null?0:u.length;return S?(p=b||p===n?1:yt(p),p=S-p,Ms(u,p<0?0:p,S)):[]}function FS(u,p){return u&&u.length?uf(u,ot(p,3),!1,!0):[]}function BS(u,p){return u&&u.length?uf(u,ot(p,3)):[]}var US=bt(function(u){return Oa(gr(u,1,zn,!0))}),zS=bt(function(u){var p=Ls(u);return zn(p)&&(p=n),Oa(gr(u,1,zn,!0),ot(p,2))}),WS=bt(function(u){var p=Ls(u);return p=typeof p=="function"?p:n,Oa(gr(u,1,zn,!0),n,p)});function HS(u){return u&&u.length?Oa(u):[]}function qS(u,p){return u&&u.length?Oa(u,ot(p,2)):[]}function VS(u,p){return p=typeof p=="function"?p:n,u&&u.length?Oa(u,n,p):[]}function s1(u){if(!(u&&u.length))return[];var p=0;return u=Ds(u,function(b){if(zn(b))return p=sr(b.length,p),!0}),Gc(p,function(b){return ut(u,Al(b))})}function Bv(u,p){if(!(u&&u.length))return[];var b=s1(u);return p==null?b:ut(b,function(S){return lr(p,n,S)})}var YS=bt(function(u,p){return zn(u)?su(u,p):[]}),$S=bt(function(u){return Wp(Ds(u,zn))}),GS=bt(function(u){var p=Ls(u);return zn(p)&&(p=n),Wp(Ds(u,zn),ot(p,2))}),XS=bt(function(u){var p=Ls(u);return p=typeof p=="function"?p:n,Wp(Ds(u,zn),n,p)}),QS=bt(s1);function KS(u,p){return rv(u||[],p||[],ru)}function ZS(u,p){return rv(u||[],p||[],ou)}var JS=bt(function(u){var p=u.length,b=p>1?u[p-1]:n;return b=typeof b=="function"?(u.pop(),b):n,Bv(u,b)});function Uv(u){var p=q(u);return p.__chain__=!0,p}function e8(u,p){return p(u),u}function yf(u,p){return p(u)}var t8=Qi(function(u){var p=u.length,b=p?u[0]:0,S=this.__wrapped__,U=function(G){return Tp(G,u)};return p>1||this.__actions__.length||!(S instanceof kt)||!Ki(b)?this.thru(U):(S=S.slice(b,+b+(p?1:0)),S.__actions__.push({func:yf,args:[U],thisArg:n}),new Rs(S,this.__chain__).thru(function(G){return p&&!G.length&&G.push(n),G}))});function n8(){return Uv(this)}function r8(){return new Rs(this.value(),this.__chain__)}function s8(){this.__values__===n&&(this.__values__=ey(this.value()));var u=this.__index__>=this.__values__.length,p=u?n:this.__values__[this.__index__++];return{done:u,value:p}}function i8(){return this}function a8(u){for(var p,b=this;b instanceof rf;){var S=Rv(b);S.__index__=0,S.__values__=n,p?U.__wrapped__=S:p=S;var U=S;b=b.__wrapped__}return U.__wrapped__=u,p}function o8(){var u=this.__wrapped__;if(u instanceof kt){var p=u;return this.__actions__.length&&(p=new kt(this)),p=p.reverse(),p.__actions__.push({func:yf,args:[r1],thisArg:n}),new Rs(p,this.__chain__)}return this.thru(r1)}function l8(){return nv(this.__wrapped__,this.__actions__)}var c8=df(function(u,p,b){At.call(u,b)?++u[b]:Gi(u,b,1)});function u8(u,p,b){var S=mt(u)?Wd:e_;return b&&Pr(u,p,b)&&(p=n),S(u,ot(p,3))}function d8(u,p){var b=mt(u)?Ds:B2;return b(u,ot(p,3))}var f8=hv(Ov),h8=hv(Mv);function p8(u,p){return gr(wf(u,p),1)}function m8(u,p){return gr(wf(u,p),ve)}function x8(u,p,b){return b=b===n?1:yt(b),gr(wf(u,p),b)}function zv(u,p){var b=mt(u)?Gr:Ra;return b(u,ot(p,3))}function Wv(u,p){var b=mt(u)?wp:F2;return b(u,ot(p,3))}var g8=df(function(u,p,b){At.call(u,b)?u[b].push(p):Gi(u,b,[p])});function v8(u,p,b,S){u=Qr(u)?u:Ll(u),b=b&&!S?yt(b):0;var U=u.length;return b<0&&(b=sr(U+b,0)),_f(u)?b<=U&&u.indexOf(p,b)>-1:!!U&&xr(u,p,b)>-1}var y8=bt(function(u,p,b){var S=-1,U=typeof p=="function",G=Qr(u)?X(u.length):[];return Ra(u,function(J){G[++S]=U?lr(p,J,b):iu(J,p,b)}),G}),w8=df(function(u,p,b){Gi(u,b,p)});function wf(u,p){var b=mt(u)?ut:V2;return b(u,ot(p,3))}function b8(u,p,b,S){return u==null?[]:(mt(p)||(p=p==null?[]:[p]),b=S?n:b,mt(b)||(b=b==null?[]:[b]),X2(u,p,b))}var C8=df(function(u,p,b){u[b?0:1].push(p)},function(){return[[],[]]});function E8(u,p,b){var S=mt(u)?Zs:Hd,U=arguments.length<3;return S(u,ot(p,4),b,U,Ra)}function N8(u,p,b){var S=mt(u)?Zt:Hd,U=arguments.length<3;return S(u,ot(p,4),b,U,F2)}function _8(u,p){var b=mt(u)?Ds:B2;return b(u,Ef(ot(p,3)))}function S8(u){var p=mt(u)?O2:v_;return p(u)}function A8(u,p,b){(b?Pr(u,p,b):p===n)?p=1:p=yt(p);var S=mt(u)?X5:y_;return S(u,p)}function k8(u){var p=mt(u)?Q5:b_;return p(u)}function T8(u){if(u==null)return 0;if(Qr(u))return _f(u)?h(u):u.length;var p=Ar(u);return p==Qe||p==ke?u.size:Mp(u).length}function j8(u,p,b){var S=mt(u)?rt:C_;return b&&Pr(u,p,b)&&(p=n),S(u,ot(p,3))}var D8=bt(function(u,p){if(u==null)return[];var b=p.length;return b>1&&Pr(u,p[0],p[1])?p=[]:b>2&&Pr(p[0],p[1],p[2])&&(p=[p[0]]),X2(u,gr(p,1),[])}),bf=d5||function(){return Qn.Date.now()};function I8(u,p){if(typeof p!="function")throw new wn(d);return u=yt(u),function(){if(--u<1)return p.apply(this,arguments)}}function Hv(u,p,b){return p=b?n:p,p=u&&p==null?u.length:p,Xi(u,R,n,n,n,n,p)}function qv(u,p){var b;if(typeof p!="function")throw new wn(d);return u=yt(u),function(){return--u>0&&(b=p.apply(this,arguments)),u<=1&&(p=n),b}}var i1=bt(function(u,p,b){var S=L;if(b.length){var U=P(b,Ol(i1));S|=Z}return Xi(u,S,p,b,U)}),Vv=bt(function(u,p,b){var S=L|D;if(b.length){var U=P(b,Ol(Vv));S|=Z}return Xi(p,S,u,b,U)});function Yv(u,p,b){p=b?n:p;var S=Xi(u,O,n,n,n,n,n,p);return S.placeholder=Yv.placeholder,S}function $v(u,p,b){p=b?n:p;var S=Xi(u,W,n,n,n,n,n,p);return S.placeholder=$v.placeholder,S}function Gv(u,p,b){var S,U,G,J,ne,ae,be=0,Ce=!1,je=!1,Le=!0;if(typeof u!="function")throw new wn(d);p=Ps(p)||0,_n(b)&&(Ce=!!b.leading,je="maxWait"in b,G=je?sr(Ps(b.maxWait)||0,p):G,Le="trailing"in b?!!b.trailing:Le);function Ke(Wn){var ni=S,ea=U;return S=U=n,be=Wn,J=u.apply(ea,ni),J}function lt(Wn){return be=Wn,ne=uu(_t,p),Ce?Ke(Wn):J}function wt(Wn){var ni=Wn-ae,ea=Wn-be,hy=p-ni;return je?Sr(hy,G-ea):hy}function ct(Wn){var ni=Wn-ae,ea=Wn-be;return ae===n||ni>=p||ni<0||je&&ea>=G}function _t(){var Wn=bf();if(ct(Wn))return jt(Wn);ne=uu(_t,wt(Wn))}function jt(Wn){return ne=n,Le&&S?Ke(Wn):(S=U=n,J)}function hs(){ne!==n&&sv(ne),be=0,S=ae=U=ne=n}function Fr(){return ne===n?J:jt(bf())}function ps(){var Wn=bf(),ni=ct(Wn);if(S=arguments,U=this,ae=Wn,ni){if(ne===n)return lt(ae);if(je)return sv(ne),ne=uu(_t,p),Ke(ae)}return ne===n&&(ne=uu(_t,p)),J}return ps.cancel=hs,ps.flush=Fr,ps}var R8=bt(function(u,p){return P2(u,1,p)}),O8=bt(function(u,p,b){return P2(u,Ps(p)||0,b)});function M8(u){return Xi(u,Y)}function Cf(u,p){if(typeof u!="function"||p!=null&&typeof p!="function")throw new wn(d);var b=function(){var S=arguments,U=p?p.apply(this,S):S[0],G=b.cache;if(G.has(U))return G.get(U);var J=u.apply(this,S);return b.cache=G.set(U,J)||G,J};return b.cache=new(Cf.Cache||$i),b}Cf.Cache=$i;function Ef(u){if(typeof u!="function")throw new wn(d);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}function L8(u){return qv(2,u)}var P8=E_(function(u,p){p=p.length==1&&mt(p[0])?ut(p[0],On(ot())):ut(gr(p,1),On(ot()));var b=p.length;return bt(function(S){for(var U=-1,G=Sr(S.length,b);++U<G;)S[U]=p[U].call(this,S[U]);return lr(u,this,S)})}),a1=bt(function(u,p){var b=P(p,Ol(a1));return Xi(u,Z,n,p,b)}),Xv=bt(function(u,p){var b=P(p,Ol(Xv));return Xi(u,B,n,p,b)}),F8=Qi(function(u,p){return Xi(u,V,n,n,n,p)});function B8(u,p){if(typeof u!="function")throw new wn(d);return p=p===n?p:yt(p),bt(u,p)}function U8(u,p){if(typeof u!="function")throw new wn(d);return p=p==null?0:sr(yt(p),0),bt(function(b){var S=b[p],U=La(b,0,p);return S&&cs(U,S),lr(u,this,U)})}function z8(u,p,b){var S=!0,U=!0;if(typeof u!="function")throw new wn(d);return _n(b)&&(S="leading"in b?!!b.leading:S,U="trailing"in b?!!b.trailing:U),Gv(u,p,{leading:S,maxWait:p,trailing:U})}function W8(u){return Hv(u,1)}function H8(u,p){return a1(qp(p),u)}function q8(){if(!arguments.length)return[];var u=arguments[0];return mt(u)?u:[u]}function V8(u){return Os(u,k)}function Y8(u,p){return p=typeof p=="function"?p:n,Os(u,k,p)}function $8(u){return Os(u,E|k)}function G8(u,p){return p=typeof p=="function"?p:n,Os(u,E|k,p)}function X8(u,p){return p==null||L2(u,p,dr(p))}function ti(u,p){return u===p||u!==u&&p!==p}var Q8=mf(Ip),K8=mf(function(u,p){return u>=p}),Wo=W2(function(){return arguments}())?W2:function(u){return Mn(u)&&At.call(u,"callee")&&!k2.call(u,"callee")},mt=X.isArray,Z8=To?On(To):a_;function Qr(u){return u!=null&&Nf(u.length)&&!Zi(u)}function zn(u){return Mn(u)&&Qr(u)}function J8(u){return u===!0||u===!1||Mn(u)&&Lr(u)==it}var Pa=h5||g1,e6=Ks?On(Ks):o_;function t6(u){return Mn(u)&&u.nodeType===1&&!du(u)}function n6(u){if(u==null)return!0;if(Qr(u)&&(mt(u)||typeof u=="string"||typeof u.splice=="function"||Pa(u)||Ml(u)||Wo(u)))return!u.length;var p=Ar(u);if(p==Qe||p==ke)return!u.size;if(cu(u))return!Mp(u).length;for(var b in u)if(At.call(u,b))return!1;return!0}function r6(u,p){return au(u,p)}function s6(u,p,b){b=typeof b=="function"?b:n;var S=b?b(u,p):n;return S===n?au(u,p,n,b):!!S}function o1(u){if(!Mn(u))return!1;var p=Lr(u);return p==qt||p==dn||typeof u.message=="string"&&typeof u.name=="string"&&!du(u)}function i6(u){return typeof u=="number"&&j2(u)}function Zi(u){if(!_n(u))return!1;var p=Lr(u);return p==Wt||p==Ee||p==ft||p==Xe}function Qv(u){return typeof u=="number"&&u==yt(u)}function Nf(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ue}function _n(u){var p=typeof u;return u!=null&&(p=="object"||p=="function")}function Mn(u){return u!=null&&typeof u=="object"}var Kv=Ud?On(Ud):c_;function a6(u,p){return u===p||Op(u,p,Kp(p))}function o6(u,p,b){return b=typeof b=="function"?b:n,Op(u,p,Kp(p),b)}function l6(u){return Zv(u)&&u!=+u}function c6(u){if(Y_(u))throw new pe(a);return H2(u)}function u6(u){return u===null}function d6(u){return u==null}function Zv(u){return typeof u=="number"||Mn(u)&&Lr(u)==It}function du(u){if(!Mn(u)||Lr(u)!=Se)return!1;var p=Qd(u);if(p===null)return!0;var b=At.call(p,"constructor")&&p.constructor;return typeof b=="function"&&b instanceof b&&Js.call(b)==o5}var l1=he?On(he):u_;function f6(u){return Qv(u)&&u>=-ue&&u<=ue}var Jv=xt?On(xt):d_;function _f(u){return typeof u=="string"||!mt(u)&&Mn(u)&&Lr(u)==gn}function fs(u){return typeof u=="symbol"||Mn(u)&&Lr(u)==Xn}var Ml=Kn?On(Kn):f_;function h6(u){return u===n}function p6(u){return Mn(u)&&Ar(u)==Je}function m6(u){return Mn(u)&&Lr(u)==Rt}var x6=mf(Lp),g6=mf(function(u,p){return u<=p});function ey(u){if(!u)return[];if(Qr(u))return _f(u)?m(u):Xr(u);if(Zc&&u[Zc])return Ro(u[Zc]());var p=Ar(u),b=p==Qe?Nt:p==ke?s:Ll;return b(u)}function Ji(u){if(!u)return u===0?u:0;if(u=Ps(u),u===ve||u===-ve){var p=u<0?-1:1;return p*ge}return u===u?u:0}function yt(u){var p=Ji(u),b=p%1;return p===p?b?p-b:p:0}function ty(u){return u?Fo(yt(u),0,qe):0}function Ps(u){if(typeof u=="number")return u;if(fs(u))return Re;if(_n(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=_n(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=qd(u);var b=ks.test(u);return b||pp.test(u)?Nr(u.slice(2),b?2:8):yl.test(u)?Re:+u}function ny(u){return vi(u,Kr(u))}function v6(u){return u?Fo(yt(u),-ue,ue):u===0?u:0}function Yt(u){return u==null?"":ds(u)}var y6=Il(function(u,p){if(cu(p)||Qr(p)){vi(p,dr(p),u);return}for(var b in p)At.call(p,b)&&ru(u,b,p[b])}),ry=Il(function(u,p){vi(p,Kr(p),u)}),Sf=Il(function(u,p,b,S){vi(p,Kr(p),u,S)}),w6=Il(function(u,p,b,S){vi(p,dr(p),u,S)}),b6=Qi(Tp);function C6(u,p){var b=Dl(u);return p==null?b:M2(b,p)}var E6=bt(function(u,p){u=$e(u);var b=-1,S=p.length,U=S>2?p[2]:n;for(U&&Pr(p[0],p[1],U)&&(S=1);++b<S;)for(var G=p[b],J=Kr(G),ne=-1,ae=J.length;++ne<ae;){var be=J[ne],Ce=u[be];(Ce===n||ti(Ce,bn[be])&&!At.call(u,be))&&(u[be]=G[be])}return u}),N6=bt(function(u){return u.push(n,wv),lr(sy,n,u)});function _6(u,p){return Vi(u,ot(p,3),gi)}function S6(u,p){return Vi(u,ot(p,3),Dp)}function A6(u,p){return u==null?u:jp(u,ot(p,3),Kr)}function k6(u,p){return u==null?u:U2(u,ot(p,3),Kr)}function T6(u,p){return u&&gi(u,ot(p,3))}function j6(u,p){return u&&Dp(u,ot(p,3))}function D6(u){return u==null?[]:of(u,dr(u))}function I6(u){return u==null?[]:of(u,Kr(u))}function c1(u,p,b){var S=u==null?n:Bo(u,p);return S===n?b:S}function R6(u,p){return u!=null&&Ev(u,p,n_)}function u1(u,p){return u!=null&&Ev(u,p,r_)}var O6=mv(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=$d.call(p)),u[p]=b},f1(Zr)),M6=mv(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=$d.call(p)),At.call(u,p)?u[p].push(b):u[p]=[b]},ot),L6=bt(iu);function dr(u){return Qr(u)?R2(u):Mp(u)}function Kr(u){return Qr(u)?R2(u,!0):h_(u)}function P6(u,p){var b={};return p=ot(p,3),gi(u,function(S,U,G){Gi(b,p(S,U,G),S)}),b}function F6(u,p){var b={};return p=ot(p,3),gi(u,function(S,U,G){Gi(b,U,p(S,U,G))}),b}var B6=Il(function(u,p,b){lf(u,p,b)}),sy=Il(function(u,p,b,S){lf(u,p,b,S)}),U6=Qi(function(u,p){var b={};if(u==null)return b;var S=!1;p=ut(p,function(G){return G=Ma(G,u),S||(S=G.length>1),G}),vi(u,Xp(u),b),S&&(b=Os(b,E|_|k,O_));for(var U=p.length;U--;)zp(b,p[U]);return b});function z6(u,p){return iy(u,Ef(ot(p)))}var W6=Qi(function(u,p){return u==null?{}:m_(u,p)});function iy(u,p){if(u==null)return{};var b=ut(Xp(u),function(S){return[S]});return p=ot(p),Q2(u,b,function(S,U){return p(S,U[0])})}function H6(u,p,b){p=Ma(p,u);var S=-1,U=p.length;for(U||(U=1,u=n);++S<U;){var G=u==null?n:u[yi(p[S])];G===n&&(S=U,G=b),u=Zi(G)?G.call(u):G}return u}function q6(u,p,b){return u==null?u:ou(u,p,b)}function V6(u,p,b,S){return S=typeof S=="function"?S:n,u==null?u:ou(u,p,b,S)}var ay=vv(dr),oy=vv(Kr);function Y6(u,p,b){var S=mt(u),U=S||Pa(u)||Ml(u);if(p=ot(p,4),b==null){var G=u&&u.constructor;U?b=S?new G:[]:_n(u)?b=Zi(G)?Dl(Qd(u)):{}:b={}}return(U?Gr:gi)(u,function(J,ne,ae){return p(b,J,ne,ae)}),b}function $6(u,p){return u==null?!0:zp(u,p)}function G6(u,p,b){return u==null?u:tv(u,p,qp(b))}function X6(u,p,b,S){return S=typeof S=="function"?S:n,u==null?u:tv(u,p,qp(b),S)}function Ll(u){return u==null?[]:ja(u,dr(u))}function Q6(u){return u==null?[]:ja(u,Kr(u))}function K6(u,p,b){return b===n&&(b=p,p=n),b!==n&&(b=Ps(b),b=b===b?b:0),p!==n&&(p=Ps(p),p=p===p?p:0),Fo(Ps(u),p,b)}function Z6(u,p,b){return p=Ji(p),b===n?(b=p,p=0):b=Ji(b),u=Ps(u),s_(u,p,b)}function J6(u,p,b){if(b&&typeof b!="boolean"&&Pr(u,p,b)&&(p=b=n),b===n&&(typeof p=="boolean"?(b=p,p=n):typeof u=="boolean"&&(b=u,u=n)),u===n&&p===n?(u=0,p=1):(u=Ji(u),p===n?(p=u,u=0):p=Ji(p)),u>p){var S=u;u=p,p=S}if(b||u%1||p%1){var U=D2();return Sr(u+U*(p-u+ko("1e-"+((U+"").length-1))),p)}return Fp(u,p)}var eA=Rl(function(u,p,b){return p=p.toLowerCase(),u+(b?ly(p):p)});function ly(u){return d1(Yt(u).toLowerCase())}function cy(u){return u=Yt(u),u&&u.replace(mr,Qc).replace(vp,"")}function tA(u,p,b){u=Yt(u),p=ds(p);var S=u.length;b=b===n?S:Fo(yt(b),0,S);var U=b;return b-=p.length,b>=0&&u.slice(b,U)==p}function nA(u){return u=Yt(u),u&&Dd.test(u)?u.replace(mi,Ep):u}function rA(u){return u=Yt(u),u&&Bi.test(u)?u.replace(Pc,"\\$&"):u}var sA=Rl(function(u,p,b){return u+(b?"-":"")+p.toLowerCase()}),iA=Rl(function(u,p,b){return u+(b?" ":"")+p.toLowerCase()}),aA=fv("toLowerCase");function oA(u,p,b){u=Yt(u),p=yt(p);var S=p?h(u):0;if(!p||S>=p)return u;var U=(p-S)/2;return pf(ef(U),b)+u+pf(Jd(U),b)}function lA(u,p,b){u=Yt(u),p=yt(p);var S=p?h(u):0;return p&&S<p?u+pf(p-S,b):u}function cA(u,p,b){u=Yt(u),p=yt(p);var S=p?h(u):0;return p&&S<p?pf(p-S,b)+u:u}function uA(u,p,b){return b||p==null?p=0:p&&(p=+p),g5(Yt(u).replace(Co,""),p||0)}function dA(u,p,b){return(b?Pr(u,p,b):p===n)?p=1:p=yt(p),Bp(Yt(u),p)}function fA(){var u=arguments,p=Yt(u[0]);return u.length<3?p:p.replace(u[1],u[2])}var hA=Rl(function(u,p,b){return u+(b?"_":"")+p.toLowerCase()});function pA(u,p,b){return b&&typeof b!="number"&&Pr(u,p,b)&&(p=b=n),b=b===n?qe:b>>>0,b?(u=Yt(u),u&&(typeof p=="string"||p!=null&&!l1(p))&&(p=ds(p),!p&&Da(u))?La(m(u),0,b):u.split(p,b)):[]}var mA=Rl(function(u,p,b){return u+(b?" ":"")+d1(p)});function xA(u,p,b){return u=Yt(u),b=b==null?0:Fo(yt(b),0,u.length),p=ds(p),u.slice(b,b+p.length)==p}function gA(u,p,b){var S=q.templateSettings;b&&Pr(u,p,b)&&(p=n),u=Yt(u),p=Sf({},p,S,yv);var U=Sf({},p.imports,S.imports,yv),G=dr(U),J=ja(U,G),ne,ae,be=0,Ce=p.interpolate||Qt,je="__p += '",Le=ht((p.escape||Qt).source+"|"+Ce.source+"|"+(Ce===er?Sa:Qt).source+"|"+(p.evaluate||Qt).source+"|$","g"),Ke="//# sourceURL="+(At.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Wi+"]")+`
`;u.replace(Le,function(ct,_t,jt,hs,Fr,ps){return jt||(jt=hs),je+=u.slice(be,ps).replace(Id,Vd),_t&&(ne=!0,je+=`' +
__e(`+_t+`) +
'`),Fr&&(ae=!0,je+=`';
`+Fr+`;
__p += '`),jt&&(je+=`' +
((__t = (`+jt+`)) == null ? '' : __t) +
'`),be=ps+ct.length,ct}),je+=`';
`;var lt=At.call(p,"variable")&&p.variable;if(!lt)je=`with (obj) {
`+je+`
}
`;else if(Fc.test(lt))throw new pe(x);je=(ae?je.replace(Qs,""):je).replace(bo,"$1").replace(Td,"$1;"),je="function("+(lt||"obj")+`) {
`+(lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ne?", __e = _.escape":"")+(ae?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+je+`return __p
}`;var wt=dy(function(){return xe(G,Ke+"return "+je).apply(n,J)});if(wt.source=je,o1(wt))throw wt;return wt}function vA(u){return Yt(u).toLowerCase()}function yA(u){return Yt(u).toUpperCase()}function wA(u,p,b){if(u=Yt(u),u&&(b||p===n))return qd(u);if(!u||!(p=ds(p)))return u;var S=m(u),U=m(p),G=Xc(S,U),J=us(S,U)+1;return La(S,G,J).join("")}function bA(u,p,b){if(u=Yt(u),u&&(b||p===n))return u.slice(0,y(u)+1);if(!u||!(p=ds(p)))return u;var S=m(u),U=us(S,m(p))+1;return La(S,0,U).join("")}function CA(u,p,b){if(u=Yt(u),u&&(b||p===n))return u.replace(Co,"");if(!u||!(p=ds(p)))return u;var S=m(u),U=Xc(S,m(p));return La(S,U).join("")}function EA(u,p){var b=ee,S=de;if(_n(p)){var U="separator"in p?p.separator:U;b="length"in p?yt(p.length):b,S="omission"in p?ds(p.omission):S}u=Yt(u);var G=u.length;if(Da(u)){var J=m(u);G=J.length}if(b>=G)return u;var ne=b-h(S);if(ne<1)return S;var ae=J?La(J,0,ne).join(""):u.slice(0,ne);if(U===n)return ae+S;if(J&&(ne+=ae.length-ne),l1(U)){if(u.slice(ne).search(U)){var be,Ce=ae;for(U.global||(U=ht(U.source,Yt(Eo.exec(U))+"g")),U.lastIndex=0;be=U.exec(Ce);)var je=be.index;ae=ae.slice(0,je===n?ne:je)}}else if(u.indexOf(ds(U),ne)!=ne){var Le=ae.lastIndexOf(U);Le>-1&&(ae=ae.slice(0,Le))}return ae+S}function NA(u){return u=Yt(u),u&&jd.test(u)?u.replace(Ot,C):u}var _A=Rl(function(u,p,b){return u+(b?" ":"")+p.toUpperCase()}),d1=fv("toUpperCase");function uy(u,p,b){return u=Yt(u),p=b?n:p,p===n?Kc(u)?F(u):qi(u):u.match(p)||[]}var dy=bt(function(u,p){try{return lr(u,n,p)}catch(b){return o1(b)?b:new pe(b)}}),SA=Qi(function(u,p){return Gr(p,function(b){b=yi(b),Gi(u,b,i1(u[b],u))}),u});function AA(u){var p=u==null?0:u.length,b=ot();return u=p?ut(u,function(S){if(typeof S[1]!="function")throw new wn(d);return[b(S[0]),S[1]]}):[],bt(function(S){for(var U=-1;++U<p;){var G=u[U];if(lr(G[0],this,S))return lr(G[1],this,S)}})}function kA(u){return J5(Os(u,E))}function f1(u){return function(){return u}}function TA(u,p){return u==null||u!==u?p:u}var jA=pv(),DA=pv(!0);function Zr(u){return u}function h1(u){return q2(typeof u=="function"?u:Os(u,E))}function IA(u){return Y2(Os(u,E))}function RA(u,p){return $2(u,Os(p,E))}var OA=bt(function(u,p){return function(b){return iu(b,u,p)}}),MA=bt(function(u,p){return function(b){return iu(u,b,p)}});function p1(u,p,b){var S=dr(p),U=of(p,S);b==null&&!(_n(p)&&(U.length||!S.length))&&(b=p,p=u,u=this,U=of(p,dr(p)));var G=!(_n(b)&&"chain"in b)||!!b.chain,J=Zi(u);return Gr(U,function(ne){var ae=p[ne];u[ne]=ae,J&&(u.prototype[ne]=function(){var be=this.__chain__;if(G||be){var Ce=u(this.__wrapped__),je=Ce.__actions__=Xr(this.__actions__);return je.push({func:ae,args:arguments,thisArg:u}),Ce.__chain__=be,Ce}return ae.apply(u,cs([this.value()],arguments))})}),u}function LA(){return Qn._===this&&(Qn._=l5),this}function m1(){}function PA(u){return u=yt(u),bt(function(p){return G2(p,u)})}var FA=Yp(ut),BA=Yp(Wd),UA=Yp(rt);function fy(u){return Jp(u)?Al(yi(u)):x_(u)}function zA(u){return function(p){return u==null?n:Bo(u,p)}}var WA=xv(),HA=xv(!0);function x1(){return[]}function g1(){return!1}function qA(){return{}}function VA(){return""}function YA(){return!0}function $A(u,p){if(u=yt(u),u<1||u>ue)return[];var b=qe,S=Sr(u,qe);p=ot(p),u-=qe;for(var U=Gc(S,p);++b<u;)p(b);return U}function GA(u){return mt(u)?ut(u,yi):fs(u)?[u]:Xr(Iv(Yt(u)))}function XA(u){var p=++Np;return Yt(u)+p}var QA=hf(function(u,p){return u+p},0),KA=$p("ceil"),ZA=hf(function(u,p){return u/p},1),JA=$p("floor");function ek(u){return u&&u.length?af(u,Zr,Ip):n}function tk(u,p){return u&&u.length?af(u,ot(p,2),Ip):n}function nk(u){return Sl(u,Zr)}function rk(u,p){return Sl(u,ot(p,2))}function sk(u){return u&&u.length?af(u,Zr,Lp):n}function ik(u,p){return u&&u.length?af(u,ot(p,2),Lp):n}var ak=hf(function(u,p){return u*p},1),ok=$p("round"),lk=hf(function(u,p){return u-p},0);function ck(u){return u&&u.length?Do(u,Zr):0}function uk(u,p){return u&&u.length?Do(u,ot(p,2)):0}return q.after=I8,q.ary=Hv,q.assign=y6,q.assignIn=ry,q.assignInWith=Sf,q.assignWith=w6,q.at=b6,q.before=qv,q.bind=i1,q.bindAll=SA,q.bindKey=Vv,q.castArray=q8,q.chain=Uv,q.chunk=J_,q.compact=eS,q.concat=tS,q.cond=AA,q.conforms=kA,q.constant=f1,q.countBy=c8,q.create=C6,q.curry=Yv,q.curryRight=$v,q.debounce=Gv,q.defaults=E6,q.defaultsDeep=N6,q.defer=R8,q.delay=O8,q.difference=nS,q.differenceBy=rS,q.differenceWith=sS,q.drop=iS,q.dropRight=aS,q.dropRightWhile=oS,q.dropWhile=lS,q.fill=cS,q.filter=d8,q.flatMap=p8,q.flatMapDeep=m8,q.flatMapDepth=x8,q.flatten=Lv,q.flattenDeep=uS,q.flattenDepth=dS,q.flip=M8,q.flow=jA,q.flowRight=DA,q.fromPairs=fS,q.functions=D6,q.functionsIn=I6,q.groupBy=g8,q.initial=pS,q.intersection=mS,q.intersectionBy=xS,q.intersectionWith=gS,q.invert=O6,q.invertBy=M6,q.invokeMap=y8,q.iteratee=h1,q.keyBy=w8,q.keys=dr,q.keysIn=Kr,q.map=wf,q.mapKeys=P6,q.mapValues=F6,q.matches=IA,q.matchesProperty=RA,q.memoize=Cf,q.merge=B6,q.mergeWith=sy,q.method=OA,q.methodOf=MA,q.mixin=p1,q.negate=Ef,q.nthArg=PA,q.omit=U6,q.omitBy=z6,q.once=L8,q.orderBy=b8,q.over=FA,q.overArgs=P8,q.overEvery=BA,q.overSome=UA,q.partial=a1,q.partialRight=Xv,q.partition=C8,q.pick=W6,q.pickBy=iy,q.property=fy,q.propertyOf=zA,q.pull=bS,q.pullAll=Fv,q.pullAllBy=CS,q.pullAllWith=ES,q.pullAt=NS,q.range=WA,q.rangeRight=HA,q.rearg=F8,q.reject=_8,q.remove=_S,q.rest=B8,q.reverse=r1,q.sampleSize=A8,q.set=q6,q.setWith=V6,q.shuffle=k8,q.slice=SS,q.sortBy=D8,q.sortedUniq=RS,q.sortedUniqBy=OS,q.split=pA,q.spread=U8,q.tail=MS,q.take=LS,q.takeRight=PS,q.takeRightWhile=FS,q.takeWhile=BS,q.tap=e8,q.throttle=z8,q.thru=yf,q.toArray=ey,q.toPairs=ay,q.toPairsIn=oy,q.toPath=GA,q.toPlainObject=ny,q.transform=Y6,q.unary=W8,q.union=US,q.unionBy=zS,q.unionWith=WS,q.uniq=HS,q.uniqBy=qS,q.uniqWith=VS,q.unset=$6,q.unzip=s1,q.unzipWith=Bv,q.update=G6,q.updateWith=X6,q.values=Ll,q.valuesIn=Q6,q.without=YS,q.words=uy,q.wrap=H8,q.xor=$S,q.xorBy=GS,q.xorWith=XS,q.zip=QS,q.zipObject=KS,q.zipObjectDeep=ZS,q.zipWith=JS,q.entries=ay,q.entriesIn=oy,q.extend=ry,q.extendWith=Sf,p1(q,q),q.add=QA,q.attempt=dy,q.camelCase=eA,q.capitalize=ly,q.ceil=KA,q.clamp=K6,q.clone=V8,q.cloneDeep=$8,q.cloneDeepWith=G8,q.cloneWith=Y8,q.conformsTo=X8,q.deburr=cy,q.defaultTo=TA,q.divide=ZA,q.endsWith=tA,q.eq=ti,q.escape=nA,q.escapeRegExp=rA,q.every=u8,q.find=f8,q.findIndex=Ov,q.findKey=_6,q.findLast=h8,q.findLastIndex=Mv,q.findLastKey=S6,q.floor=JA,q.forEach=zv,q.forEachRight=Wv,q.forIn=A6,q.forInRight=k6,q.forOwn=T6,q.forOwnRight=j6,q.get=c1,q.gt=Q8,q.gte=K8,q.has=R6,q.hasIn=u1,q.head=Pv,q.identity=Zr,q.includes=v8,q.indexOf=hS,q.inRange=Z6,q.invoke=L6,q.isArguments=Wo,q.isArray=mt,q.isArrayBuffer=Z8,q.isArrayLike=Qr,q.isArrayLikeObject=zn,q.isBoolean=J8,q.isBuffer=Pa,q.isDate=e6,q.isElement=t6,q.isEmpty=n6,q.isEqual=r6,q.isEqualWith=s6,q.isError=o1,q.isFinite=i6,q.isFunction=Zi,q.isInteger=Qv,q.isLength=Nf,q.isMap=Kv,q.isMatch=a6,q.isMatchWith=o6,q.isNaN=l6,q.isNative=c6,q.isNil=d6,q.isNull=u6,q.isNumber=Zv,q.isObject=_n,q.isObjectLike=Mn,q.isPlainObject=du,q.isRegExp=l1,q.isSafeInteger=f6,q.isSet=Jv,q.isString=_f,q.isSymbol=fs,q.isTypedArray=Ml,q.isUndefined=h6,q.isWeakMap=p6,q.isWeakSet=m6,q.join=vS,q.kebabCase=sA,q.last=Ls,q.lastIndexOf=yS,q.lowerCase=iA,q.lowerFirst=aA,q.lt=x6,q.lte=g6,q.max=ek,q.maxBy=tk,q.mean=nk,q.meanBy=rk,q.min=sk,q.minBy=ik,q.stubArray=x1,q.stubFalse=g1,q.stubObject=qA,q.stubString=VA,q.stubTrue=YA,q.multiply=ak,q.nth=wS,q.noConflict=LA,q.noop=m1,q.now=bf,q.pad=oA,q.padEnd=lA,q.padStart=cA,q.parseInt=uA,q.random=J6,q.reduce=E8,q.reduceRight=N8,q.repeat=dA,q.replace=fA,q.result=H6,q.round=ok,q.runInContext=z,q.sample=S8,q.size=T8,q.snakeCase=hA,q.some=j8,q.sortedIndex=AS,q.sortedIndexBy=kS,q.sortedIndexOf=TS,q.sortedLastIndex=jS,q.sortedLastIndexBy=DS,q.sortedLastIndexOf=IS,q.startCase=mA,q.startsWith=xA,q.subtract=lk,q.sum=ck,q.sumBy=uk,q.template=gA,q.times=$A,q.toFinite=Ji,q.toInteger=yt,q.toLength=ty,q.toLower=vA,q.toNumber=Ps,q.toSafeInteger=v6,q.toString=Yt,q.toUpper=yA,q.trim=wA,q.trimEnd=bA,q.trimStart=CA,q.truncate=EA,q.unescape=NA,q.uniqueId=XA,q.upperCase=_A,q.upperFirst=d1,q.each=zv,q.eachRight=Wv,q.first=Pv,p1(q,function(){var u={};return gi(q,function(p,b){At.call(q.prototype,b)||(u[b]=p)}),u}(),{chain:!1}),q.VERSION=r,Gr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){q[u].placeholder=q}),Gr(["drop","take"],function(u,p){kt.prototype[u]=function(b){b=b===n?1:sr(yt(b),0);var S=this.__filtered__&&!p?new kt(this):this.clone();return S.__filtered__?S.__takeCount__=Sr(b,S.__takeCount__):S.__views__.push({size:Sr(b,qe),type:u+(S.__dir__<0?"Right":"")}),S},kt.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),Gr(["filter","map","takeWhile"],function(u,p){var b=p+1,S=b==Te||b==_e;kt.prototype[u]=function(U){var G=this.clone();return G.__iteratees__.push({iteratee:ot(U,3),type:b}),G.__filtered__=G.__filtered__||S,G}}),Gr(["head","last"],function(u,p){var b="take"+(p?"Right":"");kt.prototype[u]=function(){return this[b](1).value()[0]}}),Gr(["initial","tail"],function(u,p){var b="drop"+(p?"":"Right");kt.prototype[u]=function(){return this.__filtered__?new kt(this):this[b](1)}}),kt.prototype.compact=function(){return this.filter(Zr)},kt.prototype.find=function(u){return this.filter(u).head()},kt.prototype.findLast=function(u){return this.reverse().find(u)},kt.prototype.invokeMap=bt(function(u,p){return typeof u=="function"?new kt(this):this.map(function(b){return iu(b,u,p)})}),kt.prototype.reject=function(u){return this.filter(Ef(ot(u)))},kt.prototype.slice=function(u,p){u=yt(u);var b=this;return b.__filtered__&&(u>0||p<0)?new kt(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),p!==n&&(p=yt(p),b=p<0?b.dropRight(-p):b.take(p-u)),b)},kt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},kt.prototype.toArray=function(){return this.take(qe)},gi(kt.prototype,function(u,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),S=/^(?:head|last)$/.test(p),U=q[S?"take"+(p=="last"?"Right":""):p],G=S||/^find/.test(p);U&&(q.prototype[p]=function(){var J=this.__wrapped__,ne=S?[1]:arguments,ae=J instanceof kt,be=ne[0],Ce=ae||mt(J),je=function(_t){var jt=U.apply(q,cs([_t],ne));return S&&Le?jt[0]:jt};Ce&&b&&typeof be=="function"&&be.length!=1&&(ae=Ce=!1);var Le=this.__chain__,Ke=!!this.__actions__.length,lt=G&&!Le,wt=ae&&!Ke;if(!G&&Ce){J=wt?J:new kt(this);var ct=u.apply(J,ne);return ct.__actions__.push({func:yf,args:[je],thisArg:n}),new Rs(ct,Le)}return lt&&wt?u.apply(this,ne):(ct=this.thru(je),lt?S?ct.value()[0]:ct.value():ct)})}),Gr(["pop","push","shift","sort","splice","unshift"],function(u){var p=rr[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",S=/^(?:pop|shift)$/.test(u);q.prototype[u]=function(){var U=arguments;if(S&&!this.__chain__){var G=this.value();return p.apply(mt(G)?G:[],U)}return this[b](function(J){return p.apply(mt(J)?J:[],U)})}}),gi(kt.prototype,function(u,p){var b=q[p];if(b){var S=b.name+"";At.call(jl,S)||(jl[S]=[]),jl[S].push({name:p,func:b})}}),jl[ff(n,D).name]=[{name:"wrapper",func:n}],kt.prototype.clone=N5,kt.prototype.reverse=_5,kt.prototype.value=S5,q.prototype.at=t8,q.prototype.chain=n8,q.prototype.commit=r8,q.prototype.next=s8,q.prototype.plant=a8,q.prototype.reverse=o8,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=l8,q.prototype.first=q.prototype.head,Zc&&(q.prototype[Zc]=i8),q},K=H();Hi?((Hi.exports=K)._=K,Vc._=K):Qn._=K}).call(Ai)})(vh,vh.exports);var PN=vh.exports;const wF=({search:e,onApply:t,onDelete:n})=>l.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[l.jsx("button",{onClick:()=>t(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),l.jsx("button",{onClick:()=>n(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),sm=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),Qb=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),bF=({equipmentData:e,onFilterChange:t,currentFilters:n,isLoading:r})=>{const a=(()=>{if(!e||e.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const g={total:e.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},v=new Date;return v.setDate(v.getDate()-7),e.forEach(w=>{w.status==="available"?g.available++:w.status==="in-use"?g.inUse++:w.status==="maintenance"&&g.maintenance++;const E=w.category||"Uncategorized";g.categories[E]=(g.categories[E]||0)+1;const _=w.type||"Unknown";g.types[_]=(g.types[_]||0)+1;const k=w.location||"No Location";g.locations[k]=(g.locations[k]||0)+1;const A=w.brand||"Unknown";g.brands[A]=(g.brands[A]||0)+1,new Date(w.created_at)>v&&g.recentlyAdded++}),g})(),d=[{title:"Total Equipment",value:a.total,icon:l.jsx(Qb,{}),color:"blue",filter:{status:""},description:"All equipment in system"},{title:"Available",value:a.available,icon:l.jsx(sm,{}),color:"green",filter:{status:"available"},description:"Ready for use"},{title:"In Use",value:a.inUse,icon:l.jsx(sm,{}),color:"yellow",filter:{status:"in-use"},description:"Currently deployed"},{title:"Maintenance",value:a.maintenance,icon:l.jsx(sm,{}),color:"red",filter:{status:"maintenance"},description:"Under repair"}],x=(g,v=!1)=>{const w={blue:{bg:v?"bg-blue-100 border-blue-500":"bg-blue-50 hover:bg-blue-100",text:"text-blue-700",border:"border-l-4 border-blue-500",icon:"text-blue-600"},green:{bg:v?"bg-green-100 border-green-500":"bg-green-50 hover:bg-green-100",text:"text-green-700",border:"border-l-4 border-green-500",icon:"text-green-600"},yellow:{bg:v?"bg-yellow-100 border-yellow-500":"bg-yellow-50 hover:bg-yellow-100",text:"text-yellow-700",border:"border-l-4 border-yellow-500",icon:"text-yellow-600"},red:{bg:v?"bg-red-100 border-red-500":"bg-red-50 hover:bg-red-100",text:"text-red-700",border:"border-l-4 border-red-500",icon:"text-red-600"}};return w[g]||w.blue};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx(Qb,{}),"Equipment Analytics"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map((g,v)=>{const w=n.status===g.filter.status,E=x(g.color,w);return l.jsx("button",{onClick:()=>t(g.filter),className:`${E.bg} ${E.border} p-4 rounded-lg transition-all duration-200 hover:shadow-md cursor-pointer text-left group ${w?"ring-2 ring-offset-2 ring-blue-500":""}`,title:`Filter by ${g.title.toLowerCase()}: ${g.description}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:`text-sm font-medium ${E.text} mb-1`,children:g.title}),l.jsx("p",{className:`text-2xl font-bold ${E.text}`,children:r?"...":g.value.toLocaleString()}),l.jsx("p",{className:`text-xs ${E.text} opacity-75 mt-1`,children:g.description})]}),l.jsx("div",{className:`${E.icon} group-hover:scale-110 transition-transform`,children:g.icon})]})},v)})})]}),l.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-4",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.brands).length}),l.jsx("p",{className:"text-sm text-primary-600",children:"Brands"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.types).length}),l.jsx("p",{className:"text-sm text-primary-600",children:"Types"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.locations).length}),l.jsx("p",{className:"text-sm text-primary-600",children:"Locations"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:a.recentlyAdded}),l.jsx("p",{className:"text-sm text-green-600",children:"Added This Week"})]})]})})]})},CF=()=>{var qt,Wt;const{user:e,canEditEquipment:t}=or(),n=Gn(),r=M.useRef(null),[i,a]=M.useState({search:"",type:"",brand:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[d,x]=M.useState("updated_at"),[g,v]=M.useState("desc"),[w,E]=M.useState(""),[_,k]=M.useState(!1),[A,I]=M.useState(!1),[L,D]=M.useState(!1),[j,O]=M.useState(""),[W,Z]=M.useState(!1),{data:B,isLoading:R}=vt(["equipment-summary"],()=>oa({limit:1e3}));(()=>{if(!(B!=null&&B.equipment))return{total:0,available:0,inUse:0,maintenance:0};const Ee={total:B.equipment.length,available:0,inUse:0,maintenance:0,types:{}};return B.equipment.forEach(Qe=>{Qe.status==="available"?Ee.available++:Qe.status==="in-use"?Ee.inUse++:Qe.status==="maintenance"&&Ee.maintenance++,Ee.types[Qe.type]?Ee.types[Qe.type]++:Ee.types[Qe.type]=1}),Ee})();const{data:Y,fetchNextPage:ee,hasNextPage:de,isFetchingNextPage:ie,isLoading:ce,isError:Te,error:re}=Hg(["equipment",i,d,g],async({pageParam:Ee=1})=>{const Qe={page:Ee,limit:20,...i,sortBy:d,sortOrder:g};return i.dateRange.startDate&&i.dateRange.endDate&&(Qe.startDate=i.dateRange.startDate.toISOString(),Qe.endDate=i.dateRange.endDate.toISOString()),oa(Qe)},{getNextPageParam:Ee=>{if(Ee.page<Ee.totalPages)return Ee.page+1},keepPreviousData:!0}),{data:_e,isLoading:ve}=vt(["equipment-suggestions",w],()=>oa({search:w,limit:5}),{enabled:!!w&&w.length>2,keepPreviousData:!0}),{data:ue}=vt(["saved-searches"],rN,{enabled:t()}),{data:ge}=vt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5});vt({queryKey:["categories"],queryFn:xl});const{data:Re}=vt(["equipment-analytics"],()=>oa({limit:1e4}),{keepPreviousData:!0}),qe=M.useCallback(PN.debounce(Ee=>{E(Ee)},300),[]),tt=Ee=>{const Qe=Ee.target.value,It={...i,search:Qe};a(It),qe(Qe),Qe.length>2?k(!0):k(!1);const we=Object.values(It).some(Se=>Se!==""&&Se!==null&&(typeof Se!="object"||It.dateRange.startDate||It.dateRange.endDate));I(we)},Ae=Ee=>{const{name:Qe,value:It}=Ee.target,we={...i,[Qe]:It};a(we);const Se=Object.values(we).some(Fe=>Fe!==""&&Fe!==null&&(typeof Fe!="object"||Fe.startDate||Fe.endDate));I(Se)},Ge=Ee=>{const Qe={...i,...Ee};a(Qe),I(!0),Z(!0)},st=()=>{a({search:"",status:"",type:"",brand:"",location:"",dateRange:{startDate:null,endDate:null}}),I(!1),Z(!1)},oe=Ee=>{const[Qe,It]=Ee,we={...i,dateRange:{startDate:Qe,endDate:It}};a(we);const Se=Object.values(we).some(Fe=>Fe!==""&&Fe!==null&&(typeof Fe!="object"||we.dateRange.startDate||we.dateRange.endDate));I(Se)},ft=async()=>{if(!j.trim()){et.error("Please enter a name for your saved search");return}try{await sN({name:j,filters:JSON.stringify(i),sortBy:d,sortOrder:g}),n.invalidateQueries(["saved-searches"]),O(""),D(!1),et.success("Search saved successfully")}catch(Ee){et.error("Failed to save search"),console.error("Save search error:",Ee)}},it=Ee=>{try{const Qe=JSON.parse(Ee.filters);a(Qe),x(Ee.sortBy||"updated_at"),v(Ee.sortOrder||"desc"),I(!0),et.info(`Applied saved search: ${Ee.name}`)}catch(Qe){et.error("Failed to apply saved search"),console.error("Apply saved search error:",Qe)}},nn=async Ee=>{try{await iN(Ee),n.invalidateQueries(["saved-searches"]),et.success("Search deleted successfully")}catch(Qe){et.error("Failed to delete search"),console.error("Delete saved search error:",Qe)}};M.useEffect(()=>{const Ee=new IntersectionObserver(Qe=>{Qe[0].isIntersecting&&de&&!ie&&ee()},{threshold:.5});return r.current&&Ee.observe(r.current),()=>{r.current&&Ee.unobserve(r.current)}},[r,ee,de,ie]);const dn=(Y==null?void 0:Y.pages.flatMap(Ee=>Ee.equipment))||[];return l.jsxs("div",{className:"space-y-6",children:[l.jsx(Jh,{position:"top-right",autoClose:3e3}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Dashboard"}),l.jsx(qn,{to:"/equipment/new",className:"btn btn-primary",children:"Add New Equipment"})]}),l.jsxs("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:i.search,onChange:tt,className:"w-full px-4 py-3 pl-10 rounded-full shadow-md border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","aria-label":"Search equipment catalog"}),l.jsx(Zg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),_&&((qt=_e==null?void 0:_e.equipment)==null?void 0:qt.length)>0&&l.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:_e.equipment.map(Ee=>l.jsxs(qn,{to:`/equipment/${Ee.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[l.jsxs("div",{className:"font-medium",children:[Ee.brand," ",Ee.model]}),l.jsxs("div",{className:"text-sm text-slate-500",children:[Ee.type," • SN: ",Ee.serial_number]})]},Ee.id))})]}),l.jsx("div",{className:"flex justify-between mt-2",children:l.jsxs("button",{onClick:()=>Z(!W),className:"flex items-center text-sm text-slate-600 hover:text-primary-600",children:[l.jsx(Jg,{className:"w-4 h-4 mr-1"}),W?"Hide Filters":"Show Advanced Filters"]})})]}),t()&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),L?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:j,onChange:Ee=>O(Ee.target.value),className:"w-48 px-3 py-1 text-sm border border-slate-300 rounded-lg"}),l.jsx("button",{className:"px-3 py-1 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700",onClick:ft,children:"Save"}),l.jsx("button",{className:"px-3 py-1 text-sm border border-slate-300 rounded-lg hover:bg-slate-50",onClick:()=>{D(!1),O("")},children:"Cancel"})]}):l.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 text-sm border border-slate-300 rounded-lg hover:bg-slate-50",onClick:()=>D(!0),children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),l.jsx("span",{children:"Save Current Search"})]})]}),l.jsx("div",{className:"flex flex-wrap",children:((Wt=ue==null?void 0:ue.searches)==null?void 0:Wt.length)>0?ue.searches.map(Ee=>l.jsx(wF,{search:Ee,onApply:it,onDelete:nn},Ee.id)):l.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),l.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${W?"max-h-96 opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:l.jsxs("div",{className:"p-4",children:[l.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Equipment Type"}),l.jsxs("select",{name:"type",value:i.type,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[l.jsx("option",{value:"",children:"All Types"}),ge!=null&&ge.types&&ge.types.length>0?ge.types.map(Ee=>l.jsx("option",{value:Ee.name.toLowerCase(),children:Ee.name},Ee.id)):l.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Brand"}),l.jsx("input",{type:"text",name:"brand",value:i.brand,onChange:Ae,placeholder:"Filter by brand",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),l.jsxs("select",{name:"status",value:i.status,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"available",children:"Available"}),l.jsx("option",{value:"in-use",children:"In Use"}),l.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),l.jsx("input",{type:"text",name:"location",value:i.location,onChange:Ae,placeholder:"Filter by location",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),l.jsx(LN,{selectsRange:!0,startDate:i.dateRange.startDate,endDate:i.dateRange.endDate,onChange:oe,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),l.jsxs("select",{value:d,onChange:Ee=>x(Ee.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[l.jsx("option",{value:"updated_at",children:"Last Updated"}),l.jsx("option",{value:"brand",children:"Brand"}),l.jsx("option",{value:"model",children:"Model"}),l.jsx("option",{value:"type",children:"Type"}),l.jsx("option",{value:"status",children:"Status"}),l.jsx("option",{value:"location",children:"Location"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort Order"}),l.jsxs("select",{value:g,onChange:Ee=>v(Ee.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[l.jsx("option",{value:"asc",children:"Ascending"}),l.jsx("option",{value:"desc",children:"Descending"})]})]})]})]})}),A?l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Search Results"}),l.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[dn.length," items found"]})]}),l.jsxs("button",{onClick:st,className:"px-3 py-2 text-sm bg-white border border-slate-300 rounded-lg hover:bg-slate-50 flex items-center",title:"Clear all filters and return to dashboard",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear Filters"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-slate-50 text-left",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Brand"}),l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Model"}),l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Serial Number"}),l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Location"}),l.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200",children:ce?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-slate-500",children:l.jsxs("div",{className:"flex justify-center items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mr-2"}),"Loading..."]})})}):Te?l.jsx("tr",{children:l.jsxs("td",{colSpan:"7",className:"px-6 py-4 text-center text-red-500",children:["Error loading equipment: ",re.message]})}):dn.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-slate-500",children:"No equipment found matching your search criteria"})}):dn.map(Ee=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.type}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.brand}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.model}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.serial_number}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ee.status==="available"?"bg-green-100 text-green-800":Ee.status==="in-use"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:Ee.status})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.location||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(qn,{to:`/equipment/${Ee.id}`,className:"text-primary-600 hover:text-primary-900",title:"View details",children:l.jsx(UE,{className:"w-5 h-5"})}),t()&&l.jsx(l.Fragment,{children:l.jsx(qn,{to:`/equipment/${Ee.id}/edit`,className:"text-slate-600 hover:text-slate-900",title:"Edit equipment",children:l.jsx(Kg,{className:"w-5 h-5"})})})]})})]},Ee.id))})]})}),l.jsx("div",{ref:r,className:"py-4 text-center",children:ie?l.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),l.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):de?l.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):l.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]}):l.jsx("div",{className:"grid grid-cols-1 gap-6",children:l.jsx(bF,{equipmentData:(Re==null?void 0:Re.equipment)||[],onFilterChange:Ge,currentFilters:i,isLoading:R})})]})},EF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),NF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),_F=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})}),SF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),AF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),kF=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[l.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),l.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),TF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),im=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),Uu=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),jF=({equipmentData:e,onFilterChange:t,currentFilters:n,isLoading:r})=>{const a=(()=>{if(!e||e.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const g={total:e.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},v=new Date;return v.setDate(v.getDate()-7),e.forEach(w=>{w.status==="available"?g.available++:w.status==="in-use"?g.inUse++:w.status==="maintenance"&&g.maintenance++;const E=w.category||"Uncategorized";g.categories[E]=(g.categories[E]||0)+1;const _=w.type||"Unknown";g.types[_]=(g.types[_]||0)+1;const k=w.location||"No Location";g.locations[k]=(g.locations[k]||0)+1;const A=w.brand||"Unknown";g.brands[A]=(g.brands[A]||0)+1,new Date(w.created_at)>v&&g.recentlyAdded++}),g})(),d=[{title:"Total Equipment",value:a.total,icon:l.jsx(Uu,{}),color:"blue",filter:{status:""},description:"All equipment in system"},{title:"Available",value:a.available,icon:l.jsx(im,{}),color:"green",filter:{status:"available"},description:"Ready for use"},{title:"In Use",value:a.inUse,icon:l.jsx(im,{}),color:"yellow",filter:{status:"in-use"},description:"Currently deployed"},{title:"Maintenance",value:a.maintenance,icon:l.jsx(im,{}),color:"red",filter:{status:"maintenance"},description:"Under repair"}],x=(g,v=!1)=>{const w={blue:{bg:v?"bg-blue-100 border-blue-500":"bg-blue-50 hover:bg-blue-100",text:"text-blue-700",border:"border-l-4 border-blue-500",icon:"text-blue-600"},green:{bg:v?"bg-green-100 border-green-500":"bg-green-50 hover:bg-green-100",text:"text-green-700",border:"border-l-4 border-green-500",icon:"text-green-600"},yellow:{bg:v?"bg-yellow-100 border-yellow-500":"bg-yellow-50 hover:bg-yellow-100",text:"text-yellow-700",border:"border-l-4 border-yellow-500",icon:"text-yellow-600"},red:{bg:v?"bg-red-100 border-red-500":"bg-red-50 hover:bg-red-100",text:"text-red-700",border:"border-l-4 border-red-500",icon:"text-red-600"}};return w[g]||w.blue};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx(Uu,{}),"Equipment Analytics"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map((g,v)=>{const w=n.status===g.filter.status,E=x(g.color,w);return l.jsx("button",{onClick:()=>t(g.filter),className:`${E.bg} ${E.border} p-4 rounded-lg transition-all duration-200 hover:shadow-md cursor-pointer text-left group ${w?"ring-2 ring-offset-2 ring-blue-500":""}`,title:`Filter by ${g.title.toLowerCase()}: ${g.description}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:`text-sm font-medium ${E.text} mb-1`,children:g.title}),l.jsx("p",{className:`text-2xl font-bold ${E.text}`,children:r?"...":g.value.toLocaleString()}),l.jsx("p",{className:`text-xs ${E.text} opacity-75 mt-1`,children:g.description})]}),l.jsx("div",{className:`${E.icon} group-hover:scale-110 transition-transform`,children:g.icon})]})},v)})})]}),l.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-4",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.brands).length}),l.jsx("p",{className:"text-sm text-primary-600",children:"Brands"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.types).length}),l.jsx("p",{className:"text-sm text-primary-600",children:"Types"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.locations).length}),l.jsx("p",{className:"text-sm text-primary-600",children:"Locations"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:a.recentlyAdded}),l.jsx("p",{className:"text-sm text-green-600",children:"Added This Week"})]})]})})]})},DF=({equipment:e,canEdit:t,searchTerm:n})=>{const[r,i]=M.useState(!1);let a=null;if(e.reference_image_id)a=rh(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const g=e.files.find(v=>v.file_type==="image");g&&(a=rh(g.id,!0))}const d=g=>{switch(g){case"available":return l.jsx(vs,{variant:"success",children:g});case"in-use":return l.jsx(vs,{variant:"info",children:g});case"maintenance":return l.jsx(vs,{variant:"warning",children:g});case"unavailable":return l.jsx(vs,{variant:"secondary",children:g});case"broken":return l.jsx(vs,{variant:"danger",children:g});default:return l.jsx(vs,{children:g})}},x=(g,v)=>{if(!v||!g)return g;const w=new RegExp(`(${v})`,"gi");return g.split(w).map((_,k)=>w.test(_)?l.jsx("span",{className:"bg-yellow-200 font-medium",children:_},k):_)};return l.jsxs(We,{className:"h-full transition-all duration-300 hover:shadow-lg hover:scale-[1.02] relative",children:[l.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[a?l.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:l.jsx("img",{src:a,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):l.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:l.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})}),r&&l.jsxs("div",{className:"absolute inset-0 bg-slate-900 bg-opacity-80 p-4 text-white overflow-y-auto",children:[l.jsxs("h4",{className:"font-medium",children:[e.brand," ",e.model]}),l.jsx("p",{className:"text-sm mt-1",children:e.description||"No description available"}),l.jsxs("p",{className:"text-sm mt-2",children:["Serial: ",e.serial_number]}),l.jsxs("p",{className:"text-sm",children:["Location: ",e.location||"Not specified"]})]})]}),l.jsxs(We.Body,{children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&l.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),d(e.status)]}),l.jsx("h2",{className:"text-lg font-semibold mb-1",children:n?l.jsxs(l.Fragment,{children:[x(e.brand,n)," ",x(e.model,n)]}):`${e.brand} ${e.model}`}),l.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",n?x(e.serial_number,n):e.serial_number]}),l.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[l.jsxs(qn,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[l.jsx(kF,{})," View"]}),t&&l.jsxs(qn,{to:`/equipment/${e.id}/edit`,className:"text-slate-600 hover:text-slate-800 flex items-center gap-1",children:[l.jsx(AF,{})," Edit"]})]})]})]})},IF=({equipment:e,canEdit:t,navigate:n})=>{const r=(i,a)=>{a.target.closest("button")||a.target.closest("a")||n(`/equipment/${i}`)};return l.jsxs("tr",{className:"table-row hover:bg-slate-50 cursor-pointer",onClick:i=>r(e.id,i),children:[l.jsx("td",{className:"table-cell",children:l.jsxs("span",{className:"font-medium text-slate-800",children:[e.brand," ",e.model]})}),l.jsx("td",{className:"table-cell",children:e.type}),l.jsx("td",{className:"table-cell",children:e.category||"-"}),l.jsx("td",{className:"table-cell",children:e.serial_number}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:`badge ${e.status==="available"?"badge-success":e.status==="in-use"?"badge-info":e.status==="maintenance"?"badge-warning":e.status==="unavailable"?"badge-secondary":e.status==="broken"?"badge-danger":"badge-secondary"}`,children:e.status})}),l.jsx("td",{className:"table-cell",children:e.location||"-"}),l.jsx("td",{className:"table-cell",children:e.quantity||1}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qn,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",onClick:i=>i.stopPropagation(),children:"View"}),t?l.jsx(qn,{to:`/equipment/${e.id}/edit`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium underline",onClick:i=>{i.stopPropagation(),console.log("Edit link clicked for equipment:",e.id)},children:"Edit"}):l.jsx("span",{className:"text-gray-400 text-sm",children:"Edit"})]})})]})},RF=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-soft overflow-hidden h-full animate-pulse",children:[l.jsx("div",{className:"h-40 bg-slate-200"}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"}),l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"})]}),l.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2 mb-4"}),l.jsxs("div",{className:"border-t border-slate-100 pt-2 flex justify-between",children:[l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]})]}),OF=({search:e,onApply:t,onDelete:n})=>l.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[l.jsx("button",{onClick:()=>t(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),l.jsx("button",{onClick:()=>n(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:l.jsx(SF,{className:"w-4 h-4"})})]}),Kb=()=>{var Qe,It;const{user:e,canEditEquipment:t}=or(),n=Gn(),r=Xs(),i=M.useRef(null),[a,d]=M.useState({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[x,g]=M.useState(""),[v,w]=M.useState(!1),[E,_]=M.useState(!1),[k,A]=M.useState("updated_at"),[I,L]=M.useState("desc"),[D,j]=M.useState(""),[O,W]=M.useState(!1),[Z,B]=M.useState("list"),{data:R,fetchNextPage:V,hasNextPage:Y,isFetchingNextPage:ee,isLoading:de,isError:ie,error:ce}=Hg(["equipment",a,k,I],async({pageParam:we=1})=>{const Se={page:we,limit:20,...a,sortBy:k,sortOrder:I};return a.dateRange.startDate&&a.dateRange.endDate&&(Se.startDate=a.dateRange.startDate.toISOString(),Se.endDate=a.dateRange.endDate.toISOString()),oa(Se)},{getNextPageParam:we=>{if(we.page<we.totalPages)return we.page+1},keepPreviousData:!0}),{data:Te,isLoading:re}=vt(["equipment-suggestions",x],()=>oa({search:x,limit:5}),{enabled:!!x&&x.length>2,keepPreviousData:!0}),{data:_e}=vt(["saved-searches"],rN,{enabled:t()}),{data:ve=[]}=vt({queryKey:["equipmentTypes"],queryFn:Li}),ue=Array.isArray(ve)?ve:ve.types||[],{data:ge={categories:[]}}=vt({queryKey:["categories"],queryFn:xl}),Re=ge.categories||[],qe=M.useCallback(PN.debounce(we=>{g(we)},300),[]),tt=we=>{const Se=we.target.value;d(Fe=>({...Fe,search:Se})),qe(Se),Se.length>2?w(!0):w(!1)},Ae=we=>{const{name:Se,value:Fe}=we.target;d(Xe=>({...Xe,[Se]:Fe}))},Ge=we=>{const[Se,Fe]=we;d(Xe=>({...Xe,dateRange:{startDate:Se,endDate:Fe}}))},st=()=>{d({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),g(""),w(!1)},oe=async()=>{if(!D.trim()){et.error("Please enter a name for your saved search");return}try{await sN({name:D,filters:JSON.stringify(a),sortBy:k,sortOrder:I}),n.invalidateQueries(["saved-searches"]),j(""),W(!1),et.success("Search saved successfully")}catch(we){et.error("Failed to save search"),console.error("Save search error:",we)}},ft=we=>{try{const Se=JSON.parse(we.filters);d(Se),A(we.sortBy||"updated_at"),L(we.sortOrder||"desc"),et.info(`Applied saved search: ${we.name}`)}catch(Se){et.error("Failed to apply saved search"),console.error("Apply saved search error:",Se)}},it=async we=>{try{await iN(we),n.invalidateQueries(["saved-searches"]),et.success("Search deleted successfully")}catch(Se){et.error("Failed to delete search"),console.error("Delete saved search error:",Se)}};M.useEffect(()=>{const we=new IntersectionObserver(Fe=>{Fe[0].isIntersecting&&Y&&!ee&&V()},{threshold:.5}),Se=i.current;return Se&&we.observe(Se),()=>{Se&&we.unobserve(Se)}},[i,V,Y,ee]);const nn=(R==null?void 0:R.pages.flatMap(we=>we.equipment))||[],{data:dn}=vt(["equipment-analytics"],()=>oa({limit:1e4}),{keepPreviousData:!0}),Wt=(()=>{const we=(dn==null?void 0:dn.equipment)||[];if(!we||we.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const Se={total:we.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},Fe=new Date;return Fe.setDate(Fe.getDate()-7),we.forEach(Xe=>{Xe.status==="available"?Se.available++:Xe.status==="in-use"?Se.inUse++:Xe.status==="maintenance"&&Se.maintenance++;const Me=Xe.category||"Uncategorized";Se.categories[Me]=(Se.categories[Me]||0)+1;const ke=Xe.type||"Unknown";Se.types[ke]=(Se.types[ke]||0)+1;const gn=Xe.location||"No Location";Se.locations[gn]=(Se.locations[gn]||0)+1;const Xn=Xe.brand||"Unknown";Se.brands[Xn]=(Se.brands[Xn]||0)+1,new Date(Xe.created_at)>Fe&&Se.recentlyAdded++}),Se})(),Ee=we=>{d(Se=>({...Se,...we}))};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(Jh,{position:"top-right",autoClose:3e3}),l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Dashboard"})}),l.jsx(jF,{equipmentData:(dn==null?void 0:dn.equipment)||[],onFilterChange:Ee,currentFilters:a,isLoading:de}),l.jsx("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:l.jsxs("div",{className:"relative",children:[l.jsx(Dt,{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:a.search,onChange:tt,icon:l.jsx(EF,{}),className:"rounded-full shadow-md","aria-label":"Search equipment catalog"}),v&&((Qe=Te==null?void 0:Te.equipment)==null?void 0:Qe.length)>0&&l.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:Te.equipment.map(we=>l.jsxs(qn,{to:`/equipment/${we.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[l.jsxs("div",{className:"font-medium",children:[we.brand," ",we.model]}),l.jsxs("div",{className:"text-sm text-slate-500",children:[we.type," • SN: ",we.serial_number]})]},we.id))}),l.jsxs("div",{className:"flex mt-2 gap-2",children:[l.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>_(!E),className:"flex items-center gap-1","aria-expanded":E,"aria-controls":"filter-panel",children:[l.jsx(NF,{}),l.jsx("span",{children:E?"Hide Filters":"Show Filters"})]}),Object.values(a).some(we=>we&&(typeof we=="string"?we.trim()!=="":!0))&&l.jsxs(Be,{variant:"outline",size:"sm",onClick:st,className:"flex items-center gap-1 text-slate-600",children:[l.jsx(TF,{}),l.jsx("span",{children:"Clear Filters"})]}),l.jsx("div",{className:"ml-auto",children:l.jsx(ws,{id:"sort",name:"sort",value:`${k}-${I}`,onChange:we=>{const[Se,Fe]=we.target.value.split("-");A(Se),L(Fe)},options:[{value:"updated_at-desc",label:"Newest First"},{value:"updated_at-asc",label:"Oldest First"},{value:"brand-asc",label:"Brand (A-Z)"},{value:"brand-desc",label:"Brand (Z-A)"},{value:"model-asc",label:"Model (A-Z)"},{value:"model-desc",label:"Model (Z-A)"}],className:"w-40"})})]})]})}),t()&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),O?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Dt,{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:D,onChange:we=>j(we.target.value),className:"w-48"}),l.jsx(Be,{variant:"primary",size:"sm",onClick:oe,children:"Save"}),l.jsx(Be,{variant:"outline",size:"sm",onClick:()=>{W(!1),j("")},children:"Cancel"})]}):l.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>W(!0),className:"flex items-center gap-1",children:[l.jsx(_F,{}),l.jsx("span",{children:"Save Current Search"})]})]}),l.jsx("div",{className:"flex flex-wrap",children:((It=_e==null?void 0:_e.searches)==null?void 0:It.length)>0?_e.searches.map(we=>l.jsx(OF,{search:we,onApply:ft,onDelete:it},we.id)):l.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),l.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${E?"max-h-[800px] opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:l.jsxs("div",{className:"p-4",children:[l.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[l.jsxs(We,{className:"h-fit",children:[l.jsx(We.Header,{children:l.jsxs(We.Title,{className:"flex items-center gap-2",children:[l.jsx(Uu,{}),"Equipment Types"]})}),l.jsx(We.Body,{className:"p-4",children:de?l.jsx("div",{className:"space-y-2",children:[...Array(3)].map((we,Se)=>l.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},Se))}):Object.keys(Wt.types).length>0?l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(Wt.types).sort(([,we],[,Se])=>Se-we).slice(0,10).map(([we,Se])=>{const Fe=a.type===we;return l.jsxs("button",{onClick:()=>d(Xe=>({...Xe,type:Fe?"":we})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${Fe?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${we} equipment`,children:[l.jsx("span",{className:"capitalize font-medium",children:we}),l.jsx(vs,{variant:Fe?"primary":"secondary",size:"sm",children:Se})]},we)})}):l.jsx("p",{className:"text-slate-500 text-sm",children:"No equipment types available"})})]}),l.jsxs(We,{className:"h-fit",children:[l.jsx(We.Header,{children:l.jsxs(We.Title,{className:"flex items-center gap-2",children:[l.jsx(Uu,{}),"Categories"]})}),l.jsx(We.Body,{className:"p-4",children:de?l.jsx("div",{className:"space-y-2",children:[...Array(3)].map((we,Se)=>l.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},Se))}):Object.keys(Wt.categories).length>0?l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(Wt.categories).sort(([,we],[,Se])=>Se-we).slice(0,10).map(([we,Se])=>{const Fe=a.category===we;return l.jsxs("button",{onClick:()=>d(Xe=>({...Xe,category:Fe?"":we})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${Fe?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${we} category`,children:[l.jsx("span",{className:"font-medium",children:we}),l.jsx(vs,{variant:Fe?"primary":"secondary",size:"sm",children:Se})]},we)})}):l.jsx("p",{className:"text-slate-500 text-sm",children:"No categories available"})})]}),l.jsxs(We,{className:"h-fit",children:[l.jsx(We.Header,{children:l.jsxs(We.Title,{className:"flex items-center gap-2",children:[l.jsx(Uu,{}),"Top Locations"]})}),l.jsx(We.Body,{className:"p-4",children:de?l.jsx("div",{className:"space-y-2",children:[...Array(3)].map((we,Se)=>l.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},Se))}):Object.keys(Wt.locations).length>0?l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(Wt.locations).sort(([,we],[,Se])=>Se-we).slice(0,10).map(([we,Se])=>{const Fe=a.location===we;return l.jsxs("button",{onClick:()=>d(Xe=>({...Xe,location:Fe?"":we})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${Fe?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${we} location`,children:[l.jsx("span",{className:"font-medium truncate",children:we}),l.jsx(vs,{variant:Fe?"primary":"secondary",size:"sm",children:Se})]},we)})}):l.jsx("p",{className:"text-slate-500 text-sm",children:"No locations available"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(ws,{id:"category",name:"category",label:"Category",value:a.category,onChange:Ae,options:[{value:"",label:"All Categories"},...(Re||[]).map(we=>({value:we.name,label:we.name}))]}),l.jsx(ws,{id:"type",name:"type",label:"Equipment Type",value:a.type,onChange:Ae,options:[{value:"",label:"All Types"},...(ue||[]).map(we=>({value:we.name,label:we.name}))]}),l.jsx(ws,{id:"status",name:"status",label:"Status",value:a.status,onChange:Ae,options:[{value:"",label:"All Statuses"},{value:"available",label:"Available"},{value:"in-use",label:"In Use"},{value:"maintenance",label:"Maintenance"},{value:"unavailable",label:"Unavailable"},{value:"broken",label:"Broken"}]}),l.jsx(Dt,{id:"location",name:"location",label:"Location",placeholder:"Filter by location",value:a.location,onChange:Ae}),l.jsxs("div",{className:"md:col-span-3",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),l.jsx(LN,{selectsRange:!0,startDate:a.dateRange.startDate,endDate:a.dateRange.endDate,onChange:Ge,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]})]})]})}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-lg font-semibold text-slate-800",children:["Equipment Results (",nn.length," items)"]}),l.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden bg-white shadow-sm",children:[l.jsxs("button",{onClick:()=>B("list"),className:`px-4 py-2 text-sm font-medium transition-all flex items-center gap-2 ${Z==="list"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"List view",children:[l.jsx(tp,{className:"h-4 w-4"}),l.jsx("span",{children:"List"})]}),l.jsxs("button",{onClick:()=>B("card"),className:`px-4 py-2 text-sm font-medium transition-all flex items-center gap-2 ${Z==="card"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:[l.jsx(np,{className:"h-4 w-4"}),l.jsx("span",{children:"Cards"})]})]})]}),l.jsx("div",{children:de?l.jsxs(l.Fragment,{children:[Z==="card"&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((we,Se)=>l.jsx(RF,{},Se))}),Z==="list"&&l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"Equipment"}),l.jsx("th",{className:"table-header-cell",children:"Type"}),l.jsx("th",{className:"table-header-cell",children:"Category"}),l.jsx("th",{className:"table-header-cell",children:"Serial Number"}),l.jsx("th",{className:"table-header-cell",children:"Status"}),l.jsx("th",{className:"table-header-cell",children:"Location"}),l.jsx("th",{className:"table-header-cell",children:"Quantity"}),l.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),l.jsx("tbody",{className:"table-body",children:Array.from({length:6}).map((we,Se)=>l.jsxs("tr",{className:"table-row animate-pulse",children:[l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"})}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-4 bg-slate-200 rounded w-2/3"})}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-6 bg-slate-200 rounded-full w-16"})}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"h-4 bg-slate-200 rounded w-8"})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("div",{className:"h-4 bg-slate-200 rounded w-12"}),l.jsx("div",{className:"h-4 bg-slate-200 rounded w-8"})]})})]},Se))})]})})})]}):ie?l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:l.jsx("p",{children:(ce==null?void 0:ce.message)||"Failed to load equipment data. Please try again."})})]})]})}):nn.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No equipment found"}),l.jsx("p",{className:"mt-2 text-slate-500",children:"Try adjusting your search or filter criteria to find what you're looking for."}),l.jsx(Be,{variant:"outline",className:"mt-4",onClick:st,children:"Clear All Filters"})]}):l.jsxs(l.Fragment,{children:[Z==="card"&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:nn.map(we=>l.jsx(DF,{equipment:we,canEdit:t(),searchTerm:a.search},we.id))}),Z==="list"&&l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"Equipment"}),l.jsx("th",{className:"table-header-cell",children:"Type"}),l.jsx("th",{className:"table-header-cell",children:"Category"}),l.jsx("th",{className:"table-header-cell",children:"Serial Number"}),l.jsx("th",{className:"table-header-cell",children:"Status"}),l.jsx("th",{className:"table-header-cell",children:"Location"}),l.jsx("th",{className:"table-header-cell",children:"Quantity"}),l.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),l.jsx("tbody",{className:"table-body",children:nn.map(we=>l.jsx(IF,{equipment:we,canEdit:t(),navigate:r},we.id))})]})})}),l.jsx("div",{ref:i,className:"py-4 text-center",children:ee?l.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),l.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):Y?l.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):l.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})})]})},MF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),LF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),PF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),FF=()=>{const{isAdmin:e}=or(),t=Gn(),[n,r]=M.useState(""),[i,a]=M.useState(null),[d,x]=M.useState(""),[g,v]=M.useState(""),{data:w,isLoading:E,isError:_}=vt({queryKey:["equipmentTypes"],queryFn:Li}),k=(w==null?void 0:w.types)||[],A=jn({mutationFn:ZR,onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),r(""),v("")},onError:B=>{var R,V;v(((V=(R=B.response)==null?void 0:R.data)==null?void 0:V.message)||"Failed to create equipment type")}}),I=jn({mutationFn:({id:B,name:R})=>JR(B,R),onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),a(null),x(""),v("")},onError:B=>{var R,V;v(((V=(R=B.response)==null?void 0:R.data)==null?void 0:V.message)||"Failed to update equipment type")}}),L=jn({mutationFn:eO,onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),v("")},onError:B=>{var R,V;v(((V=(R=B.response)==null?void 0:R.data)==null?void 0:V.message)||"Failed to delete equipment type")}}),D=B=>{if(B.preventDefault(),!n.trim()){v("Type name is required");return}A.mutate(n),document.getElementById("addTypeModal").style.display="none"},j=B=>{a(B),x(B.name)},O=()=>{if(!d.trim()){v("Type name is required");return}I.mutate({id:i.id,name:d})},W=()=>{a(null),x("")},Z=B=>{window.confirm("Are you sure you want to delete this equipment type?")&&L.mutate(B)};return e()?l.jsxs("div",{className:"space-y-6",children:[g&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:l.jsx("span",{children:g})}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Types"}),l.jsxs(Be,{variant:"primary",onClick:()=>{r(""),document.getElementById("addTypeModal").style.display="block"},className:"flex items-center gap-2",children:[l.jsx(PF,{}),"Add Type"]})]}),l.jsx(We,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"Name"}),l.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"table-body",children:E?l.jsx("tr",{children:l.jsx("td",{colSpan:"2",className:"table-cell text-center py-4",children:l.jsx("div",{className:"flex justify-center items-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):_?l.jsx("tr",{children:l.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-red-600",children:"Error loading equipment types. Please try again."})}):k&&k.length>0?k.map(B=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell",children:B.name}),l.jsx("td",{className:"table-cell text-right",children:l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsxs(Be,{onClick:()=>j(B),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[l.jsx(MF,{}),"Edit"]}),l.jsxs(Be,{onClick:()=>Z(B.id),variant:"danger",size:"sm",disabled:L.isLoading&&L.variables===B.id,className:"flex items-center gap-1",children:[l.jsx(LF,{}),L.isLoading&&L.variables===B.id?"Deleting...":"Delete"]})]})})]},B.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-slate-500",children:"No equipment types found"})})})]})})}),l.jsx("div",{className:"modal-backdrop",id:"addTypeModal",style:{display:"none"},children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Add Equipment Type"}),l.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"×"})]}),l.jsxs("form",{onSubmit:D,children:[l.jsx("div",{className:"modal-body",children:l.jsx("div",{className:"space-y-4",children:l.jsx(Dt,{id:"newTypeName",name:"newTypeName",type:"text",label:"Type Name",value:n,onChange:B=>r(B.target.value),placeholder:"Enter equipment type name",required:!0})})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx(Be,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"Cancel"}),l.jsx(Be,{type:"submit",variant:"primary",disabled:A.isLoading,className:"flex items-center gap-2",children:A.isLoading?"Adding...":"Add Type"})]})]})]})}),i&&l.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Edit Equipment Type"}),l.jsx("button",{className:"modal-close",onClick:W,children:"×"})]}),l.jsxs("form",{onSubmit:B=>{B.preventDefault(),O()},children:[l.jsx("div",{className:"modal-body",children:l.jsx("div",{className:"space-y-4",children:l.jsx(Dt,{id:"editTypeName",name:"editTypeName",type:"text",label:"Type Name",value:d,onChange:B=>x(B.target.value),required:!0})})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx(Be,{type:"button",variant:"secondary",onClick:W,children:"Cancel"}),l.jsx(Be,{type:"submit",variant:"primary",disabled:I.isLoading,className:"flex items-center gap-2",children:I.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4 rounded",children:l.jsx("p",{children:"Only administrators can manage equipment types."})})},BF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),UF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),zF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),WF=()=>{const{isAdmin:e}=or(),t=Gn(),[n,r]=M.useState(""),[i,a]=M.useState(""),[d,x]=M.useState(null),[g,v]=M.useState(""),[w,E]=M.useState(""),[_,k]=M.useState(""),{data:A,isLoading:I,isError:L}=vt({queryKey:["categories"],queryFn:xl}),D=(A==null?void 0:A.categories)||[],j=jn({mutationFn:({name:ee,description:de})=>G9(ee,de),onSuccess:()=>{t.invalidateQueries(["categories"]),r(""),a(""),k("")},onError:ee=>{var de,ie;k(((ie=(de=ee.response)==null?void 0:de.data)==null?void 0:ie.message)||"Failed to create category")}}),O=jn({mutationFn:({id:ee,name:de,description:ie})=>X9(ee,de,ie),onSuccess:()=>{t.invalidateQueries(["categories"]),x(null),v(""),E(""),k("")},onError:ee=>{var de,ie;k(((ie=(de=ee.response)==null?void 0:de.data)==null?void 0:ie.message)||"Failed to update category")}}),W=jn({mutationFn:Q9,onSuccess:()=>{t.invalidateQueries(["categories"]),k("")},onError:ee=>{var de,ie;k(((ie=(de=ee.response)==null?void 0:de.data)==null?void 0:ie.message)||"Failed to delete category")}}),Z=ee=>{if(ee.preventDefault(),!n.trim()){k("Category name is required");return}j.mutate({name:n,description:i}),document.getElementById("addCategoryModal").style.display="none"},B=ee=>{x(ee),v(ee.name),E(ee.description||"")},R=()=>{if(!g.trim()){k("Category name is required");return}O.mutate({id:d.id,name:g,description:w})},V=()=>{x(null),v(""),E("")},Y=ee=>{window.confirm("Are you sure you want to delete this category?")&&W.mutate(ee)};return e()?l.jsxs("div",{className:"space-y-6",children:[_&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:l.jsx("p",{children:_})}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Categories"}),l.jsxs(Be,{variant:"primary",onClick:()=>{r(""),a(""),document.getElementById("addCategoryModal").style.display="block"},className:"flex items-center gap-2",children:[l.jsx(zF,{}),"Add Category"]})]}),l.jsx(We,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"Name"}),l.jsx("th",{className:"table-header-cell",children:"Description"}),l.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"table-body",children:I?l.jsx("tr",{children:l.jsx("td",{colSpan:"3",className:"table-cell text-center py-4",children:l.jsx("div",{className:"flex justify-center items-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):L?l.jsx("tr",{children:l.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-red-600",children:"Error loading categories. Please try again."})}):D&&D.length>0?D.map(ee=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell",children:ee.name}),l.jsx("td",{className:"table-cell",children:ee.description||"-"}),l.jsx("td",{className:"table-cell text-right",children:l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsxs(Be,{onClick:()=>B(ee),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[l.jsx(BF,{}),"Edit"]}),l.jsxs(Be,{onClick:()=>Y(ee.id),variant:"danger",size:"sm",disabled:W.isLoading&&W.variables===ee.id,className:"flex items-center gap-1",children:[l.jsx(UF,{}),W.isLoading&&W.variables===ee.id?"Deleting...":"Delete"]})]})})]},ee.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-slate-500",children:"No categories found"})})})]})})}),l.jsx("div",{className:"modal-backdrop",id:"addCategoryModal",style:{display:"none"},children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Add Category"}),l.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"×"})]}),l.jsxs("form",{onSubmit:Z,children:[l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Dt,{id:"newCategoryName",name:"newCategoryName",type:"text",label:"Category Name",value:n,onChange:ee=>r(ee.target.value),placeholder:"Enter category name",required:!0}),l.jsx(Dt,{id:"newCategoryDescription",name:"newCategoryDescription",type:"text",label:"Description (optional)",value:i,onChange:ee=>a(ee.target.value),placeholder:"Enter category description"})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx(Be,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"Cancel"}),l.jsx(Be,{type:"submit",variant:"primary",disabled:j.isLoading,className:"flex items-center gap-2",children:j.isLoading?"Adding...":"Add Category"})]})]})]})}),d&&l.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Edit Category"}),l.jsx("button",{className:"modal-close",onClick:V,children:"×"})]}),l.jsxs("form",{onSubmit:ee=>{ee.preventDefault(),R()},children:[l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Dt,{id:"editCategoryName",name:"editCategoryName",type:"text",label:"Category Name",value:g,onChange:ee=>v(ee.target.value),required:!0}),l.jsx(Dt,{id:"editCategoryDescription",name:"editCategoryDescription",type:"text",label:"Description (optional)",value:w,onChange:ee=>E(ee.target.value),placeholder:"Enter category description"})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx(Be,{type:"button",variant:"secondary",onClick:V,children:"Cancel"}),l.jsx(Be,{type:"submit",variant:"primary",disabled:O.isLoading,className:"flex items-center gap-2",children:O.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):l.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",children:l.jsx("p",{children:"Only administrators can manage equipment categories."})})},yo=async()=>(await dt.get("/api/locations")).data,HF=async e=>(await dt.post("/api/locations",e)).data,qF=async(e,t)=>(await dt.put(`/api/locations/${e}`,t)).data,VF=async e=>(await dt.delete(`/api/locations/${e}`)).data,YF=()=>{var V;const{isAdmin:e}=or(),t=Gn(),[n,r]=M.useState(!1),[i,a]=M.useState(!1),[d,x]=M.useState(!1),[g,v]=M.useState(null),[w,E]=M.useState({name:"",street:"",postal_code:"",city:"",region:"",country:""}),{data:_,isLoading:k,isError:A}=vt(["locations"],yo),I=jn(HF,{onSuccess:()=>{t.invalidateQueries(["locations"]),r(!1),E({name:"",street:"",postal_code:"",city:"",region:"",country:""}),alert("Location created successfully")},onError:Y=>{var ee,de;alert(`Error creating location: ${((de=(ee=Y.response)==null?void 0:ee.data)==null?void 0:de.message)||Y.message}`)}}),L=jn(Y=>qF(Y.id,Y.locationData),{onSuccess:()=>{t.invalidateQueries(["locations"]),a(!1),v(null),alert("Location updated successfully")},onError:Y=>{var ee,de;alert(`Error updating location: ${((de=(ee=Y.response)==null?void 0:ee.data)==null?void 0:de.message)||Y.message}`)}}),D=jn(VF,{onSuccess:()=>{t.invalidateQueries(["locations"]),x(!1),v(null),alert("Location deleted successfully")},onError:Y=>{var ee,de;alert(`Error deleting location: ${((de=(ee=Y.response)==null?void 0:ee.data)==null?void 0:de.message)||Y.message}`)}}),j=Y=>{const{name:ee,value:de}=Y.target;E(ie=>({...ie,[ee]:de}))},O=Y=>{Y.preventDefault(),I.mutate(w)},W=Y=>{Y.preventDefault(),L.mutate({id:g.id,locationData:w})},Z=()=>{D.mutate(g.id)},B=Y=>{v(Y),E({name:Y.name,street:Y.street||"",postal_code:Y.postal_code||"",city:Y.city||"",region:Y.region||"",country:Y.country||""}),a(!0)},R=Y=>{v(Y),x(!0)};return k?l.jsx("div",{className:"text-center py-4",children:"Loading locations..."}):A?l.jsx("div",{className:"text-center py-4 text-red-600",children:"Error loading locations"}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Locations"}),e()&&l.jsx(Be,{variant:"primary",onClick:()=>{E({name:"",street:"",postal_code:"",city:"",region:"",country:""}),r(!0)},children:"Add Location"})]}),l.jsx(We,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"Name"}),l.jsx("th",{className:"table-header-cell",children:"Street"}),l.jsx("th",{className:"table-header-cell",children:"Postal Code"}),l.jsx("th",{className:"table-header-cell",children:"City"}),l.jsx("th",{className:"table-header-cell",children:"Region"}),l.jsx("th",{className:"table-header-cell",children:"Country"}),e()&&l.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),l.jsx("tbody",{className:"table-body",children:((V=_==null?void 0:_.locations)==null?void 0:V.length)>0?_.locations.map(Y=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell",children:Y.name}),l.jsx("td",{className:"table-cell",children:Y.street||"-"}),l.jsx("td",{className:"table-cell",children:Y.postal_code||"-"}),l.jsx("td",{className:"table-cell",children:Y.city||"-"}),l.jsx("td",{className:"table-cell",children:Y.region||"-"}),l.jsx("td",{className:"table-cell",children:Y.country||"-"}),e()&&l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Be,{variant:"outline",size:"sm",onClick:()=>B(Y),children:"Edit"}),l.jsx(Be,{variant:"danger",size:"sm",onClick:()=>R(Y),children:"Delete"})]})})]},Y.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:e()?7:6,className:"table-cell text-center py-4 text-slate-500",children:"No locations found"})})})]})})}),n&&l.jsx("div",{className:"modal-backdrop",children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Add Location"}),l.jsx("button",{className:"modal-close",onClick:()=>r(!1),children:"×"})]}),l.jsxs("form",{onSubmit:O,children:[l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Dt,{id:"name",name:"name",label:"Location Name",value:w.name,onChange:j,placeholder:"Enter location name",required:!0}),l.jsx(Dt,{id:"street",name:"street",label:"Street",value:w.street,onChange:j,placeholder:"Enter street (optional)"}),l.jsx(Dt,{id:"postal_code",name:"postal_code",label:"Postal Code",value:w.postal_code,onChange:j,placeholder:"Enter postal code (optional)"}),l.jsx(Dt,{id:"city",name:"city",label:"City",value:w.city,onChange:j,placeholder:"Enter city (optional)"}),l.jsx(Dt,{id:"region",name:"region",label:"Region/State",value:w.region,onChange:j,placeholder:"Enter region or state (optional)"}),l.jsx(Dt,{id:"country",name:"country",label:"Country",value:w.country,onChange:j,placeholder:"Enter country (optional)"})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx(Be,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),l.jsx(Be,{type:"submit",variant:"primary",disabled:I.isLoading,children:I.isLoading?"Adding...":"Add Location"})]})]})]})}),i&&g&&l.jsx("div",{className:"modal-backdrop",children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Edit Location"}),l.jsx("button",{className:"modal-close",onClick:()=>a(!1),children:"×"})]}),l.jsxs("form",{onSubmit:W,children:[l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Dt,{id:"edit-name",name:"name",label:"Location Name",value:w.name,onChange:j,placeholder:"Enter location name",required:!0}),l.jsx(Dt,{id:"edit-street",name:"street",label:"Street",value:w.street,onChange:j,placeholder:"Enter street (optional)"}),l.jsx(Dt,{id:"edit-postal_code",name:"postal_code",label:"Postal Code",value:w.postal_code,onChange:j,placeholder:"Enter postal code (optional)"}),l.jsx(Dt,{id:"edit-city",name:"city",label:"City",value:w.city,onChange:j,placeholder:"Enter city (optional)"}),l.jsx(Dt,{id:"edit-region",name:"region",label:"Region/State",value:w.region,onChange:j,placeholder:"Enter region or state (optional)"}),l.jsx(Dt,{id:"edit-country",name:"country",label:"Country",value:w.country,onChange:j,placeholder:"Enter country (optional)"})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx(Be,{type:"button",variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),l.jsx(Be,{type:"submit",variant:"primary",disabled:L.isLoading,children:L.isLoading?"Saving...":"Save Changes"})]})]})]})}),d&&g&&l.jsx("div",{className:"modal-backdrop",children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{className:"modal-title",children:"Delete Location"}),l.jsx("button",{className:"modal-close",onClick:()=>x(!1),children:"×"})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("p",{children:['Are you sure you want to delete the location "',g.name,'"? This action cannot be undone.']}),l.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Note: You cannot delete a location that is currently assigned to equipment."})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx(Be,{type:"button",variant:"secondary",onClick:()=>x(!1),children:"Cancel"}),l.jsx(Be,{type:"button",variant:"danger",onClick:Z,disabled:D.isLoading,children:D.isLoading?"Deleting...":"Delete Location"})]})]})})]})},wa="http://localhost:5000",$F=async()=>{try{console.log("[DATABASE SERVICE] Testing connection to:",`${wa}/api/database/test`);const e=await fetch(`${wa}/api/database/test`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log("[DATABASE SERVICE] Test response status:",e.status),!e.ok){const n=await e.text();throw console.error("[DATABASE SERVICE] Test error response:",n),new Error(`HTTP error! status: ${e.status} - ${n}`)}const t=await e.json();return console.log("[DATABASE SERVICE] Test data:",t),t}catch(e){throw console.error("Error testing database connection:",e),e}},GF=async()=>{try{console.log("[DATABASE SERVICE] Fetching tables from:",`${wa}/api/database/tables`),console.log("[DATABASE SERVICE] Token:",localStorage.getItem("token")?"Present":"Missing");const e=await fetch(`${wa}/api/database/tables`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log("[DATABASE SERVICE] Response status:",e.status),!e.ok){const n=await e.text();throw console.error("[DATABASE SERVICE] Error response:",n),new Error(`HTTP error! status: ${e.status} - ${n}`)}const t=await e.json();return console.log("[DATABASE SERVICE] Tables data:",t),t}catch(e){throw console.error("Error fetching database tables:",e),e}},XF=async e=>{try{const t=await fetch(`${wa}/api/database/tables/${e}/structure`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching table structure:",t),t}},QF=async(e,t=1,n=50)=>{try{const r=await fetch(`${wa}/api/database/tables/${e}/data?page=${t}&limit=${n}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("Error fetching table data:",r),r}},KF=async e=>{try{const t=await fetch(`${wa}/api/database/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({query:e})});if(!t.ok){const n=await t.json();throw new Error(n.message||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error("Error executing query:",t),t}},ZF=async(e,t,n)=>{try{const r=await fetch(`${wa}/api/database/tables/${e}/rows/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(n)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("Error updating table row:",r),r}},JF=async()=>{try{const e=await fetch(`${wa}/api/database/info`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching database info:",e),e}},eB=()=>{var re,_e,ve,ue,ge,Re,qe,tt,Ae,Ge,st;const[e,t]=M.useState("tables"),[n,r]=M.useState(null),[i,a]=M.useState(1),[d,x]=M.useState(""),[g,v]=M.useState(null),[w,E]=M.useState(null),[_,k]=M.useState({}),A=Gn(),{data:I}=vt({queryKey:["database-info"],queryFn:JF}),{data:L,isLoading:D,error:j}=vt({queryKey:["database-tables"],queryFn:GF,retry:1,onError:oe=>{console.error("[DATABASE MANAGER] Tables query error:",oe),et.error(`Failed to load tables: ${oe.message}`)}}),{data:O}=vt({queryKey:["table-structure",n],queryFn:()=>XF(n),enabled:!!n}),{data:W,isLoading:Z}=vt({queryKey:["table-data",n,i],queryFn:()=>QF(n,i,50),enabled:!!n}),B=jn({mutationFn:KF,onSuccess:oe=>{v(oe),et.success("Query executed successfully")},onError:oe=>{et.error(`Query failed: ${oe.message}`)}}),R=jn({mutationFn:({tableName:oe,id:ft,data:it})=>ZF(oe,ft,it),onSuccess:()=>{et.success("Row updated successfully"),E(null),k({}),A.invalidateQueries(["table-data",n])},onError:oe=>{et.error(`Update failed: ${oe.message}`)}}),V=()=>{if(!d.trim()){et.error("Please enter a SQL query");return}B.mutate(d)},Y=oe=>{E(oe.id),k({...oe})},ee=()=>{R.mutate({tableName:n,id:w,data:_})},de=()=>{E(null),k({})},ie=async()=>{try{const oe=await $F();et.success(`Database connection successful! Database: ${oe.database}`),console.log("[DATABASE MANAGER] Connection test result:",oe)}catch(oe){et.error(`Database connection failed: ${oe.message}`),console.error("[DATABASE MANAGER] Connection test failed:",oe)}},ce=oe=>oe===null?"NULL":typeof oe=="boolean"?oe?"TRUE":"FALSE":typeof oe=="object"?JSON.stringify(oe):String(oe),Te=[{id:"tables",label:"Tables",icon:"📊"},{id:"query",label:"Query",icon:"🔍"},{id:"info",label:"Database Info",icon:"ℹ️"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsx(We,{children:l.jsx(We.Body,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Database Manager"}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Connected to: ",l.jsx("span",{className:"font-mono text-primary-600",children:"ton-lager1-cv8k6-mysql"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-sm text-slate-600",children:"Connected"})]}),l.jsx(Be,{size:"sm",variant:"outline",onClick:ie,children:"Test Connection"})]})]})})}),l.jsx("div",{className:"border-b border-slate-200",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:Te.map(oe=>l.jsxs("button",{onClick:()=>t(oe.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${e===oe.id?"border-primary-500 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[l.jsx("span",{children:oe.icon}),l.jsx("span",{children:oe.label})]},oe.id))})}),e==="tables"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs(We,{children:[l.jsx(We.Header,{children:l.jsx("h3",{className:"text-lg font-semibold",children:"Database Tables"})}),l.jsx(We.Body,{className:"p-0",children:D?l.jsx("div",{className:"p-4 text-center text-slate-500",children:"Loading tables..."}):j?l.jsxs("div",{className:"p-4 text-center",children:[l.jsx("div",{className:"text-red-600 mb-2",children:"❌ Error loading tables"}),l.jsx("div",{className:"text-sm text-slate-600",children:j.message}),l.jsx(Be,{size:"sm",variant:"outline",className:"mt-2",onClick:()=>A.invalidateQueries(["database-tables"]),children:"Retry"})]}):(re=L==null?void 0:L.tables)!=null&&re.length?l.jsx("div",{className:"divide-y divide-slate-100",children:L.tables.map(oe=>l.jsxs("button",{onClick:()=>{r(oe.TABLE_NAME),a(1)},className:`w-full text-left p-4 hover:bg-slate-50 transition-colors ${n===oe.TABLE_NAME?"bg-primary-50 border-r-2 border-primary-500":""}`,children:[l.jsx("div",{className:"font-medium text-slate-800",children:oe.TABLE_NAME}),l.jsxs("div",{className:"text-sm text-slate-500",children:[oe.TABLE_ROWS||0," rows"]})]},oe.TABLE_NAME))}):l.jsx("div",{className:"p-4 text-center text-slate-500",children:"No tables found in database"})})]}),n&&l.jsxs(We,{children:[l.jsx(We.Header,{children:l.jsxs("h3",{className:"text-lg font-semibold",children:["Table Structure: ",n]})}),l.jsx(We.Body,{className:"p-0",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Column"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Type"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Null"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Key"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200",children:(_e=O==null?void 0:O.columns)==null?void 0:_e.map(oe=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-2 text-sm font-medium text-slate-800",children:oe.COLUMN_NAME}),l.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:oe.DATA_TYPE}),l.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:oe.IS_NULLABLE}),l.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:oe.COLUMN_KEY})]},oe.COLUMN_NAME))})]})})})]}),n&&l.jsxs(We,{children:[l.jsx(We.Header,{children:l.jsxs("h3",{className:"text-lg font-semibold",children:["Table Data: ",n]})}),l.jsx(We.Body,{className:"p-0",children:Z?l.jsx("div",{className:"p-4 text-center text-slate-500",children:"Loading data..."}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto max-h-96",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50 sticky top-0",children:l.jsxs("tr",{children:[((ve=W==null?void 0:W.data)==null?void 0:ve[0])&&Object.keys(W.data[0]).map(oe=>l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:oe},oe)),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-200",children:(ue=W==null?void 0:W.data)==null?void 0:ue.map(oe=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[Object.entries(oe).map(([ft,it])=>l.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:w===oe.id?l.jsx(Dt,{value:_[ft]||"",onChange:nn=>k({..._,[ft]:nn.target.value}),className:"text-xs"}):l.jsx("span",{className:"font-mono text-xs",children:ce(it)})},ft)),l.jsx("td",{className:"px-4 py-2 text-sm",children:w===oe.id?l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(Be,{size:"sm",onClick:ee,children:"Save"}),l.jsx(Be,{size:"sm",variant:"outline",onClick:de,children:"Cancel"})]}):l.jsx(Be,{size:"sm",variant:"outline",onClick:()=>Y(oe),children:"Edit"})})]},oe.id))})]})}),(W==null?void 0:W.pagination)&&l.jsxs("div",{className:"p-4 border-t border-slate-200 flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",W.pagination.page," of ",W.pagination.totalPages,"(",W.pagination.total," total rows)"]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Be,{size:"sm",variant:"outline",onClick:()=>a(Math.max(1,i-1)),disabled:i===1,children:"Previous"}),l.jsx(Be,{size:"sm",variant:"outline",onClick:()=>a(i+1),disabled:i>=W.pagination.totalPages,children:"Next"})]})]})]})})]})]}),e==="query"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs(We,{children:[l.jsxs(We.Header,{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"SQL Query Editor"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Execute SELECT queries to view data. Dangerous operations are restricted."})]}),l.jsx(We.Body,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"SQL Query"}),l.jsx("textarea",{value:d,onChange:oe=>x(oe.target.value),placeholder:"SELECT * FROM equipment WHERE status = 'available';",className:"w-full h-32 p-3 border border-slate-300 rounded-md font-mono text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"text-sm text-slate-500",children:"💡 Tip: Only SELECT queries are allowed for security"}),l.jsx(Be,{onClick:V,disabled:B.isPending,children:B.isPending?"Executing...":"Execute Query"})]})]})})]}),g&&l.jsxs(We,{children:[l.jsxs(We.Header,{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Query Results"}),l.jsxs("p",{className:"text-sm text-slate-600",children:[(ge=g.metadata)==null?void 0:ge.rowCount," rows returned"]})]}),l.jsx(We.Body,{className:"p-0",children:l.jsx("div",{className:"overflow-x-auto max-h-96",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50 sticky top-0",children:l.jsx("tr",{children:((Re=g.results)==null?void 0:Re[0])&&Object.keys(g.results[0]).map(oe=>l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:oe},oe))})}),l.jsx("tbody",{className:"divide-y divide-slate-200",children:(qe=g.results)==null?void 0:qe.map((oe,ft)=>l.jsx("tr",{className:"hover:bg-slate-50",children:Object.entries(oe).map(([it,nn])=>l.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:l.jsx("span",{className:"font-mono text-xs",children:ce(nn)})},it))},ft))})]})})})]})]}),e==="info"&&l.jsxs(We,{children:[l.jsx(We.Header,{children:l.jsx("h3",{className:"text-lg font-semibold",children:"Database Information"})}),l.jsx(We.Body,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Connection Details"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Host:"}),l.jsx("span",{className:"font-mono",children:"ton-lager1-cv8k6-mysql.ton-lager1-cv8k6.svc.cluster.local"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Port:"}),l.jsx("span",{className:"font-mono",children:"3306"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Database:"}),l.jsx("span",{className:"font-mono",children:((tt=I==null?void 0:I.database)==null?void 0:tt.database_name)||"substantial-gray-unicorn"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"User:"}),l.jsx("span",{className:"font-mono",children:"canid"})]})]})]}),I&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Server Information"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"MySQL Version:"}),l.jsx("span",{className:"font-mono",children:(Ae=I.server)==null?void 0:Ae.version})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Character Set:"}),l.jsx("span",{className:"font-mono",children:(Ge=I.database)==null?void 0:Ge.charset})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Collation:"}),l.jsx("span",{className:"font-mono",children:(st=I.database)==null?void 0:st.collation})]})]})]})]})})]})]})},tB=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),nB=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),Zb=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),rB=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[l.jsx("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"}),l.jsx("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"}),l.jsx("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"})]}),sB=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),iB=()=>{const{user:e}=or(),[t,n]=M.useState("profile"),[r,i]=M.useState(""),[a,d]=M.useState(""),[x,g]=M.useState(""),[v,w]=M.useState(""),[E,_]=M.useState(""),k=[{id:"profile",label:"Profile",icon:l.jsx(tB,{})},{id:"security",label:"Security",icon:l.jsx(nB,{})}];(e==null?void 0:e.role)==="admin"&&(k.push({id:"equipmentTypes",label:"Equipment Types",icon:l.jsx(Zb,{})}),k.push({id:"categories",label:"Categories",icon:l.jsx(Zb,{})}),k.push({id:"locations",label:"Locations",icon:l.jsx(sB,{})}),k.push({id:"database",label:"Database",icon:l.jsx(rB,{})}));const A=I=>{if(I.preventDefault(),w(""),_(""),!r){w("Current password is required");return}if(!a){w("New password is required");return}if(a!==x){w("New passwords do not match");return}if(a.length<8){w("New password must be at least 8 characters");return}_("Password changed successfully"),i(""),d(""),g("")};return l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-8",children:"User Settings"}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[l.jsx("div",{className:"w-full md:w-64",children:l.jsx(We,{children:l.jsx(We.Body,{className:"p-0",children:l.jsx("nav",{children:l.jsx("ul",{className:"divide-y divide-slate-100",children:k.map(I=>l.jsx("li",{children:l.jsxs("button",{onClick:()=>n(I.id),className:`w-full text-left px-4 py-3 flex items-center transition-colors ${t===I.id?"bg-primary-50 text-primary-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,"aria-current":t===I.id?"page":void 0,children:[l.jsx("span",{className:"mr-3 text-slate-500",children:I.icon}),I.label]})},I.id))})})})})}),l.jsx("div",{className:"flex-1",children:l.jsx(We,{children:l.jsxs(We.Body,{children:[t==="profile"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Profile Settings"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),l.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200",children:e==null?void 0:e.username})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),l.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200 capitalize",children:e==null?void 0:e.role})]})]})]}),t==="security"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Security Settings"}),v&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:v}),E&&l.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:E}),l.jsxs("form",{onSubmit:A,className:"space-y-4",children:[l.jsx(Dt,{type:"password",id:"current-password",label:"Current Password",value:r,onChange:I=>i(I.target.value),placeholder:"Enter your current password"}),l.jsx(Dt,{type:"password",id:"new-password",label:"New Password",value:a,onChange:I=>d(I.target.value),placeholder:"Enter your new password"}),l.jsx(Dt,{type:"password",id:"confirm-password",label:"Confirm New Password",value:x,onChange:I=>g(I.target.value),placeholder:"Confirm your new password"}),l.jsx("div",{children:l.jsx(Be,{type:"submit",variant:"primary",children:"Change Password"})})]})]}),t==="equipmentTypes"&&(e==null?void 0:e.role)==="admin"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Types"}),l.jsx(FF,{})]}),t==="categories"&&(e==null?void 0:e.role)==="admin"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Categories"}),l.jsx(WF,{})]}),t==="locations"&&(e==null?void 0:e.role)==="admin"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Locations"}),l.jsx(YF,{})]}),t==="database"&&(e==null?void 0:e.role)==="admin"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Database Management"}),l.jsx(eB,{})]})]})})})]})]})},aB=({isOpen:e,onClose:t,equipmentId:n})=>{const r=Gn(),[i,a]=M.useState(""),[d,x]=M.useState(null),[g,v]=M.useState(!1),[w,E]=M.useState(null);M.useEffect(()=>{e&&n&&(v(!0),ep(n).then(A=>{x(A),a(`${A.serial_number}-COPY`),v(!1)}).catch(A=>{console.error("Error fetching equipment details:",A),E("Failed to load equipment details"),v(!1)}))},[e,n]);const _=jn({mutationFn:async()=>{if(!d)return null;console.log("Original equipment data:",d);const A={type_id:d.type_id||1,brand:d.brand,model:d.model,serial_number:i,status:d.status||"available",location:d.location||"",description:d.description||""};return console.log("Duplicate data being sent:",A),Qg(A)},onSuccess:A=>{console.log("Successfully duplicated equipment:",A),r.invalidateQueries(["equipment"]),t()},onError:A=>{var I,L;console.error("Error duplicating equipment:",A),(L=(I=A.response)==null?void 0:I.data)!=null&&L.message?E(A.response.data.message):E("Failed to duplicate equipment. Please check all required fields.")}}),k=A=>{if(A.preventDefault(),!i.trim()){E("Serial number is required");return}_.mutate()};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Duplicate Equipment"}),g?l.jsx("div",{className:"text-center py-4",children:"Loading..."}):w?l.jsx("div",{className:"text-red-600 mb-4",children:w}):l.jsxs("form",{onSubmit:k,children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("p",{className:"text-gray-600 mb-2",children:["You are about to duplicate: ",l.jsxs("span",{className:"font-medium",children:[d==null?void 0:d.brand," ",d==null?void 0:d.model]})]}),l.jsx("label",{htmlFor:"serialNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),l.jsx("input",{type:"text",id:"serialNumber",value:i,onChange:A=>a(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,autoFocus:!0}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please provide a unique serial number for the duplicated equipment."})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                  hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                  hover:shadow-sm transition-all`,children:"Cancel"}),l.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                  hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                  hover:shadow-sm transition-all focus:outline-none focus:ring-1 focus:ring-primary-500`,disabled:_.isLoading,children:_.isLoading?"Duplicating...":"Duplicate"})]})]})]})}):null},oB=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{var Y,ee,de;const i=r.length>0?r:n?[n]:[],a=Gn(),[d,x]=M.useState(2),[g,v]=M.useState(""),[w,E]=M.useState([]),[_,k]=M.useState([]),[A,I]=M.useState(!1),[L,D]=M.useState(null),[j,O]=M.useState(0),[W,Z]=M.useState(!1);M.useEffect(()=>{if(e&&i.length>0){I(!0),k([]);const ie=i.map(ce=>ep(ce));Promise.all(ie).then(ce=>{if(k(ce),ce.length===1){const Te=`${ce[0].serial_number}-{n}`;v(Te)}else v("BATCH-{n}");I(!1)}).catch(ce=>{console.error("Error fetching equipment details:",ce),D("Failed to load equipment details"),I(!1)})}},[e,i]),M.useEffect(()=>{if(g&&d>0){const ie=[];for(let ce=1;ce<=Math.min(d,5);ce++)ie.push(B(g,ce));d>5&&(ie.push("..."),ie.push(B(g,d))),E(ie)}},[g,d]);const B=(ie,ce)=>ie.replace("{n}",ce),R=jn({mutationFn:async({equipmentData:ie,serialNumber:ce})=>{if(!ie)return null;const Te={type:ie.type,type_id:ie.type_id||1,category:ie.category||"",...ie.category_id?{category_id:ie.category_id}:{},brand:ie.brand,model:ie.model,serial_number:ce,status:ie.status||"available",location:ie.location||"",...ie.location_id?{location_id:ie.location_id}:{},description:ie.description||"",...ie.reference_image_id?{reference_image_id:ie.reference_image_id}:{}};return Qg(Te)}}),V=async()=>{var ie,ce;if(_.length!==0){Z(!0),O(0);try{const Te=_.length*d;let re=0;for(const _e of _)for(let ve=1;ve<=d;ve++){let ue;_.length===1?ue=B(g,ve):ue=B(g.replace("{n}",`${_e.id}-{n}`),ve),console.log(`Creating duplicate ${ve} for equipment ID ${_e.id} with serial number ${ue}`),console.log("Original equipment data:",JSON.stringify(_e,null,2));try{await R.mutateAsync({equipmentData:_e,serialNumber:ue}),console.log(`Successfully created duplicate ${ve} for equipment ID ${_e.id}`)}catch(ge){throw console.error(`Error creating duplicate ${ve} for equipment ID ${_e.id}:`,ge),ge}re++,O(Math.floor(re/Te*100))}a.invalidateQueries(["equipment"]),t()}catch(Te){console.error("Error in batch duplication:",Te);let re="Failed to duplicate equipment";(ce=(ie=Te.response)==null?void 0:ie.data)!=null&&ce.message?re=Te.response.data.message:Te.message&&(re=Te.message),D(re)}finally{Z(!1)}}};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Batch Duplicate Equipment"}),A?l.jsx("div",{className:"text-center py-4",children:"Loading..."}):L?l.jsx("div",{className:"text-red-600 mb-4",children:L}):l.jsxs("div",{children:[l.jsxs("div",{className:"text-gray-600 mb-4",children:[l.jsxs("p",{children:["You are about to duplicate ",_.length," item",_.length!==1?"s":"",":"]}),_.length===1?l.jsxs("p",{className:"font-medium mt-1",children:[(Y=_[0])==null?void 0:Y.brand," ",(ee=_[0])==null?void 0:ee.model," (SN: ",(de=_[0])==null?void 0:de.serial_number,")"]}):l.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border border-gray-200 rounded-md p-2",children:l.jsx("ul",{className:"text-sm",children:_.map((ie,ce)=>l.jsxs("li",{className:"mb-1",children:[ie.brand," ",ie.model," (SN: ",ie.serial_number,")"]},ce))})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"count",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Copies"}),l.jsx("input",{type:"number",id:"count",min:"1",max:"50",value:d,onChange:ie=>x(Math.min(50,Math.max(1,parseInt(ie.target.value)||1))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"serialNumberPattern",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Pattern"}),l.jsx("input",{type:"text",id:"serialNumberPattern",value:g,onChange:ie=>v(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Use {n} for the copy number"}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Use ","{n}"," as a placeholder for the copy number."]})]}),w.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Preview"}),l.jsx("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200",children:l.jsx("ul",{className:"text-sm text-gray-600",children:w.map((ie,ce)=>l.jsx("li",{children:ie},ce))})})]}),W&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${j}%`}})}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1 text-center",children:[j,"% Complete"]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx(Be,{variant:"outline",onClick:t,disabled:W,children:"Cancel"}),l.jsx(Be,{variant:"primary",onClick:V,disabled:W||!g.includes("{n}"),children:W?"Processing...":"Create Copies"})]})]})]})}):null},FN=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{const i=r.length>0?r:n?[n]:[],[a,d]=M.useState("available");M.useState(1);const[x,g]=M.useState(!1),[v,w]=M.useState(""),[E,_]=M.useState(""),k=Gn(),A=["available","in-use","maintenance","unavailable","broken"],I=jn({mutationFn:async D=>{const j=D.equipmentIds.map(O=>$R(O,D.status));return Promise.all(j)},onSuccess:()=>{k.invalidateQueries(["equipment"]),_(`Status successfully updated to ${a} for ${i.length} item${i.length!==1?"s":""}`),g(!1),setTimeout(()=>{t(),_("")},2e3)},onError:D=>{var j,O;console.error("Error updating status:",D),w(((O=(j=D.response)==null?void 0:j.data)==null?void 0:O.message)||"Failed to update status"),g(!1)}}),L=D=>{if(D.preventDefault(),i.length===0){w("No equipment items selected");return}g(!0),w(""),_(""),I.mutate({equipmentIds:i,status:a})};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Status"}),l.jsx("div",{className:"mb-4",children:l.jsxs("p",{className:"text-gray-600",children:["You are updating the status of ",i.length," item",i.length!==1?"s":"","."]})}),v&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:v}),E&&l.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:E}),l.jsxs("form",{onSubmit:L,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Status"}),l.jsx("select",{id:"status",value:a,onChange:D=>d(D.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:A.map(D=>l.jsx("option",{value:D,children:D.charAt(0).toUpperCase()+D.slice(1)},D))})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:x,children:"Cancel"}),l.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:x,children:x?"Updating...":"Update Status"})]})]})]})}):null};FN.propTypes={isOpen:se.bool.isRequired,onClose:se.func.isRequired,equipmentId:se.oneOfType([se.string,se.number]),selectedItems:se.array};const BN=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{var B;const i=r.length>0?r:n?[n]:[],[a,d]=M.useState(""),[x,g]=M.useState(""),[v,w]=M.useState(!1),[E,_]=M.useState(!1),[k,A]=M.useState(""),[I,L]=M.useState(""),D=Gn(),{data:j}=vt({queryKey:["locations"],queryFn:yo,staleTime:3e5}),O=jn({mutationFn:async R=>{const V=R.equipmentIds.map(Y=>GR(Y,R.locationData));return Promise.all(V)},onSuccess:()=>{var V;D.invalidateQueries(["equipment"]);const R=v?x:((V=j==null?void 0:j.locations.find(Y=>Y.id.toString()===a))==null?void 0:V.name)||"selected location";L(`Location successfully updated to ${R} for ${i.length} item${i.length!==1?"s":""}`),_(!1),setTimeout(()=>{t(),L("")},2e3)},onError:R=>{var V,Y;console.error("Error updating location:",R),A(((Y=(V=R.response)==null?void 0:V.data)==null?void 0:Y.message)||"Failed to update location"),_(!1)}}),W=R=>{if(R.preventDefault(),i.length===0){A("No equipment items selected");return}_(!0),A(""),L("");const V=v?{location:x}:{location_id:a};O.mutate({equipmentIds:i,locationData:V})},Z=()=>{w(!v),d(""),g("")};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Location"}),l.jsx("div",{className:"mb-4",children:l.jsxs("p",{className:"text-gray-600",children:["You are updating the location of ",i.length," item",i.length!==1?"s":"","."]})}),k&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),I&&l.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:I}),l.jsxs("form",{onSubmit:W,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"flex items-center mb-3",children:l.jsx("button",{type:"button",onClick:Z,className:"text-sm text-primary-600 hover:text-primary-800",children:v?"Select from existing locations":"Enter custom location"})}),v?l.jsxs("div",{children:[l.jsx("label",{htmlFor:"customLocation",className:"block text-sm font-medium text-slate-700 mb-1",children:"Custom Location"}),l.jsx("input",{type:"text",id:"customLocation",value:x,onChange:R=>g(R.target.value),className:"w-full p-2 border border-slate-300 rounded-md",placeholder:"Enter location name",required:!0})]}):l.jsxs("div",{children:[l.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),l.jsxs("select",{id:"locationId",value:a,onChange:R=>d(R.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[l.jsx("option",{value:"",children:"Select a location"}),(B=j==null?void 0:j.locations)==null?void 0:B.map(R=>l.jsx("option",{value:R.id.toString(),children:R.name},R.id))]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:E,children:"Cancel"}),l.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:E||!a&&!x,children:E?"Updating...":"Update Location"})]})]})]})}):null};BN.propTypes={isOpen:se.bool.isRequired,onClose:se.func.isRequired,equipmentId:se.oneOfType([se.string,se.number]),selectedItems:se.array};const UN=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=M.useState(""),[a,d]=M.useState(!1),[x,g]=M.useState(""),[v,w]=M.useState(""),E=Gn(),{data:_,isLoading:k}=vt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5});M.useEffect(()=>{_!=null&&_.types&&_.types.length>0&&!r&&i(_.types[0].id.toString())},[_,r]);const A=jn({mutationFn:async L=>{const D=L.equipmentIds.map(j=>XR(j,L.typeId));return Promise.all(D)},onSuccess:()=>{var D;E.invalidateQueries(["equipment"]);const L=((D=_==null?void 0:_.types.find(j=>j.id.toString()===r))==null?void 0:D.name)||"selected type";w(`Type successfully updated to ${L} for ${n.length} item${n.length!==1?"s":""}`),d(!1),setTimeout(()=>{t(),w("")},2e3)},onError:L=>{var D,j;console.error("Error updating type:",L),g(((j=(D=L.response)==null?void 0:D.data)==null?void 0:j.message)||"Failed to update type"),d(!1)}}),I=L=>{if(L.preventDefault(),n.length===0){g("No equipment items selected");return}if(!r){g("Please select a type");return}d(!0),g(""),w(""),A.mutate({equipmentIds:n,typeId:r})};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Type"}),l.jsx("div",{className:"mb-4",children:l.jsxs("p",{className:"text-gray-600",children:["You are updating the type of ",n.length," item",n.length!==1?"s":"","."]})}),x&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),v&&l.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:v}),l.jsxs("form",{onSubmit:I,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Type"}),l.jsxs("select",{id:"type",value:r,onChange:L=>i(L.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[l.jsx("option",{value:"",children:"Select a type"}),_!=null&&_.types&&_.types.length>0?_.types.map(L=>l.jsx("option",{value:L.id,children:L.name},L.id)):l.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx(Be,{variant:"outline",onClick:t,disabled:a,children:"Cancel"}),l.jsx(Be,{variant:"primary",type:"submit",disabled:a||!r,children:a?"Updating...":"Update Type"})]})]})]})}):null};UN.propTypes={isOpen:se.bool.isRequired,onClose:se.func.isRequired,selectedItems:se.array};const zN=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=M.useState(""),[a,d]=M.useState(!1),[x,g]=M.useState(""),[v,w]=M.useState(""),E=Gn(),{data:_,isLoading:k}=vt({queryKey:["categories"],queryFn:xl,staleTime:3e5});M.useEffect(()=>{_!=null&&_.categories&&_.categories.length>0&&!r&&i(_.categories[0].id.toString())},[_,r]);const A=jn({mutationFn:async L=>{const D=L.equipmentIds.map(j=>QR(j,L.categoryId));return Promise.all(D)},onSuccess:()=>{var D;E.invalidateQueries(["equipment"]);const L=((D=_==null?void 0:_.categories.find(j=>j.id.toString()===r))==null?void 0:D.name)||"selected category";w(`Category successfully updated to ${L} for ${n.length} item${n.length!==1?"s":""}`),d(!1),setTimeout(()=>{t(),w("")},2e3)},onError:L=>{var D,j;console.error("Error updating category:",L),g(((j=(D=L.response)==null?void 0:D.data)==null?void 0:j.message)||"Failed to update category"),d(!1)}}),I=L=>{if(L.preventDefault(),n.length===0){g("No equipment items selected");return}d(!0),g(""),w(""),A.mutate({equipmentIds:n,categoryId:r||null})};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Category"}),l.jsx("div",{className:"mb-4",children:l.jsxs("p",{className:"text-gray-600",children:["You are updating the category of ",n.length," item",n.length!==1?"s":"","."]})}),x&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),v&&l.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:v}),l.jsxs("form",{onSubmit:I,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Category"}),l.jsxs("select",{id:"category",value:r,onChange:L=>i(L.target.value),className:"w-full p-2 border border-slate-300 rounded-md",children:[l.jsx("option",{value:"",children:"None (Remove Category)"}),_!=null&&_.categories&&_.categories.length>0?_.categories.map(L=>l.jsx("option",{value:L.id,children:L.name},L.id)):l.jsx("option",{value:"",disabled:!0,children:"Loading categories..."})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx(Be,{variant:"outline",onClick:t,disabled:a,children:"Cancel"}),l.jsx(Be,{variant:"primary",type:"submit",disabled:a,children:a?"Updating...":"Update Category"})]})]})]})}):null};zN.propTypes={isOpen:se.bool.isRequired,onClose:se.func.isRequired,selectedItems:se.array};const WN=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=M.useState(""),[a,d]=M.useState(""),[x,g]=M.useState(!0),[v,w]=M.useState(!0),[E,_]=M.useState(!1),[k,A]=M.useState(""),[I,L]=M.useState(""),D=Gn(),j=jn({mutationFn:async W=>{const Z=W.equipmentIds.map(B=>KR(B,W.updateData));return Promise.all(Z)},onSuccess:()=>{D.invalidateQueries(["equipment"]);let W="Successfully updated ";x&&v?W+=`brand to "${r}" and model to "${a}"`:x?W+=`brand to "${r}"`:v&&(W+=`model to "${a}"`),L(`${W} for ${n.length} item${n.length!==1?"s":""}`),_(!1),setTimeout(()=>{t(),L("")},2e3)},onError:W=>{var Z,B;console.error("Error updating brand/model:",W),A(((B=(Z=W.response)==null?void 0:Z.data)==null?void 0:B.message)||"Failed to update brand/model"),_(!1)}}),O=W=>{if(W.preventDefault(),n.length===0){A("No equipment items selected");return}if(!x&&!v){A("Please select at least one field to update");return}if(x&&!r||v&&!a){A("Please fill in all selected fields");return}_(!0),A(""),L("");const Z={};x&&(Z.brand=r),v&&(Z.model=a),j.mutate({equipmentIds:n,updateData:Z})};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Brand & Model"}),l.jsx("div",{className:"mb-4",children:l.jsxs("p",{className:"text-gray-600",children:["You are updating ",n.length," item",n.length!==1?"s":"","."]})}),k&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),I&&l.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:I}),l.jsxs("form",{onSubmit:O,children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("input",{type:"checkbox",id:"updateBrand",checked:x,onChange:W=>g(W.target.checked),className:"mr-2"}),l.jsx("label",{htmlFor:"updateBrand",className:"text-sm font-medium text-slate-700",children:"Update Brand"})]}),l.jsx("input",{type:"text",id:"brand",value:r,onChange:W=>i(W.target.value),disabled:!x,className:`w-full p-2 border border-slate-300 rounded-md ${x?"":"bg-slate-100"}`,placeholder:"Enter new brand"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("input",{type:"checkbox",id:"updateModel",checked:v,onChange:W=>w(W.target.checked),className:"mr-2"}),l.jsx("label",{htmlFor:"updateModel",className:"text-sm font-medium text-slate-700",children:"Update Model"})]}),l.jsx("input",{type:"text",id:"model",value:a,onChange:W=>d(W.target.value),disabled:!v,className:`w-full p-2 border border-slate-300 rounded-md ${v?"":"bg-slate-100"}`,placeholder:"Enter new model"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx(Be,{variant:"outline",onClick:t,disabled:E,children:"Cancel"}),l.jsx(Be,{variant:"primary",type:"submit",disabled:E||!x&&!v||x&&!r||v&&!a,children:E?"Updating...":"Update"})]})]})]})}):null};WN.propTypes={isOpen:se.bool.isRequired,onClose:se.func.isRequired,selectedItems:se.array};const y2=({onBatchDuplicate:e,onBatchStatusUpdate:t,onBatchLocationChange:n,equipmentId:r})=>{const[i,a]=M.useState(!1),d=M.useRef(null),x=Xs();M.useEffect(()=>{const A=I=>{d.current&&!d.current.contains(I.target)&&a(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]);const g=()=>{a(!i)},v=()=>{a(!1),x(`/equipment/${r}`)},w=()=>{a(!1),x(`/equipment/${r}/edit`)},E=()=>{a(!1),e(r)},_=()=>{a(!1),t&&t(r)},k=()=>{a(!1),n&&n(r)};return l.jsxs("div",{className:"relative",ref:d,children:[l.jsx("button",{onClick:g,className:"p-1 rounded-md hover:bg-slate-100 border border-slate-200",title:"Actions","aria-label":"Actions menu",children:l.jsx(zE,{className:"w-4 h-4 text-slate-600"})}),i&&l.jsx("div",{className:"dropdown-menu",children:l.jsxs("div",{className:"py-0.5",children:[l.jsxs("button",{onClick:v,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx(UE,{className:"w-3.5 h-3.5 mr-1.5"}),"View Details"]}),l.jsxs("button",{onClick:w,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx(Kg,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit"]}),l.jsxs("button",{onClick:E,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx(e2,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),l.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"⟳"}),"Update Status"]}),l.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📍"}),"Change Location"]})]})})]})};y2.propTypes={onBatchDuplicate:se.func.isRequired,onBatchStatusUpdate:se.func,onBatchLocationChange:se.func,equipmentId:se.oneOfType([se.string,se.number]).isRequired};const HN=({selectedItems:e,onBatchDuplicate:t,onBatchStatusUpdate:n,onBatchLocationChange:r,onBatchTypeChange:i,onBatchCategoryChange:a,onBatchBrandModelChange:d,onClearSelection:x})=>{const[g,v]=M.useState(!1),w=M.useRef(null);vt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),vt({queryKey:["locations"],queryFn:yo,staleTime:3e5}),vt({queryKey:["categories"],queryFn:xl,staleTime:3e5}),M.useEffect(()=>{const j=O=>{w.current&&!w.current.contains(O.target)&&v(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const E=()=>{v(!g)},_=()=>{v(!1),t()},k=()=>{v(!1),n()},A=()=>{v(!1),r()},I=()=>{v(!1),i()},L=()=>{v(!1),a()},D=()=>{v(!1),d()};return l.jsxs("div",{className:"relative",ref:w,children:[l.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-2 py-1 rounded-md border border-blue-100",children:[l.jsxs("span",{className:"text-xs font-medium text-blue-700",children:[e.length," item",e.length!==1?"s":""," selected"]}),l.jsx(Be,{variant:"outline",size:"sm",onClick:x,className:"text-xs py-0.5 px-2 bg-white",children:"Clear"}),l.jsxs(Be,{variant:"outline",size:"sm",onClick:E,className:"flex items-center text-xs py-0.5 px-2 bg-white",children:["Actions ",l.jsx(zE,{className:"w-3 h-3 ml-1"})]})]}),g&&l.jsx("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white rounded-md shadow-lg border border-slate-200 w-48",children:l.jsxs("div",{className:"py-0.5",children:[l.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx(e2,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),l.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"⟳"}),"Update Status"]}),l.jsxs("button",{onClick:A,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📍"}),"Change Location"]}),l.jsxs("button",{onClick:I,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"🏷️"}),"Change Type"]}),l.jsxs("button",{onClick:L,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📂"}),"Change Category"]}),l.jsxs("button",{onClick:D,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[l.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"🔖"}),"Update Brand/Model"]})]})})]})};HN.propTypes={selectedItems:se.array.isRequired,onBatchDuplicate:se.func.isRequired,onBatchStatusUpdate:se.func.isRequired,onBatchLocationChange:se.func.isRequired,onBatchTypeChange:se.func,onBatchCategoryChange:se.func,onBatchBrandModelChange:se.func,onClearSelection:se.func.isRequired};const qN=({equipment:e,onDuplicate:t,onSelect:n,isSelected:r})=>{const i=Xs();or();const[a,d]=M.useState(!1);let x=null;if(e.reference_image_id)x=rh(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const w=e.files.find(E=>E.file_type==="image");w&&(x=rh(w.id,!0))}const g=w=>{switch(w){case"available":return"badge-success";case"in-use":return"badge-info";case"maintenance":return"badge-warning";case"unavailable":return"badge-secondary";case"broken":return"badge-danger";default:return"badge-secondary"}},v=w=>{w.target.type==="checkbox"||w.target.closest("button")||w.target.closest("a")||w.target.closest(".btn-icon")||i(`/equipment/${e.id}`)};return l.jsxs("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden h-full ${r?"bg-blue-50 border-2 border-blue-300":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:v,children:[l.jsx("div",{className:"absolute top-2 left-2 z-10",children:l.jsx("input",{type:"checkbox",checked:r,onChange:()=>n&&n(e.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})}),l.jsx("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:x?l.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:l.jsx("img",{src:x,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):l.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:l.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})})}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&l.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),l.jsx("span",{className:`badge ${g(e.status)}`,children:e.status})]}),l.jsxs("h2",{className:"text-lg font-semibold mb-1",children:[e.brand," ",e.model]}),l.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",e.serial_number]}),e.location&&l.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Location: ",e.location]}),l.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[l.jsx(qn,{to:`/equipment/${e.id}/edit`,className:"btn-icon text-slate-600 hover:text-slate-800 hover:bg-slate-50",title:"Edit equipment",children:l.jsx(Kg,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>t(e.id),className:"btn-icon text-green-600 hover:text-green-800 hover:bg-green-50",title:"Duplicate equipment",children:l.jsx(e2,{className:"w-5 h-5"})}),l.jsx(y2,{equipmentId:e.id,onBatchDuplicate:()=>{const w=new CustomEvent("batchDuplicate",{detail:{id:e.id}});document.dispatchEvent(w)},onBatchStatusUpdate:()=>{const w=new CustomEvent("batchStatusUpdate",{detail:{id:e.id}});document.dispatchEvent(w)},onBatchLocationChange:()=>{const w=new CustomEvent("batchLocationChange",{detail:{id:e.id}});document.dispatchEvent(w)}})]})]})]})};qN.propTypes={equipment:se.object.isRequired,onDuplicate:se.func.isRequired,onSelect:se.func,isSelected:se.bool};const za=({field:e,label:t,currentSortField:n,currentSortOrder:r,onSort:i,className:a=""})=>{const d=n===e;return l.jsx("th",{className:`table-header-cell cursor-pointer select-none ${a}`,onClick:()=>i(e),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:t}),l.jsx("div",{className:"flex flex-col h-4 justify-center",children:d?r==="asc"?l.jsx(nb,{className:"w-3 h-3 text-primary-600"}):l.jsx(cO,{className:"w-3 h-3 text-primary-600"}):l.jsx("div",{className:"w-3 h-3 opacity-60",children:l.jsx(nb,{className:"w-3 h-3 text-gray-500"})})})]})})};za.propTypes={field:se.string.isRequired,label:se.string.isRequired,currentSortField:se.string.isRequired,currentSortOrder:se.string.isRequired,onSort:se.func.isRequired,className:se.string};function gl(e,t,n,r){function i(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function x(w){try{v(r.next(w))}catch(E){d(E)}}function g(w){try{v(r.throw(w))}catch(E){d(E)}}function v(w){w.done?a(w.value):i(w.value).then(x,g)}v((r=r.apply(e,t||[])).next())})}const lB=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function _c(e,t,n){const r=cB(e),{webkitRelativePath:i}=e,a=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&Jb(r,"path",a),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),Jb(r,"relativePath",a),r}function cB(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=lB.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function Jb(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const uB=[".DS_Store","Thumbs.db"];function dB(e){return gl(this,void 0,void 0,function*(){return yh(e)&&fB(e.dataTransfer)?xB(e.dataTransfer,e.type):hB(e)?pB(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?mB(e):[]})}function fB(e){return yh(e)}function hB(e){return yh(e)&&yh(e.target)}function yh(e){return typeof e=="object"&&e!==null}function pB(e){return Dx(e.target.files).map(t=>_c(t))}function mB(e){return gl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>_c(n))})}function xB(e,t){return gl(this,void 0,void 0,function*(){if(e.items){const n=Dx(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(gB));return e3(VN(r))}return e3(Dx(e.files).map(n=>_c(n)))})}function e3(e){return e.filter(t=>uB.indexOf(t.name)===-1)}function Dx(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function gB(e){if(typeof e.webkitGetAsEntry!="function")return t3(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?YN(t):t3(e,t)}function VN(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?VN(n):[n]],[])}function t3(e,t){return gl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const a=yield e.getAsFileSystemHandle();if(a===null)throw new Error(`${e} is not a File`);if(a!==void 0){const d=yield a.getFile();return d.handle=a,_c(d)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return _c(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function vB(e){return gl(this,void 0,void 0,function*(){return e.isDirectory?YN(e):yB(e)})}function YN(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function a(){t.readEntries(d=>gl(this,void 0,void 0,function*(){if(d.length){const x=Promise.all(d.map(vB));i.push(x),a()}else try{const x=yield Promise.all(i);n(x)}catch(x){r(x)}}),d=>{r(d)})}a()})}function yB(e){return gl(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=_c(r,e.fullPath);t(i)},r=>{n(r)})})})}var am=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(d){var x=d.trim().toLowerCase();return x.charAt(0)==="."?r.toLowerCase().endsWith(x):x.endsWith("/*")?a===x.replace(/\/.*$/,""):i===x})}return!0};function n3(e){return CB(e)||bB(e)||GN(e)||wB()}function wB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CB(e){if(Array.isArray(e))return Ix(e)}function r3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(n),!0).forEach(function(r){$N(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hd(e,t){return _B(e)||NB(e,t)||GN(e,t)||EB()}function EB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GN(e,t){if(e){if(typeof e=="string")return Ix(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ix(e,t)}}function Ix(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,d,x;try{for(n=n.call(e);!(i=(d=n.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(g){a=!0,x=g}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw x}}return r}}function _B(e){if(Array.isArray(e))return e}var SB=typeof am=="function"?am:am.default,AB="file-invalid-type",kB="file-too-large",TB="file-too-small",jB="too-many-files",DB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:AB,message:"File type must be ".concat(r)}},i3=function(t){return{code:kB,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},a3=function(t){return{code:TB,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},IB={code:jB,message:"Too many files"};function XN(e,t){var n=e.type==="application/x-moz-file"||SB(e,t);return[n,n?null:DB(t)]}function QN(e,t,n){if(Yo(e.size))if(Yo(t)&&Yo(n)){if(e.size>n)return[!1,i3(n)];if(e.size<t)return[!1,a3(t)]}else{if(Yo(t)&&e.size<t)return[!1,a3(t)];if(Yo(n)&&e.size>n)return[!1,i3(n)]}return[!0,null]}function Yo(e){return e!=null}function RB(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,d=e.maxFiles,x=e.validator;return!a&&t.length>1||a&&d>=1&&t.length>d?!1:t.every(function(g){var v=XN(g,n),w=hd(v,1),E=w[0],_=QN(g,r,i),k=hd(_,1),A=k[0],I=x?x(g):null;return E&&A&&!I})}function wh(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Zf(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function o3(e){e.preventDefault()}function OB(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function MB(e){return e.indexOf("Edge/")!==-1}function LB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return OB(e)||MB(e)}function Ci(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),d=1;d<i;d++)a[d-1]=arguments[d];return t.some(function(x){return!wh(r)&&x&&x.apply(void 0,[r].concat(a)),wh(r)})}}function PB(){return"showOpenFilePicker"in window}function FB(e){if(Yo(e)){var t=Object.entries(e).filter(function(n){var r=hd(n,2),i=r[0],a=r[1],d=!0;return KN(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(a)||!a.every(ZN))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(n,r){var i=hd(r,2),a=i[0],d=i[1];return s3(s3({},n),{},$N({},a,d))},{});return[{description:"Files",accept:t}]}return e}function BB(e){if(Yo(e))return Object.entries(e).reduce(function(t,n){var r=hd(n,2),i=r[0],a=r[1];return[].concat(n3(t),[i],n3(a))},[]).filter(function(t){return KN(t)||ZN(t)}).join(",")}function UB(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function zB(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function KN(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function ZN(e){return/^.*\.[\w]+$/.test(e)}var WB=["children"],HB=["open"],qB=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],VB=["refKey","onChange","onClick"];function YB(e){return XB(e)||GB(e)||JN(e)||$B()}function $B(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XB(e){if(Array.isArray(e))return Rx(e)}function om(e,t){return ZB(e)||KB(e,t)||JN(e,t)||QB()}function QB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JN(e,t){if(e){if(typeof e=="string")return Rx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rx(e,t)}}function Rx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,d,x;try{for(n=n.call(e);!(i=(d=n.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(g){a=!0,x=g}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw x}}return r}}function ZB(e){if(Array.isArray(e))return e}function l3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(n),!0).forEach(function(r){Ox(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ox(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bh(e,t){if(e==null)return{};var n=JB(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var w2=M.forwardRef(function(e,t){var n=e.children,r=bh(e,WB),i=Ad(r),a=i.open,d=bh(i,HB);return M.useImperativeHandle(t,function(){return{open:a}},[a]),fe.createElement(M.Fragment,null,n(Sn(Sn({},d),{},{open:a})))});w2.displayName="Dropzone";var e5={disabled:!1,getFilesFromEvent:dB,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};w2.defaultProps=e5;w2.propTypes={children:se.func,accept:se.objectOf(se.arrayOf(se.string)),multiple:se.bool,preventDropOnDocument:se.bool,noClick:se.bool,noKeyboard:se.bool,noDrag:se.bool,noDragEventsBubbling:se.bool,minSize:se.number,maxSize:se.number,maxFiles:se.number,disabled:se.bool,getFilesFromEvent:se.func,onFileDialogCancel:se.func,onFileDialogOpen:se.func,useFsAccessApi:se.bool,autoFocus:se.bool,onDragEnter:se.func,onDragLeave:se.func,onDragOver:se.func,onDrop:se.func,onDropAccepted:se.func,onDropRejected:se.func,onError:se.func,validator:se.func};var Mx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Ad(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Sn(Sn({},e5),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,a=t.maxSize,d=t.minSize,x=t.multiple,g=t.maxFiles,v=t.onDragEnter,w=t.onDragLeave,E=t.onDragOver,_=t.onDrop,k=t.onDropAccepted,A=t.onDropRejected,I=t.onFileDialogCancel,L=t.onFileDialogOpen,D=t.useFsAccessApi,j=t.autoFocus,O=t.preventDropOnDocument,W=t.noClick,Z=t.noKeyboard,B=t.noDrag,R=t.noDragEventsBubbling,V=t.onError,Y=t.validator,ee=M.useMemo(function(){return BB(n)},[n]),de=M.useMemo(function(){return FB(n)},[n]),ie=M.useMemo(function(){return typeof L=="function"?L:c3},[L]),ce=M.useMemo(function(){return typeof I=="function"?I:c3},[I]),Te=M.useRef(null),re=M.useRef(null),_e=M.useReducer(eU,Mx),ve=om(_e,2),ue=ve[0],ge=ve[1],Re=ue.isFocused,qe=ue.isFileDialogActive,tt=M.useRef(typeof window<"u"&&window.isSecureContext&&D&&PB()),Ae=function(){!tt.current&&qe&&setTimeout(function(){if(re.current){var Je=re.current.files;Je.length||(ge({type:"closeDialog"}),ce())}},300)};M.useEffect(function(){return window.addEventListener("focus",Ae,!1),function(){window.removeEventListener("focus",Ae,!1)}},[re,qe,ce,tt]);var Ge=M.useRef([]),st=function(Je){Te.current&&Te.current.contains(Je.target)||(Je.preventDefault(),Ge.current=[])};M.useEffect(function(){return O&&(document.addEventListener("dragover",o3,!1),document.addEventListener("drop",st,!1)),function(){O&&(document.removeEventListener("dragover",o3),document.removeEventListener("drop",st))}},[Te,O]),M.useEffect(function(){return!r&&j&&Te.current&&Te.current.focus(),function(){}},[Te,j,r]);var oe=M.useCallback(function(Oe){V?V(Oe):console.error(Oe)},[V]),ft=M.useCallback(function(Oe){Oe.preventDefault(),Oe.persist(),Me(Oe),Ge.current=[].concat(YB(Ge.current),[Oe.target]),Zf(Oe)&&Promise.resolve(i(Oe)).then(function(Je){if(!(wh(Oe)&&!R)){var Rt=Je.length,sn=Rt>0&&RB({files:Je,accept:ee,minSize:d,maxSize:a,multiple:x,maxFiles:g,validator:Y}),Xt=Rt>0&&!sn;ge({isDragAccept:sn,isDragReject:Xt,isDragActive:!0,type:"setDraggedFiles"}),v&&v(Oe)}}).catch(function(Je){return oe(Je)})},[i,v,oe,R,ee,d,a,x,g,Y]),it=M.useCallback(function(Oe){Oe.preventDefault(),Oe.persist(),Me(Oe);var Je=Zf(Oe);if(Je&&Oe.dataTransfer)try{Oe.dataTransfer.dropEffect="copy"}catch{}return Je&&E&&E(Oe),!1},[E,R]),nn=M.useCallback(function(Oe){Oe.preventDefault(),Oe.persist(),Me(Oe);var Je=Ge.current.filter(function(sn){return Te.current&&Te.current.contains(sn)}),Rt=Je.indexOf(Oe.target);Rt!==-1&&Je.splice(Rt,1),Ge.current=Je,!(Je.length>0)&&(ge({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Zf(Oe)&&w&&w(Oe))},[Te,w,R]),dn=M.useCallback(function(Oe,Je){var Rt=[],sn=[];Oe.forEach(function(Xt){var fn=XN(Xt,ee),is=om(fn,2),Ss=is[0],Fi=is[1],rn=QN(Xt,d,a),Ie=om(rn,2),an=Ie[0],Tt=Ie[1],Vt=Y?Y(Xt):null;if(Ss&&an&&!Vt)Rt.push(Xt);else{var Qs=[Fi,Tt];Vt&&(Qs=Qs.concat(Vt)),sn.push({file:Xt,errors:Qs.filter(function(bo){return bo})})}}),(!x&&Rt.length>1||x&&g>=1&&Rt.length>g)&&(Rt.forEach(function(Xt){sn.push({file:Xt,errors:[IB]})}),Rt.splice(0)),ge({acceptedFiles:Rt,fileRejections:sn,isDragReject:sn.length>0,type:"setFiles"}),_&&_(Rt,sn,Je),sn.length>0&&A&&A(sn,Je),Rt.length>0&&k&&k(Rt,Je)},[ge,x,ee,d,a,g,_,k,A,Y]),qt=M.useCallback(function(Oe){Oe.preventDefault(),Oe.persist(),Me(Oe),Ge.current=[],Zf(Oe)&&Promise.resolve(i(Oe)).then(function(Je){wh(Oe)&&!R||dn(Je,Oe)}).catch(function(Je){return oe(Je)}),ge({type:"reset"})},[i,dn,oe,R]),Wt=M.useCallback(function(){if(tt.current){ge({type:"openDialog"}),ie();var Oe={multiple:x,types:de};window.showOpenFilePicker(Oe).then(function(Je){return i(Je)}).then(function(Je){dn(Je,null),ge({type:"closeDialog"})}).catch(function(Je){UB(Je)?(ce(Je),ge({type:"closeDialog"})):zB(Je)?(tt.current=!1,re.current?(re.current.value=null,re.current.click()):oe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):oe(Je)});return}re.current&&(ge({type:"openDialog"}),ie(),re.current.value=null,re.current.click())},[ge,ie,ce,D,dn,oe,de,x]),Ee=M.useCallback(function(Oe){!Te.current||!Te.current.isEqualNode(Oe.target)||(Oe.key===" "||Oe.key==="Enter"||Oe.keyCode===32||Oe.keyCode===13)&&(Oe.preventDefault(),Wt())},[Te,Wt]),Qe=M.useCallback(function(){ge({type:"focus"})},[]),It=M.useCallback(function(){ge({type:"blur"})},[]),we=M.useCallback(function(){W||(LB()?setTimeout(Wt,0):Wt())},[W,Wt]),Se=function(Je){return r?null:Je},Fe=function(Je){return Z?null:Se(Je)},Xe=function(Je){return B?null:Se(Je)},Me=function(Je){R&&Je.stopPropagation()},ke=M.useMemo(function(){return function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Je=Oe.refKey,Rt=Je===void 0?"ref":Je,sn=Oe.role,Xt=Oe.onKeyDown,fn=Oe.onFocus,is=Oe.onBlur,Ss=Oe.onClick,Fi=Oe.onDragEnter,rn=Oe.onDragOver,Ie=Oe.onDragLeave,an=Oe.onDrop,Tt=bh(Oe,qB);return Sn(Sn(Ox({onKeyDown:Fe(Ci(Xt,Ee)),onFocus:Fe(Ci(fn,Qe)),onBlur:Fe(Ci(is,It)),onClick:Se(Ci(Ss,we)),onDragEnter:Xe(Ci(Fi,ft)),onDragOver:Xe(Ci(rn,it)),onDragLeave:Xe(Ci(Ie,nn)),onDrop:Xe(Ci(an,qt)),role:typeof sn=="string"&&sn!==""?sn:"presentation"},Rt,Te),!r&&!Z?{tabIndex:0}:{}),Tt)}},[Te,Ee,Qe,It,we,ft,it,nn,qt,Z,B,r]),gn=M.useCallback(function(Oe){Oe.stopPropagation()},[]),Xn=M.useMemo(function(){return function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Je=Oe.refKey,Rt=Je===void 0?"ref":Je,sn=Oe.onChange,Xt=Oe.onClick,fn=bh(Oe,VB),is=Ox({accept:ee,multiple:x,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Se(Ci(sn,qt)),onClick:Se(Ci(Xt,gn)),tabIndex:-1},Rt,re);return Sn(Sn({},is),fn)}},[re,n,x,qt,r]);return Sn(Sn({},ue),{},{isFocused:Re&&!r,getRootProps:ke,getInputProps:Xn,rootRef:Te,inputRef:re,open:Se(Wt)})}function eU(e,t){switch(t.type){case"focus":return Sn(Sn({},e),{},{isFocused:!0});case"blur":return Sn(Sn({},e),{},{isFocused:!1});case"openDialog":return Sn(Sn({},Mx),{},{isFileDialogActive:!0});case"closeDialog":return Sn(Sn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Sn(Sn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Sn(Sn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Sn({},Mx);default:return e}}function c3(){}const tU=async(e="csv",t={})=>{try{const n={format:e};return Object.entries(t).forEach(([i,a])=>{i==="selectedIds"&&Array.isArray(a)&&a.length>0?n.selectedIds=JSON.stringify(a):n[i]=a}),console.log("Export params:",n),(await dt.get("/api/import-export/export",{params:n,responseType:"blob"})).data}catch(n){throw console.error("Error exporting equipment:",n),n}},nU=async(e,t={})=>{try{const n=new FormData;return n.append("file",e),Object.entries(t).forEach(([i,a])=>{n.append(i,a)}),(await dt.post("/api/import-export/import",n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error importing equipment:",n),n}},rU=(e,t)=>{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)},sU=({isOpen:e,onClose:t,filters:n={},selectedItems:r=[]})=>{const[i,a]=M.useState("export"),[d,x]=M.useState("csv"),[g,v]=M.useState(!1),[w,E]=M.useState(!1),[_,k]=M.useState(null),[A,I]=M.useState(!0),[L,D]=M.useState(null),[j,O]=M.useState(""),{user:W}=or(),Z=Gn(),B=W&&(W.role==="admin"||W.role==="advanced"),{getRootProps:R,getInputProps:V,isDragActive:Y}=Ad({onDrop:ie=>{ie.length>0&&(k(ie[0]),O(""))},accept:{"text/csv":[".csv"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/json":[".json"]},maxFiles:1}),ee=async()=>{try{E(!0),O("");const ie=new Date().toISOString().split("T")[0],ce={...n};g&&r.length>0&&(ce.selectedIds=r);const Te=await tU(d,ce);let re;const _e=g&&r.length>0?`equipment_selected_${r.length}_items_${ie}`:`equipment_export_${ie}`;switch(d){case"csv":re=`${_e}.csv`;break;case"xlsx":re=`${_e}.xlsx`;break;case"json":re=`${_e}.json`;break;default:re=_e}rU(Te,re),E(!1)}catch(ie){console.error("Export error:",ie),O("Failed to export data. Please try again."),E(!1)}},de=async()=>{if(!_){O("Please select a file to import");return}try{E(!0),O(""),D(null);const ie=await nU(_,{updateExisting:A});D(ie.results),Z.invalidateQueries(["equipment"]),E(!1),k(null),ie.results.errors.length===0&&setTimeout(()=>{t()},3e3)}catch(ie){console.error("Import error:",ie),O("Failed to import data. Please check your file and try again."),E(!1)}};return!e||!B?null:l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Import/Export Equipment"}),l.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"flex border-b",children:[l.jsx("button",{className:`px-4 py-2 ${i==="export"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("export"),children:"Export"}),l.jsx("button",{className:`px-4 py-2 ${i==="import"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("import"),children:"Import"})]}),l.jsx("div",{className:"p-4",children:i==="export"?l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Format"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"csv",checked:d==="csv",onChange:()=>x("csv")}),l.jsx("span",{className:"ml-2",children:"CSV"})]}),l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"xlsx",checked:d==="xlsx",onChange:()=>x("xlsx")}),l.jsx("span",{className:"ml-2",children:"Excel (XLSX)"})]}),l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"json",checked:d==="json",onChange:()=>x("json")}),l.jsx("span",{className:"ml-2",children:"JSON"})]})]})]}),r.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Scope"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:!g,onChange:()=>v(!1)}),l.jsx("span",{className:"ml-2",children:"All equipment (with filters)"})]}),l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:g,onChange:()=>v(!0)}),l.jsxs("span",{className:"ml-2",children:["Selected items only (",r.length,")"]})]})]})]}),l.jsx("div",{className:"mb-4",children:l.jsx("p",{className:"text-sm text-gray-600",children:g&&r.length>0?`This will export ${r.length} selected equipment items.`:"This will export all equipment data based on your current filters."})}),j&&l.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:j}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:t,disabled:w,className:"btn btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:ee,disabled:w,className:`btn ${w?"bg-blue-400":"btn-primary"}`,children:w?l.jsxs("div",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):"Export"})]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload File"}),l.jsxs("div",{...R(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${Y?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[l.jsx("input",{...V()}),_?l.jsxs("div",{children:[l.jsxs("p",{className:"text-green-600",children:["File selected: ",_.name]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(_.size/1024).toFixed(2)," KB"]})]}):Y?l.jsx("p",{className:"text-blue-500",children:"Drop the file here..."}):l.jsxs("div",{children:[l.jsx("p",{className:"mb-2",children:"Drag & drop a file here, or click to select a file"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Accepted file types: CSV, XLSX, JSON"})]})]})]}),l.jsx("div",{className:"mb-4",children:l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"checkbox",className:"form-checkbox",checked:A,onChange:ie=>I(ie.target.checked)}),l.jsx("span",{className:"ml-2",children:"Update existing equipment if found"})]})}),j&&l.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:j}),L&&l.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded",children:[l.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Import Results"}),l.jsxs("ul",{className:"text-sm text-green-700",children:[l.jsxs("li",{children:["Total records processed: ",L.total]}),l.jsxs("li",{children:["New records created: ",L.created]}),l.jsxs("li",{children:["Existing records updated: ",L.updated]}),l.jsxs("li",{children:["Errors: ",L.errors.length]})]}),L.errors.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("h4",{className:"font-medium text-red-800",children:"Errors:"}),l.jsx("ul",{className:"text-sm text-red-700 mt-1 max-h-32 overflow-y-auto",children:L.errors.map((ie,ce)=>l.jsxs("li",{children:[ie.record.serial_number||ie.record.id||`Row ${ce+1}`,": ",ie.error]},ce))})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:t,disabled:w,className:"btn btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:de,disabled:w||!_,className:`btn ${w?"bg-blue-400":"btn-primary"}`,children:w?l.jsxs("div",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):"Import"})]})]})})]})})},iU=()=>{var Xe;const e=Xs(),t=M.useRef(null),[n]=M.useState(20),[r,i]=M.useState({type:"",brand:"",status:"",location_id:"",search:""}),[a,d]=M.useState([]),[x,g]=M.useState(!1),[v,w]=M.useState("updated_at"),[E,_]=M.useState("desc"),[k,A]=M.useState("list"),[I,L]=M.useState(!1);M.useEffect(()=>{const Me=localStorage.getItem("equipmentViewMode");Me&&A(Me);const ke=localStorage.getItem("equipmentShowThumbnails");ke!==null&&L(ke==="true")},[]),M.useEffect(()=>{localStorage.setItem("equipmentViewMode",k)},[k]),M.useEffect(()=>{localStorage.setItem("equipmentShowThumbnails",I.toString())},[I]);const[D,j]=M.useState(!1),[O,W]=M.useState(!1),[Z,B]=M.useState(!1),[R,V]=M.useState(!1),[Y,ee]=M.useState(!1),[de,ie]=M.useState(!1),[ce,Te]=M.useState(!1),[re,_e]=M.useState(!1),[ve,ue]=M.useState(null);M.useEffect(()=>{const Me=Xn=>{const{id:Oe}=Xn.detail;ue(Oe),W(!0)},ke=Xn=>{const{id:Oe}=Xn.detail;ue(Oe),B(!0)},gn=Xn=>{const{id:Oe}=Xn.detail;ue(Oe),V(!0)};return document.addEventListener("batchDuplicate",Me),document.addEventListener("batchStatusUpdate",ke),document.addEventListener("batchLocationChange",gn),()=>{document.removeEventListener("batchDuplicate",Me),document.removeEventListener("batchStatusUpdate",ke),document.removeEventListener("batchLocationChange",gn)}},[]);const{data:ge,fetchNextPage:Re,hasNextPage:qe,isFetchingNextPage:tt,isLoading:Ae,isError:Ge,error:st}=Hg(["equipment",r,v,E],async({pageParam:Me=1})=>{const ke={page:Me,limit:n,...r,sortBy:v,sortOrder:E};return oa(ke)},{getNextPageParam:Me=>{if(Me.page<Me.totalPages)return Me.page+1},keepPreviousData:!0}),{data:oe}=vt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),{data:ft}=vt(["locations"],yo),it=(ge==null?void 0:ge.pages.flatMap(Me=>Me.equipment))||[];M.useEffect(()=>{const Me=new IntersectionObserver(ke=>{ke[0].isIntersecting&&qe&&!tt&&Re()},{threshold:.5});return t.current&&Me.observe(t.current),()=>{t.current&&Me.unobserve(t.current)}},[t,Re,qe,tt]);const nn=Me=>{ue(Me),j(!0)},dn=()=>{j(!1),ue(null)},qt=()=>{W(!1),ue(null)},Wt=Me=>{const{name:ke,value:gn}=Me.target;i(Xn=>({...Xn,[ke]:gn}))},Ee=Me=>{Me.preventDefault()},Qe=Me=>{v===Me?_(ke=>ke==="asc"?"desc":"asc"):(w(Me),_("desc"))},It=Me=>{d(ke=>ke.includes(Me)?ke.filter(gn=>gn!==Me):[...ke,Me])},we=()=>{if(x)d([]);else{const Me=it.map(ke=>ke.id);d(Me)}g(!x)},Se=()=>{d([]),g(!1)},Fe=(Me,ke)=>{ke.target.type==="checkbox"||ke.target.closest("button")||ke.target.closest("a")||ke.target.closest(".btn-icon")||e(`/equipment/${Me}`)};return Ae?l.jsx("div",{className:"text-center py-10",children:"Loading..."}):Ge?l.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",st.message||"Failed to load equipment"]}):l.jsxs("div",{className:"space-y-6",children:[l.jsx(aB,{isOpen:D,onClose:dn,equipmentId:ve}),l.jsx(oB,{isOpen:O,onClose:qt,equipmentId:ve,selectedItems:a}),l.jsx(FN,{isOpen:Z,onClose:()=>B(!1),equipmentId:ve,selectedItems:a}),l.jsx(BN,{isOpen:R,onClose:()=>V(!1),equipmentId:ve,selectedItems:a}),l.jsx(UN,{isOpen:Y,onClose:()=>ee(!1),selectedItems:a}),l.jsx(zN,{isOpen:de,onClose:()=>ie(!1),selectedItems:a}),l.jsx(WN,{isOpen:ce,onClose:()=>Te(!1),selectedItems:a}),l.jsx(sU,{isOpen:re,onClose:()=>_e(!1),filters:r,selectedItems:a}),l.jsx("div",{className:"card",children:l.jsxs("form",{onSubmit:Ee,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),l.jsxs("div",{className:"input-group",children:[l.jsx(Zg,{className:"input-icon w-4 h-4"}),l.jsx("input",{type:"text",id:"search",name:"search",value:r.search,onChange:Wt,placeholder:"Search equipment...",className:"input input-with-icon"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"type",className:"label",children:"Type"}),l.jsxs("select",{id:"type",name:"type",value:r.type,onChange:Wt,className:"input",children:[l.jsx("option",{value:"",children:"All Types"}),oe!=null&&oe.types&&oe.types.length>0?oe.types.map(Me=>l.jsx("option",{value:Me.name.toLowerCase(),children:Me.name},Me.id)):l.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"status",className:"label",children:"Status"}),l.jsxs("select",{id:"status",name:"status",value:r.status,onChange:Wt,className:"input",children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"available",children:"Available"}),l.jsx("option",{value:"in-use",children:"In Use"}),l.jsx("option",{value:"maintenance",children:"Maintenance"}),l.jsx("option",{value:"unavailable",children:"Unavailable"}),l.jsx("option",{value:"broken",children:"Broken"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),l.jsxs("select",{id:"location_id",name:"location_id",value:r.location_id,onChange:Wt,className:"input",children:[l.jsx("option",{value:"",children:"All Locations"}),(Xe=ft==null?void 0:ft.locations)==null?void 0:Xe.map(Me=>l.jsx("option",{value:Me.id.toString(),children:Me.name},Me.id))]})]}),l.jsx("div",{className:"flex items-end",children:l.jsx("button",{type:"button",onClick:()=>{i({type:"",brand:"",status:"",location_id:"",search:""})},className:"btn btn-outline w-full",children:"Clear All Filters"})}),l.jsx("div",{className:"flex items-end",children:l.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[l.jsx(Jg,{className:"w-4 h-4"}),l.jsx("span",{children:"Apply Filters"})]})})]})}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"flex flex-col space-y-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mr-4",children:"Equipment List"}),l.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden mr-2",children:[l.jsx("button",{onClick:()=>A("list"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="list"?"bg-white text-primary-600 border-r border-slate-200 hover:bg-primary-50":"bg-white text-slate-600 border-r border-slate-200 hover:bg-slate-50"}`,title:"List view",children:l.jsx(tp,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>A("card"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="card"?"bg-white text-primary-600 hover:bg-primary-50":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:l.jsx(np,{className:"h-4 w-4"})})]}),a.length>0&&l.jsx("div",{className:"ml-2",children:l.jsx(HN,{selectedItems:a,onBatchDuplicate:()=>W(!0),onBatchStatusUpdate:()=>B(!0),onBatchLocationChange:()=>V(!0),onBatchTypeChange:()=>ee(!0),onBatchCategoryChange:()=>ie(!0),onBatchBrandModelChange:()=>Te(!0),onClearSelection:Se})})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>_e(!0),className:"btn btn-secondary btn-sm",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(dO,{className:"w-4 h-4 mr-1"}),l.jsx(fO,{className:"w-4 h-4 mr-1"}),l.jsx("span",{children:"Import/Export"})]})}),l.jsxs(qn,{to:"/equipment/new",className:"btn btn-primary btn-sm",children:[l.jsx(BE,{className:"w-4 h-4"}),l.jsx("span",{children:"Add New Equipment"})]})]})]})}),k==="card"&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:it.length>0?it.map(Me=>l.jsx(qN,{equipment:Me,onDuplicate:nn,onSelect:It,isSelected:a.includes(Me.id)},Me.id)):l.jsx("div",{className:"col-span-3 py-8 text-center text-gray-500",children:"No equipment found"})}),k==="list"&&l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell w-10",children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("input",{type:"checkbox",checked:x,onChange:we,className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),l.jsx(za,{field:"type",label:"Type",currentSortField:v,currentSortOrder:E,onSort:Qe}),l.jsx(za,{field:"category",label:"Category",currentSortField:v,currentSortOrder:E,onSort:Qe}),l.jsx(za,{field:"brand",label:"Brand",currentSortField:v,currentSortOrder:E,onSort:Qe}),l.jsx(za,{field:"model",label:"Model",currentSortField:v,currentSortOrder:E,onSort:Qe}),l.jsx(za,{field:"serial_number",label:"Serial Number",currentSortField:v,currentSortOrder:E,onSort:Qe}),l.jsx(za,{field:"status",label:"Status",currentSortField:v,currentSortOrder:E,onSort:Qe}),l.jsx(za,{field:"location",label:"Location",currentSortField:v,currentSortOrder:E,onSort:Qe}),l.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),l.jsx("tbody",{className:"table-body",children:it.length>0?it.map(Me=>{var ke;return l.jsxs("tr",{className:`table-row ${a.includes(Me.id)?"bg-blue-50":""} cursor-pointer hover:bg-slate-50`,onClick:gn=>Fe(Me.id,gn),children:[l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("input",{type:"checkbox",checked:a.includes(Me.id),onChange:()=>It(Me.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),l.jsx("td",{className:"table-cell",children:Me.type}),l.jsx("td",{className:"table-cell",children:Me.category||"-"}),l.jsx("td",{className:"table-cell",children:Me.brand}),l.jsx("td",{className:"table-cell",children:Me.model}),l.jsx("td",{className:"table-cell",children:Me.serial_number}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:`badge ${Me.status==="available"?"badge-success":Me.status==="in-use"?"badge-info":Me.status==="maintenance"?"badge-warning":Me.status==="unavailable"?"badge-secondary":Me.status==="broken"?"badge-danger":"badge-secondary"}`,children:Me.status})}),l.jsx("td",{className:"table-cell",children:((ke=Me.locationDetails)==null?void 0:ke.name)||Me.location||"-"}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"flex items-center justify-end",children:l.jsx(y2,{equipmentId:Me.id,onBatchDuplicate:()=>{ue(Me.id),W(!0)},onBatchStatusUpdate:()=>{ue(Me.id),B(!0)},onBatchLocationChange:()=>{ue(Me.id),V(!0)}})})})]},Me.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"8",className:"px-6 py-4 text-center text-gray-500",children:"No equipment found"})})})]})}),l.jsx("div",{ref:t,className:"py-4 text-center",children:tt?l.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),l.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):qe?l.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):l.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})]})},aU=async({page:e=1,limit:t=20,equipmentId:n,userId:r,actionType:i,search:a,type:d,status:x,location_id:g,sortBy:v="created_at",sortOrder:w="desc"})=>{const E={page:e,limit:t};return n&&(E.equipmentId=n),r&&(E.userId=r),i&&(E.actionType=i),a&&(E.search=a),d&&(E.type=d),x&&(E.status=x),g&&(E.location_id=g),v&&(E.sortBy=v),w&&(E.sortOrder=w),(await dt.get("/api/equipment-logs",{params:E})).data},oU=async(e,{page:t=1,limit:n=20}={})=>{const r={page:t,limit:n};return(await dt.get(`/api/equipment-logs/equipment/${e}`,{params:r})).data},t5=({equipmentId:e})=>{var w;const[t,n]=M.useState(1),[r]=M.useState(10),{data:i,isLoading:a,isError:d,error:x}=vt(["equipmentLogs",e,t,r],()=>oU(e,{page:t,limit:r}),{keepPreviousData:!0,enabled:!!e}),g=E=>E.split("_").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" "),v=E=>{n(E)};return a?l.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[l.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{className:"text-slate-600",children:"Loading movement history..."})]}):d?l.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full mb-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("p",{className:"text-red-600 font-medium mb-1",children:"Error Loading Movement History"}),l.jsx("p",{className:"text-slate-500 text-sm",children:x.message||"Failed to load equipment logs"})]}):(w=i==null?void 0:i.logs)!=null&&w.length?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Date"]})}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"User"]})}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Action"]})}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Details"]})})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:i.logs.map((E,_)=>{var k,A,I;return l.jsxs("tr",{className:`hover:bg-slate-50 ${_%2===0?"bg-white":"bg-slate-50/50"}`,children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"font-medium",children:ud(new Date(E.created_at),"MMM d, yyyy")}),l.jsx("span",{className:"ml-2 text-slate-500",children:ud(new Date(E.created_at),"h:mm a")})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 font-medium",children:(k=E.user)!=null&&k.username?E.user.username.charAt(0).toUpperCase():"?"}),l.jsxs("div",{className:"ml-3",children:[l.jsx("div",{className:"text-sm font-medium text-slate-800",children:((A=E.user)==null?void 0:A.username)||"Unknown"}),l.jsx("div",{className:"text-xs text-slate-500 capitalize",children:((I=E.user)==null?void 0:I.role)||""})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("span",{className:`px-2.5 py-1.5 inline-flex text-xs leading-5 font-semibold rounded-full
                    ${E.action_type==="created"?"bg-green-100 text-green-800":E.action_type==="updated"?"bg-blue-100 text-blue-800":E.action_type==="deleted"?"bg-red-100 text-red-800":E.action_type==="status_change"?"bg-yellow-100 text-yellow-800":E.action_type==="location_change"?"bg-indigo-100 text-indigo-800":"bg-slate-100 text-slate-800"}`,children:[E.action_type==="created"&&l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),E.action_type==="updated"&&l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),E.action_type==="deleted"&&l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),E.action_type==="status_change"&&l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),E.action_type==="location_change"&&l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),g(E.action_type)]})}),l.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[E.action_type==="status_change"&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"font-medium text-slate-700",children:"Status:"}),l.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:E.previous_status}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),l.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:E.new_status})]}),E.action_type==="location_change"&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"font-medium text-slate-700",children:"Location:"}),l.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:E.previous_location||"None"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),l.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:E.new_location||"None"})]}),E.details&&l.jsx("div",{className:"mt-2 text-slate-600",children:E.details})]})]},E.id)})})]})}),i.totalPages>1&&l.jsxs("div",{className:"flex justify-between items-center mt-4 px-2",children:[l.jsxs("div",{className:"text-sm text-slate-600 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Showing ",l.jsx("span",{className:"font-medium text-slate-800 mx-1",children:(t-1)*r+1})," to"," ",l.jsx("span",{className:"font-medium text-slate-800 mx-1",children:Math.min(t*r,i.total)})," of"," ",l.jsx("span",{className:"font-medium text-slate-800 mx-1",children:i.total})," logs"]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>v(t-1),disabled:t===1,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${t===1?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-1 ${t===1?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),l.jsxs("button",{onClick:()=>v(t+1),disabled:t===i.totalPages,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${t===i.totalPages?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:["Next",l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ml-1 ${t===i.totalPages?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}):l.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[l.jsx("div",{className:"bg-slate-100 p-3 rounded-full mb-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("p",{className:"text-slate-600 font-medium",children:"No movement history found"}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"This equipment has no recorded movements or status changes"})]})},n5=({isOpen:e,title:t="Confirm Action",message:n="Are you sure you want to proceed?",confirmText:r="Confirm",cancelText:i="Cancel",onConfirm:a,onCancel:d,isDestructive:x=!1})=>e?l.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-soft max-w-md w-full p-6 animate-fade-in",children:[l.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:t}),l.jsx("p",{className:"text-slate-600 mb-6",children:n}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx(Be,{variant:"secondary",onClick:d,children:i}),l.jsx(Be,{variant:x?"danger":"primary",onClick:a,children:r})]})]})}):null;n5.propTypes={isOpen:se.bool.isRequired,title:se.string,message:se.string,confirmText:se.string,cancelText:se.string,onConfirm:se.func.isRequired,onCancel:se.func.isRequired,isDestructive:se.bool};const b2=({onImageSelect:e,existingImage:t=null,onImageDelete:n})=>{const[r,i]=M.useState(null),[a,d]=M.useState(null);M.useEffect(()=>{d(t?`/api/files/${t.id}?thumbnail=true`:null)},[t]),M.useEffect(()=>()=>{a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a)},[a]);const x=M.useCallback(k=>{if(k.length>0){const A=k[0];if(A.size>10*1024*1024){alert("Image is too large. Maximum size is 10MB.");return}i(A),d(URL.createObjectURL(A)),e(A)}},[e]),g=()=>{i(null),a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a),d(null),e(null)},v=()=>{n&&t&&(n(t.id),d(null))},{getRootProps:w,getInputProps:E,isDragActive:_}=Ad({onDrop:x,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},maxFiles:1,multiple:!1});return l.jsx("div",{children:a?l.jsx("div",{className:"mt-4",children:l.jsxs("div",{className:"bg-slate-50 p-4 rounded-md border border-slate-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),l.jsx("span",{className:"text-sm font-medium",children:t?t.file_name:(r==null?void 0:r.name)||"Reference Image"})]}),l.jsx("button",{type:"button",onClick:t?v:g,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),l.jsx("div",{className:"mt-2 flex justify-center",style:{height:"200px"},children:l.jsx("div",{className:"relative w-full h-full flex items-center justify-center overflow-hidden bg-slate-100 rounded-md",children:l.jsx("img",{src:a,alt:"Reference Image Preview",className:"rounded-md max-h-full max-w-full",style:{objectFit:"contain",objectPosition:"center"},onError:k=>{console.error("Error loading image:",k),k.target.src="/placeholder-image.png",k.target.onerror=null}})})})]})}):l.jsxs("div",{...w(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${_?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[l.jsx("input",{...E()}),_?l.jsx("p",{className:"text-primary-500",children:"Drop the image here..."}):l.jsxs("div",{children:[l.jsx("p",{className:"mb-2",children:"Drag & drop a reference image here, or click to select"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Accepted file types: JPEG, PNG (Max: 10MB)"})]})]})})};b2.propTypes={onImageSelect:se.func.isRequired,existingImage:se.object,onImageDelete:se.func};const C2=({isOpen:e,onClose:t,equipmentId:n,existingImage:r=null})=>{const[i,a]=M.useState(null),[d,x]=M.useState(!1),[g,v]=M.useState(""),w=Gn(),E=I=>{a(I)},_=jn({mutationFn:async I=>LE(n,{},[],[],I.referenceImageFile,I.removeReferenceImage),onSuccess:()=>{w.invalidateQueries(["equipment",n]),t()},onError:I=>{var L,D;console.error("Error updating reference image:",I),v(((D=(L=I.response)==null?void 0:L.data)==null?void 0:D.message)||"Failed to update reference image"),x(!1)}}),k=I=>{if(I.preventDefault(),!i){v("Please select an image file");return}x(!0),v(""),_.mutate({referenceImageFile:i})},A=()=>{x(!0),v(""),_.mutate({referenceImageFile:null,removeReferenceImage:!0})};return e?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:l.jsx("div",{className:"absolute inset-0 bg-slate-500 opacity-75"})}),l.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),l.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:l.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:l.jsx("div",{className:"sm:flex sm:items-start",children:l.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[l.jsxs("h3",{className:"text-lg leading-6 font-medium text-slate-900 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Change Reference Image"]}),l.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"This image will be displayed prominently on the equipment details page and in search results."}),l.jsxs("div",{className:"mt-4",children:[g&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:l.jsx("p",{className:"text-red-700",children:g})}),l.jsxs("form",{onSubmit:k,children:[l.jsx("div",{className:"mb-4",children:l.jsx(b2,{onImageSelect:E,existingImage:r})}),l.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[l.jsx(Be,{type:"submit",variant:"primary",disabled:d||!i,className:"w-full sm:ml-3 sm:w-auto",children:d?"Saving...":"Save Changes"}),l.jsx(Be,{type:"button",variant:"secondary",onClick:t,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"}),r&&l.jsx(Be,{type:"button",variant:"danger",onClick:A,className:"mt-3 w-full sm:mt-0 sm:mr-auto sm:w-auto",children:"Remove Image"})]})]})]})]})})})})]})}):null};C2.propTypes={isOpen:se.bool.isRequired,onClose:se.func.isRequired,equipmentId:se.string.isRequired,existingImage:se.object};const Lx=({fileType:e,fileUrl:t,fileName:n,className:r="",style:i={},showFileName:a=!0,size:d="medium",interactive:x=!0,useThumbnail:g=!0})=>{const[v,w]=M.useState(!0),[E,_]=M.useState(null),[k,A]=M.useState(!1),I=()=>{switch(d){case"small":return"h-24";case"large":return"h-48";case"medium":default:return"h-32"}},L=()=>{console.log("Image loaded successfully"),w(!1)},D=()=>{console.error("Image failed to load completely"),w(!1),_("Failed to load image")};M.useEffect(()=>{if(v&&e==="image"){const Z=setTimeout(()=>{console.log("Loading timeout reached, resetting loading state"),w(!1)},5e3);return()=>clearTimeout(Z)}},[v,e]),M.useEffect(()=>{!t&&e==="image"&&(console.log("No file URL provided, showing error state"),w(!1),_("No image available"))},[t,e]);const j=()=>{x&&e==="image"&&A(!k)},O=()=>{switch(e){case"image":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"pdf":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},W=()=>{if(v&&e==="image")return l.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{className:"text-slate-400 text-xs",children:"Loading..."})]})});if(E)return l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-red-50",children:l.jsxs("div",{className:"flex flex-col items-center p-2",children:[l.jsx("svg",{className:"w-8 h-8 text-red-500 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),l.jsx("span",{className:"text-red-500 text-xs text-center",children:E})]})});switch(e){case"image":if(!t)return console.error("No file URL provided for image"),l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-100",children:l.jsxs("div",{className:"flex flex-col items-center p-2",children:[l.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),l.jsx("span",{className:"text-slate-400 text-xs text-center",children:"No image"})]})});const Z=new Date().getTime();let B=t;return B.includes("t=")||(B+=(B.includes("?")?"&":"?")+`t=${Z}`),l.jsx("div",{className:`w-full h-full flex items-center justify-center overflow-hidden ${x?"cursor-pointer":""}`,onClick:j,children:l.jsx("img",{src:B,alt:n||"Image preview",className:`max-h-full max-w-full object-contain transition-transform duration-300 ${k?"scale-150":""}`,onLoad:R=>{console.log("Image loaded successfully:",B),L()},onError:R=>{console.error("Image failed to load:",B);const V=R.target;if(t.includes("thumbnail=true")){console.log("Thumbnail failed to load, trying original image");const ee=`${t.split("?")[0]}?t=${new Date().getTime()}`;console.log("Trying with URL:",ee),V.src=ee}else{console.log("Original image failed to load, trying with new cache busting");const Y=t.includes("?")?`${t.split("?")[0]}?t=${new Date().getTime()}`:`${t}?t=${new Date().getTime()}`;console.log("Trying with URL:",Y),V.src=Y,V.dataset.retried?(console.error("Multiple load attempts failed, showing error"),D()):V.dataset.retried="true"}}},`img-${B}`)});case"audio":return l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:[l.jsx("div",{className:"mb-2",children:O()}),x?l.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[l.jsx("source",{src:t,type:"audio/mpeg"}),"Your browser does not support the audio element."]}):l.jsx("div",{className:"text-sm text-slate-500",children:"Audio file"})]});case"pdf":return l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[l.jsx("div",{className:"mb-2",children:O()}),x?l.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800 text-sm underline",children:"View PDF"}):l.jsx("div",{className:"text-sm text-slate-500",children:"PDF document"})]});default:return l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:O()})}};return l.jsxs("div",{className:`bg-slate-100 rounded-md overflow-hidden ${I()} ${r}`,style:i,children:[W(),a&&n&&l.jsx("div",{className:"bg-slate-800 bg-opacity-70 text-white text-xs py-1 px-2 absolute bottom-0 left-0 right-0 truncate",children:n})]})};Lx.propTypes={fileType:se.oneOf(["image","audio","pdf"]).isRequired,fileUrl:se.string.isRequired,fileName:se.string,className:se.string,style:se.object,showFileName:se.bool,size:se.oneOf(["small","medium","large"]),interactive:se.bool,useThumbnail:se.bool};const E2=({files:e=[],onFileDelete:t,canDelete:n=!1,showDownload:r=!0,layout:i="grid",size:a="medium"})=>{const[d,x]=M.useState(null),g=A=>{x(A)},v=()=>{x(null)},w=(A,I=!1,L=!1)=>{let D=`/api/files/${A}`;const j=[];return I&&j.push("download=true"),L&&j.push("thumbnail=true"),j.length>0&&(D+=`?${j.join("&")}`),D},E=()=>d?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:v,children:l.jsxs("div",{className:"bg-white rounded-lg overflow-hidden max-w-3xl w-full max-h-[90vh] flex flex-col",onClick:A=>A.stopPropagation(),children:[l.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium text-slate-900",children:d.file_name}),l.jsx("button",{type:"button",onClick:v,className:"text-slate-400 hover:text-slate-500",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center",children:d.file_type==="image"?l.jsx("img",{src:w(d.id),alt:d.file_name,className:"max-w-full max-h-[70vh] object-contain",onError:A=>{console.error("Error loading image in modal:",A),A.target.src=`${w(d.id)}?t=${new Date().getTime()}`}}):d.file_type==="audio"?l.jsxs("div",{className:"w-full max-w-md p-4",children:[l.jsx("div",{className:"mb-4 text-center",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})})}),l.jsxs("audio",{controls:!0,className:"w-full",children:[l.jsx("source",{src:w(d.id),type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):d.file_type==="pdf"?l.jsx("div",{className:"w-full h-[70vh]",children:l.jsx("iframe",{src:`${w(d.id)}#view=FitH`,title:d.file_name,className:"w-full h-full"})}):l.jsx("div",{className:"text-center p-4",children:l.jsx("p",{children:"This file type cannot be previewed."})})}),l.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end space-x-2",children:[l.jsx("a",{href:w(d.id,!0),download:!0,className:"btn btn-secondary",children:"Download"}),n&&l.jsx("button",{type:"button",onClick:()=>{t(d.id),v()},className:"btn btn-danger",children:"Delete"})]})]})}):null,_=()=>l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(A=>l.jsxs("div",{className:"relative group",children:[l.jsxs("div",{className:"cursor-pointer rounded-lg overflow-hidden border border-slate-200 bg-white shadow-sm hover:shadow-md transition-shadow",onClick:()=>g(A),children:[l.jsx(Lx,{fileType:A.file_type,fileUrl:w(A.id,!1,A.file_type==="image"),fileName:A.file_name,size:a,interactive:!1,useThumbnail:A.file_type==="image"}),l.jsxs("div",{className:"p-2",children:[l.jsx("p",{className:"text-sm font-medium truncate",title:A.file_name,children:A.file_name}),l.jsx("p",{className:"text-xs text-slate-500 capitalize",children:A.file_type})]})]}),l.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[r&&l.jsx("a",{href:w(A.id,!0),download:!0,onClick:I=>I.stopPropagation(),className:"bg-white p-1.5 rounded-full shadow-md text-primary-600 hover:text-primary-800",title:"Download file",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),n&&l.jsx("button",{type:"button",onClick:I=>{I.stopPropagation(),t(A.id)},className:"bg-white p-1.5 rounded-full shadow-md text-red-600 hover:text-red-800",title:"Delete file",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},A.id))}),k=()=>l.jsx("div",{className:"divide-y divide-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:e.map(A=>l.jsxs("div",{className:"flex items-center p-3 hover:bg-slate-50 cursor-pointer",onClick:()=>g(A),children:[l.jsx("div",{className:"flex-shrink-0 mr-3 w-12 h-12 relative",children:l.jsx(Lx,{fileType:A.file_type,fileUrl:w(A.id,!1,A.file_type==="image"),fileName:A.file_name,size:"small",showFileName:!1,interactive:!1,useThumbnail:A.file_type==="image"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",title:A.file_name,children:A.file_name}),l.jsx("p",{className:"text-xs text-slate-500 capitalize",children:A.file_type})]}),l.jsxs("div",{className:"flex space-x-2 ml-2",children:[r&&l.jsx("a",{href:w(A.id,!0),download:!0,onClick:I=>I.stopPropagation(),className:"text-primary-600 hover:text-primary-800 p-1.5",title:"Download file",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),n&&l.jsx("button",{type:"button",onClick:I=>{I.stopPropagation(),t(A.id)},className:"text-red-600 hover:text-red-800 p-1.5",title:"Delete file",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},A.id))});return e.length===0?l.jsx("p",{className:"text-slate-500 italic",children:"No files available"}):l.jsxs("div",{children:[i==="grid"?_():k(),E()]})};E2.propTypes={files:se.arrayOf(se.shape({id:se.number.isRequired,file_type:se.string.isRequired,file_name:se.string.isRequired})).isRequired,onFileDelete:se.func,canDelete:se.bool,showDownload:se.bool,layout:se.oneOf(["grid","list"]),size:se.oneOf(["small","medium","large"])};const lU=async(e,t,n)=>{try{const r=new FormData;for(const a of t)r.append("files",a);return(await dt.post(`/api/files/upload/${e}`,r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n?a=>{const d=Math.round(a.loaded*100/a.total);n(d)}:void 0})).data}catch(r){throw console.error("Error uploading files:",r),r}};let cU={data:""},uU=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||cU,dU=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fU=/\/\*[^]*?\*\/|  +/g,u3=/\n+/g,$a=(e,t)=>{let n="",r="",i="";for(let a in e){let d=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+d+";":r+=a[1]=="f"?$a(d,a):a+"{"+$a(d,a[1]=="k"?"":t)+"}":typeof d=="object"?r+=$a(d,t?t.replace(/([^,])+/g,x=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,x):x?x+" "+g:g)):a):d!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=$a.p?$a.p(a,d):a+":"+d+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ta={},r5=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+r5(e[n]);return t}return e},hU=(e,t,n,r,i)=>{let a=r5(e),d=ta[a]||(ta[a]=(g=>{let v=0,w=11;for(;v<g.length;)w=101*w+g.charCodeAt(v++)>>>0;return"go"+w})(a));if(!ta[d]){let g=a!==e?e:(v=>{let w,E,_=[{}];for(;w=dU.exec(v.replace(fU,""));)w[4]?_.shift():w[3]?(E=w[3].replace(u3," ").trim(),_.unshift(_[0][E]=_[0][E]||{})):_[0][w[1]]=w[2].replace(u3," ").trim();return _[0]})(e);ta[d]=$a(i?{["@keyframes "+d]:g}:g,n?"":"."+d)}let x=n&&ta.g?ta.g:null;return n&&(ta.g=ta[d]),((g,v,w,E)=>{E?v.data=v.data.replace(E,g):v.data.indexOf(g)===-1&&(v.data=w?g+v.data:v.data+g)})(ta[d],t,r,x),d},pU=(e,t,n)=>e.reduce((r,i,a)=>{let d=t[a];if(d&&d.call){let x=d(n),g=x&&x.props&&x.props.className||/^go/.test(x)&&x;d=g?"."+g:x&&typeof x=="object"?x.props?"":$a(x,""):x===!1?"":x}return r+i+(d??"")},"");function fp(e){let t=this||{},n=e.call?e(t.p):e;return hU(n.unshift?n.raw?pU(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,uU(t.target),t.g,t.o,t.k)}let s5,Px,Fx;fp.bind({g:1});let ba=fp.bind({k:1});function mU(e,t,n,r){$a.p=t,s5=e,Px=n,Fx=r}function wo(e,t){let n=this||{};return function(){let r=arguments;function i(a,d){let x=Object.assign({},a),g=x.className||i.className;n.p=Object.assign({theme:Px&&Px()},x),n.o=/ *go\d+/.test(g),x.className=fp.apply(n,r)+(g?" "+g:""),t&&(x.ref=d);let v=e;return e[0]&&(v=x.as||e,delete x.as),Fx&&v[0]&&Fx(x),s5(v,x)}return t?t(i):i}}var xU=e=>typeof e=="function",Bx=(e,t)=>xU(e)?e(t):e,gU=(()=>{let e=0;return()=>(++e).toString()})(),vU=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),yU=20,i5=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,yU)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return i5(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},wU=[],lm={toasts:[],pausedAt:void 0},N2=e=>{lm=i5(lm,e),wU.forEach(t=>{t(lm)})},bU=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||gU()}),kd=e=>(t,n)=>{let r=bU(t,e,n);return N2({type:2,toast:r}),r.id},zr=(e,t)=>kd("blank")(e,t);zr.error=kd("error");zr.success=kd("success");zr.loading=kd("loading");zr.custom=kd("custom");zr.dismiss=e=>{N2({type:3,toastId:e})};zr.remove=e=>N2({type:4,toastId:e});zr.promise=(e,t,n)=>{let r=zr.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Bx(t.success,i):void 0;return a?zr.success(a,{id:r,...n,...n==null?void 0:n.success}):zr.dismiss(r),i}).catch(i=>{let a=t.error?Bx(t.error,i):void 0;a?zr.error(a,{id:r,...n,...n==null?void 0:n.error}):zr.dismiss(r)}),e};var CU=ba`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,EU=ba`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NU=ba`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_U=wo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${CU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${EU} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${NU} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,SU=ba`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,AU=wo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${SU} 1s linear infinite;
`,kU=ba`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,TU=ba`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jU=wo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${TU} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,DU=wo("div")`
  position: absolute;
`,IU=wo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,RU=ba`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,OU=wo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${RU} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,MU=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?M.createElement(OU,null,t):t:n==="blank"?null:M.createElement(IU,null,M.createElement(AU,{...r}),n!=="loading"&&M.createElement(DU,null,n==="error"?M.createElement(_U,{...r}):M.createElement(jU,{...r})))},LU=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,PU=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,FU="0%{opacity:0;} 100%{opacity:1;}",BU="0%{opacity:1;} 100%{opacity:0;}",UU=wo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,zU=wo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,WU=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=vU()?[FU,BU]:[LU(n),PU(n)];return{animation:t?`${ba(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ba(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};M.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?WU(e.position||t||"top-center",e.visible):{opacity:0},a=M.createElement(MU,{toast:e}),d=M.createElement(zU,{...e.ariaProps},Bx(e.message,e));return M.createElement(UU,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:d}):M.createElement(M.Fragment,null,a,d))});mU(M.createElement);fp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const _2=({equipmentId:e,isOpen:t,onClose:n,onSuccess:r})=>{const[i,a]=M.useState([]),[d,x]=M.useState(!1),[g,v]=M.useState(0),[w,E]=M.useState([]),_=50*1024*1024,k=5,A=M.useCallback((B,R)=>{a(Y=>[...Y,...B]);const V=R.map(Y=>Y.file.size>_?`${Y.file.name} is too large. Maximum file size is 50MB.`:`${Y.file.name} is not a supported file type.`);V.length>0&&E(Y=>[...Y,...V])},[]),{getRootProps:I,getInputProps:L,isDragActive:D}=Ad({onDrop:A,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:k,maxSize:_}),j=B=>{a(R=>R.filter((V,Y)=>Y!==B))},O=()=>{a([]),E([])},W=B=>{switch(B){case"image/jpeg":case"image/png":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},Z=async()=>{if(i.length===0){zr.error("Please select at least one file to upload");return}x(!0),v(0);try{const B=await lU(e,i,R=>v(R));zr.success(`Successfully uploaded ${B.files.length} files`),a([]),E([]),r&&r(B.files),n()}catch(B){console.error("Error uploading files:",B),zr.error("Failed to upload files. Please try again.")}finally{x(!1)}};return t?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:l.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[l.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:l.jsx("div",{className:"sm:flex sm:items-start",children:l.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Upload Documents"}),l.jsxs("div",{...I(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer mb-4 ${D?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[l.jsx("input",{...L()}),D?l.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):l.jsxs("div",{children:[l.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",k," files, ",Math.round(_/(1024*1024)),"MB each)"]})]})]}),w.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm font-medium text-red-500 mb-1",children:"Errors:"}),l.jsx("ul",{className:"text-sm text-red-500 list-disc pl-5",children:w.map((B,R)=>l.jsx("li",{children:B},R))})]}),i.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Selected Files:"}),l.jsx("button",{type:"button",onClick:O,className:"text-sm text-red-500 hover:text-red-700",children:"Clear All"})]}),l.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-md overflow-hidden",children:i.map((B,R)=>l.jsxs("li",{className:"flex items-center justify-between p-3 hover:bg-slate-50",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"mr-2",children:W(B.type)}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium truncate max-w-xs",title:B.name,children:B.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:[(B.size/1024).toFixed(1)," KB"]})]})]}),l.jsx("button",{type:"button",onClick:()=>j(R),className:"text-red-500 hover:text-red-700",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},R))})]}),d&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${g}%`}})}),l.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",g,"%"]})]})]})})}),l.jsxs("div",{className:"bg-slate-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[l.jsx(Be,{variant:"primary",size:"sm",onClick:Z,disabled:d||i.length===0,className:"w-full sm:w-auto sm:ml-3",children:d?"Uploading...":"Upload"}),l.jsx(Be,{variant:"outline",size:"sm",onClick:n,disabled:d,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"})]})]})]})}):null};_2.propTypes={equipmentId:se.number.isRequired,isOpen:se.bool.isRequired,onClose:se.func.isRequired,onSuccess:se.func};const d3=(e,t=!1)=>`/api/files/${e}${t?"?thumbnail=true":""}`,HU=()=>{var ie;const{id:e}=RC(),t=Xs(),n=Gn(),{user:r}=or(),[i,a]=M.useState(!1),[d,x]=M.useState(!1),[g,v]=M.useState(!1),[w,E]=M.useState("details"),[_,k]=M.useState("grid"),{data:A,isLoading:I,isError:L,error:D}=vt({queryKey:["equipment",e],queryFn:()=>ep(e)}),j=jn({mutationFn:()=>YR(e),onSuccess:()=>{n.invalidateQueries(["equipment"]),t("/equipment")}}),O=()=>{t(`/equipment/${e}/edit`)},W=ce=>{n.invalidateQueries(["equipment",e]),et.success(`Successfully uploaded ${ce.length} file(s)`)},Z=()=>{a(!0)},B=()=>{j.mutate(),a(!1)},R=()=>{a(!1)},V=()=>{t("/equipment")};if(I)return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(L)return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:l.jsx("p",{children:(D==null?void 0:D.message)||"Failed to load equipment details"})}),l.jsx("div",{className:"mt-4",children:l.jsx(Be,{variant:"outline",size:"sm",onClick:V,children:"Back to Equipment List"})})]})]})})]});const Y=ce=>{switch(ce){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";case"unavailable":return"secondary";case"broken":return"danger";default:return"secondary"}},ee=A.reference_image_id?parseInt(A.reference_image_id):null,de=(ie=A.files)==null?void 0:ie.find(ce=>ce.id===ee);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"}),l.jsxs("p",{className:"text-slate-500 text-sm",children:[A.brand," ",A.model," • ",A.serial_number]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs(Be,{variant:"outline",onClick:V,className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to List"]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&l.jsxs(Be,{variant:"primary",onClick:O,className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(r==null?void 0:r.role)==="admin"&&l.jsxs(Be,{variant:"danger",onClick:Z,className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"flex -mb-px",children:[l.jsxs("button",{type:"button",onClick:()=>E("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),l.jsxs("button",{type:"button",onClick:()=>E("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]}),l.jsxs("button",{type:"button",onClick:()=>E("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]})]})}),l.jsxs("div",{className:"p-6",children:[w==="details"&&l.jsx("div",{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:l.jsx("div",{className:"md:col-span-1",children:l.jsxs(We,{className:"h-full",children:[l.jsx(We.Header,{className:"bg-slate-50",children:l.jsxs(We.Title,{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),l.jsxs(We.Body,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Category"}),l.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.category||"Not specified"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Type"}),l.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.type})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Brand"}),l.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.brand})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Model"}),l.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.model})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Serial Number"}),l.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.serial_number})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Status"}),l.jsx("div",{className:"mt-1",children:A.status&&l.jsx(vs,{variant:Y(A.status),size:"md",children:A.status.charAt(0).toUpperCase()+A.status.slice(1).replace("-"," ")})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Quantity"}),l.jsxs("p",{className:"mt-1 text-base font-medium text-slate-900",children:[A.quantity||1," item",(A.quantity||1)!==1?"s":""]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Location"}),l.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.location||"Not specified"})]})]}),A.description&&l.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),l.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Description"})]}),l.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:l.jsx("p",{className:"text-base text-slate-800 whitespace-pre-line",children:A.description})})]})]})]})})})}),w==="documents"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&l.jsxs(Be,{variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>v(!0),children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),A.files&&A.files.filter(ce=>!de||ce.id!==de.id).length>0?l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[A.files.filter(ce=>!de||ce.id!==de.id).length,A.files.filter(ce=>!de||ce.id!==de.id).length===1?" file":" files"," attached"]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("grid"),children:l.jsx(np,{className:"h-4 w-4"})}),l.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("list"),children:l.jsx(tp,{className:"h-4 w-4"})})]})]}),l.jsx(E2,{files:A.files.filter(ce=>!de||ce.id!==de.id),layout:_,size:"medium",showDownload:!0,canDelete:!1})]}):l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&l.jsx("div",{className:"mt-4",children:l.jsxs(Be,{variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>v(!0),children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),w==="history"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[l.jsxs("div",{className:"mb-4 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),l.jsx(t5,{equipmentId:e})]})]})]})]})}),l.jsx("div",{className:"md:col-span-1",children:l.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),l.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:de?l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"relative pb-4",children:[l.jsx("img",{src:d3(de.id,!0),alt:`${A.brand} ${A.model}`,className:"w-full h-auto object-contain rounded-md",onError:ce=>{console.error("Error loading thumbnail, falling back to original image"),ce.target.src=d3(de.id),ce.target.onerror=null}}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&l.jsx("button",{onClick:()=>x(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),l.jsx("div",{className:"text-sm text-gray-500 text-center",children:de.file_name})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&l.jsxs("button",{onClick:()=>x(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[l.jsx("div",{className:"md:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[l.jsx("div",{className:"p-4 border-b border-slate-200",children:l.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info"]})}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.category||"Not specified"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.type})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),l.jsx("div",{children:A.status&&l.jsx(vs,{variant:Y(A.status),size:"md",children:A.status.charAt(0).toUpperCase()+A.status.slice(1).replace("-"," ")})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Quantity"})]}),l.jsxs("p",{className:"text-sm font-medium text-slate-800",children:[A.quantity||1," item",(A.quantity||1)!==1?"s":""]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.location||"Not specified"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.serial_number})]})]})]})}),l.jsx("div",{className:"md:col-span-1",children:l.jsxs(We,{className:"h-full",children:[l.jsx(We.Header,{className:"bg-slate-50",children:l.jsxs(We.Title,{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),l.jsx(We.Body,{children:l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:A.created_by||"Unknown"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:A.created_at?new Date(A.created_at).toLocaleString():"Unknown"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:A.updated_at?new Date(A.updated_at).toLocaleString():"Never"})]})]}),A.locationDetails&&l.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[l.jsxs("h4",{className:"text-sm font-medium text-slate-700 mb-3 flex items-center",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Location Details"]}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-sm",children:[l.jsx("p",{className:"font-medium text-slate-800",children:A.locationDetails.name}),A.locationDetails.street&&l.jsx("p",{className:"text-slate-600 mt-1",children:A.locationDetails.street}),(A.locationDetails.postal_code||A.locationDetails.city)&&l.jsxs("p",{className:"text-slate-600",children:[A.locationDetails.postal_code&&`${A.locationDetails.postal_code} `,A.locationDetails.city]}),(A.locationDetails.region||A.locationDetails.country)&&l.jsxs("p",{className:"text-slate-600",children:[A.locationDetails.region&&`${A.locationDetails.region}, `,A.locationDetails.country]})]})]})]})})]})})]}),i&&l.jsx(n5,{isOpen:i,title:"Delete Equipment",message:"Are you sure you want to delete this equipment? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:B,onCancel:R,isDestructive:!0}),l.jsx(C2,{isOpen:d,onClose:()=>x(!1),equipmentId:e,existingImage:de}),l.jsx(_2,{equipmentId:parseInt(e),isOpen:g,onClose:()=>v(!1),onSuccess:W})]})},f3=(e,t=!1)=>`/api/files/${e}${t?"?thumbnail=true":""}`,qU=()=>{var Re,qe,tt;const{id:e}=RC(),t=Xs(),n=Gn();or();const[r,i]=M.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:"",quantity:1}),[a,d]=M.useState([]),[x,g]=M.useState([]);M.useState(0);const[v,w]=M.useState(""),[E,_]=M.useState(!1),[k,A]=M.useState(!1),[I,L]=M.useState("details"),[D,j]=M.useState("grid"),{data:O}=vt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),{data:W}=vt({queryKey:["categories"],queryFn:xl,staleTime:3e5}),{data:Z}=vt({queryKey:["locations"],queryFn:yo,staleTime:3e5}),B=["available","in-use","maintenance","unavailable","broken"],{data:R,isLoading:V,isError:Y,error:ee}=vt({queryKey:["equipment",e],queryFn:()=>ep(e),onSuccess:Ae=>{console.log("Equipment data loaded:",Ae),console.log("Location ID:",Ae.location_id,typeof Ae.location_id),i({type_id:Ae.type_id?Ae.type_id.toString():"",category_id:Ae.category_id?Ae.category_id.toString():"",category:Ae.category||"",brand:Ae.brand||"",model:Ae.model||"",serial_number:Ae.serial_number||"",status:Ae.status||"available",location:Ae.location||"",location_id:Ae.location_id?Ae.location_id.toString():"",description:Ae.description||"",reference_image_id:Ae.reference_image_id?Ae.reference_image_id.toString():"",quantity:Ae.quantity||1}),Ae.locationDetails&&console.log("Location details:",Ae.locationDetails)}}),de=jn({mutationFn:async Ae=>{const Ge=Object.fromEntries(Object.entries(Ae.equipment).filter(([st,oe])=>oe!=null));return LE(e,Ge,Ae.filesToUpload,Ae.filesToDelete)},onSuccess:()=>{n.invalidateQueries(["equipment"]),t(`/equipment/${e}`)},onError:Ae=>{var Ge,st;console.error("Error updating equipment:",Ae),w(((st=(Ge=Ae.response)==null?void 0:Ge.data)==null?void 0:st.message)||"Failed to update equipment")}}),ie=Ae=>{const{name:Ge,value:st}=Ae.target;let oe={...r,[Ge]:st};if(Ge==="category_id"&&st&&(W!=null&&W.categories)){const ft=W.categories.find(it=>it.id.toString()===st);ft&&(console.log("Selected category:",ft),oe={...oe,category_id:st,category:ft.name})}if(Ge==="location_id"&&st){const ft=Z==null?void 0:Z.locations.find(it=>it.id.toString()===st);ft&&(console.log("Selected location:",ft),oe={...oe,location_id:st,location:ft.name},ft.name.toLowerCase()==="lager"?(oe.status="available",console.log('Setting status to "available" because location is Lager')):oe.status==="available"&&(oe.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${ft.name})`)))}else Ge==="location"&&st&&(oe={...oe,location:st,location_id:""},st.toLowerCase()==="lager"?(oe.status="available",console.log('Setting status to "available" because custom location is Lager')):oe.status==="available"&&(oe.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${st})`)));if(Ge==="quantity"){const ft=parseInt(st)||1;oe.quantity=Math.max(1,ft),console.log(`Setting quantity to: ${oe.quantity}`)}else Ge==="status"&&(console.log(`User manually changed status to: ${st}`),(r.location||"").toLowerCase()==="lager"&&st!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),oe.status="available"));i(oe)},ce=Ae=>{r.reference_image_id===Ae.toString()&&i({...r,reference_image_id:""}),g(Ge=>[...Ge,Ae])},Te=Ae=>{if(Ae.preventDefault(),!r.type_id||!r.brand||!r.model||!r.serial_number){w("Type, brand, model, and serial number are required");return}const Ge=a.find((it,nn)=>r.reference_image_id==="new"),st=Ge?a.filter(it=>it!==Ge):a,oe=r.reference_image_id==="",ft={...r,quantity:parseInt(r.quantity)||1,type_id:r.type_id?parseInt(r.type_id):null,category_id:r.category_id?parseInt(r.category_id):null,location_id:r.location_id?parseInt(r.location_id):null,reference_image_id:r.reference_image_id==="new"?"new":r.reference_image_id};console.log("Submitting equipment data:",ft),de.mutate({equipment:ft,filesToUpload:st,filesToDelete:x,referenceImageFile:Ge||null,removeReferenceImage:oe})},re=()=>{t(`/equipment/${e}`)},_e=Ae=>{switch(Ae){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";case"unavailable":return"secondary";case"broken":return"danger";default:return"secondary"}},ve=Ae=>{n.invalidateQueries(["equipment",e]),et.success(`Successfully uploaded ${Ae.length} file(s)`)};if(V)return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(Y)return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:l.jsx("p",{children:(ee==null?void 0:ee.message)||"Failed to load equipment details"})}),l.jsx("div",{className:"mt-4",children:l.jsx(Be,{variant:"outline",size:"sm",onClick:re,children:"Back to Details"})})]})]})})]});const ue=R!=null&&R.reference_image_id?parseInt(R.reference_image_id):null,ge=(Re=R==null?void 0:R.files)==null?void 0:Re.find(Ae=>Ae.id===ue);return l.jsxs("form",{onSubmit:Te,className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"}),l.jsxs("p",{className:"text-slate-500 text-sm",children:[r.brand," ",r.model," • ",r.serial_number]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs(Be,{type:"button",variant:"outline",onClick:re,className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Details"]}),l.jsxs(Be,{type:"submit",variant:"primary",disabled:de.isLoading,className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),de.isLoading?"Saving...":"Save Changes"]})]})]}),v&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:l.jsx("p",{className:"text-red-700",children:v})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"flex -mb-px",children:[l.jsxs("button",{type:"button",onClick:()=>L("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${I==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${I==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),l.jsxs("button",{type:"button",onClick:()=>L("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${I==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${I==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]}),l.jsxs("button",{type:"button",onClick:()=>L("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${I==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${I==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]})]})}),l.jsxs("div",{className:"p-6",children:[I==="details"&&l.jsx("div",{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:l.jsx("div",{className:"md:col-span-1",children:l.jsxs(We,{className:"h-full",children:[l.jsx(We.Header,{className:"bg-slate-50",children:l.jsxs(We.Title,{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),l.jsxs(We.Body,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{children:l.jsx(ws,{id:"category_id",name:"category_id",label:"Category",value:r.category_id||"",onChange:ie,options:[{value:"",label:"Select Category"},...((W==null?void 0:W.categories)||[]).map(Ae=>({value:Ae.id.toString(),label:Ae.name}))]})}),l.jsx("div",{children:l.jsx(ws,{id:"type_id",name:"type_id",label:"Type",value:r.type_id||"",onChange:ie,options:[{value:"",label:"Select Type"},...((O==null?void 0:O.types)||[]).map(Ae=>({value:Ae.id.toString(),label:Ae.name}))],required:!0})}),l.jsx("div",{children:l.jsx(Dt,{id:"brand",name:"brand",label:"Brand",value:r.brand,onChange:ie,placeholder:"Enter brand",required:!0})}),l.jsx("div",{children:l.jsx(Dt,{id:"model",name:"model",label:"Model",value:r.model,onChange:ie,placeholder:"Enter model",required:!0})}),l.jsx("div",{children:l.jsx(Dt,{id:"serial_number",name:"serial_number",label:"Serial Number",value:r.serial_number,onChange:ie,placeholder:"Enter serial number",required:!0})}),l.jsx("div",{children:l.jsx(ws,{id:"status",name:"status",label:"Status",value:r.status,onChange:ie,options:B.map(Ae=>({value:Ae,label:Ae.charAt(0).toUpperCase()+Ae.slice(1).replace("-"," ")})),required:!0})}),l.jsx("div",{children:l.jsx(Dt,{id:"quantity",name:"quantity",label:"Quantity",type:"number",min:"1",value:r.quantity||1,onChange:ie,placeholder:"Enter quantity",required:!0,helpText:"Number of items (minimum: 1)"})}),l.jsxs("div",{children:[l.jsx(ws,{id:"location_id",name:"location_id",label:"Location",value:r.location_id?r.location_id.toString():"",onChange:ie,options:[{value:"",label:"Select Location"},...((Z==null?void 0:Z.locations)||[]).map(Ae=>{let Ge=Ae.name;const st=[];return Ae.city&&st.push(Ae.city),Ae.region&&st.push(Ae.region),Ae.country&&st.push(Ae.country),st.length>0&&(Ge+=` (${st.join(", ")})`),{value:Ae.id.toString(),label:Ge}})]}),l.jsx("div",{className:"mt-2",children:l.jsx(Dt,{id:"location",name:"location",label:"Custom Location (if not in list)",value:r.location||"",onChange:ie,placeholder:"Enter custom location"})})]})]}),l.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),l.jsx("label",{htmlFor:"description",className:"text-sm font-medium text-slate-700",children:"Description"})]}),l.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:ie,rows:"4",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]})]})]})})})}),I==="documents"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),l.jsxs(Be,{type:"button",variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>A(!0),children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),R!=null&&R.files&&R.files.filter(Ae=>!ge||Ae.id!==ge.id).length>0?l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[R.files.filter(Ae=>!ge||Ae.id!==ge.id).length,R.files.filter(Ae=>!ge||Ae.id!==ge.id).length===1?" file":" files"," attached"]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{type:"button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${D==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>j("grid"),children:l.jsx(np,{className:"h-4 w-4"})}),l.jsx("button",{type:"button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${D==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>j("list"),children:l.jsx(tp,{className:"h-4 w-4"})})]})]}),l.jsx(E2,{files:R.files.filter(Ae=>!ge||Ae.id!==ge.id),layout:D,size:"medium",showDownload:!0,canDelete:!0,onDelete:ce})]}):l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),l.jsx("div",{className:"mt-4",children:l.jsxs(Be,{type:"button",variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>A(!0),children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),I==="history"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[l.jsxs("div",{className:"mb-4 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),l.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),l.jsx(t5,{equipmentId:e})]})]})]})]})}),l.jsx("div",{className:"md:col-span-1",children:l.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),l.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:ge?l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"relative pb-4",children:[l.jsx("img",{src:f3(ge.id,!0),alt:`${r.brand} ${r.model}`,className:"w-full h-auto object-contain rounded-md",onError:Ae=>{console.error("Error loading thumbnail, falling back to original image"),Ae.target.src=f3(ge.id),Ae.target.onerror=null}}),l.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),l.jsx("div",{className:"text-sm text-gray-500 text-center",children:ge.file_name})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),l.jsxs("button",{type:"button",onClick:()=>_(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[l.jsx("div",{className:"md:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[l.jsx("div",{className:"p-4 border-b border-slate-200",children:l.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info Preview"]})}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.category||"Not specified"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:((tt=(qe=O==null?void 0:O.types)==null?void 0:qe.find(Ae=>Ae.id.toString()===r.type_id))==null?void 0:tt.name)||"Not specified"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),l.jsx("div",{children:r.status&&l.jsx(vs,{variant:_e(r.status),size:"md",children:r.status.charAt(0).toUpperCase()+r.status.slice(1).replace("-"," ")})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Quantity"})]}),l.jsxs("p",{className:"text-sm font-medium text-slate-800",children:[r.quantity||1," item",(r.quantity||1)!==1?"s":""]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.location||"Not specified"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),l.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),l.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.serial_number})]})]})]})}),l.jsx("div",{className:"md:col-span-1",children:l.jsxs(We,{className:"h-full",children:[l.jsx(We.Header,{className:"bg-slate-50",children:l.jsxs(We.Title,{className:"flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),l.jsx(We.Body,{children:l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:(R==null?void 0:R.created_by)||"Unknown"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:R!=null&&R.created_at?new Date(R.created_at).toLocaleString():"Unknown"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:R!=null&&R.updated_at?new Date(R.updated_at).toLocaleString():"Never"})]})]})]})})]})})]}),l.jsx(C2,{isOpen:E,onClose:()=>_(!1),equipmentId:e,existingImage:ge}),l.jsx(_2,{equipmentId:parseInt(e),isOpen:k,onClose:()=>A(!1),onSuccess:ve})]})},VU=({onFileSelect:e,uploadProgress:t=0,existingFiles:n=[],onFileDelete:r,multiple:i=!1,maxFiles:a=5,maxFileSize:d=50*1024*1024})=>{const[x,g]=M.useState([]),[v,w]=M.useState({}),[E,_]=M.useState([]);M.useEffect(()=>{Object.values(v).forEach(R=>{R&&R.startsWith("blob:")&&URL.revokeObjectURL(R)});const B={};return x.forEach((R,V)=>{R.type.startsWith("image/")&&(B[`new-${V}`]=URL.createObjectURL(R))}),n.forEach(R=>{R.file_type==="image"&&(B[`existing-${R.id}`]=`/api/files/${R.id}`)}),w(B),()=>{Object.values(B).forEach(R=>{R&&R.startsWith("blob:")&&URL.revokeObjectURL(R)})}},[x,n]);const k=B=>{const R=[],V=[];return B.forEach(Y=>{if(Y.size>d){R.push(`${Y.name} exceeds the maximum file size of ${Math.round(d/(1024*1024))}MB`);return}if(!["image/jpeg","image/png","audio/mpeg","application/pdf"].includes(Y.type)){R.push(`${Y.name} has an unsupported file type. Only JPEG, PNG, MP3, and PDF files are allowed.`);return}V.push(Y)}),{validFiles:V,errors:R}},A=M.useCallback((B,R)=>{if(R&&R.length>0){const ee=R.map(de=>`${de.file.name}: ${de.errors.map(ie=>ie.message).join(", ")}`);_(ee)}else _([]);const{validFiles:V,errors:Y}=k(B);if(Y.length>0&&_(ee=>[...ee,...Y]),i&&x.length+V.length>a){_(de=>[...de,`You can only upload a maximum of ${a} files.`]);const ee=a-x.length;if(ee>0){const de=V.slice(0,ee);g(ie=>[...ie,...de]),e(de)}}else g(i?ee=>[...ee,...V]:V),e(V)},[e,x,i,a,d]),I=B=>{const R=[...x];R.splice(B,1),g(R),e(i?R:R.length>0?[R[0]]:[]),_([])},L=B=>{if(r){console.log(`FileUpload: Deleting file with ID ${B}`);try{r(B)}catch(R){console.error(`Error deleting file with ID ${B}:`,R)}}else console.warn(`FileUpload: No onFileDelete handler provided for file ID ${B}`)},{getRootProps:D,getInputProps:j,isDragActive:O,fileRejections:W}=Ad({onDrop:A,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:i?a:1,multiple:i,maxSize:d}),Z=B=>{switch(B){case"image/jpeg":case"image/png":case"image":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":case"audio":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":case"pdf":return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}};return l.jsxs("div",{children:[l.jsxs("div",{...D(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${O?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[l.jsx("input",{...j()}),O?l.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):l.jsxs("div",{children:[l.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",a," files, ",Math.round(d/(1024*1024)),"MB each)"]})]})]}),E.length>0&&l.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"File validation errors:"}),l.jsx("ul",{className:"list-disc pl-5 text-xs text-red-700",children:E.map((B,R)=>l.jsx("li",{children:B},R))})]}),x.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Files to upload:"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:x.map((B,R)=>l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[B.type.startsWith("image/")?l.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:v[`new-${R}`]?l.jsx("img",{src:v[`new-${R}`],alt:B.name,className:"max-h-full max-w-full object-contain"}):l.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):l.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:l.jsx("div",{className:"text-4xl",children:Z(B.type)})}),l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",title:B.name,children:B.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:[(B.size/(1024*1024)).toFixed(2)," MB"]})]}),l.jsx("button",{type:"button",onClick:()=>I(R),className:"ml-2 text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Remove ${B.name}`,children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})]},R))})]}),n.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Existing files:"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:n.map(B=>l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[B.file_type==="image"?l.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:v[`existing-${B.id}`]?l.jsx("img",{src:v[`existing-${B.id}`],alt:B.file_name,className:"max-h-full max-w-full object-contain"}):l.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):B.file_type==="audio"?l.jsxs("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex flex-col items-center justify-center p-2",children:[l.jsx("div",{className:"text-4xl mb-2",children:Z(B.file_type)}),l.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[l.jsx("source",{src:`/api/files/${B.id}`,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):l.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:l.jsx("div",{className:"text-4xl",children:Z(B.file_type)})}),l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",title:B.file_name,children:B.file_name}),l.jsx("p",{className:"text-xs text-slate-500 capitalize",children:B.file_type})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("a",{href:`/api/files/${B.id}?download=true`,download:!0,className:"text-primary-600 hover:text-primary-800 p-1 rounded-full hover:bg-primary-50","aria-label":`Download ${B.file_name}`,onClick:R=>{R.stopPropagation(),console.log(`Downloading file: ${B.id}`)},children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),r&&l.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),console.log(`Deleting file: ${B.id}`),L(B.id)},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Delete ${B.file_name}`,children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})]},B.id))})]}),t>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${t}%`}})}),l.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",t,"%"]})]})]})},a5=({formData:e,equipmentTypes:t,categoriesData:n,statusOptions:r,handleInputChange:i,handleFileChange:a,handleSubmit:d,handleCancel:x,isLoading:g,error:v,isEditing:w=!1,files:E=[],uploadProgress:_=0,existingFiles:k=[],handleFileDelete:A,handleSetReferenceImage:I})=>{const[L,D]=M.useState(null),[j,O]=M.useState(null),{data:W}=vt(["locations"],yo,{staleTime:3e5});M.useEffect(()=>{if(k&&k.length>0&&e.reference_image_id){const R=k.find(V=>V.id.toString()===e.reference_image_id);if(R){D(R);return}}D(null)},[k,e.reference_image_id]);const Z=R=>{O(R),i(R?{target:{name:"reference_image_id",value:"new"}}:{target:{name:"reference_image_id",value:""}})},B=R=>{D(null),i({target:{name:"reference_image_id",value:""}}),A&&A(R)};return l.jsxs(We,{children:[v&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 m-6 mt-0",children:l.jsx("p",{className:"text-red-700",children:v})}),l.jsxs("form",{onSubmit:d,children:[l.jsxs(We.Body,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(ws,{id:"category_id",name:"category_id",label:"Category",value:e.category_id||"",onChange:i,options:[{value:"",label:"Select Category"},...(n||[]).map(R=>({value:R.id.toString(),label:R.name}))]}),l.jsx(ws,{id:"type_id",name:"type_id",label:"Type",value:e.type_id||"",onChange:i,options:[{value:"",label:"Select Type"},...t.map(R=>({value:R.id.toString(),label:R.name}))],required:!0}),l.jsx(Dt,{id:"brand",name:"brand",label:"Brand",value:e.brand,onChange:i,placeholder:"Enter brand",required:!0}),l.jsx(Dt,{id:"model",name:"model",label:"Model",value:e.model,onChange:i,placeholder:"Enter model",required:!0}),l.jsx(dN,{id:"serial_number",name:"serial_number",label:"Serial Number",value:e.serial_number,onChange:i,placeholder:"Enter serial number",required:!0,onScan:R=>{i({target:{name:"serial_number",value:R}})}}),l.jsx(ws,{id:"status",name:"status",label:"Status",value:e.status,onChange:i,options:r.map(R=>({value:R,label:R.charAt(0).toUpperCase()+R.slice(1).replace("-"," ")})),required:!0}),l.jsx(Dt,{id:"quantity",name:"quantity",label:"Quantity",type:"number",min:"1",value:e.quantity||1,onChange:i,placeholder:"Enter quantity",required:!0,helpText:"Number of items (minimum: 1)"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ws,{id:"location_id",name:"location_id",label:"Location",value:e.location_id?e.location_id.toString():"",onChange:i,options:[{value:"",label:"Select Location"},...((W==null?void 0:W.locations)||[]).map(R=>{let V=R.name;const Y=[];return R.city&&Y.push(R.city),R.region&&Y.push(R.region),R.country&&Y.push(R.country),Y.length>0&&(V+=` (${Y.join(", ")})`),{value:R.id.toString(),label:V}})]}),l.jsx(Dt,{id:"location",name:"location",label:"Custom Location (if not in list)",value:e.location||"",onChange:i,placeholder:"Enter custom location"})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),l.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:i,rows:"4",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]}),l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-100 rounded-lg",children:[l.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]}),l.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Upload a ",l.jsx("strong",{children:"single reference image"})," that best represents this equipment. This image will be displayed prominently on the equipment details page and in search results."]}),l.jsx(b2,{onImageSelect:Z,existingImage:L,onImageDelete:B})]}),l.jsxs("div",{className:"mt-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[l.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Documents & Attachments"]}),l.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Upload additional documents and images related to this equipment (manuals, invoices, additional photos, etc.). These will be shown in the Documents tab."}),l.jsx(VU,{onFileSelect:a,uploadProgress:_,existingFiles:k,onFileDelete:A,multiple:!0,maxFiles:5})]})]}),l.jsxs(We.Footer,{className:"flex justify-end space-x-3",children:[l.jsx(Be,{type:"button",variant:"secondary",onClick:x,children:"Cancel"}),l.jsx(Be,{type:"submit",variant:"primary",disabled:g,children:g?"Saving...":w?"Save Changes":"Create Equipment"})]})]})]})};a5.propTypes={formData:se.object.isRequired,equipmentTypes:se.array.isRequired,categoriesData:se.array,statusOptions:se.array.isRequired,locationsData:se.object,handleInputChange:se.func.isRequired,handleFileChange:se.func.isRequired,handleSubmit:se.func.isRequired,handleCancel:se.func.isRequired,isLoading:se.bool,error:se.string,isEditing:se.bool,files:se.array,uploadProgress:se.number,existingFiles:se.array,handleFileDelete:se.func,handleSetReferenceImage:se.func};const YU=()=>{const e=Xs(),t=Gn(),{user:n}=or(),[r,i]=M.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:"",quantity:1}),[a,d]=M.useState([]),[x,g]=M.useState(""),[v,w]=M.useState(0),{data:E}=vt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),{data:_}=vt({queryKey:["categories"],queryFn:xl,staleTime:3e5}),{data:k}=vt({queryKey:["locations"],queryFn:yo,staleTime:3e5}),A=["available","in-use","maintenance","unavailable","broken"],I=jn({mutationFn:async B=>Qg(B.equipment,B.files),onSuccess:()=>{t.invalidateQueries(["equipment"]),e("/equipment")},onError:B=>{var R,V;console.error("Error creating equipment:",B),g(((V=(R=B.response)==null?void 0:R.data)==null?void 0:V.message)||"Failed to create equipment")}}),L=B=>{const{name:R,value:V}=B.target;let Y={...r,[R]:V};if(R==="category_id"&&V&&(_!=null&&_.categories)){const ee=_.categories.find(de=>de.id.toString()===V);ee&&(console.log("Selected category:",ee),Y={...Y,category_id:V,category:ee.name})}else if(R==="location_id"&&V){const ee=k==null?void 0:k.locations.find(de=>de.id.toString()===V);ee&&(console.log("Selected location:",ee),Y={...Y,location_id:V,location:ee.name},ee.name.toLowerCase()==="lager"?(Y.status="available",console.log('Setting status to "available" because location is Lager')):Y.status==="available"&&(Y.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${ee.name})`)))}else if(R==="location"&&V)Y={...Y,location:V,location_id:""},V.toLowerCase()==="lager"?(Y.status="available",console.log('Setting status to "available" because custom location is Lager')):Y.status==="available"&&(Y.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${V})`));else if(R==="quantity"){const ee=parseInt(V)||1;Y.quantity=Math.max(1,ee),console.log(`Setting quantity to: ${Y.quantity}`)}else R==="status"&&(console.log(`User manually changed status to: ${V}`),(r.location||"").toLowerCase()==="lager"&&V!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),Y.status="available"));i(Y)},D=B=>{d(B)},j=B=>{i({...r,reference_image_id:B.toString()})},O=B=>{const R=[...a];r.reference_image_id===B.toString()&&i({...r,reference_image_id:""}),R.splice(B,1),d(R)},W=B=>{if(B.preventDefault(),!r.type_id||!r.brand||!r.model||!r.serial_number){g("Type, brand, model, and serial number are required");return}const R=r.reference_image_id==="new"&&a.length>0?a.find((Y,ee)=>ee===0):null,V=R?a.filter(Y=>Y!==R):a;I.mutate({equipment:{...r,reference_image_id:r.reference_image_id==="new"?"new":r.reference_image_id},files:V,referenceImageFile:R})},Z=()=>{e("/equipment")};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Add New Equipment"})}),l.jsx(a5,{formData:r,equipmentTypes:(E==null?void 0:E.types)||[],categoriesData:(_==null?void 0:_.categories)||[],statusOptions:A,locationsData:k,handleInputChange:L,handleFileChange:D,handleSubmit:W,handleCancel:Z,isLoading:I.isLoading,error:x,files:a,uploadProgress:v,handleSetReferenceImage:j,handleFileDelete:O}),(n==null?void 0:n.role)==="admin"&&l.jsx(We,{className:"mt-6",children:l.jsxs(We.Body,{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"flex-shrink-0 text-primary-500",children:l.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-slate-800",children:"Equipment Type Management"}),l.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"You can manage equipment types in the Settings page."}),l.jsx("div",{className:"mt-3",children:l.jsx(Be,{variant:"outline",size:"sm",onClick:()=>e("/settings"),children:"Go to Settings"})})]})]})})]})},$U=()=>{const{isAdmin:e,getUsers:t,impersonateUser:n,register:r,user:i}=or(),a=Xs(),d=Gn(),[x,g]=M.useState(null),[v,w]=M.useState(!1),[E,_]=M.useState(!1),[k,A]=M.useState({username:"",password:"",role:"basic"}),[I,L]=M.useState({});M.useEffect(()=>{e()||a("/")},[e,a]);const{data:D,isLoading:j,isError:O,error:W,refetch:Z}=vt({queryKey:["users"],queryFn:t,enabled:e()}),B=jn({mutationFn:r,onSuccess:()=>{d.invalidateQueries(["users"]),_(!1),A({username:"",password:"",role:"basic"}),et.success("User created successfully")},onError:ce=>{var Te,re;et.error(((re=(Te=ce.response)==null?void 0:Te.data)==null?void 0:re.message)||"Failed to create user")}}),R=ce=>{const{name:Te,value:re}=ce.target;A(_e=>({..._e,[Te]:re})),I[Te]&&L(_e=>({..._e,[Te]:""}))},V=()=>{const ce={};return k.username.trim()||(ce.username="Username is required"),k.password.trim()?k.password.length<6&&(ce.password="Password must be at least 6 characters"):ce.password="Password is required",L(ce),Object.keys(ce).length===0},Y=ce=>{ce.preventDefault(),V()&&B.mutate(k)},ee=async()=>{if(x)try{await n(x.id),w(!1),et.info(`You are now impersonating ${x.username}`),a("/")}catch(ce){et.error("Failed to impersonate user"),console.error("Failed to impersonate user:",ce)}},de=ce=>new Date(ce).toLocaleString(),ie=ce=>{switch(ce){case"admin":return"bg-red-100 text-red-800";case"advanced":return"bg-blue-100 text-blue-800";case"basic":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e()?j?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):O?l.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative my-6",role:"alert",children:[l.jsx("strong",{className:"font-bold",children:"Error!"}),l.jsxs("span",{className:"block sm:inline",children:[" ",(W==null?void 0:W.message)||"Failed to load users."]}),l.jsx("button",{onClick:Z,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Retry"})]}):l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx(Jh,{position:"top-right",autoClose:3e3}),l.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),l.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:[l.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"User Management"}),l.jsxs("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create User"]})]}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[l.jsx("thead",{className:"bg-slate-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Username"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created At"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:D==null?void 0:D.map(ce=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:[ce.username,ce.id===i.id&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"You"})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ie(ce.role)}`,children:ce.role})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:de(ce.created_at)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:ce.id!==i.id&&l.jsx("button",{onClick:()=>{g(ce),w(!0)},className:"text-indigo-600 hover:text-indigo-900","aria-label":`Impersonate ${ce.username}`,children:"Impersonate"})})]},ce.id))})]})})})]}),E&&l.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Create New User"}),l.jsxs("form",{onSubmit:Y,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),l.jsx("input",{type:"text",id:"username",name:"username",value:k.username,onChange:R,className:`w-full px-3 py-2 border ${I.username?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),I.username&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:I.username})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),l.jsx("input",{type:"password",id:"password",name:"password",value:k.password,onChange:R,className:`w-full px-3 py-2 border ${I.password?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),I.password&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:I.password})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),l.jsxs("select",{id:"role",name:"role",value:k.role,onChange:R,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[l.jsx("option",{value:"basic",children:"Basic"}),l.jsx("option",{value:"advanced",children:"Advanced"}),l.jsx("option",{value:"admin",children:"Admin"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:B.isLoading,children:B.isLoading?"Creating...":"Create User"})]})]})]})}),v&&x&&l.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Confirm Impersonation"}),l.jsxs("p",{className:"text-slate-500 mb-4",children:["You are about to impersonate ",l.jsx("strong",{children:x.username})," with role ",l.jsx("strong",{children:x.role}),". You will have the same permissions as this user until you end the impersonation."]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),l.jsx("button",{onClick:ee,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Impersonate"})]})]})})]}):l.jsx("div",{className:"text-center py-10",children:"Access denied. Admin privileges required."})},GU=()=>{var W,Z;const[e,t]=M.useState(1),[n]=M.useState(20),[r,i]=M.useState("created_at"),[a,d]=M.useState("desc"),[x,g]=M.useState({equipmentId:"",actionType:"",search:"",type:"",status:"",location_id:""}),{data:v}=vt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),{data:w}=vt(["locations"],yo),{data:E,isLoading:_,isError:k,error:A}=vt(["allEquipmentLogs",e,n,x,r,a],()=>aU({page:e,limit:n,equipmentId:x.equipmentId||void 0,actionType:x.actionType||void 0,search:x.search||void 0,type:x.type||void 0,status:x.status||void 0,location_id:x.location_id||void 0,sortBy:r,sortOrder:a}),{keepPreviousData:!0}),I=B=>{switch(B){case"created":return"badge-success";case"updated":return"badge-info";case"deleted":return"badge-danger";case"status_change":return"badge-warning";case"location_change":return"badge-primary";default:return"badge-secondary"}},L=B=>B.split("_").map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(" "),D=B=>{const{name:R,value:V}=B.target;g(Y=>({...Y,[R]:V})),t(1)},j=B=>{B.preventDefault()},O=B=>{t(B)};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Movement Logs"})}),l.jsx("div",{className:"card",children:l.jsxs("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),l.jsxs("div",{className:"input-group",children:[l.jsx(Zg,{className:"input-icon w-4 h-4"}),l.jsx("input",{type:"text",id:"search",name:"search",value:x.search,onChange:D,placeholder:"Search logs...",className:"input input-with-icon"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"type",className:"label",children:"Equipment Type"}),l.jsxs("select",{id:"type",name:"type",value:x.type,onChange:D,className:"input",children:[l.jsx("option",{value:"",children:"All Types"}),v!=null&&v.types&&v.types.length>0?v.types.map(B=>l.jsx("option",{value:B.name.toLowerCase(),children:B.name},B.id)):l.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"status",className:"label",children:"Equipment Status"}),l.jsxs("select",{id:"status",name:"status",value:x.status,onChange:D,className:"input",children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"available",children:"Available"}),l.jsx("option",{value:"in-use",children:"In Use"}),l.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),l.jsxs("select",{id:"location_id",name:"location_id",value:x.location_id,onChange:D,className:"input",children:[l.jsx("option",{value:"",children:"All Locations"}),(W=w==null?void 0:w.locations)==null?void 0:W.map(B=>l.jsx("option",{value:B.id.toString(),children:B.name},B.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"actionType",className:"label",children:"Action Type"}),l.jsxs("select",{id:"actionType",name:"actionType",value:x.actionType,onChange:D,className:"input",children:[l.jsx("option",{value:"",children:"All Actions"}),l.jsx("option",{value:"created",children:"Created"}),l.jsx("option",{value:"updated",children:"Updated"}),l.jsx("option",{value:"deleted",children:"Deleted"}),l.jsx("option",{value:"status_change",children:"Status Change"}),l.jsx("option",{value:"location_change",children:"Location Change"})]})]}),l.jsx("div",{className:"flex items-end",children:l.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[l.jsx(Jg,{className:"w-4 h-4"}),l.jsx("span",{children:"Apply Filters"})]})})]})}),l.jsxs("div",{className:"card",children:[_?l.jsx("div",{className:"text-center py-10",children:"Loading..."}):k?l.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",A.message||"Failed to load equipment logs"]}):(Z=E==null?void 0:E.logs)!=null&&Z.length?l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-header-cell",children:"Date"}),l.jsx("th",{className:"table-header-cell",children:"Equipment"}),l.jsx("th",{className:"table-header-cell",children:"User"}),l.jsx("th",{className:"table-header-cell",children:"Action"}),l.jsx("th",{className:"table-header-cell",children:"Details"})]})}),l.jsx("tbody",{className:"table-body",children:E.logs.map(B=>{var R,V;return l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell whitespace-nowrap",children:ud(new Date(B.created_at),"MMM d, yyyy h:mm a")}),l.jsx("td",{className:"table-cell",children:B.equipment?l.jsxs(qn,{to:`/equipment/${B.equipment.id}`,className:"text-primary-600 hover:text-primary-800",children:[B.equipment.brand," ",B.equipment.model,l.jsxs("span",{className:"text-xs text-slate-500 block",children:["SN: ",B.equipment.serial_number]})]}):l.jsx("span",{className:"text-slate-400",children:"Deleted equipment"})}),l.jsxs("td",{className:"table-cell",children:[((R=B.user)==null?void 0:R.username)||"Unknown",l.jsx("span",{className:"text-xs text-slate-500 block",children:((V=B.user)==null?void 0:V.role)||""})]}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:`badge ${I(B.action_type)}`,children:L(B.action_type)})}),l.jsxs("td",{className:"table-cell",children:[B.action_type==="status_change"&&l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:"Status:"})," ",l.jsx("span",{className:"badge badge-outline-secondary",children:B.previous_status})," ",l.jsx("span",{className:"text-slate-400",children:"→"})," ",l.jsx("span",{className:"badge badge-outline-primary",children:B.new_status})]}),B.action_type==="location_change"&&l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:"Location:"})," ",l.jsx("span",{className:"badge badge-outline-secondary",children:B.previous_location||"None"})," ",l.jsx("span",{className:"text-slate-400",children:"→"})," ",l.jsx("span",{className:"badge badge-outline-primary",children:B.new_location||"None"})]}),B.details&&l.jsx("div",{className:"text-sm mt-1",children:B.details})]})]},B.id)})})]})}):l.jsx("div",{className:"text-center py-10 text-slate-500",children:x.search||x.equipmentId||x.actionType?"No logs found matching your search criteria.":"No logs found."}),(E==null?void 0:E.totalPages)>1&&l.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-slate-200",children:[l.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",l.jsx("span",{className:"font-medium text-slate-800",children:(e-1)*n+1})," to"," ",l.jsx("span",{className:"font-medium text-slate-800",children:Math.min(e*n,E.total)})," of"," ",l.jsx("span",{className:"font-medium text-slate-800",children:E.total})," logs"]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>O(e-1),disabled:e===1,className:`btn ${e===1?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Previous"}),l.jsx("button",{onClick:()=>O(e+1),disabled:e===E.totalPages,className:`btn ${e===E.totalPages?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Next"})]})]})]})]})},XU=new JD({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),Ua=({children:e})=>{const{user:t,loading:n}=or();return n?l.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?e:l.jsx(X0,{to:"/login"})},h3=({children:e})=>{const{user:t,loading:n,isAdmin:r}=or();return n?l.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?r()?e:l.jsx(X0,{to:"/dashboard"}):l.jsx(X0,{to:"/login"})},Ei=({children:e})=>{const[t,n]=M.useState(!0),[r,i]=M.useState(!1);return l.jsxs("div",{className:"min-h-screen bg-slate-50",children:[l.jsx(Y9,{}),l.jsx(H9,{}),l.jsx(V9,{isOpen:t,isCollapsed:r,toggleSidebar:n,toggleCollapse:i}),l.jsx("main",{className:`main-content pt-16 ${t?r?"main-content-with-sidebar-collapsed":"main-content-with-sidebar":""}`,children:l.jsx("div",{className:"container-app",children:l.jsx("div",{className:"space-y-6",children:e})})})]})},QU=()=>l.jsx(MD,{children:l.jsxs(kD,{children:[l.jsx(ms,{path:"/login",element:l.jsx($9,{})}),l.jsx(ms,{path:"/",element:l.jsx(Ua,{children:l.jsx(Ei,{children:l.jsx(Kb,{})})})}),l.jsx(ms,{path:"/dashboard",element:l.jsx(Ua,{children:l.jsx(Ei,{children:l.jsx(Kb,{})})})}),l.jsx(ms,{path:"/simple-dashboard",element:l.jsx(Ua,{children:l.jsx(Ei,{children:l.jsx(CF,{})})})}),l.jsx(ms,{path:"/equipment/new",element:l.jsx(Ua,{children:l.jsx(Ei,{children:l.jsx(YU,{})})})}),l.jsx(ms,{path:"/equipment/:id/edit",element:l.jsx(Ua,{children:l.jsx(Ei,{children:l.jsx(qU,{})})})}),l.jsx(ms,{path:"/equipment/:id",element:l.jsx(Ua,{children:l.jsx(Ei,{children:l.jsx(HU,{})})})}),l.jsx(ms,{path:"/equipment",element:l.jsx(Ua,{children:l.jsx(Ei,{children:l.jsx(iU,{})})})}),l.jsx(ms,{path:"/admin",element:l.jsx(h3,{children:l.jsx(Ei,{children:l.jsx($U,{})})})}),l.jsx(ms,{path:"/equipment-logs",element:l.jsx(h3,{children:l.jsx(Ei,{children:l.jsx(GU,{})})})}),l.jsx(ms,{path:"/settings",element:l.jsx(Ua,{children:l.jsx(Ei,{children:l.jsx(iB,{})})})}),l.jsx(ms,{path:"*",element:l.jsx(X0,{to:"/"})})]})}),KU=()=>l.jsx(p7,{client:XU,children:l.jsx(aR,{children:l.jsxs(FE,{children:[l.jsx(Jh,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),l.jsx(QU,{})]})})});const ZU=async()=>{try{return(await dt.get("/api/csrf-token",{withCredentials:!0})).data.csrfToken}catch(e){return console.error("Failed to fetch CSRF token:",e),null}},JU=async()=>{dt.defaults.withCredentials=!0;const e=localStorage.getItem("token");e&&(dt.defaults.headers.common.Authorization=`Bearer ${e}`),dt.interceptors.response.use(t=>t,async t=>{var r;const n=t.config;if(n&&(n.url.includes("/files/")||n.url.includes("/public-files/")))return console.log("File access error:",t),Promise.reject(t);if(((r=t.response)==null?void 0:r.status)===401&&!n._retry){n._retry=!0;try{return window.location.pathname!=="/login"&&(localStorage.removeItem("token"),delete dt.defaults.headers.common.Authorization,alert("Your session has expired. Please log in again."),window.location.href="/login"),Promise.reject(t)}catch(i){return Promise.reject(i)}}return Promise.reject(t)});{const t=await ZU();t&&dt.interceptors.request.use(async n=>(n.method!=="get"&&(n.headers["CSRF-Token"]=t),n),n=>Promise.reject(n))}return dt};console.log("API URL:","http://localhost:5000");console.log("Environment PROD:",!0);console.log("Environment MODE:","production");console.log("🚀 Theater Equipment Catalog - Kinsta Deployment v3");let Ch;window.location.hostname==="tonlager.kinsta.app"?(Ch="",console.log("🎯 Kinsta detected - using relative URL")):(Ch="",console.log("🏭 Production mode - using relative URL"));dt.defaults.baseURL=Ch;console.log("Setting axios baseURL to:",Ch);const ez=async()=>{await JU(),cm.createRoot(document.getElementById("root")).render(l.jsx(fe.StrictMode,{children:l.jsx(KU,{})}))};ez();
//# sourceMappingURL=index-a894a043.js.map
