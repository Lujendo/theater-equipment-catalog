var tk=Object.defineProperty;var nk=(e,n,t)=>n in e?tk(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Be=(e,n,t)=>(nk(e,typeof n!="symbol"?n+"":n,t),t);function s3(e,n){for(var t=0;t<n.length;t++){const r=n[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var _s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a3={exports:{}},bh={},o3={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=Symbol.for("react.element"),rk=Symbol.for("react.portal"),ik=Symbol.for("react.fragment"),sk=Symbol.for("react.strict_mode"),ak=Symbol.for("react.profiler"),ok=Symbol.for("react.provider"),lk=Symbol.for("react.context"),ck=Symbol.for("react.forward_ref"),uk=Symbol.for("react.suspense"),dk=Symbol.for("react.memo"),fk=Symbol.for("react.lazy"),sw=Symbol.iterator;function hk(e){return e===null||typeof e!="object"?null:(e=sw&&e[sw]||e["@@iterator"],typeof e=="function"?e:null)}var l3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c3=Object.assign,u3={};function Ec(e,n,t){this.props=e,this.context=n,this.refs=u3,this.updater=t||l3}Ec.prototype.isReactComponent={};Ec.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Ec.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function d3(){}d3.prototype=Ec.prototype;function Rg(e,n,t){this.props=e,this.context=n,this.refs=u3,this.updater=t||l3}var Og=Rg.prototype=new d3;Og.constructor=Rg;c3(Og,Ec.prototype);Og.isPureReactComponent=!0;var aw=Array.isArray,f3=Object.prototype.hasOwnProperty,Mg={current:null},h3={key:!0,ref:!0,__self:!0,__source:!0};function p3(e,n,t){var r,s={},a=null,d=null;if(n!=null)for(r in n.ref!==void 0&&(d=n.ref),n.key!==void 0&&(a=""+n.key),n)f3.call(n,r)&&!h3.hasOwnProperty(r)&&(s[r]=n[r]);var g=arguments.length-2;if(g===1)s.children=t;else if(1<g){for(var v=Array(g),x=0;x<g;x++)v[x]=arguments[x+2];s.children=v}if(e&&e.defaultProps)for(r in g=e.defaultProps,g)s[r]===void 0&&(s[r]=g[r]);return{$$typeof:hd,type:e,key:a,ref:d,props:s,_owner:Mg.current}}function pk(e,n){return{$$typeof:hd,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Lg(e){return typeof e=="object"&&e!==null&&e.$$typeof===hd}function mk(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return n[t]})}var ow=/\/+/g;function f1(e,n){return typeof e=="object"&&e!==null&&e.key!=null?mk(""+e.key):n.toString(36)}function Zf(e,n,t,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(a){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case hd:case rk:d=!0}}if(d)return d=e,s=s(d),e=r===""?"."+f1(d,0):r,aw(s)?(t="",e!=null&&(t=e.replace(ow,"$&/")+"/"),Zf(s,n,t,"",function(x){return x})):s!=null&&(Lg(s)&&(s=pk(s,t+(!s.key||d&&d.key===s.key?"":(""+s.key).replace(ow,"$&/")+"/")+e)),n.push(s)),1;if(d=0,r=r===""?".":r+":",aw(e))for(var g=0;g<e.length;g++){a=e[g];var v=r+f1(a,g);d+=Zf(a,n,t,v,s)}else if(v=hk(e),typeof v=="function")for(e=v.call(e),g=0;!(a=e.next()).done;)a=a.value,v=r+f1(a,g++),d+=Zf(a,n,t,v,s);else if(a==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return d}function Sf(e,n,t){if(e==null)return e;var r=[],s=0;return Zf(e,r,"","",function(a){return n.call(t,a,s++)}),r}function gk(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var qr={current:null},Jf={transition:null},xk={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:Jf,ReactCurrentOwner:Mg};function m3(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:Sf,forEach:function(e,n,t){Sf(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return Sf(e,function(){n++}),n},toArray:function(e){return Sf(e,function(n){return n})||[]},only:function(e){if(!Lg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bt.Component=Ec;bt.Fragment=ik;bt.Profiler=ak;bt.PureComponent=Rg;bt.StrictMode=sk;bt.Suspense=uk;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xk;bt.act=m3;bt.cloneElement=function(e,n,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=c3({},e.props),s=e.key,a=e.ref,d=e._owner;if(n!=null){if(n.ref!==void 0&&(a=n.ref,d=Mg.current),n.key!==void 0&&(s=""+n.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(v in n)f3.call(n,v)&&!h3.hasOwnProperty(v)&&(r[v]=n[v]===void 0&&g!==void 0?g[v]:n[v])}var v=arguments.length-2;if(v===1)r.children=t;else if(1<v){g=Array(v);for(var x=0;x<v;x++)g[x]=arguments[x+2];r.children=g}return{$$typeof:hd,type:e.type,key:s,ref:a,props:r,_owner:d}};bt.createContext=function(e){return e={$$typeof:lk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ok,_context:e},e.Consumer=e};bt.createElement=p3;bt.createFactory=function(e){var n=p3.bind(null,e);return n.type=e,n};bt.createRef=function(){return{current:null}};bt.forwardRef=function(e){return{$$typeof:ck,render:e}};bt.isValidElement=Lg;bt.lazy=function(e){return{$$typeof:fk,_payload:{_status:-1,_result:e},_init:gk}};bt.memo=function(e,n){return{$$typeof:dk,type:e,compare:n===void 0?null:n}};bt.startTransition=function(e){var n=Jf.transition;Jf.transition={};try{e()}finally{Jf.transition=n}};bt.unstable_act=m3;bt.useCallback=function(e,n){return qr.current.useCallback(e,n)};bt.useContext=function(e){return qr.current.useContext(e)};bt.useDebugValue=function(){};bt.useDeferredValue=function(e){return qr.current.useDeferredValue(e)};bt.useEffect=function(e,n){return qr.current.useEffect(e,n)};bt.useId=function(){return qr.current.useId()};bt.useImperativeHandle=function(e,n,t){return qr.current.useImperativeHandle(e,n,t)};bt.useInsertionEffect=function(e,n){return qr.current.useInsertionEffect(e,n)};bt.useLayoutEffect=function(e,n){return qr.current.useLayoutEffect(e,n)};bt.useMemo=function(e,n){return qr.current.useMemo(e,n)};bt.useReducer=function(e,n,t){return qr.current.useReducer(e,n,t)};bt.useRef=function(e){return qr.current.useRef(e)};bt.useState=function(e){return qr.current.useState(e)};bt.useSyncExternalStore=function(e,n,t){return qr.current.useSyncExternalStore(e,n,t)};bt.useTransition=function(){return qr.current.useTransition()};bt.version="18.3.1";o3.exports=bt;var L=o3.exports;const de=yh(L),Pg=s3({__proto__:null,default:de},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vk=L,wk=Symbol.for("react.element"),yk=Symbol.for("react.fragment"),bk=Object.prototype.hasOwnProperty,Ck=vk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ek={key:!0,ref:!0,__self:!0,__source:!0};function g3(e,n,t){var r,s={},a=null,d=null;t!==void 0&&(a=""+t),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(d=n.ref);for(r in n)bk.call(n,r)&&!Ek.hasOwnProperty(r)&&(s[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)s[r]===void 0&&(s[r]=n[r]);return{$$typeof:wk,type:e,key:a,ref:d,props:s,_owner:Ck.current}}bh.Fragment=yk;bh.jsx=g3;bh.jsxs=g3;a3.exports=bh;var c=a3.exports,nm={},x3={exports:{}},bi={},v3={exports:{}},w3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(ue,_e){var Re=ue.length;ue.push(_e);e:for(;0<Re;){var Oe=Re-1>>>1,Je=ue[Oe];if(0<s(Je,_e))ue[Oe]=_e,ue[Re]=Je,Re=Oe;else break e}}function t(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var _e=ue[0],Re=ue.pop();if(Re!==_e){ue[0]=Re;e:for(var Oe=0,Je=ue.length,cn=Je>>>1;Oe<cn;){var mt=2*(Oe+1)-1,Ie=ue[mt],Ae=mt+1,ot=ue[Ae];if(0>s(Ie,Re))Ae<Je&&0>s(ot,Ie)?(ue[Oe]=ot,ue[Ae]=Re,Oe=Ae):(ue[Oe]=Ie,ue[mt]=Re,Oe=mt);else if(Ae<Je&&0>s(ot,Re))ue[Oe]=ot,ue[Ae]=Re,Oe=Ae;else break e}}return _e}function s(ue,_e){var Re=ue.sortIndex-_e.sortIndex;return Re!==0?Re:ue.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var v=[],x=[],y=1,E=null,_=3,k=!1,S=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ue){for(var _e=t(x);_e!==null;){if(_e.callback===null)r(x);else if(_e.startTime<=ue)r(x),_e.sortIndex=_e.expirationTime,n(v,_e);else break;_e=t(x)}}function q(ue){if(R=!1,j(ue),!S)if(t(v)!==null)S=!0,Se(Q);else{var _e=t(x);_e!==null&&ye(q,_e.startTime-ue)}}function Q(ue,_e){S=!1,R&&(R=!1,I(V),V=-1),k=!0;var Re=_;try{for(j(_e),E=t(v);E!==null&&(!(E.expirationTime>_e)||ue&&!le());){var Oe=E.callback;if(typeof Oe=="function"){E.callback=null,_=E.priorityLevel;var Je=Oe(E.expirationTime<=_e);_e=e.unstable_now(),typeof Je=="function"?E.callback=Je:E===t(v)&&r(v),j(_e)}else r(v);E=t(v)}if(E!==null)var cn=!0;else{var mt=t(x);mt!==null&&ye(q,mt.startTime-_e),cn=!1}return cn}finally{E=null,_=Re,k=!1}}var B=!1,F=null,V=-1,W=5,se=-1;function le(){return!(e.unstable_now()-se<W)}function ie(){if(F!==null){var ue=e.unstable_now();se=ue;var _e=!0;try{_e=F(!0,ue)}finally{_e?ce():(B=!1,F=null)}}else B=!1}var ce;if(typeof D=="function")ce=function(){D(ie)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,re=xe.port2;xe.port1.onmessage=ie,ce=function(){re.postMessage(null)}}else ce=function(){O(ie,0)};function Se(ue){F=ue,B||(B=!0,ce())}function ye(ue,_e){V=O(function(){ue(e.unstable_now())},_e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ue){ue.callback=null},e.unstable_continueExecution=function(){S||k||(S=!0,Se(Q))},e.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ue?Math.floor(1e3/ue):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return t(v)},e.unstable_next=function(ue){switch(_){case 1:case 2:case 3:var _e=3;break;default:_e=_}var Re=_;_=_e;try{return ue()}finally{_=Re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ue,_e){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Re=_;_=ue;try{return _e()}finally{_=Re}},e.unstable_scheduleCallback=function(ue,_e,Re){var Oe=e.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?Oe+Re:Oe):Re=Oe,ue){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=Re+Je,ue={id:y++,callback:_e,priorityLevel:ue,startTime:Re,expirationTime:Je,sortIndex:-1},Re>Oe?(ue.sortIndex=Re,n(x,ue),t(v)===null&&ue===t(x)&&(R?(I(V),V=-1):R=!0,ye(q,Re-Oe))):(ue.sortIndex=Je,n(v,ue),S||k||(S=!0,Se(Q))),ue},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(ue){var _e=_;return function(){var Re=_;_=_e;try{return ue.apply(this,arguments)}finally{_=Re}}}})(w3);v3.exports=w3;var Nk=v3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _k=L,yi=Nk;function ke(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y3=new Set,Bu={};function fl(e,n){ac(e,n),ac(e+"Capture",n)}function ac(e,n){for(Bu[e]=n,e=0;e<n.length;e++)y3.add(n[e])}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rm=Object.prototype.hasOwnProperty,Sk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lw={},cw={};function Ak(e){return rm.call(cw,e)?!0:rm.call(lw,e)?!1:Sk.test(e)?cw[e]=!0:(lw[e]=!0,!1)}function kk(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tk(e,n,t,r){if(n===null||typeof n>"u"||kk(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Vr(e,n,t,r,s,a,d){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=d}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new Vr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];vr[n]=new Vr(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new Vr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new Vr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new Vr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new Vr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new Vr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new Vr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new Vr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fg=/[\-:]([a-z])/g;function Bg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Fg,Bg);vr[n]=new Vr(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Fg,Bg);vr[n]=new Vr(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Fg,Bg);vr[n]=new Vr(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new Vr(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new Vr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ug(e,n,t,r){var s=vr.hasOwnProperty(n)?vr[n]:null;(s!==null?s.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Tk(n,t,s,r)&&(t=null),r||s===null?Ak(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):s.mustUseProperty?e[s.propertyName]=t===null?s.type===3?!1:"":t:(n=s.attributeName,r=s.attributeNamespace,t===null?e.removeAttribute(n):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}var va=_k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Af=Symbol.for("react.element"),Pl=Symbol.for("react.portal"),Fl=Symbol.for("react.fragment"),zg=Symbol.for("react.strict_mode"),im=Symbol.for("react.profiler"),b3=Symbol.for("react.provider"),C3=Symbol.for("react.context"),Wg=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),am=Symbol.for("react.suspense_list"),Hg=Symbol.for("react.memo"),Fa=Symbol.for("react.lazy"),E3=Symbol.for("react.offscreen"),uw=Symbol.iterator;function uu(e){return e===null||typeof e!="object"?null:(e=uw&&e[uw]||e["@@iterator"],typeof e=="function"?e:null)}var An=Object.assign,h1;function Eu(e){if(h1===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);h1=n&&n[1]||""}return`
`+h1+e}var p1=!1;function m1(e,n){if(!e||p1)return"";p1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(x){var r=x}Reflect.construct(e,[],n)}else{try{n.call()}catch(x){r=x}e.call(n.prototype)}else{try{throw Error()}catch(x){r=x}e()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var s=x.stack.split(`
`),a=r.stack.split(`
`),d=s.length-1,g=a.length-1;1<=d&&0<=g&&s[d]!==a[g];)g--;for(;1<=d&&0<=g;d--,g--)if(s[d]!==a[g]){if(d!==1||g!==1)do if(d--,g--,0>g||s[d]!==a[g]){var v=`
`+s[d].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=d&&0<=g);break}}}finally{p1=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?Eu(e):""}function Dk(e){switch(e.tag){case 5:return Eu(e.type);case 16:return Eu("Lazy");case 13:return Eu("Suspense");case 19:return Eu("SuspenseList");case 0:case 2:case 15:return e=m1(e.type,!1),e;case 11:return e=m1(e.type.render,!1),e;case 1:return e=m1(e.type,!0),e;default:return""}}function om(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fl:return"Fragment";case Pl:return"Portal";case im:return"Profiler";case zg:return"StrictMode";case sm:return"Suspense";case am:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C3:return(e.displayName||"Context")+".Consumer";case b3:return(e._context.displayName||"Context")+".Provider";case Wg:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hg:return n=e.displayName||null,n!==null?n:om(e.type)||"Memo";case Fa:n=e._payload,e=e._init;try{return om(e(n))}catch{}}return null}function Ik(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return om(n);case 8:return n===zg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N3(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jk(e){var n=N3(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,a=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return s.call(this)},set:function(d){r=""+d,a.call(this,d)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function kf(e){e._valueTracker||(e._valueTracker=jk(e))}function _3(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=N3(e)?e.checked?"true":"false":e.value),e=r,e!==t?(n.setValue(e),!0):!1}function C0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lm(e,n){var t=n.checked;return An({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function dw(e,n){var t=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;t=ao(n.value!=null?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function S3(e,n){n=n.checked,n!=null&&Ug(e,"checked",n,!1)}function cm(e,n){S3(e,n);var t=ao(n.value),r=n.type;if(t!=null)r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?um(e,n.type,t):n.hasOwnProperty("defaultValue")&&um(e,n.type,ao(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function fw(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function um(e,n,t){(n!=="number"||C0(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var Nu=Array.isArray;function Kl(e,n,t,r){if(e=e.options,n){n={};for(var s=0;s<t.length;s++)n["$"+t[s]]=!0;for(t=0;t<e.length;t++)s=n.hasOwnProperty("$"+e[t].value),e[t].selected!==s&&(e[t].selected=s),s&&r&&(e[t].defaultSelected=!0)}else{for(t=""+ao(t),n=null,s=0;s<e.length;s++){if(e[s].value===t){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}n!==null||e[s].disabled||(n=e[s])}n!==null&&(n.selected=!0)}}function dm(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ke(91));return An({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hw(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error(ke(92));if(Nu(t)){if(1<t.length)throw Error(ke(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:ao(t)}}function A3(e,n){var t=ao(n.value),r=ao(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),r!=null&&(e.defaultValue=""+r)}function pw(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function k3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fm(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?k3(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tf,T3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,r,s){MSApp.execUnsafeLocalFunction(function(){return e(n,t,r,s)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Tf=Tf||document.createElement("div"),Tf.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Tf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Uu(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}var Tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rk=["Webkit","ms","Moz","O"];Object.keys(Tu).forEach(function(e){Rk.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Tu[n]=Tu[e]})});function D3(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||Tu.hasOwnProperty(e)&&Tu[e]?(""+n).trim():n+"px"}function I3(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=D3(t,n[t],r);t==="float"&&(t="cssFloat"),r?e.setProperty(t,s):e[t]=s}}var Ok=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hm(e,n){if(n){if(Ok[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ke(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ke(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ke(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ke(62))}}function pm(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mm=null;function qg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gm=null,Zl=null,Jl=null;function mw(e){if(e=gd(e)){if(typeof gm!="function")throw Error(ke(280));var n=e.stateNode;n&&(n=Sh(n),gm(e.stateNode,e.type,n))}}function j3(e){Zl?Jl?Jl.push(e):Jl=[e]:Zl=e}function R3(){if(Zl){var e=Zl,n=Jl;if(Jl=Zl=null,mw(e),n)for(e=0;e<n.length;e++)mw(n[e])}}function O3(e,n){return e(n)}function M3(){}var g1=!1;function L3(e,n,t){if(g1)return e(n,t);g1=!0;try{return O3(e,n,t)}finally{g1=!1,(Zl!==null||Jl!==null)&&(M3(),R3())}}function zu(e,n){var t=e.stateNode;if(t===null)return null;var r=Sh(t);if(r===null)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(ke(231,n,typeof t));return t}var xm=!1;if(da)try{var du={};Object.defineProperty(du,"passive",{get:function(){xm=!0}}),window.addEventListener("test",du,du),window.removeEventListener("test",du,du)}catch{xm=!1}function Mk(e,n,t,r,s,a,d,g,v){var x=Array.prototype.slice.call(arguments,3);try{n.apply(t,x)}catch(y){this.onError(y)}}var Du=!1,E0=null,N0=!1,vm=null,Lk={onError:function(e){Du=!0,E0=e}};function Pk(e,n,t,r,s,a,d,g,v){Du=!1,E0=null,Mk.apply(Lk,arguments)}function Fk(e,n,t,r,s,a,d,g,v){if(Pk.apply(this,arguments),Du){if(Du){var x=E0;Du=!1,E0=null}else throw Error(ke(198));N0||(N0=!0,vm=x)}}function hl(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function P3(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function gw(e){if(hl(e)!==e)throw Error(ke(188))}function Bk(e){var n=e.alternate;if(!n){if(n=hl(e),n===null)throw Error(ke(188));return n!==e?null:e}for(var t=e,r=n;;){var s=t.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===t)return gw(s),e;if(a===r)return gw(s),n;a=a.sibling}throw Error(ke(188))}if(t.return!==r.return)t=s,r=a;else{for(var d=!1,g=s.child;g;){if(g===t){d=!0,t=s,r=a;break}if(g===r){d=!0,r=s,t=a;break}g=g.sibling}if(!d){for(g=a.child;g;){if(g===t){d=!0,t=a,r=s;break}if(g===r){d=!0,r=a,t=s;break}g=g.sibling}if(!d)throw Error(ke(189))}}if(t.alternate!==r)throw Error(ke(190))}if(t.tag!==3)throw Error(ke(188));return t.stateNode.current===t?e:n}function F3(e){return e=Bk(e),e!==null?B3(e):null}function B3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=B3(e);if(n!==null)return n;e=e.sibling}return null}var U3=yi.unstable_scheduleCallback,xw=yi.unstable_cancelCallback,Uk=yi.unstable_shouldYield,zk=yi.unstable_requestPaint,Wn=yi.unstable_now,Wk=yi.unstable_getCurrentPriorityLevel,Vg=yi.unstable_ImmediatePriority,z3=yi.unstable_UserBlockingPriority,_0=yi.unstable_NormalPriority,Hk=yi.unstable_LowPriority,W3=yi.unstable_IdlePriority,Ch=null,Ds=null;function qk(e){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(Ch,e,void 0,(e.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:Gk,Vk=Math.log,Yk=Math.LN2;function Gk(e){return e>>>=0,e===0?32:31-(Vk(e)/Yk|0)|0}var Df=64,If=4194304;function _u(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function S0(e,n){var t=e.pendingLanes;if(t===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,d=t&268435455;if(d!==0){var g=d&~s;g!==0?r=_u(g):(a&=d,a!==0&&(r=_u(a)))}else d=t&~s,d!==0?r=_u(d):a!==0&&(r=_u(a));if(r===0)return 0;if(n!==0&&n!==r&&!(n&s)&&(s=r&-r,a=n&-n,s>=a||s===16&&(a&4194240)!==0))return n;if(r&4&&(r|=t&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=r;0<n;)t=31-ss(n),s=1<<t,r|=e[t],n&=~s;return r}function $k(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xk(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var d=31-ss(a),g=1<<d,v=s[d];v===-1?(!(g&t)||g&r)&&(s[d]=$k(g,n)):v<=n&&(e.expiredLanes|=g),a&=~g}}function wm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function H3(){var e=Df;return Df<<=1,!(Df&4194240)&&(Df=64),e}function x1(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function pd(e,n,t){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-ss(n),e[n]=t}function Qk(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var s=31-ss(t),a=1<<s;n[s]=0,r[s]=-1,e[s]=-1,t&=~a}}function Yg(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-ss(t),s=1<<r;s&n|e[r]&n&&(e[r]|=n),t&=~s}}var Zt=0;function q3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var V3,Gg,Y3,G3,$3,ym=!1,jf=[],Xa=null,Qa=null,Ka=null,Wu=new Map,Hu=new Map,za=[],Kk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vw(e,n){switch(e){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":Wu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(n.pointerId)}}function fu(e,n,t,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},n!==null&&(n=gd(n),n!==null&&Gg(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,s!==null&&n.indexOf(s)===-1&&n.push(s),e)}function Zk(e,n,t,r,s){switch(n){case"focusin":return Xa=fu(Xa,e,n,t,r,s),!0;case"dragenter":return Qa=fu(Qa,e,n,t,r,s),!0;case"mouseover":return Ka=fu(Ka,e,n,t,r,s),!0;case"pointerover":var a=s.pointerId;return Wu.set(a,fu(Wu.get(a)||null,e,n,t,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Hu.set(a,fu(Hu.get(a)||null,e,n,t,r,s)),!0}return!1}function X3(e){var n=Vo(e.target);if(n!==null){var t=hl(n);if(t!==null){if(n=t.tag,n===13){if(n=P3(t),n!==null){e.blockedOn=n,$3(e.priority,function(){Y3(t)});return}}else if(n===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function e0(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var t=bm(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var r=new t.constructor(t.type,t);mm=r,t.target.dispatchEvent(r),mm=null}else return n=gd(t),n!==null&&Gg(n),e.blockedOn=t,!1;n.shift()}return!0}function ww(e,n,t){e0(e)&&t.delete(n)}function Jk(){ym=!1,Xa!==null&&e0(Xa)&&(Xa=null),Qa!==null&&e0(Qa)&&(Qa=null),Ka!==null&&e0(Ka)&&(Ka=null),Wu.forEach(ww),Hu.forEach(ww)}function hu(e,n){e.blockedOn===n&&(e.blockedOn=null,ym||(ym=!0,yi.unstable_scheduleCallback(yi.unstable_NormalPriority,Jk)))}function qu(e){function n(s){return hu(s,e)}if(0<jf.length){hu(jf[0],e);for(var t=1;t<jf.length;t++){var r=jf[t];r.blockedOn===e&&(r.blockedOn=null)}}for(Xa!==null&&hu(Xa,e),Qa!==null&&hu(Qa,e),Ka!==null&&hu(Ka,e),Wu.forEach(n),Hu.forEach(n),t=0;t<za.length;t++)r=za[t],r.blockedOn===e&&(r.blockedOn=null);for(;0<za.length&&(t=za[0],t.blockedOn===null);)X3(t),t.blockedOn===null&&za.shift()}var ec=va.ReactCurrentBatchConfig,A0=!0;function eT(e,n,t,r){var s=Zt,a=ec.transition;ec.transition=null;try{Zt=1,$g(e,n,t,r)}finally{Zt=s,ec.transition=a}}function tT(e,n,t,r){var s=Zt,a=ec.transition;ec.transition=null;try{Zt=4,$g(e,n,t,r)}finally{Zt=s,ec.transition=a}}function $g(e,n,t,r){if(A0){var s=bm(e,n,t,r);if(s===null)A1(e,n,r,k0,t),vw(e,r);else if(Zk(s,e,n,t,r))r.stopPropagation();else if(vw(e,r),n&4&&-1<Kk.indexOf(e)){for(;s!==null;){var a=gd(s);if(a!==null&&V3(a),a=bm(e,n,t,r),a===null&&A1(e,n,r,k0,t),a===s)break;s=a}s!==null&&r.stopPropagation()}else A1(e,n,r,null,t)}}var k0=null;function bm(e,n,t,r){if(k0=null,e=qg(r),e=Vo(e),e!==null)if(n=hl(e),n===null)e=null;else if(t=n.tag,t===13){if(e=P3(n),e!==null)return e;e=null}else if(t===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return k0=e,null}function Q3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wk()){case Vg:return 1;case z3:return 4;case _0:case Hk:return 16;case W3:return 536870912;default:return 16}default:return 16}}var qa=null,Xg=null,t0=null;function K3(){if(t0)return t0;var e,n=Xg,t=n.length,r,s="value"in qa?qa.value:qa.textContent,a=s.length;for(e=0;e<t&&n[e]===s[e];e++);var d=t-e;for(r=1;r<=d&&n[t-r]===s[a-r];r++);return t0=s.slice(e,1<r?1-r:void 0)}function n0(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Rf(){return!0}function yw(){return!1}function Ci(e){function n(t,r,s,a,d){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(t=e[g],this[g]=t?t(a):a[g]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Rf:yw,this.isPropagationStopped=yw,this}return An(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Rf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Rf)},persist:function(){},isPersistent:Rf}),n}var Nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qg=Ci(Nc),md=An({},Nc,{view:0,detail:0}),nT=Ci(md),v1,w1,pu,Eh=An({},md,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pu&&(pu&&e.type==="mousemove"?(v1=e.screenX-pu.screenX,w1=e.screenY-pu.screenY):w1=v1=0,pu=e),v1)},movementY:function(e){return"movementY"in e?e.movementY:w1}}),bw=Ci(Eh),rT=An({},Eh,{dataTransfer:0}),iT=Ci(rT),sT=An({},md,{relatedTarget:0}),y1=Ci(sT),aT=An({},Nc,{animationName:0,elapsedTime:0,pseudoElement:0}),oT=Ci(aT),lT=An({},Nc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cT=Ci(lT),uT=An({},Nc,{data:0}),Cw=Ci(uT),dT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pT(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hT[e])?!!n[e]:!1}function Kg(){return pT}var mT=An({},md,{key:function(e){if(e.key){var n=dT[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=n0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kg,charCode:function(e){return e.type==="keypress"?n0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?n0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gT=Ci(mT),xT=An({},Eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ew=Ci(xT),vT=An({},md,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kg}),wT=Ci(vT),yT=An({},Nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),bT=Ci(yT),CT=An({},Eh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ET=Ci(CT),NT=[9,13,27,32],Zg=da&&"CompositionEvent"in window,Iu=null;da&&"documentMode"in document&&(Iu=document.documentMode);var _T=da&&"TextEvent"in window&&!Iu,Z3=da&&(!Zg||Iu&&8<Iu&&11>=Iu),Nw=String.fromCharCode(32),_w=!1;function J3(e,n){switch(e){case"keyup":return NT.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bl=!1;function ST(e,n){switch(e){case"compositionend":return e4(n);case"keypress":return n.which!==32?null:(_w=!0,Nw);case"textInput":return e=n.data,e===Nw&&_w?null:e;default:return null}}function AT(e,n){if(Bl)return e==="compositionend"||!Zg&&J3(e,n)?(e=K3(),t0=Xg=qa=null,Bl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Z3&&n.locale!=="ko"?null:n.data;default:return null}}var kT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sw(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!kT[e.type]:n==="textarea"}function t4(e,n,t,r){j3(r),n=T0(n,"onChange"),0<n.length&&(t=new Qg("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var ju=null,Vu=null;function TT(e){f4(e,0)}function Nh(e){var n=Wl(e);if(_3(n))return e}function DT(e,n){if(e==="change")return n}var n4=!1;if(da){var b1;if(da){var C1="oninput"in document;if(!C1){var Aw=document.createElement("div");Aw.setAttribute("oninput","return;"),C1=typeof Aw.oninput=="function"}b1=C1}else b1=!1;n4=b1&&(!document.documentMode||9<document.documentMode)}function kw(){ju&&(ju.detachEvent("onpropertychange",r4),Vu=ju=null)}function r4(e){if(e.propertyName==="value"&&Nh(Vu)){var n=[];t4(n,Vu,e,qg(e)),L3(TT,n)}}function IT(e,n,t){e==="focusin"?(kw(),ju=n,Vu=t,ju.attachEvent("onpropertychange",r4)):e==="focusout"&&kw()}function jT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nh(Vu)}function RT(e,n){if(e==="click")return Nh(n)}function OT(e,n){if(e==="input"||e==="change")return Nh(n)}function MT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var cs=typeof Object.is=="function"?Object.is:MT;function Yu(e,n){if(cs(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!rm.call(n,s)||!cs(e[s],n[s]))return!1}return!0}function Tw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dw(e,n){var t=Tw(e);e=0;for(var r;t;){if(t.nodeType===3){if(r=e+t.textContent.length,e<=n&&r>=n)return{node:t,offset:n-e};e=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Tw(t)}}function i4(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?i4(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function s4(){for(var e=window,n=C0();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=C0(e.document)}return n}function Jg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function LT(e){var n=s4(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&i4(t.ownerDocument.documentElement,t)){if(r!==null&&Jg(t)){if(n=r.start,e=r.end,e===void 0&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if(e=(n=t.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var s=t.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Dw(t,a);var d=Dw(t,r);s&&d&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(n=n.createRange(),n.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(n),e.extend(d.node,d.offset)):(n.setEnd(d.node,d.offset),e.addRange(n)))}}for(n=[],e=t;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<n.length;t++)e=n[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PT=da&&"documentMode"in document&&11>=document.documentMode,Ul=null,Cm=null,Ru=null,Em=!1;function Iw(e,n,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Em||Ul==null||Ul!==C0(r)||(r=Ul,"selectionStart"in r&&Jg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ru&&Yu(Ru,r)||(Ru=r,r=T0(Cm,"onSelect"),0<r.length&&(n=new Qg("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=Ul)))}function Of(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var zl={animationend:Of("Animation","AnimationEnd"),animationiteration:Of("Animation","AnimationIteration"),animationstart:Of("Animation","AnimationStart"),transitionend:Of("Transition","TransitionEnd")},E1={},a4={};da&&(a4=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function _h(e){if(E1[e])return E1[e];if(!zl[e])return e;var n=zl[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in a4)return E1[e]=n[t];return e}var o4=_h("animationend"),l4=_h("animationiteration"),c4=_h("animationstart"),u4=_h("transitionend"),d4=new Map,jw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(e,n){d4.set(e,n),fl(n,[e])}for(var N1=0;N1<jw.length;N1++){var _1=jw[N1],FT=_1.toLowerCase(),BT=_1[0].toUpperCase()+_1.slice(1);uo(FT,"on"+BT)}uo(o4,"onAnimationEnd");uo(l4,"onAnimationIteration");uo(c4,"onAnimationStart");uo("dblclick","onDoubleClick");uo("focusin","onFocus");uo("focusout","onBlur");uo(u4,"onTransitionEnd");ac("onMouseEnter",["mouseout","mouseover"]);ac("onMouseLeave",["mouseout","mouseover"]);ac("onPointerEnter",["pointerout","pointerover"]);ac("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Su));function Rw(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,Fk(r,n,void 0,e),e.currentTarget=null}function f4(e,n){n=(n&4)!==0;for(var t=0;t<e.length;t++){var r=e[t],s=r.event;r=r.listeners;e:{var a=void 0;if(n)for(var d=r.length-1;0<=d;d--){var g=r[d],v=g.instance,x=g.currentTarget;if(g=g.listener,v!==a&&s.isPropagationStopped())break e;Rw(s,g,x),a=v}else for(d=0;d<r.length;d++){if(g=r[d],v=g.instance,x=g.currentTarget,g=g.listener,v!==a&&s.isPropagationStopped())break e;Rw(s,g,x),a=v}}}if(N0)throw e=vm,N0=!1,vm=null,e}function fn(e,n){var t=n[km];t===void 0&&(t=n[km]=new Set);var r=e+"__bubble";t.has(r)||(h4(n,e,2,!1),t.add(r))}function S1(e,n,t){var r=0;n&&(r|=4),h4(t,e,r,n)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function Gu(e){if(!e[Mf]){e[Mf]=!0,y3.forEach(function(t){t!=="selectionchange"&&(UT.has(t)||S1(t,!1,e),S1(t,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Mf]||(n[Mf]=!0,S1("selectionchange",!1,n))}}function h4(e,n,t,r){switch(Q3(n)){case 1:var s=eT;break;case 4:s=tT;break;default:s=$g}t=s.bind(null,n,t,e),s=void 0,!xm||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(n,t,{capture:!0,passive:s}):e.addEventListener(n,t,!0):s!==void 0?e.addEventListener(n,t,{passive:s}):e.addEventListener(n,t,!1)}function A1(e,n,t,r,s){var a=r;if(!(n&1)&&!(n&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var g=r.stateNode.containerInfo;if(g===s||g.nodeType===8&&g.parentNode===s)break;if(d===4)for(d=r.return;d!==null;){var v=d.tag;if((v===3||v===4)&&(v=d.stateNode.containerInfo,v===s||v.nodeType===8&&v.parentNode===s))return;d=d.return}for(;g!==null;){if(d=Vo(g),d===null)return;if(v=d.tag,v===5||v===6){r=a=d;continue e}g=g.parentNode}}r=r.return}L3(function(){var x=a,y=qg(t),E=[];e:{var _=d4.get(e);if(_!==void 0){var k=Qg,S=e;switch(e){case"keypress":if(n0(t)===0)break e;case"keydown":case"keyup":k=gT;break;case"focusin":S="focus",k=y1;break;case"focusout":S="blur",k=y1;break;case"beforeblur":case"afterblur":k=y1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=bw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=iT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=wT;break;case o4:case l4:case c4:k=oT;break;case u4:k=bT;break;case"scroll":k=nT;break;case"wheel":k=ET;break;case"copy":case"cut":case"paste":k=cT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ew}var R=(n&4)!==0,O=!R&&e==="scroll",I=R?_!==null?_+"Capture":null:_;R=[];for(var D=x,j;D!==null;){j=D;var q=j.stateNode;if(j.tag===5&&q!==null&&(j=q,I!==null&&(q=zu(D,I),q!=null&&R.push($u(D,q,j)))),O)break;D=D.return}0<R.length&&(_=new k(_,S,null,t,y),E.push({event:_,listeners:R}))}}if(!(n&7)){e:{if(_=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",_&&t!==mm&&(S=t.relatedTarget||t.fromElement)&&(Vo(S)||S[fa]))break e;if((k||_)&&(_=y.window===y?y:(_=y.ownerDocument)?_.defaultView||_.parentWindow:window,k?(S=t.relatedTarget||t.toElement,k=x,S=S?Vo(S):null,S!==null&&(O=hl(S),S!==O||S.tag!==5&&S.tag!==6)&&(S=null)):(k=null,S=x),k!==S)){if(R=bw,q="onMouseLeave",I="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(R=Ew,q="onPointerLeave",I="onPointerEnter",D="pointer"),O=k==null?_:Wl(k),j=S==null?_:Wl(S),_=new R(q,D+"leave",k,t,y),_.target=O,_.relatedTarget=j,q=null,Vo(y)===x&&(R=new R(I,D+"enter",S,t,y),R.target=j,R.relatedTarget=O,q=R),O=q,k&&S)t:{for(R=k,I=S,D=0,j=R;j;j=Ol(j))D++;for(j=0,q=I;q;q=Ol(q))j++;for(;0<D-j;)R=Ol(R),D--;for(;0<j-D;)I=Ol(I),j--;for(;D--;){if(R===I||I!==null&&R===I.alternate)break t;R=Ol(R),I=Ol(I)}R=null}else R=null;k!==null&&Ow(E,_,k,R,!1),S!==null&&O!==null&&Ow(E,O,S,R,!0)}}e:{if(_=x?Wl(x):window,k=_.nodeName&&_.nodeName.toLowerCase(),k==="select"||k==="input"&&_.type==="file")var Q=DT;else if(Sw(_))if(n4)Q=OT;else{Q=jT;var B=IT}else(k=_.nodeName)&&k.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(Q=RT);if(Q&&(Q=Q(e,x))){t4(E,Q,t,y);break e}B&&B(e,_,x),e==="focusout"&&(B=_._wrapperState)&&B.controlled&&_.type==="number"&&um(_,"number",_.value)}switch(B=x?Wl(x):window,e){case"focusin":(Sw(B)||B.contentEditable==="true")&&(Ul=B,Cm=x,Ru=null);break;case"focusout":Ru=Cm=Ul=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,Iw(E,t,y);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":Iw(E,t,y)}var F;if(Zg)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Bl?J3(e,t)&&(V="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(V="onCompositionStart");V&&(Z3&&t.locale!=="ko"&&(Bl||V!=="onCompositionStart"?V==="onCompositionEnd"&&Bl&&(F=K3()):(qa=y,Xg="value"in qa?qa.value:qa.textContent,Bl=!0)),B=T0(x,V),0<B.length&&(V=new Cw(V,e,null,t,y),E.push({event:V,listeners:B}),F?V.data=F:(F=e4(t),F!==null&&(V.data=F)))),(F=_T?ST(e,t):AT(e,t))&&(x=T0(x,"onBeforeInput"),0<x.length&&(y=new Cw("onBeforeInput","beforeinput",null,t,y),E.push({event:y,listeners:x}),y.data=F))}f4(E,n)})}function $u(e,n,t){return{instance:e,listener:n,currentTarget:t}}function T0(e,n){for(var t=n+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=zu(e,t),a!=null&&r.unshift($u(e,a,s)),a=zu(e,n),a!=null&&r.push($u(e,a,s))),e=e.return}return r}function Ol(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ow(e,n,t,r,s){for(var a=n._reactName,d=[];t!==null&&t!==r;){var g=t,v=g.alternate,x=g.stateNode;if(v!==null&&v===r)break;g.tag===5&&x!==null&&(g=x,s?(v=zu(t,a),v!=null&&d.unshift($u(t,v,g))):s||(v=zu(t,a),v!=null&&d.push($u(t,v,g)))),t=t.return}d.length!==0&&e.push({event:n,listeners:d})}var zT=/\r\n?/g,WT=/\u0000|\uFFFD/g;function Mw(e){return(typeof e=="string"?e:""+e).replace(zT,`
`).replace(WT,"")}function Lf(e,n,t){if(n=Mw(n),Mw(e)!==n&&t)throw Error(ke(425))}function D0(){}var Nm=null,_m=null;function Sm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Am=typeof setTimeout=="function"?setTimeout:void 0,HT=typeof clearTimeout=="function"?clearTimeout:void 0,Lw=typeof Promise=="function"?Promise:void 0,qT=typeof queueMicrotask=="function"?queueMicrotask:typeof Lw<"u"?function(e){return Lw.resolve(null).then(e).catch(VT)}:Am;function VT(e){setTimeout(function(){throw e})}function k1(e,n){var t=n,r=0;do{var s=t.nextSibling;if(e.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){e.removeChild(s),qu(n);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);qu(n)}function Za(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Pw(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(n===0)return e;n--}else t==="/$"&&n++}e=e.previousSibling}return null}var _c=Math.random().toString(36).slice(2),Ss="__reactFiber$"+_c,Xu="__reactProps$"+_c,fa="__reactContainer$"+_c,km="__reactEvents$"+_c,YT="__reactListeners$"+_c,GT="__reactHandles$"+_c;function Vo(e){var n=e[Ss];if(n)return n;for(var t=e.parentNode;t;){if(n=t[fa]||t[Ss]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=Pw(e);e!==null;){if(t=e[Ss])return t;e=Pw(e)}return n}e=t,t=e.parentNode}return null}function gd(e){return e=e[Ss]||e[fa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ke(33))}function Sh(e){return e[Xu]||null}var Tm=[],Hl=-1;function fo(e){return{current:e}}function pn(e){0>Hl||(e.current=Tm[Hl],Tm[Hl]=null,Hl--)}function ln(e,n){Hl++,Tm[Hl]=e.current,e.current=n}var oo={},Ir=fo(oo),ei=fo(!1),nl=oo;function oc(e,n){var t=e.type.contextTypes;if(!t)return oo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in t)s[a]=n[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),s}function ti(e){return e=e.childContextTypes,e!=null}function I0(){pn(ei),pn(Ir)}function Fw(e,n,t){if(Ir.current!==oo)throw Error(ke(168));ln(Ir,n),ln(ei,t)}function p4(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in n))throw Error(ke(108,Ik(e)||"Unknown",s));return An({},t,r)}function j0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oo,nl=Ir.current,ln(Ir,e),ln(ei,ei.current),!0}function Bw(e,n,t){var r=e.stateNode;if(!r)throw Error(ke(169));t?(e=p4(e,n,nl),r.__reactInternalMemoizedMergedChildContext=e,pn(ei),pn(Ir),ln(Ir,e)):pn(ei),ln(ei,t)}var na=null,Ah=!1,T1=!1;function m4(e){na===null?na=[e]:na.push(e)}function $T(e){Ah=!0,m4(e)}function ho(){if(!T1&&na!==null){T1=!0;var e=0,n=Zt;try{var t=na;for(Zt=1;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}na=null,Ah=!1}catch(s){throw na!==null&&(na=na.slice(e+1)),U3(Vg,ho),s}finally{Zt=n,T1=!1}}return null}var ql=[],Vl=0,R0=null,O0=0,Ui=[],zi=0,rl=null,ra=1,ia="";function zo(e,n){ql[Vl++]=O0,ql[Vl++]=R0,R0=e,O0=n}function g4(e,n,t){Ui[zi++]=ra,Ui[zi++]=ia,Ui[zi++]=rl,rl=e;var r=ra;e=ia;var s=32-ss(r)-1;r&=~(1<<s),t+=1;var a=32-ss(n)+s;if(30<a){var d=s-s%5;a=(r&(1<<d)-1).toString(32),r>>=d,s-=d,ra=1<<32-ss(n)+s|t<<s|r,ia=a+e}else ra=1<<a|t<<s|r,ia=e}function ex(e){e.return!==null&&(zo(e,1),g4(e,1,0))}function tx(e){for(;e===R0;)R0=ql[--Vl],ql[Vl]=null,O0=ql[--Vl],ql[Vl]=null;for(;e===rl;)rl=Ui[--zi],Ui[zi]=null,ia=Ui[--zi],Ui[zi]=null,ra=Ui[--zi],Ui[zi]=null}var vi=null,gi=null,wn=!1,is=null;function x4(e,n){var t=Hi(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)}function Uw(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,vi=e,gi=Za(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,vi=e,gi=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(t=rl!==null?{id:ra,overflow:ia}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},t=Hi(18,null,null,0),t.stateNode=n,t.return=e,e.child=t,vi=e,gi=null,!0):!1;default:return!1}}function Dm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Im(e){if(wn){var n=gi;if(n){var t=n;if(!Uw(e,n)){if(Dm(e))throw Error(ke(418));n=Za(t.nextSibling);var r=vi;n&&Uw(e,n)?x4(r,t):(e.flags=e.flags&-4097|2,wn=!1,vi=e)}}else{if(Dm(e))throw Error(ke(418));e.flags=e.flags&-4097|2,wn=!1,vi=e}}}function zw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vi=e}function Pf(e){if(e!==vi)return!1;if(!wn)return zw(e),wn=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Sm(e.type,e.memoizedProps)),n&&(n=gi)){if(Dm(e))throw v4(),Error(ke(418));for(;n;)x4(e,n),n=Za(n.nextSibling)}if(zw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ke(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(n===0){gi=Za(e.nextSibling);break e}n--}else t!=="$"&&t!=="$!"&&t!=="$?"||n++}e=e.nextSibling}gi=null}}else gi=vi?Za(e.stateNode.nextSibling):null;return!0}function v4(){for(var e=gi;e;)e=Za(e.nextSibling)}function lc(){gi=vi=null,wn=!1}function nx(e){is===null?is=[e]:is.push(e)}var XT=va.ReactCurrentBatchConfig;function mu(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ke(309));var r=t.stateNode}if(!r)throw Error(ke(147,e));var s=r,a=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===a?n.ref:(n=function(d){var g=s.refs;d===null?delete g[a]:g[a]=d},n._stringRef=a,n)}if(typeof e!="string")throw Error(ke(284));if(!t._owner)throw Error(ke(290,e))}return e}function Ff(e,n){throw e=Object.prototype.toString.call(n),Error(ke(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Ww(e){var n=e._init;return n(e._payload)}function w4(e){function n(I,D){if(e){var j=I.deletions;j===null?(I.deletions=[D],I.flags|=16):j.push(D)}}function t(I,D){if(!e)return null;for(;D!==null;)n(I,D),D=D.sibling;return null}function r(I,D){for(I=new Map;D!==null;)D.key!==null?I.set(D.key,D):I.set(D.index,D),D=D.sibling;return I}function s(I,D){return I=no(I,D),I.index=0,I.sibling=null,I}function a(I,D,j){return I.index=j,e?(j=I.alternate,j!==null?(j=j.index,j<D?(I.flags|=2,D):j):(I.flags|=2,D)):(I.flags|=1048576,D)}function d(I){return e&&I.alternate===null&&(I.flags|=2),I}function g(I,D,j,q){return D===null||D.tag!==6?(D=L1(j,I.mode,q),D.return=I,D):(D=s(D,j),D.return=I,D)}function v(I,D,j,q){var Q=j.type;return Q===Fl?y(I,D,j.props.children,q,j.key):D!==null&&(D.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Fa&&Ww(Q)===D.type)?(q=s(D,j.props),q.ref=mu(I,D,j),q.return=I,q):(q=c0(j.type,j.key,j.props,null,I.mode,q),q.ref=mu(I,D,j),q.return=I,q)}function x(I,D,j,q){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=P1(j,I.mode,q),D.return=I,D):(D=s(D,j.children||[]),D.return=I,D)}function y(I,D,j,q,Q){return D===null||D.tag!==7?(D=Zo(j,I.mode,q,Q),D.return=I,D):(D=s(D,j),D.return=I,D)}function E(I,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return D=L1(""+D,I.mode,j),D.return=I,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Af:return j=c0(D.type,D.key,D.props,null,I.mode,j),j.ref=mu(I,null,D),j.return=I,j;case Pl:return D=P1(D,I.mode,j),D.return=I,D;case Fa:var q=D._init;return E(I,q(D._payload),j)}if(Nu(D)||uu(D))return D=Zo(D,I.mode,j,null),D.return=I,D;Ff(I,D)}return null}function _(I,D,j,q){var Q=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return Q!==null?null:g(I,D,""+j,q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Af:return j.key===Q?v(I,D,j,q):null;case Pl:return j.key===Q?x(I,D,j,q):null;case Fa:return Q=j._init,_(I,D,Q(j._payload),q)}if(Nu(j)||uu(j))return Q!==null?null:y(I,D,j,q,null);Ff(I,j)}return null}function k(I,D,j,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number")return I=I.get(j)||null,g(D,I,""+q,Q);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Af:return I=I.get(q.key===null?j:q.key)||null,v(D,I,q,Q);case Pl:return I=I.get(q.key===null?j:q.key)||null,x(D,I,q,Q);case Fa:var B=q._init;return k(I,D,j,B(q._payload),Q)}if(Nu(q)||uu(q))return I=I.get(j)||null,y(D,I,q,Q,null);Ff(D,q)}return null}function S(I,D,j,q){for(var Q=null,B=null,F=D,V=D=0,W=null;F!==null&&V<j.length;V++){F.index>V?(W=F,F=null):W=F.sibling;var se=_(I,F,j[V],q);if(se===null){F===null&&(F=W);break}e&&F&&se.alternate===null&&n(I,F),D=a(se,D,V),B===null?Q=se:B.sibling=se,B=se,F=W}if(V===j.length)return t(I,F),wn&&zo(I,V),Q;if(F===null){for(;V<j.length;V++)F=E(I,j[V],q),F!==null&&(D=a(F,D,V),B===null?Q=F:B.sibling=F,B=F);return wn&&zo(I,V),Q}for(F=r(I,F);V<j.length;V++)W=k(F,I,V,j[V],q),W!==null&&(e&&W.alternate!==null&&F.delete(W.key===null?V:W.key),D=a(W,D,V),B===null?Q=W:B.sibling=W,B=W);return e&&F.forEach(function(le){return n(I,le)}),wn&&zo(I,V),Q}function R(I,D,j,q){var Q=uu(j);if(typeof Q!="function")throw Error(ke(150));if(j=Q.call(j),j==null)throw Error(ke(151));for(var B=Q=null,F=D,V=D=0,W=null,se=j.next();F!==null&&!se.done;V++,se=j.next()){F.index>V?(W=F,F=null):W=F.sibling;var le=_(I,F,se.value,q);if(le===null){F===null&&(F=W);break}e&&F&&le.alternate===null&&n(I,F),D=a(le,D,V),B===null?Q=le:B.sibling=le,B=le,F=W}if(se.done)return t(I,F),wn&&zo(I,V),Q;if(F===null){for(;!se.done;V++,se=j.next())se=E(I,se.value,q),se!==null&&(D=a(se,D,V),B===null?Q=se:B.sibling=se,B=se);return wn&&zo(I,V),Q}for(F=r(I,F);!se.done;V++,se=j.next())se=k(F,I,V,se.value,q),se!==null&&(e&&se.alternate!==null&&F.delete(se.key===null?V:se.key),D=a(se,D,V),B===null?Q=se:B.sibling=se,B=se);return e&&F.forEach(function(ie){return n(I,ie)}),wn&&zo(I,V),Q}function O(I,D,j,q){if(typeof j=="object"&&j!==null&&j.type===Fl&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Af:e:{for(var Q=j.key,B=D;B!==null;){if(B.key===Q){if(Q=j.type,Q===Fl){if(B.tag===7){t(I,B.sibling),D=s(B,j.props.children),D.return=I,I=D;break e}}else if(B.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Fa&&Ww(Q)===B.type){t(I,B.sibling),D=s(B,j.props),D.ref=mu(I,B,j),D.return=I,I=D;break e}t(I,B);break}else n(I,B);B=B.sibling}j.type===Fl?(D=Zo(j.props.children,I.mode,q,j.key),D.return=I,I=D):(q=c0(j.type,j.key,j.props,null,I.mode,q),q.ref=mu(I,D,j),q.return=I,I=q)}return d(I);case Pl:e:{for(B=j.key;D!==null;){if(D.key===B)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){t(I,D.sibling),D=s(D,j.children||[]),D.return=I,I=D;break e}else{t(I,D);break}else n(I,D);D=D.sibling}D=P1(j,I.mode,q),D.return=I,I=D}return d(I);case Fa:return B=j._init,O(I,D,B(j._payload),q)}if(Nu(j))return S(I,D,j,q);if(uu(j))return R(I,D,j,q);Ff(I,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,D!==null&&D.tag===6?(t(I,D.sibling),D=s(D,j),D.return=I,I=D):(t(I,D),D=L1(j,I.mode,q),D.return=I,I=D),d(I)):t(I,D)}return O}var cc=w4(!0),y4=w4(!1),M0=fo(null),L0=null,Yl=null,rx=null;function ix(){rx=Yl=L0=null}function sx(e){var n=M0.current;pn(M0),e._currentValue=n}function jm(e,n,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function tc(e,n){L0=e,rx=Yl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Jr=!0),e.firstContext=null)}function Vi(e){var n=e._currentValue;if(rx!==e)if(e={context:e,memoizedValue:n,next:null},Yl===null){if(L0===null)throw Error(ke(308));Yl=e,L0.dependencies={lanes:0,firstContext:e}}else Yl=Yl.next=e;return n}var Yo=null;function ax(e){Yo===null?Yo=[e]:Yo.push(e)}function b4(e,n,t,r){var s=n.interleaved;return s===null?(t.next=t,ax(n)):(t.next=s.next,s.next=t),n.interleaved=t,ha(e,r)}function ha(e,n){e.lanes|=n;var t=e.alternate;for(t!==null&&(t.lanes|=n),t=e,e=e.return;e!==null;)e.childLanes|=n,t=e.alternate,t!==null&&(t.childLanes|=n),t=e,e=e.return;return t.tag===3?t.stateNode:null}var Ba=!1;function ox(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C4(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sa(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Ja(e,n,t){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Mt&2){var s=r.pending;return s===null?n.next=n:(n.next=s.next,s.next=n),r.pending=n,ha(e,t)}return s=r.interleaved,s===null?(n.next=n,ax(r)):(n.next=s.next,s.next=n),r.interleaved=n,ha(e,t)}function r0(e,n,t){if(n=n.updateQueue,n!==null&&(n=n.shared,(t&4194240)!==0)){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Yg(e,t)}}function Hw(e,n){var t=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,a=null;if(t=t.firstBaseUpdate,t!==null){do{var d={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};a===null?s=a=d:a=a.next=d,t=t.next}while(t!==null);a===null?s=a=n:a=a.next=n}else s=a=n;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function P0(e,n,t,r){var s=e.updateQueue;Ba=!1;var a=s.firstBaseUpdate,d=s.lastBaseUpdate,g=s.shared.pending;if(g!==null){s.shared.pending=null;var v=g,x=v.next;v.next=null,d===null?a=x:d.next=x,d=v;var y=e.alternate;y!==null&&(y=y.updateQueue,g=y.lastBaseUpdate,g!==d&&(g===null?y.firstBaseUpdate=x:g.next=x,y.lastBaseUpdate=v))}if(a!==null){var E=s.baseState;d=0,y=x=v=null,g=a;do{var _=g.lane,k=g.eventTime;if((r&_)===_){y!==null&&(y=y.next={eventTime:k,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var S=e,R=g;switch(_=n,k=t,R.tag){case 1:if(S=R.payload,typeof S=="function"){E=S.call(k,E,_);break e}E=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=R.payload,_=typeof S=="function"?S.call(k,E,_):S,_==null)break e;E=An({},E,_);break e;case 2:Ba=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,_=s.effects,_===null?s.effects=[g]:_.push(g))}else k={eventTime:k,lane:_,tag:g.tag,payload:g.payload,callback:g.callback,next:null},y===null?(x=y=k,v=E):y=y.next=k,d|=_;if(g=g.next,g===null){if(g=s.shared.pending,g===null)break;_=g,g=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(1);if(y===null&&(v=E),s.baseState=v,s.firstBaseUpdate=x,s.lastBaseUpdate=y,n=s.shared.interleaved,n!==null){s=n;do d|=s.lane,s=s.next;while(s!==n)}else a===null&&(s.shared.lanes=0);sl|=d,e.lanes=d,e.memoizedState=E}}function qw(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var r=e[n],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(ke(191,s));s.call(r)}}}var xd={},Is=fo(xd),Qu=fo(xd),Ku=fo(xd);function Go(e){if(e===xd)throw Error(ke(174));return e}function lx(e,n){switch(ln(Ku,n),ln(Qu,e),ln(Is,xd),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:fm(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=fm(n,e)}pn(Is),ln(Is,n)}function uc(){pn(Is),pn(Qu),pn(Ku)}function E4(e){Go(Ku.current);var n=Go(Is.current),t=fm(n,e.type);n!==t&&(ln(Qu,e),ln(Is,t))}function cx(e){Qu.current===e&&(pn(Is),pn(Qu))}var Nn=fo(0);function F0(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var D1=[];function ux(){for(var e=0;e<D1.length;e++)D1[e]._workInProgressVersionPrimary=null;D1.length=0}var i0=va.ReactCurrentDispatcher,I1=va.ReactCurrentBatchConfig,il=0,Sn=null,tr=null,lr=null,B0=!1,Ou=!1,Zu=0,QT=0;function Sr(){throw Error(ke(321))}function dx(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!cs(e[t],n[t]))return!1;return!0}function fx(e,n,t,r,s,a){if(il=a,Sn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,i0.current=e===null||e.memoizedState===null?eD:tD,e=t(r,s),Ou){a=0;do{if(Ou=!1,Zu=0,25<=a)throw Error(ke(301));a+=1,lr=tr=null,n.updateQueue=null,i0.current=nD,e=t(r,s)}while(Ou)}if(i0.current=U0,n=tr!==null&&tr.next!==null,il=0,lr=tr=Sn=null,B0=!1,n)throw Error(ke(300));return e}function hx(){var e=Zu!==0;return Zu=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Sn.memoizedState=lr=e:lr=lr.next=e,lr}function Yi(){if(tr===null){var e=Sn.alternate;e=e!==null?e.memoizedState:null}else e=tr.next;var n=lr===null?Sn.memoizedState:lr.next;if(n!==null)lr=n,tr=e;else{if(e===null)throw Error(ke(310));tr=e,e={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},lr===null?Sn.memoizedState=lr=e:lr=lr.next=e}return lr}function Ju(e,n){return typeof n=="function"?n(e):n}function j1(e){var n=Yi(),t=n.queue;if(t===null)throw Error(ke(311));t.lastRenderedReducer=e;var r=tr,s=r.baseQueue,a=t.pending;if(a!==null){if(s!==null){var d=s.next;s.next=a.next,a.next=d}r.baseQueue=s=a,t.pending=null}if(s!==null){a=s.next,r=r.baseState;var g=d=null,v=null,x=a;do{var y=x.lane;if((il&y)===y)v!==null&&(v=v.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:e(r,x.action);else{var E={lane:y,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};v===null?(g=v=E,d=r):v=v.next=E,Sn.lanes|=y,sl|=y}x=x.next}while(x!==null&&x!==a);v===null?d=r:v.next=g,cs(r,n.memoizedState)||(Jr=!0),n.memoizedState=r,n.baseState=d,n.baseQueue=v,t.lastRenderedState=r}if(e=t.interleaved,e!==null){s=e;do a=s.lane,Sn.lanes|=a,sl|=a,s=s.next;while(s!==e)}else s===null&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function R1(e){var n=Yi(),t=n.queue;if(t===null)throw Error(ke(311));t.lastRenderedReducer=e;var r=t.dispatch,s=t.pending,a=n.memoizedState;if(s!==null){t.pending=null;var d=s=s.next;do a=e(a,d.action),d=d.next;while(d!==s);cs(a,n.memoizedState)||(Jr=!0),n.memoizedState=a,n.baseQueue===null&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function N4(){}function _4(e,n){var t=Sn,r=Yi(),s=n(),a=!cs(r.memoizedState,s);if(a&&(r.memoizedState=s,Jr=!0),r=r.queue,px(k4.bind(null,t,r,e),[e]),r.getSnapshot!==n||a||lr!==null&&lr.memoizedState.tag&1){if(t.flags|=2048,ed(9,A4.bind(null,t,r,s,n),void 0,null),cr===null)throw Error(ke(349));il&30||S4(t,n,s)}return s}function S4(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},n=Sn.updateQueue,n===null?(n={lastEffect:null,stores:null},Sn.updateQueue=n,n.stores=[e]):(t=n.stores,t===null?n.stores=[e]:t.push(e))}function A4(e,n,t,r){n.value=t,n.getSnapshot=r,T4(n)&&D4(e)}function k4(e,n,t){return t(function(){T4(n)&&D4(e)})}function T4(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!cs(e,t)}catch{return!0}}function D4(e){var n=ha(e,1);n!==null&&as(n,e,1,-1)}function Vw(e){var n=Cs();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:e},n.queue=e,e=e.dispatch=JT.bind(null,Sn,e),[n.memoizedState,e]}function ed(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},n=Sn.updateQueue,n===null?(n={lastEffect:null,stores:null},Sn.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e)),e}function I4(){return Yi().memoizedState}function s0(e,n,t,r){var s=Cs();Sn.flags|=e,s.memoizedState=ed(1|n,t,void 0,r===void 0?null:r)}function kh(e,n,t,r){var s=Yi();r=r===void 0?null:r;var a=void 0;if(tr!==null){var d=tr.memoizedState;if(a=d.destroy,r!==null&&dx(r,d.deps)){s.memoizedState=ed(n,t,a,r);return}}Sn.flags|=e,s.memoizedState=ed(1|n,t,a,r)}function Yw(e,n){return s0(8390656,8,e,n)}function px(e,n){return kh(2048,8,e,n)}function j4(e,n){return kh(4,2,e,n)}function R4(e,n){return kh(4,4,e,n)}function O4(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function M4(e,n,t){return t=t!=null?t.concat([e]):null,kh(4,4,O4.bind(null,n,e),t)}function mx(){}function L4(e,n){var t=Yi();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&dx(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function P4(e,n){var t=Yi();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&dx(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function F4(e,n,t){return il&21?(cs(t,n)||(t=H3(),Sn.lanes|=t,sl|=t,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Jr=!0),e.memoizedState=t)}function KT(e,n){var t=Zt;Zt=t!==0&&4>t?t:4,e(!0);var r=I1.transition;I1.transition={};try{e(!1),n()}finally{Zt=t,I1.transition=r}}function B4(){return Yi().memoizedState}function ZT(e,n,t){var r=to(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},U4(e))z4(n,t);else if(t=b4(e,n,t,r),t!==null){var s=Hr();as(t,e,r,s),W4(t,n,r)}}function JT(e,n,t){var r=to(e),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(U4(e))z4(n,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=n.lastRenderedReducer,a!==null))try{var d=n.lastRenderedState,g=a(d,t);if(s.hasEagerState=!0,s.eagerState=g,cs(g,d)){var v=n.interleaved;v===null?(s.next=s,ax(n)):(s.next=v.next,v.next=s),n.interleaved=s;return}}catch{}finally{}t=b4(e,n,s,r),t!==null&&(s=Hr(),as(t,e,r,s),W4(t,n,r))}}function U4(e){var n=e.alternate;return e===Sn||n!==null&&n===Sn}function z4(e,n){Ou=B0=!0;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function W4(e,n,t){if(t&4194240){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Yg(e,t)}}var U0={readContext:Vi,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},eD={readContext:Vi,useCallback:function(e,n){return Cs().memoizedState=[e,n===void 0?null:n],e},useContext:Vi,useEffect:Yw,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,s0(4194308,4,O4.bind(null,n,e),t)},useLayoutEffect:function(e,n){return s0(4194308,4,e,n)},useInsertionEffect:function(e,n){return s0(4,2,e,n)},useMemo:function(e,n){var t=Cs();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Cs();return n=t!==void 0?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=ZT.bind(null,Sn,e),[r.memoizedState,e]},useRef:function(e){var n=Cs();return e={current:e},n.memoizedState=e},useState:Vw,useDebugValue:mx,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=Vw(!1),n=e[0];return e=KT.bind(null,e[1]),Cs().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=Sn,s=Cs();if(wn){if(t===void 0)throw Error(ke(407));t=t()}else{if(t=n(),cr===null)throw Error(ke(349));il&30||S4(r,n,t)}s.memoizedState=t;var a={value:t,getSnapshot:n};return s.queue=a,Yw(k4.bind(null,r,a,e),[e]),r.flags|=2048,ed(9,A4.bind(null,r,a,t,n),void 0,null),t},useId:function(){var e=Cs(),n=cr.identifierPrefix;if(wn){var t=ia,r=ra;t=(r&~(1<<32-ss(r)-1)).toString(32)+t,n=":"+n+"R"+t,t=Zu++,0<t&&(n+="H"+t.toString(32)),n+=":"}else t=QT++,n=":"+n+"r"+t.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},tD={readContext:Vi,useCallback:L4,useContext:Vi,useEffect:px,useImperativeHandle:M4,useInsertionEffect:j4,useLayoutEffect:R4,useMemo:P4,useReducer:j1,useRef:I4,useState:function(){return j1(Ju)},useDebugValue:mx,useDeferredValue:function(e){var n=Yi();return F4(n,tr.memoizedState,e)},useTransition:function(){var e=j1(Ju)[0],n=Yi().memoizedState;return[e,n]},useMutableSource:N4,useSyncExternalStore:_4,useId:B4,unstable_isNewReconciler:!1},nD={readContext:Vi,useCallback:L4,useContext:Vi,useEffect:px,useImperativeHandle:M4,useInsertionEffect:j4,useLayoutEffect:R4,useMemo:P4,useReducer:R1,useRef:I4,useState:function(){return R1(Ju)},useDebugValue:mx,useDeferredValue:function(e){var n=Yi();return tr===null?n.memoizedState=e:F4(n,tr.memoizedState,e)},useTransition:function(){var e=R1(Ju)[0],n=Yi().memoizedState;return[e,n]},useMutableSource:N4,useSyncExternalStore:_4,useId:B4,unstable_isNewReconciler:!1};function ns(e,n){if(e&&e.defaultProps){n=An({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t]);return n}return n}function Rm(e,n,t,r){n=e.memoizedState,t=t(r,n),t=t==null?n:An({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var Th={isMounted:function(e){return(e=e._reactInternals)?hl(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=Hr(),s=to(e),a=sa(r,s);a.payload=n,t!=null&&(a.callback=t),n=Ja(e,a,s),n!==null&&(as(n,e,s,r),r0(n,e,s))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=Hr(),s=to(e),a=sa(r,s);a.tag=1,a.payload=n,t!=null&&(a.callback=t),n=Ja(e,a,s),n!==null&&(as(n,e,s,r),r0(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Hr(),r=to(e),s=sa(t,r);s.tag=2,n!=null&&(s.callback=n),n=Ja(e,s,r),n!==null&&(as(n,e,r,t),r0(n,e,r))}};function Gw(e,n,t,r,s,a,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,d):n.prototype&&n.prototype.isPureReactComponent?!Yu(t,r)||!Yu(s,a):!0}function H4(e,n,t){var r=!1,s=oo,a=n.contextType;return typeof a=="object"&&a!==null?a=Vi(a):(s=ti(n)?nl:Ir.current,r=n.contextTypes,a=(r=r!=null)?oc(e,s):oo),n=new n(t,a),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Th,e.stateNode=n,n._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),n}function $w(e,n,t,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Th.enqueueReplaceState(n,n.state,null)}function Om(e,n,t,r){var s=e.stateNode;s.props=t,s.state=e.memoizedState,s.refs={},ox(e);var a=n.contextType;typeof a=="object"&&a!==null?s.context=Vi(a):(a=ti(n)?nl:Ir.current,s.context=oc(e,a)),s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Rm(e,n,a,t),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(n=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),n!==s.state&&Th.enqueueReplaceState(s,s.state,null),P0(e,t,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function dc(e,n){try{var t="",r=n;do t+=Dk(r),r=r.return;while(r);var s=t}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:n,stack:s,digest:null}}function O1(e,n,t){return{value:e,source:null,stack:t??null,digest:n??null}}function Mm(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var rD=typeof WeakMap=="function"?WeakMap:Map;function q4(e,n,t){t=sa(-1,t),t.tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){W0||(W0=!0,Vm=r),Mm(e,n)},t}function V4(e,n,t){t=sa(-1,t),t.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=n.value;t.payload=function(){return r(s)},t.callback=function(){Mm(e,n)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Mm(e,n),typeof r!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var d=n.stack;this.componentDidCatch(n.value,{componentStack:d!==null?d:""})}),t}function Xw(e,n,t){var r=e.pingCache;if(r===null){r=e.pingCache=new rD;var s=new Set;r.set(n,s)}else s=r.get(n),s===void 0&&(s=new Set,r.set(n,s));s.has(t)||(s.add(t),e=xD.bind(null,e,n,t),n.then(e,e))}function Qw(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Kw(e,n,t,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(n=sa(-1,1),n.tag=2,Ja(t,n,1))),t.lanes|=1),e)}var iD=va.ReactCurrentOwner,Jr=!1;function Pr(e,n,t,r){n.child=e===null?y4(n,null,t,r):cc(n,e.child,t,r)}function Zw(e,n,t,r,s){t=t.render;var a=n.ref;return tc(n,s),r=fx(e,n,t,r,a,s),t=hx(),e!==null&&!Jr?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s,pa(e,n,s)):(wn&&t&&ex(n),n.flags|=1,Pr(e,n,r,s),n.child)}function Jw(e,n,t,r,s){if(e===null){var a=t.type;return typeof a=="function"&&!Ex(a)&&a.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=a,Y4(e,n,a,r,s)):(e=c0(t.type,null,r,n,n.mode,s),e.ref=n.ref,e.return=n,n.child=e)}if(a=e.child,!(e.lanes&s)){var d=a.memoizedProps;if(t=t.compare,t=t!==null?t:Yu,t(d,r)&&e.ref===n.ref)return pa(e,n,s)}return n.flags|=1,e=no(a,r),e.ref=n.ref,e.return=n,n.child=e}function Y4(e,n,t,r,s){if(e!==null){var a=e.memoizedProps;if(Yu(a,r)&&e.ref===n.ref)if(Jr=!1,n.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Jr=!0);else return n.lanes=e.lanes,pa(e,n,s)}return Lm(e,n,t,r,s)}function G4(e,n,t){var r=n.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln($l,mi),mi|=t;else{if(!(t&1073741824))return e=a!==null?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ln($l,mi),mi|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:t,ln($l,mi),mi|=r}else a!==null?(r=a.baseLanes|t,n.memoizedState=null):r=t,ln($l,mi),mi|=r;return Pr(e,n,s,t),n.child}function $4(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Lm(e,n,t,r,s){var a=ti(t)?nl:Ir.current;return a=oc(n,a),tc(n,s),t=fx(e,n,t,r,a,s),r=hx(),e!==null&&!Jr?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s,pa(e,n,s)):(wn&&r&&ex(n),n.flags|=1,Pr(e,n,t,s),n.child)}function ey(e,n,t,r,s){if(ti(t)){var a=!0;j0(n)}else a=!1;if(tc(n,s),n.stateNode===null)a0(e,n),H4(n,t,r),Om(n,t,r,s),r=!0;else if(e===null){var d=n.stateNode,g=n.memoizedProps;d.props=g;var v=d.context,x=t.contextType;typeof x=="object"&&x!==null?x=Vi(x):(x=ti(t)?nl:Ir.current,x=oc(n,x));var y=t.getDerivedStateFromProps,E=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function";E||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==r||v!==x)&&$w(n,d,r,x),Ba=!1;var _=n.memoizedState;d.state=_,P0(n,r,d,s),v=n.memoizedState,g!==r||_!==v||ei.current||Ba?(typeof y=="function"&&(Rm(n,t,y,r),v=n.memoizedState),(g=Ba||Gw(n,t,g,r,_,v,x))?(E||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=v),d.props=r,d.state=v,d.context=x,r=g):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{d=n.stateNode,C4(e,n),g=n.memoizedProps,x=n.type===n.elementType?g:ns(n.type,g),d.props=x,E=n.pendingProps,_=d.context,v=t.contextType,typeof v=="object"&&v!==null?v=Vi(v):(v=ti(t)?nl:Ir.current,v=oc(n,v));var k=t.getDerivedStateFromProps;(y=typeof k=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==E||_!==v)&&$w(n,d,r,v),Ba=!1,_=n.memoizedState,d.state=_,P0(n,r,d,s);var S=n.memoizedState;g!==E||_!==S||ei.current||Ba?(typeof k=="function"&&(Rm(n,t,k,r),S=n.memoizedState),(x=Ba||Gw(n,t,x,r,_,S,v)||!1)?(y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,S,v),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,S,v)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=S),d.props=r,d.state=S,d.context=v,r=x):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(n.flags|=1024),r=!1)}return Pm(e,n,t,r,a,s)}function Pm(e,n,t,r,s,a){$4(e,n);var d=(n.flags&128)!==0;if(!r&&!d)return s&&Bw(n,t,!1),pa(e,n,a);r=n.stateNode,iD.current=n;var g=d&&typeof t.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,e!==null&&d?(n.child=cc(n,e.child,null,a),n.child=cc(n,null,g,a)):Pr(e,n,g,a),n.memoizedState=r.state,s&&Bw(n,t,!0),n.child}function X4(e){var n=e.stateNode;n.pendingContext?Fw(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Fw(e,n.context,!1),lx(e,n.containerInfo)}function ty(e,n,t,r,s){return lc(),nx(s),n.flags|=256,Pr(e,n,t,r),n.child}var Fm={dehydrated:null,treeContext:null,retryLane:0};function Bm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q4(e,n,t){var r=n.pendingProps,s=Nn.current,a=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(s&2)!==0),g?(a=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ln(Nn,s&1),e===null)return Im(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(d=r.children,e=r.fallback,a?(r=n.mode,a=n.child,d={mode:"hidden",children:d},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=d):a=jh(d,r,0,null),e=Zo(e,r,t,null),a.return=n,e.return=n,a.sibling=e,n.child=a,n.child.memoizedState=Bm(t),n.memoizedState=Fm,e):gx(n,d));if(s=e.memoizedState,s!==null&&(g=s.dehydrated,g!==null))return sD(e,n,d,r,g,s,t);if(a){a=r.fallback,d=n.mode,s=e.child,g=s.sibling;var v={mode:"hidden",children:r.children};return!(d&1)&&n.child!==s?(r=n.child,r.childLanes=0,r.pendingProps=v,n.deletions=null):(r=no(s,v),r.subtreeFlags=s.subtreeFlags&14680064),g!==null?a=no(g,a):(a=Zo(a,d,t,null),a.flags|=2),a.return=n,r.return=n,r.sibling=a,n.child=r,r=a,a=n.child,d=e.child.memoizedState,d=d===null?Bm(t):{baseLanes:d.baseLanes|t,cachePool:null,transitions:d.transitions},a.memoizedState=d,a.childLanes=e.childLanes&~t,n.memoizedState=Fm,r}return a=e.child,e=a.sibling,r=no(a,{mode:"visible",children:r.children}),!(n.mode&1)&&(r.lanes=t),r.return=n,r.sibling=null,e!==null&&(t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=r,n.memoizedState=null,r}function gx(e,n){return n=jh({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Bf(e,n,t,r){return r!==null&&nx(r),cc(n,e.child,null,t),e=gx(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sD(e,n,t,r,s,a,d){if(t)return n.flags&256?(n.flags&=-257,r=O1(Error(ke(422))),Bf(e,n,d,r)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(a=r.fallback,s=n.mode,r=jh({mode:"visible",children:r.children},s,0,null),a=Zo(a,s,d,null),a.flags|=2,r.return=n,a.return=n,r.sibling=a,n.child=r,n.mode&1&&cc(n,e.child,null,d),n.child.memoizedState=Bm(d),n.memoizedState=Fm,a);if(!(n.mode&1))return Bf(e,n,d,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var g=r.dgst;return r=g,a=Error(ke(419)),r=O1(a,r,void 0),Bf(e,n,d,r)}if(g=(d&e.childLanes)!==0,Jr||g){if(r=cr,r!==null){switch(d&-d){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|d)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ha(e,s),as(r,e,s,-1))}return Cx(),r=O1(Error(ke(421))),Bf(e,n,d,r)}return s.data==="$?"?(n.flags|=128,n.child=e.child,n=vD.bind(null,e),s._reactRetry=n,null):(e=a.treeContext,gi=Za(s.nextSibling),vi=n,wn=!0,is=null,e!==null&&(Ui[zi++]=ra,Ui[zi++]=ia,Ui[zi++]=rl,ra=e.id,ia=e.overflow,rl=n),n=gx(n,r.children),n.flags|=4096,n)}function ny(e,n,t){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),jm(e.return,n,t)}function M1(e,n,t,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=s)}function K4(e,n,t){var r=n.pendingProps,s=r.revealOrder,a=r.tail;if(Pr(e,n,r.children,t),r=Nn.current,r&2)r=r&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ny(e,t,n);else if(e.tag===19)ny(e,t,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ln(Nn,r),!(n.mode&1))n.memoizedState=null;else switch(s){case"forwards":for(t=n.child,s=null;t!==null;)e=t.alternate,e!==null&&F0(e)===null&&(s=t),t=t.sibling;t=s,t===null?(s=n.child,n.child=null):(s=t.sibling,t.sibling=null),M1(n,!1,s,t,a);break;case"backwards":for(t=null,s=n.child,n.child=null;s!==null;){if(e=s.alternate,e!==null&&F0(e)===null){n.child=s;break}e=s.sibling,s.sibling=t,t=s,s=e}M1(n,!0,t,null,a);break;case"together":M1(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function a0(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function pa(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),sl|=n.lanes,!(t&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(ke(153));if(n.child!==null){for(e=n.child,t=no(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=no(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}function aD(e,n,t){switch(n.tag){case 3:X4(n),lc();break;case 5:E4(n);break;case 1:ti(n.type)&&j0(n);break;case 4:lx(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,s=n.memoizedProps.value;ln(M0,r._currentValue),r._currentValue=s;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(ln(Nn,Nn.current&1),n.flags|=128,null):t&n.child.childLanes?Q4(e,n,t):(ln(Nn,Nn.current&1),e=pa(e,n,t),e!==null?e.sibling:null);ln(Nn,Nn.current&1);break;case 19:if(r=(t&n.childLanes)!==0,e.flags&128){if(r)return K4(e,n,t);n.flags|=128}if(s=n.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ln(Nn,Nn.current),r)break;return null;case 22:case 23:return n.lanes=0,G4(e,n,t)}return pa(e,n,t)}var Z4,Um,J4,eC;Z4=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Um=function(){};J4=function(e,n,t,r){var s=e.memoizedProps;if(s!==r){e=n.stateNode,Go(Is.current);var a=null;switch(t){case"input":s=lm(e,s),r=lm(e,r),a=[];break;case"select":s=An({},s,{value:void 0}),r=An({},r,{value:void 0}),a=[];break;case"textarea":s=dm(e,s),r=dm(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=D0)}hm(t,r);var d;t=null;for(x in s)if(!r.hasOwnProperty(x)&&s.hasOwnProperty(x)&&s[x]!=null)if(x==="style"){var g=s[x];for(d in g)g.hasOwnProperty(d)&&(t||(t={}),t[d]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Bu.hasOwnProperty(x)?a||(a=[]):(a=a||[]).push(x,null));for(x in r){var v=r[x];if(g=s!=null?s[x]:void 0,r.hasOwnProperty(x)&&v!==g&&(v!=null||g!=null))if(x==="style")if(g){for(d in g)!g.hasOwnProperty(d)||v&&v.hasOwnProperty(d)||(t||(t={}),t[d]="");for(d in v)v.hasOwnProperty(d)&&g[d]!==v[d]&&(t||(t={}),t[d]=v[d])}else t||(a||(a=[]),a.push(x,t)),t=v;else x==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,g=g?g.__html:void 0,v!=null&&g!==v&&(a=a||[]).push(x,v)):x==="children"?typeof v!="string"&&typeof v!="number"||(a=a||[]).push(x,""+v):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(x)?(v!=null&&x==="onScroll"&&fn("scroll",e),a||g===v||(a=[])):(a=a||[]).push(x,v))}t&&(a=a||[]).push("style",t);var x=a;(n.updateQueue=x)&&(n.flags|=4)}};eC=function(e,n,t,r){t!==r&&(n.flags|=4)};function gu(e,n){if(!wn)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ar(e){var n=e.alternate!==null&&e.alternate.child===e.child,t=0,r=0;if(n)for(var s=e.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function oD(e,n,t){var r=n.pendingProps;switch(tx(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(n),null;case 1:return ti(n.type)&&I0(),Ar(n),null;case 3:return r=n.stateNode,uc(),pn(ei),pn(Ir),ux(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pf(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,is!==null&&($m(is),is=null))),Um(e,n),Ar(n),null;case 5:cx(n);var s=Go(Ku.current);if(t=n.type,e!==null&&n.stateNode!=null)J4(e,n,t,r,s),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error(ke(166));return Ar(n),null}if(e=Go(Is.current),Pf(n)){r=n.stateNode,t=n.type;var a=n.memoizedProps;switch(r[Ss]=n,r[Xu]=a,e=(n.mode&1)!==0,t){case"dialog":fn("cancel",r),fn("close",r);break;case"iframe":case"object":case"embed":fn("load",r);break;case"video":case"audio":for(s=0;s<Su.length;s++)fn(Su[s],r);break;case"source":fn("error",r);break;case"img":case"image":case"link":fn("error",r),fn("load",r);break;case"details":fn("toggle",r);break;case"input":dw(r,a),fn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},fn("invalid",r);break;case"textarea":hw(r,a),fn("invalid",r)}hm(t,a),s=null;for(var d in a)if(a.hasOwnProperty(d)){var g=a[d];d==="children"?typeof g=="string"?r.textContent!==g&&(a.suppressHydrationWarning!==!0&&Lf(r.textContent,g,e),s=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(a.suppressHydrationWarning!==!0&&Lf(r.textContent,g,e),s=["children",""+g]):Bu.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&fn("scroll",r)}switch(t){case"input":kf(r),fw(r,a,!0);break;case"textarea":kf(r),pw(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=D0)}r=s,n.updateQueue=r,r!==null&&(n.flags|=4)}else{d=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=k3(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(t,{is:r.is}):(e=d.createElement(t),t==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,t),e[Ss]=n,e[Xu]=r,Z4(e,n,!1,!1),n.stateNode=e;e:{switch(d=pm(t,r),t){case"dialog":fn("cancel",e),fn("close",e),s=r;break;case"iframe":case"object":case"embed":fn("load",e),s=r;break;case"video":case"audio":for(s=0;s<Su.length;s++)fn(Su[s],e);s=r;break;case"source":fn("error",e),s=r;break;case"img":case"image":case"link":fn("error",e),fn("load",e),s=r;break;case"details":fn("toggle",e),s=r;break;case"input":dw(e,r),s=lm(e,r),fn("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=An({},r,{value:void 0}),fn("invalid",e);break;case"textarea":hw(e,r),s=dm(e,r),fn("invalid",e);break;default:s=r}hm(t,s),g=s;for(a in g)if(g.hasOwnProperty(a)){var v=g[a];a==="style"?I3(e,v):a==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&T3(e,v)):a==="children"?typeof v=="string"?(t!=="textarea"||v!=="")&&Uu(e,v):typeof v=="number"&&Uu(e,""+v):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bu.hasOwnProperty(a)?v!=null&&a==="onScroll"&&fn("scroll",e):v!=null&&Ug(e,a,v,d))}switch(t){case"input":kf(e),fw(e,r,!1);break;case"textarea":kf(e),pw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ao(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Kl(e,!!r.multiple,a,!1):r.defaultValue!=null&&Kl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=D0)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ar(n),null;case 6:if(e&&n.stateNode!=null)eC(e,n,e.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(ke(166));if(t=Go(Ku.current),Go(Is.current),Pf(n)){if(r=n.stateNode,t=n.memoizedProps,r[Ss]=n,(a=r.nodeValue!==t)&&(e=vi,e!==null))switch(e.tag){case 3:Lf(r.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lf(r.nodeValue,t,(e.mode&1)!==0)}a&&(n.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ss]=n,n.stateNode=r}return Ar(n),null;case 13:if(pn(Nn),r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wn&&gi!==null&&n.mode&1&&!(n.flags&128))v4(),lc(),n.flags|=98560,a=!1;else if(a=Pf(n),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ke(318));if(a=n.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ke(317));a[Ss]=n}else lc(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ar(n),a=!1}else is!==null&&($m(is),is=null),a=!0;if(!a)return n.flags&65536?n:null}return n.flags&128?(n.lanes=t,n):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(n.child.flags|=8192,n.mode&1&&(e===null||Nn.current&1?nr===0&&(nr=3):Cx())),n.updateQueue!==null&&(n.flags|=4),Ar(n),null);case 4:return uc(),Um(e,n),e===null&&Gu(n.stateNode.containerInfo),Ar(n),null;case 10:return sx(n.type._context),Ar(n),null;case 17:return ti(n.type)&&I0(),Ar(n),null;case 19:if(pn(Nn),a=n.memoizedState,a===null)return Ar(n),null;if(r=(n.flags&128)!==0,d=a.rendering,d===null)if(r)gu(a,!1);else{if(nr!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(d=F0(e),d!==null){for(n.flags|=128,gu(a,!1),r=d.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;t!==null;)a=t,e=r,a.flags&=14680066,d=a.alternate,d===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,e=d.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return ln(Nn,Nn.current&1|2),n.child}e=e.sibling}a.tail!==null&&Wn()>fc&&(n.flags|=128,r=!0,gu(a,!1),n.lanes=4194304)}else{if(!r)if(e=F0(d),e!==null){if(n.flags|=128,r=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),gu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!wn)return Ar(n),null}else 2*Wn()-a.renderingStartTime>fc&&t!==1073741824&&(n.flags|=128,r=!0,gu(a,!1),n.lanes=4194304);a.isBackwards?(d.sibling=n.child,n.child=d):(t=a.last,t!==null?t.sibling=d:n.child=d,a.last=d)}return a.tail!==null?(n=a.tail,a.rendering=n,a.tail=n.sibling,a.renderingStartTime=Wn(),n.sibling=null,t=Nn.current,ln(Nn,r?t&1|2:t&1),n):(Ar(n),null);case 22:case 23:return bx(),r=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(n.flags|=8192),r&&n.mode&1?mi&1073741824&&(Ar(n),n.subtreeFlags&6&&(n.flags|=8192)):Ar(n),null;case 24:return null;case 25:return null}throw Error(ke(156,n.tag))}function lD(e,n){switch(tx(n),n.tag){case 1:return ti(n.type)&&I0(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return uc(),pn(ei),pn(Ir),ux(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return cx(n),null;case 13:if(pn(Nn),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(ke(340));lc()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return pn(Nn),null;case 4:return uc(),null;case 10:return sx(n.type._context),null;case 22:case 23:return bx(),null;case 24:return null;default:return null}}var Uf=!1,kr=!1,cD=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Gl(e,n){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){On(e,n,r)}else t.current=null}function zm(e,n,t){try{t()}catch(r){On(e,n,r)}}var ry=!1;function uD(e,n){if(Nm=A0,e=s4(),Jg(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{t.nodeType,a.nodeType}catch{t=null;break e}var d=0,g=-1,v=-1,x=0,y=0,E=e,_=null;t:for(;;){for(var k;E!==t||s!==0&&E.nodeType!==3||(g=d+s),E!==a||r!==0&&E.nodeType!==3||(v=d+r),E.nodeType===3&&(d+=E.nodeValue.length),(k=E.firstChild)!==null;)_=E,E=k;for(;;){if(E===e)break t;if(_===t&&++x===s&&(g=d),_===a&&++y===r&&(v=d),(k=E.nextSibling)!==null)break;E=_,_=E.parentNode}E=k}t=g===-1||v===-1?null:{start:g,end:v}}else t=null}t=t||{start:0,end:0}}else t=null;for(_m={focusedElem:e,selectionRange:t},A0=!1,ze=n;ze!==null;)if(n=ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ze=e;else for(;ze!==null;){n=ze;try{var S=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var R=S.memoizedProps,O=S.memoizedState,I=n.stateNode,D=I.getSnapshotBeforeUpdate(n.elementType===n.type?R:ns(n.type,R),O);I.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var j=n.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(q){On(n,n.return,q)}if(e=n.sibling,e!==null){e.return=n.return,ze=e;break}ze=n.return}return S=ry,ry=!1,S}function Mu(e,n,t){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&zm(n,t,a)}s=s.next}while(s!==r)}}function Dh(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function Wm(e){var n=e.ref;if(n!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof n=="function"?n(e):n.current=e}}function tC(e){var n=e.alternate;n!==null&&(e.alternate=null,tC(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ss],delete n[Xu],delete n[km],delete n[YT],delete n[GT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nC(e){return e.tag===5||e.tag===3||e.tag===4}function iy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hm(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=D0));else if(r!==4&&(e=e.child,e!==null))for(Hm(e,n,t),e=e.sibling;e!==null;)Hm(e,n,t),e=e.sibling}function qm(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qm(e,n,t),e=e.sibling;e!==null;)qm(e,n,t),e=e.sibling}var gr=null,rs=!1;function Ma(e,n,t){for(t=t.child;t!==null;)rC(e,n,t),t=t.sibling}function rC(e,n,t){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(Ch,t)}catch{}switch(t.tag){case 5:kr||Gl(t,n);case 6:var r=gr,s=rs;gr=null,Ma(e,n,t),gr=r,rs=s,gr!==null&&(rs?(e=gr,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):gr.removeChild(t.stateNode));break;case 18:gr!==null&&(rs?(e=gr,t=t.stateNode,e.nodeType===8?k1(e.parentNode,t):e.nodeType===1&&k1(e,t),qu(e)):k1(gr,t.stateNode));break;case 4:r=gr,s=rs,gr=t.stateNode.containerInfo,rs=!0,Ma(e,n,t),gr=r,rs=s;break;case 0:case 11:case 14:case 15:if(!kr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,d=a.destroy;a=a.tag,d!==void 0&&(a&2||a&4)&&zm(t,n,d),s=s.next}while(s!==r)}Ma(e,n,t);break;case 1:if(!kr&&(Gl(t,n),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(g){On(t,n,g)}Ma(e,n,t);break;case 21:Ma(e,n,t);break;case 22:t.mode&1?(kr=(r=kr)||t.memoizedState!==null,Ma(e,n,t),kr=r):Ma(e,n,t);break;default:Ma(e,n,t)}}function sy(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new cD),n.forEach(function(r){var s=wD.bind(null,e,r);t.has(r)||(t.add(r),r.then(s,s))})}}function ts(e,n){var t=n.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var a=e,d=n,g=d;e:for(;g!==null;){switch(g.tag){case 5:gr=g.stateNode,rs=!1;break e;case 3:gr=g.stateNode.containerInfo,rs=!0;break e;case 4:gr=g.stateNode.containerInfo,rs=!0;break e}g=g.return}if(gr===null)throw Error(ke(160));rC(a,d,s),gr=null,rs=!1;var v=s.alternate;v!==null&&(v.return=null),s.return=null}catch(x){On(s,n,x)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)iC(n,e),n=n.sibling}function iC(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ts(n,e),ws(e),r&4){try{Mu(3,e,e.return),Dh(3,e)}catch(R){On(e,e.return,R)}try{Mu(5,e,e.return)}catch(R){On(e,e.return,R)}}break;case 1:ts(n,e),ws(e),r&512&&t!==null&&Gl(t,t.return);break;case 5:if(ts(n,e),ws(e),r&512&&t!==null&&Gl(t,t.return),e.flags&32){var s=e.stateNode;try{Uu(s,"")}catch(R){On(e,e.return,R)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,d=t!==null?t.memoizedProps:a,g=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{g==="input"&&a.type==="radio"&&a.name!=null&&S3(s,a),pm(g,d);var x=pm(g,a);for(d=0;d<v.length;d+=2){var y=v[d],E=v[d+1];y==="style"?I3(s,E):y==="dangerouslySetInnerHTML"?T3(s,E):y==="children"?Uu(s,E):Ug(s,y,E,x)}switch(g){case"input":cm(s,a);break;case"textarea":A3(s,a);break;case"select":var _=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var k=a.value;k!=null?Kl(s,!!a.multiple,k,!1):_!==!!a.multiple&&(a.defaultValue!=null?Kl(s,!!a.multiple,a.defaultValue,!0):Kl(s,!!a.multiple,a.multiple?[]:"",!1))}s[Xu]=a}catch(R){On(e,e.return,R)}}break;case 6:if(ts(n,e),ws(e),r&4){if(e.stateNode===null)throw Error(ke(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(R){On(e,e.return,R)}}break;case 3:if(ts(n,e),ws(e),r&4&&t!==null&&t.memoizedState.isDehydrated)try{qu(n.containerInfo)}catch(R){On(e,e.return,R)}break;case 4:ts(n,e),ws(e);break;case 13:ts(n,e),ws(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(wx=Wn())),r&4&&sy(e);break;case 22:if(y=t!==null&&t.memoizedState!==null,e.mode&1?(kr=(x=kr)||y,ts(n,e),kr=x):ts(n,e),ws(e),r&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!y&&e.mode&1)for(ze=e,y=e.child;y!==null;){for(E=ze=y;ze!==null;){switch(_=ze,k=_.child,_.tag){case 0:case 11:case 14:case 15:Mu(4,_,_.return);break;case 1:Gl(_,_.return);var S=_.stateNode;if(typeof S.componentWillUnmount=="function"){r=_,t=_.return;try{n=r,S.props=n.memoizedProps,S.state=n.memoizedState,S.componentWillUnmount()}catch(R){On(r,t,R)}}break;case 5:Gl(_,_.return);break;case 22:if(_.memoizedState!==null){oy(E);continue}}k!==null?(k.return=_,ze=k):oy(E)}y=y.sibling}e:for(y=null,E=e;;){if(E.tag===5){if(y===null){y=E;try{s=E.stateNode,x?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(g=E.stateNode,v=E.memoizedProps.style,d=v!=null&&v.hasOwnProperty("display")?v.display:null,g.style.display=D3("display",d))}catch(R){On(e,e.return,R)}}}else if(E.tag===6){if(y===null)try{E.stateNode.nodeValue=x?"":E.memoizedProps}catch(R){On(e,e.return,R)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;y===E&&(y=null),E=E.return}y===E&&(y=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:ts(n,e),ws(e),r&4&&sy(e);break;case 21:break;default:ts(n,e),ws(e)}}function ws(e){var n=e.flags;if(n&2){try{e:{for(var t=e.return;t!==null;){if(nC(t)){var r=t;break e}t=t.return}throw Error(ke(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Uu(s,""),r.flags&=-33);var a=iy(e);qm(e,a,s);break;case 3:case 4:var d=r.stateNode.containerInfo,g=iy(e);Hm(e,g,d);break;default:throw Error(ke(161))}}catch(v){On(e,e.return,v)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dD(e,n,t){ze=e,sC(e)}function sC(e,n,t){for(var r=(e.mode&1)!==0;ze!==null;){var s=ze,a=s.child;if(s.tag===22&&r){var d=s.memoizedState!==null||Uf;if(!d){var g=s.alternate,v=g!==null&&g.memoizedState!==null||kr;g=Uf;var x=kr;if(Uf=d,(kr=v)&&!x)for(ze=s;ze!==null;)d=ze,v=d.child,d.tag===22&&d.memoizedState!==null?ly(s):v!==null?(v.return=d,ze=v):ly(s);for(;a!==null;)ze=a,sC(a),a=a.sibling;ze=s,Uf=g,kr=x}ay(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ze=a):ay(e)}}function ay(e){for(;ze!==null;){var n=ze;if(n.flags&8772){var t=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:kr||Dh(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!kr)if(t===null)r.componentDidMount();else{var s=n.elementType===n.type?t.memoizedProps:ns(n.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=n.updateQueue;a!==null&&qw(n,a,r);break;case 3:var d=n.updateQueue;if(d!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}qw(n,d,t)}break;case 5:var g=n.stateNode;if(t===null&&n.flags&4){t=g;var v=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&t.focus();break;case"img":v.src&&(t.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var x=n.alternate;if(x!==null){var y=x.memoizedState;if(y!==null){var E=y.dehydrated;E!==null&&qu(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}kr||n.flags&512&&Wm(n)}catch(_){On(n,n.return,_)}}if(n===e){ze=null;break}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function oy(e){for(;ze!==null;){var n=ze;if(n===e){ze=null;break}var t=n.sibling;if(t!==null){t.return=n.return,ze=t;break}ze=n.return}}function ly(e){for(;ze!==null;){var n=ze;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{Dh(4,n)}catch(v){On(n,t,v)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var s=n.return;try{r.componentDidMount()}catch(v){On(n,s,v)}}var a=n.return;try{Wm(n)}catch(v){On(n,a,v)}break;case 5:var d=n.return;try{Wm(n)}catch(v){On(n,d,v)}}}catch(v){On(n,n.return,v)}if(n===e){ze=null;break}var g=n.sibling;if(g!==null){g.return=n.return,ze=g;break}ze=n.return}}var fD=Math.ceil,z0=va.ReactCurrentDispatcher,xx=va.ReactCurrentOwner,qi=va.ReactCurrentBatchConfig,Mt=0,cr=null,$n=null,xr=0,mi=0,$l=fo(0),nr=0,td=null,sl=0,Ih=0,vx=0,Lu=null,Zr=null,wx=0,fc=1/0,ta=null,W0=!1,Vm=null,eo=null,zf=!1,Va=null,H0=0,Pu=0,Ym=null,o0=-1,l0=0;function Hr(){return Mt&6?Wn():o0!==-1?o0:o0=Wn()}function to(e){return e.mode&1?Mt&2&&xr!==0?xr&-xr:XT.transition!==null?(l0===0&&(l0=H3()),l0):(e=Zt,e!==0||(e=window.event,e=e===void 0?16:Q3(e.type)),e):1}function as(e,n,t,r){if(50<Pu)throw Pu=0,Ym=null,Error(ke(185));pd(e,t,r),(!(Mt&2)||e!==cr)&&(e===cr&&(!(Mt&2)&&(Ih|=t),nr===4&&Wa(e,xr)),ni(e,r),t===1&&Mt===0&&!(n.mode&1)&&(fc=Wn()+500,Ah&&ho()))}function ni(e,n){var t=e.callbackNode;Xk(e,n);var r=S0(e,e===cr?xr:0);if(r===0)t!==null&&xw(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(t!=null&&xw(t),n===1)e.tag===0?$T(cy.bind(null,e)):m4(cy.bind(null,e)),qT(function(){!(Mt&6)&&ho()}),t=null;else{switch(q3(r)){case 1:t=Vg;break;case 4:t=z3;break;case 16:t=_0;break;case 536870912:t=W3;break;default:t=_0}t=hC(t,aC.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function aC(e,n){if(o0=-1,l0=0,Mt&6)throw Error(ke(327));var t=e.callbackNode;if(nc()&&e.callbackNode!==t)return null;var r=S0(e,e===cr?xr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||n)n=q0(e,r);else{n=r;var s=Mt;Mt|=2;var a=lC();(cr!==e||xr!==n)&&(ta=null,fc=Wn()+500,Ko(e,n));do try{mD();break}catch(g){oC(e,g)}while(1);ix(),z0.current=a,Mt=s,$n!==null?n=0:(cr=null,xr=0,n=nr)}if(n!==0){if(n===2&&(s=wm(e),s!==0&&(r=s,n=Gm(e,s))),n===1)throw t=td,Ko(e,0),Wa(e,r),ni(e,Wn()),t;if(n===6)Wa(e,r);else{if(s=e.current.alternate,!(r&30)&&!hD(s)&&(n=q0(e,r),n===2&&(a=wm(e),a!==0&&(r=a,n=Gm(e,a))),n===1))throw t=td,Ko(e,0),Wa(e,r),ni(e,Wn()),t;switch(e.finishedWork=s,e.finishedLanes=r,n){case 0:case 1:throw Error(ke(345));case 2:Wo(e,Zr,ta);break;case 3:if(Wa(e,r),(r&130023424)===r&&(n=wx+500-Wn(),10<n)){if(S0(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Hr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Am(Wo.bind(null,e,Zr,ta),n);break}Wo(e,Zr,ta);break;case 4:if(Wa(e,r),(r&4194240)===r)break;for(n=e.eventTimes,s=-1;0<r;){var d=31-ss(r);a=1<<d,d=n[d],d>s&&(s=d),r&=~a}if(r=s,r=Wn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fD(r/1960))-r,10<r){e.timeoutHandle=Am(Wo.bind(null,e,Zr,ta),r);break}Wo(e,Zr,ta);break;case 5:Wo(e,Zr,ta);break;default:throw Error(ke(329))}}}return ni(e,Wn()),e.callbackNode===t?aC.bind(null,e):null}function Gm(e,n){var t=Lu;return e.current.memoizedState.isDehydrated&&(Ko(e,n).flags|=256),e=q0(e,n),e!==2&&(n=Zr,Zr=t,n!==null&&$m(n)),e}function $m(e){Zr===null?Zr=e:Zr.push.apply(Zr,e)}function hD(e){for(var n=e;;){if(n.flags&16384){var t=n.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],a=s.getSnapshot;s=s.value;try{if(!cs(a(),s))return!1}catch{return!1}}}if(t=n.child,n.subtreeFlags&16384&&t!==null)t.return=n,n=t;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wa(e,n){for(n&=~vx,n&=~Ih,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-ss(n),r=1<<t;e[t]=-1,n&=~r}}function cy(e){if(Mt&6)throw Error(ke(327));nc();var n=S0(e,0);if(!(n&1))return ni(e,Wn()),null;var t=q0(e,n);if(e.tag!==0&&t===2){var r=wm(e);r!==0&&(n=r,t=Gm(e,r))}if(t===1)throw t=td,Ko(e,0),Wa(e,n),ni(e,Wn()),t;if(t===6)throw Error(ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Wo(e,Zr,ta),ni(e,Wn()),null}function yx(e,n){var t=Mt;Mt|=1;try{return e(n)}finally{Mt=t,Mt===0&&(fc=Wn()+500,Ah&&ho())}}function al(e){Va!==null&&Va.tag===0&&!(Mt&6)&&nc();var n=Mt;Mt|=1;var t=qi.transition,r=Zt;try{if(qi.transition=null,Zt=1,e)return e()}finally{Zt=r,qi.transition=t,Mt=n,!(Mt&6)&&ho()}}function bx(){mi=$l.current,pn($l)}function Ko(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,HT(t)),$n!==null)for(t=$n.return;t!==null;){var r=t;switch(tx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&I0();break;case 3:uc(),pn(ei),pn(Ir),ux();break;case 5:cx(r);break;case 4:uc();break;case 13:pn(Nn);break;case 19:pn(Nn);break;case 10:sx(r.type._context);break;case 22:case 23:bx()}t=t.return}if(cr=e,$n=e=no(e.current,null),xr=mi=n,nr=0,td=null,vx=Ih=sl=0,Zr=Lu=null,Yo!==null){for(n=0;n<Yo.length;n++)if(t=Yo[n],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,a=t.pending;if(a!==null){var d=a.next;a.next=s,r.next=d}t.pending=r}Yo=null}return e}function oC(e,n){do{var t=$n;try{if(ix(),i0.current=U0,B0){for(var r=Sn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}B0=!1}if(il=0,lr=tr=Sn=null,Ou=!1,Zu=0,xx.current=null,t===null||t.return===null){nr=1,td=n,$n=null;break}e:{var a=e,d=t.return,g=t,v=n;if(n=xr,g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var x=v,y=g,E=y.tag;if(!(y.mode&1)&&(E===0||E===11||E===15)){var _=y.alternate;_?(y.updateQueue=_.updateQueue,y.memoizedState=_.memoizedState,y.lanes=_.lanes):(y.updateQueue=null,y.memoizedState=null)}var k=Qw(d);if(k!==null){k.flags&=-257,Kw(k,d,g,a,n),k.mode&1&&Xw(a,x,n),n=k,v=x;var S=n.updateQueue;if(S===null){var R=new Set;R.add(v),n.updateQueue=R}else S.add(v);break e}else{if(!(n&1)){Xw(a,x,n),Cx();break e}v=Error(ke(426))}}else if(wn&&g.mode&1){var O=Qw(d);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Kw(O,d,g,a,n),nx(dc(v,g));break e}}a=v=dc(v,g),nr!==4&&(nr=2),Lu===null?Lu=[a]:Lu.push(a),a=d;do{switch(a.tag){case 3:a.flags|=65536,n&=-n,a.lanes|=n;var I=q4(a,v,n);Hw(a,I);break e;case 1:g=v;var D=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(eo===null||!eo.has(j)))){a.flags|=65536,n&=-n,a.lanes|=n;var q=V4(a,g,n);Hw(a,q);break e}}a=a.return}while(a!==null)}uC(t)}catch(Q){n=Q,$n===t&&t!==null&&($n=t=t.return);continue}break}while(1)}function lC(){var e=z0.current;return z0.current=U0,e===null?U0:e}function Cx(){(nr===0||nr===3||nr===2)&&(nr=4),cr===null||!(sl&268435455)&&!(Ih&268435455)||Wa(cr,xr)}function q0(e,n){var t=Mt;Mt|=2;var r=lC();(cr!==e||xr!==n)&&(ta=null,Ko(e,n));do try{pD();break}catch(s){oC(e,s)}while(1);if(ix(),Mt=t,z0.current=r,$n!==null)throw Error(ke(261));return cr=null,xr=0,nr}function pD(){for(;$n!==null;)cC($n)}function mD(){for(;$n!==null&&!Uk();)cC($n)}function cC(e){var n=fC(e.alternate,e,mi);e.memoizedProps=e.pendingProps,n===null?uC(e):$n=n,xx.current=null}function uC(e){var n=e;do{var t=n.alternate;if(e=n.return,n.flags&32768){if(t=lD(t,n),t!==null){t.flags&=32767,$n=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nr=6,$n=null;return}}else if(t=oD(t,n,mi),t!==null){$n=t;return}if(n=n.sibling,n!==null){$n=n;return}$n=n=e}while(n!==null);nr===0&&(nr=5)}function Wo(e,n,t){var r=Zt,s=qi.transition;try{qi.transition=null,Zt=1,gD(e,n,t,r)}finally{qi.transition=s,Zt=r}return null}function gD(e,n,t,r){do nc();while(Va!==null);if(Mt&6)throw Error(ke(327));t=e.finishedWork;var s=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(ke(177));e.callbackNode=null,e.callbackPriority=0;var a=t.lanes|t.childLanes;if(Qk(e,a),e===cr&&($n=cr=null,xr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||zf||(zf=!0,hC(_0,function(){return nc(),null})),a=(t.flags&15990)!==0,t.subtreeFlags&15990||a){a=qi.transition,qi.transition=null;var d=Zt;Zt=1;var g=Mt;Mt|=4,xx.current=null,uD(e,t),iC(t,e),LT(_m),A0=!!Nm,_m=Nm=null,e.current=t,dD(t),zk(),Mt=g,Zt=d,qi.transition=a}else e.current=t;if(zf&&(zf=!1,Va=e,H0=s),a=e.pendingLanes,a===0&&(eo=null),qk(t.stateNode),ni(e,Wn()),n!==null)for(r=e.onRecoverableError,t=0;t<n.length;t++)s=n[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(W0)throw W0=!1,e=Vm,Vm=null,e;return H0&1&&e.tag!==0&&nc(),a=e.pendingLanes,a&1?e===Ym?Pu++:(Pu=0,Ym=e):Pu=0,ho(),null}function nc(){if(Va!==null){var e=q3(H0),n=qi.transition,t=Zt;try{if(qi.transition=null,Zt=16>e?16:e,Va===null)var r=!1;else{if(e=Va,Va=null,H0=0,Mt&6)throw Error(ke(331));var s=Mt;for(Mt|=4,ze=e.current;ze!==null;){var a=ze,d=a.child;if(ze.flags&16){var g=a.deletions;if(g!==null){for(var v=0;v<g.length;v++){var x=g[v];for(ze=x;ze!==null;){var y=ze;switch(y.tag){case 0:case 11:case 15:Mu(8,y,a)}var E=y.child;if(E!==null)E.return=y,ze=E;else for(;ze!==null;){y=ze;var _=y.sibling,k=y.return;if(tC(y),y===x){ze=null;break}if(_!==null){_.return=k,ze=_;break}ze=k}}}var S=a.alternate;if(S!==null){var R=S.child;if(R!==null){S.child=null;do{var O=R.sibling;R.sibling=null,R=O}while(R!==null)}}ze=a}}if(a.subtreeFlags&2064&&d!==null)d.return=a,ze=d;else e:for(;ze!==null;){if(a=ze,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Mu(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,ze=I;break e}ze=a.return}}var D=e.current;for(ze=D;ze!==null;){d=ze;var j=d.child;if(d.subtreeFlags&2064&&j!==null)j.return=d,ze=j;else e:for(d=D;ze!==null;){if(g=ze,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Dh(9,g)}}catch(Q){On(g,g.return,Q)}if(g===d){ze=null;break e}var q=g.sibling;if(q!==null){q.return=g.return,ze=q;break e}ze=g.return}}if(Mt=s,ho(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(Ch,e)}catch{}r=!0}return r}finally{Zt=t,qi.transition=n}}return!1}function uy(e,n,t){n=dc(t,n),n=q4(e,n,1),e=Ja(e,n,1),n=Hr(),e!==null&&(pd(e,1,n),ni(e,n))}function On(e,n,t){if(e.tag===3)uy(e,e,t);else for(;n!==null;){if(n.tag===3){uy(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(eo===null||!eo.has(r))){e=dc(t,e),e=V4(n,e,1),n=Ja(n,e,1),e=Hr(),n!==null&&(pd(n,1,e),ni(n,e));break}}n=n.return}}function xD(e,n,t){var r=e.pingCache;r!==null&&r.delete(n),n=Hr(),e.pingedLanes|=e.suspendedLanes&t,cr===e&&(xr&t)===t&&(nr===4||nr===3&&(xr&130023424)===xr&&500>Wn()-wx?Ko(e,0):vx|=t),ni(e,n)}function dC(e,n){n===0&&(e.mode&1?(n=If,If<<=1,!(If&130023424)&&(If=4194304)):n=1);var t=Hr();e=ha(e,n),e!==null&&(pd(e,n,t),ni(e,t))}function vD(e){var n=e.memoizedState,t=0;n!==null&&(t=n.retryLane),dC(e,t)}function wD(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(n),dC(e,t)}var fC;fC=function(e,n,t){if(e!==null)if(e.memoizedProps!==n.pendingProps||ei.current)Jr=!0;else{if(!(e.lanes&t)&&!(n.flags&128))return Jr=!1,aD(e,n,t);Jr=!!(e.flags&131072)}else Jr=!1,wn&&n.flags&1048576&&g4(n,O0,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;a0(e,n),e=n.pendingProps;var s=oc(n,Ir.current);tc(n,t),s=fx(null,n,r,e,s,t);var a=hx();return n.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ti(r)?(a=!0,j0(n)):a=!1,n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ox(n),s.updater=Th,n.stateNode=s,s._reactInternals=n,Om(n,r,e,t),n=Pm(null,n,r,!0,a,t)):(n.tag=0,wn&&a&&ex(n),Pr(null,n,s,t),n=n.child),n;case 16:r=n.elementType;e:{switch(a0(e,n),e=n.pendingProps,s=r._init,r=s(r._payload),n.type=r,s=n.tag=bD(r),e=ns(r,e),s){case 0:n=Lm(null,n,r,e,t);break e;case 1:n=ey(null,n,r,e,t);break e;case 11:n=Zw(null,n,r,e,t);break e;case 14:n=Jw(null,n,r,ns(r.type,e),t);break e}throw Error(ke(306,r,""))}return n;case 0:return r=n.type,s=n.pendingProps,s=n.elementType===r?s:ns(r,s),Lm(e,n,r,s,t);case 1:return r=n.type,s=n.pendingProps,s=n.elementType===r?s:ns(r,s),ey(e,n,r,s,t);case 3:e:{if(X4(n),e===null)throw Error(ke(387));r=n.pendingProps,a=n.memoizedState,s=a.element,C4(e,n),P0(n,r,null,t);var d=n.memoizedState;if(r=d.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},n.updateQueue.baseState=a,n.memoizedState=a,n.flags&256){s=dc(Error(ke(423)),n),n=ty(e,n,r,t,s);break e}else if(r!==s){s=dc(Error(ke(424)),n),n=ty(e,n,r,t,s);break e}else for(gi=Za(n.stateNode.containerInfo.firstChild),vi=n,wn=!0,is=null,t=y4(n,null,r,t),n.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(lc(),r===s){n=pa(e,n,t);break e}Pr(e,n,r,t)}n=n.child}return n;case 5:return E4(n),e===null&&Im(n),r=n.type,s=n.pendingProps,a=e!==null?e.memoizedProps:null,d=s.children,Sm(r,s)?d=null:a!==null&&Sm(r,a)&&(n.flags|=32),$4(e,n),Pr(e,n,d,t),n.child;case 6:return e===null&&Im(n),null;case 13:return Q4(e,n,t);case 4:return lx(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=cc(n,null,r,t):Pr(e,n,r,t),n.child;case 11:return r=n.type,s=n.pendingProps,s=n.elementType===r?s:ns(r,s),Zw(e,n,r,s,t);case 7:return Pr(e,n,n.pendingProps,t),n.child;case 8:return Pr(e,n,n.pendingProps.children,t),n.child;case 12:return Pr(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,s=n.pendingProps,a=n.memoizedProps,d=s.value,ln(M0,r._currentValue),r._currentValue=d,a!==null)if(cs(a.value,d)){if(a.children===s.children&&!ei.current){n=pa(e,n,t);break e}}else for(a=n.child,a!==null&&(a.return=n);a!==null;){var g=a.dependencies;if(g!==null){d=a.child;for(var v=g.firstContext;v!==null;){if(v.context===r){if(a.tag===1){v=sa(-1,t&-t),v.tag=2;var x=a.updateQueue;if(x!==null){x=x.shared;var y=x.pending;y===null?v.next=v:(v.next=y.next,y.next=v),x.pending=v}}a.lanes|=t,v=a.alternate,v!==null&&(v.lanes|=t),jm(a.return,t,n),g.lanes|=t;break}v=v.next}}else if(a.tag===10)d=a.type===n.type?null:a.child;else if(a.tag===18){if(d=a.return,d===null)throw Error(ke(341));d.lanes|=t,g=d.alternate,g!==null&&(g.lanes|=t),jm(d,t,n),d=a.sibling}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===n){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}Pr(e,n,s.children,t),n=n.child}return n;case 9:return s=n.type,r=n.pendingProps.children,tc(n,t),s=Vi(s),r=r(s),n.flags|=1,Pr(e,n,r,t),n.child;case 14:return r=n.type,s=ns(r,n.pendingProps),s=ns(r.type,s),Jw(e,n,r,s,t);case 15:return Y4(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,s=n.pendingProps,s=n.elementType===r?s:ns(r,s),a0(e,n),n.tag=1,ti(r)?(e=!0,j0(n)):e=!1,tc(n,t),H4(n,r,s),Om(n,r,s,t),Pm(null,n,r,!0,e,t);case 19:return K4(e,n,t);case 22:return G4(e,n,t)}throw Error(ke(156,n.tag))};function hC(e,n){return U3(e,n)}function yD(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(e,n,t,r){return new yD(e,n,t,r)}function Ex(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bD(e){if(typeof e=="function")return Ex(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wg)return 11;if(e===Hg)return 14}return 2}function no(e,n){var t=e.alternate;return t===null?(t=Hi(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function c0(e,n,t,r,s,a){var d=2;if(r=e,typeof e=="function")Ex(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Fl:return Zo(t.children,s,a,n);case zg:d=8,s|=8;break;case im:return e=Hi(12,t,n,s|2),e.elementType=im,e.lanes=a,e;case sm:return e=Hi(13,t,n,s),e.elementType=sm,e.lanes=a,e;case am:return e=Hi(19,t,n,s),e.elementType=am,e.lanes=a,e;case E3:return jh(t,s,a,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b3:d=10;break e;case C3:d=9;break e;case Wg:d=11;break e;case Hg:d=14;break e;case Fa:d=16,r=null;break e}throw Error(ke(130,e==null?e:typeof e,""))}return n=Hi(d,t,n,s),n.elementType=e,n.type=r,n.lanes=a,n}function Zo(e,n,t,r){return e=Hi(7,e,r,n),e.lanes=t,e}function jh(e,n,t,r){return e=Hi(22,e,r,n),e.elementType=E3,e.lanes=t,e.stateNode={isHidden:!1},e}function L1(e,n,t){return e=Hi(6,e,null,n),e.lanes=t,e}function P1(e,n,t){return n=Hi(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function CD(e,n,t,r,s){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x1(0),this.expirationTimes=x1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x1(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nx(e,n,t,r,s,a,d,g,v){return e=new CD(e,n,t,g,v),n===1?(n=1,a===!0&&(n|=8)):n=0,a=Hi(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},ox(a),e}function ED(e,n,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pl,key:r==null?null:""+r,children:e,containerInfo:n,implementation:t}}function pC(e){if(!e)return oo;e=e._reactInternals;e:{if(hl(e)!==e||e.tag!==1)throw Error(ke(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ti(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ke(171))}if(e.tag===1){var t=e.type;if(ti(t))return p4(e,t,n)}return n}function mC(e,n,t,r,s,a,d,g,v){return e=Nx(t,r,!0,e,s,a,d,g,v),e.context=pC(null),t=e.current,r=Hr(),s=to(t),a=sa(r,s),a.callback=n??null,Ja(t,a,s),e.current.lanes=s,pd(e,s,r),ni(e,r),e}function Rh(e,n,t,r){var s=n.current,a=Hr(),d=to(s);return t=pC(t),n.context===null?n.context=t:n.pendingContext=t,n=sa(a,d),n.payload={element:e},r=r===void 0?null:r,r!==null&&(n.callback=r),e=Ja(s,n,d),e!==null&&(as(e,s,d,a),r0(e,s,d)),d}function V0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function _x(e,n){dy(e,n),(e=e.alternate)&&dy(e,n)}function ND(){return null}var gC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sx(e){this._internalRoot=e}Oh.prototype.render=Sx.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(ke(409));Rh(e,n,null,null)};Oh.prototype.unmount=Sx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;al(function(){Rh(null,e,null,null)}),n[fa]=null}};function Oh(e){this._internalRoot=e}Oh.prototype.unstable_scheduleHydration=function(e){if(e){var n=G3();e={blockedOn:null,target:e,priority:n};for(var t=0;t<za.length&&n!==0&&n<za[t].priority;t++);za.splice(t,0,e),t===0&&X3(e)}};function Ax(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fy(){}function _D(e,n,t,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var x=V0(d);a.call(x)}}var d=mC(n,r,e,0,null,!1,!1,"",fy);return e._reactRootContainer=d,e[fa]=d.current,Gu(e.nodeType===8?e.parentNode:e),al(),d}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var g=r;r=function(){var x=V0(v);g.call(x)}}var v=Nx(e,0,!1,null,null,!1,!1,"",fy);return e._reactRootContainer=v,e[fa]=v.current,Gu(e.nodeType===8?e.parentNode:e),al(function(){Rh(n,v,t,r)}),v}function Lh(e,n,t,r,s){var a=t._reactRootContainer;if(a){var d=a;if(typeof s=="function"){var g=s;s=function(){var v=V0(d);g.call(v)}}Rh(n,d,e,s)}else d=_D(t,n,e,s,r);return V0(d)}V3=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=_u(n.pendingLanes);t!==0&&(Yg(n,t|1),ni(n,Wn()),!(Mt&6)&&(fc=Wn()+500,ho()))}break;case 13:al(function(){var r=ha(e,1);if(r!==null){var s=Hr();as(r,e,1,s)}}),_x(e,1)}};Gg=function(e){if(e.tag===13){var n=ha(e,134217728);if(n!==null){var t=Hr();as(n,e,134217728,t)}_x(e,134217728)}};Y3=function(e){if(e.tag===13){var n=to(e),t=ha(e,n);if(t!==null){var r=Hr();as(t,e,n,r)}_x(e,n)}};G3=function(){return Zt};$3=function(e,n){var t=Zt;try{return Zt=e,n()}finally{Zt=t}};gm=function(e,n,t){switch(n){case"input":if(cm(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var s=Sh(r);if(!s)throw Error(ke(90));_3(r),cm(r,s)}}}break;case"textarea":A3(e,t);break;case"select":n=t.value,n!=null&&Kl(e,!!t.multiple,n,!1)}};O3=yx;M3=al;var SD={usingClientEntryPoint:!1,Events:[gd,Wl,Sh,j3,R3,yx]},xu={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AD={bundleType:xu.bundleType,version:xu.version,rendererPackageName:xu.rendererPackageName,rendererConfig:xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:va.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=F3(e),e===null?null:e.stateNode},findFiberByHostInstance:xu.findFiberByHostInstance||ND,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wf.isDisabled&&Wf.supportsFiber)try{Ch=Wf.inject(AD),Ds=Wf}catch{}}bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SD;bi.createPortal=function(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ax(n))throw Error(ke(200));return ED(e,n,null,t)};bi.createRoot=function(e,n){if(!Ax(e))throw Error(ke(299));var t=!1,r="",s=gC;return n!=null&&(n.unstable_strictMode===!0&&(t=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),n=Nx(e,1,!1,null,null,t,!1,r,s),e[fa]=n.current,Gu(e.nodeType===8?e.parentNode:e),new Sx(n)};bi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(ke(188)):(e=Object.keys(e).join(","),Error(ke(268,e)));return e=F3(n),e=e===null?null:e.stateNode,e};bi.flushSync=function(e){return al(e)};bi.hydrate=function(e,n,t){if(!Mh(n))throw Error(ke(200));return Lh(null,e,n,!0,t)};bi.hydrateRoot=function(e,n,t){if(!Ax(e))throw Error(ke(405));var r=t!=null&&t.hydratedSources||null,s=!1,a="",d=gC;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),n=mC(n,null,e,1,t??null,s,!1,a,d),e[fa]=n.current,Gu(e),r)for(e=0;e<r.length;e++)t=r[e],s=t._getVersion,s=s(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,s]:n.mutableSourceEagerHydrationData.push(t,s);return new Oh(n)};bi.render=function(e,n,t){if(!Mh(n))throw Error(ke(200));return Lh(null,e,n,!1,t)};bi.unmountComponentAtNode=function(e){if(!Mh(e))throw Error(ke(40));return e._reactRootContainer?(al(function(){Lh(null,null,e,!1,function(){e._reactRootContainer=null,e[fa]=null})}),!0):!1};bi.unstable_batchedUpdates=yx;bi.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Mh(t))throw Error(ke(200));if(e==null||e._reactInternals===void 0)throw Error(ke(38));return Lh(e,n,t,!1,r)};bi.version="18.3.1-next-f1338f8080-20240426";function xC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xC)}catch(e){console.error(e)}}xC(),x3.exports=bi;var kx=x3.exports;const kD=yh(kx);var hy=kx;nm.createRoot=hy.createRoot,nm.hydrateRoot=hy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},nd.apply(this,arguments)}var Ya;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ya||(Ya={}));const py="popstate";function TD(e){e===void 0&&(e={});function n(r,s){let{pathname:a,search:d,hash:g}=r.location;return Xm("",{pathname:a,search:d,hash:g},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Y0(s)}return ID(n,t,null,e)}function Vn(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function vC(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function DD(){return Math.random().toString(36).substr(2,8)}function my(e,n){return{usr:e.state,key:e.key,idx:n}}function Xm(e,n,t,r){return t===void 0&&(t=null),nd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Sc(n):n,{state:t,key:n&&n.key||r||DD()})}function Y0(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Sc(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function ID(e,n,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,d=s.history,g=Ya.Pop,v=null,x=y();x==null&&(x=0,d.replaceState(nd({},d.state,{idx:x}),""));function y(){return(d.state||{idx:null}).idx}function E(){g=Ya.Pop;let O=y(),I=O==null?null:O-x;x=O,v&&v({action:g,location:R.location,delta:I})}function _(O,I){g=Ya.Push;let D=Xm(R.location,O,I);t&&t(D,O),x=y()+1;let j=my(D,x),q=R.createHref(D);try{d.pushState(j,"",q)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign(q)}a&&v&&v({action:g,location:R.location,delta:1})}function k(O,I){g=Ya.Replace;let D=Xm(R.location,O,I);t&&t(D,O),x=y();let j=my(D,x),q=R.createHref(D);d.replaceState(j,"",q),a&&v&&v({action:g,location:R.location,delta:0})}function S(O){let I=s.location.origin!=="null"?s.location.origin:s.location.href,D=typeof O=="string"?O:Y0(O);return D=D.replace(/ $/,"%20"),Vn(I,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,I)}let R={get action(){return g},get location(){return e(s,d)},listen(O){if(v)throw new Error("A history only accepts one active listener");return s.addEventListener(py,E),v=O,()=>{s.removeEventListener(py,E),v=null}},createHref(O){return n(s,O)},createURL:S,encodeLocation(O){let I=S(O);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:k,go(O){return d.go(O)}};return R}var gy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gy||(gy={}));function jD(e,n,t){return t===void 0&&(t="/"),RD(e,n,t,!1)}function RD(e,n,t,r){let s=typeof n=="string"?Sc(n):n,a=Tx(s.pathname||"/",t);if(a==null)return null;let d=wC(e);OD(d);let g=null;for(let v=0;g==null&&v<d.length;++v){let x=VD(a);g=HD(d[v],x,r)}return g}function wC(e,n,t,r){n===void 0&&(n=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,d,g)=>{let v={relativePath:g===void 0?a.path||"":g,caseSensitive:a.caseSensitive===!0,childrenIndex:d,route:a};v.relativePath.startsWith("/")&&(Vn(v.relativePath.startsWith(r),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(r.length));let x=ro([r,v.relativePath]),y=t.concat(v);a.children&&a.children.length>0&&(Vn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),wC(a.children,n,y,x)),!(a.path==null&&!a.index)&&n.push({path:x,score:zD(x,a.index),routesMeta:y})};return e.forEach((a,d)=>{var g;if(a.path===""||!((g=a.path)!=null&&g.includes("?")))s(a,d);else for(let v of yC(a.path))s(a,d,v)}),n}function yC(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let d=yC(r.join("/")),g=[];return g.push(...d.map(v=>v===""?a:[a,v].join("/"))),s&&g.push(...d),g.map(v=>e.startsWith("/")&&v===""?"/":v)}function OD(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:WD(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const MD=/^:[\w-]+$/,LD=3,PD=2,FD=1,BD=10,UD=-2,xy=e=>e==="*";function zD(e,n){let t=e.split("/"),r=t.length;return t.some(xy)&&(r+=UD),n&&(r+=PD),t.filter(s=>!xy(s)).reduce((s,a)=>s+(MD.test(a)?LD:a===""?FD:BD),r)}function WD(e,n){return e.length===n.length&&e.slice(0,-1).every((r,s)=>r===n[s])?e[e.length-1]-n[n.length-1]:0}function HD(e,n,t){t===void 0&&(t=!1);let{routesMeta:r}=e,s={},a="/",d=[];for(let g=0;g<r.length;++g){let v=r[g],x=g===r.length-1,y=a==="/"?n:n.slice(a.length)||"/",E=vy({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},y),_=v.route;if(!E&&x&&t&&!r[r.length-1].route.index&&(E=vy({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},y)),!E)return null;Object.assign(s,E.params),d.push({params:s,pathname:ro([a,E.pathname]),pathnameBase:XD(ro([a,E.pathnameBase])),route:_}),E.pathnameBase!=="/"&&(a=ro([a,E.pathnameBase]))}return d}function vy(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=qD(e.path,e.caseSensitive,e.end),s=n.match(t);if(!s)return null;let a=s[0],d=a.replace(/(.)\/+$/,"$1"),g=s.slice(1);return{params:r.reduce((x,y,E)=>{let{paramName:_,isOptional:k}=y;if(_==="*"){let R=g[E]||"";d=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const S=g[E];return k&&!S?x[_]=void 0:x[_]=(S||"").replace(/%2F/g,"/"),x},{}),pathname:a,pathnameBase:d,pattern:e}}function qD(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),vC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,v)=>(r.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,n?void 0:"i"),r]}function VD(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return vC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Tx(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function YD(e,n){n===void 0&&(n="/");let{pathname:t,search:r="",hash:s=""}=typeof e=="string"?Sc(e):e;return{pathname:t?t.startsWith("/")?t:GD(t,n):n,search:QD(r),hash:KD(s)}}function GD(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function F1(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $D(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function Dx(e,n){let t=$D(e);return n?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Ix(e,n,t,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Sc(e):(s=nd({},e),Vn(!s.pathname||!s.pathname.includes("?"),F1("?","pathname","search",s)),Vn(!s.pathname||!s.pathname.includes("#"),F1("#","pathname","hash",s)),Vn(!s.search||!s.search.includes("#"),F1("#","search","hash",s)));let a=e===""||s.pathname==="",d=a?"/":s.pathname,g;if(d==null)g=t;else{let E=n.length-1;if(!r&&d.startsWith("..")){let _=d.split("/");for(;_[0]==="..";)_.shift(),E-=1;s.pathname=_.join("/")}g=E>=0?n[E]:"/"}let v=YD(s,g),x=d&&d!=="/"&&d.endsWith("/"),y=(a||d===".")&&t.endsWith("/");return!v.pathname.endsWith("/")&&(x||y)&&(v.pathname+="/"),v}const ro=e=>e.join("/").replace(/\/\/+/g,"/"),XD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bC=["post","put","patch","delete"];new Set(bC);const JD=["get",...bC];new Set(JD);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},rd.apply(this,arguments)}const jx=L.createContext(null),eI=L.createContext(null),po=L.createContext(null),Ph=L.createContext(null),wa=L.createContext({outlet:null,matches:[],isDataRoute:!1}),CC=L.createContext(null);function tI(e,n){let{relative:t}=n===void 0?{}:n;Ac()||Vn(!1);let{basename:r,navigator:s}=L.useContext(po),{hash:a,pathname:d,search:g}=_C(e,{relative:t}),v=d;return r!=="/"&&(v=d==="/"?r:ro([r,d])),s.createHref({pathname:v,search:g,hash:a})}function Ac(){return L.useContext(Ph)!=null}function kc(){return Ac()||Vn(!1),L.useContext(Ph).location}function EC(e){L.useContext(po).static||L.useLayoutEffect(e)}function ds(){let{isDataRoute:e}=L.useContext(wa);return e?pI():nI()}function nI(){Ac()||Vn(!1);let e=L.useContext(jx),{basename:n,future:t,navigator:r}=L.useContext(po),{matches:s}=L.useContext(wa),{pathname:a}=kc(),d=JSON.stringify(Dx(s,t.v7_relativeSplatPath)),g=L.useRef(!1);return EC(()=>{g.current=!0}),L.useCallback(function(x,y){if(y===void 0&&(y={}),!g.current)return;if(typeof x=="number"){r.go(x);return}let E=Ix(x,JSON.parse(d),a,y.relative==="path");e==null&&n!=="/"&&(E.pathname=E.pathname==="/"?n:ro([n,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[n,r,d,a,e])}function NC(){let{matches:e}=L.useContext(wa),n=e[e.length-1];return n?n.params:{}}function _C(e,n){let{relative:t}=n===void 0?{}:n,{future:r}=L.useContext(po),{matches:s}=L.useContext(wa),{pathname:a}=kc(),d=JSON.stringify(Dx(s,r.v7_relativeSplatPath));return L.useMemo(()=>Ix(e,JSON.parse(d),a,t==="path"),[e,d,a,t])}function rI(e,n){return iI(e,n)}function iI(e,n,t,r){Ac()||Vn(!1);let{navigator:s,static:a}=L.useContext(po),{matches:d}=L.useContext(wa),g=d[d.length-1],v=g?g.params:{};g&&g.pathname;let x=g?g.pathnameBase:"/";g&&g.route;let y=kc(),E;if(n){var _;let I=typeof n=="string"?Sc(n):n;x==="/"||(_=I.pathname)!=null&&_.startsWith(x)||Vn(!1),E=I}else E=y;let k=E.pathname||"/",S=k;if(x!=="/"){let I=x.replace(/^\//,"").split("/");S="/"+k.replace(/^\//,"").split("/").slice(I.length).join("/")}let R=!a&&t&&t.matches&&t.matches.length>0?t.matches:jD(e,{pathname:S}),O=cI(R&&R.map(I=>Object.assign({},I,{params:Object.assign({},v,I.params),pathname:ro([x,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?x:ro([x,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),d,t,r);return n&&O?L.createElement(Ph.Provider,{value:{location:rd({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Ya.Pop}},O):O}function sI(){let e=hI(),n=ZD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},n),t?L.createElement("pre",{style:s},t):null,a)}const aI=L.createElement(sI,null);class oI extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?L.createElement(wa.Provider,{value:this.props.routeContext},L.createElement(CC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lI(e){let{routeContext:n,match:t,children:r}=e,s=L.useContext(jx);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(wa.Provider,{value:n},r)}function cI(e,n,t,r){var s;if(n===void 0&&(n=[]),t===void 0&&(t=null),r===void 0&&(r=null),e==null){var a;if(!t)return null;if(t.errors)e=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let d=e,g=(s=t)==null?void 0:s.errors;if(g!=null){let y=d.findIndex(E=>E.route.id&&(g==null?void 0:g[E.route.id])!==void 0);y>=0||Vn(!1),d=d.slice(0,Math.min(d.length,y+1))}let v=!1,x=-1;if(t&&r&&r.v7_partialHydration)for(let y=0;y<d.length;y++){let E=d[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(x=y),E.route.id){let{loaderData:_,errors:k}=t,S=E.route.loader&&_[E.route.id]===void 0&&(!k||k[E.route.id]===void 0);if(E.route.lazy||S){v=!0,x>=0?d=d.slice(0,x+1):d=[d[0]];break}}}return d.reduceRight((y,E,_)=>{let k,S=!1,R=null,O=null;t&&(k=g&&E.route.id?g[E.route.id]:void 0,R=E.route.errorElement||aI,v&&(x<0&&_===0?(mI("route-fallback",!1),S=!0,O=null):x===_&&(S=!0,O=E.route.hydrateFallbackElement||null)));let I=n.concat(d.slice(0,_+1)),D=()=>{let j;return k?j=R:S?j=O:E.route.Component?j=L.createElement(E.route.Component,null):E.route.element?j=E.route.element:j=y,L.createElement(lI,{match:E,routeContext:{outlet:y,matches:I,isDataRoute:t!=null},children:j})};return t&&(E.route.ErrorBoundary||E.route.errorElement||_===0)?L.createElement(oI,{location:t.location,revalidation:t.revalidation,component:R,error:k,children:D(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):D()},null)}var SC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(SC||{}),G0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(G0||{});function uI(e){let n=L.useContext(jx);return n||Vn(!1),n}function dI(e){let n=L.useContext(eI);return n||Vn(!1),n}function fI(e){let n=L.useContext(wa);return n||Vn(!1),n}function AC(e){let n=fI(),t=n.matches[n.matches.length-1];return t.route.id||Vn(!1),t.route.id}function hI(){var e;let n=L.useContext(CC),t=dI(G0.UseRouteError),r=AC(G0.UseRouteError);return n!==void 0?n:(e=t.errors)==null?void 0:e[r]}function pI(){let{router:e}=uI(SC.UseNavigateStable),n=AC(G0.UseNavigateStable),t=L.useRef(!1);return EC(()=>{t.current=!0}),L.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,rd({fromRouteId:n},a)))},[e,n])}const wy={};function mI(e,n,t){!n&&!wy[e]&&(wy[e]=!0)}function gI(e,n){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!n||n.v7_relativeSplatPath),n&&(n.v7_fetcherPersist,n.v7_normalizeFormMethod,n.v7_partialHydration,n.v7_skipActionErrorRevalidation)}function $0(e){let{to:n,replace:t,state:r,relative:s}=e;Ac()||Vn(!1);let{future:a,static:d}=L.useContext(po),{matches:g}=L.useContext(wa),{pathname:v}=kc(),x=ds(),y=Ix(n,Dx(g,a.v7_relativeSplatPath),v,s==="path"),E=JSON.stringify(y);return L.useEffect(()=>x(JSON.parse(E),{replace:t,state:r,relative:s}),[x,E,s,t,r]),null}function Li(e){Vn(!1)}function xI(e){let{basename:n="/",children:t=null,location:r,navigationType:s=Ya.Pop,navigator:a,static:d=!1,future:g}=e;Ac()&&Vn(!1);let v=n.replace(/^\/*/,"/"),x=L.useMemo(()=>({basename:v,navigator:a,static:d,future:rd({v7_relativeSplatPath:!1},g)}),[v,g,a,d]);typeof r=="string"&&(r=Sc(r));let{pathname:y="/",search:E="",hash:_="",state:k=null,key:S="default"}=r,R=L.useMemo(()=>{let O=Tx(y,v);return O==null?null:{location:{pathname:O,search:E,hash:_,state:k,key:S},navigationType:s}},[v,y,E,_,k,S,s]);return R==null?null:L.createElement(po.Provider,{value:x},L.createElement(Ph.Provider,{children:t,value:R}))}function vI(e){let{children:n,location:t}=e;return rI(Qm(n),t)}new Promise(()=>{});function Qm(e,n){n===void 0&&(n=[]);let t=[];return L.Children.forEach(e,(r,s)=>{if(!L.isValidElement(r))return;let a=[...n,s];if(r.type===L.Fragment){t.push.apply(t,Qm(r.props.children,a));return}r.type!==Li&&Vn(!1),!r.props.index||!r.props.children||Vn(!1);let d={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Qm(r.props.children,a)),t.push(d)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Km.apply(this,arguments)}function wI(e,n){if(e==null)return{};var t={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(n.indexOf(s)>=0)&&(t[s]=e[s]);return t}function yI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bI(e,n){return e.button===0&&(!n||n==="_self")&&!yI(e)}const CI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EI="6";try{window.__reactRouterVersion=EI}catch{}const NI="startTransition",yy=Pg[NI];function _I(e){let{basename:n,children:t,future:r,window:s}=e,a=L.useRef();a.current==null&&(a.current=TD({window:s,v5Compat:!0}));let d=a.current,[g,v]=L.useState({action:d.action,location:d.location}),{v7_startTransition:x}=r||{},y=L.useCallback(E=>{x&&yy?yy(()=>v(E)):v(E)},[v,x]);return L.useLayoutEffect(()=>d.listen(y),[d,y]),L.useEffect(()=>gI(r),[r]),L.createElement(xI,{basename:n,children:t,location:g.location,navigationType:g.action,navigator:d,future:r})}const SI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Br=L.forwardRef(function(n,t){let{onClick:r,relative:s,reloadDocument:a,replace:d,state:g,target:v,to:x,preventScrollReset:y,viewTransition:E}=n,_=wI(n,CI),{basename:k}=L.useContext(po),S,R=!1;if(typeof x=="string"&&AI.test(x)&&(S=x,SI))try{let j=new URL(window.location.href),q=x.startsWith("//")?new URL(j.protocol+x):new URL(x),Q=Tx(q.pathname,k);q.origin===j.origin&&Q!=null?x=Q+q.search+q.hash:R=!0}catch{}let O=tI(x,{relative:s}),I=kI(x,{replace:d,state:g,target:v,preventScrollReset:y,relative:s,viewTransition:E});function D(j){r&&r(j),j.defaultPrevented||I(j)}return L.createElement("a",Km({},_,{href:S||O,onClick:R||a?r:D,ref:t,target:v}))});var by;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(by||(by={}));var Cy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cy||(Cy={}));function kI(e,n){let{target:t,replace:r,state:s,preventScrollReset:a,relative:d,viewTransition:g}=n===void 0?{}:n,v=ds(),x=kc(),y=_C(e,{relative:d});return L.useCallback(E=>{if(bI(E,t)){E.preventDefault();let _=r!==void 0?r:Y0(x)===Y0(y);v(e,{replace:_,state:s,preventScrollReset:a,relative:d,viewTransition:g})}},[x,v,y,r,s,t,e,a,d,g])}class Tc{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){const t={listener:n};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const id=typeof window>"u"||"Deno"in window;function Pi(){}function TI(e,n){return typeof e=="function"?e(n):e}function Zm(e){return typeof e=="number"&&e>=0&&e!==1/0}function kC(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Xl(e,n,t){return vd(e)?typeof n=="function"?{...t,queryKey:e,queryFn:n}:{...n,queryKey:e}:e}function DI(e,n,t){return vd(e)?typeof n=="function"?{...t,mutationKey:e,mutationFn:n}:{...n,mutationKey:e}:typeof e=="function"?{...n,mutationFn:e}:{...e}}function Ua(e,n,t){return vd(e)?[{...n,queryKey:e},t]:[e||{},n]}function Ey(e,n){const{type:t="all",exact:r,fetchStatus:s,predicate:a,queryKey:d,stale:g}=e;if(vd(d)){if(r){if(n.queryHash!==Rx(d,n.options))return!1}else if(!X0(n.queryKey,d))return!1}if(t!=="all"){const v=n.isActive();if(t==="active"&&!v||t==="inactive"&&v)return!1}return!(typeof g=="boolean"&&n.isStale()!==g||typeof s<"u"&&s!==n.state.fetchStatus||a&&!a(n))}function Ny(e,n){const{exact:t,fetching:r,predicate:s,mutationKey:a}=e;if(vd(a)){if(!n.options.mutationKey)return!1;if(t){if($o(n.options.mutationKey)!==$o(a))return!1}else if(!X0(n.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&n.state.status==="loading"!==r||s&&!s(n))}function Rx(e,n){return((n==null?void 0:n.queryKeyHashFn)||$o)(e)}function $o(e){return JSON.stringify(e,(n,t)=>Jm(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function X0(e,n){return TC(e,n)}function TC(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?!Object.keys(n).some(t=>!TC(e[t],n[t])):!1}function DC(e,n){if(e===n)return e;const t=_y(e)&&_y(n);if(t||Jm(e)&&Jm(n)){const r=t?e.length:Object.keys(e).length,s=t?n:Object.keys(n),a=s.length,d=t?[]:{};let g=0;for(let v=0;v<a;v++){const x=t?v:s[v];d[x]=DC(e[x],n[x]),d[x]===e[x]&&g++}return r===a&&g===r?e:d}return n}function Q0(e,n){if(e&&!n||n&&!e)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}function _y(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jm(e){if(!Sy(e))return!1;const n=e.constructor;if(typeof n>"u")return!0;const t=n.prototype;return!(!Sy(t)||!t.hasOwnProperty("isPrototypeOf"))}function Sy(e){return Object.prototype.toString.call(e)==="[object Object]"}function vd(e){return Array.isArray(e)}function IC(e){return new Promise(n=>{setTimeout(n,e)})}function Ay(e){IC(0).then(e)}function II(){if(typeof AbortController=="function")return new AbortController}function eg(e,n,t){return t.isDataEqual!=null&&t.isDataEqual(e,n)?e:typeof t.structuralSharing=="function"?t.structuralSharing(e,n):t.structuralSharing!==!1?DC(e,n):n}class jI extends Tc{constructor(){super(),this.setup=n=>{if(!id&&window.addEventListener){const t=()=>n();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}}setEventListener(n){var t;this.setup=n,(t=this.cleanup)==null||t.call(this),this.cleanup=n(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(n){this.focused!==n&&(this.focused=n,this.onFocus())}onFocus(){this.listeners.forEach(({listener:n})=>{n()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const K0=new jI,ky=["online","offline"];class RI extends Tc{constructor(){super(),this.setup=n=>{if(!id&&window.addEventListener){const t=()=>n();return ky.forEach(r=>{window.addEventListener(r,t,!1)}),()=>{ky.forEach(r=>{window.removeEventListener(r,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}}setEventListener(n){var t;this.setup=n,(t=this.cleanup)==null||t.call(this),this.cleanup=n(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(n){this.online!==n&&(this.online=n,this.onOnline())}onOnline(){this.listeners.forEach(({listener:n})=>{n()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Z0=new RI;function OI(e){return Math.min(1e3*2**e,3e4)}function Fh(e){return(e??"online")==="online"?Z0.isOnline():!0}class jC{constructor(n){this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}}function u0(e){return e instanceof jC}function RC(e){let n=!1,t=0,r=!1,s,a,d;const g=new Promise((O,I)=>{a=O,d=I}),v=O=>{r||(k(new jC(O)),e.abort==null||e.abort())},x=()=>{n=!0},y=()=>{n=!1},E=()=>!K0.isFocused()||e.networkMode!=="always"&&!Z0.isOnline(),_=O=>{r||(r=!0,e.onSuccess==null||e.onSuccess(O),s==null||s(),a(O))},k=O=>{r||(r=!0,e.onError==null||e.onError(O),s==null||s(),d(O))},S=()=>new Promise(O=>{s=I=>{const D=r||!E();return D&&O(I),D},e.onPause==null||e.onPause()}).then(()=>{s=void 0,r||e.onContinue==null||e.onContinue()}),R=()=>{if(r)return;let O;try{O=e.fn()}catch(I){O=Promise.reject(I)}Promise.resolve(O).then(_).catch(I=>{var D,j;if(r)return;const q=(D=e.retry)!=null?D:3,Q=(j=e.retryDelay)!=null?j:OI,B=typeof Q=="function"?Q(t,I):Q,F=q===!0||typeof q=="number"&&t<q||typeof q=="function"&&q(t,I);if(n||!F){k(I);return}t++,e.onFail==null||e.onFail(t,I),IC(B).then(()=>{if(E())return S()}).then(()=>{n?k(I):R()})})};return Fh(e.networkMode)?R():S().then(R),{promise:g,cancel:v,continue:()=>(s==null?void 0:s())?g:Promise.resolve(),cancelRetry:x,continueRetry:y}}const Ox=console;function MI(){let e=[],n=0,t=y=>{y()},r=y=>{y()};const s=y=>{let E;n++;try{E=y()}finally{n--,n||g()}return E},a=y=>{n?e.push(y):Ay(()=>{t(y)})},d=y=>(...E)=>{a(()=>{y(...E)})},g=()=>{const y=e;e=[],y.length&&Ay(()=>{r(()=>{y.forEach(E=>{t(E)})})})};return{batch:s,batchCalls:d,schedule:a,setNotifyFunction:y=>{t=y},setBatchNotifyFunction:y=>{r=y}}}const Mn=MI();class OC{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zm(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(n){this.cacheTime=Math.max(this.cacheTime||0,n??(id?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class LI extends OC{constructor(n){super(),this.abortSignalConsumed=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.logger=n.logger||Ox,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||PI(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(n){this.options={...this.defaultOptions,...n},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(n,t){const r=eg(this.state.data,n,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(n,t){this.dispatch({type:"setState",state:n,setStateOptions:t})}cancel(n){var t;const r=this.promise;return(t=this.retryer)==null||t.cancel(n),r?r.then(Pi).catch(Pi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(n=>n.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(n=>n.getCurrentResult().isStale)}isStaleByTime(n=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!kC(this.state.dataUpdatedAt,n)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),(n=this.retryer)==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),(n=this.retryer)==null||n.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(t=>t!==n),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(n,t){var r,s;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){const k=this.observers.find(S=>S.options.queryFn);k&&this.setOptions(k.options)}const d=II(),g={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},v=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{if(d)return this.abortSignalConsumed=!0,d.signal}})};v(g);const x=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(g)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),y={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:x};if(v(y),(r=this.options.behavior)==null||r.onFetch(y),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=y.fetchOptions)==null?void 0:s.meta)){var E;this.dispatch({type:"fetch",meta:(E=y.fetchOptions)==null?void 0:E.meta})}const _=k=>{if(u0(k)&&k.silent||this.dispatch({type:"error",error:k}),!u0(k)){var S,R,O,I;(S=(R=this.cache.config).onError)==null||S.call(R,k,this),(O=(I=this.cache.config).onSettled)==null||O.call(I,this.state.data,k,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=RC({fn:y.fetchFn,abort:d==null?void 0:d.abort.bind(d),onSuccess:k=>{var S,R,O,I;if(typeof k>"u"){_(new Error(this.queryHash+" data is undefined"));return}this.setData(k),(S=(R=this.cache.config).onSuccess)==null||S.call(R,k,this),(O=(I=this.cache.config).onSettled)==null||O.call(I,k,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:_,onFail:(k,S)=>{this.dispatch({type:"failed",failureCount:k,error:S})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay,networkMode:y.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(n){const t=r=>{var s,a;switch(n.type){case"failed":return{...r,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(s=n.meta)!=null?s:null,fetchStatus:Fh(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:n.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=n.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const d=n.error;return u0(d)&&d.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:d,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...n.state}}};this.state=t(this.state),Mn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(n)}),this.cache.notify({query:this,type:"updated",action:n})})}}function PI(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,t=typeof n<"u",r=t?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"loading",fetchStatus:"idle"}}class FI extends Tc{constructor(n){super(),this.config=n||{},this.queries=[],this.queriesMap={}}build(n,t,r){var s;const a=t.queryKey,d=(s=t.queryHash)!=null?s:Rx(a,t);let g=this.get(d);return g||(g=new LI({cache:this,logger:n.getLogger(),queryKey:a,queryHash:d,options:n.defaultQueryOptions(t),state:r,defaultOptions:n.getQueryDefaults(a)}),this.add(g)),g}add(n){this.queriesMap[n.queryHash]||(this.queriesMap[n.queryHash]=n,this.queries.push(n),this.notify({type:"added",query:n}))}remove(n){const t=this.queriesMap[n.queryHash];t&&(n.destroy(),this.queries=this.queries.filter(r=>r!==n),t===n&&delete this.queriesMap[n.queryHash],this.notify({type:"removed",query:n}))}clear(){Mn.batch(()=>{this.queries.forEach(n=>{this.remove(n)})})}get(n){return this.queriesMap[n]}getAll(){return this.queries}find(n,t){const[r]=Ua(n,t);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(s=>Ey(r,s))}findAll(n,t){const[r]=Ua(n,t);return Object.keys(r).length>0?this.queries.filter(s=>Ey(r,s)):this.queries}notify(n){Mn.batch(()=>{this.listeners.forEach(({listener:t})=>{t(n)})})}onFocus(){Mn.batch(()=>{this.queries.forEach(n=>{n.onFocus()})})}onOnline(){Mn.batch(()=>{this.queries.forEach(n=>{n.onOnline()})})}}class BI extends OC{constructor(n){super(),this.defaultOptions=n.defaultOptions,this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.logger=n.logger||Ox,this.observers=[],this.state=n.state||MC(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options={...this.defaultOptions,...n},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(n){this.dispatch({type:"setState",state:n})}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.observers=this.observers.filter(t=>t!==n),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var n,t;return(n=(t=this.retryer)==null?void 0:t.continue())!=null?n:this.execute()}async execute(){const n=()=>{var F;return this.retryer=RC({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(V,W)=>{this.dispatch({type:"failed",failureCount:V,error:W})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(F=this.options.retry)!=null?F:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t=this.state.status==="loading";try{var r,s,a,d,g,v,x,y;if(!t){var E,_,k,S;this.dispatch({type:"loading",variables:this.options.variables}),await((E=(_=this.mutationCache.config).onMutate)==null?void 0:E.call(_,this.state.variables,this));const V=await((k=(S=this.options).onMutate)==null?void 0:k.call(S,this.state.variables));V!==this.state.context&&this.dispatch({type:"loading",context:V,variables:this.state.variables})}const F=await n();return await((r=(s=this.mutationCache.config).onSuccess)==null?void 0:r.call(s,F,this.state.variables,this.state.context,this)),await((a=(d=this.options).onSuccess)==null?void 0:a.call(d,F,this.state.variables,this.state.context)),await((g=(v=this.mutationCache.config).onSettled)==null?void 0:g.call(v,F,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,F,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:F}),F}catch(F){try{var R,O,I,D,j,q,Q,B;throw await((R=(O=this.mutationCache.config).onError)==null?void 0:R.call(O,F,this.state.variables,this.state.context,this)),await((I=(D=this.options).onError)==null?void 0:I.call(D,F,this.state.variables,this.state.context)),await((j=(q=this.mutationCache.config).onSettled)==null?void 0:j.call(q,void 0,F,this.state.variables,this.state.context,this)),await((Q=(B=this.options).onSettled)==null?void 0:Q.call(B,void 0,F,this.state.variables,this.state.context)),F}finally{this.dispatch({type:"error",error:F})}}}dispatch(n){const t=r=>{switch(n.type){case"failed":return{...r,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Fh(this.options.networkMode),status:"loading",variables:n.variables};case"success":return{...r,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:n.error,failureCount:r.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"};case"setState":return{...r,...n.state}}};this.state=t(this.state),Mn.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(n)}),this.mutationCache.notify({mutation:this,type:"updated",action:n})})}}function MC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class UI extends Tc{constructor(n){super(),this.config=n||{},this.mutations=[],this.mutationId=0}build(n,t,r){const s=new BI({mutationCache:this,logger:n.getLogger(),mutationId:++this.mutationId,options:n.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?n.getMutationDefaults(t.mutationKey):void 0});return this.add(s),s}add(n){this.mutations.push(n),this.notify({type:"added",mutation:n})}remove(n){this.mutations=this.mutations.filter(t=>t!==n),this.notify({type:"removed",mutation:n})}clear(){Mn.batch(()=>{this.mutations.forEach(n=>{this.remove(n)})})}getAll(){return this.mutations}find(n){return typeof n.exact>"u"&&(n.exact=!0),this.mutations.find(t=>Ny(n,t))}findAll(n){return this.mutations.filter(t=>Ny(n,t))}notify(n){Mn.batch(()=>{this.listeners.forEach(({listener:t})=>{t(n)})})}resumePausedMutations(){var n;return this.resuming=((n=this.resuming)!=null?n:Promise.resolve()).then(()=>{const t=this.mutations.filter(r=>r.state.isPaused);return Mn.batch(()=>t.reduce((r,s)=>r.then(()=>s.continue().catch(Pi)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function tg(){return{onFetch:e=>{e.fetchFn=()=>{var n,t,r,s,a,d;const g=(n=e.fetchOptions)==null||(t=n.meta)==null?void 0:t.refetchPage,v=(r=e.fetchOptions)==null||(s=r.meta)==null?void 0:s.fetchMore,x=v==null?void 0:v.pageParam,y=(v==null?void 0:v.direction)==="forward",E=(v==null?void 0:v.direction)==="backward",_=((a=e.state.data)==null?void 0:a.pages)||[],k=((d=e.state.data)==null?void 0:d.pageParams)||[];let S=k,R=!1;const O=B=>{Object.defineProperty(B,"signal",{enumerable:!0,get:()=>{var F;if((F=e.signal)!=null&&F.aborted)R=!0;else{var V;(V=e.signal)==null||V.addEventListener("abort",()=>{R=!0})}return e.signal}})},I=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),D=(B,F,V,W)=>(S=W?[F,...S]:[...S,F],W?[V,...B]:[...B,V]),j=(B,F,V,W)=>{if(R)return Promise.reject("Cancelled");if(typeof V>"u"&&!F&&B.length)return Promise.resolve(B);const se={queryKey:e.queryKey,pageParam:V,meta:e.options.meta};O(se);const le=I(se);return Promise.resolve(le).then(ce=>D(B,V,ce,W))};let q;if(!_.length)q=j([]);else if(y){const B=typeof x<"u",F=B?x:ng(e.options,_);q=j(_,B,F)}else if(E){const B=typeof x<"u",F=B?x:LC(e.options,_);q=j(_,B,F,!0)}else{S=[];const B=typeof e.options.getNextPageParam>"u";q=(g&&_[0]?g(_[0],0,_):!0)?j([],B,k[0]):Promise.resolve(D([],k[0],_[0]));for(let V=1;V<_.length;V++)q=q.then(W=>{if(g&&_[V]?g(_[V],V,_):!0){const le=B?k[V]:ng(e.options,W);return j(W,B,le)}return Promise.resolve(D(W,k[V],_[V]))})}return q.then(B=>({pages:B,pageParams:S}))}}}}function ng(e,n){return e.getNextPageParam==null?void 0:e.getNextPageParam(n[n.length-1],n)}function LC(e,n){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(n[0],n)}function zI(e,n){if(e.getNextPageParam&&Array.isArray(n)){const t=ng(e,n);return typeof t<"u"&&t!==null&&t!==!1}}function WI(e,n){if(e.getPreviousPageParam&&Array.isArray(n)){const t=LC(e,n);return typeof t<"u"&&t!==null&&t!==!1}}class HI{constructor(n={}){this.queryCache=n.queryCache||new FI,this.mutationCache=n.mutationCache||new UI,this.logger=n.logger||Ox,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=K0.subscribe(()=>{K0.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Z0.subscribe(()=>{Z0.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var n,t;this.mountCount--,this.mountCount===0&&((n=this.unsubscribeFocus)==null||n.call(this),this.unsubscribeFocus=void 0,(t=this.unsubscribeOnline)==null||t.call(this),this.unsubscribeOnline=void 0)}isFetching(n,t){const[r]=Ua(n,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(n){return this.mutationCache.findAll({...n,fetching:!0}).length}getQueryData(n,t){var r;return(r=this.queryCache.find(n,t))==null?void 0:r.state.data}ensureQueryData(n,t,r){const s=Xl(n,t,r),a=this.getQueryData(s.queryKey);return a?Promise.resolve(a):this.fetchQuery(s)}getQueriesData(n){return this.getQueryCache().findAll(n).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(n,t,r){const s=this.queryCache.find(n),a=s==null?void 0:s.state.data,d=TI(t,a);if(typeof d>"u")return;const g=Xl(n),v=this.defaultQueryOptions(g);return this.queryCache.build(this,v).setData(d,{...r,manual:!0})}setQueriesData(n,t,r){return Mn.batch(()=>this.getQueryCache().findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(n,t){var r;return(r=this.queryCache.find(n,t))==null?void 0:r.state}removeQueries(n,t){const[r]=Ua(n,t),s=this.queryCache;Mn.batch(()=>{s.findAll(r).forEach(a=>{s.remove(a)})})}resetQueries(n,t,r){const[s,a]=Ua(n,t,r),d=this.queryCache,g={type:"active",...s};return Mn.batch(()=>(d.findAll(s).forEach(v=>{v.reset()}),this.refetchQueries(g,a)))}cancelQueries(n,t,r){const[s,a={}]=Ua(n,t,r);typeof a.revert>"u"&&(a.revert=!0);const d=Mn.batch(()=>this.queryCache.findAll(s).map(g=>g.cancel(a)));return Promise.all(d).then(Pi).catch(Pi)}invalidateQueries(n,t,r){const[s,a]=Ua(n,t,r);return Mn.batch(()=>{var d,g;if(this.queryCache.findAll(s).forEach(x=>{x.invalidate()}),s.refetchType==="none")return Promise.resolve();const v={...s,type:(d=(g=s.refetchType)!=null?g:s.type)!=null?d:"active"};return this.refetchQueries(v,a)})}refetchQueries(n,t,r){const[s,a]=Ua(n,t,r),d=Mn.batch(()=>this.queryCache.findAll(s).filter(v=>!v.isDisabled()).map(v=>{var x;return v.fetch(void 0,{...a,cancelRefetch:(x=a==null?void 0:a.cancelRefetch)!=null?x:!0,meta:{refetchPage:s.refetchPage}})}));let g=Promise.all(d).then(Pi);return a!=null&&a.throwOnError||(g=g.catch(Pi)),g}fetchQuery(n,t,r){const s=Xl(n,t,r),a=this.defaultQueryOptions(s);typeof a.retry>"u"&&(a.retry=!1);const d=this.queryCache.build(this,a);return d.isStaleByTime(a.staleTime)?d.fetch(a):Promise.resolve(d.state.data)}prefetchQuery(n,t,r){return this.fetchQuery(n,t,r).then(Pi).catch(Pi)}fetchInfiniteQuery(n,t,r){const s=Xl(n,t,r);return s.behavior=tg(),this.fetchQuery(s)}prefetchInfiniteQuery(n,t,r){return this.fetchInfiniteQuery(n,t,r).then(Pi).catch(Pi)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(n){this.defaultOptions=n}setQueryDefaults(n,t){const r=this.queryDefaults.find(s=>$o(n)===$o(s.queryKey));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:n,defaultOptions:t})}getQueryDefaults(n){if(!n)return;const t=this.queryDefaults.find(r=>X0(n,r.queryKey));return t==null?void 0:t.defaultOptions}setMutationDefaults(n,t){const r=this.mutationDefaults.find(s=>$o(n)===$o(s.mutationKey));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:n,defaultOptions:t})}getMutationDefaults(n){if(!n)return;const t=this.mutationDefaults.find(r=>X0(n,r.mutationKey));return t==null?void 0:t.defaultOptions}defaultQueryOptions(n){if(n!=null&&n._defaulted)return n;const t={...this.defaultOptions.queries,...this.getQueryDefaults(n==null?void 0:n.queryKey),...n,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=Rx(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.useErrorBoundary>"u"&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...this.defaultOptions.mutations,...this.getMutationDefaults(n==null?void 0:n.mutationKey),...n,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class PC extends Tc{constructor(n,t){super(),this.client=n,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Ty(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rg(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rg(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(n,t){const r=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryOptions(n),Q0(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&Dy(this.currentQuery,s,this.options,r)&&this.executeFetch(),this.updateResult(t),a&&(this.currentQuery!==s||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const d=this.computeRefetchInterval();a&&(this.currentQuery!==s||this.options.enabled!==r.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)}getOptimisticResult(n){const t=this.client.getQueryCache().build(this.client,n),r=this.createResult(t,n);return VI(this,r,n)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(n){const t={};return Object.keys(n).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),n[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:n,...t}={}){return this.fetch({...t,meta:{refetchPage:n}})}fetchOptimistic(n){const t=this.client.defaultQueryOptions(n),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(n){var t;return this.executeFetch({...n,cancelRefetch:(t=n.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(n){this.updateQuery();let t=this.currentQuery.fetch(this.options,n);return n!=null&&n.throwOnError||(t=t.catch(Pi)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),id||this.currentResult.isStale||!Zm(this.options.staleTime))return;const t=kC(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var n;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(n=this.options.refetchInterval)!=null?n:!1}updateRefetchInterval(n){this.clearRefetchInterval(),this.currentRefetchInterval=n,!(id||this.options.enabled===!1||!Zm(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||K0.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(n,t){const r=this.currentQuery,s=this.options,a=this.currentResult,d=this.currentResultState,g=this.currentResultOptions,v=n!==r,x=v?n.state:this.currentQueryInitialState,y=v?this.currentResult:this.previousQueryResult,{state:E}=n;let{dataUpdatedAt:_,error:k,errorUpdatedAt:S,fetchStatus:R,status:O}=E,I=!1,D=!1,j;if(t._optimisticResults){const V=this.hasListeners(),W=!V&&Ty(n,t),se=V&&Dy(n,r,t,s);(W||se)&&(R=Fh(n.options.networkMode)?"fetching":"paused",_||(O="loading")),t._optimisticResults==="isRestoring"&&(R="idle")}if(t.keepPreviousData&&!E.dataUpdatedAt&&y!=null&&y.isSuccess&&O!=="error")j=y.data,_=y.dataUpdatedAt,O=y.status,I=!0;else if(t.select&&typeof E.data<"u")if(a&&E.data===(d==null?void 0:d.data)&&t.select===this.selectFn)j=this.selectResult;else try{this.selectFn=t.select,j=t.select(E.data),j=eg(a==null?void 0:a.data,j,t),this.selectResult=j,this.selectError=null}catch(V){this.selectError=V}else j=E.data;if(typeof t.placeholderData<"u"&&typeof j>"u"&&O==="loading"){let V;if(a!=null&&a.isPlaceholderData&&t.placeholderData===(g==null?void 0:g.placeholderData))V=a.data;else if(V=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof V<"u")try{V=t.select(V),this.selectError=null}catch(W){this.selectError=W}typeof V<"u"&&(O="success",j=eg(a==null?void 0:a.data,V,t),D=!0)}this.selectError&&(k=this.selectError,j=this.selectResult,S=Date.now(),O="error");const q=R==="fetching",Q=O==="loading",B=O==="error";return{status:O,fetchStatus:R,isLoading:Q,isSuccess:O==="success",isError:B,isInitialLoading:Q&&q,data:j,dataUpdatedAt:_,error:k,errorUpdatedAt:S,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>x.dataUpdateCount||E.errorUpdateCount>x.errorUpdateCount,isFetching:q,isRefetching:q&&!Q,isLoadingError:B&&E.dataUpdatedAt===0,isPaused:R==="paused",isPlaceholderData:D,isPreviousData:I,isRefetchError:B&&E.dataUpdatedAt!==0,isStale:Mx(n,t),refetch:this.refetch,remove:this.remove}}updateResult(n){const t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Q0(r,t))return;this.currentResult=r;const s={cache:!0},a=()=>{if(!t)return!0;const{notifyOnChangeProps:d}=this.options,g=typeof d=="function"?d():d;if(g==="all"||!g&&!this.trackedProps.size)return!0;const v=new Set(g??this.trackedProps);return this.options.useErrorBoundary&&v.add("error"),Object.keys(this.currentResult).some(x=>{const y=x;return this.currentResult[y]!==t[y]&&v.has(y)})};(n==null?void 0:n.listeners)!==!1&&a()&&(s.listeners=!0),this.notify({...s,...n})}updateQuery(){const n=this.client.getQueryCache().build(this.client,this.options);if(n===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=n,this.currentQueryInitialState=n.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),n.addObserver(this))}onQueryUpdate(n){const t={};n.type==="success"?t.onSuccess=!n.manual:n.type==="error"&&!u0(n.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(n){Mn.batch(()=>{if(n.onSuccess){var t,r,s,a;(t=(r=this.options).onSuccess)==null||t.call(r,this.currentResult.data),(s=(a=this.options).onSettled)==null||s.call(a,this.currentResult.data,null)}else if(n.onError){var d,g,v,x;(d=(g=this.options).onError)==null||d.call(g,this.currentResult.error),(v=(x=this.options).onSettled)==null||v.call(x,void 0,this.currentResult.error)}n.listeners&&this.listeners.forEach(({listener:y})=>{y(this.currentResult)}),n.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function qI(e,n){return n.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&n.retryOnMount===!1)}function Ty(e,n){return qI(e,n)||e.state.dataUpdatedAt>0&&rg(e,n,n.refetchOnMount)}function rg(e,n,t){if(n.enabled!==!1){const r=typeof t=="function"?t(e):t;return r==="always"||r!==!1&&Mx(e,n)}return!1}function Dy(e,n,t,r){return t.enabled!==!1&&(e!==n||r.enabled===!1)&&(!t.suspense||e.state.status!=="error")&&Mx(e,t)}function Mx(e,n){return e.isStaleByTime(n.staleTime)}function VI(e,n,t){return t.keepPreviousData?!1:t.placeholderData!==void 0?n.isPlaceholderData:!Q0(e.getCurrentResult(),n)}class YI extends PC{constructor(n,t){super(n,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n,t){super.setOptions({...n,behavior:tg()},t)}getOptimisticResult(n){return n.behavior=tg(),super.getOptimisticResult(n)}fetchNextPage({pageParam:n,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:n}}})}fetchPreviousPage({pageParam:n,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:n}}})}createResult(n,t){var r,s,a,d,g,v;const{state:x}=n,y=super.createResult(n,t),{isFetching:E,isRefetching:_}=y,k=E&&((r=x.fetchMeta)==null||(s=r.fetchMore)==null?void 0:s.direction)==="forward",S=E&&((a=x.fetchMeta)==null||(d=a.fetchMore)==null?void 0:d.direction)==="backward";return{...y,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:zI(t,(g=x.data)==null?void 0:g.pages),hasPreviousPage:WI(t,(v=x.data)==null?void 0:v.pages),isFetchingNextPage:k,isFetchingPreviousPage:S,isRefetching:_&&!k&&!S}}}let GI=class extends Tc{constructor(n,t){super(),this.client=n,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var t;const r=this.options;this.options=this.client.defaultMutationOptions(n),Q0(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(t=this.currentMutation)==null||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var n;(n=this.currentMutation)==null||n.removeObserver(this)}}onMutationUpdate(n){this.updateResult();const t={listeners:!0};n.type==="success"?t.onSuccess=!0:n.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(n,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof n<"u"?n:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const n=this.currentMutation?this.currentMutation.state:MC(),t={...n,isLoading:n.status==="loading",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(n){Mn.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(n.onSuccess){var t,r,s,a;(t=(r=this.mutateOptions).onSuccess)==null||t.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(s=(a=this.mutateOptions).onSettled)==null||s.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(n.onError){var d,g,v,x;(d=(g=this.mutateOptions).onError)==null||d.call(g,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(v=(x=this.mutateOptions).onSettled)==null||v.call(x,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}n.listeners&&this.listeners.forEach(({listener:y})=>{y(this.currentResult)})})}};var FC={exports:{}},BC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=L;function $I(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var XI=typeof Object.is=="function"?Object.is:$I,QI=hc.useState,KI=hc.useEffect,ZI=hc.useLayoutEffect,JI=hc.useDebugValue;function e7(e,n){var t=n(),r=QI({inst:{value:t,getSnapshot:n}}),s=r[0].inst,a=r[1];return ZI(function(){s.value=t,s.getSnapshot=n,B1(s)&&a({inst:s})},[e,t,n]),KI(function(){return B1(s)&&a({inst:s}),e(function(){B1(s)&&a({inst:s})})},[e]),JI(t),t}function B1(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!XI(e,t)}catch{return!0}}function t7(e,n){return n()}var n7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t7:e7;BC.useSyncExternalStore=hc.useSyncExternalStore!==void 0?hc.useSyncExternalStore:n7;FC.exports=BC;var r7=FC.exports;const UC=r7.useSyncExternalStore,Iy=L.createContext(void 0),zC=L.createContext(!1);function WC(e,n){return e||(n&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Iy),window.ReactQueryClientContext):Iy)}const rr=({context:e}={})=>{const n=L.useContext(WC(e,L.useContext(zC)));if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},i7=({client:e,children:n,context:t,contextSharing:r=!1})=>{L.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const s=WC(t,r);return L.createElement(zC.Provider,{value:!t&&r},L.createElement(s.Provider,{value:e},n))},HC=L.createContext(!1),s7=()=>L.useContext(HC);HC.Provider;function a7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const o7=L.createContext(a7()),l7=()=>L.useContext(o7);function qC(e,n){return typeof e=="function"?e(...n):!!e}const c7=(e,n)=>{(e.suspense||e.useErrorBoundary)&&(n.isReset()||(e.retryOnMount=!1))},u7=e=>{L.useEffect(()=>{e.clearReset()},[e])},d7=({result:e,errorResetBoundary:n,useErrorBoundary:t,query:r})=>e.isError&&!n.isReset()&&!e.isFetching&&qC(t,[e.error,r]),f7=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},h7=(e,n)=>e.isLoading&&e.isFetching&&!n,p7=(e,n,t)=>(e==null?void 0:e.suspense)&&h7(n,t),m7=(e,n,t)=>n.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{t.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function VC(e,n){const t=rr({context:e.context}),r=s7(),s=l7(),a=t.defaultQueryOptions(e);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=Mn.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Mn.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Mn.batchCalls(a.onSettled)),f7(a),c7(a,s),u7(s);const[d]=L.useState(()=>new n(t,a)),g=d.getOptimisticResult(a);if(UC(L.useCallback(v=>{const x=r?()=>{}:d.subscribe(Mn.batchCalls(v));return d.updateResult(),x},[d,r]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),L.useEffect(()=>{d.setOptions(a,{listeners:!1})},[a,d]),p7(a,g,r))throw m7(a,d,s);if(d7({result:g,errorResetBoundary:s,useErrorBoundary:a.useErrorBoundary,query:d.getCurrentQuery()}))throw g.error;return a.notifyOnChangeProps?g:d.trackResult(g)}function Lt(e,n,t){const r=Xl(e,n,t);return VC(r,PC)}function Ln(e,n,t){const r=DI(e,n,t),s=rr({context:r.context}),[a]=L.useState(()=>new GI(s,r));L.useEffect(()=>{a.setOptions(r)},[a,r]);const d=UC(L.useCallback(v=>a.subscribe(Mn.batchCalls(v)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),g=L.useCallback((v,x)=>{a.mutate(v,x).catch(g7)},[a]);if(d.error&&qC(a.options.useErrorBoundary,[d.error]))throw d.error;return{...d,mutate:g,mutateAsync:d.mutate}}function g7(){}function YC(e,n,t){const r=Xl(e,n,t);return VC(r,YI)}function GC(e,n){return function(){return e.apply(n,arguments)}}const{toString:x7}=Object.prototype,{getPrototypeOf:Lx}=Object,{iterator:Bh,toStringTag:$C}=Symbol,Uh=(e=>n=>{const t=x7.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),fs=e=>(e=e.toLowerCase(),n=>Uh(n)===e),zh=e=>n=>typeof n===e,{isArray:Dc}=Array,sd=zh("undefined");function v7(e){return e!==null&&!sd(e)&&e.constructor!==null&&!sd(e.constructor)&&ri(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const XC=fs("ArrayBuffer");function w7(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&XC(e.buffer),n}const y7=zh("string"),ri=zh("function"),QC=zh("number"),Wh=e=>e!==null&&typeof e=="object",b7=e=>e===!0||e===!1,d0=e=>{if(Uh(e)!=="object")return!1;const n=Lx(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!($C in e)&&!(Bh in e)},C7=fs("Date"),E7=fs("File"),N7=fs("Blob"),_7=fs("FileList"),S7=e=>Wh(e)&&ri(e.pipe),A7=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||ri(e.append)&&((n=Uh(e))==="formdata"||n==="object"&&ri(e.toString)&&e.toString()==="[object FormData]"))},k7=fs("URLSearchParams"),[T7,D7,I7,j7]=["ReadableStream","Request","Response","Headers"].map(fs),R7=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wd(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Dc(e))for(r=0,s=e.length;r<s;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),d=a.length;let g;for(r=0;r<d;r++)g=a[r],n.call(null,e[g],g,e)}}function KC(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,s;for(;r-- >0;)if(s=t[r],n===s.toLowerCase())return s;return null}const Xo=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ZC=e=>!sd(e)&&e!==Xo;function ig(){const{caseless:e}=ZC(this)&&this||{},n={},t=(r,s)=>{const a=e&&KC(n,s)||s;d0(n[a])&&d0(r)?n[a]=ig(n[a],r):d0(r)?n[a]=ig({},r):Dc(r)?n[a]=r.slice():n[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&wd(arguments[r],t);return n}const O7=(e,n,t,{allOwnKeys:r}={})=>(wd(n,(s,a)=>{t&&ri(s)?e[a]=GC(s,t):e[a]=s},{allOwnKeys:r}),e),M7=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),L7=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},P7=(e,n,t,r)=>{let s,a,d;const g={};if(n=n||{},e==null)return n;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)d=s[a],(!r||r(d,e,n))&&!g[d]&&(n[d]=e[d],g[d]=!0);e=t!==!1&&Lx(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},F7=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},B7=e=>{if(!e)return null;if(Dc(e))return e;let n=e.length;if(!QC(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},U7=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&Lx(Uint8Array)),z7=(e,n)=>{const r=(e&&e[Bh]).call(e);let s;for(;(s=r.next())&&!s.done;){const a=s.value;n.call(e,a[0],a[1])}},W7=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},H7=fs("HTMLFormElement"),q7=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),jy=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),V7=fs("RegExp"),JC=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};wd(t,(s,a)=>{let d;(d=n(s,a,e))!==!1&&(r[a]=d||s)}),Object.defineProperties(e,r)},Y7=e=>{JC(e,(n,t)=>{if(ri(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(ri(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},G7=(e,n)=>{const t={},r=s=>{s.forEach(a=>{t[a]=!0})};return Dc(e)?r(e):r(String(e).split(n)),t},$7=()=>{},X7=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function Q7(e){return!!(e&&ri(e.append)&&e[$C]==="FormData"&&e[Bh])}const K7=e=>{const n=new Array(10),t=(r,s)=>{if(Wh(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[s]=r;const a=Dc(r)?[]:{};return wd(r,(d,g)=>{const v=t(d,s+1);!sd(v)&&(a[g]=v)}),n[s]=void 0,a}}return r};return t(e,0)},Z7=fs("AsyncFunction"),J7=e=>e&&(Wh(e)||ri(e))&&ri(e.then)&&ri(e.catch),eE=((e,n)=>e?setImmediate:n?((t,r)=>(Xo.addEventListener("message",({source:s,data:a})=>{s===Xo&&a===t&&r.length&&r.shift()()},!1),s=>{r.push(s),Xo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ri(Xo.postMessage)),ej=typeof queueMicrotask<"u"?queueMicrotask.bind(Xo):typeof process<"u"&&process.nextTick||eE,tj=e=>e!=null&&ri(e[Bh]),pe={isArray:Dc,isArrayBuffer:XC,isBuffer:v7,isFormData:A7,isArrayBufferView:w7,isString:y7,isNumber:QC,isBoolean:b7,isObject:Wh,isPlainObject:d0,isReadableStream:T7,isRequest:D7,isResponse:I7,isHeaders:j7,isUndefined:sd,isDate:C7,isFile:E7,isBlob:N7,isRegExp:V7,isFunction:ri,isStream:S7,isURLSearchParams:k7,isTypedArray:U7,isFileList:_7,forEach:wd,merge:ig,extend:O7,trim:R7,stripBOM:M7,inherits:L7,toFlatObject:P7,kindOf:Uh,kindOfTest:fs,endsWith:F7,toArray:B7,forEachEntry:z7,matchAll:W7,isHTMLForm:H7,hasOwnProperty:jy,hasOwnProp:jy,reduceDescriptors:JC,freezeMethods:Y7,toObjectSet:G7,toCamelCase:q7,noop:$7,toFiniteNumber:X7,findKey:KC,global:Xo,isContextDefined:ZC,isSpecCompliantForm:Q7,toJSONObject:K7,isAsyncFn:Z7,isThenable:J7,setImmediate:eE,asap:ej,isIterable:tj};function dt(e,n,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}pe.inherits(dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const tE=dt.prototype,nE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nE[e]={value:e}});Object.defineProperties(dt,nE);Object.defineProperty(tE,"isAxiosError",{value:!0});dt.from=(e,n,t,r,s,a)=>{const d=Object.create(tE);return pe.toFlatObject(e,d,function(v){return v!==Error.prototype},g=>g!=="isAxiosError"),dt.call(d,e.message,n,t,r,s),d.cause=e,d.name=e.name,a&&Object.assign(d,a),d};const nj=null;function sg(e){return pe.isPlainObject(e)||pe.isArray(e)}function rE(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function Ry(e,n,t){return e?e.concat(n).map(function(s,a){return s=rE(s),!t&&a?"["+s+"]":s}).join(t?".":""):n}function rj(e){return pe.isArray(e)&&!e.some(sg)}const ij=pe.toFlatObject(pe,{},null,function(n){return/^is[A-Z]/.test(n)});function Hh(e,n,t){if(!pe.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=pe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,O){return!pe.isUndefined(O[R])});const r=t.metaTokens,s=t.visitor||y,a=t.dots,d=t.indexes,v=(t.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(n);if(!pe.isFunction(s))throw new TypeError("visitor must be a function");function x(S){if(S===null)return"";if(pe.isDate(S))return S.toISOString();if(!v&&pe.isBlob(S))throw new dt("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(S)||pe.isTypedArray(S)?v&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function y(S,R,O){let I=S;if(S&&!O&&typeof S=="object"){if(pe.endsWith(R,"{}"))R=r?R:R.slice(0,-2),S=JSON.stringify(S);else if(pe.isArray(S)&&rj(S)||(pe.isFileList(S)||pe.endsWith(R,"[]"))&&(I=pe.toArray(S)))return R=rE(R),I.forEach(function(j,q){!(pe.isUndefined(j)||j===null)&&n.append(d===!0?Ry([R],q,a):d===null?R:R+"[]",x(j))}),!1}return sg(S)?!0:(n.append(Ry(O,R,a),x(S)),!1)}const E=[],_=Object.assign(ij,{defaultVisitor:y,convertValue:x,isVisitable:sg});function k(S,R){if(!pe.isUndefined(S)){if(E.indexOf(S)!==-1)throw Error("Circular reference detected in "+R.join("."));E.push(S),pe.forEach(S,function(I,D){(!(pe.isUndefined(I)||I===null)&&s.call(n,I,pe.isString(D)?D.trim():D,R,_))===!0&&k(I,R?R.concat(D):[D])}),E.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return k(e),n}function Oy(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function Px(e,n){this._pairs=[],e&&Hh(e,this,n)}const iE=Px.prototype;iE.append=function(n,t){this._pairs.push([n,t])};iE.toString=function(n){const t=n?function(r){return n.call(this,r,Oy)}:Oy;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function sj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sE(e,n,t){if(!n)return e;const r=t&&t.encode||sj;pe.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let a;if(s?a=s(n,t):a=pe.isURLSearchParams(n)?n.toString():new Px(n,t).toString(r),a){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class aj{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){pe.forEach(this.handlers,function(r){r!==null&&n(r)})}}const My=aj,aE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oj=typeof URLSearchParams<"u"?URLSearchParams:Px,lj=typeof FormData<"u"?FormData:null,cj=typeof Blob<"u"?Blob:null,uj={isBrowser:!0,classes:{URLSearchParams:oj,FormData:lj,Blob:cj},protocols:["http","https","file","blob","url","data"]},Fx=typeof window<"u"&&typeof document<"u",ag=typeof navigator=="object"&&navigator||void 0,dj=Fx&&(!ag||["ReactNative","NativeScript","NS"].indexOf(ag.product)<0),fj=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),hj=Fx&&window.location.href||"http://localhost",pj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fx,hasStandardBrowserEnv:dj,hasStandardBrowserWebWorkerEnv:fj,navigator:ag,origin:hj},Symbol.toStringTag,{value:"Module"})),Tr={...pj,...uj};function mj(e,n){return Hh(e,new Tr.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,a){return Tr.isNode&&pe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function gj(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function xj(e){const n={},t=Object.keys(e);let r;const s=t.length;let a;for(r=0;r<s;r++)a=t[r],n[a]=e[a];return n}function oE(e){function n(t,r,s,a){let d=t[a++];if(d==="__proto__")return!0;const g=Number.isFinite(+d),v=a>=t.length;return d=!d&&pe.isArray(s)?s.length:d,v?(pe.hasOwnProp(s,d)?s[d]=[s[d],r]:s[d]=r,!g):((!s[d]||!pe.isObject(s[d]))&&(s[d]=[]),n(t,r,s[d],a)&&pe.isArray(s[d])&&(s[d]=xj(s[d])),!g)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const t={};return pe.forEachEntry(e,(r,s)=>{n(gj(r),s,t,0)}),t}return null}function vj(e,n,t){if(pe.isString(e))try{return(n||JSON.parse)(e),pe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const Bx={transitional:aE,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,a=pe.isObject(n);if(a&&pe.isHTMLForm(n)&&(n=new FormData(n)),pe.isFormData(n))return s?JSON.stringify(oE(n)):n;if(pe.isArrayBuffer(n)||pe.isBuffer(n)||pe.isStream(n)||pe.isFile(n)||pe.isBlob(n)||pe.isReadableStream(n))return n;if(pe.isArrayBufferView(n))return n.buffer;if(pe.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let g;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mj(n,this.formSerializer).toString();if((g=pe.isFileList(n))||r.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Hh(g?{"files[]":n}:n,v&&new v,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),vj(n)):n}],transformResponse:[function(n){const t=this.transitional||Bx.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(pe.isResponse(n)||pe.isReadableStream(n))return n;if(n&&pe.isString(n)&&(r&&!this.responseType||s)){const d=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(n)}catch(g){if(d)throw g.name==="SyntaxError"?dt.from(g,dt.ERR_BAD_RESPONSE,this,null,this.response):g}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tr.classes.FormData,Blob:Tr.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{Bx.headers[e]={}});const Ux=Bx,wj=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yj=e=>{const n={};let t,r,s;return e&&e.split(`
`).forEach(function(d){s=d.indexOf(":"),t=d.substring(0,s).trim().toLowerCase(),r=d.substring(s+1).trim(),!(!t||n[t]&&wj[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},Ly=Symbol("internals");function vu(e){return e&&String(e).trim().toLowerCase()}function f0(e){return e===!1||e==null?e:pe.isArray(e)?e.map(f0):String(e)}function bj(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const Cj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function U1(e,n,t,r,s){if(pe.isFunction(r))return r.call(this,n,t);if(s&&(n=t),!!pe.isString(n)){if(pe.isString(r))return n.indexOf(r)!==-1;if(pe.isRegExp(r))return r.test(n)}}function Ej(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function Nj(e,n){const t=pe.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(s,a,d){return this[r].call(this,n,s,a,d)},configurable:!0})})}class qh{constructor(n){n&&this.set(n)}set(n,t,r){const s=this;function a(g,v,x){const y=vu(v);if(!y)throw new Error("header name must be a non-empty string");const E=pe.findKey(s,y);(!E||s[E]===void 0||x===!0||x===void 0&&s[E]!==!1)&&(s[E||v]=f0(g))}const d=(g,v)=>pe.forEach(g,(x,y)=>a(x,y,v));if(pe.isPlainObject(n)||n instanceof this.constructor)d(n,t);else if(pe.isString(n)&&(n=n.trim())&&!Cj(n))d(yj(n),t);else if(pe.isObject(n)&&pe.isIterable(n)){let g={},v,x;for(const y of n){if(!pe.isArray(y))throw TypeError("Object iterator must return a key-value pair");g[x=y[0]]=(v=g[x])?pe.isArray(v)?[...v,y[1]]:[v,y[1]]:y[1]}d(g,t)}else n!=null&&a(t,n,r);return this}get(n,t){if(n=vu(n),n){const r=pe.findKey(this,n);if(r){const s=this[r];if(!t)return s;if(t===!0)return bj(s);if(pe.isFunction(t))return t.call(this,s,r);if(pe.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=vu(n),n){const r=pe.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||U1(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let s=!1;function a(d){if(d=vu(d),d){const g=pe.findKey(r,d);g&&(!t||U1(r,r[g],g,t))&&(delete r[g],s=!0)}}return pe.isArray(n)?n.forEach(a):a(n),s}clear(n){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const a=t[r];(!n||U1(this,this[a],a,n,!0))&&(delete this[a],s=!0)}return s}normalize(n){const t=this,r={};return pe.forEach(this,(s,a)=>{const d=pe.findKey(r,a);if(d){t[d]=f0(s),delete t[a];return}const g=n?Ej(a):String(a).trim();g!==a&&delete t[a],t[g]=f0(s),r[g]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return pe.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=n&&pe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(s=>r.set(s)),r}static accessor(n){const r=(this[Ly]=this[Ly]={accessors:{}}).accessors,s=this.prototype;function a(d){const g=vu(d);r[g]||(Nj(s,d),r[g]=!0)}return pe.isArray(n)?n.forEach(a):a(n),this}}qh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(qh.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});pe.freezeMethods(qh);const os=qh;function z1(e,n){const t=this||Ux,r=n||t,s=os.from(r.headers);let a=r.data;return pe.forEach(e,function(g){a=g.call(t,a,s.normalize(),n?n.status:void 0)}),s.normalize(),a}function lE(e){return!!(e&&e.__CANCEL__)}function Ic(e,n,t){dt.call(this,e??"canceled",dt.ERR_CANCELED,n,t),this.name="CanceledError"}pe.inherits(Ic,dt,{__CANCEL__:!0});function cE(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new dt("Request failed with status code "+t.status,[dt.ERR_BAD_REQUEST,dt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function _j(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function Sj(e,n){e=e||10;const t=new Array(e),r=new Array(e);let s=0,a=0,d;return n=n!==void 0?n:1e3,function(v){const x=Date.now(),y=r[a];d||(d=x),t[s]=v,r[s]=x;let E=a,_=0;for(;E!==s;)_+=t[E++],E=E%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),x-d<n)return;const k=y&&x-y;return k?Math.round(_*1e3/k):void 0}}function Aj(e,n){let t=0,r=1e3/n,s,a;const d=(x,y=Date.now())=>{t=y,s=null,a&&(clearTimeout(a),a=null),e.apply(null,x)};return[(...x)=>{const y=Date.now(),E=y-t;E>=r?d(x,y):(s=x,a||(a=setTimeout(()=>{a=null,d(s)},r-E)))},()=>s&&d(s)]}const J0=(e,n,t=3)=>{let r=0;const s=Sj(50,250);return Aj(a=>{const d=a.loaded,g=a.lengthComputable?a.total:void 0,v=d-r,x=s(v),y=d<=g;r=d;const E={loaded:d,total:g,progress:g?d/g:void 0,bytes:v,rate:x||void 0,estimated:x&&g&&y?(g-d)/x:void 0,event:a,lengthComputable:g!=null,[n?"download":"upload"]:!0};e(E)},t)},Py=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},Fy=e=>(...n)=>pe.asap(()=>e(...n)),kj=Tr.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,Tr.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(Tr.origin),Tr.navigator&&/(msie|trident)/i.test(Tr.navigator.userAgent)):()=>!0,Tj=Tr.hasStandardBrowserEnv?{write(e,n,t,r,s,a){const d=[e+"="+encodeURIComponent(n)];pe.isNumber(t)&&d.push("expires="+new Date(t).toGMTString()),pe.isString(r)&&d.push("path="+r),pe.isString(s)&&d.push("domain="+s),a===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Dj(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ij(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function uE(e,n,t){let r=!Dj(n);return e&&(r||t==!1)?Ij(e,n):n}const By=e=>e instanceof os?{...e}:e;function ol(e,n){n=n||{};const t={};function r(x,y,E,_){return pe.isPlainObject(x)&&pe.isPlainObject(y)?pe.merge.call({caseless:_},x,y):pe.isPlainObject(y)?pe.merge({},y):pe.isArray(y)?y.slice():y}function s(x,y,E,_){if(pe.isUndefined(y)){if(!pe.isUndefined(x))return r(void 0,x,E,_)}else return r(x,y,E,_)}function a(x,y){if(!pe.isUndefined(y))return r(void 0,y)}function d(x,y){if(pe.isUndefined(y)){if(!pe.isUndefined(x))return r(void 0,x)}else return r(void 0,y)}function g(x,y,E){if(E in n)return r(x,y);if(E in e)return r(void 0,x)}const v={url:a,method:a,data:a,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:g,headers:(x,y,E)=>s(By(x),By(y),E,!0)};return pe.forEach(Object.keys(Object.assign({},e,n)),function(y){const E=v[y]||s,_=E(e[y],n[y],y);pe.isUndefined(_)&&E!==g||(t[y]=_)}),t}const dE=e=>{const n=ol({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:d,auth:g}=n;n.headers=d=os.from(d),n.url=sE(uE(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),g&&d.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let v;if(pe.isFormData(t)){if(Tr.hasStandardBrowserEnv||Tr.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((v=d.getContentType())!==!1){const[x,...y]=v?v.split(";").map(E=>E.trim()).filter(Boolean):[];d.setContentType([x||"multipart/form-data",...y].join("; "))}}if(Tr.hasStandardBrowserEnv&&(r&&pe.isFunction(r)&&(r=r(n)),r||r!==!1&&kj(n.url))){const x=s&&a&&Tj.read(a);x&&d.set(s,x)}return n},jj=typeof XMLHttpRequest<"u",Rj=jj&&function(e){return new Promise(function(t,r){const s=dE(e);let a=s.data;const d=os.from(s.headers).normalize();let{responseType:g,onUploadProgress:v,onDownloadProgress:x}=s,y,E,_,k,S;function R(){k&&k(),S&&S(),s.cancelToken&&s.cancelToken.unsubscribe(y),s.signal&&s.signal.removeEventListener("abort",y)}let O=new XMLHttpRequest;O.open(s.method.toUpperCase(),s.url,!0),O.timeout=s.timeout;function I(){if(!O)return;const j=os.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),Q={data:!g||g==="text"||g==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:j,config:e,request:O};cE(function(F){t(F),R()},function(F){r(F),R()},Q),O=null}"onloadend"in O?O.onloadend=I:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(I)},O.onabort=function(){O&&(r(new dt("Request aborted",dt.ECONNABORTED,e,O)),O=null)},O.onerror=function(){r(new dt("Network Error",dt.ERR_NETWORK,e,O)),O=null},O.ontimeout=function(){let q=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const Q=s.transitional||aE;s.timeoutErrorMessage&&(q=s.timeoutErrorMessage),r(new dt(q,Q.clarifyTimeoutError?dt.ETIMEDOUT:dt.ECONNABORTED,e,O)),O=null},a===void 0&&d.setContentType(null),"setRequestHeader"in O&&pe.forEach(d.toJSON(),function(q,Q){O.setRequestHeader(Q,q)}),pe.isUndefined(s.withCredentials)||(O.withCredentials=!!s.withCredentials),g&&g!=="json"&&(O.responseType=s.responseType),x&&([_,S]=J0(x,!0),O.addEventListener("progress",_)),v&&O.upload&&([E,k]=J0(v),O.upload.addEventListener("progress",E),O.upload.addEventListener("loadend",k)),(s.cancelToken||s.signal)&&(y=j=>{O&&(r(!j||j.type?new Ic(null,e,O):j),O.abort(),O=null)},s.cancelToken&&s.cancelToken.subscribe(y),s.signal&&(s.signal.aborted?y():s.signal.addEventListener("abort",y)));const D=_j(s.url);if(D&&Tr.protocols.indexOf(D)===-1){r(new dt("Unsupported protocol "+D+":",dt.ERR_BAD_REQUEST,e));return}O.send(a||null)})},Oj=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,s;const a=function(x){if(!s){s=!0,g();const y=x instanceof Error?x:this.reason;r.abort(y instanceof dt?y:new Ic(y instanceof Error?y.message:y))}};let d=n&&setTimeout(()=>{d=null,a(new dt(`timeout ${n} of ms exceeded`,dt.ETIMEDOUT))},n);const g=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(x=>{x.unsubscribe?x.unsubscribe(a):x.removeEventListener("abort",a)}),e=null)};e.forEach(x=>x.addEventListener("abort",a));const{signal:v}=r;return v.unsubscribe=()=>pe.asap(g),v}},Mj=Oj,Lj=function*(e,n){let t=e.byteLength;if(!n||t<n){yield e;return}let r=0,s;for(;r<t;)s=r+n,yield e.slice(r,s),r=s},Pj=async function*(e,n){for await(const t of Fj(e))yield*Lj(t,n)},Fj=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},Uy=(e,n,t,r)=>{const s=Pj(e,n);let a=0,d,g=v=>{d||(d=!0,r&&r(v))};return new ReadableStream({async pull(v){try{const{done:x,value:y}=await s.next();if(x){g(),v.close();return}let E=y.byteLength;if(t){let _=a+=E;t(_)}v.enqueue(new Uint8Array(y))}catch(x){throw g(x),x}},cancel(v){return g(v),s.return()}},{highWaterMark:2})},Vh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fE=Vh&&typeof ReadableStream=="function",Bj=Vh&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),hE=(e,...n)=>{try{return!!e(...n)}catch{return!1}},Uj=fE&&hE(()=>{let e=!1;const n=new Request(Tr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),zy=64*1024,og=fE&&hE(()=>pe.isReadableStream(new Response("").body)),eh={stream:og&&(e=>e.body)};Vh&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!eh[n]&&(eh[n]=pe.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new dt(`Response type '${n}' is not supported`,dt.ERR_NOT_SUPPORT,r)})})})(new Response);const zj=async e=>{if(e==null)return 0;if(pe.isBlob(e))return e.size;if(pe.isSpecCompliantForm(e))return(await new Request(Tr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(e)||pe.isArrayBuffer(e))return e.byteLength;if(pe.isURLSearchParams(e)&&(e=e+""),pe.isString(e))return(await Bj(e)).byteLength},Wj=async(e,n)=>{const t=pe.toFiniteNumber(e.getContentLength());return t??zj(n)},Hj=Vh&&(async e=>{let{url:n,method:t,data:r,signal:s,cancelToken:a,timeout:d,onDownloadProgress:g,onUploadProgress:v,responseType:x,headers:y,withCredentials:E="same-origin",fetchOptions:_}=dE(e);x=x?(x+"").toLowerCase():"text";let k=Mj([s,a&&a.toAbortSignal()],d),S;const R=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let O;try{if(v&&Uj&&t!=="get"&&t!=="head"&&(O=await Wj(y,r))!==0){let Q=new Request(n,{method:"POST",body:r,duplex:"half"}),B;if(pe.isFormData(r)&&(B=Q.headers.get("content-type"))&&y.setContentType(B),Q.body){const[F,V]=Py(O,J0(Fy(v)));r=Uy(Q.body,zy,F,V)}}pe.isString(E)||(E=E?"include":"omit");const I="credentials"in Request.prototype;S=new Request(n,{..._,signal:k,method:t.toUpperCase(),headers:y.normalize().toJSON(),body:r,duplex:"half",credentials:I?E:void 0});let D=await fetch(S);const j=og&&(x==="stream"||x==="response");if(og&&(g||j&&R)){const Q={};["status","statusText","headers"].forEach(W=>{Q[W]=D[W]});const B=pe.toFiniteNumber(D.headers.get("content-length")),[F,V]=g&&Py(B,J0(Fy(g),!0))||[];D=new Response(Uy(D.body,zy,F,()=>{V&&V(),R&&R()}),Q)}x=x||"text";let q=await eh[pe.findKey(eh,x)||"text"](D,e);return!j&&R&&R(),await new Promise((Q,B)=>{cE(Q,B,{data:q,headers:os.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:S})})}catch(I){throw R&&R(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new dt("Network Error",dt.ERR_NETWORK,e,S),{cause:I.cause||I}):dt.from(I,I&&I.code,e,S)}}),lg={http:nj,xhr:Rj,fetch:Hj};pe.forEach(lg,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const Wy=e=>`- ${e}`,qj=e=>pe.isFunction(e)||e===null||e===!1,pE={getAdapter:e=>{e=pe.isArray(e)?e:[e];const{length:n}=e;let t,r;const s={};for(let a=0;a<n;a++){t=e[a];let d;if(r=t,!qj(t)&&(r=lg[(d=String(t)).toLowerCase()],r===void 0))throw new dt(`Unknown adapter '${d}'`);if(r)break;s[d||"#"+a]=r}if(!r){const a=Object.entries(s).map(([g,v])=>`adapter ${g} `+(v===!1?"is not supported by the environment":"is not available in the build"));let d=n?a.length>1?`since :
`+a.map(Wy).join(`
`):" "+Wy(a[0]):"as no adapter specified";throw new dt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:lg};function W1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ic(null,e)}function Hy(e){return W1(e),e.headers=os.from(e.headers),e.data=z1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pE.getAdapter(e.adapter||Ux.adapter)(e).then(function(r){return W1(e),r.data=z1.call(e,e.transformResponse,r),r.headers=os.from(r.headers),r},function(r){return lE(r)||(W1(e),r&&r.response&&(r.response.data=z1.call(e,e.transformResponse,r.response),r.response.headers=os.from(r.response.headers))),Promise.reject(r)})}const mE="1.9.0",Yh={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Yh[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const qy={};Yh.transitional=function(n,t,r){function s(a,d){return"[Axios v"+mE+"] Transitional option '"+a+"'"+d+(r?". "+r:"")}return(a,d,g)=>{if(n===!1)throw new dt(s(d," has been removed"+(t?" in "+t:"")),dt.ERR_DEPRECATED);return t&&!qy[d]&&(qy[d]=!0,console.warn(s(d," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(a,d,g):!0}};Yh.spelling=function(n){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function Vj(e,n,t){if(typeof e!="object")throw new dt("options must be an object",dt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],d=n[a];if(d){const g=e[a],v=g===void 0||d(g,a,e);if(v!==!0)throw new dt("option "+a+" must be "+v,dt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new dt("Unknown option "+a,dt.ERR_BAD_OPTION)}}const h0={assertOptions:Vj,validators:Yh},ys=h0.validators;class th{constructor(n){this.defaults=n||{},this.interceptors={request:new My,response:new My}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=ol(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:a}=t;r!==void 0&&h0.assertOptions(r,{silentJSONParsing:ys.transitional(ys.boolean),forcedJSONParsing:ys.transitional(ys.boolean),clarifyTimeoutError:ys.transitional(ys.boolean)},!1),s!=null&&(pe.isFunction(s)?t.paramsSerializer={serialize:s}:h0.assertOptions(s,{encode:ys.function,serialize:ys.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),h0.assertOptions(t,{baseUrl:ys.spelling("baseURL"),withXsrfToken:ys.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let d=a&&pe.merge(a.common,a[t.method]);a&&pe.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),t.headers=os.concat(d,a);const g=[];let v=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(v=v&&R.synchronous,g.unshift(R.fulfilled,R.rejected))});const x=[];this.interceptors.response.forEach(function(R){x.push(R.fulfilled,R.rejected)});let y,E=0,_;if(!v){const S=[Hy.bind(this),void 0];for(S.unshift.apply(S,g),S.push.apply(S,x),_=S.length,y=Promise.resolve(t);E<_;)y=y.then(S[E++],S[E++]);return y}_=g.length;let k=t;for(E=0;E<_;){const S=g[E++],R=g[E++];try{k=S(k)}catch(O){R.call(this,O);break}}try{y=Hy.call(this,k)}catch(S){return Promise.reject(S)}for(E=0,_=x.length;E<_;)y=y.then(x[E++],x[E++]);return y}getUri(n){n=ol(this.defaults,n);const t=uE(n.baseURL,n.url,n.allowAbsoluteUrls);return sE(t,n.params,n.paramsSerializer)}}pe.forEach(["delete","get","head","options"],function(n){th.prototype[n]=function(t,r){return this.request(ol(r||{},{method:n,url:t,data:(r||{}).data}))}});pe.forEach(["post","put","patch"],function(n){function t(r){return function(a,d,g){return this.request(ol(g||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:d}))}}th.prototype[n]=t(),th.prototype[n+"Form"]=t(!0)});const p0=th;class zx{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const d=new Promise(g=>{r.subscribe(g),a=g}).then(s);return d.cancel=function(){r.unsubscribe(a)},d},n(function(a,d,g){r.reason||(r.reason=new Ic(a,d,g),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new zx(function(s){n=s}),cancel:n}}}const Yj=zx;function Gj(e){return function(t){return e.apply(null,t)}}function $j(e){return pe.isObject(e)&&e.isAxiosError===!0}const cg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cg).forEach(([e,n])=>{cg[n]=e});const Xj=cg;function gE(e){const n=new p0(e),t=GC(p0.prototype.request,n);return pe.extend(t,p0.prototype,n,{allOwnKeys:!0}),pe.extend(t,n,null,{allOwnKeys:!0}),t.create=function(s){return gE(ol(e,s))},t}const Xn=gE(Ux);Xn.Axios=p0;Xn.CanceledError=Ic;Xn.CancelToken=Yj;Xn.isCancel=lE;Xn.VERSION=mE;Xn.toFormData=Hh;Xn.AxiosError=dt;Xn.Cancel=Xn.CanceledError;Xn.all=function(n){return Promise.all(n)};Xn.spread=Gj;Xn.isAxiosError=$j;Xn.mergeConfig=ol;Xn.AxiosHeaders=os;Xn.formToJSON=e=>oE(pe.isHTMLForm(e)?new FormData(e):e);Xn.getAdapter=pE.getAdapter;Xn.HttpStatusCode=Xj;Xn.default=Xn;const nt=Xn,xE=L.createContext(),ur=()=>L.useContext(xE),Qj=({children:e})=>{const[n,t]=L.useState(null),[r,s]=L.useState(localStorage.getItem("token")),[a,d]=L.useState(!0),[g,v]=L.useState(null);L.useEffect(()=>{r?nt.defaults.headers.common.Authorization=`Bearer ${r}`:delete nt.defaults.headers.common.Authorization},[r]),L.useEffect(()=>{const Q=async()=>{if(!r){d(!1);return}try{const F=await nt.get("/api/auth/me");t(F.data),v(null)}catch(F){console.error("Token verification failed:",F),F.response&&F.response.status===401?(y(),v("Session expired. Please log in again.")):v("Error verifying session. Please try again.")}finally{d(!1)}};Q();const B=setInterval(()=>{r&&Q()},60*60*1e3);return()=>{clearInterval(B)}},[r]);const x=async(Q,B)=>{var F,V;try{d(!0);const W=await nt.post("/api/auth/login",{username:Q,password:B}),{token:se,user:le}=W.data;return localStorage.setItem("token",se),nt.defaults.headers.common.Authorization=`Bearer ${se}`,s(se),t(le),v(null),le}catch(W){throw console.error("Login error:",W),v(((V=(F=W.response)==null?void 0:F.data)==null?void 0:V.message)||"Login failed"),W}finally{d(!1)}},y=()=>{localStorage.removeItem("token"),s(null),t(null),delete nt.defaults.headers.common.Authorization},q={user:n,token:r,loading:a,error:g,login:x,logout:y,register:async Q=>{var B,F;try{return d(!0),(await nt.post("/api/auth/users",Q)).data}catch(V){throw console.error("Register error:",V),v(((F=(B=V.response)==null?void 0:B.data)==null?void 0:F.message)||"Registration failed"),V}finally{d(!1)}},isAdmin:()=>(n==null?void 0:n.role)==="admin",isAdvanced:()=>(n==null?void 0:n.role)==="advanced",isBasic:()=>(n==null?void 0:n.role)==="basic",canEditEquipment:()=>(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="advanced",isImpersonating:()=>!!(n!=null&&n.impersonated),impersonateUser:async Q=>{var B,F;try{d(!0);const V=await nt.post(`/api/auth/impersonate/${Q}`),{token:W,user:se}=V.data;return localStorage.setItem("token",W),s(W),t(se),v(null),se}catch(V){throw console.error("Impersonation error:",V),v(((F=(B=V.response)==null?void 0:B.data)==null?void 0:F.message)||"Impersonation failed"),V}finally{d(!1)}},stopImpersonation:async()=>{var Q,B;try{d(!0);const F=await nt.post("/api/auth/stop-impersonation"),{token:V,user:W}=F.data;return localStorage.setItem("token",V),s(V),t(W),v(null),W}catch(F){throw console.error("Stop impersonation error:",F),v(((B=(Q=F.response)==null?void 0:Q.data)==null?void 0:B.message)||"Failed to stop impersonation"),F}finally{d(!1)}},getUsers:async()=>{var Q,B;try{return(await nt.get("/api/auth/users")).data}catch(F){throw console.error("Get users error:",F),v(((B=(Q=F.response)==null?void 0:Q.data)==null?void 0:B.message)||"Failed to get users"),F}}};return c.jsx(xE.Provider,{value:q,children:e})};function vE(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(n=0;n<s;n++)e[n]&&(t=vE(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function yn(){for(var e,n,t=0,r="",s=arguments.length;t<s;t++)(e=arguments[t])&&(n=vE(e))&&(r&&(r+=" "),r+=n);return r}function Kj(e){if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}Kj(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var yd=e=>typeof e=="number"&&!isNaN(e),ll=e=>typeof e=="string",ma=e=>typeof e=="function",Zj=e=>ll(e)||yd(e),ug=e=>ll(e)||ma(e)?e:null,Jj=(e,n)=>e===!1||yd(e)&&e>0?e:n,dg=e=>L.isValidElement(e)||ll(e)||ma(e)||yd(e);function eR(e,n,t=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(n,t)})})}function tR({enter:e,exit:n,appendPosition:t=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:a,position:d,preventExitTransition:g,done:v,nodeRef:x,isIn:y,playToast:E}){let _=t?`${e}--${d}`:e,k=t?`${n}--${d}`:n,S=L.useRef(0);return L.useLayoutEffect(()=>{let R=x.current,O=_.split(" "),I=D=>{D.target===x.current&&(E(),R.removeEventListener("animationend",I),R.removeEventListener("animationcancel",I),S.current===0&&D.type!=="animationcancel"&&R.classList.remove(...O))};R.classList.add(...O),R.addEventListener("animationend",I),R.addEventListener("animationcancel",I)},[]),L.useEffect(()=>{let R=x.current,O=()=>{R.removeEventListener("animationend",O),r?eR(R,v,s):v()};y||(g?O():(S.current=1,R.className+=` ${k}`,R.addEventListener("animationend",O)))},[y]),de.createElement(de.Fragment,null,a)}}function Vy(e,n){return{content:wE(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:n}}function wE(e,n,t=!1){return L.isValidElement(e)&&!ll(e.type)?L.cloneElement(e,{closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:t}):ma(e)?e({closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:t}):e}function nR({closeToast:e,theme:n,ariaLabel:t="close"}){return de.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":t},de.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},de.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function rR({delay:e,isRunning:n,closeToast:t,type:r="default",hide:s,className:a,controlledProgress:d,progress:g,rtl:v,isIn:x,theme:y}){let E=s||d&&g===0,_={animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};d&&(_.transform=`scaleX(${g})`);let k=yn("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":v}),S=ma(a)?a({rtl:v,type:r,defaultClassName:k}):yn(k,a),R={[d&&g>=1?"onTransitionEnd":"onAnimationEnd"]:d&&g<1?null:()=>{x&&t()}};return de.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},de.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${r}`}),de.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:S,style:_,...R}))}var iR=1,yE=()=>`${iR++}`;function sR(e,n,t){let r=1,s=0,a=[],d=[],g=n,v=new Map,x=new Set,y=D=>(x.add(D),()=>x.delete(D)),E=()=>{d=Array.from(v.values()),x.forEach(D=>D())},_=({containerId:D,toastId:j,updateId:q})=>{let Q=D?D!==e:e!==1,B=v.has(j)&&q==null;return Q||B},k=(D,j)=>{v.forEach(q=>{var Q;(j==null||j===q.props.toastId)&&((Q=q.toggle)==null||Q.call(q,D))})},S=D=>{var j,q;(q=(j=D.props)==null?void 0:j.onClose)==null||q.call(j,D.removalReason),D.isActive=!1},R=D=>{if(D==null)v.forEach(S);else{let j=v.get(D);j&&S(j)}E()},O=()=>{s-=a.length,a=[]},I=D=>{var j,q;let{toastId:Q,updateId:B}=D.props,F=B==null;D.staleId&&v.delete(D.staleId),D.isActive=!0,v.set(Q,D),E(),t(Vy(D,F?"added":"updated")),F&&((q=(j=D.props).onOpen)==null||q.call(j))};return{id:e,props:g,observe:y,toggle:k,removeToast:R,toasts:v,clearQueue:O,buildToast:(D,j)=>{if(_(j))return;let{toastId:q,updateId:Q,data:B,staleId:F,delay:V}=j,W=Q==null;W&&s++;let se={...g,style:g.toastStyle,key:r++,...Object.fromEntries(Object.entries(j).filter(([ie,ce])=>ce!=null)),toastId:q,updateId:Q,data:B,isIn:!1,className:ug(j.className||g.toastClassName),progressClassName:ug(j.progressClassName||g.progressClassName),autoClose:j.isLoading?!1:Jj(j.autoClose,g.autoClose),closeToast(ie){v.get(q).removalReason=ie,R(q)},deleteToast(){let ie=v.get(q);if(ie!=null){if(t(Vy(ie,"removed")),v.delete(q),s--,s<0&&(s=0),a.length>0){I(a.shift());return}E()}}};se.closeButton=g.closeButton,j.closeButton===!1||dg(j.closeButton)?se.closeButton=j.closeButton:j.closeButton===!0&&(se.closeButton=dg(g.closeButton)?g.closeButton:!0);let le={content:D,props:se,staleId:F};g.limit&&g.limit>0&&s>g.limit&&W?a.push(le):yd(V)?setTimeout(()=>{I(le)},V):I(le)},setProps(D){g=D},setToggle:(D,j)=>{let q=v.get(D);q&&(q.toggle=j)},isToastActive:D=>{var j;return(j=v.get(D))==null?void 0:j.isActive},getSnapshot:()=>d}}var zr=new Map,ad=[],fg=new Set,aR=e=>fg.forEach(n=>n(e)),bE=()=>zr.size>0;function oR(){ad.forEach(e=>EE(e.content,e.options)),ad=[]}var lR=(e,{containerId:n})=>{var t;return(t=zr.get(n||1))==null?void 0:t.toasts.get(e)};function CE(e,n){var t;if(n)return!!((t=zr.get(n))!=null&&t.isToastActive(e));let r=!1;return zr.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function cR(e){if(!bE()){ad=ad.filter(n=>e!=null&&n.options.toastId!==e);return}if(e==null||Zj(e))zr.forEach(n=>{n.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let n=zr.get(e.containerId);n?n.removeToast(e.id):zr.forEach(t=>{t.removeToast(e.id)})}}var uR=(e={})=>{zr.forEach(n=>{n.props.limit&&(!e.containerId||n.id===e.containerId)&&n.clearQueue()})};function EE(e,n){dg(e)&&(bE()||ad.push({content:e,options:n}),zr.forEach(t=>{t.buildToast(e,n)}))}function dR(e){var n;(n=zr.get(e.containerId||1))==null||n.setToggle(e.id,e.fn)}function NE(e,n){zr.forEach(t=>{(n==null||!(n!=null&&n.containerId)||(n==null?void 0:n.containerId)===t.id)&&t.toggle(e,n==null?void 0:n.id)})}function fR(e){let n=e.containerId||1;return{subscribe(t){let r=sR(n,e,aR);zr.set(n,r);let s=r.observe(t);return oR(),()=>{s(),zr.delete(n)}},setProps(t){var r;(r=zr.get(n))==null||r.setProps(t)},getSnapshot(){var t;return(t=zr.get(n))==null?void 0:t.getSnapshot()}}}function hR(e){return fg.add(e),()=>{fg.delete(e)}}function pR(e){return e&&(ll(e.toastId)||yd(e.toastId))?e.toastId:yE()}function bd(e,n){return EE(e,n),n.toastId}function Gh(e,n){return{...n,type:n&&n.type||e,toastId:pR(n)}}function $h(e){return(n,t)=>bd(n,Gh(e,t))}function it(e,n){return bd(e,Gh("default",n))}it.loading=(e,n)=>bd(e,Gh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...n}));function mR(e,{pending:n,error:t,success:r},s){let a;n&&(a=ll(n)?it.loading(n,s):it.loading(n.render,{...s,...n}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(x,y,E)=>{if(y==null){it.dismiss(a);return}let _={type:x,...d,...s,data:E},k=ll(y)?{render:y}:y;return a?it.update(a,{..._,...k}):it(k.render,{..._,...k}),E},v=ma(e)?e():e;return v.then(x=>g("success",r,x)).catch(x=>g("error",t,x)),v}it.promise=mR;it.success=$h("success");it.info=$h("info");it.error=$h("error");it.warning=$h("warning");it.warn=it.warning;it.dark=(e,n)=>bd(e,Gh("default",{theme:"dark",...n}));function gR(e){cR(e)}it.dismiss=gR;it.clearWaitingQueue=uR;it.isActive=CE;it.update=(e,n={})=>{let t=lR(e,n);if(t){let{props:r,content:s}=t,a={delay:100,...r,...n,toastId:n.toastId||e,updateId:yE()};a.toastId!==e&&(a.staleId=e);let d=a.render||s;delete a.render,bd(d,a)}};it.done=e=>{it.update(e,{progress:1})};it.onChange=hR;it.play=e=>NE(!0,e);it.pause=e=>NE(!1,e);function xR(e){var n;let{subscribe:t,getSnapshot:r,setProps:s}=L.useRef(fR(e)).current;s(e);let a=(n=L.useSyncExternalStore(t,r,r))==null?void 0:n.slice();function d(g){if(!a)return[];let v=new Map;return e.newestOnTop&&a.reverse(),a.forEach(x=>{let{position:y}=x.props;v.has(y)||v.set(y,[]),v.get(y).push(x)}),Array.from(v,x=>g(x[0],x[1]))}return{getToastToRender:d,isToastActive:CE,count:a==null?void 0:a.length}}function vR(e){let[n,t]=L.useState(!1),[r,s]=L.useState(!1),a=L.useRef(null),d=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:g,pauseOnHover:v,closeToast:x,onClick:y,closeOnClick:E}=e;dR({id:e.toastId,containerId:e.containerId,fn:t}),L.useEffect(()=>{if(e.pauseOnFocusLoss)return _(),()=>{k()}},[e.pauseOnFocusLoss]);function _(){document.hasFocus()||I(),window.addEventListener("focus",O),window.addEventListener("blur",I)}function k(){window.removeEventListener("focus",O),window.removeEventListener("blur",I)}function S(F){if(e.draggable===!0||e.draggable===F.pointerType){D();let V=a.current;d.canCloseOnClick=!0,d.canDrag=!0,V.style.transition="none",e.draggableDirection==="x"?(d.start=F.clientX,d.removalDistance=V.offsetWidth*(e.draggablePercent/100)):(d.start=F.clientY,d.removalDistance=V.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function R(F){let{top:V,bottom:W,left:se,right:le}=a.current.getBoundingClientRect();F.nativeEvent.type!=="touchend"&&e.pauseOnHover&&F.clientX>=se&&F.clientX<=le&&F.clientY>=V&&F.clientY<=W?I():O()}function O(){t(!0)}function I(){t(!1)}function D(){d.didMove=!1,document.addEventListener("pointermove",q),document.addEventListener("pointerup",Q)}function j(){document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",Q)}function q(F){let V=a.current;if(d.canDrag&&V){d.didMove=!0,n&&I(),e.draggableDirection==="x"?d.delta=F.clientX-d.start:d.delta=F.clientY-d.start,d.start!==F.clientX&&(d.canCloseOnClick=!1);let W=e.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;V.style.transform=`translate3d(${W},0)`,V.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function Q(){j();let F=a.current;if(d.canDrag&&d.didMove&&F){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}F.style.transition="transform 0.2s, opacity 0.2s",F.style.removeProperty("transform"),F.style.removeProperty("opacity")}}let B={onPointerDown:S,onPointerUp:R};return g&&v&&(B.onMouseEnter=I,e.stacked||(B.onMouseLeave=O)),E&&(B.onClick=F=>{y&&y(F),d.canCloseOnClick&&x(!0)}),{playToast:O,pauseToast:I,isRunning:n,preventExitTransition:r,toastRef:a,eventHandlers:B}}var wR=typeof window<"u"?L.useLayoutEffect:L.useEffect,Xh=({theme:e,type:n,isLoading:t,...r})=>de.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r});function yR(e){return de.createElement(Xh,{...e},de.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function bR(e){return de.createElement(Xh,{...e},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function CR(e){return de.createElement(Xh,{...e},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ER(e){return de.createElement(Xh,{...e},de.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function NR(){return de.createElement("div",{className:"Toastify__spinner"})}var hg={info:bR,warning:yR,success:CR,error:ER,spinner:NR},_R=e=>e in hg;function SR({theme:e,type:n,isLoading:t,icon:r}){let s=null,a={theme:e,type:n};return r===!1||(ma(r)?s=r({...a,isLoading:t}):L.isValidElement(r)?s=L.cloneElement(r,a):t?s=hg.spinner():_R(n)&&(s=hg[n](a))),s}var AR=e=>{let{isRunning:n,preventExitTransition:t,toastRef:r,eventHandlers:s,playToast:a}=vR(e),{closeButton:d,children:g,autoClose:v,onClick:x,type:y,hideProgressBar:E,closeToast:_,transition:k,position:S,className:R,style:O,progressClassName:I,updateId:D,role:j,progress:q,rtl:Q,toastId:B,deleteToast:F,isIn:V,isLoading:W,closeOnClick:se,theme:le,ariaLabel:ie}=e,ce=yn("Toastify__toast",`Toastify__toast-theme--${le}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":se}),xe=ma(R)?R({rtl:Q,position:S,type:y,defaultClassName:ce}):yn(ce,R),re=SR(e),Se=!!q||!v,ye={closeToast:_,type:y,theme:le},ue=null;return d===!1||(ma(d)?ue=d(ye):L.isValidElement(d)?ue=L.cloneElement(d,ye):ue=nR(ye)),de.createElement(k,{isIn:V,done:F,position:S,preventExitTransition:t,nodeRef:r,playToast:a},de.createElement("div",{id:B,tabIndex:0,onClick:x,"data-in":V,className:xe,...s,style:O,ref:r,...V&&{role:j,"aria-label":ie}},re!=null&&de.createElement("div",{className:yn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!W})},re),wE(g,e,!n),ue,!e.customProgressBar&&de.createElement(rR,{...D&&!Se?{key:`p-${D}`}:{},rtl:Q,theme:le,delay:v,isRunning:n,isIn:V,closeToast:_,hide:E,type:y,className:I,controlledProgress:Se,progress:q||0})))},kR=(e,n=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:n}),TR=tR(kR("bounce",!0)),DR={position:"top-right",transition:TR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Wx(e){let n={...DR,...e},t=e.stacked,[r,s]=L.useState(!0),a=L.useRef(null),{getToastToRender:d,isToastActive:g,count:v}=xR(n),{className:x,style:y,rtl:E,containerId:_,hotKeys:k}=n;function S(O){let I=yn("Toastify__toast-container",`Toastify__toast-container--${O}`,{"Toastify__toast-container--rtl":E});return ma(x)?x({position:O,rtl:E,defaultClassName:I}):yn(I,ug(x))}function R(){t&&(s(!0),it.play())}return wR(()=>{var O;if(t){let I=a.current.querySelectorAll('[data-in="true"]'),D=12,j=(O=n.position)==null?void 0:O.includes("top"),q=0,Q=0;Array.from(I).reverse().forEach((B,F)=>{let V=B;V.classList.add("Toastify__toast--stacked"),F>0&&(V.dataset.collapsed=`${r}`),V.dataset.pos||(V.dataset.pos=j?"top":"bot");let W=q*(r?.2:1)+(r?0:D*F);V.style.setProperty("--y",`${j?W:W*-1}px`),V.style.setProperty("--g",`${D}`),V.style.setProperty("--s",`${1-(r?Q:0)}`),q+=V.offsetHeight,Q+=.025})}},[r,v,t]),L.useEffect(()=>{function O(I){var D;let j=a.current;k(I)&&((D=j.querySelector('[tabIndex="0"]'))==null||D.focus(),s(!1),it.pause()),I.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(s(!0),it.play())}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[k]),de.createElement("section",{ref:a,className:"Toastify",id:_,onMouseEnter:()=>{t&&(s(!1),it.pause())},onMouseLeave:R,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":n["aria-label"]},d((O,I)=>{let D=I.length?{...y}:{...y,pointerEvents:"none"};return de.createElement("div",{tabIndex:-1,className:S(O),"data-stacked":t,style:D,key:`c-${O}`},I.map(({content:j,props:q})=>de.createElement(AR,{...q,stacked:t,collapseAll:R,isIn:g(q.toastId,q.containerId),key:`t-${q.key}`},j)))}))}var _E={exports:{}},IR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jR=IR,RR=jR;function SE(){}function AE(){}AE.resetWarningCache=SE;var OR=function(){function e(r,s,a,d,g,v){if(v!==RR){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}e.isRequired=e;function n(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:AE,resetWarningCache:SE};return t.PropTypes=t,t};_E.exports=OR();var MR=_E.exports;const ne=yh(MR),Fu=async({page:e=1,limit:n=10,type:t,brand:r,status:s,location_id:a,search:d,sortBy:g="updated_at",sortOrder:v="desc",startDate:x,endDate:y})=>{const E={page:e,limit:n};return t&&(E.type=t),r&&(E.brand=r),s&&(E.status=s),a&&(E.location_id=a),d&&(E.search=d),g&&(E.sortBy=g),v&&(E.sortOrder=v),x&&(E.startDate=x),y&&(E.endDate=y),(await nt.get("/api/equipment",{params:E})).data},Qh=async e=>(await nt.get(`/api/equipment/${e}`)).data,Hx=async(e,n=[],t=null)=>{const r=new FormData;if(!e.type_id)throw console.error("Missing required field: type_id"),new Error("Equipment type is required");if(!e.brand)throw console.error("Missing required field: brand"),new Error("Brand is required");if(!e.model)throw console.error("Missing required field: model"),new Error("Model is required");if(!e.serial_number)throw console.error("Missing required field: serial_number"),new Error("Serial number is required");const s=Object.fromEntries(Object.entries(e).filter(([a,d])=>d!==void 0));console.log("Creating equipment with data:",s),Object.keys(s).forEach(a=>{a==="type_id"&&typeof s[a]=="string"?r.append(a,parseInt(s[a],10)):r.append(a,s[a])}),t&&r.append("referenceImage",t),n&&n.length>0&&n.forEach(a=>{r.append("files",a)});try{return(await nt.post("/api/equipment",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error in createEquipment:",a),a}},kE=async(e,n,t=[],r=[],s=null,a=!1)=>{try{const d=new FormData,g=Object.fromEntries(Object.entries(n).filter(([y,E])=>E!==void 0));console.log("Full equipment data:",n);const v=["location_id","type_id"];return Object.keys(g).forEach(y=>{y!=="reference_image_id"&&(v.includes(y)&&(g[y]===""||g[y]==="0")?(d.append(y,""),d.append(`${y}_is_null`,"true")):d.append(y,g[y]))}),s&&d.append("referenceImage",s),a&&d.append("removeReferenceImage","true"),t&&t.length>0&&t.forEach(y=>{d.append("files",y)}),r&&r.length>0&&d.append("filesToDelete",JSON.stringify(r)),console.log("Updating equipment with data:",g),console.log("Files to delete:",r),console.log("Reference image file:",s?s.name:"None"),console.log("Remove reference image:",a),(await nt.put(`/api/equipment/${e}`,d,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(d){throw console.error("Error in updateEquipment:",d),d}},TE=async e=>(await nt.delete(`/api/equipment/${e}`)).data,od=(e,n=!1,t=!0)=>{if(!e)return null;const r=`/api/files/${e}`;let s=n?`${r}?thumbnail=true`:r;return t&&(s+=(s.includes("?")?"&":"?")+`t=${new Date().getTime()}`),s},LR=async(e,n)=>{try{return console.log(`Updating equipment ${e} status to ${n}`),(await nt.patch(`/api/equipment/${e}/status`,{status:n})).data}catch(t){throw console.error("Error updating equipment status:",t),t}},PR=async(e,n)=>{try{return console.log(`Updating equipment ${e} location:`,n),(await nt.patch(`/api/equipment/${e}/location`,n)).data}catch(t){throw console.error("Error updating equipment location:",t),t}},FR=async(e,n)=>{try{return console.log(`Updating equipment ${e} type to ${n}`),(await nt.patch(`/api/equipment/${e}/type`,{type_id:n})).data}catch(t){throw console.error("Error updating equipment type:",t),t}},BR=async(e,n)=>{try{return console.log(`Updating equipment ${e} category to ${n}`),(await nt.patch(`/api/equipment/${e}/category`,{category_id:n})).data}catch(t){throw console.error("Error updating equipment category:",t),t}},UR=async(e,n)=>{try{return console.log(`Updating equipment ${e} brand/model:`,n),(await nt.patch(`/api/equipment/${e}/brand-model`,n)).data}catch(t){throw console.error("Error updating equipment brand/model:",t),t}},ya=async()=>{try{return(await nt.get("/api/equipment-types")).data.types}catch(e){throw console.error("Error fetching equipment types:",e),e}},zR=async e=>(await nt.post("/api/equipment-types",{name:e})).data,WR=async(e,n)=>(await nt.put(`/api/equipment-types/${e}`,{name:n})).data,HR=async e=>(await nt.delete(`/api/equipment-types/${e}`)).data,DE=L.createContext(),qR=3,IE=({children:e})=>{const[n,t]=L.useState([]),{user:r}=ur(),s=(r==null?void 0:r.role)==="admin",{data:a}=Lt(["equipment",{limit:1e3}],()=>Fu({limit:1e3}),{enabled:s,refetchInterval:5*60*1e3,staleTime:4*60*1e3}),{data:d}=Lt({queryKey:["equipment-types"],queryFn:ya,staleTime:3e5,enabled:s});L.useEffect(()=>{if(!s||!(a!=null&&a.equipment)||!(d!=null&&d.types))return;const S=a.equipment,R=d.types,O={};S.forEach(D=>{D.type&&(O[D.type]||(O[D.type]=[]),O[D.type].push(D))});const I=[];Object.entries(O).forEach(([D,j])=>{const q=j.filter(Q=>Q.status==="available");if(q.length<=qR){const Q=R.find(B=>B.name.toLowerCase()===D.toLowerCase());I.push({id:`low-stock-${D}`,type:"warning",title:"Low Stock Alert",message:`Only ${q.length} ${D} ${q.length===1?"item is":"items are"} available.`,timestamp:new Date,read:!1,typeId:Q==null?void 0:Q.id})}}),I.length>0&&t(D=>[...D.filter(q=>!q.id.startsWith("low-stock-")),...I])},[a,d,s]);const g=S=>{t(R=>[...R,{id:S.id||`notification-${Date.now()}`,timestamp:new Date,read:!1,...S}])},v=S=>{t(R=>R.map(O=>O.id===S?{...O,read:!0}:O))},x=()=>{t(S=>S.map(R=>({...R,read:!0})))},y=S=>{t(R=>R.filter(O=>O.id!==S))},E=()=>{t([])},_=n.filter(S=>!S.read).length,k={notifications:n,unreadCount:_,addNotification:g,markAsRead:v,markAllAsRead:x,removeNotification:y,clearNotifications:E};return c.jsx(DE.Provider,{value:k,children:e})};IE.propTypes={children:ne.node.isRequired};const VR=()=>{const e=L.useContext(DE);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},YR=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),GR=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})}),$R=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),jE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),XR=({className:e="w-5 h-5"})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),Yy=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})}),QR=({className:e="w-5 h-5"})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),RE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125"})}),OE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),ME=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})}),KR=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),ZR=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),qx=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),Gy=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),JR=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})}),eO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75a2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),LE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),tO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),nO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),PE=6048e5,rO=864e5,Kh=6e4,Zh=36e5,iO=1e3,Hf=43200,$y=1440,Xy=Symbol.for("constructDateFrom");function Vt(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&Xy in e?e[Xy](n):e instanceof Date?new e.constructor(n):new Date(n)}function He(e,n){return Vt(n||e,e)}function ls(e,n,t){const r=He(e,t==null?void 0:t.in);return isNaN(n)?Vt((t==null?void 0:t.in)||e,NaN):(n&&r.setDate(r.getDate()+n),r)}function us(e,n,t){const r=He(e,t==null?void 0:t.in);if(isNaN(n))return Vt((t==null?void 0:t.in)||e,NaN);if(!n)return r;const s=r.getDate(),a=Vt((t==null?void 0:t.in)||e,r.getTime());a.setMonth(r.getMonth()+n+1,0);const d=a.getDate();return s>=d?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}function FE(e,n,t){return Vt((t==null?void 0:t.in)||e,+He(e)+n)}function sO(e,n,t){return FE(e,n*Zh,t)}let aO={};function mo(){return aO}function ga(e,n){var g,v,x,y;const t=mo(),r=(n==null?void 0:n.weekStartsOn)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??t.weekStartsOn??((y=(x=t.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,s=He(e,n==null?void 0:n.in),a=s.getDay(),d=(a<r?7:0)+a-r;return s.setDate(s.getDate()-d),s.setHours(0,0,0,0),s}function pc(e,n){return ga(e,{...n,weekStartsOn:1})}function BE(e,n){const t=He(e,n==null?void 0:n.in),r=t.getFullYear(),s=Vt(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=pc(s),d=Vt(t,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const g=pc(d);return t.getTime()>=a.getTime()?r+1:t.getTime()>=g.getTime()?r:r-1}function mc(e){const n=He(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function hs(e,...n){const t=Vt.bind(null,e||n.find(r=>typeof r=="object"));return n.map(t)}function cl(e,n){const t=He(e,n==null?void 0:n.in);return t.setHours(0,0,0,0),t}function gc(e,n,t){const[r,s]=hs(t==null?void 0:t.in,e,n),a=cl(r),d=cl(s),g=+a-mc(a),v=+d-mc(d);return Math.round((g-v)/rO)}function oO(e,n){const t=BE(e,n),r=Vt((n==null?void 0:n.in)||e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),pc(r)}function pg(e,n,t){const r=He(e,t==null?void 0:t.in);return r.setTime(r.getTime()+n*Kh),r}function Vx(e,n,t){return us(e,n*3,t)}function lO(e,n,t){return FE(e,n*1e3,t)}function nh(e,n,t){return ls(e,n*7,t)}function aa(e,n,t){return us(e,n*12,t)}function Qy(e,n){let t,r=n==null?void 0:n.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=Vt.bind(null,s));const a=He(s,r);(!t||t<a||isNaN(+a))&&(t=a)}),Vt(r,t||NaN)}function Ky(e,n){let t,r=n==null?void 0:n.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=Vt.bind(null,s));const a=He(s,r);(!t||t>a||isNaN(+a))&&(t=a)}),Vt(r,t||NaN)}function m0(e,n){const t=+He(e)-+He(n);return t<0?-1:t>0?1:t}function cO(e){return Vt(e,Date.now())}function uO(e,n,t){const[r,s]=hs(t==null?void 0:t.in,e,n);return+cl(r)==+cl(s)}function oa(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rh(e){return!(!oa(e)&&typeof e!="number"||isNaN(+He(e)))}function ld(e,n,t){const[r,s]=hs(t==null?void 0:t.in,e,n),a=r.getFullYear()-s.getFullYear(),d=r.getMonth()-s.getMonth();return a*12+d}function Jo(e,n){const t=He(e,n==null?void 0:n.in);return Math.trunc(t.getMonth()/3)+1}function ih(e,n,t){const[r,s]=hs(t==null?void 0:t.in,e,n),a=r.getFullYear()-s.getFullYear(),d=Jo(r)-Jo(s);return a*4+d}function sh(e,n,t){const[r,s]=hs(t==null?void 0:t.in,e,n);return r.getFullYear()-s.getFullYear()}function dO(e,n,t){const[r,s]=hs(t==null?void 0:t.in,e,n),a=Zy(r,s),d=Math.abs(gc(r,s));r.setDate(r.getDate()-a*d);const g=+(Zy(r,s)===-a),v=a*(d-g);return v===0?0:v}function Zy(e,n){const t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function fO(e){return n=>{const r=(e?Math[e]:Math.trunc)(n);return r===0?0:r}}function hO(e,n){return+He(e)-+He(n)}function Yx(e,n){const t=He(e,n==null?void 0:n.in);return t.setHours(23,59,59,999),t}function Gx(e,n){const t=He(e,n==null?void 0:n.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function pO(e,n){const t=He(e,n==null?void 0:n.in);return+Yx(t,n)==+Gx(t,n)}function mO(e,n,t){const[r,s,a]=hs(t==null?void 0:t.in,e,e,n),d=m0(s,a),g=Math.abs(ld(s,a));if(g<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-d*g);let v=m0(s,a)===-d;pO(r)&&g===1&&m0(r,a)===1&&(v=!1);const x=d*(g-+v);return x===0?0:x}function gO(e,n,t){const r=hO(e,n)/1e3;return fO(t==null?void 0:t.roundingMethod)(r)}function mg(e,n){const t=He(e,n==null?void 0:n.in),r=t.getMonth(),s=r-r%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function UE(e,n){const t=He(e,n==null?void 0:n.in);return t.setDate(1),t.setHours(0,0,0,0),t}function zE(e,n){const t=He(e,n==null?void 0:n.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function Jh(e,n){const t=He(e,n==null?void 0:n.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function xO(e,n){var g,v,x,y;const t=mo(),r=(n==null?void 0:n.weekStartsOn)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??t.weekStartsOn??((y=(x=t.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,s=He(e,n==null?void 0:n.in),a=s.getDay(),d=(a<r?-7:0)+6-(a-r);return s.setDate(s.getDate()+d),s.setHours(23,59,59,999),s}const vO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wO=(e,n,t)=>{let r;const s=vO[e];return typeof s=="string"?r=s:n===1?r=s.one:r=s.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function H1(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const yO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EO={date:H1({formats:yO,defaultWidth:"full"}),time:H1({formats:bO,defaultWidth:"full"}),dateTime:H1({formats:CO,defaultWidth:"full"})},NO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_O=(e,n,t,r)=>NO[e];function wu(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,g=t!=null&&t.width?String(t.width):d;s=e.formattingValues[g]||e.formattingValues[d]}else{const d=e.defaultWidth,g=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[g]||e.values[d]}const a=e.argumentCallback?e.argumentCallback(n):n;return s[a]}}const SO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},AO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jO=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},RO={ordinalNumber:jO,era:wu({values:SO,defaultWidth:"wide"}),quarter:wu({values:AO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wu({values:kO,defaultWidth:"wide"}),day:wu({values:TO,defaultWidth:"wide"}),dayPeriod:wu({values:DO,defaultWidth:"wide",formattingValues:IO,defaultFormattingWidth:"wide"})};function yu(e){return(n,t={})=>{const r=t.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=n.match(s);if(!a)return null;const d=a[0],g=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],v=Array.isArray(g)?MO(g,E=>E.test(d)):OO(g,E=>E.test(d));let x;x=e.valueCallback?e.valueCallback(v):v,x=t.valueCallback?t.valueCallback(x):x;const y=n.slice(d.length);return{value:x,rest:y}}}function OO(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function MO(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function LO(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const s=r[0],a=n.match(e.parsePattern);if(!a)return null;let d=e.valueCallback?e.valueCallback(a[0]):a[0];d=t.valueCallback?t.valueCallback(d):d;const g=n.slice(s.length);return{value:d,rest:g}}}const PO=/^(\d+)(th|st|nd|rd)?/i,FO=/\d+/i,BO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},UO={any:[/^b/i,/^(a|c)/i]},zO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WO={any:[/1/i,/2/i,/3/i,/4/i]},HO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},VO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$O={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},XO={ordinalNumber:LO({matchPattern:PO,parsePattern:FO,valueCallback:e=>parseInt(e,10)}),era:yu({matchPatterns:BO,defaultMatchWidth:"wide",parsePatterns:UO,defaultParseWidth:"any"}),quarter:yu({matchPatterns:zO,defaultMatchWidth:"wide",parsePatterns:WO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yu({matchPatterns:HO,defaultMatchWidth:"wide",parsePatterns:qO,defaultParseWidth:"any"}),day:yu({matchPatterns:VO,defaultMatchWidth:"wide",parsePatterns:YO,defaultParseWidth:"any"}),dayPeriod:yu({matchPatterns:GO,defaultMatchWidth:"any",parsePatterns:$O,defaultParseWidth:"any"})},$x={code:"en-US",formatDistance:wO,formatLong:EO,formatRelative:_O,localize:RO,match:XO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QO(e,n){const t=He(e,n==null?void 0:n.in);return gc(t,Jh(t))+1}function Xx(e,n){const t=He(e,n==null?void 0:n.in),r=+pc(t)-+oO(t);return Math.round(r/PE)+1}function Qx(e,n){var y,E,_,k;const t=He(e,n==null?void 0:n.in),r=t.getFullYear(),s=mo(),a=(n==null?void 0:n.firstWeekContainsDate)??((E=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??s.firstWeekContainsDate??((k=(_=s.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=Vt((n==null?void 0:n.in)||e,0);d.setFullYear(r+1,0,a),d.setHours(0,0,0,0);const g=ga(d,n),v=Vt((n==null?void 0:n.in)||e,0);v.setFullYear(r,0,a),v.setHours(0,0,0,0);const x=ga(v,n);return+t>=+g?r+1:+t>=+x?r:r-1}function KO(e,n){var g,v,x,y;const t=mo(),r=(n==null?void 0:n.firstWeekContainsDate)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(x=t.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,s=Qx(e,n),a=Vt((n==null?void 0:n.in)||e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),ga(a,n)}function WE(e,n){const t=He(e,n==null?void 0:n.in),r=+ga(t,n)-+KO(t,n);return Math.round(r/PE)+1}function Kt(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const La={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return Kt(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):Kt(t+1,2)},d(e,n){return Kt(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return Kt(e.getHours()%12||12,n.length)},H(e,n){return Kt(e.getHours(),n.length)},m(e,n){return Kt(e.getMinutes(),n.length)},s(e,n){return Kt(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return Kt(s,n.length)}},Ml={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jy={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return La.y(e,n)},Y:function(e,n,t,r){const s=Qx(e,r),a=s>0?s:1-s;if(n==="YY"){const d=a%100;return Kt(d,2)}return n==="Yo"?t.ordinalNumber(a,{unit:"year"}):Kt(a,n.length)},R:function(e,n){const t=BE(e);return Kt(t,n.length)},u:function(e,n){const t=e.getFullYear();return Kt(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Kt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Kt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return La.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return Kt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const s=WE(e,r);return n==="wo"?t.ordinalNumber(s,{unit:"week"}):Kt(s,n.length)},I:function(e,n,t){const r=Xx(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Kt(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):La.d(e,n)},D:function(e,n,t){const r=QO(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Kt(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Kt(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Kt(a,n.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),s=r===0?7:r;switch(n){case"i":return String(s);case"ii":return Kt(s,n.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const s=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let s;switch(r===12?s=Ml.noon:r===0?s=Ml.midnight:s=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let s;switch(r>=17?s=Ml.evening:r>=12?s=Ml.afternoon:r>=4?s=Ml.morning:s=Ml.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return La.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):La.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Kt(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Kt(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):La.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):La.s(e,n)},S:function(e,n){return La.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return tb(r);case"XXXX":case"XX":return Ho(r);case"XXXXX":case"XXX":default:return Ho(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return tb(r);case"xxxx":case"xx":return Ho(r);case"xxxxx":case"xxx":default:return Ho(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+eb(r,":");case"OOOO":default:return"GMT"+Ho(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+eb(r,":");case"zzzz":default:return"GMT"+Ho(r,":")}},t:function(e,n,t){const r=Math.trunc(+e/1e3);return Kt(r,n.length)},T:function(e,n,t){return Kt(+e,n.length)}};function eb(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?t+String(s):t+String(s)+n+Kt(a,2)}function tb(e,n){return e%60===0?(e>0?"-":"+")+Kt(Math.abs(e)/60,2):Ho(e,n)}function Ho(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),s=Kt(Math.trunc(r/60),2),a=Kt(r%60,2);return t+s+n+a}const nb=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},HE=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},ZO=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return nb(e,n);let a;switch(r){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",nb(r,n)).replace("{{time}}",HE(s,n))},gg={p:HE,P:ZO},JO=/^D+$/,eM=/^Y+$/,tM=["D","DD","YY","YYYY"];function qE(e){return JO.test(e)}function VE(e){return eM.test(e)}function xg(e,n,t){const r=nM(e,n,t);if(console.warn(r),tM.includes(e))throw new RangeError(r)}function nM(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sM=/^'([^]*?)'?$/,aM=/''/g,oM=/[a-zA-Z]/;function cd(e,n,t){var y,E,_,k,S,R,O,I;const r=mo(),s=(t==null?void 0:t.locale)??r.locale??$x,a=(t==null?void 0:t.firstWeekContainsDate)??((E=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??r.firstWeekContainsDate??((k=(_=r.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=(t==null?void 0:t.weekStartsOn)??((R=(S=t==null?void 0:t.locale)==null?void 0:S.options)==null?void 0:R.weekStartsOn)??r.weekStartsOn??((I=(O=r.locale)==null?void 0:O.options)==null?void 0:I.weekStartsOn)??0,g=He(e,t==null?void 0:t.in);if(!rh(g))throw new RangeError("Invalid time value");let v=n.match(iM).map(D=>{const j=D[0];if(j==="p"||j==="P"){const q=gg[j];return q(D,s.formatLong)}return D}).join("").match(rM).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const j=D[0];if(j==="'")return{isToken:!1,value:lM(D)};if(Jy[j])return{isToken:!0,value:D};if(j.match(oM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:D}});s.localize.preprocessor&&(v=s.localize.preprocessor(g,v));const x={firstWeekContainsDate:a,weekStartsOn:d,locale:s};return v.map(D=>{if(!D.isToken)return D.value;const j=D.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&VE(j)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&qE(j))&&xg(j,n,String(e));const q=Jy[j[0]];return q(g,j,s.localize,x)}).join("")}function lM(e){const n=e.match(sM);return n?n[1].replace(aM,"'"):e}function cM(e,n,t){const r=mo(),s=(t==null?void 0:t.locale)??r.locale??$x,a=2520,d=m0(e,n);if(isNaN(d))throw new RangeError("Invalid time value");const g=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:d}),[v,x]=hs(t==null?void 0:t.in,...d>0?[n,e]:[e,n]),y=gO(x,v),E=(mc(x)-mc(v))/1e3,_=Math.round((y-E)/60);let k;if(_<2)return t!=null&&t.includeSeconds?y<5?s.formatDistance("lessThanXSeconds",5,g):y<10?s.formatDistance("lessThanXSeconds",10,g):y<20?s.formatDistance("lessThanXSeconds",20,g):y<40?s.formatDistance("halfAMinute",0,g):y<60?s.formatDistance("lessThanXMinutes",1,g):s.formatDistance("xMinutes",1,g):_===0?s.formatDistance("lessThanXMinutes",1,g):s.formatDistance("xMinutes",_,g);if(_<45)return s.formatDistance("xMinutes",_,g);if(_<90)return s.formatDistance("aboutXHours",1,g);if(_<$y){const S=Math.round(_/60);return s.formatDistance("aboutXHours",S,g)}else{if(_<a)return s.formatDistance("xDays",1,g);if(_<Hf){const S=Math.round(_/$y);return s.formatDistance("xDays",S,g)}else if(_<Hf*2)return k=Math.round(_/Hf),s.formatDistance("aboutXMonths",k,g)}if(k=mO(x,v),k<12){const S=Math.round(_/Hf);return s.formatDistance("xMonths",S,g)}else{const S=k%12,R=Math.trunc(k/12);return S<3?s.formatDistance("aboutXYears",R,g):S<9?s.formatDistance("overXYears",R,g):s.formatDistance("almostXYears",R+1,g)}}function uM(e,n){return cM(e,cO(e),n)}function rb(e,n){return He(e,n==null?void 0:n.in).getDate()}function dM(e,n){return He(e,n==null?void 0:n.in).getDay()}function fM(e,n){const t=He(e,n==null?void 0:n.in),r=t.getFullYear(),s=t.getMonth(),a=Vt(t,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function hM(){return Object.assign({},mo())}function la(e,n){return He(e,n==null?void 0:n.in).getHours()}function pM(e,n){const t=He(e,n==null?void 0:n.in).getDay();return t===0?7:t}function ca(e,n){return He(e,n==null?void 0:n.in).getMinutes()}function Dr(e,n){return He(e,n==null?void 0:n.in).getMonth()}function io(e){return He(e).getSeconds()}function vg(e){return+He(e)}function xt(e,n){return He(e,n==null?void 0:n.in).getFullYear()}function lo(e,n){return+He(e)>+He(n)}function ul(e,n){return+He(e)<+He(n)}function mM(e,n){return+He(e)==+He(n)}function gM(e,n){const t=xM(n)?new n(0):Vt(n,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function xM(e){var n;return typeof e=="function"&&((n=e.prototype)==null?void 0:n.constructor)===e}const vM=10;class YE{constructor(){Be(this,"subPriority",0)}validate(n,t){return!0}}class wM extends YE{constructor(n,t,r,s,a){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=s,a&&(this.subPriority=a)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class yM extends YE{constructor(t,r){super();Be(this,"priority",vM);Be(this,"subPriority",-1);this.context=t||(s=>Vt(r,s))}set(t,r){return r.timestampIsSet?t:Vt(t,gM(t,this.context))}}class zt{run(n,t,r,s){const a=this.parse(n,t,r,s);return a?{setter:new wM(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,t,r){return!0}}class bM extends zt{constructor(){super(...arguments);Be(this,"priority",140);Be(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,r,s){return r.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const Hn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},As={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qn(e,n){return e&&{value:n(e.value),rest:e.rest}}function _n(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function ks(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,d=t[5]?parseInt(t[5],10):0;return{value:r*(s*Zh+a*Kh+d*iO),rest:n.slice(t[0].length)}}function GE(e){return _n(Hn.anyDigitsSigned,e)}function Pn(e,n){switch(e){case 1:return _n(Hn.singleDigit,n);case 2:return _n(Hn.twoDigits,n);case 3:return _n(Hn.threeDigits,n);case 4:return _n(Hn.fourDigits,n);default:return _n(new RegExp("^\\d{1,"+e+"}"),n)}}function ah(e,n){switch(e){case 1:return _n(Hn.singleDigitSigned,n);case 2:return _n(Hn.twoDigitsSigned,n);case 3:return _n(Hn.threeDigitsSigned,n);case 4:return _n(Hn.fourDigitsSigned,n);default:return _n(new RegExp("^-?\\d{1,"+e+"}"),n)}}function Kx(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function $E(e,n){const t=n>0,r=t?n:1-n;let s;if(r<=50)s=e||100;else{const a=r+50,d=Math.trunc(a/100)*100,g=e>=a%100;s=e+d-(g?100:0)}return t?s:1-s}function XE(e){return e%400===0||e%4===0&&e%100!==0}class CM extends zt{constructor(){super(...arguments);Be(this,"priority",130);Be(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,s){const a=d=>({year:d,isTwoDigitYear:r==="yy"});switch(r){case"y":return qn(Pn(4,t),a);case"yo":return qn(s.ordinalNumber(t,{unit:"year"}),a);default:return qn(Pn(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s){const a=t.getFullYear();if(s.isTwoDigitYear){const g=$E(s.year,a);return t.setFullYear(g,0,1),t.setHours(0,0,0,0),t}const d=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(d,0,1),t.setHours(0,0,0,0),t}}class EM extends zt{constructor(){super(...arguments);Be(this,"priority",130);Be(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,s){const a=d=>({year:d,isTwoDigitYear:r==="YY"});switch(r){case"Y":return qn(Pn(4,t),a);case"Yo":return qn(s.ordinalNumber(t,{unit:"year"}),a);default:return qn(Pn(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s,a){const d=Qx(t,a);if(s.isTwoDigitYear){const v=$E(s.year,d);return t.setFullYear(v,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),ga(t,a)}const g=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(g,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),ga(t,a)}}class NM extends zt{constructor(){super(...arguments);Be(this,"priority",130);Be(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return ah(r==="R"?4:r.length,t)}set(t,r,s){const a=Vt(t,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),pc(a)}}class _M extends zt{constructor(){super(...arguments);Be(this,"priority",130);Be(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return ah(r==="u"?4:r.length,t)}set(t,r,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class SM extends zt{constructor(){super(...arguments);Be(this,"priority",120);Be(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"Q":case"QQ":return Pn(r.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class AM extends zt{constructor(){super(...arguments);Be(this,"priority",120);Be(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"q":case"qq":return Pn(r.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class kM extends zt{constructor(){super(...arguments);Be(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Be(this,"priority",110)}parse(t,r,s){const a=d=>d-1;switch(r){case"M":return qn(_n(Hn.month,t),a);case"MM":return qn(Pn(2,t),a);case"Mo":return qn(s.ordinalNumber(t,{unit:"month"}),a);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class TM extends zt{constructor(){super(...arguments);Be(this,"priority",110);Be(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,s){const a=d=>d-1;switch(r){case"L":return qn(_n(Hn.month,t),a);case"LL":return qn(Pn(2,t),a);case"Lo":return qn(s.ordinalNumber(t,{unit:"month"}),a);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function DM(e,n,t){const r=He(e,t==null?void 0:t.in),s=WE(r,t)-n;return r.setDate(r.getDate()-s*7),He(r,t==null?void 0:t.in)}class IM extends zt{constructor(){super(...arguments);Be(this,"priority",100);Be(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,s){switch(r){case"w":return _n(Hn.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return Pn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s,a){return ga(DM(t,s,a),a)}}function jM(e,n,t){const r=He(e,t==null?void 0:t.in),s=Xx(r,t)-n;return r.setDate(r.getDate()-s*7),r}class RM extends zt{constructor(){super(...arguments);Be(this,"priority",100);Be(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,s){switch(r){case"I":return _n(Hn.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return Pn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s){return pc(jM(t,s))}}const OM=[31,28,31,30,31,30,31,31,30,31,30,31],MM=[31,29,31,30,31,30,31,31,30,31,30,31];class LM extends zt{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"subPriority",1);Be(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"d":return _n(Hn.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return Pn(r.length,t)}}validate(t,r){const s=t.getFullYear(),a=XE(s),d=t.getMonth();return a?r>=1&&r<=MM[d]:r>=1&&r<=OM[d]}set(t,r,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class PM extends zt{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"subpriority",1);Be(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,s){switch(r){case"D":case"DD":return _n(Hn.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return Pn(r.length,t)}}validate(t,r){const s=t.getFullYear();return XE(s)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function Zx(e,n,t){var E,_,k,S;const r=mo(),s=(t==null?void 0:t.weekStartsOn)??((_=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((S=(k=r.locale)==null?void 0:k.options)==null?void 0:S.weekStartsOn)??0,a=He(e,t==null?void 0:t.in),d=a.getDay(),v=(n%7+7)%7,x=7-s,y=n<0||n>6?n-(d+x)%7:(v+x)%7-(d+x)%7;return ls(a,y,t)}class FM extends zt{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,a){return t=Zx(t,s,a),t.setHours(0,0,0,0),t}}class BM extends zt{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,s,a){const d=g=>{const v=Math.floor((g-1)/7)*7;return(g+a.weekStartsOn+6)%7+v};switch(r){case"e":case"ee":return qn(Pn(r.length,t),d);case"eo":return qn(s.ordinalNumber(t,{unit:"day"}),d);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,a){return t=Zx(t,s,a),t.setHours(0,0,0,0),t}}class UM extends zt{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,s,a){const d=g=>{const v=Math.floor((g-1)/7)*7;return(g+a.weekStartsOn+6)%7+v};switch(r){case"c":case"cc":return qn(Pn(r.length,t),d);case"co":return qn(s.ordinalNumber(t,{unit:"day"}),d);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,a){return t=Zx(t,s,a),t.setHours(0,0,0,0),t}}function zM(e,n,t){const r=He(e,t==null?void 0:t.in),s=pM(r,t),a=n-s;return ls(r,a,t)}class WM extends zt{constructor(){super(...arguments);Be(this,"priority",90);Be(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,s){const a=d=>d===0?7:d;switch(r){case"i":case"ii":return Pn(r.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return qn(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return qn(s.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return qn(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return qn(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,s){return t=zM(t,s),t.setHours(0,0,0,0),t}}class HM extends zt{constructor(){super(...arguments);Be(this,"priority",80);Be(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Kx(s),0,0,0),t}}class qM extends zt{constructor(){super(...arguments);Be(this,"priority",80);Be(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Kx(s),0,0,0),t}}class VM extends zt{constructor(){super(...arguments);Be(this,"priority",80);Be(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Kx(s),0,0,0),t}}class YM extends zt{constructor(){super(...arguments);Be(this,"priority",70);Be(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,s){switch(r){case"h":return _n(Hn.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return Pn(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,s){const a=t.getHours()>=12;return a&&s<12?t.setHours(s+12,0,0,0):!a&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class GM extends zt{constructor(){super(...arguments);Be(this,"priority",70);Be(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,s){switch(r){case"H":return _n(Hn.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return Pn(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,s){return t.setHours(s,0,0,0),t}}class $M extends zt{constructor(){super(...arguments);Be(this,"priority",70);Be(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,s){switch(r){case"K":return _n(Hn.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return Pn(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class XM extends zt{constructor(){super(...arguments);Be(this,"priority",70);Be(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,s){switch(r){case"k":return _n(Hn.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return Pn(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,s){const a=s<=24?s%24:s;return t.setHours(a,0,0,0),t}}class QM extends zt{constructor(){super(...arguments);Be(this,"priority",60);Be(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"m":return _n(Hn.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return Pn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setMinutes(s,0,0),t}}class KM extends zt{constructor(){super(...arguments);Be(this,"priority",50);Be(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"s":return _n(Hn.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return Pn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setSeconds(s,0),t}}class ZM extends zt{constructor(){super(...arguments);Be(this,"priority",30);Be(this,"incompatibleTokens",["t","T"])}parse(t,r){const s=a=>Math.trunc(a*Math.pow(10,-r.length+3));return qn(Pn(r.length,t),s)}set(t,r,s){return t.setMilliseconds(s),t}}class JM extends zt{constructor(){super(...arguments);Be(this,"priority",10);Be(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return ks(As.basicOptionalMinutes,t);case"XX":return ks(As.basic,t);case"XXXX":return ks(As.basicOptionalSeconds,t);case"XXXXX":return ks(As.extendedOptionalSeconds,t);case"XXX":default:return ks(As.extended,t)}}set(t,r,s){return r.timestampIsSet?t:Vt(t,t.getTime()-mc(t)-s)}}class e9 extends zt{constructor(){super(...arguments);Be(this,"priority",10);Be(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return ks(As.basicOptionalMinutes,t);case"xx":return ks(As.basic,t);case"xxxx":return ks(As.basicOptionalSeconds,t);case"xxxxx":return ks(As.extendedOptionalSeconds,t);case"xxx":default:return ks(As.extended,t)}}set(t,r,s){return r.timestampIsSet?t:Vt(t,t.getTime()-mc(t)-s)}}class t9 extends zt{constructor(){super(...arguments);Be(this,"priority",40);Be(this,"incompatibleTokens","*")}parse(t){return GE(t)}set(t,r,s){return[Vt(t,s*1e3),{timestampIsSet:!0}]}}class n9 extends zt{constructor(){super(...arguments);Be(this,"priority",20);Be(this,"incompatibleTokens","*")}parse(t){return GE(t)}set(t,r,s){return[Vt(t,s),{timestampIsSet:!0}]}}const r9={G:new bM,y:new CM,Y:new EM,R:new NM,u:new _M,Q:new SM,q:new AM,M:new kM,L:new TM,w:new IM,I:new RM,d:new LM,D:new PM,E:new FM,e:new BM,c:new UM,i:new WM,a:new HM,b:new qM,B:new VM,h:new YM,H:new GM,K:new $M,k:new XM,m:new QM,s:new KM,S:new ZM,X:new JM,x:new e9,t:new t9,T:new n9},i9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,s9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a9=/^'([^]*?)'?$/,o9=/''/g,l9=/\S/,c9=/[a-zA-Z]/;function u9(e,n,t,r){var O,I,D,j,q,Q,B,F;const s=()=>Vt((r==null?void 0:r.in)||t,NaN),a=hM(),d=(r==null?void 0:r.locale)??a.locale??$x,g=(r==null?void 0:r.firstWeekContainsDate)??((I=(O=r==null?void 0:r.locale)==null?void 0:O.options)==null?void 0:I.firstWeekContainsDate)??a.firstWeekContainsDate??((j=(D=a.locale)==null?void 0:D.options)==null?void 0:j.firstWeekContainsDate)??1,v=(r==null?void 0:r.weekStartsOn)??((Q=(q=r==null?void 0:r.locale)==null?void 0:q.options)==null?void 0:Q.weekStartsOn)??a.weekStartsOn??((F=(B=a.locale)==null?void 0:B.options)==null?void 0:F.weekStartsOn)??0;if(!n)return e?s():He(t,r==null?void 0:r.in);const x={firstWeekContainsDate:g,weekStartsOn:v,locale:d},y=[new yM(r==null?void 0:r.in,t)],E=n.match(s9).map(V=>{const W=V[0];if(W in gg){const se=gg[W];return se(V,d.formatLong)}return V}).join("").match(i9),_=[];for(let V of E){!(r!=null&&r.useAdditionalWeekYearTokens)&&VE(V)&&xg(V,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&qE(V)&&xg(V,n,e);const W=V[0],se=r9[W];if(se){const{incompatibleTokens:le}=se;if(Array.isArray(le)){const ce=_.find(xe=>le.includes(xe.token)||xe.token===W);if(ce)throw new RangeError(`The format string mustn't contain \`${ce.fullToken}\` and \`${V}\` at the same time`)}else if(se.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${V}\` and any other token at the same time`);_.push({token:W,fullToken:V});const ie=se.run(e,V,d.match,x);if(!ie)return s();y.push(ie.setter),e=ie.rest}else{if(W.match(c9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");if(V==="''"?V="'":W==="'"&&(V=d9(V)),e.indexOf(V)===0)e=e.slice(V.length);else return s()}}if(e.length>0&&l9.test(e))return s();const k=y.map(V=>V.priority).sort((V,W)=>W-V).filter((V,W,se)=>se.indexOf(V)===W).map(V=>y.filter(W=>W.priority===V).sort((W,se)=>se.subPriority-W.subPriority)).map(V=>V[0]);let S=He(t,r==null?void 0:r.in);if(isNaN(+S))return s();const R={};for(const V of k){if(!V.validate(S,x))return s();const W=V.set(S,R,x);Array.isArray(W)?(S=W[0],Object.assign(R,W[1])):S=W}return S}function d9(e){return e.match(a9)[1].replace(o9,"'")}function f9(e,n,t){const[r,s]=hs(t==null?void 0:t.in,e,n);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function h9(e,n,t){const[r,s]=hs(t==null?void 0:t.in,e,n);return+mg(r)==+mg(s)}function p9(e,n,t){const[r,s]=hs(t==null?void 0:t.in,e,n);return r.getFullYear()===s.getFullYear()}function ud(e,n,t){const r=+He(e,t==null?void 0:t.in),[s,a]=[+He(n.start,t==null?void 0:t.in),+He(n.end,t==null?void 0:t.in)].sort((d,g)=>d-g);return r>=s&&r<=a}function m9(e,n,t){return ls(e,-n,t)}function g9(e,n){const t=()=>Vt(n==null?void 0:n.in,NaN),r=(n==null?void 0:n.additionalDigits)??2,s=y9(e);let a;if(s.date){const x=b9(s.date,r);a=C9(x.restDateString,x.year)}if(!a||isNaN(+a))return t();const d=+a;let g=0,v;if(s.time&&(g=E9(s.time),isNaN(g)))return t();if(s.timezone){if(v=N9(s.timezone),isNaN(v))return t()}else{const x=new Date(d+g),y=He(0,n==null?void 0:n.in);return y.setFullYear(x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()),y.setHours(x.getUTCHours(),x.getUTCMinutes(),x.getUTCSeconds(),x.getUTCMilliseconds()),y}return He(d+g+v,n==null?void 0:n.in)}const qf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},x9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,v9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,w9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function y9(e){const n={},t=e.split(qf.dateTimeDelimiter);let r;if(t.length>2)return n;if(/:/.test(t[0])?r=t[0]:(n.date=t[0],r=t[1],qf.timeZoneDelimiter.test(n.date)&&(n.date=e.split(qf.timeZoneDelimiter)[0],r=e.substr(n.date.length,e.length))),r){const s=qf.timezone.exec(r);s?(n.time=r.replace(s[1],""),n.timezone=s[1]):n.time=r}return n}function b9(e,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),r=e.match(t);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function C9(e,n){if(n===null)return new Date(NaN);const t=e.match(x9);if(!t)return new Date(NaN);const r=!!t[4],s=bu(t[1]),a=bu(t[2])-1,d=bu(t[3]),g=bu(t[4]),v=bu(t[5])-1;if(r)return T9(n,g,v)?_9(n,g,v):new Date(NaN);{const x=new Date(0);return!A9(n,a,d)||!k9(n,s)?new Date(NaN):(x.setUTCFullYear(n,a,Math.max(s,d)),x)}}function bu(e){return e?parseInt(e):1}function E9(e){const n=e.match(v9);if(!n)return NaN;const t=q1(n[1]),r=q1(n[2]),s=q1(n[3]);return D9(t,r,s)?t*Zh+r*Kh+s*1e3:NaN}function q1(e){return e&&parseFloat(e.replace(",","."))||0}function N9(e){if(e==="Z")return 0;const n=e.match(w9);if(!n)return 0;const t=n[1]==="+"?-1:1,r=parseInt(n[2]),s=n[3]&&parseInt(n[3])||0;return I9(r,s)?t*(r*Zh+s*Kh):NaN}function _9(e,n,t){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,a=(n-1)*7+t+1-s;return r.setUTCDate(r.getUTCDate()+a),r}const S9=[31,null,31,30,31,30,31,31,30,31,30,31];function QE(e){return e%400===0||e%4===0&&e%100!==0}function A9(e,n,t){return n>=0&&n<=11&&t>=1&&t<=(S9[n]||(QE(e)?29:28))}function k9(e,n){return n>=1&&n<=(QE(e)?366:365)}function T9(e,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function D9(e,n,t){return e===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&e>=0&&e<25}function I9(e,n){return n>=0&&n<=59}function Bi(e,n,t){const r=He(e,t==null?void 0:t.in),s=r.getFullYear(),a=r.getDate(),d=Vt((t==null?void 0:t.in)||e,0);d.setFullYear(s,n,15),d.setHours(0,0,0,0);const g=fM(d);return r.setMonth(n,Math.min(a,g)),r}function g0(e,n,t){const r=He(e,t==null?void 0:t.in);return r.setHours(n),r}function x0(e,n,t){const r=He(e,t==null?void 0:t.in);return r.setMinutes(n),r}function Ll(e,n,t){const r=He(e,t==null?void 0:t.in),s=Math.trunc(r.getMonth()/3)+1,a=n-s;return Bi(r,r.getMonth()+a*3)}function v0(e,n,t){const r=He(e,t==null?void 0:t.in);return r.setSeconds(n),r}function Es(e,n,t){const r=He(e,t==null?void 0:t.in);return isNaN(+r)?Vt((t==null?void 0:t.in)||e,NaN):(r.setFullYear(n),r)}function el(e,n,t){return us(e,-n,t)}function KE(e,n,t){return Vx(e,-n,t)}function ib(e,n,t){return nh(e,-n,t)}function xc(e,n,t){return aa(e,-n,t)}const j9=()=>{const[e,n]=L.useState(!1),t=L.useRef(null),{notifications:r,unreadCount:s,markAsRead:a,markAllAsRead:d,clearNotifications:g}=VR();L.useEffect(()=>{const E=_=>{t.current&&!t.current.contains(_.target)&&n(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const v=()=>{n(!e)},x=E=>{a(E.id),n(!1)},y=E=>{switch(E){case"warning":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"success":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}};return c.jsxs("div",{className:"relative",ref:t,children:[c.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-800 focus:outline-none",onClick:v,"aria-label":`Notifications ${s>0?`(${s} unread)`:""}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),s>0&&c.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:s})]}),e&&c.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:c.jsxs("div",{className:"py-2",children:[c.jsxs("div",{className:"px-4 py-2 bg-gray-100 flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Notifications"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:d,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"}),c.jsx("button",{onClick:g,className:"text-xs text-red-600 hover:text-red-800",children:"Clear all"})]})]}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.length===0?c.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No notifications"}):r.map(E=>c.jsx("div",{className:`px-4 py-3 border-b border-gray-100 ${E.read?"":"bg-blue-50"}`,onClick:()=>x(E),children:c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0",children:y(E.type)}),c.jsxs("div",{className:"ml-3 w-0 flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.title}),c.jsx("p",{className:"text-sm text-gray-600",children:E.message}),E.typeId&&c.jsx(Br,{to:`/equipment?type=${E.typeId}`,className:"text-xs text-blue-600 hover:text-blue-800 mt-1 inline-block",onClick:_=>_.stopPropagation(),children:"View equipment"}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:uM(new Date(E.timestamp),{addSuffix:!0})})]})]})},E.id))})]})})]})},R9=({toggleSidebar:e})=>{const{user:n,logout:t,isImpersonating:r}=ur(),s=ds(),a=()=>{t(),s("/login")};return c.jsx("nav",{className:"bg-white text-slate-800 shadow-soft sticky top-0 z-30 border-b border-slate-200 h-16",children:c.jsx("div",{className:"container-app py-0",children:c.jsxs("div",{className:"flex justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsxs(Br,{to:"/",className:"flex-shrink-0 flex items-center gap-2",children:[c.jsx("img",{src:"/bird-logo.svg",alt:"Theater Equipment Logo",className:"w-8 h-8"}),c.jsx("span",{className:"text-xl font-bold text-slate-800",children:"Equipment Inventory"})]})}),n?c.jsx("div",{className:"flex items-center",children:c.jsxs("div",{className:"flex items-center gap-3",children:[n.role==="admin"&&c.jsx(j9,{}),c.jsxs("div",{className:"px-3 py-1 rounded-full bg-slate-100 text-slate-700 text-sm flex items-center",children:[c.jsx("span",{className:"font-medium",children:n.username}),c.jsx("span",{className:"ml-1 text-xs px-1.5 py-0.5 bg-primary-100 text-primary-700 rounded-full",children:n.role}),r()&&c.jsx("span",{className:"ml-1 text-xs bg-yellow-100 text-yellow-700 px-1.5 py-0.5 rounded-full border border-yellow-200",children:"Impersonating"})]}),c.jsxs("button",{onClick:a,className:"nav-link text-slate-600 hover:text-red-600","aria-label":"Logout",children:[c.jsx(Yy,{}),c.jsx("span",{className:"hidden md:inline",children:r()?"End Impersonation":"Logout"})]})]})}):c.jsx("div",{className:"flex items-center",children:c.jsxs(Br,{to:"/login",className:"btn btn-primary",children:[c.jsx(Yy,{className:"rotate-180"}),c.jsx("span",{children:"Login"})]})})]})})})},O9=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:c.jsx("polyline",{points:"9 18 15 12 9 6"})}),M9=({isOpen:e,isCollapsed:n,toggleSidebar:t,toggleCollapse:r})=>{const{isAdmin:s,isAdvanced:a}=ur(),d=kc();L.useEffect(()=>{const v=()=>{window.innerWidth<768&&e&&t(!1)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[e,t]);const g=v=>d.pathname===v;return c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1),style:{opacity:e?1:0}}),c.jsxs("aside",{className:`sidebar ${e?"":"sidebar-hidden"} ${n?"sidebar-collapsed":"sidebar-expanded"}`,children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-2",children:[!n&&c.jsx("span",{className:"text-lg font-semibold text-slate-800",children:"Navigation"}),c.jsxs("div",{className:"flex",children:[c.jsx("button",{onClick:()=>r(!n),className:"sidebar-collapse-btn","aria-label":n?"Expand sidebar":"Collapse sidebar",children:n?c.jsx(O9,{className:"w-4 h-4"}):c.jsx(ZR,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>t(!e),className:"sidebar-toggle-btn md:hidden","aria-label":e?"Hide sidebar":"Show sidebar",children:c.jsx(KR,{className:"w-4 h-4"})})]})]}),c.jsxs("nav",{className:"sidebar-nav",children:[c.jsxs(Br,{to:"/dashboard",className:`sidebar-nav-item ${g("/dashboard")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Dashboard",children:[c.jsx(YR,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Dashboard"})]}),c.jsxs(Br,{to:"/equipment",className:`sidebar-nav-item ${g("/equipment")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Equipment",children:[c.jsx(GR,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Equipment"})]}),s()&&c.jsxs(c.Fragment,{children:[c.jsxs(Br,{to:"/admin",className:`sidebar-nav-item ${g("/admin")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Admin",children:[c.jsx($R,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Admin"})]}),c.jsxs(Br,{to:"/equipment-logs",className:`sidebar-nav-item ${g("/equipment-logs")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Equipment Logs",children:[c.jsx(eO,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Equipment Logs"})]})]}),(s()||a())&&c.jsxs(Br,{to:"/equipment/new",className:`sidebar-nav-item ${g("/equipment/new")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Add Equipment",children:[c.jsx(jE,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Add Equipment"})]}),c.jsxs(Br,{to:"/settings",className:`sidebar-nav-item ${g("/settings")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Settings",children:[c.jsx(XR,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Settings"})]})]})]})]})},L9=()=>{const{user:e,isImpersonating:n,logout:t}=ur();return n()?c.jsx("div",{className:"bg-yellow-500 text-white py-2",children:c.jsxs("div",{className:"container-app py-0 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold",children:"Impersonation Mode:"})," You are currently viewing the application as ",e.username," (",e.role,")"]}),c.jsx("button",{onClick:t,className:"bg-white text-yellow-700 px-3 py-1 rounded-md text-sm font-medium hover:bg-yellow-100",children:"End Impersonation"})]})}):null},P9=()=>{const[e,n]=L.useState(""),[t,r]=L.useState(""),[s,a]=L.useState(""),[d,g]=L.useState(!1),{login:v}=ur(),x=ds(),y=async E=>{var _,k;if(E.preventDefault(),!e||!t){a("Username and password are required");return}try{g(!0),a(""),await v(e,t),x("/dashboard")}catch(S){a(((k=(_=S.response)==null?void 0:_.data)==null?void 0:k.message)||"Login failed")}finally{g(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Theater Equipment Catalog"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[s&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:c.jsx("p",{className:"text-red-700",children:s})}),c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),c.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:E=>n(E.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:E=>r(E.target.value)})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:d,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${d?"opacity-70 cursor-not-allowed":""}`,children:d?"Signing in...":"Sign in"})}),c.jsx("div",{className:"text-sm text-center",children:c.jsx("p",{className:"text-gray-600",children:"Insert the credentials the admin provided to you"})})]})]})})},F9=async()=>{try{return{searches:(await nt.get("/api/saved-searches")).data||[]}}catch(e){return console.error("Error fetching saved searches:",e),{searches:[]}}},B9=async e=>{try{return(await nt.post("/api/saved-searches",e)).data}catch(n){throw console.error("Error saving search:",n),n}},U9=async e=>{try{return(await nt.delete(`/api/saved-searches/${e}`)).data}catch(n){throw console.error("Error deleting saved search:",n),n}},jc=async()=>{try{return(await nt.get("/api/categories")).data}catch(e){return console.error("Error fetching categories:",e),[]}},z9=async(e,n="")=>(await nt.post("/api/categories",{name:e,description:n})).data,W9=async(e,n,t="")=>(await nt.put(`/api/categories/${e}`,{name:n,description:t})).data,H9=async e=>(await nt.delete(`/api/categories/${e}`)).data,We=({children:e,variant:n="primary",size:t="md",type:r="button",fullWidth:s=!1,disabled:a=!1,onClick:d,className:g="",as:v="button",...x})=>{const y="inline-flex items-center justify-center font-medium transition-all duration-200 rounded-md focus:outline-none focus:ring-1 focus:ring-offset-1",E={primary:"bg-white text-primary-600 hover:bg-primary-50 focus:ring-primary-500 border border-primary-500 hover:border-primary-600 hover:shadow-sm transition-all",secondary:"bg-white text-slate-600 hover:bg-slate-50 focus:ring-slate-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",outline:"bg-white hover:bg-slate-50 text-slate-700 focus:ring-primary-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",danger:"bg-white text-red-600 hover:bg-red-50 focus:ring-red-500 border border-red-500 hover:border-red-600 hover:shadow-sm transition-all",success:"bg-white text-green-600 hover:bg-green-50 focus:ring-green-500 border border-green-500 hover:border-green-600 hover:shadow-sm transition-all",ghost:"bg-transparent hover:bg-slate-100 text-slate-700 focus:ring-slate-500 border border-transparent hover:shadow-sm transition-all"},_={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-sm"},k=a?"opacity-60 cursor-not-allowed":"cursor-pointer",S=s?"w-full":"",R=`
    ${y}
    ${E[n]||E.primary}
    ${_[t]||_.md}
    ${k}
    ${S}
    ${g}
  `,O=v==="button"?{type:r,...x}:x;return c.jsx(v,{className:R,disabled:a,onClick:d,...O,children:e})};We.propTypes={children:ne.node.isRequired,variant:ne.oneOf(["primary","secondary","outline","danger","success","ghost"]),size:ne.oneOf(["sm","md","lg"]),type:ne.oneOf(["button","submit","reset"]),fullWidth:ne.bool,disabled:ne.bool,onClick:ne.func,className:ne.string,as:ne.elementType};const Ut=({id:e,name:n,type:t="text",label:r,placeholder:s,value:a,onChange:d,onBlur:g,error:v,icon:x,disabled:y=!1,required:E=!1,className:_="",...k})=>{const D=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${v?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${y?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    ${x?"pl-10":"pl-3"}
    py-2 pr-3 text-sm
    ${_}
  `;return c.jsxs("div",{className:"w-full",children:[r&&c.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${v?"text-red-600":"text-slate-700"}`,children:[r,E&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"relative",children:[x&&c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:x}),c.jsx("input",{id:e,name:n,type:t,value:a,onChange:d,onBlur:g,placeholder:s,disabled:y,required:E,className:D,...k})]}),v&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:v})]})};Ut.propTypes={id:ne.string.isRequired,name:ne.string.isRequired,type:ne.string,label:ne.string,placeholder:ne.string,value:ne.oneOfType([ne.string,ne.number]),onChange:ne.func,onBlur:ne.func,error:ne.string,icon:ne.node,disabled:ne.bool,required:ne.bool,className:ne.string};var Ue;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ue||(Ue={}));var sb=new Map([[Ue.QR_CODE,"QR_CODE"],[Ue.AZTEC,"AZTEC"],[Ue.CODABAR,"CODABAR"],[Ue.CODE_39,"CODE_39"],[Ue.CODE_93,"CODE_93"],[Ue.CODE_128,"CODE_128"],[Ue.DATA_MATRIX,"DATA_MATRIX"],[Ue.MAXICODE,"MAXICODE"],[Ue.ITF,"ITF"],[Ue.EAN_13,"EAN_13"],[Ue.EAN_8,"EAN_8"],[Ue.PDF_417,"PDF_417"],[Ue.RSS_14,"RSS_14"],[Ue.RSS_EXPANDED,"RSS_EXPANDED"],[Ue.UPC_A,"UPC_A"],[Ue.UPC_E,"UPC_E"],[Ue.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ab;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(ab||(ab={}));function q9(e){return Object.values(Ue).includes(e)}var oh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(oh||(oh={}));var V9=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[oh.SCAN_TYPE_CAMERA,oh.SCAN_TYPE_FILE],e}(),ZE=function(){function e(n,t){this.format=n,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!sb.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,sb.get(n))},e}(),ob=function(){function e(){}return e.createFromText=function(n){var t={text:n};return{decodedText:n,result:t}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),wg;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(wg||(wg={}));var Y9=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:wg.UNKWOWN_ERROR}},e}(),G9=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,t){(this.verbose||t===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function ea(e){return typeof e>"u"||e===null}var Ql=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),JE=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,t){if(typeof n!="object"){var r=typeof n;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(s),d=Object.keys(n),g=0,v=d;g<v.length;g++){var x=v[g];if(a.has(x))return t.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),yg={exports:{}};(function(e,n){(function(t,r){r(n)})(_s,function(t){function r(M){return M==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,i){M.__proto__=i}||function(M,i){for(var o in i)i.hasOwnProperty(o)&&(M[o]=i[o])};function a(M,i){s(M,i);function o(){this.constructor=M}M.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function d(M,i){var o=Object.setPrototypeOf;o?o(M,i):M.__proto__=i}function g(M,i){i===void 0&&(i=M.constructor);var o=Error.captureStackTrace;o&&o(M,i)}var v=function(M){a(i,M);function i(o){var l=this.constructor,f=M.call(this,o)||this;return Object.defineProperty(f,"name",{value:l.name,enumerable:!1}),d(f,l.prototype),g(f),f}return i}(Error);class x extends v{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}x.kind="Exception";class y extends x{}y.kind="ArgumentException";class E extends x{}E.kind="IllegalArgumentException";class _{constructor(i){if(this.binarizer=i,i===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,l,f){const h=this.binarizer.getLuminanceSource().crop(i,o,l,f);return new _(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends x{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class S{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(i,o,l,f,h){for(;h--;)l[f++]=i[o++]}static currentTimeMillis(){return Date.now()}}class O extends x{}O.kind="IndexOutOfBoundsException";class I extends O{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}I.kind="ArrayIndexOutOfBoundsException";class D{static fill(i,o){for(let l=0,f=i.length;l<f;l++)i[l]=o}static fillWithin(i,o,l,f){D.rangeCheck(i.length,o,l);for(let h=o;h<l;h++)i[h]=f}static rangeCheck(i,o,l){if(o>l)throw new E("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new I(o);if(l>i)throw new I(l)}static asList(...i){return i}static create(i,o,l){return Array.from({length:i}).map(h=>Array.from({length:o}).fill(l))}static createInt32Array(i,o,l){return Array.from({length:i}).map(h=>Int32Array.from({length:o}).fill(l))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let l=0,f=i.length;l<f;l++)if(i[l]!==o[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const l of i)o=31*o+l;return o}static fillUint8Array(i,o){for(let l=0;l!==i.length;l++)i[l]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const l=new Uint8Array(o);return l.set(i),l}return i.slice(0,o)}static copyOfRange(i,o,l){const f=l-o,h=new Int32Array(f);return R.arraycopy(i,o,h,0,f),h}static binarySearch(i,o,l){l===void 0&&(l=D.numberComparator);let f=0,h=i.length-1;for(;f<=h;){const m=h+f>>1,w=l(o,i[m]);if(w>0)f=m+1;else if(w<0)h=m-1;else return m}return-f-1}static numberComparator(i,o){return i-o}}class j{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let l=31;return o=i<<16,o!==0&&(l-=16,i=o),o=i<<8,o!==0&&(l-=8,i=o),o=i<<4,o!==0&&(l-=4,i=o),o=i<<2,o!==0&&(l-=2,i=o),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}j.MIN_VALUE_32_BITS=-2147483648,j.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=q.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=q.makeArray(i);R.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const l=this.bits;let f=Math.floor(i/32),h=l[f];h&=~((1<<(i&31))-1);const m=l.length;for(;h===0;){if(++f===m)return o;h=l[f]}const w=f*32+j.numberOfTrailingZeros(h);return w>o?o:w}getNextUnset(i){const o=this.size;if(i>=o)return o;const l=this.bits;let f=Math.floor(i/32),h=~l[f];h&=~((1<<(i&31))-1);const m=l.length;for(;h===0;){if(++f===m)return o;h=~l[f]}const w=f*32+j.numberOfTrailingZeros(h);return w>o?o:w}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new E;if(o===i)return;o--;const l=Math.floor(i/32),f=Math.floor(o/32),h=this.bits;for(let m=l;m<=f;m++){const w=m>l?0:i&31,N=(2<<(m<f?31:o&31))-(1<<w);h[m]|=N}}clear(){const i=this.bits.length,o=this.bits;for(let l=0;l<i;l++)o[l]=0}isRange(i,o,l){if(o<i||i<0||o>this.size)throw new E;if(o===i)return!0;o--;const f=Math.floor(i/32),h=Math.floor(o/32),m=this.bits;for(let w=f;w<=h;w++){const C=w>f?0:i&31,T=(2<<(w<h?31:o&31))-(1<<C)&4294967295;if((m[w]&T)!==(l?T:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new E("Sizes don't match");const o=this.bits;for(let l=0,f=o.length;l<f;l++)o[l]^=i.bits[l]}toBytes(i,o,l,f){for(let h=0;h<f;h++){let m=0;for(let w=0;w<8;w++)this.get(i)&&(m|=1<<7-w),i++;o[l+h]=m}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,f=this.bits;for(let h=0;h<l;h++){let m=f[h];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,i[o-h]=m}if(this.size!==l*32){const h=l*32-this.size;let m=i[0]>>>h;for(let w=1;w<l;w++){const C=i[w];m|=C<<32-h,i[w-1]=m,m=C>>>h}i[l-1]=m}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof q))return!1;const o=i;return this.size===o.size&&D.equals(this.bits,o.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let i="";for(let o=0,l=this.size;o<l;o++)o&7||(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new q(this.size,this.bits.slice())}}var Q;(function(M){M[M.OTHER=0]="OTHER",M[M.PURE_BARCODE=1]="PURE_BARCODE",M[M.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",M[M.TRY_HARDER=3]="TRY_HARDER",M[M.CHARACTER_SET=4]="CHARACTER_SET",M[M.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",M[M.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",M[M.ASSUME_GS1=7]="ASSUME_GS1",M[M.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",M[M.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",M[M.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var B=Q;class F extends x{static getFormatInstance(){return new F}}F.kind="FormatException";var V;(function(M){M[M.Cp437=0]="Cp437",M[M.ISO8859_1=1]="ISO8859_1",M[M.ISO8859_2=2]="ISO8859_2",M[M.ISO8859_3=3]="ISO8859_3",M[M.ISO8859_4=4]="ISO8859_4",M[M.ISO8859_5=5]="ISO8859_5",M[M.ISO8859_6=6]="ISO8859_6",M[M.ISO8859_7=7]="ISO8859_7",M[M.ISO8859_8=8]="ISO8859_8",M[M.ISO8859_9=9]="ISO8859_9",M[M.ISO8859_10=10]="ISO8859_10",M[M.ISO8859_11=11]="ISO8859_11",M[M.ISO8859_13=12]="ISO8859_13",M[M.ISO8859_14=13]="ISO8859_14",M[M.ISO8859_15=14]="ISO8859_15",M[M.ISO8859_16=15]="ISO8859_16",M[M.SJIS=16]="SJIS",M[M.Cp1250=17]="Cp1250",M[M.Cp1251=18]="Cp1251",M[M.Cp1252=19]="Cp1252",M[M.Cp1256=20]="Cp1256",M[M.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",M[M.UTF8=22]="UTF8",M[M.ASCII=23]="ASCII",M[M.Big5=24]="Big5",M[M.GB18030=25]="GB18030",M[M.EUC_KR=26]="EUC_KR"})(V||(V={}));class W{constructor(i,o,l,...f){this.valueIdentifier=i,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,W.VALUE_IDENTIFIER_TO_ECI.set(i,this),W.NAME_TO_ECI.set(l,this);const h=this.values;for(let m=0,w=h.length;m!==w;m++){const C=h[m];W.VALUES_TO_ECI.set(C,this)}for(const m of f)W.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new F("incorect value");const o=W.VALUES_TO_ECI.get(i);if(o===void 0)throw new F("incorect value");return o}static getCharacterSetECIByName(i){const o=W.NAME_TO_ECI.get(i);if(o===void 0)throw new F("incorect value");return o}equals(i){if(!(i instanceof W))return!1;const o=i;return this.getName()===o.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(V.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(V.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(V.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(V.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(V.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(V.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(V.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(V.Big5,28,"Big5"),W.GB18030=new W(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(V.EUC_KR,30,"EUC_KR","EUC-KR");class se extends x{}se.kind="UnsupportedOperationException";class le{static decode(i,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!le.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof W?i:W.getCharacterSetECIByName(i)}static decodeFallback(i,o){const l=this.encodingCharacterSet(o);if(le.isDecodeFallbackSupported(l)){let f="";for(let h=0,m=i.length;h<m;h++){let w=i[h].toString(16);w.length<2&&(w="0"+w),f+="%"+w}return decodeURIComponent(f)}if(l.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new se(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(W.UTF8)||i.equals(W.ISO8859_1)||i.equals(W.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),f=[];for(let h=0;h<l.length;h++)f.push(l[h].charCodeAt(0));return new Uint8Array(f)}}class ie{static castAsNonUtf8Char(i,o=null){const l=o?o.getName():this.ISO88591;return le.decode(new Uint8Array([i]),l)}static guessEncoding(i,o){if(o!=null&&o.get(B.CHARACTER_SET)!==void 0)return o.get(B.CHARACTER_SET).toString();const l=i.length;let f=!0,h=!0,m=!0,w=0,C=0,N=0,T=0,P=0,H=0,Z=0,z=0,G=0,X=0,ee=0;const he=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let me=0;me<l&&(f||h||m);me++){const ge=i[me]&255;m&&(w>0?ge&128?w--:m=!1:ge&128&&(ge&64?(w++,ge&32?(w++,ge&16?(w++,ge&8?m=!1:T++):N++):C++):m=!1)),f&&(ge>127&&ge<160?f=!1:ge>159&&(ge<192||ge===215||ge===247)&&ee++),h&&(P>0?ge<64||ge===127||ge>252?h=!1:P--:ge===128||ge===160||ge>239?h=!1:ge>160&&ge<224?(H++,z=0,Z++,Z>G&&(G=Z)):ge>127?(P++,Z=0,z++,z>X&&(X=z)):(Z=0,z=0))}return m&&w>0&&(m=!1),h&&P>0&&(h=!1),m&&(he||C+N+T>0)?ie.UTF8:h&&(ie.ASSUME_SHIFT_JIS||G>=3||X>=3)?ie.SHIFT_JIS:f&&h?G===2&&H===2||ee*10>=l?ie.SHIFT_JIS:ie.ISO88591:f?ie.ISO88591:h?ie.SHIFT_JIS:m?ie.UTF8:ie.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let l=-1;function f(m,w,C,N,T,P){if(m==="%%")return"%";if(o[++l]===void 0)return;m=N?parseInt(N.substr(1)):void 0;let H=T?parseInt(T.substr(1)):void 0,Z;switch(P){case"s":Z=o[l];break;case"c":Z=o[l][0];break;case"f":Z=parseFloat(o[l]).toFixed(m);break;case"p":Z=parseFloat(o[l]).toPrecision(m);break;case"e":Z=parseFloat(o[l]).toExponential(m);break;case"x":Z=parseInt(o[l]).toString(H||16);break;case"d":Z=parseFloat(parseInt(o[l],H||10).toPrecision(m)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(H);let z=parseInt(C),G=C&&C[0]+""=="0"?"0":" ";for(;Z.length<z;)Z=w!==void 0?Z+G:G+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,f)}static getBytes(i,o){return le.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}ie.SHIFT_JIS=W.SJIS.getName(),ie.GB2312="GB2312",ie.ISO88591=W.ISO8859_1.getName(),ie.EUC_JP="EUC_JP",ie.UTF8=W.UTF8.getName(),ie.PLATFORM_DEFAULT_ENCODING=ie.UTF8,ie.ASSUME_SHIFT_JIS=!1;class ce{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=ie.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,l){for(let f=o;o<o+l;f++)this.append(i[f]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class xe{constructor(i,o,l,f){if(this.width=i,this.height=o,this.rowSize=l,this.bits=f,o==null&&(o=i),this.height=o,i<1||o<1)throw new E("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,l=i[0].length,f=new xe(l,o);for(let h=0;h<o;h++){const m=i[h];for(let w=0;w<l;w++)m[w]&&f.set(w,h)}return f}static parseFromString(i,o,l){if(i===null)throw new E("stringRepresentation cannot be null");const f=new Array(i.length);let h=0,m=0,w=-1,C=0,N=0;for(;N<i.length;)if(i.charAt(N)===`
`||i.charAt(N)==="\r"){if(h>m){if(w===-1)w=h-m;else if(h-m!==w)throw new E("row lengths do not match");m=h,C++}N++}else if(i.substring(N,N+o.length)===o)N+=o.length,f[h]=!0,h++;else if(i.substring(N,N+l.length)===l)N+=l.length,f[h]=!1,h++;else throw new E("illegal character encountered: "+i.substring(N));if(h>m){if(w===-1)w=h-m;else if(h-m!==w)throw new E("row lengths do not match");C++}const T=new xe(w,C);for(let P=0;P<h;P++)f[P]&&T.set(Math.floor(P%w),Math.floor(P/w));return T}get(i,o){const l=o*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new E("input matrix dimensions do not match");const o=new q(Math.floor(this.width/32)+1),l=this.rowSize,f=this.bits;for(let h=0,m=this.height;h<m;h++){const w=h*l,C=i.getRow(h,o).getBitArray();for(let N=0;N<l;N++)f[w+N]^=C[N]}}clear(){const i=this.bits,o=i.length;for(let l=0;l<o;l++)i[l]=0}setRegion(i,o,l,f){if(o<0||i<0)throw new E("Left and top must be nonnegative");if(f<1||l<1)throw new E("Height and width must be at least 1");const h=i+l,m=o+f;if(m>this.height||h>this.width)throw new E("The region must fit inside the matrix");const w=this.rowSize,C=this.bits;for(let N=o;N<m;N++){const T=N*w;for(let P=i;P<h;P++)C[T+Math.floor(P/32)]|=1<<(P&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new q(this.width):o.clear();const l=this.rowSize,f=this.bits,h=i*l;for(let m=0;m<l;m++)o.setBulk(m*32,f[h+m]);return o}setRow(i,o){R.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let l=new q(i),f=new q(i);for(let h=0,m=Math.floor((o+1)/2);h<m;h++)l=this.getRow(h,l),f=this.getRow(o-1-h,f),l.reverse(),f.reverse(),this.setRow(h,f),this.setRow(o-1-h,l)}getEnclosingRectangle(){const i=this.width,o=this.height,l=this.rowSize,f=this.bits;let h=i,m=o,w=-1,C=-1;for(let N=0;N<o;N++)for(let T=0;T<l;T++){const P=f[N*l+T];if(P!==0){if(N<m&&(m=N),N>C&&(C=N),T*32<h){let H=0;for(;!(P<<31-H&4294967295);)H++;T*32+H<h&&(h=T*32+H)}if(T*32+31>w){let H=31;for(;!(P>>>H);)H--;T*32+H>w&&(w=T*32+H)}}}return w<h||C<m?null:Int32Array.from([h,m,w-h+1,C-m+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const f=l/i;let h=l%i*32;const m=o[l];let w=0;for(;!(m<<31-w&4294967295);)w++;return h+=w,Int32Array.from([h,f])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const f=Math.floor(l/i);let h=Math.floor(l%i)*32;const m=o[l];let w=31;for(;!(m>>>w);)w--;return h+=w,Int32Array.from([h,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof xe))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&D.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+D.hashCode(this.bits),i}toString(i="X ",o="  ",l=`
`){return this.buildToString(i,o,l)}buildToString(i,o,l){let f=new ce;for(let h=0,m=this.height;h<m;h++){for(let w=0,C=this.width;w<C;w++)f.append(this.get(w,h)?i:o);f.append(l)}return f.toString()}clone(){return new xe(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends x{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class Se extends S{constructor(i){super(i),this.luminances=Se.EMPTY,this.buckets=new Int32Array(Se.LUMINANCE_BUCKETS)}getBlackRow(i,o){const l=this.getLuminanceSource(),f=l.getWidth();o==null||o.getSize()<f?o=new q(f):o.clear(),this.initArrays(f);const h=l.getRow(i,this.luminances),m=this.buckets;for(let C=0;C<f;C++)m[(h[C]&255)>>Se.LUMINANCE_SHIFT]++;const w=Se.estimateBlackPoint(m);if(f<3)for(let C=0;C<f;C++)(h[C]&255)<w&&o.set(C);else{let C=h[0]&255,N=h[1]&255;for(let T=1;T<f-1;T++){const P=h[T+1]&255;(N*4-C-P)/2<w&&o.set(T),C=N,N=P}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight(),f=new xe(o,l);this.initArrays(o);const h=this.buckets;for(let C=1;C<5;C++){const N=Math.floor(l*C/5),T=i.getRow(N,this.luminances),P=Math.floor(o*4/5);for(let H=Math.floor(o/5);H<P;H++){const Z=T[H]&255;h[Z>>Se.LUMINANCE_SHIFT]++}}const m=Se.estimateBlackPoint(h),w=i.getMatrix();for(let C=0;C<l;C++){const N=C*o;for(let T=0;T<o;T++)(w[N+T]&255)<m&&f.set(T,C)}return f}createBinarizer(i){return new Se(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let l=0;l<Se.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(i){const o=i.length;let l=0,f=0,h=0;for(let T=0;T<o;T++)i[T]>h&&(f=T,h=i[T]),i[T]>l&&(l=i[T]);let m=0,w=0;for(let T=0;T<o;T++){const P=T-f,H=i[T]*P*P;H>w&&(m=T,w=H)}if(f>m){const T=f;f=m,m=T}if(m-f<=o/16)throw new re;let C=m-1,N=-1;for(let T=m-1;T>f;T--){const P=T-f,H=P*P*(m-T)*(l-i[T]);H>N&&(C=T,N=H)}return C<<Se.LUMINANCE_SHIFT}}Se.LUMINANCE_BITS=5,Se.LUMINANCE_SHIFT=8-Se.LUMINANCE_BITS,Se.LUMINANCE_BUCKETS=1<<Se.LUMINANCE_BITS,Se.EMPTY=Uint8ClampedArray.from([0]);class ye extends Se{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight();if(o>=ye.MINIMUM_DIMENSION&&l>=ye.MINIMUM_DIMENSION){const f=i.getMatrix();let h=o>>ye.BLOCK_SIZE_POWER;o&ye.BLOCK_SIZE_MASK&&h++;let m=l>>ye.BLOCK_SIZE_POWER;l&ye.BLOCK_SIZE_MASK&&m++;const w=ye.calculateBlackPoints(f,h,m,o,l),C=new xe(o,l);ye.calculateThresholdForBlock(f,h,m,o,l,w,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ye(i)}static calculateThresholdForBlock(i,o,l,f,h,m,w){const C=h-ye.BLOCK_SIZE,N=f-ye.BLOCK_SIZE;for(let T=0;T<l;T++){let P=T<<ye.BLOCK_SIZE_POWER;P>C&&(P=C);const H=ye.cap(T,2,l-3);for(let Z=0;Z<o;Z++){let z=Z<<ye.BLOCK_SIZE_POWER;z>N&&(z=N);const G=ye.cap(Z,2,o-3);let X=0;for(let he=-2;he<=2;he++){const me=m[H+he];X+=me[G-2]+me[G-1]+me[G]+me[G+1]+me[G+2]}const ee=X/25;ye.thresholdBlock(i,z,P,ee,f,w)}}}static cap(i,o,l){return i<o?o:i>l?l:i}static thresholdBlock(i,o,l,f,h,m){for(let w=0,C=l*h+o;w<ye.BLOCK_SIZE;w++,C+=h)for(let N=0;N<ye.BLOCK_SIZE;N++)(i[C+N]&255)<=f&&m.set(o+N,l+w)}static calculateBlackPoints(i,o,l,f,h){const m=h-ye.BLOCK_SIZE,w=f-ye.BLOCK_SIZE,C=new Array(l);for(let N=0;N<l;N++){C[N]=new Int32Array(o);let T=N<<ye.BLOCK_SIZE_POWER;T>m&&(T=m);for(let P=0;P<o;P++){let H=P<<ye.BLOCK_SIZE_POWER;H>w&&(H=w);let Z=0,z=255,G=0;for(let ee=0,he=T*f+H;ee<ye.BLOCK_SIZE;ee++,he+=f){for(let me=0;me<ye.BLOCK_SIZE;me++){const ge=i[he+me]&255;Z+=ge,ge<z&&(z=ge),ge>G&&(G=ge)}if(G-z>ye.MIN_DYNAMIC_RANGE)for(ee++,he+=f;ee<ye.BLOCK_SIZE;ee++,he+=f)for(let me=0;me<ye.BLOCK_SIZE;me++)Z+=i[he+me]&255}let X=Z>>ye.BLOCK_SIZE_POWER*2;if(G-z<=ye.MIN_DYNAMIC_RANGE&&(X=z/2,N>0&&P>0)){const ee=(C[N-1][P]+2*C[N][P-1]+C[N-1][P-1])/4;z<ee&&(X=ee)}C[N][P]=X}}return C}}ye.BLOCK_SIZE_POWER=3,ye.BLOCK_SIZE=1<<ye.BLOCK_SIZE_POWER,ye.BLOCK_SIZE_MASK=ye.BLOCK_SIZE-1,ye.MINIMUM_DIMENSION=ye.BLOCK_SIZE*5,ye.MIN_DYNAMIC_RANGE=24;class ue{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,l,f){throw new se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new se("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new ce;for(let l=0;l<this.height;l++){const f=this.getRow(l,i);for(let h=0;h<this.width;h++){const m=f[h]&255;let w;m<64?w="#":m<128?w="+":m<192?w=".":w=" ",o.append(w)}o.append(`
`)}return o.toString()}}class _e extends ue{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const l=this.delegate.getRow(i,o),f=this.getWidth();for(let h=0;h<f;h++)l[h]=255-(l[h]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let f=0;f<o;f++)l[f]=255-(i[f]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,l,f){return new _e(this.delegate.crop(i,o,l,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new _e(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new _e(this.delegate.rotateCounterClockwise45())}}class Re extends ue{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=Re.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return Re.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,l){const f=new Uint8ClampedArray(o*l);for(let h=0,m=0,w=i.length;h<w;h+=4,m++){let C;if(i[h+3]===0)C=255;else{const T=i[h],P=i[h+1],H=i[h+2];C=306*T+601*P+117*H+512>>10}f[m]=C}return f}getRow(i,o){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const l=this.getWidth(),f=i*l;return o===null?o=this.buffer.slice(f,f+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(f,f+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,l,f){return super.crop(i,o,l,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),l=o.getContext("2d"),f=i*Re.DEGREE_TO_RADIANS,h=this.canvas.width,m=this.canvas.height,w=Math.ceil(Math.abs(Math.cos(f))*h+Math.abs(Math.sin(f))*m),C=Math.ceil(Math.abs(Math.sin(f))*h+Math.abs(Math.cos(f))*m);return o.width=w,o.height=C,l.translate(w/2,C/2),l.rotate(f),l.drawImage(this.canvas,h/-2,m/-2),this.buffer=Re.makeBufferFromCanvasImageData(o),this}invert(){return new _e(this)}}Re.DEGREE_TO_RADIANS=Math.PI/180;class Oe{constructor(i,o,l){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Je=(globalThis||_s||self||window||void 0)&&(globalThis||_s||self||window||void 0).__awaiter||function(M,i,o,l){function f(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function w(T){try{N(l.next(T))}catch(P){m(P)}}function C(T){try{N(l.throw(T))}catch(P){m(P)}}function N(T){T.done?h(T.value):f(T.value).then(w,C)}N((l=l.apply(M,i||[])).next())})};class cn{constructor(i,o=500,l){this.reader=i,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return Je(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of i){const f=l.kind==="video"?"videoinput":l.kind;if(f!=="videoinput")continue;const h=l.deviceId||l.id,m=l.label||`Video device ${o.length+1}`,w=l.groupId,C={deviceId:h,label:m,kind:f,groupId:w};o.push(C)}return o})}getVideoInputDevices(){return Je(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Oe(o.deviceId,o.label))})}findDeviceById(i){return Je(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return Je(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return Je(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const f={video:l};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(i,o){return Je(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(i,o){return Je(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,o,l){return Je(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,l)})}decodeFromVideoDevice(i,o,l){return Je(this,void 0,void 0,function*(){let f;i?f={deviceId:{exact:i}}:f={facingMode:"environment"};const h={video:f};return yield this.decodeFromConstraints(h,o,l)})}decodeFromConstraints(i,o,l){return Je(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(f,o,l)})}decodeFromStream(i,o,l){return Je(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(f,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return Je(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((o,l)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return Je(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const l=document.getElementById(i);if(!l)throw new y(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new y(`element with id '${i}' must be an ${o} element`);return l}decodeFromImage(i,o){if(!i&&!o)throw new y("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new y("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,l){if(i===void 0&&o===void 0)throw new y("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new y("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(i){if(!i)throw new y("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new y("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=i,l}decodeFromVideoUrl(i){if(!i)throw new y("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=i,l}decodeFromVideoUrlContinuously(i,o){if(!i)throw new y("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(l,o);return l.src=i,f}_decodeOnLoadImage(i){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return Je(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return Je(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,l=!0){this._stopAsyncDecode=!1;const f=(h,m)=>{if(this._stopAsyncDecode){m(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const w=this.decode(i);h(w)}catch(w){const C=o&&w instanceof re,T=(w instanceof k||w instanceof F)&&l;if(C||T)return setTimeout(f,this._timeBetweenDecodingAttempts,h,m);m(w)}};return new Promise((h,m)=>f(h,m))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(i);o(f,null),setTimeout(l,this.timeBetweenScansMillis)}catch(f){o(null,f);const h=f instanceof k||f instanceof F,m=f instanceof re;(h||m)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,l){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),l=new Re(o),f=new ye(l);return new _(f)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,f;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,f=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,f=i.naturalHeight||i.height)),o.style.width=l+"px",o.style.height=f+"px",o.width=l,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class mt{constructor(i,o,l=o==null?0:8*o.length,f,h,m=R.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=l,this.resultPoints=f,this.format=h,this.timestamp=m,this.text=i,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=f,this.format=h,this.resultMetadata=null,m==null?this.timestamp=R.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(o.length+i.length);R.arraycopy(o,0,l,0,o.length),R.arraycopy(i,0,l,o.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ie;(function(M){M[M.AZTEC=0]="AZTEC",M[M.CODABAR=1]="CODABAR",M[M.CODE_39=2]="CODE_39",M[M.CODE_93=3]="CODE_93",M[M.CODE_128=4]="CODE_128",M[M.DATA_MATRIX=5]="DATA_MATRIX",M[M.EAN_8=6]="EAN_8",M[M.EAN_13=7]="EAN_13",M[M.ITF=8]="ITF",M[M.MAXICODE=9]="MAXICODE",M[M.PDF_417=10]="PDF_417",M[M.QR_CODE=11]="QR_CODE",M[M.RSS_14=12]="RSS_14",M[M.RSS_EXPANDED=13]="RSS_EXPANDED",M[M.UPC_A=14]="UPC_A",M[M.UPC_E=15]="UPC_E",M[M.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ie||(Ie={}));var Ae=Ie,ot;(function(M){M[M.OTHER=0]="OTHER",M[M.ORIENTATION=1]="ORIENTATION",M[M.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",M[M.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",M[M.ISSUE_NUMBER=4]="ISSUE_NUMBER",M[M.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",M[M.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",M[M.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",M[M.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",M[M.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",M[M.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ot||(ot={}));var Qe=ot;class kn{constructor(i,o,l,f,h=-1,m=-1){this.rawBytes=i,this.text=o,this.byteSegments=l,this.ecLevel=f,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=m,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class sn{exp(i){return this.expTable[i]}log(i){if(i===0)throw new E;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class _t{constructor(i,o){if(o.length===0)throw new E;this.field=i;const l=o.length;if(l>1&&o[0]===0){let f=1;for(;f<l&&o[f]===0;)f++;f===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-f),R.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(i===1){l=0;for(let m=0,w=o.length;m!==w;m++){const C=o[m];l=sn.addOrSubtract(l,C)}return l}l=o[0];const f=o.length,h=this.field;for(let m=1;m<f;m++)l=sn.addOrSubtract(h.multiply(i,l),o[m]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){const m=o;o=l,l=m}let f=new Int32Array(l.length);const h=l.length-o.length;R.arraycopy(l,0,f,0,h);for(let m=h;m<l.length;m++)f[m]=sn.addOrSubtract(o[m-h],l[m]);return new _t(this.field,f)}multiply(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,f=i.coefficients,h=f.length,m=new Int32Array(l+h-1),w=this.field;for(let C=0;C<l;C++){const N=o[C];for(let T=0;T<h;T++)m[C+T]=sn.addOrSubtract(m[C+T],w.multiply(N,f[T]))}return new _t(w,m)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,l=this.field,f=new Int32Array(o),h=this.coefficients;for(let m=0;m<o;m++)f[m]=l.multiply(h[m],i);return new _t(l,f)}multiplyByMonomial(i,o){if(i<0)throw new E;if(o===0)return this.field.getZero();const l=this.coefficients,f=l.length,h=new Int32Array(f+i),m=this.field;for(let w=0;w<f;w++)h[w]=m.multiply(l[w],o);return new _t(m,h)}divide(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new E("Divide by 0");const o=this.field;let l=o.getZero(),f=this;const h=i.getCoefficient(i.getDegree()),m=o.inverse(h);for(;f.getDegree()>=i.getDegree()&&!f.isZero();){const w=f.getDegree()-i.getDegree(),C=o.multiply(f.getCoefficient(f.getDegree()),m),N=i.multiplyByMonomial(w,C),T=o.buildMonomial(w,C);l=l.addOrSubtract(T),f=f.addOrSubtract(N)}return[l,f]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),o===0||l!==1){const f=this.field.log(l);f===0?i+="1":f===1?i+="a":(i+="a^",i+=f)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class Ne extends x{}Ne.kind="ArithmeticException";class Le extends sn{constructor(i,o,l){super(),this.primitive=i,this.size=o,this.generatorBase=l;const f=new Int32Array(o);let h=1;for(let w=0;w<o;w++)f[w]=h,h*=2,h>=o&&(h^=i,h&=o-1);this.expTable=f;const m=new Int32Array(o);for(let w=0;w<o-1;w++)m[f[w]]=w;this.logTable=m,this.zero=new _t(this,Int32Array.from([0])),this.one=new _t(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new E;if(o===0)return this.zero;const l=new Int32Array(i+1);return l[0]=o,new _t(this,l)}inverse(i){if(i===0)throw new Ne;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+j.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Le.AZTEC_DATA_12=new Le(4201,4096,1),Le.AZTEC_DATA_10=new Le(1033,1024,1),Le.AZTEC_DATA_6=new Le(67,64,1),Le.AZTEC_PARAM=new Le(19,16,1),Le.QR_CODE_FIELD_256=new Le(285,256,0),Le.DATA_MATRIX_FIELD_256=new Le(301,256,1),Le.AZTEC_DATA_8=Le.DATA_MATRIX_FIELD_256,Le.MAXICODE_FIELD_64=Le.AZTEC_DATA_6;class ft extends x{}ft.kind="ReedSolomonException";class an extends x{}an.kind="IllegalStateException";class Ei{constructor(i){this.field=i}decode(i,o){const l=this.field,f=new _t(l,i),h=new Int32Array(o);let m=!0;for(let Z=0;Z<o;Z++){const z=f.evaluateAt(l.exp(Z+l.getGeneratorBase()));h[h.length-1-Z]=z,z!==0&&(m=!1)}if(m)return;const w=new _t(l,h),C=this.runEuclideanAlgorithm(l.buildMonomial(o,1),w,o),N=C[0],T=C[1],P=this.findErrorLocations(N),H=this.findErrorMagnitudes(T,P);for(let Z=0;Z<P.length;Z++){const z=i.length-1-l.log(P[Z]);if(z<0)throw new ft("Bad error location");i[z]=Le.addOrSubtract(i[z],H[Z])}}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){const Z=i;i=o,o=Z}const f=this.field;let h=i,m=o,w=f.getZero(),C=f.getOne();for(;m.getDegree()>=(l/2|0);){let Z=h,z=w;if(h=m,w=C,h.isZero())throw new ft("r_{i-1} was zero");m=Z;let G=f.getZero();const X=h.getCoefficient(h.getDegree()),ee=f.inverse(X);for(;m.getDegree()>=h.getDegree()&&!m.isZero();){const he=m.getDegree()-h.getDegree(),me=f.multiply(m.getCoefficient(m.getDegree()),ee);G=G.addOrSubtract(f.buildMonomial(he,me)),m=m.addOrSubtract(h.multiplyByMonomial(he,me))}if(C=G.multiply(w).addOrSubtract(z),m.getDegree()>=h.getDegree())throw new an("Division algorithm failed to reduce polynomial?")}const N=C.getCoefficient(0);if(N===0)throw new ft("sigmaTilde(0) was zero");const T=f.inverse(N),P=C.multiplyScalar(T),H=m.multiplyScalar(T);return[P,H]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(o);let f=0;const h=this.field;for(let m=1;m<h.getSize()&&f<o;m++)i.evaluateAt(m)===0&&(l[f]=h.inverse(m),f++);if(f!==o)throw new ft("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,o){const l=o.length,f=new Int32Array(l),h=this.field;for(let m=0;m<l;m++){const w=h.inverse(o[m]);let C=1;for(let N=0;N<l;N++)if(m!==N){const T=h.multiply(o[N],w),P=T&1?T&-2:T|1;C=h.multiply(C,P)}f[m]=h.multiply(i.evaluateAt(w),h.inverse(C)),h.getGeneratorBase()!==0&&(f[m]=h.multiply(f[m],w))}return f}}var Ct;(function(M){M[M.UPPER=0]="UPPER",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.DIGIT=3]="DIGIT",M[M.PUNCT=4]="PUNCT",M[M.BINARY=5]="BINARY"})(Ct||(Ct={}));class St{decode(i){this.ddata=i;let o=i.getBits(),l=this.extractBits(o),f=this.correctBits(l),h=St.convertBoolArrayToByteArray(f),m=St.getEncodedData(f),w=new kn(h,m,null,null);return w.setNumBits(f.length),w}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,l=Ct.UPPER,f=Ct.UPPER,h="",m=0;for(;m<o;)if(f===Ct.BINARY){if(o-m<5)break;let w=St.readCode(i,m,5);if(m+=5,w===0){if(o-m<11)break;w=St.readCode(i,m,11)+31,m+=11}for(let C=0;C<w;C++){if(o-m<8){m=o;break}const N=St.readCode(i,m,8);h+=ie.castAsNonUtf8Char(N),m+=8}f=l}else{let w=f===Ct.DIGIT?4:5;if(o-m<w)break;let C=St.readCode(i,m,w);m+=w;let N=St.getCharacter(f,C);N.startsWith("CTRL_")?(l=f,f=St.getTable(N.charAt(5)),N.charAt(6)==="L"&&(l=f)):(h+=N,f=l)}return h}static getTable(i){switch(i){case"L":return Ct.LOWER;case"P":return Ct.PUNCT;case"M":return Ct.MIXED;case"D":return Ct.DIGIT;case"B":return Ct.BINARY;case"U":default:return Ct.UPPER}}static getCharacter(i,o){switch(i){case Ct.UPPER:return St.UPPER_TABLE[o];case Ct.LOWER:return St.LOWER_TABLE[o];case Ct.MIXED:return St.MIXED_TABLE[o];case Ct.PUNCT:return St.PUNCT_TABLE[o];case Ct.DIGIT:return St.DIGIT_TABLE[o];default:throw new an("Bad table")}}correctBits(i){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=Le.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=Le.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=Le.AZTEC_DATA_10):(l=12,o=Le.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),h=i.length/l;if(h<f)throw new F;let m=i.length%l,w=new Int32Array(h);for(let H=0;H<h;H++,m+=l)w[H]=St.readCode(i,m,l);try{new Ei(o).decode(w,h-f)}catch(H){throw new F(H)}let C=(1<<l)-1,N=0;for(let H=0;H<f;H++){let Z=w[H];if(Z===0||Z===C)throw new F;(Z===1||Z===C-1)&&N++}let T=new Array(f*l-N),P=0;for(let H=0;H<f;H++){let Z=w[H];if(Z===1||Z===C-1)T.fill(Z>1,P,P+l-1),P+=l-1;else for(let z=l-1;z>=0;--z)T[P++]=(Z&1<<z)!==0}return T}extractBits(i){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),f=(o?11:14)+l*4,h=new Int32Array(f),m=new Array(this.totalBitsInLayer(l,o));if(o)for(let w=0;w<h.length;w++)h[w]=w;else{let w=f+1+2*j.truncDivision(j.truncDivision(f,2)-1,15),C=f/2,N=j.truncDivision(w,2);for(let T=0;T<C;T++){let P=T+j.truncDivision(T,15);h[C-T-1]=N-P-1,h[C+T]=N+P+1}}for(let w=0,C=0;w<l;w++){let N=(l-w)*4+(o?9:12),T=w*2,P=f-1-T;for(let H=0;H<N;H++){let Z=H*2;for(let z=0;z<2;z++)m[C+Z+z]=i.get(h[T+z],h[T+H]),m[C+2*N+Z+z]=i.get(h[T+H],h[P-z]),m[C+4*N+Z+z]=i.get(h[P-z],h[P-H]),m[C+6*N+Z+z]=i.get(h[P-H],h[T+z])}C+=N*8}return m}static readCode(i,o,l){let f=0;for(let h=o;h<o+l;h++)f<<=1,i[h]&&(f|=1);return f}static readByte(i,o){let l=i.length-o;return l>=8?St.readCode(i,o,8):St.readCode(i,o,l)<<8-l}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let l=0;l<o.length;l++)o[l]=St.readByte(i,8*l);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}St.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],St.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],St.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],St.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],St.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class lt{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,l,f){const h=i-l,m=o-f;return Math.sqrt(h*h+m*m)}static sum(i){let o=0;for(let l=0,f=i.length;l!==f;l++){const h=i[l];o+=h}return o}}class je{static floatToIntBits(i){return i}}je.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ce{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Ce){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*je.floatToIntBits(this.x)+je.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),f=this.distance(i[0],i[2]);let h,m,w;if(l>=o&&l>=f?(m=i[0],h=i[1],w=i[2]):f>=l&&f>=o?(m=i[1],h=i[0],w=i[2]):(m=i[2],h=i[0],w=i[1]),this.crossProductZ(h,m,w)<0){const C=h;h=w,w=C}i[0]=h,i[1]=m,i[2]=w}static distance(i,o){return lt.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,l){const f=o.x,h=o.y;return(l.x-f)*(i.y-h)-(l.y-h)*(i.x-f)}}class Fn{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class fr extends Fn{constructor(i,o,l,f,h){super(i,o),this.compact=l,this.nbDatablocks=f,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class De{constructor(i,o,l,f){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=De.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),f==null&&(f=i.getHeight()/2|0);const h=o/2|0;if(this.leftInit=l-h,this.rightInit=l+h,this.upInit=f-h,this.downInit=f+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let i=this.leftInit,o=this.rightInit,l=this.upInit,f=this.downInit,h=!1,m=!0,w=!1,C=!1,N=!1,T=!1,P=!1;const H=this.width,Z=this.height;for(;m;){m=!1;let z=!0;for(;(z||!C)&&o<H;)z=this.containsBlackPoint(l,f,o,!1),z?(o++,m=!0,C=!0):C||o++;if(o>=H){h=!0;break}let G=!0;for(;(G||!N)&&f<Z;)G=this.containsBlackPoint(i,o,f,!0),G?(f++,m=!0,N=!0):N||f++;if(f>=Z){h=!0;break}let X=!0;for(;(X||!T)&&i>=0;)X=this.containsBlackPoint(l,f,i,!1),X?(i--,m=!0,T=!0):T||i--;if(i<0){h=!0;break}let ee=!0;for(;(ee||!P)&&l>=0;)ee=this.containsBlackPoint(i,o,l,!0),ee?(l--,m=!0,P=!0):P||l--;if(l<0){h=!0;break}m&&(w=!0)}if(!h&&w){const z=o-i;let G=null;for(let me=1;G===null&&me<z;me++)G=this.getBlackPointOnSegment(i,f-me,i+me,f);if(G==null)throw new re;let X=null;for(let me=1;X===null&&me<z;me++)X=this.getBlackPointOnSegment(i,l+me,i+me,l);if(X==null)throw new re;let ee=null;for(let me=1;ee===null&&me<z;me++)ee=this.getBlackPointOnSegment(o,l+me,o-me,l);if(ee==null)throw new re;let he=null;for(let me=1;he===null&&me<z;me++)he=this.getBlackPointOnSegment(o,f-me,o-me,f);if(he==null)throw new re;return this.centerEdges(he,G,ee,X)}else throw new re}getBlackPointOnSegment(i,o,l,f){const h=lt.round(lt.distance(i,o,l,f)),m=(l-i)/h,w=(f-o)/h,C=this.image;for(let N=0;N<h;N++){const T=lt.round(i+N*m),P=lt.round(o+N*w);if(C.get(T,P))return new Ce(T,P)}return null}centerEdges(i,o,l,f){const h=i.getX(),m=i.getY(),w=o.getX(),C=o.getY(),N=l.getX(),T=l.getY(),P=f.getX(),H=f.getY(),Z=De.CORR;return h<this.width/2?[new Ce(P-Z,H+Z),new Ce(w+Z,C+Z),new Ce(N-Z,T-Z),new Ce(h+Z,m-Z)]:[new Ce(P+Z,H+Z),new Ce(w+Z,C-Z),new Ce(N-Z,T+Z),new Ce(h-Z,m-Z)]}containsBlackPoint(i,o,l,f){const h=this.image;if(f){for(let m=i;m<=o;m++)if(h.get(m,l))return!0}else for(let m=i;m<=o;m++)if(h.get(l,m))return!0;return!1}}De.INIT_SIZE=10,De.CORR=1;class Ge{static checkAndNudgePoints(i,o){const l=i.getWidth(),f=i.getHeight();let h=!0;for(let m=0;m<o.length&&h;m+=2){const w=Math.floor(o[m]),C=Math.floor(o[m+1]);if(w<-1||w>l||C<-1||C>f)throw new re;h=!1,w===-1?(o[m]=0,h=!0):w===l&&(o[m]=l-1,h=!0),C===-1?(o[m+1]=0,h=!0):C===f&&(o[m+1]=f-1,h=!0)}h=!0;for(let m=o.length-2;m>=0&&h;m-=2){const w=Math.floor(o[m]),C=Math.floor(o[m+1]);if(w<-1||w>l||C<-1||C>f)throw new re;h=!1,w===-1?(o[m]=0,h=!0):w===l&&(o[m]=l-1,h=!0),C===-1?(o[m+1]=0,h=!0):C===f&&(o[m+1]=f-1,h=!0)}}}class Tt{constructor(i,o,l,f,h,m,w,C,N){this.a11=i,this.a21=o,this.a31=l,this.a12=f,this.a22=h,this.a32=m,this.a13=w,this.a23=C,this.a33=N}static quadrilateralToQuadrilateral(i,o,l,f,h,m,w,C,N,T,P,H,Z,z,G,X){const ee=Tt.quadrilateralToSquare(i,o,l,f,h,m,w,C);return Tt.squareToQuadrilateral(N,T,P,H,Z,z,G,X).times(ee)}transformPoints(i){const o=i.length,l=this.a11,f=this.a12,h=this.a13,m=this.a21,w=this.a22,C=this.a23,N=this.a31,T=this.a32,P=this.a33;for(let H=0;H<o;H+=2){const Z=i[H],z=i[H+1],G=h*Z+C*z+P;i[H]=(l*Z+m*z+N)/G,i[H+1]=(f*Z+w*z+T)/G}}transformPointsWithValues(i,o){const l=this.a11,f=this.a12,h=this.a13,m=this.a21,w=this.a22,C=this.a23,N=this.a31,T=this.a32,P=this.a33,H=i.length;for(let Z=0;Z<H;Z++){const z=i[Z],G=o[Z],X=h*z+C*G+P;i[Z]=(l*z+m*G+N)/X,o[Z]=(f*z+w*G+T)/X}}static squareToQuadrilateral(i,o,l,f,h,m,w,C){const N=i-l+h-w,T=o-f+m-C;if(N===0&&T===0)return new Tt(l-i,h-l,i,f-o,m-f,o,0,0,1);{const P=l-h,H=w-h,Z=f-m,z=C-m,G=P*z-H*Z,X=(N*z-H*T)/G,ee=(P*T-N*Z)/G;return new Tt(l-i+X*l,w-i+ee*w,i,f-o+X*f,C-o+ee*C,o,X,ee,1)}}static quadrilateralToSquare(i,o,l,f,h,m,w,C){return Tt.squareToQuadrilateral(i,o,l,f,h,m,w,C).buildAdjoint()}buildAdjoint(){return new Tt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new Tt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class en extends Ge{sampleGrid(i,o,l,f,h,m,w,C,N,T,P,H,Z,z,G,X,ee,he,me){const ge=Tt.quadrilateralToQuadrilateral(f,h,m,w,C,N,T,P,H,Z,z,G,X,ee,he,me);return this.sampleGridWithTransform(i,o,l,ge)}sampleGridWithTransform(i,o,l,f){if(o<=0||l<=0)throw new re;const h=new xe(o,l),m=new Float32Array(2*o);for(let w=0;w<l;w++){const C=m.length,N=w+.5;for(let T=0;T<C;T+=2)m[T]=T/2+.5,m[T+1]=N;f.transformPoints(m),Ge.checkAndNudgePoints(i,m);try{for(let T=0;T<C;T+=2)i.get(Math.floor(m[T]),Math.floor(m[T+1]))&&h.set(T/2,w)}catch{throw new re}}return h}}class Yt{static setGridSampler(i){Yt.gridSampler=i}static getInstance(){return Yt.gridSampler}}Yt.gridSampler=new en;class un{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new Ce(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ii{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(i){let m=l[0];l[0]=l[2],l[2]=m}this.extractParameters(l);let f=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),h=this.getMatrixCornerPoints(l);return new fr(f,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new re;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(l,o);let f=0;for(let m=0;m<4;m++){let w=l[(this.shift+m)%4];this.compact?(f<<=7,f+=w>>1&127):(f<<=10,f+=(w>>2&992)+(w>>1&31))}let h=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(i,o){let l=0;i.forEach((f,h,m)=>{let w=(f>>o-2<<1)+(f&1);l=(l<<3)+w}),l=((l&1)<<11)+(l>>1);for(let f=0;f<4;f++)if(j.bitCount(l^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new re}getCorrectedParameterData(i,o){let l,f;o?(l=7,f=2):(l=10,f=4);let h=l-f,m=new Int32Array(l);for(let C=l-1;C>=0;--C)m[C]=i&15,i>>=4;try{new Ei(Le.AZTEC_PARAM).decode(m,h)}catch{throw new re}let w=0;for(let C=0;C<f;C++)w=(w<<4)+m[C];return w}getBullsEyeCorners(i){let o=i,l=i,f=i,h=i,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let P=this.getFirstDifferent(o,m,1,-1),H=this.getFirstDifferent(l,m,1,1),Z=this.getFirstDifferent(f,m,-1,1),z=this.getFirstDifferent(h,m,-1,-1);if(this.nbCenterLayers>2){let G=this.distancePoint(z,P)*this.nbCenterLayers/(this.distancePoint(h,o)*(this.nbCenterLayers+2));if(G<.75||G>1.25||!this.isWhiteOrBlackRectangle(P,H,Z,z))break}o=P,l=H,f=Z,h=z,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let w=new Ce(o.getX()+.5,o.getY()-.5),C=new Ce(l.getX()+.5,l.getY()+.5),N=new Ce(f.getX()-.5,f.getY()+.5),T=new Ce(h.getX()-.5,h.getY()-.5);return this.expandSquare([w,C,N,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,l,f;try{let w=new De(this.image).detect();i=w[0],o=w[1],l=w[2],f=w[3]}catch{let C=this.image.getWidth()/2,N=this.image.getHeight()/2;i=this.getFirstDifferent(new un(C+7,N-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new un(C+7,N+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new un(C-7,N+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new un(C-7,N-7),!1,-1,-1).toResultPoint()}let h=lt.round((i.getX()+f.getX()+o.getX()+l.getX())/4),m=lt.round((i.getY()+f.getY()+o.getY()+l.getY())/4);try{let w=new De(this.image,15,h,m).detect();i=w[0],o=w[1],l=w[2],f=w[3]}catch{i=this.getFirstDifferent(new un(h+7,m-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new un(h+7,m+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new un(h-7,m+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new un(h-7,m-7),!1,-1,-1).toResultPoint()}return h=lt.round((i.getX()+f.getX()+o.getX()+l.getX())/4),m=lt.round((i.getY()+f.getY()+o.getY()+l.getY())/4),new un(h,m)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,l,f,h){let m=Yt.getInstance(),w=this.getDimension(),C=w/2-this.nbCenterLayers,N=w/2+this.nbCenterLayers;return m.sampleGrid(i,w,w,C,C,N,C,N,N,C,N,o.getX(),o.getY(),l.getX(),l.getY(),f.getX(),f.getY(),h.getX(),h.getY())}sampleLine(i,o,l){let f=0,h=this.distanceResultPoint(i,o),m=h/l,w=i.getX(),C=i.getY(),N=m*(o.getX()-i.getX())/h,T=m*(o.getY()-i.getY())/h;for(let P=0;P<l;P++)this.image.get(lt.round(w+P*N),lt.round(C+P*T))&&(f|=1<<l-P-1);return f}isWhiteOrBlackRectangle(i,o,l,f){let h=3;i=new un(i.getX()-h,i.getY()+h),o=new un(o.getX()-h,o.getY()-h),l=new un(l.getX()+h,l.getY()-h),f=new un(f.getX()+h,f.getY()+h);let m=this.getColor(f,i);if(m===0)return!1;let w=this.getColor(i,o);return w!==m||(w=this.getColor(o,l),w!==m)?!1:(w=this.getColor(l,f),w===m)}getColor(i,o){let l=this.distancePoint(i,o),f=(o.getX()-i.getX())/l,h=(o.getY()-i.getY())/l,m=0,w=i.getX(),C=i.getY(),N=this.image.get(i.getX(),i.getY()),T=Math.ceil(l);for(let H=0;H<T;H++)w+=f,C+=h,this.image.get(lt.round(w),lt.round(C))!==N&&m++;let P=m/l;return P>.1&&P<.9?0:P<=.1===N?1:-1}getFirstDifferent(i,o,l,f){let h=i.getX()+l,m=i.getY()+f;for(;this.isValid(h,m)&&this.image.get(h,m)===o;)h+=l,m+=f;for(h-=l,m-=f;this.isValid(h,m)&&this.image.get(h,m)===o;)h+=l;for(h-=l;this.isValid(h,m)&&this.image.get(h,m)===o;)m+=f;return m-=f,new un(h,m)}expandSquare(i,o,l){let f=l/(2*o),h=i[0].getX()-i[2].getX(),m=i[0].getY()-i[2].getY(),w=(i[0].getX()+i[2].getX())/2,C=(i[0].getY()+i[2].getY())/2,N=new Ce(w+f*h,C+f*m),T=new Ce(w-f*h,C-f*m);h=i[1].getX()-i[3].getX(),m=i[1].getY()-i[3].getY(),w=(i[1].getX()+i[3].getX())/2,C=(i[1].getY()+i[3].getY())/2;let P=new Ce(w+f*h,C+f*m),H=new Ce(w-f*h,C-f*m);return[N,P,T,H]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=lt.round(i.getX()),l=lt.round(i.getY());return this.isValid(o,l)}distancePoint(i,o){return lt.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return lt.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(j.truncDivision(this.nbLayers-4,8)+1)+15}}class Ni{decode(i,o=null){let l=null,f=new ii(i.getBlackMatrix()),h=null,m=null;try{let T=f.detectMirror(!1);h=T.getPoints(),this.reportFoundResultPoints(o,h),m=new St().decode(T)}catch(T){l=T}if(m==null)try{let T=f.detectMirror(!0);h=T.getPoints(),this.reportFoundResultPoints(o,h),m=new St().decode(T)}catch(T){throw l??T}let w=new mt(m.getText(),m.getRawBytes(),m.getNumBits(),h,Ae.AZTEC,R.currentTimeMillis()),C=m.getByteSegments();C!=null&&w.putMetadata(Qe.BYTE_SEGMENTS,C);let N=m.getECLevel();return N!=null&&w.putMetadata(Qe.ERROR_CORRECTION_LEVEL,N),w}reportFoundResultPoints(i,o){if(i!=null){let l=i.get(B.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((f,h,m)=>{l.foundPossibleResultPoint(f)})}}reset(){}}class Ms extends cn{constructor(i=500){super(new Ni,i)}}class Jt{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(B.TRY_HARDER)===!0&&i.isRotateSupported()){const h=i.rotateCounterClockwise(),m=this.doDecode(h,o),w=m.getResultMetadata();let C=270;w!==null&&w.get(Qe.ORIENTATION)===!0&&(C=C+w.get(Qe.ORIENTATION)%360),m.putMetadata(Qe.ORIENTATION,C);const N=m.getResultPoints();if(N!==null){const T=h.getHeight();for(let P=0;P<N.length;P++)N[P]=new Ce(T-N[P].getY()-1,N[P].getX())}return m}else throw new re}}reset(){}doDecode(i,o){const l=i.getWidth(),f=i.getHeight();let h=new q(l);const m=o&&o.get(B.TRY_HARDER)===!0,w=Math.max(1,f>>(m?8:5));let C;m?C=f:C=15;const N=Math.trunc(f/2);for(let T=0;T<C;T++){const P=Math.trunc((T+1)/2),H=(T&1)===0,Z=N+w*(H?P:-P);if(Z<0||Z>=f)break;try{h=i.getBlackRow(Z,h)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(h.reverse(),o&&o.get(B.NEED_RESULT_POINT_CALLBACK)===!0)){const G=new Map;o.forEach((X,ee)=>G.set(ee,X)),G.delete(B.NEED_RESULT_POINT_CALLBACK),o=G}try{const G=this.decodeRow(Z,h,o);if(z===1){G.putMetadata(Qe.ORIENTATION,180);const X=G.getResultPoints();X!==null&&(X[0]=new Ce(l-X[0].getX()-1,X[0].getY()),X[1]=new Ce(l-X[1].getX()-1,X[1].getY()))}return G}catch{}}}throw new re}static recordPattern(i,o,l){const f=l.length;for(let N=0;N<f;N++)l[N]=0;const h=i.getSize();if(o>=h)throw new re;let m=!i.get(o),w=0,C=o;for(;C<h;){if(i.get(C)!==m)l[w]++;else{if(++w===f)break;l[w]=1,m=!m}C++}if(!(w===f||w===f-1&&C===h))throw new re}static recordPatternInReverse(i,o,l){let f=l.length,h=i.get(o);for(;o>0&&f>=0;)i.get(--o)!==h&&(f--,h=!h);if(f>=0)throw new re;Jt.recordPattern(i,o+1,l)}static patternMatchVariance(i,o,l){const f=i.length;let h=0,m=0;for(let N=0;N<f;N++)h+=i[N],m+=o[N];if(h<m)return Number.POSITIVE_INFINITY;const w=h/m;l*=w;let C=0;for(let N=0;N<f;N++){const T=i[N],P=o[N]*w,H=T>P?T-P:P-T;if(H>l)return Number.POSITIVE_INFINITY;C+=H}return C/h}}class Te extends Jt{static findStartPattern(i){const o=i.getSize(),l=i.getNextSet(0);let f=0,h=Int32Array.from([0,0,0,0,0,0]),m=l,w=!1;const C=6;for(let N=l;N<o;N++)if(i.get(N)!==w)h[f]++;else{if(f===C-1){let T=Te.MAX_AVG_VARIANCE,P=-1;for(let H=Te.CODE_START_A;H<=Te.CODE_START_C;H++){const Z=Jt.patternMatchVariance(h,Te.CODE_PATTERNS[H],Te.MAX_INDIVIDUAL_VARIANCE);Z<T&&(T=Z,P=H)}if(P>=0&&i.isRange(Math.max(0,m-(N-m)/2),m,!1))return Int32Array.from([m,N,P]);m+=h[0]+h[1],h=h.slice(2,h.length-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,w=!w}throw new re}static decodeCode(i,o,l){Jt.recordPattern(i,l,o);let f=Te.MAX_AVG_VARIANCE,h=-1;for(let m=0;m<Te.CODE_PATTERNS.length;m++){const w=Te.CODE_PATTERNS[m],C=this.patternMatchVariance(o,w,Te.MAX_INDIVIDUAL_VARIANCE);C<f&&(f=C,h=m)}if(h>=0)return h;throw new re}decodeRow(i,o,l){const f=l&&l.get(B.ASSUME_GS1)===!0,h=Te.findStartPattern(o),m=h[2];let w=0;const C=new Uint8Array(20);C[w++]=m;let N;switch(m){case Te.CODE_START_A:N=Te.CODE_CODE_A;break;case Te.CODE_START_B:N=Te.CODE_CODE_B;break;case Te.CODE_START_C:N=Te.CODE_CODE_C;break;default:throw new F}let T=!1,P=!1,H="",Z=h[0],z=h[1];const G=Int32Array.from([0,0,0,0,0,0]);let X=0,ee=0,he=m,me=0,ge=!0,qe=!1,st=!1;for(;!T;){const Et=P;switch(P=!1,X=ee,ee=Te.decodeCode(o,G,z),C[w++]=ee,ee!==Te.CODE_STOP&&(ge=!0),ee!==Te.CODE_STOP&&(me++,he+=me*ee),Z=z,z+=G.reduce((vp,Vd)=>vp+Vd,0),ee){case Te.CODE_START_A:case Te.CODE_START_B:case Te.CODE_START_C:throw new F}switch(N){case Te.CODE_CODE_A:if(ee<64)st===qe?H+=String.fromCharCode(" ".charCodeAt(0)+ee):H+=String.fromCharCode(" ".charCodeAt(0)+ee+128),st=!1;else if(ee<96)st===qe?H+=String.fromCharCode(ee-64):H+=String.fromCharCode(ee+64),st=!1;else switch(ee!==Te.CODE_STOP&&(ge=!1),ee){case Te.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Te.CODE_FNC_2:case Te.CODE_FNC_3:break;case Te.CODE_FNC_4_A:!qe&&st?(qe=!0,st=!1):qe&&st?(qe=!1,st=!1):st=!0;break;case Te.CODE_SHIFT:P=!0,N=Te.CODE_CODE_B;break;case Te.CODE_CODE_B:N=Te.CODE_CODE_B;break;case Te.CODE_CODE_C:N=Te.CODE_CODE_C;break;case Te.CODE_STOP:T=!0;break}break;case Te.CODE_CODE_B:if(ee<96)st===qe?H+=String.fromCharCode(" ".charCodeAt(0)+ee):H+=String.fromCharCode(" ".charCodeAt(0)+ee+128),st=!1;else switch(ee!==Te.CODE_STOP&&(ge=!1),ee){case Te.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Te.CODE_FNC_2:case Te.CODE_FNC_3:break;case Te.CODE_FNC_4_B:!qe&&st?(qe=!0,st=!1):qe&&st?(qe=!1,st=!1):st=!0;break;case Te.CODE_SHIFT:P=!0,N=Te.CODE_CODE_A;break;case Te.CODE_CODE_A:N=Te.CODE_CODE_A;break;case Te.CODE_CODE_C:N=Te.CODE_CODE_C;break;case Te.CODE_STOP:T=!0;break}break;case Te.CODE_CODE_C:if(ee<100)ee<10&&(H+="0"),H+=ee;else switch(ee!==Te.CODE_STOP&&(ge=!1),ee){case Te.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Te.CODE_CODE_A:N=Te.CODE_CODE_A;break;case Te.CODE_CODE_B:N=Te.CODE_CODE_B;break;case Te.CODE_STOP:T=!0;break}break}Et&&(N=N===Te.CODE_CODE_A?Te.CODE_CODE_B:Te.CODE_CODE_A)}const Er=z-Z;if(z=o.getNextUnset(z),!o.isRange(z,Math.min(o.getSize(),z+(z-Z)/2),!1))throw new re;if(he-=me*X,he%103!==X)throw new k;const xn=H.length;if(xn===0)throw new re;xn>0&&ge&&(N===Te.CODE_CODE_C?H=H.substring(0,xn-2):H=H.substring(0,xn-1));const Jn=(h[1]+h[0])/2,Qt=Z+Er/2,vn=C.length,ar=new Uint8Array(vn);for(let Et=0;Et<vn;Et++)ar[Et]=C[Et];const Ki=[new Ce(Jn,i),new Ce(Qt,i)];return new mt(H,ar,0,Ki,Ae.CODE_128,new Date().getTime())}}Te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Te.MAX_AVG_VARIANCE=.25,Te.MAX_INDIVIDUAL_VARIANCE=.7,Te.CODE_SHIFT=98,Te.CODE_CODE_C=99,Te.CODE_CODE_B=100,Te.CODE_CODE_A=101,Te.CODE_FNC_1=102,Te.CODE_FNC_2=97,Te.CODE_FNC_3=96,Te.CODE_FNC_4_A=101,Te.CODE_FNC_4_B=100,Te.CODE_START_A=103,Te.CODE_START_B=104,Te.CODE_START_C=105,Te.CODE_STOP=106;class tn extends Jt{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,l){let f=this.counters;f.fill(0),this.decodeRowResult="";let h=tn.findAsteriskPattern(o,f),m=o.getNextSet(h[1]),w=o.getSize(),C,N;do{tn.recordPattern(o,m,f);let G=tn.toNarrowWidePattern(f);if(G<0)throw new re;C=tn.patternToChar(G),this.decodeRowResult+=C,N=m;for(let X of f)m+=X;m=o.getNextSet(m)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let G of f)T+=G;let P=m-N-T;if(m!==w&&P*2<T)throw new re;if(this.usingCheckDigit){let G=this.decodeRowResult.length-1,X=0;for(let ee=0;ee<G;ee++)X+=tn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ee));if(this.decodeRowResult.charAt(G)!==tn.ALPHABET_STRING.charAt(X%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,G)}if(this.decodeRowResult.length===0)throw new re;let H;this.extendedMode?H=tn.decodeExtended(this.decodeRowResult):H=this.decodeRowResult;let Z=(h[1]+h[0])/2,z=N+T/2;return new mt(H,null,0,[new Ce(Z,i),new Ce(z,i)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let l=i.getSize(),f=i.getNextSet(0),h=0,m=f,w=!1,C=o.length;for(let N=f;N<l;N++)if(i.get(N)!==w)o[h]++;else{if(h===C-1){if(this.toNarrowWidePattern(o)===tn.ASTERISK_ENCODING&&i.isRange(Math.max(0,m-Math.floor((N-m)/2)),m,!1))return[m,N];m+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,w=!w}throw new re}static toNarrowWidePattern(i){let o=i.length,l=0,f;do{let h=2147483647;for(let C of i)C<h&&C>l&&(h=C);l=h,f=0;let m=0,w=0;for(let C=0;C<o;C++){let N=i[C];N>l&&(w|=1<<o-1-C,f++,m+=N)}if(f===3){for(let C=0;C<o&&f>0;C++){let N=i[C];if(N>l&&(f--,N*2>=m))return-1}return w}}while(f>3);return-1}static patternToChar(i){for(let o=0;o<tn.CHARACTER_ENCODINGS.length;o++)if(tn.CHARACTER_ENCODINGS[o]===i)return tn.ALPHABET_STRING.charAt(o);if(i===tn.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(i){let o=i.length,l="";for(let f=0;f<o;f++){let h=i.charAt(f);if(h==="+"||h==="$"||h==="%"||h==="/"){let m=i.charAt(f+1),w="\0";switch(h){case"+":if(m>="A"&&m<="Z")w=String.fromCharCode(m.charCodeAt(0)+32);else throw new F;break;case"$":if(m>="A"&&m<="Z")w=String.fromCharCode(m.charCodeAt(0)-64);else throw new F;break;case"%":if(m>="A"&&m<="E")w=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")w=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")w=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")w=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")w="\0";else if(m==="V")w="@";else if(m==="W")w="`";else if(m==="X"||m==="Y"||m==="Z")w="";else throw new F;break;case"/":if(m>="A"&&m<="O")w=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")w=":";else throw new F;break}l+=w,f++}else l+=h}return l}}tn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",tn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],tn.ASTERISK_ENCODING=148;class At extends Jt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,l){let f=this.decodeStart(o),h=this.decodeEnd(o),m=new ce;At.decodeMiddle(o,f[1],h[0],m);let w=m.toString(),C=null;l!=null&&(C=l.get(B.ALLOWED_LENGTHS)),C==null&&(C=At.DEFAULT_ALLOWED_LENGTHS);let N=w.length,T=!1,P=0;for(let z of C){if(N===z){T=!0;break}z>P&&(P=z)}if(!T&&N>P&&(T=!0),!T)throw new F;const H=[new Ce(f[1],i),new Ce(h[0],i)];return new mt(w,null,0,H,Ae.ITF,new Date().getTime())}static decodeMiddle(i,o,l,f){let h=new Int32Array(10),m=new Int32Array(5),w=new Int32Array(5);for(h.fill(0),m.fill(0),w.fill(0);o<l;){Jt.recordPattern(i,o,h);for(let N=0;N<5;N++){let T=2*N;m[N]=h[T],w[N]=h[T+1]}let C=At.decodeDigit(m);f.append(C.toString()),C=this.decodeDigit(w),f.append(C.toString()),h.forEach(function(N){o+=N})}}decodeStart(i){let o=At.skipWhiteSpace(i),l=At.findGuardPattern(i,o,At.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let f=o-1;l>0&&f>=0&&!i.get(f);f--)l--;if(l!==0)throw new re}static skipWhiteSpace(i){const o=i.getSize(),l=i.getNextSet(0);if(l===o)throw new re;return l}decodeEnd(i){i.reverse();try{let o=At.skipWhiteSpace(i),l;try{l=At.findGuardPattern(i,o,At.END_PATTERN_REVERSED[0])}catch(h){h instanceof re&&(l=At.findGuardPattern(i,o,At.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let f=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-f,l}finally{i.reverse()}}static findGuardPattern(i,o,l){let f=l.length,h=new Int32Array(f),m=i.getSize(),w=!1,C=0,N=o;h.fill(0);for(let T=o;T<m;T++)if(i.get(T)!==w)h[C]++;else{if(C===f-1){if(Jt.patternMatchVariance(h,l,At.MAX_INDIVIDUAL_VARIANCE)<At.MAX_AVG_VARIANCE)return[N,T];N+=h[0]+h[1],R.arraycopy(h,2,h,0,C-1),h[C-1]=0,h[C]=0,C--}else C++;h[C]=1,w=!w}throw new re}static decodeDigit(i){let o=At.MAX_AVG_VARIANCE,l=-1,f=At.PATTERNS.length;for(let h=0;h<f;h++){let m=At.PATTERNS[h],w=Jt.patternMatchVariance(i,m,At.MAX_INDIVIDUAL_VARIANCE);w<o?(o=w,l=h):w===o&&(l=-1)}if(l>=0)return l%10;throw new re}}At.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],At.MAX_AVG_VARIANCE=.38,At.MAX_INDIVIDUAL_VARIANCE=.5,At.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],At.START_PATTERN=Int32Array.from([1,1,1,1]),At.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Wt extends Jt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,l,f=0,h=Int32Array.from([0,0,0]);for(;!o;){h=Int32Array.from([0,0,0]),l=Wt.findGuardPattern(i,f,!1,this.START_END_PATTERN,h);let m=l[0];f=l[1];let w=m-(f-m);w>=0&&(o=i.isRange(w,m,!1))}return l}static checkChecksum(i){return Wt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return Wt.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let f=o-1;f>=0;f-=2){let h=i.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new F;l+=h}l*=3;for(let f=o-2;f>=0;f-=2){let h=i.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new F;l+=h}return(1e3-l)%10}static decodeEnd(i,o){return Wt.findGuardPattern(i,o,!1,Wt.START_END_PATTERN,new Int32Array(Wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,l,f){return this.findGuardPattern(i,o,l,f,new Int32Array(f.length))}static findGuardPattern(i,o,l,f,h){let m=i.getSize();o=l?i.getNextUnset(o):i.getNextSet(o);let w=0,C=o,N=f.length,T=l;for(let P=o;P<m;P++)if(i.get(P)!==T)h[w]++;else{if(w===N-1){if(Jt.patternMatchVariance(h,f,Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE)return Int32Array.from([C,P]);C+=h[0]+h[1];let H=h.slice(2,h.length-1);for(let Z=0;Z<w-1;Z++)h[Z]=H[Z];h[w-1]=0,h[w]=0,w--}else w++;h[w]=1,T=!T}throw new re}static decodeDigit(i,o,l,f){this.recordPattern(i,l,o);let h=this.MAX_AVG_VARIANCE,m=-1,w=f.length;for(let C=0;C<w;C++){let N=f[C],T=Jt.patternMatchVariance(o,N,Wt.MAX_INDIVIDUAL_VARIANCE);T<h&&(h=T,m=C)}if(m>=0)return m;throw new re}}Wt.MAX_AVG_VARIANCE=.48,Wt.MAX_INDIVIDUAL_VARIANCE=.7,Wt.START_END_PATTERN=Int32Array.from([1,1,1]),Wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class $i{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,l,f),m=f.toString(),w=$i.parseExtensionString(m),C=[new Ce((l[0]+l[1])/2,i),new Ce(h,i)],N=new mt(m,null,0,C,Ae.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&N.putAllMetadata(w),N}decodeMiddle(i,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=i.getSize(),m=o[1],w=0;for(let N=0;N<5&&m<h;N++){let T=Wt.decodeDigit(i,f,m,Wt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let P of f)m+=P;T>=10&&(w|=1<<4-N),N!==4&&(m=i.getNextSet(m),m=i.getNextUnset(m))}if(l.length!==5)throw new re;let C=this.determineCheckDigit(w);if($i.extensionChecksum(l.toString())!==C)throw new re;return m}static extensionChecksum(i){let o=i.length,l=0;for(let f=o-2;f>=0;f-=2)l+=i.charAt(f).charCodeAt(0)-"0".charCodeAt(0);l*=3;for(let f=o-1;f>=0;f-=2)l+=i.charAt(f).charCodeAt(0)-"0".charCodeAt(0);return l*=3,l%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new re}static parseExtensionString(i){if(i.length!==5)return null;let o=$i.parseExtension5String(i);return o==null?null:new Map([[Qe.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(i.substring(1)),f=(l/100).toString(),h=l%100,m=h<10?"0"+h:h.toString();return o+f+"."+m}}class vo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,l,f),m=f.toString(),w=vo.parseExtensionString(m),C=[new Ce((l[0]+l[1])/2,i),new Ce(h,i)],N=new mt(m,null,0,C,Ae.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&N.putAllMetadata(w),N}decodeMiddle(i,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=i.getSize(),m=o[1],w=0;for(let C=0;C<2&&m<h;C++){let N=Wt.decodeDigit(i,f,m,Wt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+N%10);for(let T of f)m+=T;N>=10&&(w|=1<<1-C),C!==1&&(m=i.getNextSet(m),m=i.getNextUnset(m))}if(l.length!==2)throw new re;if(parseInt(l.toString())%4!==w)throw new re;return m}static parseExtensionString(i){return i.length!==2?null:new Map([[Qe.ISSUE_NUMBER,parseInt(i)]])}}class kd{static decodeRow(i,o,l){let f=Wt.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new $i().decodeRow(i,o,f)}catch{return new vo().decodeRow(i,o,f)}}}kd.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Dt extends Wt{constructor(){super(),this.decodeRowStringBuffer="",Dt.L_AND_G_PATTERNS=Dt.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=Dt.L_PATTERNS[i-10],l=new Int32Array(o.length);for(let f=0;f<o.length;f++)l[f]=o[o.length-f-1];Dt.L_AND_G_PATTERNS[i]=l}}decodeRow(i,o,l){let f=Dt.findStartGuardPattern(o),h=l==null?null:l.get(B.NEED_RESULT_POINT_CALLBACK);if(h!=null){const ge=new Ce((f[0]+f[1])/2,i);h.foundPossibleResultPoint(ge)}let m=this.decodeMiddle(o,f,this.decodeRowStringBuffer),w=m.rowOffset,C=m.resultString;if(h!=null){const ge=new Ce(w,i);h.foundPossibleResultPoint(ge)}let N=this.decodeEnd(o,w);if(h!=null){const ge=new Ce((N[0]+N[1])/2,i);h.foundPossibleResultPoint(ge)}let T=N[1],P=T+(T-N[0]);if(P>=o.getSize()||!o.isRange(T,P,!1))throw new re;let H=C.toString();if(H.length<8)throw new F;if(!Dt.checkChecksum(H))throw new k;let Z=(f[1]+f[0])/2,z=(N[1]+N[0])/2,G=this.getBarcodeFormat(),X=[new Ce(Z,i),new Ce(z,i)],ee=new mt(H,null,0,X,G,new Date().getTime()),he=0;try{let ge=kd.decodeRow(i,o,N[1]);ee.putMetadata(Qe.UPC_EAN_EXTENSION,ge.getText()),ee.putAllMetadata(ge.getResultMetadata()),ee.addResultPoints(ge.getResultPoints()),he=ge.getText().length}catch{}let me=l==null?null:l.get(B.ALLOWED_EAN_EXTENSIONS);if(me!=null){let ge=!1;for(let qe in me)if(he.toString()===qe){ge=!0;break}if(!ge)throw new re}return ee}decodeEnd(i,o){return Dt.findGuardPattern(i,o,!1,Dt.START_END_PATTERN,new Int32Array(Dt.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Dt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return Dt.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let f=o-1;f>=0;f-=2){let h=i.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new F;l+=h}l*=3;for(let f=o-2;f>=0;f-=2){let h=i.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new F;l+=h}return(1e3-l)%10}}class ps extends Dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=i.getSize(),m=o[1],w=0;for(let N=0;N<6&&m<h;N++){let T=Dt.decodeDigit(i,f,m,Dt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let P of f)m+=P;T>=10&&(w|=1<<5-N)}l=ps.determineFirstDigit(l,w),m=Dt.findGuardPattern(i,m,!0,Dt.MIDDLE_PATTERN,new Int32Array(Dt.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&m<h;N++){let T=Dt.decodeDigit(i,f,m,Dt.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+T);for(let P of f)m+=P}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(i,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode("0".charCodeAt(0)+l)+i,i;throw new re}}ps.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Td extends Dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=i.getSize(),m=o[1];for(let C=0;C<4&&m<h;C++){let N=Dt.decodeDigit(i,f,m,Dt.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+N);for(let T of f)m+=T}m=Dt.findGuardPattern(i,m,!0,Dt.MIDDLE_PATTERN,new Int32Array(Dt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&m<h;C++){let N=Dt.decodeDigit(i,f,m,Dt.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+N);for(let T of f)m+=T}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return Ae.EAN_8}}class Dd extends Dt{constructor(){super(...arguments),this.ean13Reader=new ps}getBarcodeFormat(){return Ae.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,l))}decodeMiddle(i,o,l){return this.ean13Reader.decodeMiddle(i,o,l)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let l=new mt(o.substring(1),null,null,i.getResultPoints(),Ae.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new re}reset(){this.ean13Reader.reset()}}class si extends Dt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,l){const f=this.decodeMiddleCounters.map(N=>N);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const h=i.getSize();let m=o[1],w=0;for(let N=0;N<6&&m<h;N++){const T=si.decodeDigit(i,f,m,si.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let P of f)m+=P;T>=10&&(w|=1<<5-N)}let C=si.determineNumSysAndCheckDigit(l,w);return{rowOffset:m,resultString:C}}decodeEnd(i,o){return si.findGuardPatternWithoutCounters(i,o,!0,si.MIDDLE_END_PATTERN)}checkChecksum(i){return Dt.checkChecksum(si.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let l=0;l<=1;l++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][f]){let h=String.fromCharCode("0".charCodeAt(0)+l),m=String.fromCharCode("0".charCodeAt(0)+f);return h+i+m}throw re.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(h=>h.charCodeAt(0)),l=new ce;l.append(i.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(f),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(f);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}si.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),si.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Oc extends Jt{constructor(i){super();let o=i==null?null:i.get(B.POSSIBLE_FORMATS),l=[];r(o)?(l.push(new ps),l.push(new Dd),l.push(new Td),l.push(new si)):(o.indexOf(Ae.EAN_13)>-1&&l.push(new ps),o.indexOf(Ae.UPC_A)>-1&&l.push(new Dd),o.indexOf(Ae.EAN_8)>-1&&l.push(new Td),o.indexOf(Ae.UPC_E)>-1&&l.push(new si)),this.readers=l}decodeRow(i,o,l){for(let f of this.readers)try{const h=f.decodeRow(i,o,l),m=h.getBarcodeFormat()===Ae.EAN_13&&h.getText().charAt(0)==="0",w=l==null?null:l.get(B.POSSIBLE_FORMATS),C=w==null||w.includes(Ae.UPC_A);if(m&&C){const N=h.getRawBytes(),T=new mt(h.getText().substring(1),N,N?N.length:null,h.getResultPoints(),Ae.UPC_A);return T.putAllMetadata(h.getResultMetadata()),T}return h}catch{}throw new re}reset(){for(let i of this.readers)i.reset()}}class Qn extends Jt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let l=0;l<o.length;l++)if(Jt.patternMatchVariance(i,o[l],Qn.MAX_INDIVIDUAL_VARIANCE)<Qn.MAX_AVG_VARIANCE)return l;throw new re}static count(i){return lt.sum(new Int32Array(i))}static increment(i,o){let l=0,f=o[0];for(let h=1;h<i.length;h++)o[h]>f&&(f=o[h],l=h);i[l]++}static decrement(i,o){let l=0,f=o[0];for(let h=1;h<i.length;h++)o[h]<f&&(f=o[h],l=h);i[l]--}static isFinderPattern(i){let o=i[0]+i[1],l=o+i[2]+i[3],f=o/l;if(f>=Qn.MIN_FINDER_PATTERN_RATIO&&f<=Qn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let w of i)w>m&&(m=w),w<h&&(h=w);return m<10*h}return!1}}Qn.MAX_AVG_VARIANCE=.2,Qn.MAX_INDIVIDUAL_VARIANCE=.45,Qn.MIN_FINDER_PATTERN_RATIO=9.5/12,Qn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ba{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof ba))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ml{constructor(i,o,l,f,h){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ce(l,h)),this.resultPoints.push(new Ce(f,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof ml))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class _i{constructor(){}static getRSSvalue(i,o,l){let f=0;for(let C of i)f+=C;let h=0,m=0,w=i.length;for(let C=0;C<w-1;C++){let N;for(N=1,m|=1<<C;N<i[C];N++,m&=~(1<<C)){let T=_i.combins(f-N-1,w-C-2);if(l&&m===0&&f-N-(w-C-1)>=w-C-1&&(T-=_i.combins(f-N-(w-C),w-C-2)),w-C-1>1){let P=0;for(let H=f-N-(w-C-2);H>o;H--)P+=_i.combins(f-N-H-1,w-C-3);T-=P*(w-1-C)}else f-N>o&&T--;h+=T}f-=N}return h}static combins(i,o){let l,f;i-o>o?(f=o,l=i-o):(f=i-o,l=o);let h=1,m=1;for(let w=i;w>l;w--)h*=w,m<=f&&(h/=m,m++);for(;m<=f;)h/=m,m++;return h}}class Mc{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let l=12*o,f=new q(l),h=0,w=i[0].getRightChar().getValue();for(let C=11;C>=0;--C)w&1<<C&&f.set(h),h++;for(let C=1;C<i.length;++C){let N=i[C],T=N.getLeftChar().getValue();for(let P=11;P>=0;--P)T&1<<P&&f.set(h),h++;if(N.getRightChar()!=null){let P=N.getRightChar().getValue();for(let H=11;H>=0;--H)P&1<<H&&f.set(h),h++}}return f}}class Ls{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class wo{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class wr extends wo{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===wr.FNC1}}wr.FNC1="$";class Ps extends wo{constructor(i,o,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Yr extends wo{constructor(i,o,l){if(super(i),o<0||o>10||l<0||l>10)throw new F;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Yr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Yr.FNC1}isAnyFNC1(){return this.firstDigit===Yr.FNC1||this.secondDigit===Yr.FNC1}}Yr.FNC1=10;class Fe{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new re;let o=i.substring(0,2);for(let h of Fe.TWO_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(2,h[2],i):Fe.processFixedAI(2,h[1],i);if(i.length<3)throw new re;let l=i.substring(0,3);for(let h of Fe.THREE_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(3,h[2],i):Fe.processFixedAI(3,h[1],i);for(let h of Fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(4,h[2],i):Fe.processFixedAI(4,h[1],i);if(i.length<4)throw new re;let f=i.substring(0,4);for(let h of Fe.FOUR_DIGIT_DATA_LENGTH)if(h[0]===f)return h[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(4,h[2],i):Fe.processFixedAI(4,h[1],i);throw new re}static processFixedAI(i,o,l){if(l.length<i)throw new re;let f=l.substring(0,i);if(l.length<i+o)throw new re;let h=l.substring(i,i+o),m=l.substring(i+o),w="("+f+")"+h,C=Fe.parseFieldsInGeneralPurpose(m);return C==null?w:w+C}static processVariableAI(i,o,l){let f=l.substring(0,i),h;l.length<i+o?h=l.length:h=i+o;let m=l.substring(i,h),w=l.substring(h),C="("+f+")"+m,N=Fe.parseFieldsInGeneralPurpose(w);return N==null?C:C+N}}Fe.VARIABLE_LENGTH=[],Fe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Fe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Fe.VARIABLE_LENGTH,20],["22",Fe.VARIABLE_LENGTH,29],["30",Fe.VARIABLE_LENGTH,8],["37",Fe.VARIABLE_LENGTH,8],["90",Fe.VARIABLE_LENGTH,30],["91",Fe.VARIABLE_LENGTH,30],["92",Fe.VARIABLE_LENGTH,30],["93",Fe.VARIABLE_LENGTH,30],["94",Fe.VARIABLE_LENGTH,30],["95",Fe.VARIABLE_LENGTH,30],["96",Fe.VARIABLE_LENGTH,30],["97",Fe.VARIABLE_LENGTH,3],["98",Fe.VARIABLE_LENGTH,30],["99",Fe.VARIABLE_LENGTH,30]],Fe.THREE_DIGIT_DATA_LENGTH=[["240",Fe.VARIABLE_LENGTH,30],["241",Fe.VARIABLE_LENGTH,30],["242",Fe.VARIABLE_LENGTH,6],["250",Fe.VARIABLE_LENGTH,30],["251",Fe.VARIABLE_LENGTH,30],["253",Fe.VARIABLE_LENGTH,17],["254",Fe.VARIABLE_LENGTH,20],["400",Fe.VARIABLE_LENGTH,30],["401",Fe.VARIABLE_LENGTH,30],["402",17],["403",Fe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Fe.VARIABLE_LENGTH,20],["421",Fe.VARIABLE_LENGTH,15],["422",3],["423",Fe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Fe.VARIABLE_LENGTH,15],["391",Fe.VARIABLE_LENGTH,18],["392",Fe.VARIABLE_LENGTH,15],["393",Fe.VARIABLE_LENGTH,18],["703",Fe.VARIABLE_LENGTH,30]],Fe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Fe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Fe.VARIABLE_LENGTH,20],["8003",Fe.VARIABLE_LENGTH,30],["8004",Fe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Fe.VARIABLE_LENGTH,30],["8008",Fe.VARIABLE_LENGTH,12],["8018",18],["8020",Fe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Fe.VARIABLE_LENGTH,70],["8200",Fe.VARIABLE_LENGTH,70]];class Ca{constructor(i){this.buffer=new ce,this.information=i}decodeAllCodes(i,o){let l=o,f=null;do{let h=this.decodeGeneralPurposeField(l,f),m=Fe.parseFieldsInGeneralPurpose(h.getNewString());if(m!=null&&i.append(m),h.isRemaining()?f=""+h.getRemainingValue():f=null,l===h.getNewPosition())break;l=h.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(i,4);return h===0?new Yr(this.information.getSize(),Yr.FNC1,Yr.FNC1):new Yr(this.information.getSize(),h-1,Yr.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),l=(o-8)/11,f=(o-8)%11;return new Yr(i+7,l,f)}extractNumericValueFromBitArray(i,o){return Ca.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,l){let f=0;for(let h=0;h<l;++h)i.get(o+h)&&(f|=1<<l-h-1);return f}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ps(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ps(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new Ps(this.current.getPosition(),this.buffer.toString()):o=new Ps(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Ls(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new Ps(this.current.getPosition(),this.buffer.toString());return new Ls(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ls(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Ps(this.current.getPosition(),this.buffer.toString());return new Ls(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ls(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Ps(this.current.getPosition(),this.buffer.toString());return new Ls(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ls(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(i,8);return f>=232&&f<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new wr(i+5,wr.FNC1);if(o>=5&&o<15)return new wr(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new wr(i+7,""+(l+1));if(l>=90&&l<116)return new wr(i+7,""+(l+7));let f=this.extractNumericValueFromBitArray(i,8),h;switch(f){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new F}return new wr(i+8,h)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new wr(i+5,wr.FNC1);if(o>=5&&o<15)return new wr(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new wr(i+6,""+(l+33));let f;switch(l){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new an("Decoding invalid alphanumeric value: "+l)}return new wr(i+6,f)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class Lc{constructor(i){this.information=i,this.generalDecoder=new Ca(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class yr extends Lc{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,l)}encodeCompressedGtinWithoutAI(i,o,l){for(let f=0;f<4;++f){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);h/100===0&&i.append("0"),h/10===0&&i.append("0"),i.append(h)}yr.appendCheckDigit(i,l)}static appendCheckDigit(i,o){let l=0;for(let f=0;f<13;f++){let h=i.charAt(f+o).charCodeAt(0)-"0".charCodeAt(0);l+=f&1?h:3*h}l=10-l%10,l===10&&(l=0),i.append(l)}}yr.GTIN_SIZE=40;class Ea extends yr{constructor(i){super(i)}parseInformation(){let i=new ce;i.append("(01)");let o=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Ea.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,Ea.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,Ea.HEADER_SIZE+44)}}Ea.HEADER_SIZE=1+1+2;class yo extends Lc{constructor(i){super(i)}parseInformation(){let i=new ce;return this.getGeneralDecoder().decodeAllCodes(i,yo.HEADER_SIZE)}}yo.HEADER_SIZE=2+1+2;class gl extends yr{constructor(i){super(i)}encodeCompressedWeight(i,o,l){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(i,f);let h=this.checkWeight(f),m=1e5;for(let w=0;w<5;++w)h/m===0&&i.append("0"),m/=10;i.append(h)}}class Si extends gl{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=Si.HEADER_SIZE+gl.GTIN_SIZE+Si.WEIGHT_SIZE)throw new re;let i=new ce;return this.encodeCompressedGtin(i,Si.HEADER_SIZE),this.encodeCompressedWeight(i,Si.HEADER_SIZE+gl.GTIN_SIZE,Si.WEIGHT_SIZE),i.toString()}}Si.HEADER_SIZE=4+1,Si.WEIGHT_SIZE=15;class op extends Si{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class lp extends Si{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Ai extends yr{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Ai.HEADER_SIZE+yr.GTIN_SIZE)throw new re;let i=new ce;this.encodeCompressedGtin(i,Ai.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ai.HEADER_SIZE+yr.GTIN_SIZE,Ai.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Ai.HEADER_SIZE+yr.GTIN_SIZE+Ai.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}Ai.HEADER_SIZE=5+1+2,Ai.LAST_DIGIT_SIZE=2;class hr extends yr{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<hr.HEADER_SIZE+yr.GTIN_SIZE)throw new re;let i=new ce;this.encodeCompressedGtin(i,hr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(hr.HEADER_SIZE+yr.GTIN_SIZE,hr.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(hr.HEADER_SIZE+yr.GTIN_SIZE+hr.LAST_DIGIT_SIZE,hr.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let f=this.getGeneralDecoder().decodeGeneralPurposeField(hr.HEADER_SIZE+yr.GTIN_SIZE+hr.LAST_DIGIT_SIZE+hr.FIRST_THREE_DIGITS_SIZE,null);return i.append(f.getNewString()),i.toString()}}hr.HEADER_SIZE=5+1+2,hr.LAST_DIGIT_SIZE=2,hr.FIRST_THREE_DIGITS_SIZE=10;class Gt extends gl{constructor(i,o,l){super(i),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Gt.HEADER_SIZE+Gt.GTIN_SIZE+Gt.WEIGHT_SIZE+Gt.DATE_SIZE)throw new re;let i=new ce;return this.encodeCompressedGtin(i,Gt.HEADER_SIZE),this.encodeCompressedWeight(i,Gt.HEADER_SIZE+Gt.GTIN_SIZE,Gt.WEIGHT_SIZE),this.encodeCompressedDate(i,Gt.HEADER_SIZE+Gt.GTIN_SIZE+Gt.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Gt.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let f=l%32;l/=32;let h=l%12+1;l/=12;let m=l;m/10==0&&i.append("0"),i.append(m),h/10==0&&i.append("0"),i.append(h),f/10==0&&i.append("0"),i.append(f)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}Gt.HEADER_SIZE=7+1,Gt.WEIGHT_SIZE=20,Gt.DATE_SIZE=16;function Id(M){try{if(M.get(1))return new Ea(M);if(!M.get(2))return new yo(M);switch(Ca.extractNumericValueFromBitArray(M,1,4)){case 4:return new op(M);case 5:return new lp(M)}switch(Ca.extractNumericValueFromBitArray(M,1,5)){case 12:return new Ai(M);case 13:return new hr(M)}switch(Ca.extractNumericValueFromBitArray(M,1,7)){case 56:return new Gt(M,"310","11");case 57:return new Gt(M,"320","11");case 58:return new Gt(M,"310","13");case 59:return new Gt(M,"320","13");case 60:return new Gt(M,"310","15");case 61:return new Gt(M,"320","15");case 62:return new Gt(M,"310","17");case 63:return new Gt(M,"320","17")}}catch(i){throw console.log(i),new an("unknown decoder: "+M)}}class ai{constructor(i,o,l,f){this.leftchar=i,this.rightchar=o,this.finderpattern=l,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof ai?ai.equalsOrNull(i.leftchar,o.leftchar)&&ai.equalsOrNull(i.rightchar,o.rightchar)&&ai.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:ai.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Pc{constructor(i,o,l){this.pairs=i,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof Pc?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let l;return i.forEach((f,h)=>{o.forEach(m=>{f.getLeftChar().getValue()===m.getLeftChar().getValue()&&f.getRightChar().getValue()===m.getRightChar().getValue()&&f.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(l=!0)})}),l}}class be extends Qn{constructor(i){super(...arguments),this.pairs=new Array(be.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,l){this.pairs.length=0,this.startFromEven=!1;try{return be.constructResult(this.decodeRow2pairs(i,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,be.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(h){if(h instanceof re){if(!this.pairs.length)throw new re;l=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(i,!1),f){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new re}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let l=o;l<this.rows.length;l++){let f=this.rows[l];this.pairs.length=0;for(let m of i)this.pairs.push(m.getPairs());if(this.pairs.push(f.getPairs()),!be.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(i);h.push(f);try{return this.checkRows(h,l+1)}catch(m){this.verbose&&console.log(m)}}throw new re}static isValidSequence(i){for(let o of be.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let l=!0;for(let f=0;f<i.length;f++)if(i[f].getFinderPattern().getValue()!=o[f]){l=!1;break}if(l)return!0}return!1}storeRow(i,o){let l=0,f=!1,h=!1;for(;l<this.rows.length;){let m=this.rows[l];if(m.getRowNumber()>i){h=m.isEquivalent(this.pairs);break}f=m.isEquivalent(this.pairs),l++}h||f||be.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Pc(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let l of o)if(l.getPairs().length!==i.length){for(let f of l.getPairs())for(let h of i)if(ai.equals(f,h))break}}static isPartialRow(i,o){for(let l of o){let f=!0;for(let h of i){let m=!1;for(let w of l.getPairs())if(h.equals(w)){m=!0;break}if(!m){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=Mc.buildBitArray(i),f=Id(o).parseInformation(),h=i[0].getFinderPattern().getResultPoints(),m=i[i.length-1].getFinderPattern().getResultPoints(),w=[h[0],h[1],m[0],m[1]];return new mt(f,null,null,w,Ae.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let f=l.getChecksumPortion(),h=2;for(let w=1;w<this.pairs.size();++w){let C=this.pairs.get(w);f+=C.getLeftChar().getChecksumPortion(),h++;let N=C.getRightChar();N!=null&&(f+=N.getChecksumPortion(),h++)}return f%=211,211*(h-4)+f==o.getValue()}static getNextSecondBar(i,o){let l;return i.get(o)?(l=i.getNextUnset(o),l=i.getNextSet(l)):(l=i.getNextSet(o),l=i.getNextUnset(l)),l}retrieveNextPair(i,o,l){let f=o.length%2==0;this.startFromEven&&(f=!f);let h,m=!0,w=-1;do this.findNextPair(i,o,w),h=this.parseFoundFinderPattern(i,l,f),h==null?w=be.getNextSecondBar(i,this.startEnd[0]):m=!1;while(m);let C=this.decodeDataCharacter(i,h,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new re;let N;try{N=this.decodeDataCharacter(i,h,f,!1)}catch(T){N=null,this.verbose&&console.log(T)}return new ai(C,N,h,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,l){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=i.getSize(),m;l>=0?m=l:this.isEmptyPair(o)?m=0:m=o[o.length-1].getFinderPattern().getStartEnd()[1];let w=o.length%2!=0;this.startFromEven&&(w=!w);let C=!1;for(;m<h&&(C=!i.get(m),!!C);)m++;let N=0,T=m;for(let P=m;P<h;P++)if(i.get(P)!=C)f[N]++;else{if(N==3){if(w&&be.reverseCounters(f),be.isFinderPattern(f)){this.startEnd[0]=T,this.startEnd[1]=P;return}w&&be.reverseCounters(f),T+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,N--}else N++;f[N]=1,C=!C}throw new re}static reverseCounters(i){let o=i.length;for(let l=0;l<o/2;++l){let f=i[l];i[l]=i[o-l-1],i[o-l-1]=f}}parseFoundFinderPattern(i,o,l){let f,h,m;if(l){let N=this.startEnd[0]-1;for(;N>=0&&!i.get(N);)N--;N++,f=this.startEnd[0]-N,h=N,m=this.startEnd[1]}else h=this.startEnd[0],m=i.getNextUnset(this.startEnd[1]+1),f=m-this.startEnd[1];let w=this.getDecodeFinderCounters();R.arraycopy(w,0,w,1,w.length-1),w[0]=f;let C;try{C=this.parseFinderValue(w,be.FINDER_PATTERNS)}catch{return null}return new ml(C,[h,m],h,m,o)}decodeDataCharacter(i,o,l,f){let h=this.getDataCharacterCounters();for(let Qt=0;Qt<h.length;Qt++)h[Qt]=0;if(f)be.recordPatternInReverse(i,o.getStartEnd()[0],h);else{be.recordPattern(i,o.getStartEnd()[1],h);for(let Qt=0,vn=h.length-1;Qt<vn;Qt++,vn--){let ar=h[Qt];h[Qt]=h[vn],h[vn]=ar}}let m=17,w=lt.sum(new Int32Array(h))/m,C=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(w-C)/C>.3)throw new re;let N=this.getOddCounts(),T=this.getEvenCounts(),P=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let Qt=0;Qt<h.length;Qt++){let vn=1*h[Qt]/w,ar=vn+.5;if(ar<1){if(vn<.3)throw new re;ar=1}else if(ar>8){if(vn>8.7)throw new re;ar=8}let Ki=Qt/2;Qt&1?(T[Ki]=ar,H[Ki]=vn-ar):(N[Ki]=ar,P[Ki]=vn-ar)}this.adjustOddEvenCounts(m);let Z=4*o.getValue()+(l?0:2)+(f?0:1)-1,z=0,G=0;for(let Qt=N.length-1;Qt>=0;Qt--){if(be.isNotA1left(o,l,f)){let vn=be.WEIGHTS[Z][2*Qt];G+=N[Qt]*vn}z+=N[Qt]}let X=0;for(let Qt=T.length-1;Qt>=0;Qt--)if(be.isNotA1left(o,l,f)){let vn=be.WEIGHTS[Z][2*Qt+1];X+=T[Qt]*vn}let ee=G+X;if(z&1||z>13||z<4)throw new re;let he=(13-z)/2,me=be.SYMBOL_WIDEST[he],ge=9-me,qe=_i.getRSSvalue(N,me,!0),st=_i.getRSSvalue(T,ge,!1),Er=be.EVEN_TOTAL_SUBSET[he],xn=be.GSUM[he],Jn=qe*Er+st+xn;return new ba(Jn,ee)}static isNotA1left(i,o,l){return!(i.getValue()==0&&o&&l)}adjustOddEvenCounts(i){let o=lt.sum(new Int32Array(this.getOddCounts())),l=lt.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let m=!1,w=!1;l>13?w=!0:l<4&&(m=!0);let C=o+l-i,N=(o&1)==1,T=(l&1)==0;if(C==1)if(N){if(T)throw new re;h=!0}else{if(!T)throw new re;w=!0}else if(C==-1)if(N){if(T)throw new re;f=!0}else{if(!T)throw new re;m=!0}else if(C==0){if(N){if(!T)throw new re;o<l?(f=!0,w=!0):(h=!0,m=!0)}else if(T)throw new re}else throw new re;if(f){if(h)throw new re;be.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&be.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(w)throw new re;be.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&be.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}be.SYMBOL_WIDEST=[7,5,4,3,1],be.EVEN_TOTAL_SUBSET=[4,20,52,104,204],be.GSUM=[0,348,1388,2948,3988],be.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],be.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],be.FINDER_PAT_A=0,be.FINDER_PAT_B=1,be.FINDER_PAT_C=2,be.FINDER_PAT_D=3,be.FINDER_PAT_E=4,be.FINDER_PAT_F=5,be.FINDER_PATTERN_SEQUENCES=[[be.FINDER_PAT_A,be.FINDER_PAT_A],[be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B],[be.FINDER_PAT_A,be.FINDER_PAT_C,be.FINDER_PAT_B,be.FINDER_PAT_D],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_C],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_D,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_D],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_E],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F]],be.MAX_PAIRS=11;class cp extends ba{constructor(i,o,l){super(i,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class dn extends Qn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,l){const f=this.decodePair(o,!1,i,l);dn.addOrTally(this.possibleLeftPairs,f),o.reverse();let h=this.decodePair(o,!0,i,l);dn.addOrTally(this.possibleRightPairs,h),o.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let w of this.possibleRightPairs)if(w.getCount()>1&&dn.checkChecksum(m,w))return dn.constructResult(m,w)}throw new re}static addOrTally(i,o){if(o==null)return;let l=!1;for(let f of i)if(f.getValue()===o.getValue()){f.incrementCount(),l=!0;break}l||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let l=4537077*i.getValue()+o.getValue(),f=new String(l).toString(),h=new ce;for(let N=13-f.length;N>0;N--)h.append("0");h.append(f);let m=0;for(let N=0;N<13;N++){let T=h.charAt(N).charCodeAt(0)-"0".charCodeAt(0);m+=N&1?T:3*T}m=10-m%10,m===10&&(m=0),h.append(m.toString());let w=i.getFinderPattern().getResultPoints(),C=o.getFinderPattern().getResultPoints();return new mt(h.toString(),null,0,[w[0],w[1],C[0],C[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(i,o){let l=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,l===f}decodePair(i,o,l,f){try{let h=this.findFinderPattern(i,o),m=this.parseFoundFinderPattern(i,l,o,h),w=f==null?null:f.get(B.NEED_RESULT_POINT_CALLBACK);if(w!=null){let T=(h[0]+h[1])/2;o&&(T=i.getSize()-1-T),w.foundPossibleResultPoint(new Ce(T,l))}let C=this.decodeDataCharacter(i,m,!0),N=this.decodeDataCharacter(i,m,!1);return new cp(1597*C.getValue()+N.getValue(),C.getChecksumPortion()+4*N.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(i,o,l){let f=this.getDataCharacterCounters();for(let X=0;X<f.length;X++)f[X]=0;if(l)Jt.recordPatternInReverse(i,o.getStartEnd()[0],f);else{Jt.recordPattern(i,o.getStartEnd()[1]+1,f);for(let X=0,ee=f.length-1;X<ee;X++,ee--){let he=f[X];f[X]=f[ee],f[ee]=he}}let h=l?16:15,m=lt.sum(new Int32Array(f))/h,w=this.getOddCounts(),C=this.getEvenCounts(),N=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let X=0;X<f.length;X++){let ee=f[X]/m,he=Math.floor(ee+.5);he<1?he=1:he>8&&(he=8);let me=Math.floor(X/2);X&1?(C[me]=he,T[me]=ee-he):(w[me]=he,N[me]=ee-he)}this.adjustOddEvenCounts(l,h);let P=0,H=0;for(let X=w.length-1;X>=0;X--)H*=9,H+=w[X],P+=w[X];let Z=0,z=0;for(let X=C.length-1;X>=0;X--)Z*=9,Z+=C[X],z+=C[X];let G=H+3*Z;if(l){if(P&1||P>12||P<4)throw new re;let X=(12-P)/2,ee=dn.OUTSIDE_ODD_WIDEST[X],he=9-ee,me=_i.getRSSvalue(w,ee,!1),ge=_i.getRSSvalue(C,he,!0),qe=dn.OUTSIDE_EVEN_TOTAL_SUBSET[X],st=dn.OUTSIDE_GSUM[X];return new ba(me*qe+ge+st,G)}else{if(z&1||z>10||z<4)throw new re;let X=(10-z)/2,ee=dn.INSIDE_ODD_WIDEST[X],he=9-ee,me=_i.getRSSvalue(w,ee,!0),ge=_i.getRSSvalue(C,he,!1),qe=dn.INSIDE_ODD_TOTAL_SUBSET[X],st=dn.INSIDE_GSUM[X];return new ba(ge*qe+me+st,G)}}findFinderPattern(i,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let f=i.getSize(),h=!1,m=0;for(;m<f&&(h=!i.get(m),o!==h);)m++;let w=0,C=m;for(let N=m;N<f;N++)if(i.get(N)!==h)l[w]++;else{if(w===3){if(Qn.isFinderPattern(l))return[C,N];C+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,w--}else w++;l[w]=1,h=!h}throw new re}parseFoundFinderPattern(i,o,l,f){let h=i.get(f[0]),m=f[0]-1;for(;m>=0&&h!==i.get(m);)m--;m++;const w=f[0]-m,C=this.getDecodeFinderCounters(),N=new Int32Array(C.length);R.arraycopy(C,0,N,1,C.length-1),N[0]=w;const T=this.parseFinderValue(N,dn.FINDER_PATTERNS);let P=m,H=f[1];return l&&(P=i.getSize()-1-P,H=i.getSize()-1-H),new ml(T,[m,f[1]],P,H,o)}adjustOddEvenCounts(i,o){let l=lt.sum(new Int32Array(this.getOddCounts())),f=lt.sum(new Int32Array(this.getEvenCounts())),h=!1,m=!1,w=!1,C=!1;i?(l>12?m=!0:l<4&&(h=!0),f>12?C=!0:f<4&&(w=!0)):(l>11?m=!0:l<5&&(h=!0),f>10?C=!0:f<4&&(w=!0));let N=l+f-o,T=(l&1)===(i?1:0),P=(f&1)===1;if(N===1)if(T){if(P)throw new re;m=!0}else{if(!P)throw new re;C=!0}else if(N===-1)if(T){if(P)throw new re;h=!0}else{if(!P)throw new re;w=!0}else if(N===0){if(T){if(!P)throw new re;l<f?(h=!0,C=!0):(m=!0,w=!0)}else if(P)throw new re}else throw new re;if(h){if(m)throw new re;Qn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&Qn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(C)throw new re;Qn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Qn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}dn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],dn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],dn.OUTSIDE_GSUM=[0,161,961,2015,2715],dn.INSIDE_GSUM=[0,336,1036,1516],dn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],dn.INSIDE_ODD_WIDEST=[2,4,6,8],dn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Fs extends Jt{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const l=i?i.get(B.POSSIBLE_FORMATS):null,f=i&&i.get(B.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(Ae.EAN_13)||l.includes(Ae.UPC_A)||l.includes(Ae.EAN_8)||l.includes(Ae.UPC_E))&&this.readers.push(new Oc(i)),l.includes(Ae.CODE_39)&&this.readers.push(new tn(f)),l.includes(Ae.CODE_128)&&this.readers.push(new Te),l.includes(Ae.ITF)&&this.readers.push(new At),l.includes(Ae.RSS_14)&&this.readers.push(new dn),l.includes(Ae.RSS_EXPANDED)&&this.readers.push(new be(this.verbose))):(this.readers.push(new Oc(i)),this.readers.push(new tn),this.readers.push(new Oc(i)),this.readers.push(new Te),this.readers.push(new At),this.readers.push(new dn),this.readers.push(new be(this.verbose)))}decodeRow(i,o,l){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(i,o,l)}catch{}throw new re}reset(){this.readers.forEach(i=>i.reset())}}class jd extends cn{constructor(i=500,o){super(new Fs(o),i,o)}}class Pt{constructor(i,o,l){this.ecCodewords=i,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class It{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class vt{constructor(i,o,l,f,h,m){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=h,this.ecBlocks=m;let w=0;const C=m.getECCodewords(),N=m.getECBlocks();for(let T of N)w+=T.getCount()*(T.getDataCodewords()+C);this.totalCodewords=w}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if(i&1||o&1)throw new F;for(let l of vt.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===o)return l;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new vt(1,10,10,8,8,new Pt(5,new It(1,3))),new vt(2,12,12,10,10,new Pt(7,new It(1,5))),new vt(3,14,14,12,12,new Pt(10,new It(1,8))),new vt(4,16,16,14,14,new Pt(12,new It(1,12))),new vt(5,18,18,16,16,new Pt(14,new It(1,18))),new vt(6,20,20,18,18,new Pt(18,new It(1,22))),new vt(7,22,22,20,20,new Pt(20,new It(1,30))),new vt(8,24,24,22,22,new Pt(24,new It(1,36))),new vt(9,26,26,24,24,new Pt(28,new It(1,44))),new vt(10,32,32,14,14,new Pt(36,new It(1,62))),new vt(11,36,36,16,16,new Pt(42,new It(1,86))),new vt(12,40,40,18,18,new Pt(48,new It(1,114))),new vt(13,44,44,20,20,new Pt(56,new It(1,144))),new vt(14,48,48,22,22,new Pt(68,new It(1,174))),new vt(15,52,52,24,24,new Pt(42,new It(2,102))),new vt(16,64,64,14,14,new Pt(56,new It(2,140))),new vt(17,72,72,16,16,new Pt(36,new It(4,92))),new vt(18,80,80,18,18,new Pt(48,new It(4,114))),new vt(19,88,88,20,20,new Pt(56,new It(4,144))),new vt(20,96,96,22,22,new Pt(68,new It(4,174))),new vt(21,104,104,24,24,new Pt(56,new It(6,136))),new vt(22,120,120,18,18,new Pt(68,new It(6,175))),new vt(23,132,132,20,20,new Pt(62,new It(8,163))),new vt(24,144,144,22,22,new Pt(62,new It(8,156),new It(2,155))),new vt(25,8,18,6,16,new Pt(7,new It(1,5))),new vt(26,8,32,6,14,new Pt(11,new It(1,10))),new vt(27,12,26,10,24,new Pt(14,new It(1,16))),new vt(28,12,36,10,16,new Pt(18,new It(1,22))),new vt(29,16,36,14,16,new Pt(24,new It(1,32))),new vt(30,16,48,14,22,new Pt(28,new It(1,49)))]}}vt.VERSIONS=vt.buildVersions();class Fc{constructor(i){const o=i.getHeight();if(o<8||o>144||o&1)throw new F;this.version=Fc.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new xe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),l=i.getWidth();return vt.getVersionForDimensions(o,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,f=0;const h=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let w=!1,C=!1,N=!1,T=!1;do if(l===h&&f===0&&!w)i[o++]=this.readCorner1(h,m)&255,l-=2,f+=2,w=!0;else if(l===h-2&&f===0&&m&3&&!C)i[o++]=this.readCorner2(h,m)&255,l-=2,f+=2,C=!0;else if(l===h+4&&f===2&&!(m&7)&&!N)i[o++]=this.readCorner3(h,m)&255,l-=2,f+=2,N=!0;else if(l===h-2&&f===0&&(m&7)===4&&!T)i[o++]=this.readCorner4(h,m)&255,l-=2,f+=2,T=!0;else{do l<h&&f>=0&&!this.readMappingMatrix.get(f,l)&&(i[o++]=this.readUtah(l,f,h,m)&255),l-=2,f+=2;while(l>=0&&f<m);l+=1,f+=3;do l>=0&&f<m&&!this.readMappingMatrix.get(f,l)&&(i[o++]=this.readUtah(l,f,h,m)&255),l+=2,f-=2;while(l<h&&f>=0);l+=3,f+=1}while(l<h||f<m);if(o!==this.version.getTotalCodewords())throw new F;return i}readModule(i,o,l,f){return i<0&&(i+=l,o+=4-(l+4&7)),o<0&&(o+=f,i+=4-(f+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,l,f){let h=0;return this.readModule(i-2,o-2,l,f)&&(h|=1),h<<=1,this.readModule(i-2,o-1,l,f)&&(h|=1),h<<=1,this.readModule(i-1,o-2,l,f)&&(h|=1),h<<=1,this.readModule(i-1,o-1,l,f)&&(h|=1),h<<=1,this.readModule(i-1,o,l,f)&&(h|=1),h<<=1,this.readModule(i,o-2,l,f)&&(h|=1),h<<=1,this.readModule(i,o-1,l,f)&&(h|=1),h<<=1,this.readModule(i,o,l,f)&&(h|=1),h}readCorner1(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,1,i,o)&&(l|=1),l<<=1,this.readModule(i-1,2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}readCorner2(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-4,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner3(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-3,i,o)&&(l|=1),l<<=1,this.readModule(1,o-2,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner4(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new E("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),m=o/f|0,w=l/h|0,C=m*f,N=w*h,T=new xe(N,C);for(let P=0;P<m;++P){const H=P*f;for(let Z=0;Z<w;++Z){const z=Z*h;for(let G=0;G<f;++G){const X=P*(f+2)+1+G,ee=H+G;for(let he=0;he<h;++he){const me=Z*(h+2)+1+he;if(i.get(me,X)){const ge=z+he;T.set(ge,ee)}}}}}return T}}class xl{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const l=o.getECBlocks();let f=0;const h=l.getECBlocks();for(let G of h)f+=G.getCount();const m=new Array(f);let w=0;for(let G of h)for(let X=0;X<G.getCount();X++){const ee=G.getDataCodewords(),he=l.getECCodewords()+ee;m[w++]=new xl(ee,new Uint8Array(he))}const N=m[0].codewords.length-l.getECCodewords(),T=N-1;let P=0;for(let G=0;G<T;G++)for(let X=0;X<w;X++)m[X].codewords[G]=i[P++];const H=o.getVersionNumber()===24,Z=H?8:w;for(let G=0;G<Z;G++)m[G].codewords[N-1]=i[P++];const z=m[0].codewords.length;for(let G=N;G<z;G++)for(let X=0;X<w;X++){const ee=H?(X+8)%w:X,he=H&&ee>7?G-1:G;m[ee].codewords[he]=i[P++]}if(P!==i.length)throw new E;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class vl{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new E(""+i);let o=0,l=this.bitOffset,f=this.byteOffset;const h=this.bytes;if(l>0){const m=8-l,w=i<m?i:m,C=m-w,N=255>>8-w<<C;o=(h[f]&N)>>C,i-=w,l+=w,l===8&&(l=0,f++)}if(i>0){for(;i>=8;)o=o<<8|h[f]&255,f++,i-=8;if(i>0){const m=8-i,w=255>>m<<m;o=o<<i|(h[f]&w)>>m,l+=i}}return this.bitOffset=l,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Tn;(function(M){M[M.PAD_ENCODE=0]="PAD_ENCODE",M[M.ASCII_ENCODE=1]="ASCII_ENCODE",M[M.C40_ENCODE=2]="C40_ENCODE",M[M.TEXT_ENCODE=3]="TEXT_ENCODE",M[M.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",M[M.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",M[M.BASE256_ENCODE=6]="BASE256_ENCODE"})(Tn||(Tn={}));class ki{static decode(i){const o=new vl(i),l=new ce,f=new ce,h=new Array;let m=Tn.ASCII_ENCODE;do if(m===Tn.ASCII_ENCODE)m=this.decodeAsciiSegment(o,l,f);else{switch(m){case Tn.C40_ENCODE:this.decodeC40Segment(o,l);break;case Tn.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case Tn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case Tn.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case Tn.BASE256_ENCODE:this.decodeBase256Segment(o,l,h);break;default:throw new F}m=Tn.ASCII_ENCODE}while(m!==Tn.PAD_ENCODE&&o.available()>0);return f.length()>0&&l.append(f.toString()),new kn(i,l.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(i,o,l){let f=!1;do{let h=i.readBits(8);if(h===0)throw new F;if(h<=128)return f&&(h+=128),o.append(String.fromCharCode(h-1)),Tn.ASCII_ENCODE;if(h===129)return Tn.PAD_ENCODE;if(h<=229){const m=h-130;m<10&&o.append("0"),o.append(""+m)}else switch(h){case 230:return Tn.C40_ENCODE;case 231:return Tn.BASE256_ENCODE;case 232:o.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return Tn.ANSIX12_ENCODE;case 239:return Tn.TEXT_ENCODE;case 240:return Tn.EDIFACT_ENCODE;case 241:break;default:if(h!==254||i.available()!==0)throw new F;break}}while(i.available()>0);return Tn.ASCII_ENCODE}static decodeC40Segment(i,o){let l=!1;const f=[];let h=0;do{if(i.available()===8)return;const m=i.readBits(8);if(m===254)return;this.parseTwoBytes(m,i.readBits(8),f);for(let w=0;w<3;w++){const C=f[w];switch(h){case 0:if(C<3)h=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else throw new F;break;case 1:l?(o.append(String.fromCharCode(C+128)),l=!1):o.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new F}h=0;break;case 3:l?(o.append(String.fromCharCode(C+224)),l=!1):o.append(String.fromCharCode(C+96)),h=0;break;default:throw new F}}}while(i.available()>0)}static decodeTextSegment(i,o){let l=!1,f=[],h=0;do{if(i.available()===8)return;const m=i.readBits(8);if(m===254)return;this.parseTwoBytes(m,i.readBits(8),f);for(let w=0;w<3;w++){const C=f[w];switch(h){case 0:if(C<3)h=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else throw new F;break;case 1:l?(o.append(String.fromCharCode(C+128)),l=!1):o.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new F}h=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N),h=0}else throw new F;break;default:throw new F}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const l=[];do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),l);for(let h=0;h<3;h++){const m=l[h];switch(m){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(m<14)o.append(String.fromCharCode(m+44));else if(m<40)o.append(String.fromCharCode(m+51));else throw new F;break}}}while(i.available()>0)}static parseTwoBytes(i,o,l){let f=(i<<8)+o-1,h=Math.floor(f/1600);l[0]=h,f-=h*1600,h=Math.floor(f/40),l[1]=h,l[2]=f-h*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let f=i.readBits(6);if(f===31){const h=8-i.getBitOffset();h!==8&&i.readBits(h);return}f&32||(f|=64),o.append(String.fromCharCode(f))}}while(i.available()>0)}static decodeBase256Segment(i,o,l){let f=1+i.getByteOffset();const h=this.unrandomize255State(i.readBits(8),f++);let m;if(h===0?m=i.available()/8|0:h<250?m=h:m=250*(h-249)+this.unrandomize255State(i.readBits(8),f++),m<0)throw new F;const w=new Uint8Array(m);for(let C=0;C<m;C++){if(i.available()<8)throw new F;w[C]=this.unrandomize255State(i.readBits(8),f++)}l.push(w);try{o.append(le.decode(w,ie.ISO88591))}catch(C){throw new an("Platform does not support required encoding: "+C.message)}}static unrandomize255State(i,o){const l=149*o%255+1,f=i-l;return f>=0?f:f+256}}ki.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ki.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ki.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ki.TEXT_SHIFT2_SET_CHARS=ki.C40_SHIFT2_SET_CHARS,ki.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class up{constructor(){this.rsDecoder=new Ei(Le.DATA_MATRIX_FIELD_256)}decode(i){const o=new Fc(i),l=o.getVersion(),f=o.readCodewords(),h=xl.getDataBlocks(f,l);let m=0;for(let N of h)m+=N.getNumDataCodewords();const w=new Uint8Array(m),C=h.length;for(let N=0;N<C;N++){const T=h[N],P=T.getCodewords(),H=T.getNumDataCodewords();this.correctErrors(P,H);for(let Z=0;Z<H;Z++)w[Z*C+N]=P[Z]}return ki.decode(w)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new k}for(let f=0;f<o;f++)i[f]=l[f]}}class mn{constructor(i){this.image=i,this.rectangleDetector=new De(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new re;o=this.shiftToModuleCenter(o);const l=o[0],f=o[1],h=o[2],m=o[3];let w=this.transitionsBetween(l,m)+1,C=this.transitionsBetween(h,m)+1;(w&1)===1&&(w+=1),(C&1)===1&&(C+=1),4*w<7*C&&4*C<7*w&&(w=C=Math.max(w,C));let N=mn.sampleGrid(this.image,l,f,h,m,w,C);return new Fn(N,[l,f,h,m])}static shiftPoint(i,o,l){let f=(o.getX()-i.getX())/(l+1),h=(o.getY()-i.getY())/(l+1);return new Ce(i.getX()+f,i.getY()+h)}static moveAway(i,o,l){let f=i.getX(),h=i.getY();return f<o?f-=1:f+=1,h<l?h-=1:h+=1,new Ce(f,h)}detectSolid1(i){let o=i[0],l=i[1],f=i[3],h=i[2],m=this.transitionsBetween(o,l),w=this.transitionsBetween(l,f),C=this.transitionsBetween(f,h),N=this.transitionsBetween(h,o),T=m,P=[h,o,l,f];return T>w&&(T=w,P[0]=o,P[1]=l,P[2]=f,P[3]=h),T>C&&(T=C,P[0]=l,P[1]=f,P[2]=h,P[3]=o),T>N&&(P[0]=f,P[1]=h,P[2]=o,P[3]=l),P}detectSolid2(i){let o=i[0],l=i[1],f=i[2],h=i[3],m=this.transitionsBetween(o,h),w=mn.shiftPoint(l,f,(m+1)*4),C=mn.shiftPoint(f,l,(m+1)*4),N=this.transitionsBetween(w,o),T=this.transitionsBetween(C,h);return N<T?(i[0]=o,i[1]=l,i[2]=f,i[3]=h):(i[0]=l,i[1]=f,i[2]=h,i[3]=o),i}correctTopRight(i){let o=i[0],l=i[1],f=i[2],h=i[3],m=this.transitionsBetween(o,h),w=this.transitionsBetween(l,h),C=mn.shiftPoint(o,l,(w+1)*4),N=mn.shiftPoint(f,l,(m+1)*4);m=this.transitionsBetween(C,h),w=this.transitionsBetween(N,h);let T=new Ce(h.getX()+(f.getX()-l.getX())/(m+1),h.getY()+(f.getY()-l.getY())/(m+1)),P=new Ce(h.getX()+(o.getX()-l.getX())/(w+1),h.getY()+(o.getY()-l.getY())/(w+1));if(!this.isValid(T))return this.isValid(P)?P:null;if(!this.isValid(P))return T;let H=this.transitionsBetween(C,T)+this.transitionsBetween(N,T),Z=this.transitionsBetween(C,P)+this.transitionsBetween(N,P);return H>Z?T:P}shiftToModuleCenter(i){let o=i[0],l=i[1],f=i[2],h=i[3],m=this.transitionsBetween(o,h)+1,w=this.transitionsBetween(f,h)+1,C=mn.shiftPoint(o,l,w*4),N=mn.shiftPoint(f,l,m*4);m=this.transitionsBetween(C,h)+1,w=this.transitionsBetween(N,h)+1,(m&1)===1&&(m+=1),(w&1)===1&&(w+=1);let T=(o.getX()+l.getX()+f.getX()+h.getX())/4,P=(o.getY()+l.getY()+f.getY()+h.getY())/4;o=mn.moveAway(o,T,P),l=mn.moveAway(l,T,P),f=mn.moveAway(f,T,P),h=mn.moveAway(h,T,P);let H,Z;return C=mn.shiftPoint(o,l,w*4),C=mn.shiftPoint(C,h,m*4),H=mn.shiftPoint(l,o,w*4),H=mn.shiftPoint(H,f,m*4),N=mn.shiftPoint(f,h,w*4),N=mn.shiftPoint(N,l,m*4),Z=mn.shiftPoint(h,f,w*4),Z=mn.shiftPoint(Z,o,m*4),[C,H,N,Z]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,l,f,h,m,w){return Yt.getInstance().sampleGrid(i,m,w,.5,.5,m-.5,.5,m-.5,w-.5,.5,w-.5,o.getX(),o.getY(),h.getX(),h.getY(),f.getX(),f.getY(),l.getX(),l.getY())}transitionsBetween(i,o){let l=Math.trunc(i.getX()),f=Math.trunc(i.getY()),h=Math.trunc(o.getX()),m=Math.trunc(o.getY()),w=Math.abs(m-f)>Math.abs(h-l);if(w){let G=l;l=f,f=G,G=h,h=m,m=G}let C=Math.abs(h-l),N=Math.abs(m-f),T=-C/2,P=f<m?1:-1,H=l<h?1:-1,Z=0,z=this.image.get(w?f:l,w?l:f);for(let G=l,X=f;G!==h;G+=H){let ee=this.image.get(w?X:G,w?G:X);if(ee!==z&&(Z++,z=ee),T+=N,T>0){if(X===m)break;X+=P,T-=C}}return Z}}class oi{constructor(){this.decoder=new up}decode(i,o=null){let l,f;if(o!=null&&o.has(B.PURE_BARCODE)){const N=oi.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(N),f=oi.NO_POINTS}else{const N=new mn(i.getBlackMatrix()).detect();l=this.decoder.decode(N.getBits()),f=N.getPoints()}const h=l.getRawBytes(),m=new mt(l.getText(),h,8*h.length,f,Ae.DATA_MATRIX,R.currentTimeMillis()),w=l.getByteSegments();w!=null&&m.putMetadata(Qe.BYTE_SEGMENTS,w);const C=l.getECLevel();return C!=null&&m.putMetadata(Qe.ERROR_CORRECTION_LEVEL,C),m}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o==null||l==null)throw new re;const f=this.moduleSize(o,i);let h=o[1];const m=l[1];let w=o[0];const N=(l[0]-w+1)/f,T=(m-h+1)/f;if(N<=0||T<=0)throw new re;const P=f/2;h+=P,w+=P;const H=new xe(N,T);for(let Z=0;Z<T;Z++){const z=h+Z*f;for(let G=0;G<N;G++)i.get(w+G*f,z)&&H.set(G,Z)}return H}static moduleSize(i,o){const l=o.getWidth();let f=i[0];const h=i[1];for(;f<l&&o.get(f,h);)f++;if(f===l)throw new re;const m=f-i[0];if(m===0)throw new re;return m}}oi.NO_POINTS=[];class Rd extends cn{constructor(i=500){super(new oi,i)}}var Na;(function(M){M[M.L=0]="L",M[M.M=1]="M",M[M.Q=2]="Q",M[M.H=3]="H"})(Na||(Na={}));class $t{constructor(i,o,l){this.value=i,this.stringValue=o,this.bits=l,$t.FOR_BITS.set(l,this),$t.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return $t.L;case"M":return $t.M;case"Q":return $t.Q;case"H":return $t.H;default:throw new y(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof $t))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=$t.FOR_BITS.size)throw new E;return $t.FOR_BITS.get(i)}}$t.FOR_BITS=new Map,$t.FOR_VALUE=new Map,$t.L=new $t(Na.L,"L",1),$t.M=new $t(Na.M,"M",0),$t.Q=new $t(Na.Q,"Q",3),$t.H=new $t(Na.H,"H",2);class Kn{constructor(i){this.errorCorrectionLevel=$t.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return j.bitCount(i^o)}static decodeFormatInformation(i,o){const l=Kn.doDecodeFormatInformation(i,o);return l!==null?l:Kn.doDecodeFormatInformation(i^Kn.FORMAT_INFO_MASK_QR,o^Kn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let l=Number.MAX_SAFE_INTEGER,f=0;for(const h of Kn.FORMAT_INFO_DECODE_LOOKUP){const m=h[0];if(m===i||m===o)return new Kn(h[1]);let w=Kn.numBitsDiffering(i,m);w<l&&(f=h[1],l=w),i!==o&&(w=Kn.numBitsDiffering(o,m),w<l&&(f=h[1],l=w))}return l<=3?new Kn(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Kn))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Kn.FORMAT_INFO_MASK_QR=21522,Kn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class oe{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const l of o)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class K{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ye{constructor(i,o,...l){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=l;let f=0;const h=l[0].getECCodewordsPerBlock(),m=l[0].getECBlocks();for(const w of m)f+=w.getCount()*(w.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new F;try{return this.getVersionForNumber((i-17)/4)}catch{throw new F}}static getVersionForNumber(i){if(i<1||i>40)throw new E;return Ye.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,l=0;for(let f=0;f<Ye.VERSION_DECODE_INFO.length;f++){const h=Ye.VERSION_DECODE_INFO[f];if(h===i)return Ye.getVersionForNumber(f+7);const m=Kn.numBitsDiffering(i,h);m<o&&(l=f+7,o=m)}return o<=3?Ye.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new xe(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let f=0;f<l;f++){const h=this.alignmentPatternCenters[f]-2;for(let m=0;m<l;m++)f===0&&(m===0||m===l-1)||f===l-1&&m===0||o.setRegion(this.alignmentPatternCenters[m]-2,h,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}Ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ye.VERSIONS=[new Ye(1,new Int32Array(0),new oe(7,new K(1,19)),new oe(10,new K(1,16)),new oe(13,new K(1,13)),new oe(17,new K(1,9))),new Ye(2,Int32Array.from([6,18]),new oe(10,new K(1,34)),new oe(16,new K(1,28)),new oe(22,new K(1,22)),new oe(28,new K(1,16))),new Ye(3,Int32Array.from([6,22]),new oe(15,new K(1,55)),new oe(26,new K(1,44)),new oe(18,new K(2,17)),new oe(22,new K(2,13))),new Ye(4,Int32Array.from([6,26]),new oe(20,new K(1,80)),new oe(18,new K(2,32)),new oe(26,new K(2,24)),new oe(16,new K(4,9))),new Ye(5,Int32Array.from([6,30]),new oe(26,new K(1,108)),new oe(24,new K(2,43)),new oe(18,new K(2,15),new K(2,16)),new oe(22,new K(2,11),new K(2,12))),new Ye(6,Int32Array.from([6,34]),new oe(18,new K(2,68)),new oe(16,new K(4,27)),new oe(24,new K(4,19)),new oe(28,new K(4,15))),new Ye(7,Int32Array.from([6,22,38]),new oe(20,new K(2,78)),new oe(18,new K(4,31)),new oe(18,new K(2,14),new K(4,15)),new oe(26,new K(4,13),new K(1,14))),new Ye(8,Int32Array.from([6,24,42]),new oe(24,new K(2,97)),new oe(22,new K(2,38),new K(2,39)),new oe(22,new K(4,18),new K(2,19)),new oe(26,new K(4,14),new K(2,15))),new Ye(9,Int32Array.from([6,26,46]),new oe(30,new K(2,116)),new oe(22,new K(3,36),new K(2,37)),new oe(20,new K(4,16),new K(4,17)),new oe(24,new K(4,12),new K(4,13))),new Ye(10,Int32Array.from([6,28,50]),new oe(18,new K(2,68),new K(2,69)),new oe(26,new K(4,43),new K(1,44)),new oe(24,new K(6,19),new K(2,20)),new oe(28,new K(6,15),new K(2,16))),new Ye(11,Int32Array.from([6,30,54]),new oe(20,new K(4,81)),new oe(30,new K(1,50),new K(4,51)),new oe(28,new K(4,22),new K(4,23)),new oe(24,new K(3,12),new K(8,13))),new Ye(12,Int32Array.from([6,32,58]),new oe(24,new K(2,92),new K(2,93)),new oe(22,new K(6,36),new K(2,37)),new oe(26,new K(4,20),new K(6,21)),new oe(28,new K(7,14),new K(4,15))),new Ye(13,Int32Array.from([6,34,62]),new oe(26,new K(4,107)),new oe(22,new K(8,37),new K(1,38)),new oe(24,new K(8,20),new K(4,21)),new oe(22,new K(12,11),new K(4,12))),new Ye(14,Int32Array.from([6,26,46,66]),new oe(30,new K(3,115),new K(1,116)),new oe(24,new K(4,40),new K(5,41)),new oe(20,new K(11,16),new K(5,17)),new oe(24,new K(11,12),new K(5,13))),new Ye(15,Int32Array.from([6,26,48,70]),new oe(22,new K(5,87),new K(1,88)),new oe(24,new K(5,41),new K(5,42)),new oe(30,new K(5,24),new K(7,25)),new oe(24,new K(11,12),new K(7,13))),new Ye(16,Int32Array.from([6,26,50,74]),new oe(24,new K(5,98),new K(1,99)),new oe(28,new K(7,45),new K(3,46)),new oe(24,new K(15,19),new K(2,20)),new oe(30,new K(3,15),new K(13,16))),new Ye(17,Int32Array.from([6,30,54,78]),new oe(28,new K(1,107),new K(5,108)),new oe(28,new K(10,46),new K(1,47)),new oe(28,new K(1,22),new K(15,23)),new oe(28,new K(2,14),new K(17,15))),new Ye(18,Int32Array.from([6,30,56,82]),new oe(30,new K(5,120),new K(1,121)),new oe(26,new K(9,43),new K(4,44)),new oe(28,new K(17,22),new K(1,23)),new oe(28,new K(2,14),new K(19,15))),new Ye(19,Int32Array.from([6,30,58,86]),new oe(28,new K(3,113),new K(4,114)),new oe(26,new K(3,44),new K(11,45)),new oe(26,new K(17,21),new K(4,22)),new oe(26,new K(9,13),new K(16,14))),new Ye(20,Int32Array.from([6,34,62,90]),new oe(28,new K(3,107),new K(5,108)),new oe(26,new K(3,41),new K(13,42)),new oe(30,new K(15,24),new K(5,25)),new oe(28,new K(15,15),new K(10,16))),new Ye(21,Int32Array.from([6,28,50,72,94]),new oe(28,new K(4,116),new K(4,117)),new oe(26,new K(17,42)),new oe(28,new K(17,22),new K(6,23)),new oe(30,new K(19,16),new K(6,17))),new Ye(22,Int32Array.from([6,26,50,74,98]),new oe(28,new K(2,111),new K(7,112)),new oe(28,new K(17,46)),new oe(30,new K(7,24),new K(16,25)),new oe(24,new K(34,13))),new Ye(23,Int32Array.from([6,30,54,78,102]),new oe(30,new K(4,121),new K(5,122)),new oe(28,new K(4,47),new K(14,48)),new oe(30,new K(11,24),new K(14,25)),new oe(30,new K(16,15),new K(14,16))),new Ye(24,Int32Array.from([6,28,54,80,106]),new oe(30,new K(6,117),new K(4,118)),new oe(28,new K(6,45),new K(14,46)),new oe(30,new K(11,24),new K(16,25)),new oe(30,new K(30,16),new K(2,17))),new Ye(25,Int32Array.from([6,32,58,84,110]),new oe(26,new K(8,106),new K(4,107)),new oe(28,new K(8,47),new K(13,48)),new oe(30,new K(7,24),new K(22,25)),new oe(30,new K(22,15),new K(13,16))),new Ye(26,Int32Array.from([6,30,58,86,114]),new oe(28,new K(10,114),new K(2,115)),new oe(28,new K(19,46),new K(4,47)),new oe(28,new K(28,22),new K(6,23)),new oe(30,new K(33,16),new K(4,17))),new Ye(27,Int32Array.from([6,34,62,90,118]),new oe(30,new K(8,122),new K(4,123)),new oe(28,new K(22,45),new K(3,46)),new oe(30,new K(8,23),new K(26,24)),new oe(30,new K(12,15),new K(28,16))),new Ye(28,Int32Array.from([6,26,50,74,98,122]),new oe(30,new K(3,117),new K(10,118)),new oe(28,new K(3,45),new K(23,46)),new oe(30,new K(4,24),new K(31,25)),new oe(30,new K(11,15),new K(31,16))),new Ye(29,Int32Array.from([6,30,54,78,102,126]),new oe(30,new K(7,116),new K(7,117)),new oe(28,new K(21,45),new K(7,46)),new oe(30,new K(1,23),new K(37,24)),new oe(30,new K(19,15),new K(26,16))),new Ye(30,Int32Array.from([6,26,52,78,104,130]),new oe(30,new K(5,115),new K(10,116)),new oe(28,new K(19,47),new K(10,48)),new oe(30,new K(15,24),new K(25,25)),new oe(30,new K(23,15),new K(25,16))),new Ye(31,Int32Array.from([6,30,56,82,108,134]),new oe(30,new K(13,115),new K(3,116)),new oe(28,new K(2,46),new K(29,47)),new oe(30,new K(42,24),new K(1,25)),new oe(30,new K(23,15),new K(28,16))),new Ye(32,Int32Array.from([6,34,60,86,112,138]),new oe(30,new K(17,115)),new oe(28,new K(10,46),new K(23,47)),new oe(30,new K(10,24),new K(35,25)),new oe(30,new K(19,15),new K(35,16))),new Ye(33,Int32Array.from([6,30,58,86,114,142]),new oe(30,new K(17,115),new K(1,116)),new oe(28,new K(14,46),new K(21,47)),new oe(30,new K(29,24),new K(19,25)),new oe(30,new K(11,15),new K(46,16))),new Ye(34,Int32Array.from([6,34,62,90,118,146]),new oe(30,new K(13,115),new K(6,116)),new oe(28,new K(14,46),new K(23,47)),new oe(30,new K(44,24),new K(7,25)),new oe(30,new K(59,16),new K(1,17))),new Ye(35,Int32Array.from([6,30,54,78,102,126,150]),new oe(30,new K(12,121),new K(7,122)),new oe(28,new K(12,47),new K(26,48)),new oe(30,new K(39,24),new K(14,25)),new oe(30,new K(22,15),new K(41,16))),new Ye(36,Int32Array.from([6,24,50,76,102,128,154]),new oe(30,new K(6,121),new K(14,122)),new oe(28,new K(6,47),new K(34,48)),new oe(30,new K(46,24),new K(10,25)),new oe(30,new K(2,15),new K(64,16))),new Ye(37,Int32Array.from([6,28,54,80,106,132,158]),new oe(30,new K(17,122),new K(4,123)),new oe(28,new K(29,46),new K(14,47)),new oe(30,new K(49,24),new K(10,25)),new oe(30,new K(24,15),new K(46,16))),new Ye(38,Int32Array.from([6,32,58,84,110,136,162]),new oe(30,new K(4,122),new K(18,123)),new oe(28,new K(13,46),new K(32,47)),new oe(30,new K(48,24),new K(14,25)),new oe(30,new K(42,15),new K(32,16))),new Ye(39,Int32Array.from([6,26,54,82,110,138,166]),new oe(30,new K(20,117),new K(4,118)),new oe(28,new K(40,47),new K(7,48)),new oe(30,new K(43,24),new K(22,25)),new oe(30,new K(10,15),new K(67,16))),new Ye(40,Int32Array.from([6,30,58,86,114,142,170]),new oe(30,new K(19,118),new K(6,119)),new oe(28,new K(18,47),new K(31,48)),new oe(30,new K(34,24),new K(34,25)),new oe(30,new K(20,15),new K(61,16)))];var Dn;(function(M){M[M.DATA_MASK_000=0]="DATA_MASK_000",M[M.DATA_MASK_001=1]="DATA_MASK_001",M[M.DATA_MASK_010=2]="DATA_MASK_010",M[M.DATA_MASK_011=3]="DATA_MASK_011",M[M.DATA_MASK_100=4]="DATA_MASK_100",M[M.DATA_MASK_101=5]="DATA_MASK_101",M[M.DATA_MASK_110=6]="DATA_MASK_110",M[M.DATA_MASK_111=7]="DATA_MASK_111"})(Dn||(Dn={}));class br{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let l=0;l<o;l++)for(let f=0;f<o;f++)this.isMasked(l,f)&&i.flip(f,l)}}br.values=new Map([[Dn.DATA_MASK_000,new br(Dn.DATA_MASK_000,(M,i)=>(M+i&1)===0)],[Dn.DATA_MASK_001,new br(Dn.DATA_MASK_001,(M,i)=>(M&1)===0)],[Dn.DATA_MASK_010,new br(Dn.DATA_MASK_010,(M,i)=>i%3===0)],[Dn.DATA_MASK_011,new br(Dn.DATA_MASK_011,(M,i)=>(M+i)%3===0)],[Dn.DATA_MASK_100,new br(Dn.DATA_MASK_100,(M,i)=>(Math.floor(M/2)+Math.floor(i/3)&1)===0)],[Dn.DATA_MASK_101,new br(Dn.DATA_MASK_101,(M,i)=>M*i%6===0)],[Dn.DATA_MASK_110,new br(Dn.DATA_MASK_110,(M,i)=>M*i%6<3)],[Dn.DATA_MASK_111,new br(Dn.DATA_MASK_111,(M,i)=>(M+i+M*i%3&1)===0)]]);class _a{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new F;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let h=0;h<6;h++)i=this.copyBit(h,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let h=5;h>=0;h--)i=this.copyBit(8,h,i);const o=this.bitMatrix.getHeight();let l=0;const f=o-7;for(let h=o-1;h>=f;h--)l=this.copyBit(8,h,l);for(let h=o-8;h<o;h++)l=this.copyBit(h,8,l);if(this.parsedFormatInfo=Kn.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return Ye.getVersionForNumber(o);let l=0;const f=i-11;for(let m=5;m>=0;m--)for(let w=i-9;w>=f;w--)l=this.copyBit(w,m,l);let h=Ye.decodeVersionInformation(l);if(h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;l=0;for(let m=5;m>=0;m--)for(let w=i-9;w>=f;w--)l=this.copyBit(m,w,l);if(h=Ye.decodeVersionInformation(l),h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;throw new F}copyBit(i,o,l){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),l=br.values.get(i.getDataMask()),f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f);const h=o.buildFunctionPattern();let m=!0;const w=new Uint8Array(o.getTotalCodewords());let C=0,N=0,T=0;for(let P=f-1;P>0;P-=2){P===6&&P--;for(let H=0;H<f;H++){const Z=m?f-1-H:H;for(let z=0;z<2;z++)h.get(P-z,Z)||(T++,N<<=1,this.bitMatrix.get(P-z,Z)&&(N|=1),T===8&&(w[C++]=N,T=0,N=0))}m=!m}if(C!==o.getTotalCodewords())throw new F;return w}remask(){if(this.parsedFormatInfo===null)return;const i=br.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,l=i.getWidth();o<l;o++)for(let f=o+1,h=i.getHeight();f<h;f++)i.get(o,f)!==i.get(f,o)&&(i.flip(f,o),i.flip(o,f))}}class wl{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,l){if(i.length!==o.getTotalCodewords())throw new E;const f=o.getECBlocksForLevel(l);let h=0;const m=f.getECBlocks();for(const z of m)h+=z.getCount();const w=new Array(h);let C=0;for(const z of m)for(let G=0;G<z.getCount();G++){const X=z.getDataCodewords(),ee=f.getECCodewordsPerBlock()+X;w[C++]=new wl(X,new Uint8Array(ee))}const N=w[0].codewords.length;let T=w.length-1;for(;T>=0&&w[T].codewords.length!==N;)T--;T++;const P=N-f.getECCodewordsPerBlock();let H=0;for(let z=0;z<P;z++)for(let G=0;G<C;G++)w[G].codewords[z]=i[H++];for(let z=T;z<C;z++)w[z].codewords[P]=i[H++];const Z=w[0].codewords.length;for(let z=P;z<Z;z++)for(let G=0;G<C;G++){const X=G<T?z:z+1;w[G].codewords[X]=i[H++]}return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var jr;(function(M){M[M.TERMINATOR=0]="TERMINATOR",M[M.NUMERIC=1]="NUMERIC",M[M.ALPHANUMERIC=2]="ALPHANUMERIC",M[M.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",M[M.BYTE=4]="BYTE",M[M.ECI=5]="ECI",M[M.KANJI=6]="KANJI",M[M.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",M[M.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",M[M.HANZI=9]="HANZI"})(jr||(jr={}));class $e{constructor(i,o,l,f){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=f,$e.FOR_BITS.set(f,this),$e.FOR_VALUE.set(i,this)}static forBits(i){const o=$e.FOR_BITS.get(i);if(o===void 0)throw new E;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof $e))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}$e.FOR_BITS=new Map,$e.FOR_VALUE=new Map,$e.TERMINATOR=new $e(jr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),$e.NUMERIC=new $e(jr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),$e.ALPHANUMERIC=new $e(jr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),$e.STRUCTURED_APPEND=new $e(jr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),$e.BYTE=new $e(jr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),$e.ECI=new $e(jr.ECI,"ECI",Int32Array.from([0,0,0]),7),$e.KANJI=new $e(jr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),$e.FNC1_FIRST_POSITION=new $e(jr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),$e.FNC1_SECOND_POSITION=new $e(jr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),$e.HANZI=new $e(jr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class on{static decode(i,o,l,f){const h=new vl(i);let m=new ce;const w=new Array;let C=-1,N=-1;try{let T=null,P=!1,H;do{if(h.available()<4)H=$e.TERMINATOR;else{const Z=h.readBits(4);H=$e.forBits(Z)}switch(H){case $e.TERMINATOR:break;case $e.FNC1_FIRST_POSITION:case $e.FNC1_SECOND_POSITION:P=!0;break;case $e.STRUCTURED_APPEND:if(h.available()<16)throw new F;C=h.readBits(8),N=h.readBits(8);break;case $e.ECI:const Z=on.parseECIValue(h);if(T=W.getCharacterSetECIByValue(Z),T===null)throw new F;break;case $e.HANZI:const z=h.readBits(4),G=h.readBits(H.getCharacterCountBits(o));z===on.GB2312_SUBSET&&on.decodeHanziSegment(h,m,G);break;default:const X=h.readBits(H.getCharacterCountBits(o));switch(H){case $e.NUMERIC:on.decodeNumericSegment(h,m,X);break;case $e.ALPHANUMERIC:on.decodeAlphanumericSegment(h,m,X,P);break;case $e.BYTE:on.decodeByteSegment(h,m,X,T,w,f);break;case $e.KANJI:on.decodeKanjiSegment(h,m,X);break;default:throw new F}break}}while(H!==$e.TERMINATOR)}catch{throw new F}return new kn(i,m.toString(),w.length===0?null:w,l===null?null:l.toString(),C,N)}static decodeHanziSegment(i,o,l){if(l*13>i.available())throw new F;const f=new Uint8Array(2*l);let h=0;for(;l>0;){const m=i.readBits(13);let w=m/96<<8&4294967295|m%96;w<959?w+=41377:w+=42657,f[h]=w>>8&255,f[h+1]=w&255,h+=2,l--}try{o.append(le.decode(f,ie.GB2312))}catch(m){throw new F(m)}}static decodeKanjiSegment(i,o,l){if(l*13>i.available())throw new F;const f=new Uint8Array(2*l);let h=0;for(;l>0;){const m=i.readBits(13);let w=m/192<<8&4294967295|m%192;w<7936?w+=33088:w+=49472,f[h]=w>>8,f[h+1]=w,h+=2,l--}try{o.append(le.decode(f,ie.SHIFT_JIS))}catch(m){throw new F(m)}}static decodeByteSegment(i,o,l,f,h,m){if(8*l>i.available())throw new F;const w=new Uint8Array(l);for(let N=0;N<l;N++)w[N]=i.readBits(8);let C;f===null?C=ie.guessEncoding(w,m):C=f.getName();try{o.append(le.decode(w,C))}catch(N){throw new F(N)}h.push(w)}static toAlphaNumericChar(i){if(i>=on.ALPHANUMERIC_CHARS.length)throw new F;return on.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,l,f){const h=o.length();for(;l>1;){if(i.available()<11)throw new F;const m=i.readBits(11);o.append(on.toAlphaNumericChar(Math.floor(m/45))),o.append(on.toAlphaNumericChar(m%45)),l-=2}if(l===1){if(i.available()<6)throw new F;o.append(on.toAlphaNumericChar(i.readBits(6)))}if(f)for(let m=h;m<o.length();m++)o.charAt(m)==="%"&&(m<o.length()-1&&o.charAt(m+1)==="%"?o.deleteCharAt(m+1):o.setCharAt(m,String.fromCharCode(29)))}static decodeNumericSegment(i,o,l){for(;l>=3;){if(i.available()<10)throw new F;const f=i.readBits(10);if(f>=1e3)throw new F;o.append(on.toAlphaNumericChar(Math.floor(f/100))),o.append(on.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(on.toAlphaNumericChar(f%10)),l-=3}if(l===2){if(i.available()<7)throw new F;const f=i.readBits(7);if(f>=100)throw new F;o.append(on.toAlphaNumericChar(Math.floor(f/10))),o.append(on.toAlphaNumericChar(f%10))}else if(l===1){if(i.available()<4)throw new F;const f=i.readBits(4);if(f>=10)throw new F;o.append(on.toAlphaNumericChar(f))}}static parseECIValue(i){const o=i.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=i.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=i.readBits(16);return(o&31)<<16&4294967295|l}throw new F}}on.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",on.GB2312_SUBSET=1;class Bc{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class Od{constructor(){this.rsDecoder=new Ei(Le.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(xe.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const l=new _a(i);let f=null;try{return this.decodeBitMatrixParser(l,o)}catch(h){f=h}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const h=this.decodeBitMatrixParser(l,o);return h.setOther(new Bc(!0)),h}catch(h){throw f!==null?f:h}}decodeBitMatrixParser(i,o){const l=i.readVersion(),f=i.readFormatInformation().getErrorCorrectionLevel(),h=i.readCodewords(),m=wl.getDataBlocks(h,l,f);let w=0;for(const T of m)w+=T.getNumDataCodewords();const C=new Uint8Array(w);let N=0;for(const T of m){const P=T.getCodewords(),H=T.getNumDataCodewords();this.correctErrors(P,H);for(let Z=0;Z<H;Z++)C[N++]=P[Z]}return on.decode(C,l,f,o)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new k}for(let f=0;f<o;f++)i[f]=l[f]}}class yl extends Ce{constructor(i,o,l){super(i,o),this.estimatedModuleSize=l}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const f=Math.abs(i-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const f=(this.getX()+o)/2,h=(this.getY()+i)/2,m=(this.estimatedModuleSize+l)/2;return new yl(f,h,m)}}class bl{constructor(i,o,l,f,h,m,w){this.image=i,this.startX=o,this.startY=l,this.width=f,this.height=h,this.moduleSize=m,this.resultPointCallback=w,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,l=this.width,f=i+l,h=this.startY+o/2,m=new Int32Array(3),w=this.image;for(let C=0;C<o;C++){const N=h+(C&1?-Math.floor((C+1)/2):Math.floor((C+1)/2));m[0]=0,m[1]=0,m[2]=0;let T=i;for(;T<f&&!w.get(T,N);)T++;let P=0;for(;T<f;){if(w.get(T,N))if(P===1)m[1]++;else if(P===2){if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,N,T);if(H!==null)return H}m[0]=m[2],m[1]=1,m[2]=0,P=1}else m[++P]++;else P===1&&P++,m[P]++;T++}if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,N,f);if(H!==null)return H}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,l=o/2;for(let f=0;f<3;f++)if(Math.abs(o-i[f])>=l)return!1;return!0}crossCheckVertical(i,o,l,f){const h=this.image,m=h.getHeight(),w=this.crossCheckStateCount;w[0]=0,w[1]=0,w[2]=0;let C=i;for(;C>=0&&h.get(o,C)&&w[1]<=l;)w[1]++,C--;if(C<0||w[1]>l)return NaN;for(;C>=0&&!h.get(o,C)&&w[0]<=l;)w[0]++,C--;if(w[0]>l)return NaN;for(C=i+1;C<m&&h.get(o,C)&&w[1]<=l;)w[1]++,C++;if(C===m||w[1]>l)return NaN;for(;C<m&&!h.get(o,C)&&w[2]<=l;)w[2]++,C++;if(w[2]>l)return NaN;const N=w[0]+w[1]+w[2];return 5*Math.abs(N-f)>=2*f?NaN:this.foundPatternCross(w)?bl.centerFromEnd(w,C):NaN}handlePossibleCenter(i,o,l){const f=i[0]+i[1]+i[2],h=bl.centerFromEnd(i,l),m=this.crossCheckVertical(o,h,2*i[1],f);if(!isNaN(m)){const w=(i[0]+i[1]+i[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(w,m,h))return N.combineEstimate(m,h,w);const C=new yl(h,m,w);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class Uc extends Ce{constructor(i,o,l,f){super(i,o),this.estimatedModuleSize=l,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const f=Math.abs(i-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const f=this.count+1,h=(this.count*this.getX()+o)/f,m=(this.count*this.getY()+i)/f,w=(this.count*this.estimatedModuleSize+l)/f;return new Uc(h,m,w,f)}}class dp{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Bn{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get(B.TRY_HARDER)!==void 0,l=i!=null&&i.get(B.PURE_BARCODE)!==void 0,f=this.image,h=f.getHeight(),m=f.getWidth();let w=Math.floor(3*h/(4*Bn.MAX_MODULES));(w<Bn.MIN_SKIP||o)&&(w=Bn.MIN_SKIP);let C=!1;const N=new Int32Array(5);for(let P=w-1;P<h&&!C;P+=w){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let H=0;for(let Z=0;Z<m;Z++)if(f.get(Z,P))(H&1)===1&&H++,N[H]++;else if(H&1)N[H]++;else if(H===4)if(Bn.foundPatternCross(N)){if(this.handlePossibleCenter(N,P,Z,l)===!0)if(w=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const G=this.findRowSkip();G>N[2]&&(P+=G-N[2]-w,Z=m-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,H=3;continue}H=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,H=3;else N[++H]++;Bn.foundPatternCross(N)&&this.handlePossibleCenter(N,P,m,l)===!0&&(w=N[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return Ce.orderBestPatterns(T),new dp(T)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let h=0;h<5;h++){const m=i[h];if(m===0)return!1;o+=m}if(o<7)return!1;const l=o/7,f=l/2;return Math.abs(l-i[0])<f&&Math.abs(l-i[1])<f&&Math.abs(3*l-i[2])<3*f&&Math.abs(l-i[3])<f&&Math.abs(l-i[4])<f}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,l,f){const h=this.getCrossCheckStateCount();let m=0;const w=this.image;for(;i>=m&&o>=m&&w.get(o-m,i-m);)h[2]++,m++;if(i<m||o<m)return!1;for(;i>=m&&o>=m&&!w.get(o-m,i-m)&&h[1]<=l;)h[1]++,m++;if(i<m||o<m||h[1]>l)return!1;for(;i>=m&&o>=m&&w.get(o-m,i-m)&&h[0]<=l;)h[0]++,m++;if(h[0]>l)return!1;const C=w.getHeight(),N=w.getWidth();for(m=1;i+m<C&&o+m<N&&w.get(o+m,i+m);)h[2]++,m++;if(i+m>=C||o+m>=N)return!1;for(;i+m<C&&o+m<N&&!w.get(o+m,i+m)&&h[3]<l;)h[3]++,m++;if(i+m>=C||o+m>=N||h[3]>=l)return!1;for(;i+m<C&&o+m<N&&w.get(o+m,i+m)&&h[4]<l;)h[4]++,m++;if(h[4]>=l)return!1;const T=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(T-f)<2*f&&Bn.foundPatternCross(h)}crossCheckVertical(i,o,l,f){const h=this.image,m=h.getHeight(),w=this.getCrossCheckStateCount();let C=i;for(;C>=0&&h.get(o,C);)w[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(o,C)&&w[1]<=l;)w[1]++,C--;if(C<0||w[1]>l)return NaN;for(;C>=0&&h.get(o,C)&&w[0]<=l;)w[0]++,C--;if(w[0]>l)return NaN;for(C=i+1;C<m&&h.get(o,C);)w[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(o,C)&&w[3]<l;)w[3]++,C++;if(C===m||w[3]>=l)return NaN;for(;C<m&&h.get(o,C)&&w[4]<l;)w[4]++,C++;if(w[4]>=l)return NaN;const N=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(N-f)>=2*f?NaN:Bn.foundPatternCross(w)?Bn.centerFromEnd(w,C):NaN}crossCheckHorizontal(i,o,l,f){const h=this.image,m=h.getWidth(),w=this.getCrossCheckStateCount();let C=i;for(;C>=0&&h.get(C,o);)w[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(C,o)&&w[1]<=l;)w[1]++,C--;if(C<0||w[1]>l)return NaN;for(;C>=0&&h.get(C,o)&&w[0]<=l;)w[0]++,C--;if(w[0]>l)return NaN;for(C=i+1;C<m&&h.get(C,o);)w[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(C,o)&&w[3]<l;)w[3]++,C++;if(C===m||w[3]>=l)return NaN;for(;C<m&&h.get(C,o)&&w[4]<l;)w[4]++,C++;if(w[4]>=l)return NaN;const N=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(N-f)>=f?NaN:Bn.foundPatternCross(w)?Bn.centerFromEnd(w,C):NaN}handlePossibleCenter(i,o,l,f){const h=i[0]+i[1]+i[2]+i[3]+i[4];let m=Bn.centerFromEnd(i,l),w=this.crossCheckVertical(o,Math.floor(m),i[2],h);if(!isNaN(w)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(w),i[2],h),!isNaN(m)&&(!f||this.crossCheckDiagonal(Math.floor(w),Math.floor(m),i[2],h)))){const C=h/7;let N=!1;const T=this.possibleCenters;for(let P=0,H=T.length;P<H;P++){const Z=T[P];if(Z.aboutEquals(C,w,m)){T[P]=Z.combineEstimate(w,m,C),N=!0;break}}if(!N){const P=new Uc(m,w,C);T.push(P),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(P)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=Bn.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const l=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=Bn.CENTER_QUORUM&&(i++,o+=m.getEstimatedModuleSize());if(i<3)return!1;const f=o/l;let h=0;for(const m of this.possibleCenters)h+=Math.abs(m.getEstimatedModuleSize()-f);return h<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new re;const o=this.possibleCenters;let l;if(i>3){let f=0,h=0;for(const C of this.possibleCenters){const N=C.getEstimatedModuleSize();f+=N,h+=N*N}l=f/i;let m=Math.sqrt(h/i-l*l);o.sort((C,N)=>{const T=Math.abs(N.getEstimatedModuleSize()-l),P=Math.abs(C.getEstimatedModuleSize()-l);return T<P?-1:T>P?1:0});const w=Math.max(.2*l,m);for(let C=0;C<o.length&&o.length>3;C++){const N=o[C];Math.abs(N.getEstimatedModuleSize()-l)>w&&(o.splice(C,1),C--)}}if(o.length>3){let f=0;for(const h of o)f+=h.getEstimatedModuleSize();l=f/o.length,o.sort((h,m)=>{if(m.getCount()===h.getCount()){const w=Math.abs(m.getEstimatedModuleSize()-l),C=Math.abs(h.getEstimatedModuleSize()-l);return w<C?1:w>C?-1:0}else return m.getCount()-h.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Bn.CENTER_QUORUM=2,Bn.MIN_SKIP=3,Bn.MAX_MODULES=57;class bo{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(B.NEED_RESULT_POINT_CALLBACK);const l=new Bn(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const o=i.getTopLeft(),l=i.getTopRight(),f=i.getBottomLeft(),h=this.calculateModuleSize(o,l,f);if(h<1)throw new re("No pattern found in proccess finder.");const m=bo.computeDimension(o,l,f,h),w=Ye.getProvisionalVersionForDimension(m),C=w.getDimensionForVersion()-7;let N=null;if(w.getAlignmentPatternCenters().length>0){const Z=l.getX()-o.getX()+f.getX(),z=l.getY()-o.getY()+f.getY(),G=1-3/C,X=Math.floor(o.getX()+G*(Z-o.getX())),ee=Math.floor(o.getY()+G*(z-o.getY()));for(let he=4;he<=16;he<<=1)try{N=this.findAlignmentInRegion(h,X,ee,he);break}catch(me){if(!(me instanceof re))throw me}}const T=bo.createTransform(o,l,f,N,m),P=bo.sampleGrid(this.image,T,m);let H;return N===null?H=[f,o,l]:H=[f,o,l,N],new Fn(P,H)}static createTransform(i,o,l,f,h){const m=h-3.5;let w,C,N,T;return f!==null?(w=f.getX(),C=f.getY(),N=m-3,T=N):(w=o.getX()-i.getX()+l.getX(),C=o.getY()-i.getY()+l.getY(),N=m,T=m),Tt.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,N,T,3.5,m,i.getX(),i.getY(),o.getX(),o.getY(),w,C,l.getX(),l.getY())}static sampleGrid(i,o,l){return Yt.getInstance().sampleGridWithTransform(i,l,l,o)}static computeDimension(i,o,l,f){const h=lt.round(Ce.distance(i,o)/f),m=lt.round(Ce.distance(i,l)/f);let w=Math.floor((h+m)/2)+7;switch(w&3){case 0:w++;break;case 2:w--;break;case 3:throw new re("Dimensions could be not found.")}return w}calculateModuleSize(i,o,l){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?f/7:isNaN(f)?l/7:(l+f)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,l,f){let h=this.sizeOfBlackWhiteBlackRun(i,o,l,f),m=1,w=i-(l-i);w<0?(m=i/(i-w),w=0):w>=this.image.getWidth()&&(m=(this.image.getWidth()-1-i)/(w-i),w=this.image.getWidth()-1);let C=Math.floor(o-(f-o)*m);return m=1,C<0?(m=o/(o-C),C=0):C>=this.image.getHeight()&&(m=(this.image.getHeight()-1-o)/(C-o),C=this.image.getHeight()-1),w=Math.floor(i+(w-i)*m),h+=this.sizeOfBlackWhiteBlackRun(i,o,w,C),h-1}sizeOfBlackWhiteBlackRun(i,o,l,f){const h=Math.abs(f-o)>Math.abs(l-i);if(h){let Z=i;i=o,o=Z,Z=l,l=f,f=Z}const m=Math.abs(l-i),w=Math.abs(f-o);let C=-m/2;const N=i<l?1:-1,T=o<f?1:-1;let P=0;const H=l+N;for(let Z=i,z=o;Z!==H;Z+=N){const G=h?z:Z,X=h?Z:z;if(P===1===this.image.get(G,X)){if(P===2)return lt.distance(Z,z,i,o);P++}if(C+=w,C>0){if(z===f)break;z+=T,C-=m}}return P===2?lt.distance(l+N,f,i,o):NaN}findAlignmentInRegion(i,o,l,f){const h=Math.floor(f*i),m=Math.max(0,o-h),w=Math.min(this.image.getWidth()-1,o+h);if(w-m<i*3)throw new re("Alignment top exceeds estimated module size.");const C=Math.max(0,l-h),N=Math.min(this.image.getHeight()-1,l+h);if(N-C<i*3)throw new re("Alignment bottom exceeds estimated module size.");return new bl(this.image,m,C,w-m,N-C,i,this.resultPointCallback).find()}}class ms{constructor(){this.decoder=new Od}getDecoder(){return this.decoder}decode(i,o){let l,f;if(o!=null&&o.get(B.PURE_BARCODE)!==void 0){const C=ms.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(C,o),f=ms.NO_POINTS}else{const C=new bo(i.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(C.getBits(),o),f=C.getPoints()}l.getOther()instanceof Bc&&l.getOther().applyMirroredCorrection(f);const h=new mt(l.getText(),l.getRawBytes(),void 0,f,Ae.QR_CODE,void 0),m=l.getByteSegments();m!==null&&h.putMetadata(Qe.BYTE_SEGMENTS,m);const w=l.getECLevel();return w!==null&&h.putMetadata(Qe.ERROR_CORRECTION_LEVEL,w),l.hasStructuredAppend()&&(h.putMetadata(Qe.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),h.putMetadata(Qe.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),h}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o===null||l===null)throw new re;const f=this.moduleSize(o,i);let h=o[1],m=l[1],w=o[0],C=l[0];if(w>=C||h>=m)throw new re;if(m-h!==C-w&&(C=w+(m-h),C>=i.getWidth()))throw new re;const N=Math.round((C-w+1)/f),T=Math.round((m-h+1)/f);if(N<=0||T<=0)throw new re;if(T!==N)throw new re;const P=Math.floor(f/2);h+=P,w+=P;const H=w+Math.floor((N-1)*f)-C;if(H>0){if(H>P)throw new re;w-=H}const Z=h+Math.floor((T-1)*f)-m;if(Z>0){if(Z>P)throw new re;h-=Z}const z=new xe(N,T);for(let G=0;G<T;G++){const X=h+Math.floor(G*f);for(let ee=0;ee<N;ee++)i.get(w+Math.floor(ee*f),X)&&z.set(ee,G)}return z}static moduleSize(i,o){const l=o.getHeight(),f=o.getWidth();let h=i[0],m=i[1],w=!0,C=0;for(;h<f&&m<l;){if(w!==o.get(h,m)){if(++C===5)break;w=!w}h++,m++}if(h===f||m===l)throw new re;return(h-i[0])/7}}ms.NO_POINTS=new Array;class Ke{PDF417Common(){}static getBitCountSum(i){return lt.sum(i)}static toIntArray(i){if(i==null||!i.length)return Ke.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let l=0;for(const f of i)o[l++]=f;return o}static getCodeword(i){const o=D.binarySearch(Ke.SYMBOL_TABLE,i&262143);return o<0?-1:(Ke.CODEWORD_TABLE[o]-1)%Ke.NUMBER_OF_CODEWORDS}}Ke.NUMBER_OF_CODEWORDS=929,Ke.MAX_CODEWORDS_IN_BARCODE=Ke.NUMBER_OF_CODEWORDS-1,Ke.MIN_ROWS_IN_BARCODE=3,Ke.MAX_ROWS_IN_BARCODE=90,Ke.MODULES_IN_CODEWORD=17,Ke.MODULES_IN_STOP_PATTERN=18,Ke.BARS_IN_MODULE=8,Ke.EMPTY_INT_ARRAY=new Int32Array([]),Ke.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ke.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class fp{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class at{static detectMultiple(i,o,l){let f=i.getBlackMatrix(),h=at.detect(l,f);return h.length||(f=f.clone(),f.rotate180(),h=at.detect(l,f)),new fp(f,h)}static detect(i,o){const l=new Array;let f=0,h=0,m=!1;for(;f<o.getHeight();){const w=at.findVertices(o,f,h);if(w[0]==null&&w[3]==null){if(!m)break;m=!1,h=0;for(const C of l)C[1]!=null&&(f=Math.trunc(Math.max(f,C[1].getY()))),C[3]!=null&&(f=Math.max(f,Math.trunc(C[3].getY())));f+=at.ROW_STEP;continue}if(m=!0,l.push(w),!i)break;w[2]!=null?(h=Math.trunc(w[2].getX()),f=Math.trunc(w[2].getY())):(h=Math.trunc(w[4].getX()),f=Math.trunc(w[4].getY()))}return l}static findVertices(i,o,l){const f=i.getHeight(),h=i.getWidth(),m=new Array(8);return at.copyToResult(m,at.findRowsWithPattern(i,f,h,o,l,at.START_PATTERN),at.INDEXES_START_PATTERN),m[4]!=null&&(l=Math.trunc(m[4].getX()),o=Math.trunc(m[4].getY())),at.copyToResult(m,at.findRowsWithPattern(i,f,h,o,l,at.STOP_PATTERN),at.INDEXES_STOP_PATTERN),m}static copyToResult(i,o,l){for(let f=0;f<l.length;f++)i[l[f]]=o[f]}static findRowsWithPattern(i,o,l,f,h,m){const w=new Array(4);let C=!1;const N=new Int32Array(m.length);for(;f<o;f+=at.ROW_STEP){let P=at.findGuardPattern(i,h,f,l,!1,m,N);if(P!=null){for(;f>0;){const H=at.findGuardPattern(i,h,--f,l,!1,m,N);if(H!=null)P=H;else{f++;break}}w[0]=new Ce(P[0],f),w[1]=new Ce(P[1],f),C=!0;break}}let T=f+1;if(C){let P=0,H=Int32Array.from([Math.trunc(w[0].getX()),Math.trunc(w[1].getX())]);for(;T<o;T++){const Z=at.findGuardPattern(i,H[0],T,l,!1,m,N);if(Z!=null&&Math.abs(H[0]-Z[0])<at.MAX_PATTERN_DRIFT&&Math.abs(H[1]-Z[1])<at.MAX_PATTERN_DRIFT)H=Z,P=0;else{if(P>at.SKIPPED_ROW_COUNT_MAX)break;P++}}T-=P+1,w[2]=new Ce(H[0],T),w[3]=new Ce(H[1],T)}return T-f<at.BARCODE_MIN_HEIGHT&&D.fill(w,null),w}static findGuardPattern(i,o,l,f,h,m,w){D.fillWithin(w,0,w.length,0);let C=o,N=0;for(;i.get(C,l)&&C>0&&N++<at.MAX_PIXEL_DRIFT;)C--;let T=C,P=0,H=m.length;for(let Z=h;T<f;T++)if(i.get(T,l)!==Z)w[P]++;else{if(P===H-1){if(at.patternMatchVariance(w,m,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return new Int32Array([C,T]);C+=w[0]+w[1],R.arraycopy(w,2,w,0,P-1),w[P-1]=0,w[P]=0,P--}else P++;w[P]=1,Z=!Z}return P===H-1&&at.patternMatchVariance(w,m,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE?new Int32Array([C,T-1]):null}static patternMatchVariance(i,o,l){let f=i.length,h=0,m=0;for(let N=0;N<f;N++)h+=i[N],m+=o[N];if(h<m)return 1/0;let w=h/m;l*=w;let C=0;for(let N=0;N<f;N++){let T=i[N],P=o[N]*w,H=T>P?T-P:P-T;if(H>l)return 1/0;C+=H}return C/h}}at.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),at.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),at.MAX_AVG_VARIANCE=.42,at.MAX_INDIVIDUAL_VARIANCE=.8,at.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),at.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),at.MAX_PIXEL_DRIFT=3,at.MAX_PATTERN_DRIFT=5,at.SKIPPED_ROW_COUNT_MAX=25,at.ROW_STEP=5,at.BARCODE_MIN_HEIGHT=10;class Zn{constructor(i,o){if(o.length===0)throw new E;this.field=i;let l=o.length;if(l>1&&o[0]===0){let f=1;for(;f<l&&o[f]===0;)f++;f===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-f),R.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let f=0;for(let h of this.coefficients)f=this.field.add(f,h);return f}let o=this.coefficients[0],l=this.coefficients.length;for(let f=1;f<l;f++)o=this.field.add(this.field.multiply(i,o),this.coefficients[f]);return o}add(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){let m=o;o=l,l=m}let f=new Int32Array(l.length),h=l.length-o.length;R.arraycopy(l,0,f,0,h);for(let m=h;m<l.length;m++)f[m]=this.field.add(o[m-h],l[m]);return new Zn(this.field,f)}subtract(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Zn?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Zn(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,f=i.coefficients,h=f.length,m=new Int32Array(l+h-1);for(let w=0;w<l;w++){let C=o[w];for(let N=0;N<h;N++)m[w+N]=this.field.add(m[w+N],this.field.multiply(C,f[N]))}return new Zn(this.field,m)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let l=0;l<i;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new Zn(this.field,o)}multiplyScalar(i){if(i===0)return new Zn(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let f=0;f<o;f++)l[f]=this.field.multiply(this.coefficients[f],i);return new Zn(this.field,l)}multiplyByMonomial(i,o){if(i<0)throw new E;if(o===0)return new Zn(this.field,new Int32Array([0]));let l=this.coefficients.length,f=new Int32Array(l+i);for(let h=0;h<l;h++)f[h]=this.field.multiply(this.coefficients[h],o);return new Zn(this.field,f)}toString(){let i=new ce;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(o===0||l!==1)&&i.append(l),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class hp{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new E;return this.logTable[i]}inverse(i){if(i===0)throw new Ne;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class zc extends hp{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let f=0;f<i;f++)this.expTable[f]=l,l=l*o%i;for(let f=0;f<i-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new Zn(this,new Int32Array([0])),this.one=new Zn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new E;if(o===0)return this.zero;let l=new Int32Array(i+1);return l[0]=o,new Zn(this,l)}}zc.PDF417_GF=new zc(Ke.NUMBER_OF_CODEWORDS,3);class Md{constructor(){this.field=zc.PDF417_GF}decode(i,o,l){let f=new Zn(this.field,i),h=new Int32Array(o),m=!1;for(let z=o;z>0;z--){let G=f.evaluateAt(this.field.exp(z));h[o-z]=G,G!==0&&(m=!0)}if(!m)return 0;let w=this.field.getOne();if(l!=null)for(const z of l){let G=this.field.exp(i.length-1-z),X=new Zn(this.field,new Int32Array([this.field.subtract(0,G),1]));w=w.multiply(X)}let C=new Zn(this.field,h),N=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),C,o),T=N[0],P=N[1],H=this.findErrorLocations(T),Z=this.findErrorMagnitudes(P,T,H);for(let z=0;z<H.length;z++){let G=i.length-1-this.field.log(H[z]);if(G<0)throw k.getChecksumInstance();i[G]=this.field.subtract(i[G],Z[z])}return H.length}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){let H=i;i=o,o=H}let f=i,h=o,m=this.field.getZero(),w=this.field.getOne();for(;h.getDegree()>=Math.round(l/2);){let H=f,Z=m;if(f=h,m=w,f.isZero())throw k.getChecksumInstance();h=H;let z=this.field.getZero(),G=f.getCoefficient(f.getDegree()),X=this.field.inverse(G);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){let ee=h.getDegree()-f.getDegree(),he=this.field.multiply(h.getCoefficient(h.getDegree()),X);z=z.add(this.field.buildMonomial(ee,he)),h=h.subtract(f.multiplyByMonomial(ee,he))}w=z.multiply(m).subtract(Z).negative()}let C=w.getCoefficient(0);if(C===0)throw k.getChecksumInstance();let N=this.field.inverse(C),T=w.multiply(N),P=h.multiply(N);return[T,P]}findErrorLocations(i){let o=i.getDegree(),l=new Int32Array(o),f=0;for(let h=1;h<this.field.getSize()&&f<o;h++)i.evaluateAt(h)===0&&(l[f]=this.field.inverse(h),f++);if(f!==o)throw k.getChecksumInstance();return l}findErrorMagnitudes(i,o,l){let f=o.getDegree(),h=new Int32Array(f);for(let N=1;N<=f;N++)h[f-N]=this.field.multiply(N,o.getCoefficient(N));let m=new Zn(this.field,h),w=l.length,C=new Int32Array(w);for(let N=0;N<w;N++){let T=this.field.inverse(l[N]),P=this.field.subtract(0,i.evaluateAt(T)),H=this.field.inverse(m.evaluateAt(T));C[N]=this.field.multiply(P,H)}return C}}class Bs{constructor(i,o,l,f,h){i instanceof Bs?this.constructor_2(i):this.constructor_1(i,o,l,f,h)}constructor_1(i,o,l,f,h){const m=o==null||l==null,w=f==null||h==null;if(m&&w)throw new re;m?(o=new Ce(0,f.getY()),l=new Ce(0,h.getY())):w&&(f=new Ce(i.getWidth()-1,o.getY()),h=new Ce(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=o,this.bottomLeft=l,this.topRight=f,this.bottomRight=h,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(f.getX(),h.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(l.getY(),h.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new Bs(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,l){let f=this.topLeft,h=this.bottomLeft,m=this.topRight,w=this.bottomRight;if(i>0){let C=l?this.topLeft:this.topRight,N=Math.trunc(C.getY()-i);N<0&&(N=0);let T=new Ce(C.getX(),N);l?f=T:m=T}if(o>0){let C=l?this.bottomLeft:this.bottomRight,N=Math.trunc(C.getY()+o);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let T=new Ce(C.getX(),N);l?h=T:w=T}return new Bs(this.image,f,h,m,w)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class nn{constructor(i,o,l,f){this.columnCount=i,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ft{constructor(){this.buffer=""}static form(i,o){let l=-1;function f(m,w,C,N,T,P){if(m==="%%")return"%";if(o[++l]===void 0)return;m=N?parseInt(N.substr(1)):void 0;let H=T?parseInt(T.substr(1)):void 0,Z;switch(P){case"s":Z=o[l];break;case"c":Z=o[l][0];break;case"f":Z=parseFloat(o[l]).toFixed(m);break;case"p":Z=parseFloat(o[l]).toPrecision(m);break;case"e":Z=parseFloat(o[l]).toExponential(m);break;case"x":Z=parseInt(o[l]).toString(H||16);break;case"d":Z=parseFloat(parseInt(o[l],H||10).toPrecision(m)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(H);let z=parseInt(C),G=C&&C[0]+""=="0"?"0":" ";for(;Z.length<z;)Z=w!==void 0?Z+G:G+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,f)}format(i,...o){this.buffer+=Ft.form(i,o)}toString(){return this.buffer}}class Co{constructor(i){this.boundingBox=new Bs(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let l=1;l<Co.MAX_NEARBY_DISTANCE;l++){let f=this.imageRowToCodewordIndex(i)-l;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(i)+l,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Ft;let o=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return i.toString()}}Co.MAX_NEARBY_DISTANCE=5;class Eo{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[l,f]of this.values.entries()){const h={getKey:()=>l,getValue:()=>f};h.getValue()>i?(i=h.getValue(),o=[],o.push(h.getKey())):h.getValue()===i&&o.push(h.getKey())}return Ke.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class Ld extends Co{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let l=this.getBoundingBox(),f=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),w=this.imageRowToCodewordIndex(Math.trunc(h.getY())),C=-1,N=1,T=0;for(let P=m;P<w;P++){if(o[P]==null)continue;let H=o[P],Z=H.getRowNumber()-C;if(Z===0)T++;else if(Z===1)N=Math.max(N,T),T=1,C=H.getRowNumber();else if(Z<0||H.getRowNumber()>=i.getRowCount()||Z>P)o[P]=null;else{let z;N>2?z=(N-2)*Z:z=Z;let G=z>=P;for(let X=1;X<=z&&!G;X++)G=o[P-X]!=null;G?o[P]=null:(C=H.getRowNumber(),T=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let f=l.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),w=this.getCodewords(),C=-1;for(let N=h;N<m;N++){if(w[N]==null)continue;let T=w[N];T.setRowNumberAsRowIndicatorColumn();let P=T.getRowNumber()-C;P===0||(P===1?C=T.getRowNumber():T.getRowNumber()>=i.getRowCount()?w[N]=null:C=T.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new Eo,l=new Eo,f=new Eo,h=new Eo;for(let w of i){if(w==null)continue;w.setRowNumberAsRowIndicatorColumn();let C=w.getValue()%30,N=w.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:l.setValue(C*3+1);break;case 1:h.setValue(C/3),f.setValue(C%3);break;case 2:o.setValue(C+1);break}}if(o.getValue().length===0||l.getValue().length===0||f.getValue().length===0||h.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+f.getValue()[0]<Ke.MIN_ROWS_IN_BARCODE||l.getValue()[0]+f.getValue()[0]>Ke.MAX_ROWS_IN_BARCODE)return null;let m=new nn(o.getValue()[0],l.getValue()[0],f.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(i,m),m}removeIncorrectCodewords(i,o){for(let l=0;l<i.length;l++){let f=i[l];if(i[l]==null)continue;let h=f.getValue()%30,m=f.getRowNumber();if(m>o.getRowCount()){i[l]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:h*3+1!==o.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(h/3)!==o.getErrorCorrectionLevel()||h%3!==o.getRowCountLowerPart())&&(i[l]=null);break;case 2:h+1!==o.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class No{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Ke.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let f=0;f<l.length;f++)l[f]!=null&&(l[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&o[l]!=null&&i[l].getRowNumber()===o[l].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let h=this.detectionResultColumns[f].getCodewords()[l];h!=null&&(h.setRowNumber(i[l].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let f=o[l].getRowNumber(),h=0;for(let m=this.barcodeColumnCount+1;m>0&&h<this.ADJUST_ROW_NUMBER_SKIP;m--){let w=this.detectionResultColumns[m].getCodewords()[l];w!=null&&(h=No.adjustRowNumberIfValid(f,h,w),w.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let f=o[l].getRowNumber(),h=0;for(let m=1;m<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;m++){let w=this.detectionResultColumns[m].getCodewords()[l];w!=null&&(h=No.adjustRowNumberIfValid(f,h,w),w.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,l){if(!this.detectionResultColumns[i-1])return;let f=l[o],h=this.detectionResultColumns[i-1].getCodewords(),m=h;this.detectionResultColumns[i+1]!=null&&(m=this.detectionResultColumns[i+1].getCodewords());let w=new Array(14);w[2]=h[o],w[3]=m[o],o>0&&(w[0]=l[o-1],w[4]=h[o-1],w[5]=m[o-1]),o>1&&(w[8]=l[o-2],w[10]=h[o-2],w[11]=m[o-2]),o<l.length-1&&(w[1]=l[o+1],w[6]=h[o+1],w[7]=m[o+1]),o<l.length-2&&(w[9]=l[o+2],w[12]=h[o+2],w[13]=m[o+2]);for(let C of w)if(No.adjustRowNumber(f,C))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Ft;for(let l=0;l<i.getCodewords().length;l++){o.format("CW %3d:",l);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let h=this.detectionResultColumns[f].getCodewords()[l];if(h==null){o.format("    |   ");continue}o.format(" %3d|%3d",h.getRowNumber(),h.getValue())}o.format("%n")}return o.toString()}}class _o{constructor(i,o,l,f){this.rowNumber=_o.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==_o.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}_o.BARCODE_ROW_UNKNOWN=-1;class Cr{static initialize(){for(let i=0;i<Ke.SYMBOL_TABLE.length;i++){let o=Ke.SYMBOL_TABLE[i],l=o&1;for(let f=0;f<Ke.BARS_IN_MODULE;f++){let h=0;for(;(o&1)===l;)h+=1,o>>=1;l=o&1,Cr.RATIOS_TABLE[i]||(Cr.RATIOS_TABLE[i]=new Array(Ke.BARS_IN_MODULE)),Cr.RATIOS_TABLE[i][Ke.BARS_IN_MODULE-f-1]=Math.fround(h/Ke.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=Cr.getDecodedCodewordValue(Cr.sampleBitCounts(i));return o!==-1?o:Cr.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=lt.sum(i),l=new Int32Array(Ke.BARS_IN_MODULE),f=0,h=0;for(let m=0;m<Ke.MODULES_IN_CODEWORD;m++){let w=o/(2*Ke.MODULES_IN_CODEWORD)+m*o/Ke.MODULES_IN_CODEWORD;h+i[f]<=w&&(h+=i[f],f++),l[f]++}return l}static getDecodedCodewordValue(i){let o=Cr.getBitValue(i);return Ke.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let l=0;l<i.length;l++)for(let f=0;f<i[l];f++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=lt.sum(i),l=new Array(Ke.BARS_IN_MODULE);if(o>1)for(let m=0;m<l.length;m++)l[m]=Math.fround(i[m]/o);let f=je.MAX_VALUE,h=-1;this.bSymbolTableReady||Cr.initialize();for(let m=0;m<Cr.RATIOS_TABLE.length;m++){let w=0,C=Cr.RATIOS_TABLE[m];for(let N=0;N<Ke.BARS_IN_MODULE;N++){let T=Math.fround(C[N]-l[N]);if(w+=Math.fround(T*T),w>=f)break}w<f&&(f=w,h=Ke.SYMBOL_TABLE[m])}return h}}Cr.bSymbolTableReady=!1,Cr.RATIOS_TABLE=new Array(Ke.SYMBOL_TABLE.length).map(M=>new Array(Ke.BARS_IN_MODULE));class Wc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class Pd{static parseLong(i,o=void 0){return parseInt(i,o)}}class Yn extends x{}Yn.kind="NullPointerException";class Hc{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,l){if(i==null)throw new Yn;if(o<0||o>i.length||l<0||o+l>i.length||o+l<0)throw new O;if(l===0)return;for(let f=0;f<l;f++)this.write(i[o+f])}flush(){}close(){}}class Us extends x{}class Fd extends Hc{constructor(i=32){if(super(),this.count=0,i<0)throw new E("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new Us;l=j.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,l){if(o<0||o>i.length||l<0||o+l-i.length>0)throw new O;this.ensureCapacity(this.count+l),R.arraycopy(i,o,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Bt;(function(M){M[M.ALPHA=0]="ALPHA",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.PUNCT=3]="PUNCT",M[M.ALPHA_SHIFT=4]="ALPHA_SHIFT",M[M.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Bt||(Bt={}));function Rr(){if(typeof window<"u")return window.BigInt||null;if(typeof _s<"u")return _s.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let So;function Xi(M){if(typeof So>"u"&&(So=Rr()),So===null)throw new Error("BigInt is not supported!");return So(M)}function Bd(){let M=[];M[0]=Xi(1);let i=Xi(900);M[1]=i;for(let o=2;o<16;o++)M[o]=M[o-1]*i;return M}class fe{static decode(i,o){let l=new ce(""),f=W.ISO8859_1;l.enableDecoding(f);let h=1,m=i[h++],w=new Wc;for(;h<i[0];){switch(m){case fe.TEXT_COMPACTION_MODE_LATCH:h=fe.textCompaction(i,h,l);break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:h=fe.byteCompaction(m,i,f,h,l);break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[h++]);break;case fe.NUMERIC_COMPACTION_MODE_LATCH:h=fe.numericCompaction(i,h,l);break;case fe.ECI_CHARSET:W.getCharacterSetECIByValue(i[h++]);break;case fe.ECI_GENERAL_PURPOSE:h+=2;break;case fe.ECI_USER_DEFINED:h++;break;case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=fe.decodeMacroBlock(i,h,w);break;case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:throw new F;default:h--,h=fe.textCompaction(i,h,l);break}if(h<i.length)m=i[h++];else throw F.getFormatInstance()}if(l.length()===0)throw F.getFormatInstance();let C=new kn(null,l.toString(),null,o);return C.setOther(w),C}static decodeMacroBlock(i,o,l){if(o+fe.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw F.getFormatInstance();let f=new Int32Array(fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let w=0;w<fe.NUMBER_OF_SEQUENCE_CODEWORDS;w++,o++)f[w]=i[o];l.setSegmentIndex(j.parseInt(fe.decodeBase900toBase10(f,fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new ce;o=fe.textCompaction(i,o,h),l.setFileId(h.toString());let m=-1;for(i[o]===fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=o+1);o<i[0];)switch(i[o]){case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let w=new ce;o=fe.textCompaction(i,o+1,w),l.setFileName(w.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new ce;o=fe.textCompaction(i,o+1,C),l.setSender(C.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new ce;o=fe.textCompaction(i,o+1,N),l.setAddressee(N.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new ce;o=fe.numericCompaction(i,o+1,T),l.setSegmentCount(j.parseInt(T.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let P=new ce;o=fe.numericCompaction(i,o+1,P),l.setTimestamp(Pd.parseLong(P.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let H=new ce;o=fe.numericCompaction(i,o+1,H),l.setChecksum(j.parseInt(H.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Z=new ce;o=fe.numericCompaction(i,o+1,Z),l.setFileSize(Pd.parseLong(Z.toString()));break;default:throw F.getFormatInstance()}break;case fe.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(m!==-1){let w=o-m;l.isLastSegment()&&w--,l.setOptionalData(D.copyOfRange(i,m,m+w))}return o}static textCompaction(i,o,l){let f=new Int32Array((i[0]-o)*2),h=new Int32Array((i[0]-o)*2),m=0,w=!1;for(;o<i[0]&&!w;){let C=i[o++];if(C<fe.TEXT_COMPACTION_MODE_LATCH)f[m]=C/30,f[m+1]=C%30,m+=2;else switch(C){case fe.TEXT_COMPACTION_MODE_LATCH:f[m++]=fe.TEXT_COMPACTION_MODE_LATCH;break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:o--,w=!0;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[m]=fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=i[o++],h[m]=C,m++;break}}return fe.decodeTextCompaction(f,h,m,l),o}static decodeTextCompaction(i,o,l,f){let h=Bt.ALPHA,m=Bt.ALPHA,w=0;for(;w<l;){let C=i[w],N="";switch(h){case Bt.ALPHA:if(C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case fe.LL:h=Bt.LOWER;break;case fe.ML:h=Bt.MIXED;break;case fe.PS:m=h,h=Bt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[w]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Bt.ALPHA;break}break;case Bt.LOWER:if(C<26)N=String.fromCharCode(97+C);else switch(C){case 26:N=" ";break;case fe.AS:m=h,h=Bt.ALPHA_SHIFT;break;case fe.ML:h=Bt.MIXED;break;case fe.PS:m=h,h=Bt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[w]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Bt.ALPHA;break}break;case Bt.MIXED:if(C<fe.PL)N=fe.MIXED_CHARS[C];else switch(C){case fe.PL:h=Bt.PUNCT;break;case 26:N=" ";break;case fe.LL:h=Bt.LOWER;break;case fe.AL:h=Bt.ALPHA;break;case fe.PS:m=h,h=Bt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[w]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Bt.ALPHA;break}break;case Bt.PUNCT:if(C<fe.PAL)N=fe.PUNCT_CHARS[C];else switch(C){case fe.PAL:h=Bt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[w]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Bt.ALPHA;break}break;case Bt.ALPHA_SHIFT:if(h=m,C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Bt.ALPHA;break}break;case Bt.PUNCT_SHIFT:if(h=m,C<fe.PAL)N=fe.PUNCT_CHARS[C];else switch(C){case fe.PAL:h=Bt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[w]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Bt.ALPHA;break}break}N!==""&&f.append(N),w++}}static byteCompaction(i,o,l,f,h){let m=new Fd,w=0,C=0,N=!1;switch(i){case fe.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),P=o[f++];for(;f<o[0]&&!N;)switch(T[w++]=P,C=900*C+P,P=o[f++],P){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:f--,N=!0;break;default:if(w%5===0&&w>0){for(let H=0;H<6;++H)m.write(Number(Xi(C)>>Xi(8*(5-H))));C=0,w=0}break}f===o[0]&&P<fe.TEXT_COMPACTION_MODE_LATCH&&(T[w++]=P);for(let H=0;H<w;H++)m.write(T[H]);break;case fe.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!N;){let H=o[f++];if(H<fe.TEXT_COMPACTION_MODE_LATCH)w++,C=900*C+H;else switch(H){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:f--,N=!0;break}if(w%5===0&&w>0){for(let Z=0;Z<6;++Z)m.write(Number(Xi(C)>>Xi(8*(5-Z))));C=0,w=0}}break}return h.append(le.decode(m.toByteArray(),l)),f}static numericCompaction(i,o,l){let f=0,h=!1,m=new Int32Array(fe.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!h;){let w=i[o++];if(o===i[0]&&(h=!0),w<fe.TEXT_COMPACTION_MODE_LATCH)m[f]=w,f++;else switch(w){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:o--,h=!0;break}(f%fe.MAX_NUMERIC_CODEWORDS===0||w===fe.NUMERIC_COMPACTION_MODE_LATCH||h)&&f>0&&(l.append(fe.decodeBase900toBase10(m,f)),f=0)}return o}static decodeBase900toBase10(i,o){let l=Xi(0);for(let h=0;h<o;h++)l+=fe.EXP900[o-h-1]*Xi(i[h]);let f=l.toString();if(f.charAt(0)!=="1")throw new F;return f.substring(1)}}fe.TEXT_COMPACTION_MODE_LATCH=900,fe.BYTE_COMPACTION_MODE_LATCH=901,fe.NUMERIC_COMPACTION_MODE_LATCH=902,fe.BYTE_COMPACTION_MODE_LATCH_6=924,fe.ECI_USER_DEFINED=925,fe.ECI_GENERAL_PURPOSE=926,fe.ECI_CHARSET=927,fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,fe.MACRO_PDF417_TERMINATOR=922,fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,fe.MAX_NUMERIC_CODEWORDS=15,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,fe.PL=25,fe.LL=27,fe.AS=27,fe.ML=28,fe.AL=28,fe.PS=29,fe.PAL=29,fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",fe.EXP900=Rr()?Bd():[],fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ut{constructor(){}static decode(i,o,l,f,h,m,w){let C=new Bs(i,o,l,f,h),N=null,T=null,P;for(let z=!0;;z=!1){if(o!=null&&(N=ut.getRowIndicatorColumn(i,C,o,!0,m,w)),f!=null&&(T=ut.getRowIndicatorColumn(i,C,f,!1,m,w)),P=ut.merge(N,T),P==null)throw re.getNotFoundInstance();let G=P.getBoundingBox();if(z&&G!=null&&(G.getMinY()<C.getMinY()||G.getMaxY()>C.getMaxY()))C=G;else break}P.setBoundingBox(C);let H=P.getBarcodeColumnCount()+1;P.setDetectionResultColumn(0,N),P.setDetectionResultColumn(H,T);let Z=N!=null;for(let z=1;z<=H;z++){let G=Z?z:H-z;if(P.getDetectionResultColumn(G)!==void 0)continue;let X;G===0||G===H?X=new Ld(C,G===0):X=new Co(C),P.setDetectionResultColumn(G,X);let ee=-1,he=ee;for(let me=C.getMinY();me<=C.getMaxY();me++){if(ee=ut.getStartColumn(P,G,me,Z),ee<0||ee>C.getMaxX()){if(he===-1)continue;ee=he}let ge=ut.detectCodeword(i,C.getMinX(),C.getMaxX(),Z,ee,me,m,w);ge!=null&&(X.setCodeword(me,ge),he=ee,m=Math.min(m,ge.getWidth()),w=Math.max(w,ge.getWidth()))}}return ut.createDecoderResult(P)}static merge(i,o){if(i==null&&o==null)return null;let l=ut.getBarcodeMetadata(i,o);if(l==null)return null;let f=Bs.merge(ut.adjustBoundingBox(i),ut.adjustBoundingBox(o));return new No(l,f)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let l=ut.getMax(o),f=0;for(let w of o)if(f+=l-w,w>0)break;let h=i.getCodewords();for(let w=0;f>0&&h[w]==null;w++)f--;let m=0;for(let w=o.length-1;w>=0&&(m+=l-o[w],!(o[w]>0));w--);for(let w=h.length-1;m>0&&h[w]==null;w--)m--;return i.getBoundingBox().addMissingRows(f,m,i.isLeft())}static getMax(i){let o=-1;for(let l of i)o=Math.max(o,l);return o}static getBarcodeMetadata(i,o){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==f.getColumnCount()&&l.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&l.getRowCount()!==f.getRowCount()?null:l}static getRowIndicatorColumn(i,o,l,f,h,m){let w=new Ld(o,f);for(let C=0;C<2;C++){let N=C===0?1:-1,T=Math.trunc(Math.trunc(l.getX()));for(let P=Math.trunc(Math.trunc(l.getY()));P<=o.getMaxY()&&P>=o.getMinY();P+=N){let H=ut.detectCodeword(i,0,i.getWidth(),f,T,P,h,m);H!=null&&(w.setCodeword(P,H),f?T=H.getStartX():T=H.getEndX())}}return w}static adjustCodewordCount(i,o){let l=o[0][1],f=l.getValue(),h=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-ut.getNumberOfECCodeWords(i.getBarcodeECLevel());if(f.length===0){if(h<1||h>Ke.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();l.setValue(h)}else f[0]!==h&&l.setValue(h)}static createDecoderResult(i){let o=ut.createBarcodeMatrix(i);ut.adjustCodewordCount(i,o);let l=new Array,f=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),h=[],m=new Array;for(let C=0;C<i.getBarcodeRowCount();C++)for(let N=0;N<i.getBarcodeColumnCount();N++){let T=o[C][N+1].getValue(),P=C*i.getBarcodeColumnCount()+N;T.length===0?l.push(P):T.length===1?f[P]=T[0]:(m.push(P),h.push(T))}let w=new Array(h.length);for(let C=0;C<w.length;C++)w[C]=h[C];return ut.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),f,Ke.toIntArray(l),Ke.toIntArray(m),w)}static createDecoderResultFromAmbiguousValues(i,o,l,f,h){let m=new Int32Array(f.length),w=100;for(;w-- >0;){for(let C=0;C<m.length;C++)o[f[C]]=h[C][m[C]];try{return ut.decodeCodewords(o,i,l)}catch(C){if(!(C instanceof k))throw C}if(m.length===0)throw k.getChecksumInstance();for(let C=0;C<m.length;C++)if(m[C]<h[C].length-1){m[C]++;break}else if(m[C]=0,C===m.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let h=0;h<o[f].length;h++)o[f][h]=new Eo;let l=0;for(let f of i.getDetectionResultColumns()){if(f!=null){for(let h of f.getCodewords())if(h!=null){let m=h.getRowNumber();if(m>=0){if(m>=o.length)continue;o[m][l].setValue(h.getValue())}}}l++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,l,f){let h=f?1:-1,m=null;if(ut.isValidBarcodeColumn(i,o-h)&&(m=i.getDetectionResultColumn(o-h).getCodeword(l)),m!=null)return f?m.getEndX():m.getStartX();if(m=i.getDetectionResultColumn(o).getCodewordNearby(l),m!=null)return f?m.getStartX():m.getEndX();if(ut.isValidBarcodeColumn(i,o-h)&&(m=i.getDetectionResultColumn(o-h).getCodewordNearby(l)),m!=null)return f?m.getEndX():m.getStartX();let w=0;for(;ut.isValidBarcodeColumn(i,o-h);){o-=h;for(let C of i.getDetectionResultColumn(o).getCodewords())if(C!=null)return(f?C.getEndX():C.getStartX())+h*w*(C.getEndX()-C.getStartX());w++}return f?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,l,f,h,m,w,C){h=ut.adjustCodewordStartColumn(i,o,l,f,h,m);let N=ut.getModuleBitCount(i,o,l,f,h,m);if(N==null)return null;let T,P=lt.sum(N);if(f)T=h+P;else{for(let z=0;z<N.length/2;z++){let G=N[z];N[z]=N[N.length-1-z],N[N.length-1-z]=G}T=h,h=T-P}if(!ut.checkCodewordSkew(P,w,C))return null;let H=Cr.getDecodedValue(N),Z=Ke.getCodeword(H);return Z===-1?null:new _o(h,T,ut.getCodewordBucketNumber(H),Z)}static getModuleBitCount(i,o,l,f,h,m){let w=h,C=new Int32Array(8),N=0,T=f?1:-1,P=f;for(;(f?w<l:w>=o)&&N<C.length;)i.get(w,m)===P?(C[N]++,w+=T):(N++,P=!P);return N===C.length||w===(f?l:o)&&N===C.length-1?C:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,l,f,h,m){let w=h,C=f?-1:1;for(let N=0;N<2;N++){for(;(f?w>=o:w<l)&&f===i.get(w,m);){if(Math.abs(h-w)>ut.CODEWORD_SKEW_SIZE)return h;w+=C}C=-C,f=!f}return w}static checkCodewordSkew(i,o,l){return o-ut.CODEWORD_SKEW_SIZE<=i&&i<=l+ut.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,l){if(i.length===0)throw F.getFormatInstance();let f=1<<o+1,h=ut.correctErrors(i,l,f);ut.verifyCodewordCount(i,f);let m=fe.decode(i,""+o);return m.setErrorsCorrected(h),m.setErasures(l.length),m}static correctErrors(i,o,l){if(o!=null&&o.length>l/2+ut.MAX_ERRORS||l<0||l>ut.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return ut.errorCorrection.decode(i,l,o)}static verifyCodewordCount(i,o){if(i.length<4)throw F.getFormatInstance();let l=i[0];if(l>i.length)throw F.getFormatInstance();if(l===0)if(o<i.length)i[0]=i.length-o;else throw F.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),l=0,f=o.length-1;for(;!((i&1)!==l&&(l=i&1,f--,f<0));)o[f]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return ut.getCodewordBucketNumber(ut.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new Ft;for(let l=0;l<i.length;l++){o.format("Row %2d: ",l);for(let f=0;f<i[l].length;f++){let h=i[l][f];h.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}o.format("%n")}return o.toString()}}ut.CODEWORD_SKEW_SIZE=2,ut.MAX_ERRORS=3,ut.MAX_EC_CODEWORDS=512,ut.errorCorrection=new Md;class Gn{decode(i,o=null){let l=Gn.decode(i,o,!1);if(l==null||l.length===0||l[0]==null)throw re.getNotFoundInstance();return l[0]}decodeMultiple(i,o=null){try{return Gn.decode(i,o,!0)}catch(l){throw l instanceof F||l instanceof k?re.getNotFoundInstance():l}}static decode(i,o,l){const f=new Array,h=at.detectMultiple(i,o,l);for(const m of h.getPoints()){const w=ut.decode(h.getBits(),m[4],m[5],m[6],m[7],Gn.getMinCodewordWidth(m),Gn.getMaxCodewordWidth(m)),C=new mt(w.getText(),w.getRawBytes(),void 0,m,Ae.PDF_417);C.putMetadata(Qe.ERROR_CORRECTION_LEVEL,w.getECLevel());const N=w.getOther();N!=null&&C.putMetadata(Qe.PDF417_EXTRA_METADATA,N),f.push(C)}return f.map(m=>m)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?j.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Gn.getMaxWidth(i[0],i[4]),Gn.getMaxWidth(i[6],i[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.max(Gn.getMaxWidth(i[1],i[5]),Gn.getMaxWidth(i[7],i[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Gn.getMinWidth(i[0],i[4]),Gn.getMinWidth(i[6],i[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.min(Gn.getMinWidth(i[1],i[5]),Gn.getMinWidth(i[7],i[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}reset(){}}class ir extends x{}ir.kind="ReaderException";class Ud{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!r(i)&&i.get(B.TRY_HARDER)===!0,l=r(i)?null:i.get(B.POSSIBLE_FORMATS),f=new Array;if(!r(l)){const h=l.some(m=>m===Ae.UPC_A||m===Ae.UPC_E||m===Ae.EAN_13||m===Ae.EAN_8||m===Ae.CODABAR||m===Ae.CODE_39||m===Ae.CODE_93||m===Ae.CODE_128||m===Ae.ITF||m===Ae.RSS_14||m===Ae.RSS_EXPANDED);h&&!o&&f.push(new Fs(i,this.verbose)),l.includes(Ae.QR_CODE)&&f.push(new ms),l.includes(Ae.DATA_MATRIX)&&f.push(new oi),l.includes(Ae.AZTEC)&&f.push(new Ni),l.includes(Ae.PDF_417)&&f.push(new Gn),h&&o&&f.push(new Fs(i,this.verbose))}f.length===0&&(o||f.push(new Fs(i,this.verbose)),f.push(new ms),f.push(new oi),f.push(new Ni),f.push(new Gn),o&&f.push(new Fs(i,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new ir("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(l){if(l instanceof ir)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class Gr extends cn{constructor(i=null,o=500){const l=new Ud;l.setHints(i),super(l,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class pp extends cn{constructor(i=500){super(new Gn,i)}}class zd extends cn{constructor(i=500){super(new ms,i)}}var Ti;(function(M){M[M.ERROR_CORRECTION=0]="ERROR_CORRECTION",M[M.CHARACTER_SET=1]="CHARACTER_SET",M[M.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",M[M.MIN_SIZE=3]="MIN_SIZE",M[M.MAX_SIZE=4]="MAX_SIZE",M[M.MARGIN=5]="MARGIN",M[M.PDF417_COMPACT=6]="PDF417_COMPACT",M[M.PDF417_COMPACTION=7]="PDF417_COMPACTION",M[M.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",M[M.AZTEC_LAYERS=9]="AZTEC_LAYERS",M[M.QR_VERSION=10]="QR_VERSION"})(Ti||(Ti={}));var gn=Ti;class Ao{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new _t(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let l=o[o.length-1];const f=this.field;for(let h=o.length;h<=i;h++){const m=l.multiply(new _t(f,Int32Array.from([1,f.exp(h-1+f.getGeneratorBase())])));o.push(m),l=m}}return o[i]}encode(i,o){if(o===0)throw new E("No error correction bytes");const l=i.length-o;if(l<=0)throw new E("No data bytes provided");const f=this.buildGenerator(o),h=new Int32Array(l);R.arraycopy(i,0,h,0,l);let m=new _t(this.field,h);m=m.multiplyByMonomial(o,1);const C=m.divide(f)[1].getCoefficients(),N=o-C.length;for(let T=0;T<N;T++)i[l+T]=0;R.arraycopy(C,0,i,l+N,C.length)}}class rt{constructor(){}static applyMaskPenaltyRule1(i){return rt.applyMaskPenaltyRule1Internal(i,!0)+rt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const l=i.getArray(),f=i.getWidth(),h=i.getHeight();for(let m=0;m<h-1;m++){const w=l[m];for(let C=0;C<f-1;C++){const N=w[C];N===w[C+1]&&N===l[m+1][C]&&N===l[m+1][C+1]&&o++}}return rt.N2*o}static applyMaskPenaltyRule3(i){let o=0;const l=i.getArray(),f=i.getWidth(),h=i.getHeight();for(let m=0;m<h;m++)for(let w=0;w<f;w++){const C=l[m];w+6<f&&C[w]===1&&C[w+1]===0&&C[w+2]===1&&C[w+3]===1&&C[w+4]===1&&C[w+5]===0&&C[w+6]===1&&(rt.isWhiteHorizontal(C,w-4,w)||rt.isWhiteHorizontal(C,w+7,w+11))&&o++,m+6<h&&l[m][w]===1&&l[m+1][w]===0&&l[m+2][w]===1&&l[m+3][w]===1&&l[m+4][w]===1&&l[m+5][w]===0&&l[m+6][w]===1&&(rt.isWhiteVertical(l,w,m-4,m)||rt.isWhiteVertical(l,w,m+7,m+11))&&o++}return o*rt.N3}static isWhiteHorizontal(i,o,l){o=Math.max(o,0),l=Math.min(l,i.length);for(let f=o;f<l;f++)if(i[f]===1)return!1;return!0}static isWhiteVertical(i,o,l,f){l=Math.max(l,0),f=Math.min(f,i.length);for(let h=l;h<f;h++)if(i[h][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const l=i.getArray(),f=i.getWidth(),h=i.getHeight();for(let C=0;C<h;C++){const N=l[C];for(let T=0;T<f;T++)N[T]===1&&o++}const m=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-m)*10/m)*rt.N4}static getDataMaskBit(i,o,l){let f,h;switch(i){case 0:f=l+o&1;break;case 1:f=l&1;break;case 2:f=o%3;break;case 3:f=(l+o)%3;break;case 4:f=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:h=l*o,f=(h&1)+h%3;break;case 6:h=l*o,f=(h&1)+h%3&1;break;case 7:h=l*o,f=h%3+(l+o&1)&1;break;default:throw new E("Invalid mask pattern: "+i)}return f===0}static applyMaskPenaltyRule1Internal(i,o){let l=0;const f=o?i.getHeight():i.getWidth(),h=o?i.getWidth():i.getHeight(),m=i.getArray();for(let w=0;w<f;w++){let C=0,N=-1;for(let T=0;T<h;T++){const P=o?m[w][T]:m[T][w];P===N?C++:(C>=5&&(l+=rt.N1+(C-5)),C=1,N=P)}C>=5&&(l+=rt.N1+(C-5))}return l}}rt.N1=3,rt.N2=3,rt.N3=40,rt.N4=10;class li{constructor(i,o){this.width=i,this.height=o;const l=new Array(o);for(let f=0;f!==o;f++)l[f]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,l){this.bytes[o][i]=l}setBoolean(i,o,l){this.bytes[o][i]=l?1:0}clear(i){for(const o of this.bytes)D.fill(o,i)}equals(i){if(!(i instanceof li))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,f=this.height;l<f;++l){const h=this.bytes[l],m=o.bytes[l];for(let w=0,C=this.width;w<C;++w)if(h[w]!==m[w])return!1}return!0}toString(){const i=new ce;for(let o=0,l=this.height;o<l;++o){const f=this.bytes[o];for(let h=0,m=this.width;h<m;++h)switch(f[h]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Qi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ce;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Qi.NUM_MASK_PATTERNS}}Qi.NUM_MASK_PATTERNS=8;class Xt extends x{}Xt.kind="WriterException";class Xe{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,l,f,h){Xe.clearMatrix(h),Xe.embedBasicPatterns(l,h),Xe.embedTypeInfo(o,f,h),Xe.maybeEmbedVersionInfo(l,h),Xe.embedDataBits(i,f,h)}static embedBasicPatterns(i,o){Xe.embedPositionDetectionPatternsAndSeparators(o),Xe.embedDarkDotAtLeftBottomCorner(o),Xe.maybeEmbedPositionAdjustmentPatterns(i,o),Xe.embedTimingPatterns(o)}static embedTypeInfo(i,o,l){const f=new q;Xe.makeTypeInfoBits(i,o,f);for(let h=0,m=f.getSize();h<m;++h){const w=f.get(f.getSize()-1-h),C=Xe.TYPE_INFO_COORDINATES[h],N=C[0],T=C[1];if(l.setBoolean(N,T,w),h<8){const P=l.getWidth()-h-1,H=8;l.setBoolean(P,H,w)}else{const H=l.getHeight()-7+(h-8);l.setBoolean(8,H,w)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const l=new q;Xe.makeVersionInfoBits(i,l);let f=6*3-1;for(let h=0;h<6;++h)for(let m=0;m<3;++m){const w=l.get(f);f--,o.setBoolean(h,o.getHeight()-11+m,w),o.setBoolean(o.getHeight()-11+m,h,w)}}static embedDataBits(i,o,l){let f=0,h=-1,m=l.getWidth()-1,w=l.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);w>=0&&w<l.getHeight();){for(let C=0;C<2;++C){const N=m-C;if(!Xe.isEmpty(l.get(N,w)))continue;let T;f<i.getSize()?(T=i.get(f),++f):T=!1,o!==255&&rt.getDataMaskBit(o,N,w)&&(T=!T),l.setBoolean(N,w,T)}w+=h}h=-h,w+=h,m-=2}if(f!==i.getSize())throw new Xt("Not all bits consumed: "+f+"/"+i.getSize())}static findMSBSet(i){return 32-j.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new E("0 polynomial");const l=Xe.findMSBSet(o);for(i<<=l-1;Xe.findMSBSet(i)>=l;)i^=o<<Xe.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,o,l){if(!Qi.isValidMaskPattern(o))throw new Xt("Invalid mask pattern");const f=i.getBits()<<3|o;l.appendBits(f,5);const h=Xe.calculateBCHCode(f,Xe.TYPE_INFO_POLY);l.appendBits(h,10);const m=new q;if(m.appendBits(Xe.TYPE_INFO_MASK_PATTERN,15),l.xor(m),l.getSize()!==15)throw new Xt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const l=Xe.calculateBCHCode(i.getVersionNumber(),Xe.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new Xt("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const l=(o+1)%2;Xe.isEmpty(i.get(o,6))&&i.setNumber(o,6,l),Xe.isEmpty(i.get(6,o))&&i.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new Xt;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,l){for(let f=0;f<8;++f){if(!Xe.isEmpty(l.get(i+f,o)))throw new Xt;l.setNumber(i+f,o,0)}}static embedVerticalSeparationPattern(i,o,l){for(let f=0;f<7;++f){if(!Xe.isEmpty(l.get(i,o+f)))throw new Xt;l.setNumber(i,o+f,0)}}static embedPositionAdjustmentPattern(i,o,l){for(let f=0;f<5;++f){const h=Xe.POSITION_ADJUSTMENT_PATTERN[f];for(let m=0;m<5;++m)l.setNumber(i+m,o+f,h[m])}}static embedPositionDetectionPattern(i,o,l){for(let f=0;f<7;++f){const h=Xe.POSITION_DETECTION_PATTERN[f];for(let m=0;m<7;++m)l.setNumber(i+m,o+f,h[m])}}static embedPositionDetectionPatternsAndSeparators(i){const o=Xe.POSITION_DETECTION_PATTERN[0].length;Xe.embedPositionDetectionPattern(0,0,i),Xe.embedPositionDetectionPattern(i.getWidth()-o,0,i),Xe.embedPositionDetectionPattern(0,i.getWidth()-o,i);const l=8;Xe.embedHorizontalSeparationPattern(0,l-1,i),Xe.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),Xe.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const f=7;Xe.embedVerticalSeparationPattern(f,0,i),Xe.embedVerticalSeparationPattern(i.getHeight()-f-1,0,i),Xe.embedVerticalSeparationPattern(f,i.getHeight()-f,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,f=Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let h=0,m=f.length;h!==m;h++){const w=f[h];if(w>=0)for(let C=0;C!==m;C++){const N=f[C];N>=0&&Xe.isEmpty(o.get(N,w))&&Xe.embedPositionAdjustmentPattern(N-2,w-2,o)}}}}Xe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Xe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Xe.VERSION_INFO_POLY=7973,Xe.TYPE_INFO_POLY=1335,Xe.TYPE_INFO_MASK_PATTERN=21522;class mp{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class rn{constructor(){}static calculateMaskPenalty(i){return rt.applyMaskPenaltyRule1(i)+rt.applyMaskPenaltyRule2(i)+rt.applyMaskPenaltyRule3(i)+rt.applyMaskPenaltyRule4(i)}static encode(i,o,l=null){let f=rn.DEFAULT_BYTE_MODE_ENCODING;const h=l!==null&&l.get(gn.CHARACTER_SET)!==void 0;h&&(f=l.get(gn.CHARACTER_SET).toString());const m=this.chooseMode(i,f),w=new q;if(m===$e.BYTE&&(h||rn.DEFAULT_BYTE_MODE_ENCODING!==f)){const me=W.getCharacterSetECIByName(f);me!==void 0&&this.appendECI(me,w)}this.appendModeInfo(m,w);const C=new q;this.appendBytes(i,m,C,f);let N;if(l!==null&&l.get(gn.QR_VERSION)!==void 0){const me=Number.parseInt(l.get(gn.QR_VERSION).toString(),10);N=Ye.getVersionForNumber(me);const ge=this.calculateBitsNeeded(m,w,C,N);if(!this.willFit(ge,N,o))throw new Xt("Data too big for requested version")}else N=this.recommendVersion(o,m,w,C);const T=new q;T.appendBitArray(w);const P=m===$e.BYTE?C.getSizeInBytes():i.length;this.appendLengthInfo(P,N,m,T),T.appendBitArray(C);const H=N.getECBlocksForLevel(o),Z=N.getTotalCodewords()-H.getTotalECCodewords();this.terminateBits(Z,T);const z=this.interleaveWithECBytes(T,N.getTotalCodewords(),Z,H.getNumBlocks()),G=new Qi;G.setECLevel(o),G.setMode(m),G.setVersion(N);const X=N.getDimensionForVersion(),ee=new li(X,X),he=this.chooseMaskPattern(z,o,N,ee);return G.setMaskPattern(he),Xe.buildMatrix(z,o,N,he,ee),G.setMatrix(ee),G}static recommendVersion(i,o,l,f){const h=this.calculateBitsNeeded(o,l,f,Ye.getVersionForNumber(1)),m=this.chooseVersion(h,i),w=this.calculateBitsNeeded(o,l,f,m);return this.chooseVersion(w,i)}static calculateBitsNeeded(i,o,l,f){return o.getSize()+i.getCharacterCountBits(f)+l.getSize()}static getAlphanumericCode(i){return i<rn.ALPHANUMERIC_TABLE.length?rn.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(W.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return $e.KANJI;let l=!1,f=!1;for(let h=0,m=i.length;h<m;++h){const w=i.charAt(h);if(rn.isDigit(w))l=!0;else if(this.getAlphanumericCode(w.charCodeAt(0))!==-1)f=!0;else return $e.BYTE}return f?$e.ALPHANUMERIC:l?$e.NUMERIC:$e.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=le.encode(i,W.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let f=0;f<l;f+=2){const h=o[f]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(i,o,l,f){let h=Number.MAX_SAFE_INTEGER,m=-1;for(let w=0;w<Qi.NUM_MASK_PATTERNS;w++){Xe.buildMatrix(i,o,l,w,f);let C=this.calculateMaskPenalty(f);C<h&&(h=C,m=w)}return m}static chooseVersion(i,o){for(let l=1;l<=40;l++){const f=Ye.getVersionForNumber(l);if(rn.willFit(i,f,o))return f}throw new Xt("Data too big")}static willFit(i,o,l){const f=o.getTotalCodewords(),m=o.getECBlocksForLevel(l).getTotalECCodewords(),w=f-m,C=(i+7)/8;return w>=C}static terminateBits(i,o){const l=i*8;if(o.getSize()>l)throw new Xt("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let m=0;m<4&&o.getSize()<l;++m)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let m=f;m<8;m++)o.appendBit(!1);const h=i-o.getSizeInBytes();for(let m=0;m<h;++m)o.appendBits(m&1?17:236,8);if(o.getSize()!==l)throw new Xt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,l,f,h,m){if(f>=l)throw new Xt("Block ID too large");const w=i%l,C=l-w,N=Math.floor(i/l),T=N+1,P=Math.floor(o/l),H=P+1,Z=N-P,z=T-H;if(Z!==z)throw new Xt("EC bytes mismatch");if(l!==C+w)throw new Xt("RS blocks mismatch");if(i!==(P+Z)*C+(H+z)*w)throw new Xt("Total bytes mismatch");f<C?(h[0]=P,m[0]=Z):(h[0]=H,m[0]=z)}static interleaveWithECBytes(i,o,l,f){if(i.getSizeInBytes()!==l)throw new Xt("Number of bits and data bytes does not match");let h=0,m=0,w=0;const C=new Array;for(let T=0;T<f;++T){const P=new Int32Array(1),H=new Int32Array(1);rn.getNumDataBytesAndNumECBytesForBlockID(o,l,f,T,P,H);const Z=P[0],z=new Uint8Array(Z);i.toBytes(8*h,z,0,Z);const G=rn.generateECBytes(z,H[0]);C.push(new mp(z,G)),m=Math.max(m,Z),w=Math.max(w,G.length),h+=P[0]}if(l!==h)throw new Xt("Data bytes does not match offset");const N=new q;for(let T=0;T<m;++T)for(const P of C){const H=P.getDataBytes();T<H.length&&N.appendBits(H[T],8)}for(let T=0;T<w;++T)for(const P of C){const H=P.getErrorCorrectionBytes();T<H.length&&N.appendBits(H[T],8)}if(o!==N.getSizeInBytes())throw new Xt("Interleaving error: "+o+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(i,o){const l=i.length,f=new Int32Array(l+o);for(let m=0;m<l;m++)f[m]=i[m]&255;new Ao(Le.QR_CODE_FIELD_256).encode(f,o);const h=new Uint8Array(o);for(let m=0;m<o;m++)h[m]=f[l+m];return h}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,l,f){const h=l.getCharacterCountBits(o);if(i>=1<<h)throw new Xt(i+" is bigger than "+((1<<h)-1));f.appendBits(i,h)}static appendBytes(i,o,l,f){switch(o){case $e.NUMERIC:rn.appendNumericBytes(i,l);break;case $e.ALPHANUMERIC:rn.appendAlphanumericBytes(i,l);break;case $e.BYTE:rn.append8BitBytes(i,l,f);break;case $e.KANJI:rn.appendKanjiBytes(i,l);break;default:throw new Xt("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=rn.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const l=i.length;let f=0;for(;f<l;){const h=rn.getDigit(i.charAt(f));if(f+2<l){const m=rn.getDigit(i.charAt(f+1)),w=rn.getDigit(i.charAt(f+2));o.appendBits(h*100+m*10+w,10),f+=3}else if(f+1<l){const m=rn.getDigit(i.charAt(f+1));o.appendBits(h*10+m,7),f+=2}else o.appendBits(h,4),f++}}static appendAlphanumericBytes(i,o){const l=i.length;let f=0;for(;f<l;){const h=rn.getAlphanumericCode(i.charCodeAt(f));if(h===-1)throw new Xt;if(f+1<l){const m=rn.getAlphanumericCode(i.charCodeAt(f+1));if(m===-1)throw new Xt;o.appendBits(h*45+m,11),f+=2}else o.appendBits(h,6),f++}}static append8BitBytes(i,o,l){let f;try{f=le.encode(i,l)}catch(h){throw new Xt(h)}for(let h=0,m=f.length;h!==m;h++){const w=f[h];o.appendBits(w,8)}}static appendKanjiBytes(i,o){let l;try{l=le.encode(i,W.SJIS)}catch(h){throw new Xt(h)}const f=l.length;for(let h=0;h<f;h+=2){const m=l[h]&255,w=l[h+1]&255,C=m<<8&4294967295|w;let N=-1;if(C>=33088&&C<=40956?N=C-33088:C>=57408&&C<=60351&&(N=C-49472),N===-1)throw new Xt("Invalid byte sequence");const T=(N>>8)*192+(N&255);o.appendBits(T,13)}}static appendECI(i,o){o.appendBits($e.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}rn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),rn.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class zs{write(i,o,l,f=null){if(i.length===0)throw new E("Found empty contents");if(o<0||l<0)throw new E("Requested dimensions are too small: "+o+"x"+l);let h=$t.L,m=zs.QUIET_ZONE_SIZE;f!==null&&(f.get(gn.ERROR_CORRECTION)!==void 0&&(h=$t.fromString(f.get(gn.ERROR_CORRECTION).toString())),f.get(gn.MARGIN)!==void 0&&(m=Number.parseInt(f.get(gn.MARGIN).toString(),10)));const w=rn.encode(i,h,f);return this.renderResult(w,o,l,m)}writeToDom(i,o,l,f,h=null){typeof i=="string"&&(i=document.querySelector(i));const m=this.write(o,l,f,h);i&&i.appendChild(m)}renderResult(i,o,l,f){const h=i.getMatrix();if(h===null)throw new an;const m=h.getWidth(),w=h.getHeight(),C=m+f*2,N=w+f*2,T=Math.max(o,C),P=Math.max(l,N),H=Math.min(Math.floor(T/C),Math.floor(P/N)),Z=Math.floor((T-m*H)/2),z=Math.floor((P-w*H)/2),G=this.createSVGElement(T,P);for(let X=0,ee=z;X<w;X++,ee+=H)for(let he=0,me=Z;he<m;he++,me+=H)if(h.get(he,X)===1){const ge=this.createSvgRectElement(me,ee,H,H);G.appendChild(ge)}return G}createSVGElement(i,o){const l=document.createElementNS(zs.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(i,o,l,f){const h=document.createElementNS(zs.SVG_NS,"rect");return h.setAttributeNS(null,"x",i.toString()),h.setAttributeNS(null,"y",o.toString()),h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",f.toString()),h.setAttributeNS(null,"fill","#000000"),h}}zs.QUIET_ZONE_SIZE=4,zs.SVG_NS="http://www.w3.org/2000/svg";class Ws{encode(i,o,l,f,h){if(i.length===0)throw new E("Found empty contents");if(o!==Ae.QR_CODE)throw new E("Can only encode QR_CODE, but got "+o);if(l<0||f<0)throw new E(`Requested dimensions are too small: ${l}x${f}`);let m=$t.L,w=Ws.QUIET_ZONE_SIZE;h!==null&&(h.get(gn.ERROR_CORRECTION)!==void 0&&(m=$t.fromString(h.get(gn.ERROR_CORRECTION).toString())),h.get(gn.MARGIN)!==void 0&&(w=Number.parseInt(h.get(gn.MARGIN).toString(),10)));const C=rn.encode(i,m,h);return Ws.renderResult(C,l,f,w)}static renderResult(i,o,l,f){const h=i.getMatrix();if(h===null)throw new an;const m=h.getWidth(),w=h.getHeight(),C=m+f*2,N=w+f*2,T=Math.max(o,C),P=Math.max(l,N),H=Math.min(Math.floor(T/C),Math.floor(P/N)),Z=Math.floor((T-m*H)/2),z=Math.floor((P-w*H)/2),G=new xe(T,P);for(let X=0,ee=z;X<w;X++,ee+=H)for(let he=0,me=Z;he<m;he++,me+=H)h.get(he,X)===1&&G.setRegion(me,ee,H,H);return G}}Ws.QUIET_ZONE_SIZE=4;class Cl{encode(i,o,l,f,h){let m;switch(o){case Ae.QR_CODE:m=new Ws;break;default:throw new E("No encoder available for format "+o)}return m.encode(i,o,l,f,h)}}class pr extends ue{constructor(i,o,l,f,h,m,w,C){if(super(m,w),this.yuvData=i,this.dataWidth=o,this.dataHeight=l,this.left=f,this.top=h,f+m>o||h+w>l)throw new E("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(m,w)}getRow(i,o){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const f=(i+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,f,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=i*o,f=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return R.arraycopy(this.yuvData,h,f,0,l),f;for(let m=0;m<o;m++){const w=m*i;R.arraycopy(this.yuvData,h,f,w,i),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(i,o,l,f){return new pr(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,l,f,!1)}renderThumbnail(){const i=this.getWidth()/pr.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/pr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*o),f=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let m=0;m<o;m++){const w=m*i;for(let C=0;C<i;C++){const N=f[h+C*pr.THUMBNAIL_SCALE_FACTOR]&255;l[w+C]=4278190080|N*65793}h+=this.dataWidth*pr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/pr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/pr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const l=this.yuvData;for(let f=0,h=this.top*this.dataWidth+this.left;f<o;f++,h+=this.dataWidth){const m=h+i/2;for(let w=h,C=h+i-1;w<m;w++,C--){const N=l[w];l[w]=l[C],l[C]=N}}}invert(){return new _e(this)}}pr.THUMBNAIL_SCALE_FACTOR=2;class qc extends ue{constructor(i,o,l,f,h,m,w){if(super(o,l),this.dataWidth=f,this.dataHeight=h,this.left=m,this.top=w,i.BYTES_PER_ELEMENT===4){const C=o*l,N=new Uint8ClampedArray(C);for(let T=0;T<C;T++){const P=i[T],H=P>>16&255,Z=P>>7&510,z=P&255;N[T]=(H+Z+z)/4&255}this.luminances=N}else this.luminances=i;if(f===void 0&&(this.dataWidth=o),h===void 0&&(this.dataHeight=l),m===void 0&&(this.left=0),w===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const f=(i+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,f,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=i*o,f=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return R.arraycopy(this.luminances,h,f,0,l),f;for(let m=0;m<o;m++){const w=m*i;R.arraycopy(this.luminances,h,f,w,i),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(i,o,l,f){return new qc(this.luminances,l,f,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new _e(this)}}class Vc extends W{static forName(i){return this.getCharacterSetECIByName(i)}}class El{}El.ISO_8859_1=W.ISO8859_1;class Nl{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class _l{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class Wd{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Sa extends Wd{constructor(i,o,l){super(i),this.value=o,this.bitCount=l}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new Sa(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Sa(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+j.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class ko extends Sa{constructor(i,o,l){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(i,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(i,o){return new ko(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Yc(M,i,o){return new ko(M,i,o)}function To(M,i,o){return new Sa(M,i,o)}const Hd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],In=0,Aa=1,sr=2,Gc=3,ci=4,gp=new Sa(null,0,0),$c=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function xp(M){for(let i of M)D.fill(i,-1);return M[In][ci]=0,M[Aa][ci]=0,M[Aa][In]=28,M[Gc][ci]=0,M[sr][ci]=0,M[sr][In]=15,M}const qd=xp(D.createInt32Array(6,6));class Di{constructor(i,o,l,f){this.token=i,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let l=this.bitCount,f=this.token;if(i!==this.mode){let m=$c[this.mode][i];f=To(f,m&65535,m>>16),l+=m>>16}let h=i===sr?4:5;return f=To(f,o,h),new Di(f,i,0,l+h)}shiftAndAppend(i,o){let l=this.token,f=this.mode===sr?4:5;return l=To(l,qd[this.mode][i],f),l=To(l,o,5),new Di(l,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(i){let o=this.token,l=this.mode,f=this.bitCount;if(this.mode===ci||this.mode===sr){let w=$c[l][In];o=To(o,w&65535,w>>16),f+=w>>16,l=In}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new Di(o,l,this.binaryShiftByteCount+1,f+h);return m.binaryShiftByteCount===2047+31&&(m=m.endBinaryShift(i+1)),m}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Yc(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Di(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+($c[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=Di.calculateBinaryShiftCost(i)-Di.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let f=this.endBinaryShift(i.length).token;f!==null;f=f.getPrevious())o.unshift(f);let l=new q;for(const f of o)f.appendTo(l,i);return l}toString(){return ie.format("%s bits=%d bytes=%d",Hd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Di.INITIAL_STATE=new Di(gp,In,0,0);function ka(M){const i=ie.getCharCode(" "),o=ie.getCharCode("."),l=ie.getCharCode(",");M[In][i]=1;const f=ie.getCharCode("Z"),h=ie.getCharCode("A");for(let H=h;H<=f;H++)M[In][H]=H-h+2;M[Aa][i]=1;const m=ie.getCharCode("z"),w=ie.getCharCode("a");for(let H=w;H<=m;H++)M[Aa][H]=H-w+2;M[sr][i]=1;const C=ie.getCharCode("9"),N=ie.getCharCode("0");for(let H=N;H<=C;H++)M[sr][H]=H-N+2;M[sr][l]=12,M[sr][o]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let H=0;H<T.length;H++)M[Gc][ie.getCharCode(T[H])]=H;const P=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let H=0;H<P.length;H++)ie.getCharCode(P[H])>0&&(M[ci][ie.getCharCode(P[H])]=H);return M}const Xc=ka(D.createInt32Array(5,256));class Do{constructor(i){this.text=i}encode(){const i=ie.getCharCode(" "),o=ie.getCharCode(`
`);let l=_l.singletonList(Di.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let m,w=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case ie.getCharCode("\r"):m=w===o?2:0;break;case ie.getCharCode("."):m=w===i?3:0;break;case ie.getCharCode(","):m=w===i?4:0;break;case ie.getCharCode(":"):m=w===i?5:0;break;default:m=0}m>0?(l=Do.updateStateListForPair(l,h,m),h++):l=this.updateStateListForChar(l,h)}return _l.min(l,(h,m)=>h.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const l=[];for(let f of i)this.updateStateForChar(f,o,l);return Do.simplifyStates(l)}updateStateForChar(i,o,l){let f=this.text[o]&255,h=Xc[i.getMode()][f]>0,m=null;for(let w=0;w<=ci;w++){let C=Xc[w][f];if(C>0){if(m==null&&(m=i.endBinaryShift(o)),!h||w===i.getMode()||w===sr){const N=m.latchAndAppend(w,C);l.push(N)}if(!h&&qd[i.getMode()][w]>=0){const N=m.shiftAndAppend(w,C);l.push(N)}}}if(i.getBinaryShiftByteCount()>0||Xc[i.getMode()][f]===0){let w=i.addBinaryShiftChar(o);l.push(w)}}static updateStateListForPair(i,o,l){const f=[];for(let h of i)this.updateStateForPair(h,o,l,f);return this.simplifyStates(f)}static updateStateForPair(i,o,l,f){let h=i.endBinaryShift(o);if(f.push(h.latchAndAppend(ci,l)),i.getMode()!==ci&&f.push(h.shiftAndAppend(ci,l)),l===3||l===4){let m=h.latchAndAppend(sr,16-l).latchAndAppend(sr,1);f.push(m)}if(i.getBinaryShiftByteCount()>0){let m=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(m)}}static simplifyStates(i){let o=[];for(const l of i){let f=!0;for(const h of o){if(h.isBetterThanOrEqualTo(l)){f=!1;break}l.isBetterThanOrEqualTo(h)&&(o=o.filter(m=>m!==h))}f&&o.push(l)}return o}}class wt{constructor(){}static encodeBytes(i){return wt.encode(i,wt.DEFAULT_EC_PERCENT,wt.DEFAULT_AZTEC_LAYERS)}static encode(i,o,l){let f=new Do(i).encode(),h=j.truncDivision(f.getSize()*o,100)+11,m=f.getSize()+h,w,C,N,T,P;if(l!==wt.DEFAULT_AZTEC_LAYERS){if(w=l<0,C=Math.abs(l),C>(w?wt.MAX_NB_BITS_COMPACT:wt.MAX_NB_BITS))throw new E(ie.format("Illegal value %s for layers",l));N=wt.totalBitsInLayer(C,w),T=wt.WORD_SIZE[C];let ge=N-N%T;if(P=wt.stuffBits(f,T),P.getSize()+h>ge)throw new E("Data to large for user specified layer");if(w&&P.getSize()>T*64)throw new E("Data to large for user specified layer")}else{T=0,P=null;for(let ge=0;;ge++){if(ge>wt.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(w=ge<=3,C=w?ge+1:ge,N=wt.totalBitsInLayer(C,w),m>N)continue;(P==null||T!==wt.WORD_SIZE[C])&&(T=wt.WORD_SIZE[C],P=wt.stuffBits(f,T));let qe=N-N%T;if(!(w&&P.getSize()>T*64)&&P.getSize()+h<=qe)break}}let H=wt.generateCheckWords(P,N,T),Z=P.getSize()/T,z=wt.generateModeMessage(w,C,Z),G=(w?11:14)+C*4,X=new Int32Array(G),ee;if(w){ee=G;for(let ge=0;ge<X.length;ge++)X[ge]=ge}else{ee=G+1+2*j.truncDivision(j.truncDivision(G,2)-1,15);let ge=j.truncDivision(G,2),qe=j.truncDivision(ee,2);for(let st=0;st<ge;st++){let Er=st+j.truncDivision(st,15);X[ge-st-1]=qe-Er-1,X[ge+st]=qe+Er+1}}let he=new xe(ee);for(let ge=0,qe=0;ge<C;ge++){let st=(C-ge)*4+(w?9:12);for(let Er=0;Er<st;Er++){let xn=Er*2;for(let Jn=0;Jn<2;Jn++)H.get(qe+xn+Jn)&&he.set(X[ge*2+Jn],X[ge*2+Er]),H.get(qe+st*2+xn+Jn)&&he.set(X[ge*2+Er],X[G-1-ge*2-Jn]),H.get(qe+st*4+xn+Jn)&&he.set(X[G-1-ge*2-Jn],X[G-1-ge*2-Er]),H.get(qe+st*6+xn+Jn)&&he.set(X[G-1-ge*2-Er],X[ge*2+Jn])}qe+=st*8}if(wt.drawModeMessage(he,w,ee,z),w)wt.drawBullsEye(he,j.truncDivision(ee,2),5);else{wt.drawBullsEye(he,j.truncDivision(ee,2),7);for(let ge=0,qe=0;ge<j.truncDivision(G,2)-1;ge+=15,qe+=16)for(let st=j.truncDivision(ee,2)&1;st<ee;st+=2)he.set(j.truncDivision(ee,2)-qe,st),he.set(j.truncDivision(ee,2)+qe,st),he.set(st,j.truncDivision(ee,2)-qe),he.set(st,j.truncDivision(ee,2)+qe)}let me=new Nl;return me.setCompact(w),me.setSize(ee),me.setLayers(C),me.setCodeWords(Z),me.setMatrix(he),me}static drawBullsEye(i,o,l){for(let f=0;f<l;f+=2)for(let h=o-f;h<=o+f;h++)i.set(h,o-f),i.set(h,o+f),i.set(o-f,h),i.set(o+f,h);i.set(o-l,o-l),i.set(o-l+1,o-l),i.set(o-l,o-l+1),i.set(o+l,o-l),i.set(o+l,o-l+1),i.set(o+l,o+l-1)}static generateModeMessage(i,o,l){let f=new q;return i?(f.appendBits(o-1,2),f.appendBits(l-1,6),f=wt.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(l-1,11),f=wt.generateCheckWords(f,40,4)),f}static drawModeMessage(i,o,l,f){let h=j.truncDivision(l,2);if(o)for(let m=0;m<7;m++){let w=h-3+m;f.get(m)&&i.set(w,h-5),f.get(m+7)&&i.set(h+5,w),f.get(20-m)&&i.set(w,h+5),f.get(27-m)&&i.set(h-5,w)}else for(let m=0;m<10;m++){let w=h-5+m+j.truncDivision(m,5);f.get(m)&&i.set(w,h-7),f.get(m+10)&&i.set(h+7,w),f.get(29-m)&&i.set(w,h+7),f.get(39-m)&&i.set(h-7,w)}}static generateCheckWords(i,o,l){let f=i.getSize()/l,h=new Ao(wt.getGF(l)),m=j.truncDivision(o,l),w=wt.bitsToWords(i,l,m);h.encode(w,m-f);let C=o%l,N=new q;N.appendBits(0,C);for(const T of Array.from(w))N.appendBits(T,l);return N}static bitsToWords(i,o,l){let f=new Int32Array(l),h,m;for(h=0,m=i.getSize()/o;h<m;h++){let w=0;for(let C=0;C<o;C++)w|=i.get(h*o+C)?1<<o-C-1:0;f[h]=w}return f}static getGF(i){switch(i){case 4:return Le.AZTEC_PARAM;case 6:return Le.AZTEC_DATA_6;case 8:return Le.AZTEC_DATA_8;case 10:return Le.AZTEC_DATA_10;case 12:return Le.AZTEC_DATA_12;default:throw new E("Unsupported word size "+i)}}static stuffBits(i,o){let l=new q,f=i.getSize(),h=(1<<o)-2;for(let m=0;m<f;m+=o){let w=0;for(let C=0;C<o;C++)(m+C>=f||i.get(m+C))&&(w|=1<<o-1-C);(w&h)===h?(l.appendBits(w&h,o),m--):w&h?l.appendBits(w,o):(l.appendBits(w|1,o),m--)}return l}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}wt.DEFAULT_EC_PERCENT=33,wt.DEFAULT_AZTEC_LAYERS=0,wt.MAX_NB_BITS=32,wt.MAX_NB_BITS_COMPACT=4,wt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Io{encode(i,o,l,f){return this.encodeWithHints(i,o,l,f,null)}encodeWithHints(i,o,l,f,h){let m=El.ISO_8859_1,w=wt.DEFAULT_EC_PERCENT,C=wt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(gn.CHARACTER_SET)&&(m=Vc.forName(h.get(gn.CHARACTER_SET).toString())),h.has(gn.ERROR_CORRECTION)&&(w=j.parseInt(h.get(gn.ERROR_CORRECTION).toString())),h.has(gn.AZTEC_LAYERS)&&(C=j.parseInt(h.get(gn.AZTEC_LAYERS).toString()))),Io.encodeLayers(i,o,l,f,m,w,C)}static encodeLayers(i,o,l,f,h,m,w){if(o!==Ae.AZTEC)throw new E("Can only encode AZTEC, but got "+o);let C=wt.encode(ie.getBytes(i,h),m,w);return Io.renderResult(C,l,f)}static renderResult(i,o,l){let f=i.getMatrix();if(f==null)throw new an;let h=f.getWidth(),m=f.getHeight(),w=Math.max(o,h),C=Math.max(l,m),N=Math.min(w/h,C/m),T=(w-h*N)/2,P=(C-m*N)/2,H=new xe(w,C);for(let Z=0,z=P;Z<m;Z++,z+=N)for(let G=0,X=T;G<h;G++,X+=N)f.get(G,Z)&&H.setRegion(X,z,N,N);return H}}t.AbstractExpandedDecoder=Lc,t.ArgumentException=y,t.ArithmeticException=Ne,t.AztecCode=Nl,t.AztecCodeReader=Ni,t.AztecCodeWriter=Io,t.AztecDecoder=St,t.AztecDetector=ii,t.AztecDetectorResult=fr,t.AztecEncoder=wt,t.AztecHighLevelEncoder=Do,t.AztecPoint=un,t.BarcodeFormat=Ae,t.Binarizer=S,t.BinaryBitmap=_,t.BitArray=q,t.BitMatrix=xe,t.BitSource=vl,t.BrowserAztecCodeReader=Ms,t.BrowserBarcodeReader=jd,t.BrowserCodeReader=cn,t.BrowserDatamatrixCodeReader=Rd,t.BrowserMultiFormatReader=Gr,t.BrowserPDF417Reader=pp,t.BrowserQRCodeReader=zd,t.BrowserQRCodeSvgWriter=zs,t.CharacterSetECI=W,t.ChecksumException=k,t.Code128Reader=Te,t.Code39Reader=tn,t.DataMatrixDecodedBitStreamParser=ki,t.DataMatrixReader=oi,t.DecodeHintType=B,t.DecoderResult=kn,t.DefaultGridSampler=en,t.DetectorResult=Fn,t.EAN13Reader=ps,t.EncodeHintType=gn,t.Exception=x,t.FormatException=F,t.GenericGF=Le,t.GenericGFPoly=_t,t.GlobalHistogramBinarizer=Se,t.GridSampler=Ge,t.GridSamplerInstance=Yt,t.HTMLCanvasElementLuminanceSource=Re,t.HybridBinarizer=ye,t.ITFReader=At,t.IllegalArgumentException=E,t.IllegalStateException=an,t.InvertedLuminanceSource=_e,t.LuminanceSource=ue,t.MathUtils=lt,t.MultiFormatOneDReader=Fs,t.MultiFormatReader=Ud,t.MultiFormatWriter=Cl,t.NotFoundException=re,t.OneDReader=Jt,t.PDF417DecodedBitStreamParser=fe,t.PDF417DecoderErrorCorrection=Md,t.PDF417Reader=Gn,t.PDF417ResultMetadata=Wc,t.PerspectiveTransform=Tt,t.PlanarYUVLuminanceSource=pr,t.QRCodeByteMatrix=li,t.QRCodeDataMask=br,t.QRCodeDecodedBitStreamParser=on,t.QRCodeDecoderErrorCorrectionLevel=$t,t.QRCodeDecoderFormatInformation=Kn,t.QRCodeEncoder=rn,t.QRCodeEncoderQRCode=Qi,t.QRCodeMaskUtil=rt,t.QRCodeMatrixUtil=Xe,t.QRCodeMode=$e,t.QRCodeReader=ms,t.QRCodeVersion=Ye,t.QRCodeWriter=Ws,t.RGBLuminanceSource=qc,t.RSS14Reader=dn,t.RSSExpandedReader=be,t.ReaderException=ir,t.ReedSolomonDecoder=Ei,t.ReedSolomonEncoder=Ao,t.ReedSolomonException=ft,t.Result=mt,t.ResultMetadataType=Qe,t.ResultPoint=Ce,t.StringUtils=ie,t.UnsupportedOperationException=se,t.VideoInputDevice=Oe,t.WhiteRectangleDetector=De,t.WriterException=Xt,t.ZXingArrays=D,t.ZXingCharset=Vc,t.ZXingInteger=j,t.ZXingStandardCharsets=El,t.ZXingStringBuilder=ce,t.ZXingStringEncoding=le,t.ZXingSystem=R,t.createAbstractExpandedDecoder=Id,Object.defineProperty(t,"__esModule",{value:!0})})})(yg,yg.exports);var hn=yg.exports;const $9=yh(hn),X9=s3({__proto__:null,default:$9},[hn]);var lb=function(){function e(n,t,r){if(this.formatMap=new Map([[Ue.QR_CODE,hn.BarcodeFormat.QR_CODE],[Ue.AZTEC,hn.BarcodeFormat.AZTEC],[Ue.CODABAR,hn.BarcodeFormat.CODABAR],[Ue.CODE_39,hn.BarcodeFormat.CODE_39],[Ue.CODE_93,hn.BarcodeFormat.CODE_93],[Ue.CODE_128,hn.BarcodeFormat.CODE_128],[Ue.DATA_MATRIX,hn.BarcodeFormat.DATA_MATRIX],[Ue.MAXICODE,hn.BarcodeFormat.MAXICODE],[Ue.ITF,hn.BarcodeFormat.ITF],[Ue.EAN_13,hn.BarcodeFormat.EAN_13],[Ue.EAN_8,hn.BarcodeFormat.EAN_8],[Ue.PDF_417,hn.BarcodeFormat.PDF_417],[Ue.RSS_14,hn.BarcodeFormat.RSS_14],[Ue.RSS_EXPANDED,hn.BarcodeFormat.RSS_EXPANDED],[Ue.UPC_A,hn.BarcodeFormat.UPC_A],[Ue.UPC_E,hn.BarcodeFormat.UPC_E],[Ue.UPC_EAN_EXTENSION,hn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!X9)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var s=this.createZXingFormats(n),a=new Map;a.set(hn.DecodeHintType.POSSIBLE_FORMATS,s),a.set(hn.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(n){var t=this;return new Promise(function(r,s){try{r(t.decode(n))}catch(a){s(a)}})},e.prototype.decode=function(n){var t=new hn.MultiFormatReader(this.verbose,this.hints),r=new hn.HTMLCanvasElementLuminanceSource(n),s=new hn.BinaryBitmap(new hn.HybridBinarizer(r)),a=t.decode(s);return{text:a.text,format:ZE.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(t,r,s){n.set(t,r)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var t=[],r=0,s=n;r<s.length;r++){var a=s[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Q9=globalThis&&globalThis.__awaiter||function(e,n,t,r){function s(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(y){try{x(r.next(y))}catch(E){d(E)}}function v(y){try{x(r.throw(y))}catch(E){d(E)}}function x(y){y.done?a(y.value):s(y.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},K9=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return v([x,y])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(a=x[0]&2?s.return:x[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,x[1])).done)return a;switch(s=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(y){x=[6,y],s=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},cb=function(){function e(n,t,r){if(this.formatMap=new Map([[Ue.QR_CODE,"qr_code"],[Ue.AZTEC,"aztec"],[Ue.CODABAR,"codabar"],[Ue.CODE_39,"code_39"],[Ue.CODE_93,"code_93"],[Ue.CODE_128,"code_128"],[Ue.DATA_MATRIX,"data_matrix"],[Ue.ITF,"itf"],[Ue.EAN_13,"ean_13"],[Ue.EAN_8,"ean_8"],[Ue.PDF_417,"pdf417"],[Ue.UPC_A,"upc_a"],[Ue.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var s=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Q9(this,void 0,void 0,function(){var t,r;return K9(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(n)];case 1:if(t=s.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(t),[2,{text:r.rawValue,format:ZE.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var t=null,r=0,s=0,a=n;s<a.length;s++){var d=a[s],g=d.boundingBox.width*d.boundingBox.height;g>r&&(r=g,t=d)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(n){for(var t=[],r=0,s=n;r<s.length;r++){var a=s[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(t,r,s){n.set(t,r)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),ub=globalThis&&globalThis.__awaiter||function(e,n,t,r){function s(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(y){try{x(r.next(y))}catch(E){d(E)}}function v(y){try{x(r.throw(y))}catch(E){d(E)}}function x(y){y.done?a(y.value):s(y.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},db=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return v([x,y])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(a=x[0]&2?s.return:x[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,x[1])).done)return a;switch(s=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(y){x=[6,y],s=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Z9=function(){function e(n,t,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&cb.isSupported()?(this.primaryDecoder=new cb(n,r,s),this.secondaryDecoder=new lb(n,r,s)):this.primaryDecoder=new lb(n,r,s)}return e.prototype.decodeAsync=function(n){return ub(this,void 0,void 0,function(){var t;return db(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return ub(this,void 0,void 0,function(){var t,r;return db(this,function(s){switch(s.label){case 0:t=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var t=performance.now()-n;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,t=0,r=this.executionResults;t<r.length;t++){var s=r[t];n+=s}var a=n/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Jx=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lh=globalThis&&globalThis.__awaiter||function(e,n,t,r){function s(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(y){try{x(r.next(y))}catch(E){d(E)}}function v(y){try{x(r.throw(y))}catch(E){d(E)}}function x(y){y.done?a(y.value):s(y.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},ch=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return v([x,y])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(a=x[0]&2?s.return:x[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,x[1])).done)return a;switch(s=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(y){x=[6,y],s=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},eN=function(){function e(n,t){this.name=n,this.track=t}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var t={};t[this.name]=n;var r={advanced:[t]};return this.track.applyConstraints(r)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var t=n[this.name];return t}return null},e}(),J9=function(e){Jx(n,e);function n(t,r){return e.call(this,t,r)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(t){var r={};r[this.name]=t;var s={advanced:[r]};return this.track.applyConstraints(s)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),r=t[this.name];return{min:r.min,max:r.max,step:r.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(eN),eL=function(e){Jx(n,e);function n(t){return e.call(this,"zoom",t)||this}return n}(J9),tL=function(e){Jx(n,e);function n(t){return e.call(this,"torch",t)||this}return n}(eN),nL=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new eL(this.track)},e.prototype.torchFeature=function(){return new tL(this.track)},e}(),rL=function(){function e(n,t,r){this.isClosed=!1,this.parentElement=n,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var t=document.createElement("video");return t.style.width="".concat(n,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=n.surface.clientWidth,s=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(r,s),n.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,t,r,s){return lh(this,void 0,void 0,function(){var a,d;return ch(this,function(g){switch(g.label){case 0:return a=new e(n,t,s),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:g.sent(),g.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var t=this,r=function(){setTimeout(n,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return lh(this,void 0,void 0,function(){return ch(this,function(t){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(t,r){var s=n.mediaStream.getVideoTracks(),a=s.length,d=0;n.mediaStream.getVideoTracks().forEach(function(g){n.mediaStream.removeTrack(g),g.stop(),++d,d>=a&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),t())})})},e.prototype.getCapabilities=function(){return new nL(this.getFirstTrackOrFail())},e}(),iL=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,t,r){return lh(this,void 0,void 0,function(){return ch(this,function(s){return[2,rL.create(n,this.mediaStream,t,r)]})})},e.create=function(n){return lh(this,void 0,void 0,function(){var t,r;return ch(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),fb=globalThis&&globalThis.__awaiter||function(e,n,t,r){function s(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(y){try{x(r.next(y))}catch(E){d(E)}}function v(y){try{x(r.throw(y))}catch(E){d(E)}}function x(y){y.done?a(y.value):s(y.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},hb=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return v([x,y])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(a=x[0]&2?s.return:x[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,x[1])).done)return a;switch(s=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(y){x=[6,y],s=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},sL=function(){function e(){}return e.failIfNotSupported=function(){return fb(this,void 0,void 0,function(){return hb(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return fb(this,void 0,void 0,function(){return hb(this,function(t){return[2,iL.create(n)]})})},e}(),aL=globalThis&&globalThis.__awaiter||function(e,n,t,r){function s(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(y){try{x(r.next(y))}catch(E){d(E)}}function v(y){try{x(r.throw(y))}catch(E){d(E)}}function x(y){y.done?a(y.value):s(y.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},oL=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return v([x,y])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(a=x[0]&2?s.return:x[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,x[1])).done)return a;switch(s=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(y){x=[6,y],s=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},lL=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Ql.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Ql.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return aL(this,void 0,void 0,function(){var n,t,r,s,a,d,g;return oL(this,function(v){switch(v.label){case 0:return n=function(x){for(var y=x.getVideoTracks(),E=0,_=y;E<_.length;E++){var k=_[E];k.enabled=!1,k.stop(),x.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=v.sent(),s=[],a=0,d=r;a<d.length;a++)g=d[a],g.kind==="videoinput"&&s.push({id:g.deviceId,label:g.label});return n(t),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,t){var r=function(a){for(var d=[],g=0,v=a;g<v.length;g++){var x=v[g];x.kind==="video"&&d.push({id:x.id,label:x.label})}n(d)},s=MediaStreamTrack;s.getSources(r)})},e}(),Rn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Rn||(Rn={}));var cL=function(){function e(){this.state=Rn.NOT_STARTED,this.onGoingTransactionNewState=Rn.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Rn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Rn.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Rn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Rn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Rn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case Rn.UNKNOWN:throw"Transition from unknown is not allowed";case Rn.NOT_STARTED:this.failIfNewStateIs(n,[Rn.PAUSED]);break;case Rn.SCANNING:break;case Rn.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,t){for(var r=0,s=t;r<s.length;r++){var a=s[r];if(n===a)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),uL=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Rn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Rn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Rn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Rn.PAUSED},e}(),dL=function(){function e(){}return e.create=function(){return new uL(new cL)},e}(),fL=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pi=function(e){fL(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(V9),hL=function(){function e(n,t){this.logger=t,this.fps=pi.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=pi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?JE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ea(this.qrbox)},e.create=function(n,t){return new e(n,t)},e}(),pL=function(){function e(n,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var r;typeof t=="boolean"?this.verbose=t===!0:t&&(r=t,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new G9(this.verbose),this.qrcode=new Z9(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=dL.create()}return e.prototype.start=function(n,t,r,s){var a=this;if(!n)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;s?d=s:d=this.verbose?this.logger.log:function(){};var g=hL.create(t,this.logger);this.clearElement();var v=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=v,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:pi.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var E=this,_=this.stateManagerProxy.startTransition(Rn.SCANNING);return new Promise(function(k,S){var R=x?g.videoConstraints:E.createVideoConstraints(n);if(!R){_.cancel(),S("videoConstraints should be defined");return}var O={};(!x||g.aspectRatio)&&(O.aspectRatio=g.aspectRatio);var I={onRenderSurfaceReady:function(D,j){E.setupUi(D,j,g),E.isScanning=!0,E.foreverScan(g,r,d)}};sL.failIfNotSupported().then(function(D){D.create(R).then(function(j){return j.render(a.element,O,I).then(function(q){E.renderedCamera=q,_.execute(),k(null)}).catch(function(q){_.cancel(),S(q)})}).catch(function(j){_.cancel(),S(Ql.errorGettingUserMedia(j))})}).catch(function(D){_.cancel(),S(Ql.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Rn.PAUSED),this.showPausedState(),(ea(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,t=function(){n.stateManagerProxy.directTransition(Rn.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(Rn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(n.element){var a=document.getElementById(pi.SHADED_REGION_ELEMENT_ID);a&&n.element.removeChild(a)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),t.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,t){return this.scanFileV2(n,t).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(n,t){var r=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ea(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(n);var d=new Image;d.onload=function(){var g=d.width,v=d.height,x=document.getElementById(r.elementId),y=x.clientWidth?x.clientWidth:pi.DEFAULT_WIDTH,E=Math.max(x.clientHeight?x.clientHeight:v,pi.FILE_SCAN_MIN_HEIGHT),_=r.computeCanvasDrawConfig(g,v,y,E);if(t){var k=r.createCanvasElement(y,E,"qr-canvas-visible");k.style.display="inline-block",x.appendChild(k);var S=k.getContext("2d");if(!S)throw"Unable to get 2d context from canvas";S.canvas.width=y,S.canvas.height=E,S.drawImage(d,0,0,g,v,_.x,_.y,_.width,_.height)}var R=pi.FILE_SCAN_HIDDEN_CANVAS_PADDING,O=Math.max(d.width,_.width),I=Math.max(d.height,_.height),D=O+2*R,j=I+2*R,q=r.createCanvasElement(D,j);x.appendChild(q);var Q=q.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=D,Q.canvas.height=j,Q.drawImage(d,0,0,g,v,R,R,O,I);try{r.qrcode.decodeRobustlyAsync(q).then(function(B){s(ob.createFromQrcodeResult(B))}).catch(a)}catch(B){a("QR code parse error, error = ".concat(B))}},d.onerror=a,d.onabort=a,d.onstalled=a,d.onsuspend=a,d.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return lL.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!JE.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var t=[Ue.QR_CODE,Ue.AZTEC,Ue.CODABAR,Ue.CODE_39,Ue.CODE_93,Ue.CODE_128,Ue.DATA_MATRIX,Ue.MAXICODE,Ue.ITF,Ue.EAN_13,Ue.EAN_8,Ue.PDF_417,Ue.RSS_14,Ue.RSS_EXPANDED,Ue.UPC_A,Ue.UPC_E,Ue.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return t;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,a=n.formatsToSupport;s<a.length;s++){var d=a[s];q9(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(ea(n))return!0;if(!ea(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(ea(n.experimentalFeatures))return!0;var t=n.experimentalFeatures;return ea(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,t,r){var s=this,a=r.qrbox;this.validateQrboxConfig(a);var d=this.toQrdimensions(n,t,a),g=function(x){if(x<pi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(pi.MIN_QR_BOX_SIZE,"px.")},v=function(x){return x>n&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=n),x};g(d.width),g(d.height),d.width=v(d.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,t,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(n,t)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(n,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(n,t,r);var s=ea(r.qrbox)?{width:n,height:t}:r.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(n,t,s);a.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&a.height<=t,g={x:0,y:0,width:n,height:t},v=d?this.getShadedRegionBounds(n,t,a):g,x=this.createCanvasElement(v.width,v.height),y={willReadFrequently:!0},E=x.getContext("2d",y);E.canvas.width=v.width,E.canvas.height=v.height,this.element.append(x),d&&this.possiblyInsertShadingElement(this.element,n,t,a),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=E,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(n){var t=document.createElement("div");t.innerText=Ql.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",n.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(n,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return n(s.text,ob.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var a=Ql.codeParseError(s);return t(a,Y9.createFrom(a)),!1})},e.prototype.foreverScan=function(n,t,r){var s=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),d=a.videoWidth/a.clientWidth,g=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*d,x=this.qrRegion.height*g,y=this.qrRegion.x*d,E=this.qrRegion.y*g;this.context.drawImage(a,y,E,v,x,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(n,t,r)},s.getTimeoutFps(n.fps))};this.scanContext(t,r).then(function(k){!k&&n.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(t,r).finally(function(){_()})):_()}).catch(function(k){s.logger.logError("Error happend while scanning context",k),_()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var t="facingMode",r="deviceId",s={user:!0,environment:!0},a="exact",d=function(S){if(S in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(S,"'")},g=Object.keys(n);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var v=Object.keys(n)[0];if(v!==t&&v!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(v===t){var x=n.facingMode;if(typeof x=="string"){if(d(x))return{facingMode:x}}else if(typeof x=="object")if(a in x){if(d(x["".concat(a)]))return{facingMode:{exact:x["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var y=typeof x;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var E=n.deviceId;if(typeof E=="string")return{deviceId:E};if(typeof E=="object"){if(a in E)return{deviceId:{exact:E["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var _=typeof E;throw"Invalid type of 'deviceId' = ".concat(_)}}}var k=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},e.prototype.computeCanvasDrawConfig=function(n,t,r,s){if(n<=r&&t<=s){var a=(r-n)/2,d=(s-t)/2;return{x:a,y:d,width:n,height:t}}else{var g=n,v=t;return n>r&&(t=r/n*t,n=r),t>s&&(n=s/t*n,t=s),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(v)+" to ".concat(n,"X").concat(t,".")),this.computeCanvasDrawConfig(n,t,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=n?pi.BORDER_SHADER_MATCH_COLOR:pi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,t,r){var s=n,a=t,d=document.createElement("canvas");return d.style.width="".concat(s,"px"),d.style.height="".concat(a,"px"),d.style.display="none",d.id=ea(r)?"qr-canvas":r,d},e.prototype.getShadedRegionBounds=function(n,t,r){if(r.width>n||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(n,t,r,s){if(!(t-s.width<1||r-s.height<1)){var a=document.createElement("div");a.style.position="absolute";var d=(t-s.width)/2,g=(r-s.height)/2;if(a.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(pi.SHADED_REGION_ELEMENT_ID),t-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var v=5,x=40;this.insertShaderBorders(a,x,v,-v,null,0,!0),this.insertShaderBorders(a,x,v,-v,null,0,!1),this.insertShaderBorders(a,x,v,null,-v,0,!0),this.insertShaderBorders(a,x,v,null,-v,0,!1),this.insertShaderBorders(a,v,x+v,-v,null,-v,!0),this.insertShaderBorders(a,v,x+v,null,-v,-v,!0),this.insertShaderBorders(a,v,x+v,-v,null,-v,!1),this.insertShaderBorders(a,v,x+v,null,-v,-v,!1),this.hasBorderShaders=!0}n.append(a)}},e.prototype.insertShaderBorders=function(n,t,r,s,a,d,g){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=pi.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(t,"px"),v.style.height="".concat(r,"px"),s!==null&&(v.style.top="".concat(s,"px")),a!==null&&(v.style.bottom="".concat(a,"px")),g?v.style.left="".concat(d,"px"):v.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),n.appendChild(v)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var pb;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(pb||(pb={}));const tN=({onScan:e,onError:n=s=>console.error(s),isOpen:t,onClose:r})=>{const[s,a]=L.useState(!1),[d,g]=L.useState(""),v=L.useRef(null),x=L.useRef(null);L.useEffect(()=>(t&&!s&&y(),()=>{E()}),[t]);const y=async()=>{if(v.current)try{const k=new pL("scanner");x.current=k;const S={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[1,2,3,4,5,6,7,8,9,10,11,12]};await k.start({facingMode:"environment"},S,R=>{e(R),E(),r()},R=>{console.log(R)}),a(!0)}catch(k){console.error("Error starting scanner:",k);let S="",R="";k.name==="NotFoundError"||k.message&&k.message.includes("Requested device not found")?(S="No camera found. Please make sure your device has a camera and you have granted permission to use it.",R="No camera detected. You can manually enter the barcode value instead.",it.error(R,{icon:"📷❌",toastId:"camera-not-found"})):k.name==="NotAllowedError"||k.message&&k.message.includes("Permission denied")?(S="Camera access denied. Please grant permission to use your camera.",R="Camera access denied. Please check your browser permissions.",it.error(R,{icon:"🔒",toastId:"camera-permission-denied"})):(S=k&&k.message?k.message:"Failed to start scanner",it.error("Failed to start barcode scanner. Please try again later.",{toastId:"scanner-error"})),g(S),n(S),r()}},E=async()=>{if(x.current&&s)try{await x.current.stop(),a(!1)}catch(k){console.error("Error stopping scanner:",k)}},_=()=>{E(),r()};return t?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg w-full max-w-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Scan Barcode"}),c.jsx("button",{onClick:_,className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"mb-4",children:c.jsx("div",{id:"scanner",ref:v,className:"w-full h-64 bg-gray-100 rounded flex items-center justify-center",children:d&&c.jsxs("div",{className:"text-center p-4",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-red-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c.jsx("p",{className:"text-red-600 font-medium",children:d}),c.jsx("p",{className:"text-gray-600 mt-2",children:"You can manually enter the barcode value instead."})]})})}),c.jsx("div",{className:"text-sm text-gray-500 mb-4",children:d?"To use the barcode scanner, you need a device with a camera and permission to access it.":"Position the barcode within the scanner area. The scanner will automatically detect and process the code."}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:_,className:"btn btn-outline",children:"Cancel"})})]})}):null};tN.propTypes={onScan:ne.func.isRequired,onError:ne.func,isOpen:ne.bool.isRequired,onClose:ne.func.isRequired};const nN=({id:e="",onScan:n,buttonText:t="",className:r=""})=>{const[s,a]=L.useState(!1),d=()=>{a(!0)},g=()=>{a(!1)},v=x=>{console.error("Scan error:",x)};return c.jsxs(c.Fragment,{children:[c.jsxs("button",{id:e,type:"button",onClick:d,className:`flex items-center justify-center px-3 py-1.5 text-sm font-medium rounded-md
          bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
          hover:border-primary-600 hover:shadow-sm transition-all ${r}`,title:"Scan Barcode",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),t&&c.jsx("span",{className:"ml-1 font-medium",children:t})]}),c.jsx(tN,{isOpen:s,onClose:g,onScan:n,onError:v})]})};nN.propTypes={id:ne.string,onScan:ne.func.isRequired,buttonText:ne.string,className:ne.string};const rN=({id:e,name:n,type:t="text",label:r,placeholder:s,value:a,onChange:d,onBlur:g,error:v,disabled:x=!1,required:y=!1,className:E="",onScan:_,...k})=>{const I=`
    rounded-l-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${v?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${x?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 px-3 text-sm
    w-full
    ${E}
  `,D=`barcode-scan-button-${e}`;return c.jsxs("div",{className:"w-full",children:[r&&c.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${v?"text-red-600":"text-slate-700"}`,children:[r,y&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"flex",style:{display:"flex",width:"100%"},children:[c.jsx("input",{id:e,name:n,type:t,value:a,onChange:d,onBlur:g,placeholder:s,disabled:x,required:y,className:I,style:{width:"calc(100% - 120px)"},...k}),c.jsxs("button",{type:"button",onClick:()=>{const j=document.getElementById(D);j&&j.click()},className:`w-[120px] bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
            hover:border-primary-600 hover:shadow-sm transition-all font-medium flex items-center
            justify-center rounded-r-md border-l-0`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Scan"]}),c.jsx("div",{style:{display:"none"},children:c.jsx(nN,{id:D,onScan:_})})]}),v&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:v})]})};rN.propTypes={id:ne.string.isRequired,name:ne.string.isRequired,type:ne.string,label:ne.string,placeholder:ne.string,value:ne.oneOfType([ne.string,ne.number]),onChange:ne.func,onBlur:ne.func,error:ne.string,disabled:ne.bool,required:ne.bool,className:ne.string,onScan:ne.func.isRequired};const xi=({id:e,name:n,label:t,value:r,onChange:s,onBlur:a,options:d=[],error:g,disabled:v=!1,required:x=!1,placeholder:y="Select an option",className:E="",..._})=>{const O=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none
    ${g?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900"}
    ${v?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 pl-3 pr-10 text-sm
    ${E}
  `;return c.jsxs("div",{className:"w-full",children:[t&&c.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${g?"text-red-600":"text-slate-700"}`,children:[t,x&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{id:e,name:n,value:r,onChange:s,onBlur:a,disabled:v,required:x,className:O,..._,children:[c.jsx("option",{value:"",children:y}),d.map(I=>c.jsx("option",{value:I.value||I,children:I.label||I},I.value||I))]}),c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:c.jsx("svg",{className:"h-5 w-5 text-slate-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),g&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:g})]})};xi.propTypes={id:ne.string.isRequired,name:ne.string.isRequired,label:ne.string,value:ne.string,onChange:ne.func,onBlur:ne.func,options:ne.arrayOf(ne.oneOfType([ne.string,ne.shape({value:ne.string.isRequired,label:ne.string.isRequired})])),error:ne.string,disabled:ne.bool,required:ne.bool,placeholder:ne.string,className:ne.string};const Ot=({children:e,className:n="",...t})=>c.jsx("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden ${n}`,...t,children:e}),iN=({children:e,className:n="",...t})=>c.jsx("div",{className:`px-6 py-4 border-b border-slate-200 ${n}`,...t,children:e}),sN=({children:e,className:n="",...t})=>c.jsx("h3",{className:`text-lg font-medium text-slate-800 ${n}`,...t,children:e}),aN=({children:e,className:n="",...t})=>c.jsx("div",{className:`p-6 ${n}`,...t,children:e}),oN=({children:e,className:n="",...t})=>c.jsx("div",{className:`px-6 py-4 bg-slate-50 border-t border-slate-200 ${n}`,...t,children:e});Ot.Header=iN;Ot.Title=sN;Ot.Body=aN;Ot.Footer=oN;Ot.propTypes={children:ne.node.isRequired,className:ne.string};iN.propTypes={children:ne.node.isRequired,className:ne.string};sN.propTypes={children:ne.node.isRequired,className:ne.string};aN.propTypes={children:ne.node.isRequired,className:ne.string};oN.propTypes={children:ne.node.isRequired,className:ne.string};const Ga=({children:e,variant:n="primary",size:t="md",className:r="",...s})=>{const a="inline-flex items-center font-medium rounded-full",d={primary:"bg-primary-100 text-primary-800",secondary:"bg-slate-100 text-slate-800",success:"bg-green-100 text-green-800",danger:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",info:"bg-blue-100 text-blue-800"},g={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"},v=`
    ${a}
    ${d[n]||d.primary}
    ${g[t]||g.md}
    ${r}
  `;return c.jsx("span",{className:v,...s,children:e})};Ga.propTypes={children:ne.node.isRequired,variant:ne.oneOf(["primary","secondary","success","danger","warning","info"]),size:ne.oneOf(["sm","md","lg"]),className:ne.string};function ep(){return typeof window<"u"}function Rc(e){return lN(e)?(e.nodeName||"").toLowerCase():"#document"}function wi(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Os(e){var n;return(n=(lN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function lN(e){return ep()?e instanceof Node||e instanceof wi(e).Node:!1}function Wr(e){return ep()?e instanceof Element||e instanceof wi(e).Element:!1}function Rs(e){return ep()?e instanceof HTMLElement||e instanceof wi(e).HTMLElement:!1}function mb(e){return!ep()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wi(e).ShadowRoot}function Cd(e){const{overflow:n,overflowX:t,overflowY:r,display:s}=Gi(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!["inline","contents"].includes(s)}function mL(e){return["table","td","th"].includes(Rc(e))}function tp(e){return[":popover-open",":modal"].some(n=>{try{return e.matches(n)}catch{return!1}})}function e2(e){const n=t2(),t=Wr(e)?Gi(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function gL(e){let n=co(e);for(;Rs(n)&&!vc(n);){if(e2(n))return n;if(tp(n))return null;n=co(n)}return null}function t2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vc(e){return["html","body","#document"].includes(Rc(e))}function Gi(e){return wi(e).getComputedStyle(e)}function np(e){return Wr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function co(e){if(Rc(e)==="html")return e;const n=e.assignedSlot||e.parentNode||mb(e)&&e.host||Os(e);return mb(n)?n.host:n}function cN(e){const n=co(e);return vc(n)?e.ownerDocument?e.ownerDocument.body:e.body:Rs(n)&&Cd(n)?n:cN(n)}function dd(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const s=cN(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),d=wi(s);if(a){const g=bg(d);return n.concat(d,d.visualViewport||[],Cd(s)?s:[],g&&t?dd(g):[])}return n.concat(s,dd(s,[],t))}function bg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const wc=Math.min,tl=Math.max,uh=Math.round,Vf=Math.floor,js=e=>({x:e,y:e}),xL={left:"right",right:"left",bottom:"top",top:"bottom"},vL={start:"end",end:"start"};function wL(e,n,t){return tl(e,wc(n,t))}function rp(e,n){return typeof e=="function"?e(n):e}function yc(e){return e.split("-")[0]}function Ed(e){return e.split("-")[1]}function yL(e){return e==="x"?"y":"x"}function n2(e){return e==="y"?"height":"width"}function rc(e){return["top","bottom"].includes(yc(e))?"y":"x"}function r2(e){return yL(rc(e))}function bL(e,n,t){t===void 0&&(t=!1);const r=Ed(e),s=r2(e),a=n2(s);let d=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(d=dh(d)),[d,dh(d)]}function CL(e){const n=dh(e);return[Cg(e),n,Cg(n)]}function Cg(e){return e.replace(/start|end/g,n=>vL[n])}function EL(e,n,t){const r=["left","right"],s=["right","left"],a=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return t?n?s:r:n?r:s;case"left":case"right":return n?a:d;default:return[]}}function NL(e,n,t,r){const s=Ed(e);let a=EL(yc(e),t==="start",r);return s&&(a=a.map(d=>d+"-"+s),n&&(a=a.concat(a.map(Cg)))),a}function dh(e){return e.replace(/left|right|bottom|top/g,n=>xL[n])}function _L(e){return{top:0,right:0,bottom:0,left:0,...e}}function uN(e){return typeof e!="number"?_L(e):{top:e,right:e,bottom:e,left:e}}function fh(e){const{x:n,y:t,width:r,height:s}=e;return{width:r,height:s,top:t,left:n,right:n+r,bottom:t+s,x:n,y:t}}var hh=typeof document<"u"?L.useLayoutEffect:L.useEffect;const SL={...Pg},AL=SL.useInsertionEffect,kL=AL||(e=>e());function TL(e){const n=L.useRef(()=>{});return kL(()=>{n.current=e}),L.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n.current==null?void 0:n.current(...r)},[])}function gb(e,n,t){let{reference:r,floating:s}=e;const a=rc(n),d=r2(n),g=n2(d),v=yc(n),x=a==="y",y=r.x+r.width/2-s.width/2,E=r.y+r.height/2-s.height/2,_=r[g]/2-s[g]/2;let k;switch(v){case"top":k={x:y,y:r.y-s.height};break;case"bottom":k={x:y,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:E};break;case"left":k={x:r.x-s.width,y:E};break;default:k={x:r.x,y:r.y}}switch(Ed(n)){case"start":k[d]-=_*(t&&x?-1:1);break;case"end":k[d]+=_*(t&&x?-1:1);break}return k}const DL=async(e,n,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:d}=t,g=a.filter(Boolean),v=await(d.isRTL==null?void 0:d.isRTL(n));let x=await d.getElementRects({reference:e,floating:n,strategy:s}),{x:y,y:E}=gb(x,r,v),_=r,k={},S=0;for(let R=0;R<g.length;R++){const{name:O,fn:I}=g[R],{x:D,y:j,data:q,reset:Q}=await I({x:y,y:E,initialPlacement:r,placement:_,strategy:s,middlewareData:k,rects:x,platform:d,elements:{reference:e,floating:n}});y=D??y,E=j??E,k={...k,[O]:{...k[O],...q}},Q&&S<=50&&(S++,typeof Q=="object"&&(Q.placement&&(_=Q.placement),Q.rects&&(x=Q.rects===!0?await d.getElementRects({reference:e,floating:n,strategy:s}):Q.rects),{x:y,y:E}=gb(x,_,v)),R=-1)}return{x:y,y:E,placement:_,strategy:s,middlewareData:k}};async function IL(e,n){var t;n===void 0&&(n={});const{x:r,y:s,platform:a,rects:d,elements:g,strategy:v}=e,{boundary:x="clippingAncestors",rootBoundary:y="viewport",elementContext:E="floating",altBoundary:_=!1,padding:k=0}=rp(n,e),S=uN(k),O=g[_?E==="floating"?"reference":"floating":E],I=fh(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(O)))==null||t?O:O.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(g.floating)),boundary:x,rootBoundary:y,strategy:v})),D=E==="floating"?{x:r,y:s,width:d.floating.width,height:d.floating.height}:d.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(g.floating)),q=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},Q=fh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:g,rect:D,offsetParent:j,strategy:v}):D);return{top:(I.top-Q.top+S.top)/q.y,bottom:(Q.bottom-I.bottom+S.bottom)/q.y,left:(I.left-Q.left+S.left)/q.x,right:(Q.right-I.right+S.right)/q.x}}const jL=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:s,rects:a,platform:d,elements:g,middlewareData:v}=n,{element:x,padding:y=0}=rp(e,n)||{};if(x==null)return{};const E=uN(y),_={x:t,y:r},k=r2(s),S=n2(k),R=await d.getDimensions(x),O=k==="y",I=O?"top":"left",D=O?"bottom":"right",j=O?"clientHeight":"clientWidth",q=a.reference[S]+a.reference[k]-_[k]-a.floating[S],Q=_[k]-a.reference[k],B=await(d.getOffsetParent==null?void 0:d.getOffsetParent(x));let F=B?B[j]:0;(!F||!await(d.isElement==null?void 0:d.isElement(B)))&&(F=g.floating[j]||a.floating[S]);const V=q/2-Q/2,W=F/2-R[S]/2-1,se=wc(E[I],W),le=wc(E[D],W),ie=se,ce=F-R[S]-le,xe=F/2-R[S]/2+V,re=wL(ie,xe,ce),Se=!v.arrow&&Ed(s)!=null&&xe!==re&&a.reference[S]/2-(xe<ie?se:le)-R[S]/2<0,ye=Se?xe<ie?xe-ie:xe-ce:0;return{[k]:_[k]+ye,data:{[k]:re,centerOffset:xe-re-ye,...Se&&{alignmentOffset:ye}},reset:Se}}}),RL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:s,middlewareData:a,rects:d,initialPlacement:g,platform:v,elements:x}=n,{mainAxis:y=!0,crossAxis:E=!0,fallbackPlacements:_,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:R=!0,...O}=rp(e,n);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const I=yc(s),D=rc(g),j=yc(g)===g,q=await(v.isRTL==null?void 0:v.isRTL(x.floating)),Q=_||(j||!R?[dh(g)]:CL(g)),B=S!=="none";!_&&B&&Q.push(...NL(g,R,S,q));const F=[g,...Q],V=await IL(n,O),W=[];let se=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&W.push(V[I]),E){const re=bL(s,d,q);W.push(V[re[0]],V[re[1]])}if(se=[...se,{placement:s,overflows:W}],!W.every(re=>re<=0)){var le,ie;const re=(((le=a.flip)==null?void 0:le.index)||0)+1,Se=F[re];if(Se){var ce;const ue=E==="alignment"?D!==rc(Se):!1,_e=((ce=se[0])==null?void 0:ce.overflows[0])>0;if(!ue||_e)return{data:{index:re,overflows:se},reset:{placement:Se}}}let ye=(ie=se.filter(ue=>ue.overflows[0]<=0).sort((ue,_e)=>ue.overflows[1]-_e.overflows[1])[0])==null?void 0:ie.placement;if(!ye)switch(k){case"bestFit":{var xe;const ue=(xe=se.filter(_e=>{if(B){const Re=rc(_e.placement);return Re===D||Re==="y"}return!0}).map(_e=>[_e.placement,_e.overflows.filter(Re=>Re>0).reduce((Re,Oe)=>Re+Oe,0)]).sort((_e,Re)=>_e[1]-Re[1])[0])==null?void 0:xe[0];ue&&(ye=ue);break}case"initialPlacement":ye=g;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}};async function OL(e,n){const{placement:t,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),d=yc(t),g=Ed(t),v=rc(t)==="y",x=["left","top"].includes(d)?-1:1,y=a&&v?-1:1,E=rp(n,e);let{mainAxis:_,crossAxis:k,alignmentAxis:S}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return g&&typeof S=="number"&&(k=g==="end"?S*-1:S),v?{x:k*y,y:_*x}:{x:_*x,y:k*y}}const ML=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:s,y:a,placement:d,middlewareData:g}=n,v=await OL(n,e);return d===((t=g.offset)==null?void 0:t.placement)&&(r=g.arrow)!=null&&r.alignmentOffset?{}:{x:s+v.x,y:a+v.y,data:{...v,placement:d}}}}};function dN(e){const n=Gi(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const s=Rs(e),a=s?e.offsetWidth:t,d=s?e.offsetHeight:r,g=uh(t)!==a||uh(r)!==d;return g&&(t=a,r=d),{width:t,height:r,$:g}}function i2(e){return Wr(e)?e:e.contextElement}function ic(e){const n=i2(e);if(!Rs(n))return js(1);const t=n.getBoundingClientRect(),{width:r,height:s,$:a}=dN(n);let d=(a?uh(t.width):t.width)/r,g=(a?uh(t.height):t.height)/s;return(!d||!Number.isFinite(d))&&(d=1),(!g||!Number.isFinite(g))&&(g=1),{x:d,y:g}}const LL=js(0);function fN(e){const n=wi(e);return!t2()||!n.visualViewport?LL:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function PL(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==wi(e)?!1:n}function dl(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const s=e.getBoundingClientRect(),a=i2(e);let d=js(1);n&&(r?Wr(r)&&(d=ic(r)):d=ic(e));const g=PL(a,t,r)?fN(a):js(0);let v=(s.left+g.x)/d.x,x=(s.top+g.y)/d.y,y=s.width/d.x,E=s.height/d.y;if(a){const _=wi(a),k=r&&Wr(r)?wi(r):r;let S=_,R=bg(S);for(;R&&r&&k!==S;){const O=ic(R),I=R.getBoundingClientRect(),D=Gi(R),j=I.left+(R.clientLeft+parseFloat(D.paddingLeft))*O.x,q=I.top+(R.clientTop+parseFloat(D.paddingTop))*O.y;v*=O.x,x*=O.y,y*=O.x,E*=O.y,v+=j,x+=q,S=wi(R),R=bg(S)}}return fh({width:y,height:E,x:v,y:x})}function s2(e,n){const t=np(e).scrollLeft;return n?n.left+t:dl(Os(e)).left+t}function hN(e,n,t){t===void 0&&(t=!1);const r=e.getBoundingClientRect(),s=r.left+n.scrollLeft-(t?0:s2(e,r)),a=r.top+n.scrollTop;return{x:s,y:a}}function FL(e){let{elements:n,rect:t,offsetParent:r,strategy:s}=e;const a=s==="fixed",d=Os(r),g=n?tp(n.floating):!1;if(r===d||g&&a)return t;let v={scrollLeft:0,scrollTop:0},x=js(1);const y=js(0),E=Rs(r);if((E||!E&&!a)&&((Rc(r)!=="body"||Cd(d))&&(v=np(r)),Rs(r))){const k=dl(r);x=ic(r),y.x=k.x+r.clientLeft,y.y=k.y+r.clientTop}const _=d&&!E&&!a?hN(d,v,!0):js(0);return{width:t.width*x.x,height:t.height*x.y,x:t.x*x.x-v.scrollLeft*x.x+y.x+_.x,y:t.y*x.y-v.scrollTop*x.y+y.y+_.y}}function BL(e){return Array.from(e.getClientRects())}function UL(e){const n=Os(e),t=np(e),r=e.ownerDocument.body,s=tl(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),a=tl(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let d=-t.scrollLeft+s2(e);const g=-t.scrollTop;return Gi(r).direction==="rtl"&&(d+=tl(n.clientWidth,r.clientWidth)-s),{width:s,height:a,x:d,y:g}}function zL(e,n){const t=wi(e),r=Os(e),s=t.visualViewport;let a=r.clientWidth,d=r.clientHeight,g=0,v=0;if(s){a=s.width,d=s.height;const x=t2();(!x||x&&n==="fixed")&&(g=s.offsetLeft,v=s.offsetTop)}return{width:a,height:d,x:g,y:v}}function WL(e,n){const t=dl(e,!0,n==="fixed"),r=t.top+e.clientTop,s=t.left+e.clientLeft,a=Rs(e)?ic(e):js(1),d=e.clientWidth*a.x,g=e.clientHeight*a.y,v=s*a.x,x=r*a.y;return{width:d,height:g,x:v,y:x}}function xb(e,n,t){let r;if(n==="viewport")r=zL(e,t);else if(n==="document")r=UL(Os(e));else if(Wr(n))r=WL(n,t);else{const s=fN(e);r={x:n.x-s.x,y:n.y-s.y,width:n.width,height:n.height}}return fh(r)}function pN(e,n){const t=co(e);return t===n||!Wr(t)||vc(t)?!1:Gi(t).position==="fixed"||pN(t,n)}function HL(e,n){const t=n.get(e);if(t)return t;let r=dd(e,[],!1).filter(g=>Wr(g)&&Rc(g)!=="body"),s=null;const a=Gi(e).position==="fixed";let d=a?co(e):e;for(;Wr(d)&&!vc(d);){const g=Gi(d),v=e2(d);!v&&g.position==="fixed"&&(s=null),(a?!v&&!s:!v&&g.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Cd(d)&&!v&&pN(e,d))?r=r.filter(y=>y!==d):s=g,d=co(d)}return n.set(e,r),r}function qL(e){let{element:n,boundary:t,rootBoundary:r,strategy:s}=e;const d=[...t==="clippingAncestors"?tp(n)?[]:HL(n,this._c):[].concat(t),r],g=d[0],v=d.reduce((x,y)=>{const E=xb(n,y,s);return x.top=tl(E.top,x.top),x.right=wc(E.right,x.right),x.bottom=wc(E.bottom,x.bottom),x.left=tl(E.left,x.left),x},xb(n,g,s));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function VL(e){const{width:n,height:t}=dN(e);return{width:n,height:t}}function YL(e,n,t){const r=Rs(n),s=Os(n),a=t==="fixed",d=dl(e,!0,a,n);let g={scrollLeft:0,scrollTop:0};const v=js(0);function x(){v.x=s2(s)}if(r||!r&&!a)if((Rc(n)!=="body"||Cd(s))&&(g=np(n)),r){const k=dl(n,!0,a,n);v.x=k.x+n.clientLeft,v.y=k.y+n.clientTop}else s&&x();a&&!r&&s&&x();const y=s&&!r&&!a?hN(s,g):js(0),E=d.left+g.scrollLeft-v.x-y.x,_=d.top+g.scrollTop-v.y-y.y;return{x:E,y:_,width:d.width,height:d.height}}function V1(e){return Gi(e).position==="static"}function vb(e,n){if(!Rs(e)||Gi(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return Os(e)===t&&(t=t.ownerDocument.body),t}function mN(e,n){const t=wi(e);if(tp(e))return t;if(!Rs(e)){let s=co(e);for(;s&&!vc(s);){if(Wr(s)&&!V1(s))return s;s=co(s)}return t}let r=vb(e,n);for(;r&&mL(r)&&V1(r);)r=vb(r,n);return r&&vc(r)&&V1(r)&&!e2(r)?t:r||gL(e)||t}const GL=async function(e){const n=this.getOffsetParent||mN,t=this.getDimensions,r=await t(e.floating);return{reference:YL(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $L(e){return Gi(e).direction==="rtl"}const XL={convertOffsetParentRelativeRectToViewportRelativeRect:FL,getDocumentElement:Os,getClippingRect:qL,getOffsetParent:mN,getElementRects:GL,getClientRects:BL,getDimensions:VL,getScale:ic,isElement:Wr,isRTL:$L};function gN(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function QL(e,n){let t=null,r;const s=Os(e);function a(){var g;clearTimeout(r),(g=t)==null||g.disconnect(),t=null}function d(g,v){g===void 0&&(g=!1),v===void 0&&(v=1),a();const x=e.getBoundingClientRect(),{left:y,top:E,width:_,height:k}=x;if(g||n(),!_||!k)return;const S=Vf(E),R=Vf(s.clientWidth-(y+_)),O=Vf(s.clientHeight-(E+k)),I=Vf(y),j={rootMargin:-S+"px "+-R+"px "+-O+"px "+-I+"px",threshold:tl(0,wc(1,v))||1};let q=!0;function Q(B){const F=B[0].intersectionRatio;if(F!==v){if(!q)return d();F?d(!1,F):r=setTimeout(()=>{d(!1,1e-7)},1e3)}F===1&&!gN(x,e.getBoundingClientRect())&&d(),q=!1}try{t=new IntersectionObserver(Q,{...j,root:s.ownerDocument})}catch{t=new IntersectionObserver(Q,j)}t.observe(e)}return d(!0),a}function KL(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:g=typeof IntersectionObserver=="function",animationFrame:v=!1}=r,x=i2(e),y=s||a?[...x?dd(x):[],...dd(n)]:[];y.forEach(I=>{s&&I.addEventListener("scroll",t,{passive:!0}),a&&I.addEventListener("resize",t)});const E=x&&g?QL(x,t):null;let _=-1,k=null;d&&(k=new ResizeObserver(I=>{let[D]=I;D&&D.target===x&&k&&(k.unobserve(n),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var j;(j=k)==null||j.observe(n)})),t()}),x&&!v&&k.observe(x),k.observe(n));let S,R=v?dl(e):null;v&&O();function O(){const I=dl(e);R&&!gN(R,I)&&t(),R=I,S=requestAnimationFrame(O)}return t(),()=>{var I;y.forEach(D=>{s&&D.removeEventListener("scroll",t),a&&D.removeEventListener("resize",t)}),E==null||E(),(I=k)==null||I.disconnect(),k=null,v&&cancelAnimationFrame(S)}}const ZL=ML,JL=RL,wb=jL,eP=(e,n,t)=>{const r=new Map,s={platform:XL,...t},a={...s.platform,_c:r};return DL(e,n,{...s,platform:a})};var w0=typeof document<"u"?L.useLayoutEffect:L.useEffect;function ph(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,s;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!ph(e[r],n[r]))return!1;return!0}if(s=Object.keys(e),t=s.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,s[r]))return!1;for(r=t;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!ph(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}function xN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yb(e,n){const t=xN(e);return Math.round(n*t)/t}function Y1(e){const n=L.useRef(e);return w0(()=>{n.current=e}),n}function tP(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:d}={},transform:g=!0,whileElementsMounted:v,open:x}=e,[y,E]=L.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[_,k]=L.useState(r);ph(_,r)||k(r);const[S,R]=L.useState(null),[O,I]=L.useState(null),D=L.useCallback(ue=>{ue!==B.current&&(B.current=ue,R(ue))},[]),j=L.useCallback(ue=>{ue!==F.current&&(F.current=ue,I(ue))},[]),q=a||S,Q=d||O,B=L.useRef(null),F=L.useRef(null),V=L.useRef(y),W=v!=null,se=Y1(v),le=Y1(s),ie=Y1(x),ce=L.useCallback(()=>{if(!B.current||!F.current)return;const ue={placement:n,strategy:t,middleware:_};le.current&&(ue.platform=le.current),eP(B.current,F.current,ue).then(_e=>{const Re={..._e,isPositioned:ie.current!==!1};xe.current&&!ph(V.current,Re)&&(V.current=Re,kx.flushSync(()=>{E(Re)}))})},[_,n,t,le,ie]);w0(()=>{x===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,E(ue=>({...ue,isPositioned:!1})))},[x]);const xe=L.useRef(!1);w0(()=>(xe.current=!0,()=>{xe.current=!1}),[]),w0(()=>{if(q&&(B.current=q),Q&&(F.current=Q),q&&Q){if(se.current)return se.current(q,Q,ce);ce()}},[q,Q,ce,se,W]);const re=L.useMemo(()=>({reference:B,floating:F,setReference:D,setFloating:j}),[D,j]),Se=L.useMemo(()=>({reference:q,floating:Q}),[q,Q]),ye=L.useMemo(()=>{const ue={position:t,left:0,top:0};if(!Se.floating)return ue;const _e=yb(Se.floating,y.x),Re=yb(Se.floating,y.y);return g?{...ue,transform:"translate("+_e+"px, "+Re+"px)",...xN(Se.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:_e,top:Re}},[t,g,Se.floating,y.x,y.y]);return L.useMemo(()=>({...y,update:ce,refs:re,elements:Se,floatingStyles:ye}),[y,ce,re,Se,ye])}const nP=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:s}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?wb({element:r.current,padding:s}).fn(t):{}:r?wb({element:r,padding:s}).fn(t):{}}}},rP=(e,n)=>({...ZL(e),options:[e,n]}),iP=(e,n)=>({...JL(e),options:[e,n]}),sP=(e,n)=>({...nP(e),options:[e,n]}),aP={...Pg};let bb=!1,oP=0;const Cb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+oP++;function lP(){const[e,n]=L.useState(()=>bb?Cb():void 0);return hh(()=>{e==null&&n(Cb())},[]),L.useEffect(()=>{bb=!0},[]),e}const cP=aP.useId,vN=cP||lP,uP=L.forwardRef(function(n,t){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:a,shift:d}},width:g=14,height:v=7,tipRadius:x=0,strokeWidth:y=0,staticOffset:E,stroke:_,d:k,style:{transform:S,...R}={},...O}=n,I=vN(),[D,j]=L.useState(!1);if(hh(()=>{if(!s)return;Gi(s).direction==="rtl"&&j(!0)},[s]),!s)return null;const[q,Q]=r.split("-"),B=q==="top"||q==="bottom";let F=E;(B&&d!=null&&d.x||!B&&d!=null&&d.y)&&(F=null);const V=y*2,W=V/2,se=g/2*(x/-8+1),le=v/2*x/4,ie=!!k,ce=F&&Q==="end"?"bottom":"top";let xe=F&&Q==="end"?"right":"left";F&&D&&(xe=Q==="end"?"left":"right");const re=(a==null?void 0:a.x)!=null?F||a.x:"",Se=(a==null?void 0:a.y)!=null?F||a.y:"",ye=k||"M0,0"+(" H"+g)+(" L"+(g-se)+","+(v-le))+(" Q"+g/2+","+v+" "+se+","+(v-le))+" Z",ue={top:ie?"rotate(180deg)":"",left:ie?"rotate(90deg)":"rotate(-90deg)",bottom:ie?"":"rotate(180deg)",right:ie?"rotate(-90deg)":"rotate(90deg)"}[q];return c.jsxs("svg",{...O,"aria-hidden":!0,ref:t,width:ie?g:g+V,height:g,viewBox:"0 0 "+g+" "+(v>g?v:g),style:{position:"absolute",pointerEvents:"none",[xe]:re,[ce]:Se,[q]:B||ie?"100%":"calc(100% - "+V/2+"px)",transform:[ue,S].filter(_e=>!!_e).join(" "),...R},children:[V>0&&c.jsx("path",{clipPath:"url(#"+I+")",fill:"none",stroke:_,strokeWidth:V+(k?0:1),d:ye}),c.jsx("path",{stroke:V&&!k?O.fill:"none",d:ye}),c.jsx("clipPath",{id:I,children:c.jsx("rect",{x:-W,y:W*(ie?-1:1),width:g+V,height:g})})]})});function dP(){const e=new Map;return{emit(n,t){var r;(r=e.get(n))==null||r.forEach(s=>s(t))},on(n,t){e.has(n)||e.set(n,new Set),e.get(n).add(t)},off(n,t){var r;(r=e.get(n))==null||r.delete(t)}}}const fP=L.createContext(null),hP=L.createContext(null),pP=()=>{var e;return((e=L.useContext(fP))==null?void 0:e.id)||null},mP=()=>L.useContext(hP);function gP(e){const{open:n=!1,onOpenChange:t,elements:r}=e,s=vN(),a=L.useRef({}),[d]=L.useState(()=>dP()),g=pP()!=null,[v,x]=L.useState(r.reference),y=TL((k,S,R)=>{a.current.openEvent=k?S:void 0,d.emit("openchange",{open:k,event:S,reason:R,nested:g}),t==null||t(k,S,R)}),E=L.useMemo(()=>({setPositionReference:x}),[]),_=L.useMemo(()=>({reference:v||r.reference||null,floating:r.floating||null,domReference:r.reference}),[v,r.reference,r.floating]);return L.useMemo(()=>({dataRef:a,open:n,onOpenChange:y,elements:_,events:d,floatingId:s,refs:E}),[n,y,_,d,s,E])}function xP(e){e===void 0&&(e={});const{nodeId:n}=e,t=gP({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,s=r.elements,[a,d]=L.useState(null),[g,v]=L.useState(null),y=(s==null?void 0:s.domReference)||a,E=L.useRef(null),_=mP();hh(()=>{y&&(E.current=y)},[y]);const k=tP({...e,elements:{...s,...g&&{reference:g}}}),S=L.useCallback(j=>{const q=Wr(j)?{getBoundingClientRect:()=>j.getBoundingClientRect(),getClientRects:()=>j.getClientRects(),contextElement:j}:j;v(q),k.refs.setReference(q)},[k.refs]),R=L.useCallback(j=>{(Wr(j)||j===null)&&(E.current=j,d(j)),(Wr(k.refs.reference.current)||k.refs.reference.current===null||j!==null&&!Wr(j))&&k.refs.setReference(j)},[k.refs]),O=L.useMemo(()=>({...k.refs,setReference:R,setPositionReference:S,domReference:E}),[k.refs,R,S]),I=L.useMemo(()=>({...k.elements,domReference:y}),[k.elements,y]),D=L.useMemo(()=>({...k,...r,refs:O,elements:I,nodeId:n}),[k,O,I,n,r]);return hh(()=>{r.dataRef.current.floatingContext=D;const j=_==null?void 0:_.nodesRef.current.find(q=>q.id===n);j&&(j.context=D)}),L.useMemo(()=>({...k,context:D,refs:O,elements:I}),[k,O,I,D])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Eg=function(n,t){return Eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},Eg(n,t)};function dr(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Eg(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var Rt=function(){return Rt=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(t[d]=r[d])}return t},Rt.apply(this,arguments)};function Ts(e,n,t){if(t||arguments.length===2)for(var r=0,s=n.length,a;r<s;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var vP=function(e){var n=e.showTimeSelectOnly,t=n===void 0?!1:n,r=e.showTime,s=r===void 0?!1:r,a=e.className,d=e.children,g=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return de.createElement("div",{className:a,role:"dialog","aria-label":g,"aria-modal":"true"},d)},wP=function(e,n){var t=L.useRef(null),r=L.useRef(e);r.current=e;var s=L.useCallback(function(a){var d,g=a.composed&&a.composedPath&&a.composedPath().find(function(v){return v instanceof Node})||a.target;t.current&&!t.current.contains(g)&&(n&&g instanceof HTMLElement&&g.classList.contains(n)||(d=r.current)===null||d===void 0||d.call(r,a))},[n]);return L.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},ip=function(e){var n=e.children,t=e.onClickOutside,r=e.className,s=e.containerRef,a=e.style,d=e.ignoreClass,g=wP(t,d);return de.createElement("div",{className:r,style:a,ref:function(v){g.current=v,s&&(s.current=v)}},n)},Pe;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Pe||(Pe={}));function wN(){var e=typeof window<"u"?window:globalThis;return e}var Nd=12;function qt(e){if(e==null)return new Date;var n=typeof e=="string"?g9(e):He(e);return sp(n)?n:new Date}function G1(e,n,t,r,s){s===void 0&&(s=qt());for(var a=bc(t)||bc(a2()),d=Array.isArray(n)?n:[n],g=0,v=d;g<v.length;g++){var x=v[g],y=u9(e,x,s,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(sp(y)&&(!r||e===bn(y,x,t)))return y}return null}function sp(e,n){return rh(e)&&!ul(e,new Date("1/1/1800"))}function bn(e,n,t){if(t==="en")return cd(e,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?bc(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||bc(a2()),cd(e,n,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Fi(e,n){var t=n.dateFormat,r=n.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return e&&bn(e,s,r)||""}var yN=" - ";function yP(e,n,t){if(!e)return"";var r=Fi(e,t),s=n?Fi(n,t):"";return"".concat(r).concat(yN).concat(s)}function bP(e,n){if(!(e!=null&&e.length))return"";var t=e[0]?Fi(e[0],n):"";if(e.length===1)return t;if(e.length===2&&e[1]){var r=Fi(e[1],n);return"".concat(t,", ").concat(r)}var s=e.length-1;return"".concat(t," (+").concat(s,")")}function $1(e,n){var t=n.hour,r=t===void 0?0:t,s=n.minute,a=s===void 0?0:s,d=n.second,g=d===void 0?0:d;return g0(x0(v0(e,g),a),r)}function CP(e){return Xx(e)}function EP(e,n){return bn(e,"ddd",n)}function y0(e){return cl(e)}function so(e,n,t){var r=bc(n||a2());return ga(e,{locale:r,weekStartsOn:t})}function ua(e){return UE(e)}function Au(e){return Jh(e)}function Eb(e){return mg(e)}function Nb(){return cl(qt())}function _b(e){return Yx(e)}function NP(e){return xO(e)}function _P(e){return Gx(e)}function Ns(e,n){return e&&n?p9(e,n):!e&&!n}function Fr(e,n){return e&&n?f9(e,n):!e&&!n}function mh(e,n){return e&&n?h9(e,n):!e&&!n}function jt(e,n){return e&&n?uO(e,n):!e&&!n}function Qo(e,n){return e&&n?mM(e,n):!e&&!n}function ku(e,n,t){var r,s=cl(n),a=Yx(t);try{r=ud(e,{start:s,end:a})}catch{r=!1}return r}function a2(){var e=wN();return e.__localeId__}function bc(e){if(typeof e=="string"){var n=wN();return n.__localeData__?n.__localeData__[e]:void 0}else return e}function SP(e,n,t){return n(bn(e,"EEEE",t))}function AP(e,n){return bn(e,"EEEEEE",n)}function kP(e,n){return bn(e,"EEE",n)}function o2(e,n){return bn(Bi(qt(),e),"LLLL",n)}function bN(e,n){return bn(Bi(qt(),e),"LLL",n)}function TP(e,n){return bn(Ll(qt(),e),"QQQ",n)}function Wi(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.maxDate,a=t.excludeDates,d=t.excludeDateIntervals,g=t.includeDates,v=t.includeDateIntervals,x=t.filterDate;return _d(e,{minDate:r,maxDate:s})||a&&a.some(function(y){return y instanceof Date?jt(e,y):jt(e,y.date)})||d&&d.some(function(y){var E=y.start,_=y.end;return ud(e,{start:E,end:_})})||g&&!g.some(function(y){return jt(e,y)})||v&&!v.some(function(y){var E=y.start,_=y.end;return ud(e,{start:E,end:_})})||x&&!x(qt(e))||!1}function l2(e,n){var t=n===void 0?{}:n,r=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(a){var d=a.start,g=a.end;return ud(e,{start:d,end:g})}):r&&r.some(function(a){var d;return a instanceof Date?jt(e,a):jt(e,(d=a.date)!==null&&d!==void 0?d:new Date)})||!1}function CN(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.maxDate,a=t.excludeDates,d=t.includeDates,g=t.filterDate;return _d(e,{minDate:r?UE(r):void 0,maxDate:s?Gx(s):void 0})||(a==null?void 0:a.some(function(v){return Fr(e,v instanceof Date?v:v.date)}))||d&&!d.some(function(v){return Fr(e,v)})||g&&!g(qt(e))||!1}function Yf(e,n,t,r){var s=xt(e),a=Dr(e),d=xt(n),g=Dr(n),v=xt(r);return s===d&&s===v?a<=t&&t<=g:s<d?v===s&&a<=t||v===d&&g>=t||v<d&&v>s:!1}function DP(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.maxDate,a=t.excludeDates,d=t.includeDates;return _d(e,{minDate:r,maxDate:s})||a&&a.some(function(g){return Fr(g instanceof Date?g:g.date,e)})||d&&!d.some(function(g){return Fr(g,e)})||!1}function Gf(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.maxDate,a=t.excludeDates,d=t.includeDates,g=t.filterDate;return _d(e,{minDate:r,maxDate:s})||(a==null?void 0:a.some(function(v){return mh(e,v instanceof Date?v:v.date)}))||d&&!d.some(function(v){return mh(e,v)})||g&&!g(qt(e))||!1}function $f(e,n,t){if(!n||!t||!rh(n)||!rh(t))return!1;var r=xt(n),s=xt(t);return r<=e&&s>=e}function b0(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.maxDate,a=t.excludeDates,d=t.includeDates,g=t.filterDate,v=new Date(e,0,1);return _d(v,{minDate:r?Jh(r):void 0,maxDate:s?zE(s):void 0})||(a==null?void 0:a.some(function(x){return Ns(v,x instanceof Date?x:x.date)}))||d&&!d.some(function(x){return Ns(v,x)})||g&&!g(qt(v))||!1}function Xf(e,n,t,r){var s=xt(e),a=Jo(e),d=xt(n),g=Jo(n),v=xt(r);return s===d&&s===v?a<=t&&t<=g:s<d?v===s&&a<=t||v===d&&g>=t||v<d&&v>s:!1}function _d(e,n){var t,r=n===void 0?{}:n,s=r.minDate,a=r.maxDate;return(t=s&&gc(e,s)<0||a&&gc(e,a)>0)!==null&&t!==void 0?t:!1}function Sb(e,n){return n.some(function(t){return la(t)===la(e)&&ca(t)===ca(e)&&io(t)===io(e)})}function Ab(e,n){var t=n===void 0?{}:n,r=t.excludeTimes,s=t.includeTimes,a=t.filterTime;return r&&Sb(e,r)||s&&!Sb(e,s)||a&&!a(e)||!1}function kb(e,n){var t=n.minTime,r=n.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var s=qt();s=g0(s,la(e)),s=x0(s,ca(e)),s=v0(s,io(e));var a=qt();a=g0(a,la(t)),a=x0(a,ca(t)),a=v0(a,io(t));var d=qt();d=g0(d,la(r)),d=x0(d,ca(r)),d=v0(d,io(r));var g;try{g=!ud(s,{start:a,end:d})}catch{g=!1}return g}function Tb(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.includeDates,a=el(e,1);return r&&ld(r,a)>0||s&&s.every(function(d){return ld(d,a)>0})||!1}function Db(e,n){var t=n===void 0?{}:n,r=t.maxDate,s=t.includeDates,a=us(e,1);return r&&ld(a,r)>0||s&&s.every(function(d){return ld(a,d)>0})||!1}function IP(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.includeDates,a=Jh(e),d=KE(a,1);return r&&ih(r,d)>0||s&&s.every(function(g){return ih(g,d)>0})||!1}function jP(e,n){var t=n===void 0?{}:n,r=t.maxDate,s=t.includeDates,a=zE(e),d=Vx(a,1);return r&&ih(d,r)>0||s&&s.every(function(g){return ih(d,g)>0})||!1}function Ib(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.includeDates,a=xc(e,1);return r&&sh(r,a)>0||s&&s.every(function(d){return sh(d,a)>0})||!1}function RP(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.yearItemNumber,a=s===void 0?Nd:s,d=Au(xc(e,a)),g=$a(d,a).endPeriod,v=r&&xt(r);return v&&v>g||!1}function jb(e,n){var t=n===void 0?{}:n,r=t.maxDate,s=t.includeDates,a=aa(e,1);return r&&sh(a,r)>0||s&&s.every(function(d){return sh(a,d)>0})||!1}function OP(e,n){var t=n===void 0?{}:n,r=t.maxDate,s=t.yearItemNumber,a=s===void 0?Nd:s,d=aa(e,a),g=$a(d,a).startPeriod,v=r&&xt(r);return v&&v<g||!1}function EN(e){var n=e.minDate,t=e.includeDates;if(t&&n){var r=t.filter(function(s){return gc(s,n)>=0});return Ky(r)}else return t?Ky(t):n}function NN(e){var n=e.maxDate,t=e.includeDates;if(t&&n){var r=t.filter(function(s){return gc(s,n)<=0});return Qy(r)}else return t?Qy(t):n}function Rb(e,n){var t;e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var r=new Map,s=0,a=e.length;s<a;s++){var d=e[s];if(oa(d)){var g=bn(d,"MM.dd.yyyy"),v=r.get(g)||[];v.includes(n)||(v.push(n),r.set(g,v))}else if(typeof d=="object"){var x=Object.keys(d),y=(t=x[0])!==null&&t!==void 0?t:"",E=d[y];if(typeof y=="string"&&Array.isArray(E))for(var _=0,k=E.length;_<k;_++){var S=E[_];if(S){var g=bn(S,"MM.dd.yyyy"),v=r.get(g)||[];v.includes(y)||(v.push(y),r.set(g,v))}}}}return r}function MP(e,n){return e.length!==n.length?!1:e.every(function(t,r){return t===n[r]})}function LP(e,n){e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(r){var s=r.date,a=r.holidayName;if(oa(s)){var d=bn(s,"MM.dd.yyyy"),g=t.get(d)||{className:"",holidayNames:[]};if(!("className"in g&&g.className===n&&MP(g.holidayNames,[a]))){g.className=n;var v=g.holidayNames;g.holidayNames=v?Ts(Ts([],v,!0),[a],!1):[a],t.set(d,g)}}}),t}function PP(e,n,t,r,s){for(var a=s.length,d=[],g=0;g<a;g++){var v=e,x=s[g];x&&(v=sO(v,la(x)),v=pg(v,ca(x)),v=lO(v,io(x)));var y=pg(e,(t+1)*r);lo(v,n)&&ul(v,y)&&x!=null&&d.push(x)}return d}function Ob(e){return e<10?"0".concat(e):"".concat(e)}function $a(e,n){n===void 0&&(n=Nd);var t=Math.ceil(xt(e)/n)*n,r=t-(n-1);return{startPeriod:r,endPeriod:t}}function FP(e){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+n)/36e5)}function Mb(e){var n=e.getSeconds(),t=e.getMilliseconds();return He(e.getTime()-n*1e3-t)}function BP(e,n){return Mb(e).getTime()===Mb(n).getTime()}function Lb(e){if(!oa(e))throw new Error("Invalid date");var n=new Date(e);return n.setHours(0,0,0,0),n}function Pb(e,n){if(!oa(e)||!oa(n))throw new Error("Invalid date received");var t=Lb(e),r=Lb(n);return ul(t,r)}function _N(e){return e.key===Pe.Space}var UP=function(e){dr(n,e);function n(t){var r=e.call(this,t)||this;return r.inputRef=de.createRef(),r.onTimeChange=function(s){var a,d;r.setState({time:s});var g=r.props.date,v=g instanceof Date&&!isNaN(+g),x=v?g:new Date;if(s!=null&&s.includes(":")){var y=s.split(":"),E=y[0],_=y[1];x.setHours(Number(E)),x.setMinutes(Number(_))}(d=(a=r.props).onChange)===null||d===void 0||d.call(a,x)},r.renderTimeInput=function(){var s=r.state.time,a=r.props,d=a.date,g=a.timeString,v=a.customTimeInput;return v?L.cloneElement(v,{date:d,value:s,onChange:r.onTimeChange}):de.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var x;(x=r.inputRef.current)===null||x===void 0||x.focus()},required:!0,value:s,onChange:function(x){r.onTimeChange(x.target.value||g)}})},r.state={time:r.props.timeString},r}return n.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},n.prototype.render=function(){return de.createElement("div",{className:"react-datepicker__input-time-container"},de.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),de.createElement("div",{className:"react-datepicker-time__input-container"},de.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(L.Component),zP=function(e){dr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=L.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var s,a,d=r.key;d===Pe.Space&&(r.preventDefault(),r.key=Pe.Enter),(a=(s=t.props).handleOnKeyDown)===null||a===void 0||a.call(s,r)},t.isSameDay=function(r){return jt(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(d){return t.isSameDayOrWeek(d)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),Wi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return l2(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return jt(t.props.day,so(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&jt(r,so(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,s=r.day,a=r.highlightDates;if(!a)return!1;var d=bn(s,"MM.dd.yyyy");return a.get(d)},t.getHolidaysClass=function(){var r,s=t.props,a=s.day,d=s.holidays;if(!d)return[void 0];var g=bn(a,"MM.dd.yyyy");return d.has(g)?[(r=d.get(g))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,s=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:ku(s,a,d)},t.isInSelectingRange=function(){var r,s=t.props,a=s.day,d=s.selectsStart,g=s.selectsEnd,v=s.selectsRange,x=s.selectsDisabledDaysInRange,y=s.startDate,E=s.endDate,_=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(d||g||v)||!_||!x&&t.isDisabled()?!1:d&&E&&(ul(_,E)||Qo(_,E))?ku(a,_,E):g&&y&&(lo(_,y)||Qo(_,y))||v&&y&&!E&&(lo(_,y)||Qo(_,y))?ku(a,y,_):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var s=t.props,a=s.day,d=s.startDate,g=s.selectsStart,v=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return g?jt(a,v):jt(a,d)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var s=t.props,a=s.day,d=s.endDate,g=s.selectsEnd,v=s.selectsRange,x=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return g||v?jt(a,x):jt(a,d)},t.isRangeStart=function(){var r=t.props,s=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:jt(a,s)},t.isRangeEnd=function(){var r=t.props,s=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:jt(d,s)},t.isWeekend=function(){var r=dM(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Dr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Dr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(qt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var s=t.props.dayClassName?t.props.dayClassName(r):void 0;return yn("react-datepicker__day",s,"react-datepicker__day--"+EP(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,s=r.day,a=r.ariaLabelPrefixWhenEnabled,d=a===void 0?"Choose":a,g=r.ariaLabelPrefixWhenDisabled,v=g===void 0?"Not available":g,x=t.isDisabled()||t.isExcluded()?v:d;return"".concat(x," ").concat(bn(s,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,s=r.day,a=r.holidays,d=a===void 0?new Map:a,g=r.excludeDates,v=bn(s,"MM.dd.yyyy"),x=[];return d.has(v)&&x.push.apply(x,d.get(v).holidayNames),t.isExcluded()&&x.push(g==null?void 0:g.filter(function(y){return y instanceof Date?jt(y,s):jt(y==null?void 0:y.date,s)}).map(function(y){if(!(y instanceof Date))return y==null?void 0:y.message})),x.join(", ")},t.getTabIndex=function(){var r=t.props.selected,s=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&jt(s,r))?0:-1;return a},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(rb(t.props.day),t.props.day):rb(t.props.day)},t.render=function(){return de.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&de.createElement("span",{className:"overlay"},t.getTitle()))},t}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},n.prototype.isDayActiveElement=function(){var t,r,s;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(L.Component),WP=function(e){dr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=L.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var s,a,d=r.key;d===Pe.Space&&(r.preventDefault(),r.key=Pe.Enter),(a=(s=t.props).handleOnKeyDown)===null||a===void 0||a.call(s,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!jt(t.props.date,t.props.selected)&&jt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||jt(t.props.date,t.props.selected)&&jt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var s=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&jt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},n.prototype.render=function(){var t=this.props,r=t.weekNumber,s=t.isWeekDisabled,a=t.ariaLabelPrefix,d=a===void 0?n.defaultProps.ariaLabelPrefix:a,g=t.onClick,v={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!g&&!s,"react-datepicker__week-number--selected":!!g&&jt(this.props.date,this.props.selected)};return de.createElement("div",{ref:this.weekNumberEl,className:yn(v),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},n}(L.Component),HP=function(e){dr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(r){return Wi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,s){t.props.onDayClick&&t.props.onDayClick(r,s)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,s,a){for(var d,g,v,x=new Date(r),y=0;y<7;y++){var E=new Date(r);E.setDate(E.getDate()+y);var _=!t.isDisabled(E);if(_){x=E;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(x,s,a),t.props.showWeekPicker&&t.handleDayClick(x,a),((d=t.props.shouldCloseOnSelect)!==null&&d!==void 0?d:n.defaultProps.shouldCloseOnSelect)&&((v=(g=t.props).setOpen)===null||v===void 0||v.call(g,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):CP(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),s=ls(r,6),a=new Date(r);a<=s;){if(!t.isDisabled(a))return!1;a=ls(a,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),s=[],a=t.formatWeekNumber(r);if(t.props.showWeekNumber){var d=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,a):void 0;s.push(de.createElement(WP,Rt({key:"W"},n.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:d})))}return s.concat([0,1,2,3,4,5,6].map(function(g){var v=ls(r,g);return de.createElement(zP,Rt({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:v.valueOf(),day:v,onClick:t.handleDayClick.bind(t,v),onMouseEnter:t.handleDayMouseEnter.bind(t,v)}))}))},t.startOfWeek=function(){return so(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!jt(t.startOfWeek(),t.props.selected)&&jt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":jt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return de.createElement("div",{className:yn(t)},this.renderDays())},n}(L.Component),Cu,qP=6,sc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},X1=(Cu={},Cu[sc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Cu[sc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Cu[sc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Cu),Qf=1;function Fb(e,n){return e?sc.FOUR_COLUMNS:n?sc.TWO_COLUMNS:sc.THREE_COLUMNS}var VP=function(e){dr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Ts([],Array(12),!0).map(function(){return L.createRef()}),t.QUARTER_REFS=Ts([],Array(4),!0).map(function(){return L.createRef()}),t.isDisabled=function(r){return Wi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return l2(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,s){var a,d;(d=(a=t.props).onDayClick)===null||d===void 0||d.call(a,r,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var s,a;(a=(s=t.props).onDayMouseEnter)===null||a===void 0||a.call(s,r)},t.handleMouseLeave=function(){var r,s;(s=(r=t.props).onMouseLeave)===null||s===void 0||s.call(r)},t.isRangeStartMonth=function(r){var s=t.props,a=s.day,d=s.startDate,g=s.endDate;return!d||!g?!1:Fr(Bi(a,r),d)},t.isRangeStartQuarter=function(r){var s=t.props,a=s.day,d=s.startDate,g=s.endDate;return!d||!g?!1:mh(Ll(a,r),d)},t.isRangeEndMonth=function(r){var s=t.props,a=s.day,d=s.startDate,g=s.endDate;return!d||!g?!1:Fr(Bi(a,r),g)},t.isRangeEndQuarter=function(r){var s=t.props,a=s.day,d=s.startDate,g=s.endDate;return!d||!g?!1:mh(Ll(a,r),g)},t.isInSelectingRangeMonth=function(r){var s,a=t.props,d=a.day,g=a.selectsStart,v=a.selectsEnd,x=a.selectsRange,y=a.startDate,E=a.endDate,_=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(g||v||x)||!_?!1:g&&E?Yf(_,E,r,d):v&&y||x&&y&&!E?Yf(y,_,r,d):!1},t.isSelectingMonthRangeStart=function(r){var s;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,d=a.day,g=a.startDate,v=a.selectsStart,x=Bi(d,r),y=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return v?Fr(x,y):Fr(x,g)},t.isSelectingMonthRangeEnd=function(r){var s;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,d=a.day,g=a.endDate,v=a.selectsEnd,x=a.selectsRange,y=Bi(d,r),E=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return v||x?Fr(y,E):Fr(y,g)},t.isInSelectingRangeQuarter=function(r){var s,a=t.props,d=a.day,g=a.selectsStart,v=a.selectsEnd,x=a.selectsRange,y=a.startDate,E=a.endDate,_=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(g||v||x)||!_?!1:g&&E?Xf(_,E,r,d):v&&y||x&&y&&!E?Xf(y,_,r,d):!1},t.isWeekInMonth=function(r){var s=t.props.day,a=ls(r,6);return Fr(r,s)||Fr(a,s)},t.isCurrentMonth=function(r,s){return xt(r)===xt(qt())&&s===Dr(qt())},t.isCurrentQuarter=function(r,s){return xt(r)===xt(qt())&&s===Jo(qt())},t.isSelectedMonth=function(r,s,a){return Dr(a)===s&&xt(r)===xt(a)},t.isSelectMonthInList=function(r,s,a){return a.some(function(d){return t.isSelectedMonth(r,s,d)})},t.isSelectedQuarter=function(r,s,a){return Jo(r)===s&&xt(r)===xt(a)},t.isMonthSelected=function(){var r=t.props,s=r.day,a=r.selected,d=r.selectedDates,g=r.selectsMultiple,v=Dr(s);return g?d==null?void 0:d.some(function(x){return t.isSelectedMonth(s,v,x)}):!!a&&t.isSelectedMonth(s,v,a)},t.renderWeeks=function(){for(var r=[],s=t.props.fixedHeight,a=0,d=!1,g=so(ua(t.props.day),t.props.locale,t.props.calendarStartDay),v=function(S){return t.props.showWeekPicker?so(S,t.props.locale,t.props.calendarStartDay):t.props.preSelection},x=function(S){return t.props.showWeekPicker?so(S,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?x(t.props.selected):void 0,E=t.props.preSelection?v(t.props.preSelection):void 0;r.push(de.createElement(HP,Rt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:g,month:Dr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:E,showWeekNumber:t.props.showWeekNumbers}))),!d;){a++,g=nh(g,1);var _=s&&a>=qP,k=!s&&!t.isWeekInMonth(g);if(_||k)if(t.props.peekNextMonth)d=!0;else break}return r},t.onMonthClick=function(r,s){var a=t.isMonthDisabledForLabelDate(s),d=a.isDisabled,g=a.labelDate;d||t.handleDayClick(ua(g),r)},t.onMonthMouseEnter=function(r){var s=t.isMonthDisabledForLabelDate(r),a=s.isDisabled,d=s.labelDate;a||t.handleDayMouseEnter(ua(d))},t.handleMonthNavigation=function(r,s){var a,d,g,v;(d=(a=t.props).setPreSelection)===null||d===void 0||d.call(a,s),(v=(g=t.MONTH_REFS[r])===null||g===void 0?void 0:g.current)===null||v===void 0||v.focus()},t.handleKeyboardNavigation=function(r,s,a){var d,g=t.props,v=g.selected,x=g.preSelection,y=g.setPreSelection,E=g.minDate,_=g.maxDate,k=g.showFourColumnMonthYearPicker,S=g.showTwoColumnMonthYearPicker;if(x){var R=Fb(k,S),O=t.getVerticalOffset(R),I=(d=X1[R])===null||d===void 0?void 0:d.grid,D=function(F,V,W){var se,le,ie=V,ce=W;switch(F){case Pe.ArrowRight:ie=us(V,Qf),ce=W===11?0:W+Qf;break;case Pe.ArrowLeft:ie=el(V,Qf),ce=W===0?11:W-Qf;break;case Pe.ArrowUp:ie=el(V,O),ce=!((se=I==null?void 0:I[0])===null||se===void 0)&&se.includes(W)?W+12-O:W-O;break;case Pe.ArrowDown:ie=us(V,O),ce=!((le=I==null?void 0:I[I.length-1])===null||le===void 0)&&le.includes(W)?W-12+O:W+O;break}return{newCalculatedDate:ie,newCalculatedMonth:ce}},j=function(F,V,W){for(var se=40,le=F,ie=!1,ce=0,xe=D(le,V,W),re=xe.newCalculatedDate,Se=xe.newCalculatedMonth;!ie;){if(ce>=se){re=V,Se=W;break}if(E&&re<E){le=Pe.ArrowRight;var ye=D(le,re,Se);re=ye.newCalculatedDate,Se=ye.newCalculatedMonth}if(_&&re>_){le=Pe.ArrowLeft;var ye=D(le,re,Se);re=ye.newCalculatedDate,Se=ye.newCalculatedMonth}if(DP(re,t.props)){var ye=D(le,re,Se);re=ye.newCalculatedDate,Se=ye.newCalculatedMonth}else ie=!0;ce++}return{newCalculatedDate:re,newCalculatedMonth:Se}};if(s===Pe.Enter){t.isMonthDisabled(a)||(t.onMonthClick(r,a),y==null||y(v));return}var q=j(s,x,a),Q=q.newCalculatedDate,B=q.newCalculatedMonth;switch(s){case Pe.ArrowRight:case Pe.ArrowLeft:case Pe.ArrowUp:case Pe.ArrowDown:t.handleMonthNavigation(B,Q);break}}},t.getVerticalOffset=function(r){var s,a;return(a=(s=X1[r])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(r,s){var a=t.props,d=a.disabledKeyboardNavigation,g=a.handleOnMonthKeyDown,v=r.key;v!==Pe.Tab&&r.preventDefault(),d||t.handleKeyboardNavigation(r,v,s),g&&g(r)},t.onQuarterClick=function(r,s){var a=Ll(t.props.day,s);Gf(a,t.props)||t.handleDayClick(Eb(a),r)},t.onQuarterMouseEnter=function(r){var s=Ll(t.props.day,r);Gf(s,t.props)||t.handleDayMouseEnter(Eb(s))},t.handleQuarterNavigation=function(r,s){var a,d,g,v;t.isDisabled(s)||t.isExcluded(s)||((d=(a=t.props).setPreSelection)===null||d===void 0||d.call(a,s),(v=(g=t.QUARTER_REFS[r-1])===null||g===void 0?void 0:g.current)===null||v===void 0||v.focus())},t.onQuarterKeyDown=function(r,s){var a,d,g=r.key;if(!t.props.disabledKeyboardNavigation)switch(g){case Pe.Enter:t.onQuarterClick(r,s),(d=(a=t.props).setPreSelection)===null||d===void 0||d.call(a,t.props.selected);break;case Pe.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,Vx(t.props.preSelection,1));break;case Pe.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,KE(t.props.preSelection,1));break}},t.isMonthDisabledForLabelDate=function(r){var s,a=t.props,d=a.day,g=a.minDate,v=a.maxDate,x=a.excludeDates,y=a.includeDates,E=Bi(d,r);return{isDisabled:(s=(g||v||x||y)&&CN(E,t.props))!==null&&s!==void 0?s:!1,labelDate:E}},t.isMonthDisabled=function(r){var s=t.isMonthDisabledForLabelDate(r).isDisabled;return s},t.getMonthClassNames=function(r){var s=t.props,a=s.day,d=s.startDate,g=s.endDate,v=s.preSelection,x=s.monthClassName,y=x?x(Bi(a,r)):void 0,E=t.getSelection();return yn("react-datepicker__month-text","react-datepicker__month-".concat(r),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":E?t.isSelectMonthInList(a,r,E):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&v&&t.isSelectedMonth(a,r,v)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":d&&g?Yf(d,g,r,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(a,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var s=Dr(t.props.preSelection),a=t.isMonthDisabledForLabelDate(s).isDisabled,d=r===s&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return d},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var s=Jo(t.props.preSelection),a=Gf(t.props.day,t.props),d=r===s&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return d},t.getAriaLabel=function(r){var s=t.props,a=s.chooseDayAriaLabelPrefix,d=a===void 0?"Choose":a,g=s.disabledDayAriaLabelPrefix,v=g===void 0?"Not available":g,x=s.day,y=s.locale,E=Bi(x,r),_=t.isDisabled(E)||t.isExcluded(E)?v:d;return"".concat(_," ").concat(bn(E,"MMMM yyyy",y))},t.getQuarterClassNames=function(r){var s=t.props,a=s.day,d=s.startDate,g=s.endDate,v=s.selected,x=s.minDate,y=s.maxDate,E=s.excludeDates,_=s.includeDates,k=s.filterDate,S=s.preSelection,R=s.disabledKeyboardNavigation,O=(x||y||E||_||k)&&Gf(Ll(a,r),t.props);return yn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":O,"react-datepicker__quarter-text--selected":v?t.isSelectedQuarter(a,r,v):void 0,"react-datepicker__quarter-text--keyboard-selected":!R&&S&&t.isSelectedQuarter(a,r,S)&&!O,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":d&&g?Xf(d,g,r,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(a,r)})},t.getMonthContent=function(r){var s=t.props,a=s.showFullMonthYearPicker,d=s.renderMonthContent,g=s.locale,v=s.day,x=bN(r,g),y=o2(r,g);return d?d(r,x,y,v):a?y:x},t.getQuarterContent=function(r){var s,a=t.props,d=a.renderQuarterContent,g=a.locale,v=TP(r,g);return(s=d==null?void 0:d(r,v))!==null&&s!==void 0?s:v},t.renderMonths=function(){var r,s=t.props,a=s.showTwoColumnMonthYearPicker,d=s.showFourColumnMonthYearPicker,g=s.day,v=s.selected,x=(r=X1[Fb(d,a)])===null||r===void 0?void 0:r.grid;return x==null?void 0:x.map(function(y,E){return de.createElement("div",{className:"react-datepicker__month-wrapper",key:E},y.map(function(_,k){return de.createElement("div",{ref:t.MONTH_REFS[_],key:k,onClick:function(S){t.onMonthClick(S,_)},onKeyDown:function(S){_N(S)&&(S.preventDefault(),S.key=Pe.Enter),t.onMonthKeyDown(S,_)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(_)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(_)}:void 0,tabIndex:Number(t.getTabIndex(_)),className:t.getMonthClassNames(_),"aria-disabled":t.isMonthDisabled(_),role:"option","aria-label":t.getAriaLabel(_),"aria-current":t.isCurrentMonth(g,_)?"date":void 0,"aria-selected":v?t.isSelectedMonth(g,_,v):void 0},t.getMonthContent(_))}))})},t.renderQuarters=function(){var r=t.props,s=r.day,a=r.selected,d=[1,2,3,4];return de.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(g,v){return de.createElement("div",{key:v,ref:t.QUARTER_REFS[v],role:"option",onClick:function(x){t.onQuarterClick(x,g)},onKeyDown:function(x){t.onQuarterKeyDown(x,g)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(g)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(g)}:void 0,className:t.getQuarterClassNames(g),"aria-selected":a?t.isSelectedQuarter(s,g,a):void 0,tabIndex:Number(t.getQuarterTabIndex(g)),"aria-current":t.isCurrentQuarter(s,g)?"date":void 0},t.getQuarterContent(g))}))},t.getClassNames=function(){var r=t.props,s=r.selectingDate,a=r.selectsStart,d=r.selectsEnd,g=r.showMonthYearPicker,v=r.showQuarterYearPicker,x=r.showWeekPicker;return yn("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(a||d)},{"react-datepicker__monthPicker":g},{"react-datepicker__quarterPicker":v},{"react-datepicker__weekPicker":x})},t}return n.prototype.getSelection=function(){var t=this.props,r=t.selected,s=t.selectedDates,a=t.selectsMultiple;if(a)return s;if(r)return[r]},n.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,s=t.showQuarterYearPicker,a=t.day,d=t.ariaLabelPrefix,g=d===void 0?"Month ":d,v=g?g.trim()+" ":"";return de.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(v).concat(bn(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},n}(L.Component),YP=function(e){dr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,s){return de.createElement("div",{className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?de.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return n.prototype.render=function(){return de.createElement(ip,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(L.Component),GP=function(e){dr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(s,a){return de.createElement("option",{key:s,value:a},s)})},t.renderSelectMode=function(r){return de.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,s){return de.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},de.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),de.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(r){return de.createElement(YP,Rt({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var s=t.state.dropdownVisible,a=[t.renderReadView(!s,r)];return s&&a.unshift(t.renderDropdown(r)),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return bN(a,t.props.locale)}:function(a){return o2(a,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(r);break;case"select":s=this.renderSelectMode(r);break}return de.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},n}(L.Component);function $P(e,n){for(var t=[],r=ua(e),s=ua(n);!lo(r,s);)t.push(qt(r)),r=us(r,1);return t}var XP=function(e){dr(n,e);function n(t){var r=e.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(s){var a=vg(s),d=Ns(r.props.date,s)&&Fr(r.props.date,s);return de.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":d?"true":void 0},d?de.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",bn(s,r.props.dateFormat,r.props.locale))})},r.onChange=function(s){return r.props.onChange(s)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:$P(r.props.minDate,r.props.maxDate)},r}return n.prototype.render=function(){var t=yn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return de.createElement(ip,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(L.Component),QP=function(e){dr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=ua(t.props.minDate),s=ua(t.props.maxDate),a=[];!lo(r,s);){var d=vg(r);a.push(de.createElement("option",{key:d,value:d},bn(r,t.props.dateFormat,t.props.locale))),r=us(r,1)}return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return de.createElement("select",{value:vg(ua(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var s=bn(t.props.date,t.props.dateFormat,t.props.locale);return de.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},de.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),de.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return de.createElement(XP,Rt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,s=[t.renderReadView(!r)];return r&&s.unshift(t.renderDropdown()),s},t.onChange=function(r){t.toggleDropdown();var s=qt(r);Ns(t.props.date,s)&&Fr(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return de.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(L.Component),KP=function(e){dr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,s,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(r){var s,a;(t.props.minTime||t.props.maxTime)&&kb(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Ab(r,t.props)||(a=(s=t.props).onChange)===null||a===void 0||a.call(s,r)},t.isSelectedTime=function(r){return t.props.selected&&BP(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&kb(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Ab(r,t.props)},t.liClasses=function(r){var s,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(la(r)*3600+ca(r)*60+io(r))%(((s=t.props.intervals)!==null&&s!==void 0?s:n.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(r,s){var a,d;r.key===Pe.Space&&(r.preventDefault(),r.key=Pe.Enter),(r.key===Pe.ArrowUp||r.key===Pe.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Pe.ArrowDown||r.key===Pe.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Pe.Enter&&t.handleClick(s),(d=(a=t.props).handleOnKeyDown)===null||d===void 0||d.call(a,r)},t.renderTimes=function(){for(var r,s=[],a=typeof t.props.format=="string"?t.props.format:"p",d=(r=t.props.intervals)!==null&&r!==void 0?r:n.defaultProps.intervals,g=t.props.selected||t.props.openToDate||qt(),v=y0(g),x=t.props.injectTimes&&t.props.injectTimes.sort(function(O,I){return O.getTime()-I.getTime()}),y=60*FP(g),E=y/d,_=0;_<E;_++){var k=pg(v,_*d);if(s.push(k),x){var S=PP(v,k,_,d,x);s=s.concat(S)}}var R=s.reduce(function(O,I){return I.getTime()<=g.getTime()?I:O},s[0]);return s.map(function(O){return de.createElement("li",{key:O.valueOf(),onClick:t.handleClick.bind(t,O),className:t.liClasses(O),ref:function(I){O===R&&(t.centerLi=I)},onKeyDown:function(I){t.handleOnKeyDown(I,O)},tabIndex:O===R?0:-1,role:"option","aria-selected":t.isSelectedTime(O)?"true":void 0,"aria-disabled":t.isDisabledTime(O)?"true":void 0},bn(O,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?de.createElement(de.Fragment,null):de.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},de.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},n.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},n.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},n.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var t=this,r,s=this.state.height;return de.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),de.createElement("div",{className:"react-datepicker__time"},de.createElement("div",{className:"react-datepicker__time-box"},de.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},n}(L.Component),Bb=3,ZP=function(e){dr(n,e);function n(t){var r=e.call(this,t)||this;return r.YEAR_REFS=Ts([],Array(r.props.yearItemNumber),!0).map(function(){return L.createRef()}),r.isDisabled=function(s){return Wi(s,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(s){return l2(s,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var s;return(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection},r.updateFocusOnPaginate=function(s){var a=function(){var d,g;(g=(d=r.YEAR_REFS[s])===null||d===void 0?void 0:d.current)===null||g===void 0||g.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(s,a){r.props.onDayClick&&r.props.onDayClick(s,a)},r.handleYearNavigation=function(s,a){var d,g,v,x,y=r.props,E=y.date,_=y.yearItemNumber;if(!(E===void 0||_===void 0)){var k=$a(E,_).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((g=(d=r.props).setPreSelection)===null||g===void 0||g.call(d,a),s-k<0?r.updateFocusOnPaginate(_-(k-s)):s-k>=_?r.updateFocusOnPaginate(Math.abs(_-(s-k))):(x=(v=r.YEAR_REFS[s-k])===null||v===void 0?void 0:v.current)===null||x===void 0||x.focus())}},r.isSameDay=function(s,a){return jt(s,a)},r.isCurrentYear=function(s){return s===xt(qt())},r.isRangeStart=function(s){return r.props.startDate&&r.props.endDate&&Ns(Es(qt(),s),r.props.startDate)},r.isRangeEnd=function(s){return r.props.startDate&&r.props.endDate&&Ns(Es(qt(),s),r.props.endDate)},r.isInRange=function(s){return $f(s,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(s){var a=r.props,d=a.selectsStart,g=a.selectsEnd,v=a.selectsRange,x=a.startDate,y=a.endDate;return!(d||g||v)||!r.selectingDate()?!1:d&&y?$f(s,r.selectingDate(),y):g&&x||v&&x&&!y?$f(s,x,r.selectingDate()):!1},r.isSelectingRangeStart=function(s){var a;if(!r.isInSelectingRange(s))return!1;var d=r.props,g=d.startDate,v=d.selectsStart,x=Es(qt(),s);return v?Ns(x,(a=r.selectingDate())!==null&&a!==void 0?a:null):Ns(x,g??null)},r.isSelectingRangeEnd=function(s){var a;if(!r.isInSelectingRange(s))return!1;var d=r.props,g=d.endDate,v=d.selectsEnd,x=d.selectsRange,y=Es(qt(),s);return v||x?Ns(y,(a=r.selectingDate())!==null&&a!==void 0?a:null):Ns(y,g??null)},r.isKeyboardSelected=function(s){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,d=a.minDate,g=a.maxDate,v=a.excludeDates,x=a.includeDates,y=a.filterDate,E=Au(Es(r.props.date,s)),_=(d||g||v||x||y)&&b0(s,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!jt(E,Au(r.props.selected))&&jt(E,Au(r.props.preSelection))&&!_}},r.isSelectedYear=function(s){var a=r.props,d=a.selectsMultiple,g=a.selected,v=a.selectedDates;return d?v==null?void 0:v.some(function(x){return s===xt(x)}):!!g&&s===xt(g)},r.onYearClick=function(s,a){var d=r.props.date;d!==void 0&&r.handleYearClick(Au(Es(d,a)),s)},r.onYearKeyDown=function(s,a){var d,g,v=s.key,x=r.props,y=x.date,E=x.yearItemNumber,_=x.handleOnKeyDown;if(v!==Pe.Tab&&s.preventDefault(),!r.props.disabledKeyboardNavigation)switch(v){case Pe.Enter:if(r.props.selected==null)break;r.onYearClick(s,a),(g=(d=r.props).setPreSelection)===null||g===void 0||g.call(d,r.props.selected);break;case Pe.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,aa(r.props.preSelection,1));break;case Pe.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,xc(r.props.preSelection,1));break;case Pe.ArrowUp:{if(y===void 0||E===void 0||r.props.preSelection==null)break;var k=$a(y,E).startPeriod,S=Bb,R=a-S;if(R<k){var O=E%S;a>=k&&a<k+O?S=O:S+=O,R=a-S}r.handleYearNavigation(R,xc(r.props.preSelection,S));break}case Pe.ArrowDown:{if(y===void 0||E===void 0||r.props.preSelection==null)break;var I=$a(y,E).endPeriod,S=Bb,R=a+S;if(R>I){var O=E%S;a<=I&&a>I-O?S=O:S+=O,R=a+S}r.handleYearNavigation(R,aa(r.props.preSelection,S));break}}_&&_(s)},r.getYearClassNames=function(s){var a=r.props,d=a.date,g=a.minDate,v=a.maxDate,x=a.excludeDates,y=a.includeDates,E=a.filterDate,_=a.yearClassName;return yn("react-datepicker__year-text","react-datepicker__year-".concat(s),d?_==null?void 0:_(Es(d,s)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(s),"react-datepicker__year-text--disabled":(g||v||x||y||E)&&b0(s,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(s),"react-datepicker__year-text--range-start":r.isRangeStart(s),"react-datepicker__year-text--range-end":r.isRangeEnd(s),"react-datepicker__year-text--in-range":r.isInRange(s),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(s),"react-datepicker__year-text--today":r.isCurrentYear(s)})},r.getYearTabIndex=function(s){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=xt(r.props.preSelection),d=b0(s,r.props);return s===a&&!d?"0":"-1"},r.getYearContent=function(s){return r.props.renderYearContent?r.props.renderYearContent(s):s},r}return n.prototype.render=function(){var t=this,r=[],s=this.props,a=s.date,d=s.yearItemNumber,g=s.onYearMouseEnter,v=s.onYearMouseLeave;if(a===void 0)return null;for(var x=$a(a,d),y=x.startPeriod,E=x.endPeriod,_=function(R){r.push(de.createElement("div",{ref:k.YEAR_REFS[R-y],onClick:function(O){t.onYearClick(O,R)},onKeyDown:function(O){_N(O)&&(O.preventDefault(),O.key=Pe.Enter),t.onYearKeyDown(O,R)},tabIndex:Number(k.getYearTabIndex(R)),className:k.getYearClassNames(R),onMouseEnter:k.props.usePointerEvent?void 0:function(O){return g(O,R)},onPointerEnter:k.props.usePointerEvent?function(O){return g(O,R)}:void 0,onMouseLeave:k.props.usePointerEvent?void 0:function(O){return v(O,R)},onPointerLeave:k.props.usePointerEvent?function(O){return v(O,R)}:void 0,key:R,"aria-current":k.isCurrentYear(R)?"date":void 0},k.getYearContent(R)))},k=this,S=y;S<=E;S++)_(S);return de.createElement("div",{className:"react-datepicker__year"},de.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},n}(L.Component);function JP(e,n,t,r){for(var s=[],a=0;a<2*n+1;a++){var d=e+n-a,g=!0;t&&(g=xt(t)<=d),r&&g&&(g=xt(r)>=d),g&&s.push(d)}return s}var eF=function(e){dr(n,e);function n(t){var r=e.call(this,t)||this;r.renderOptions=function(){var g=r.props.year,v=r.state.yearsList.map(function(E){return de.createElement("div",{className:g===E?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:E,onClick:r.onChange.bind(r,E),"aria-selected":g===E?"true":void 0},g===E?de.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",E)}),x=r.props.minDate?xt(r.props.minDate):null,y=r.props.maxDate?xt(r.props.maxDate):null;return(!y||!r.state.yearsList.find(function(E){return E===y}))&&v.unshift(de.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},de.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!x||!r.state.yearsList.find(function(E){return E===x}))&&v.push(de.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},de.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),v},r.onChange=function(g){r.props.onChange(g)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(g){var v=r.state.yearsList.map(function(x){return x+g});r.setState({yearsList:v})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var s=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,d=s||(a?10:5);return r.state={yearsList:JP(r.props.year,d,r.props.minDate,r.props.maxDate)},r.dropdownRef=L.createRef(),r}return n.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,s=r?r.find(function(a){return a.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},n.prototype.render=function(){var t=yn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return de.createElement(ip,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(L.Component),tF=function(e){dr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?xt(t.props.minDate):1900,s=t.props.maxDate?xt(t.props.maxDate):2100,a=[],d=r;d<=s;d++)a.push(de.createElement("option",{key:d,value:d},d));return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return de.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return de.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return t.toggleDropdown(s)}},de.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),de.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return de.createElement(eF,Rt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,s=[t.renderReadView(!r)];return r&&s.unshift(t.renderDropdown()),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,s){var a;(a=t.onSelect)===null||a===void 0||a.call(t,r,s),t.setOpen()},t.onSelect=function(r,s){var a,d;(d=(a=t.props).onSelect)===null||d===void 0||d.call(a,r,s)},t.setOpen=function(){var r,s;(s=(r=t.props).setOpen)===null||s===void 0||s.call(r,!0)},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return de.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(L.Component),nF=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],rF=function(e){var n=(e.className||"").split(/\s+/);return nF.some(function(t){return n.indexOf(t)>=0})},iF=function(e){dr(n,e);function n(t){var r=e.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(s){r.props.onClickOutside(s)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(s){var a,d;rF(s.target)&&((d=(a=r.props).onDropdownFocus)===null||d===void 0||d.call(a,s))},r.getDateInView=function(){var s=r.props,a=s.preSelection,d=s.selected,g=s.openToDate,v=EN(r.props),x=NN(r.props),y=qt(),E=g||d||a;return E||(v&&ul(y,v)?v:x&&lo(y,x)?x:y)},r.increaseMonth=function(){r.setState(function(s){var a=s.date;return{date:us(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(s){var a=s.date;return{date:el(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(s,a,d){r.props.onSelect(s,a,d),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleDayMouseEnter=function(s){r.setState({selectingDate:s}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(s,a){r.setState({selectingDate:Es(qt(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(s,a)},r.handleYearMouseLeave=function(s,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(s,a)},r.handleYearChange=function(s){var a,d,g,v;(d=(a=r.props).onYearChange)===null||d===void 0||d.call(a,s),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(s),(v=(g=r.props).setOpen)===null||v===void 0||v.call(g,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.getEnabledPreSelectionDateForMonth=function(s){if(!Wi(s,r.props))return s;for(var a=ua(s),d=_P(s),g=dO(d,a),v=null,x=0;x<=g;x++){var y=ls(a,x);if(!Wi(y,r.props)){v=y;break}}return v},r.handleMonthChange=function(s){var a,d,g,v=(a=r.getEnabledPreSelectionDateForMonth(s))!==null&&a!==void 0?a:s;r.handleCustomMonthChange(v),r.props.adjustDateOnChange&&(r.props.onSelect(v),(g=(d=r.props).setOpen)===null||g===void 0||g.call(d,!0)),r.props.setPreSelection&&r.props.setPreSelection(v)},r.handleCustomMonthChange=function(s){var a,d;(d=(a=r.props).onMonthChange)===null||d===void 0||d.call(a,s),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(s){r.handleYearChange(s),r.handleMonthChange(s)},r.changeYear=function(s){r.setState(function(a){var d=a.date;return{date:Es(d,Number(s))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(s){r.setState(function(a){var d=a.date;return{date:Bi(d,Number(s))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(s){r.setState(function(a){var d=a.date;return{date:Es(Bi(d,Dr(s)),xt(s))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(s){s===void 0&&(s=r.state.date);var a=so(s,r.props.locale,r.props.calendarStartDay),d=[];return r.props.showWeekNumbers&&d.push(de.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(g){var v=ls(a,g),x=r.formatWeekday(v,r.props.locale),y=r.props.weekDayClassName?r.props.weekDayClassName(v):void 0;return de.createElement("div",{key:g,"aria-label":bn(v,"EEEE",r.props.locale),className:yn("react-datepicker__day-name",y)},x)}))},r.formatWeekday=function(s,a){return r.props.formatWeekDay?SP(s,r.props.formatWeekDay,a):r.props.useWeekdaysShort?kP(s,a):AP(s,a)},r.decreaseYear=function(){r.setState(function(s){var a,d=s.date;return{date:xc(d,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var s,a,d;if(!r.props.renderCustomHeader){var g=(s=r.props.monthsShown)!==null&&s!==void 0?s:n.defaultProps.monthsShown,v=r.props.showPreviousMonths?g-1:0,x=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:v,y=el(r.state.date,x),E;switch(!0){case r.props.showMonthYearPicker:E=Ib(r.state.date,r.props);break;case r.props.showYearPicker:E=RP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:E=IP(r.state.date,r.props);break;default:E=Tb(y,r.props);break}if(!(!((d=r.props.forceShowMonthNavigation)!==null&&d!==void 0?d:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&E||r.props.showTimeSelectOnly)){var _=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],k=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(S=r.decreaseYear),E&&r.props.showDisabledMonthNavigation&&(k.push("react-datepicker__navigation--previous--disabled"),S=void 0);var R=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,O=r.props,I=O.previousMonthButtonLabel,D=I===void 0?n.defaultProps.previousMonthButtonLabel:I,j=O.previousYearButtonLabel,q=j===void 0?n.defaultProps.previousYearButtonLabel:j,Q=r.props,B=Q.previousMonthAriaLabel,F=B===void 0?typeof D=="string"?D:"Previous Month":B,V=Q.previousYearAriaLabel,W=V===void 0?typeof q=="string"?q:"Previous Year":V;return de.createElement("button",{type:"button",className:k.join(" "),onClick:S,onKeyDown:r.props.handleOnKeyDown,"aria-label":R?W:F},de.createElement("span",{className:_.join(" ")},R?q:D))}}},r.increaseYear=function(){r.setState(function(s){var a,d=s.date;return{date:aa(d,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var s;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=jb(r.state.date,r.props);break;case r.props.showYearPicker:a=OP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=jP(r.state.date,r.props);break;default:a=Db(r.state.date,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var v=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(v=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),v=void 0);var x=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,y=r.props,E=y.nextMonthButtonLabel,_=E===void 0?n.defaultProps.nextMonthButtonLabel:E,k=y.nextYearButtonLabel,S=k===void 0?n.defaultProps.nextYearButtonLabel:k,R=r.props,O=R.nextMonthAriaLabel,I=O===void 0?typeof _=="string"?_:"Next Month":O,D=R.nextYearAriaLabel,j=D===void 0?typeof S=="string"?S:"Next Year":D;return de.createElement("button",{type:"button",className:d.join(" "),onClick:v,onKeyDown:r.props.handleOnKeyDown,"aria-label":x?j:I},de.createElement("span",{className:g.join(" ")},x?S:_))}}},r.renderCurrentMonth=function(s){s===void 0&&(s=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),de.createElement("h2",{className:a.join(" ")},bn(s,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showYearDropdown||s))return de.createElement(tF,Rt({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:xt(r.state.date)}))},r.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthDropdown||s))return de.createElement(GP,Rt({},n.defaultProps,r.props,{month:Dr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthYearDropdown||s))return de.createElement(QP,Rt({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(s){r.props.onSelect(Nb(),s),r.props.setPreSelection&&r.props.setPreSelection(Nb())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return de.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(s){var a=s.monthDate,d=s.i;return de.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),de.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(d!==0),r.renderMonthYearDropdown(d!==0),r.renderYearDropdown(d!==0)),de.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(s){var a,d,g=s.monthDate,v=s.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var x=Tb(r.state.date,r.props),y=Db(r.state.date,r.props),E=Ib(r.state.date,r.props),_=jb(r.state.date,r.props),k=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return de.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(d=(a=r.props).renderCustomHeader)===null||d===void 0?void 0:d.call(a,Rt(Rt({},r.state),{customHeaderCount:v,monthDate:g,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:x,nextMonthButtonDisabled:y,prevYearButtonDisabled:E,nextYearButtonDisabled:_})),k&&de.createElement("div",{className:"react-datepicker__day-names"},r.header(g)))},r.renderYearHeader=function(s){var a=s.monthDate,d=r.props,g=d.showYearPicker,v=d.yearItemNumber,x=v===void 0?n.defaultProps.yearItemNumber:v,y=$a(a,x),E=y.startPeriod,_=y.endPeriod;return de.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},g?"".concat(E," - ").concat(_):xt(a))},r.renderHeader=function(s){var a=s.monthDate,d=s.i,g=d===void 0?0:d,v={monthDate:a,i:g};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(v);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(v);default:return r.renderDefaultHeader(v)}},r.renderMonths=function(){var s,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var d=[],g=(s=r.props.monthsShown)!==null&&s!==void 0?s:n.defaultProps.monthsShown,v=r.props.showPreviousMonths?g-1:0,x=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?aa(r.state.date,v):el(r.state.date,v),y=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:v,E=0;E<g;++E){var _=E-y+v,k=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?aa(x,_):us(x,_),S="month-".concat(E),R=E<g-1,O=E>0;d.push(de.createElement("div",{key:S,ref:function(I){r.monthContainer=I??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:k,i:E}),de.createElement(VP,Rt({},n.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:k,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:E,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:R,monthShowsDuplicateDaysStart:O}))))}return d}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return de.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),de.createElement(ZP,Rt({},n.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return de.createElement(KP,Rt({},n.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var s=r.props.selected?new Date(r.props.selected):void 0,a=s&&sp(s)&&!!r.props.selected,d=a?"".concat(Ob(s.getHours()),":").concat(Ob(s.getMinutes())):"";if(r.props.showTimeInput)return de.createElement(UP,Rt({},n.defaultProps,r.props,{date:s,timeString:d,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var s,a=$a(r.state.date,(s=r.props.yearItemNumber)!==null&&s!==void 0?s:n.defaultProps.yearItemNumber),d=a.startPeriod,g=a.endPeriod,v;return r.props.showYearPicker?v="".concat(d," - ").concat(g):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?v=xt(r.state.date):v="".concat(o2(Dr(r.state.date),r.props.locale)," ").concat(xt(r.state.date)),de.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&v)},r.renderChildren=function(){if(r.props.children)return de.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=L.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Nd}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},n.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!jt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!Fr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!jt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var t=this.props.container||vP;return de.createElement(ip,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},de.createElement("div",{style:{display:"contents"},ref:this.containerRef},de.createElement(t,{className:yn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},n}(L.Component),sF=function(e){var n=e.icon,t=e.className,r=t===void 0?"":t,s=e.onClick,a="react-datepicker__calendar-icon";if(typeof n=="string")return de.createElement("i",{className:"".concat(a," ").concat(n," ").concat(r),"aria-hidden":"true",onClick:s});if(de.isValidElement(n)){var d=n;return de.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(a," ").concat(r),onClick:function(g){typeof d.props.onClick=="function"&&d.props.onClick(g),typeof s=="function"&&s(g)}})}return de.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},de.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},SN=function(e){dr(n,e);function n(t){var r=e.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return kD.createPortal(this.props.children,this.el)},n}(L.Component),aF="[tabindex], a, button, input, select, textarea",oF=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},AN=function(e){dr(n,e);function n(t){var r=e.call(this,t)||this;return r.getTabChildren=function(){var s;return Array.prototype.slice.call((s=r.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(aF),1,-1).filter(oF)},r.handleFocusStart=function(){var s=r.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},r.handleFocusEnd=function(){var s=r.getTabChildren();s&&s.length>1&&s[0].focus()},r.tabLoopRef=L.createRef(),r}return n.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:n.defaultProps.enableTabLoop)?de.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},de.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,de.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(L.Component);function lF(e){var n=function(t){var r,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=L.useRef(null),d=xP(Rt({open:!s,whileElementsMounted:KL,placement:t.popperPlacement,middleware:Ts([iP({padding:15}),rP(10),sP({element:a})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),g=Rt(Rt({},t),{hidePopper:s,popperProps:Rt(Rt({},d),{arrowRef:a})});return de.createElement(e,Rt({},g))};return n}var cF=function(e){dr(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(n,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t=this.props,r=t.className,s=t.wrapperClassName,a=t.hidePopper,d=a===void 0?n.defaultProps.hidePopper:a,g=t.popperComponent,v=t.targetComponent,x=t.enableTabLoop,y=t.popperOnKeyDown,E=t.portalId,_=t.portalHost,k=t.popperProps,S=t.showArrow,R=void 0;if(!d){var O=yn("react-datepicker-popper",r);R=de.createElement(AN,{enableTabLoop:x},de.createElement("div",{ref:k.refs.setFloating,style:k.floatingStyles,className:O,"data-placement":k.placement,onKeyDown:y},g,S&&de.createElement(uP,{ref:k.arrowRef,context:k.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(R=L.createElement(this.props.popperContainer,{},R)),E&&!d&&(R=de.createElement(SN,{portalId:E,portalHost:_},R));var I=yn("react-datepicker-wrapper",s);return de.createElement(de.Fragment,null,de.createElement("div",{ref:k.refs.setReference,className:I},v),R)},n}(L.Component),uF=lF(cF),Ub="react-datepicker-ignore-onclickoutside";function dF(e,n){return e&&n?Dr(e)!==Dr(n)||xt(e)!==xt(n):e!==n}var Q1="Date input not valid.",fF=function(e){dr(n,e);function n(t){var r=e.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:qt()},r.modifyHolidays=function(){var s;return(s=r.props.holidays)===null||s===void 0?void 0:s.reduce(function(a,d){var g=new Date(d.date);return sp(g)?Ts(Ts([],a,!0),[Rt(Rt({},d),{date:g})],!1):a},[])},r.calcInitialState=function(){var s,a=r.getPreSelection(),d=EN(r.props),g=NN(r.props),v=d&&ul(a,y0(d))?d:g&&lo(a,_b(g))?g:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&s!==void 0?s:v,highlightDates:Rb(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Rt(Rt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Rt(Rt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var s,a;(a=(s=r.input)===null||s===void 0?void 0:s.focus)===null||a===void 0||a.call(s,{preventScroll:!0})},r.setBlur=function(){var s,a;(a=(s=r.input)===null||s===void 0?void 0:s.blur)===null||a===void 0||a.call(s),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(s,a){a===void 0&&(a=!1),r.setState({open:s,preSelection:s&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:K1},function(){s||r.setState(function(d){return{focused:a?d.focused:!1}},function(){!a&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return oa(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(s){var a,d,g=r.state.wasHidden,v=g?r.state.open:!0;g&&r.resetHiddenStatus(),r.state.preventFocus||((d=(a=r.props).onFocus)===null||d===void 0||d.call(a,s),v&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(s){var a,d;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((d=(a=r.props).onBlur)===null||d===void 0||d.call(a,s)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(s){var a,d;r.props.inline||r.setOpen(!1),(d=(a=r.props).onClickOutside)===null||d===void 0||d.call(a,s),r.props.withPortal&&s.preventDefault()},r.handleChange=function(){for(var s,a,d,g,v,x=[],y=0;y<arguments.length;y++)x[y]=arguments[y];var E=x[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,x),!E||typeof E.isDefaultPrevented!="function"||E.isDefaultPrevented()))){r.setState({inputValue:(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:null,lastPreSelectChange:hF});var _=r.props,k=_.selectsRange,S=_.startDate,R=_.endDate,O=(s=r.props.dateFormat)!==null&&s!==void 0?s:n.defaultProps.dateFormat,I=(a=r.props.strictParsing)!==null&&a!==void 0?a:n.defaultProps.strictParsing,D=(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:"";if(k){var j=D.split(O.includes("-")?yN:"-",2).map(function(le){return le.trim()}),q=j[0],Q=j[1],B=G1(q??"",O,r.props.locale,I),F=G1(Q??"",O,r.props.locale,I),V=(S==null?void 0:S.getTime())!==(B==null?void 0:B.getTime()),W=(R==null?void 0:R.getTime())!==(F==null?void 0:F.getTime());if(!V&&!W||B&&Wi(B,r.props)||F&&Wi(F,r.props))return;(g=(d=r.props).onChange)===null||g===void 0||g.call(d,[B,F],E)}else{var se=G1(D,O,r.props.locale,I,(v=r.props.selected)!==null&&v!==void 0?v:void 0);(se||!D)&&r.setSelected(se,E,!0)}}},r.handleSelect=function(s,a,d){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(s,a,!1,d),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(s);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var g=r.props,v=g.startDate,x=g.endDate;v&&!x&&(r.props.swapRange||!Pb(s,v))&&r.setOpen(!1)}}},r.setSelected=function(s,a,d,g){var v,x,y=s;if(r.props.showYearPicker){if(y!==null&&b0(xt(y),r.props))return}else if(r.props.showMonthYearPicker){if(y!==null&&CN(y,r.props))return}else if(y!==null&&Wi(y,r.props))return;var E=r.props,_=E.onChange,k=E.selectsRange,S=E.startDate,R=E.endDate,O=E.selectsMultiple,I=E.selectedDates,D=E.minTime,j=E.swapRange;if(!Qo(r.props.selected,y)||r.props.allowSameDay||k||O)if(y!==null&&(r.props.selected&&(!d||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(y=$1(y,{hour:la(r.props.selected),minute:ca(r.props.selected),second:io(r.props.selected)})),!d&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&D&&(y=$1(y,{hour:D.getHours(),minute:D.getMinutes(),second:D.getSeconds()})),r.props.inline||r.setState({preSelection:y}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:g})),k){var q=!S&&!R,Q=S&&!R,B=S&&R;q?_==null||_([y,null],a):Q&&(y===null?_==null||_([null,null],a):Pb(y,S)?j?_==null||_([y,S],a):_==null||_([y,null],a):_==null||_([S,y],a)),B&&(_==null||_([y,null],a))}else if(O){if(y!==null)if(!(I!=null&&I.length))_==null||_([y],a);else{var F=I.some(function(W){return jt(W,y)});if(F){var V=I.filter(function(W){return!jt(W,y)});_==null||_(V,a)}else _==null||_(Ts(Ts([],I,!0),[y],!1),a)}}else _==null||_(y,a);d||((x=(v=r.props).onSelect)===null||x===void 0||x.call(v,y,a),r.setState({inputValue:null}))},r.setPreSelection=function(s){if(!r.props.readOnly){var a=oa(r.props.minDate),d=oa(r.props.maxDate),g=!0;if(s){var v=y0(s);if(a&&d)g=ku(s,r.props.minDate,r.props.maxDate);else if(a){var x=y0(r.props.minDate);g=lo(s,x)||Qo(v,x)}else if(d){var y=_b(r.props.maxDate);g=ul(s,y)||Qo(v,y)}}g&&r.setState({preSelection:s})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(s){var a,d;if(!(r.props.selectsRange||r.props.selectsMultiple)){var g=r.props.selected?r.props.selected:r.getPreSelection(),v=r.props.selected?s:$1(g,{hour:la(s),minute:ca(s)});r.setState({preSelection:v}),(d=(a=r.props).onChange)===null||d===void 0||d.call(a,v),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var s,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(s=r.props).onInputClick)===null||a===void 0||a.call(s)},r.onInputKeyDown=function(s){var a,d,g,v,x,y;(d=(a=r.props).onKeyDown)===null||d===void 0||d.call(a,s);var E=s.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(E===Pe.ArrowDown||E===Pe.ArrowUp||E===Pe.Enter)&&((g=r.onInputClick)===null||g===void 0||g.call(r));return}if(r.state.open){if(E===Pe.ArrowDown||E===Pe.ArrowUp){s.preventDefault();var _=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',k=((v=r.calendar)===null||v===void 0?void 0:v.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(_);k instanceof HTMLElement&&k.focus({preventScroll:!0});return}var S=qt(r.state.preSelection);E===Pe.Enter?(s.preventDefault(),s.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===K1?(r.handleSelect(S,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(S)):r.setOpen(!1)):E===Pe.Escape?(s.preventDefault(),s.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):E===Pe.Tab&&r.setOpen(!1),r.inputOk()||(y=(x=r.props).onInputError)===null||y===void 0||y.call(x,{code:1,msg:Q1})}},r.onPortalKeyDown=function(s){var a=s.key;a===Pe.Escape&&(s.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(s){var a,d,g,v,x,y,E=r.props,_=E.minDate,k=E.maxDate,S=E.disabledKeyboardNavigation,R=E.showWeekPicker,O=E.shouldCloseOnSelect,I=E.locale,D=E.calendarStartDay,j=E.adjustDateOnChange,q=E.inline;if((d=(a=r.props).onKeyDown)===null||d===void 0||d.call(a,s),!S){var Q=s.key,B=s.shiftKey,F=qt(r.state.preSelection),V=function(re,Se){var ye=Se;switch(re){case Pe.ArrowRight:ye=R?nh(Se,1):ls(Se,1);break;case Pe.ArrowLeft:ye=R?ib(Se,1):m9(Se,1);break;case Pe.ArrowUp:ye=ib(Se,1);break;case Pe.ArrowDown:ye=nh(Se,1);break;case Pe.PageUp:ye=B?xc(Se,1):el(Se,1);break;case Pe.PageDown:ye=B?aa(Se,1):us(Se,1);break;case Pe.Home:ye=so(Se,I,D);break;case Pe.End:ye=NP(Se);break}return ye},W=function(re,Se){for(var ye=40,ue=re,_e=!1,Re=0,Oe=V(re,Se);!_e;){if(Re>=ye){Oe=Se;break}_&&Oe<_&&(ue=Pe.ArrowRight,Oe=Wi(_,r.props)?V(ue,Oe):_),k&&Oe>k&&(ue=Pe.ArrowLeft,Oe=Wi(k,r.props)?V(ue,Oe):k),Wi(Oe,r.props)?((ue===Pe.PageUp||ue===Pe.Home)&&(ue=Pe.ArrowRight),(ue===Pe.PageDown||ue===Pe.End)&&(ue=Pe.ArrowLeft),Oe=V(ue,Oe)):_e=!0,Re++}return Oe};if(Q===Pe.Enter){s.preventDefault(),r.handleSelect(F,s),!O&&r.setPreSelection(F);return}else if(Q===Pe.Escape){s.preventDefault(),r.setOpen(!1),r.inputOk()||(v=(g=r.props).onInputError)===null||v===void 0||v.call(g,{code:1,msg:Q1});return}var se=null;switch(Q){case Pe.ArrowLeft:case Pe.ArrowRight:case Pe.ArrowUp:case Pe.ArrowDown:case Pe.PageUp:case Pe.PageDown:case Pe.Home:case Pe.End:se=W(Q,F);break}if(!se){(y=(x=r.props).onInputError)===null||y===void 0||y.call(x,{code:1,msg:Q1});return}if(s.preventDefault(),r.setState({lastPreSelectChange:K1}),j&&r.setSelected(se),r.setPreSelection(se),q){var le=Dr(F),ie=Dr(se),ce=xt(F),xe=xt(se);le!==ie||ce!==xe?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(s){var a=s.key;a===Pe.Escape&&(s.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),r.sendFocusBackToInput();var a=r.props,d=a.selectsRange,g=a.onChange;d?g==null||g([null,null],s):g==null||g(null,s),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(s){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(s)&&r.setOpen(!1)},r.renderCalendar=function(){var s,a;return!r.props.inline&&!r.isCalendarOpen()?null:de.createElement(iF,Rt({showMonthYearDropdown:void 0,ref:function(d){r.calendar=d}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(s=r.props.dateFormatCalendar)!==null&&s!==void 0?s:n.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:LP(r.modifyHolidays()),outsideClickIgnoreClass:Ub,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:n.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var s=r.props,a=s.dateFormat,d=a===void 0?n.defaultProps.dateFormat:a,g=s.locale,v=r.props.showTimeInput||r.props.showTimeSelect,x=v?"PPPPp":"PPPP",y;return r.props.selectsRange?y="Selected start date: ".concat(Fi(r.props.startDate,{dateFormat:x,locale:g}),". ").concat(r.props.endDate?"End date: "+Fi(r.props.endDate,{dateFormat:x,locale:g}):""):r.props.showTimeSelectOnly?y="Selected time: ".concat(Fi(r.props.selected,{dateFormat:d,locale:g})):r.props.showYearPicker?y="Selected year: ".concat(Fi(r.props.selected,{dateFormat:"yyyy",locale:g})):r.props.showMonthYearPicker?y="Selected month: ".concat(Fi(r.props.selected,{dateFormat:"MMMM yyyy",locale:g})):r.props.showQuarterYearPicker?y="Selected quarter: ".concat(Fi(r.props.selected,{dateFormat:"yyyy, QQQ",locale:g})):y="Selected date: ".concat(Fi(r.props.selected,{dateFormat:x,locale:g})),de.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},y)},r.renderDateInput=function(){var s,a,d,g=yn(r.props.className,(s={},s[Ub]=r.state.open,s)),v=r.props.customInput||de.createElement("input",{type:"text"}),x=r.props.customInputRef||"ref",y=r.props,E=y.dateFormat,_=E===void 0?n.defaultProps.dateFormat:E,k=y.locale,S=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?yP(r.props.startDate,r.props.endDate,{dateFormat:_,locale:k}):r.props.selectsMultiple?bP((d=r.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:_,locale:k}):Fi(r.props.selected,{dateFormat:_,locale:k});return L.cloneElement(v,(a={},a[x]=function(R){r.input=R},a.value=S,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=yn(v.props.className,g),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var s=r.props,a=s.isClearable,d=s.disabled,g=s.selected,v=s.startDate,x=s.endDate,y=s.clearButtonTitle,E=s.clearButtonClassName,_=E===void 0?"":E,k=s.ariaLabelClose,S=k===void 0?"Close":k,R=s.selectedDates,O=s.readOnly;return a&&!O&&(g!=null||v!=null||x!=null||R!=null&&R.length)?de.createElement("button",{type:"button",className:yn("react-datepicker__close-icon",_,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":S,onClick:r.onClearClick,title:y,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Nd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(t,r){var s,a,d,g;t.inline&&dF(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Rb(this.props.highlightDates)}),!r.focused&&!Qo(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(s=this.props).onCalendarOpen)===null||a===void 0||a.call(s)),r.open===!0&&this.state.open===!1&&((g=(d=this.props).onCalendarClose)===null||g===void 0||g.call(d)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,s=t.icon,a=t.calendarIconClassname,d=t.calendarIconClassName,g=t.toggleCalendarOnIconClick,v=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),de.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&de.createElement(sF,Rt({icon:s,className:yn(d,!d&&a,v&&"react-datepicker-ignore-onclickoutside")},g?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?de.createElement(AN,{enableTabLoop:this.props.enableTabLoop},de.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=de.createElement(SN,Rt({portalId:this.props.portalId},this.props),r)),de.createElement("div",null,this.renderInputContainer(),r)}return de.createElement(uF,Rt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(L.Component),hF="input",K1="navigate";var gh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */gh.exports;(function(e,n){(function(){var t,r="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",g="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",x=500,y="__lodash_placeholder__",E=1,_=2,k=4,S=1,R=2,O=1,I=2,D=4,j=8,q=16,Q=32,B=64,F=128,V=256,W=512,se=30,le="...",ie=800,ce=16,xe=1,re=2,Se=3,ye=1/0,ue=9007199254740991,_e=17976931348623157e292,Re=0/0,Oe=4294967295,Je=Oe-1,cn=Oe>>>1,mt=[["ary",F],["bind",O],["bindKey",I],["curry",j],["curryRight",q],["flip",W],["partial",Q],["partialRight",B],["rearg",V]],Ie="[object Arguments]",Ae="[object Array]",ot="[object AsyncFunction]",Qe="[object Boolean]",kn="[object Date]",sn="[object DOMException]",_t="[object Error]",Ne="[object Function]",Le="[object GeneratorFunction]",ft="[object Map]",an="[object Number]",Ei="[object Null]",Ct="[object Object]",St="[object Promise]",lt="[object Proxy]",je="[object RegExp]",Ce="[object Set]",Fn="[object String]",fr="[object Symbol]",De="[object Undefined]",Ge="[object WeakMap]",Tt="[object WeakSet]",en="[object ArrayBuffer]",Yt="[object DataView]",un="[object Float32Array]",ii="[object Float64Array]",Ni="[object Int8Array]",Ms="[object Int16Array]",Jt="[object Int32Array]",Te="[object Uint8Array]",tn="[object Uint8ClampedArray]",At="[object Uint16Array]",Wt="[object Uint32Array]",$i=/\b__p \+= '';/g,vo=/\b(__p \+=) '' \+/g,kd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dt=/&(?:amp|lt|gt|quot|#39);/g,ps=/[&<>"']/g,Td=RegExp(Dt.source),Dd=RegExp(ps.source),si=/<%-([\s\S]+?)%>/g,Oc=/<%([\s\S]+?)%>/g,Qn=/<%=([\s\S]+?)%>/g,ba=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ml=/^\w*$/,_i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mc=/[\\^$.*+?()[\]{}|]/g,Ls=RegExp(Mc.source),wo=/^\s+/,wr=/\s/,Ps=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yr=/\{\n\/\* \[wrapped with (.+)\] \*/,Fe=/,? & /,Ca=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Lc=/[()=,{}\[\]\/\s]/,yr=/\\(\\)?/g,Ea=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yo=/\w*$/,gl=/^[-+]0x[0-9a-f]+$/i,Si=/^0b[01]+$/i,op=/^\[object .+?Constructor\]$/,lp=/^0o[0-7]+$/i,Ai=/^(?:0|[1-9]\d*)$/,hr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gt=/($^)/,Id=/['\n\r\u2028\u2029\\]/g,ai="\\ud800-\\udfff",Pc="\\u0300-\\u036f",be="\\ufe20-\\ufe2f",cp="\\u20d0-\\u20ff",dn=Pc+be+cp,Fs="\\u2700-\\u27bf",jd="a-z\\xdf-\\xf6\\xf8-\\xff",Pt="\\xac\\xb1\\xd7\\xf7",It="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vt="\\u2000-\\u206f",Fc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xl="A-Z\\xc0-\\xd6\\xd8-\\xde",vl="\\ufe0e\\ufe0f",Tn=Pt+It+vt+Fc,ki="['’]",up="["+ai+"]",mn="["+Tn+"]",oi="["+dn+"]",Rd="\\d+",Na="["+Fs+"]",$t="["+jd+"]",Kn="[^"+ai+Tn+Rd+Fs+jd+xl+"]",oe="\\ud83c[\\udffb-\\udfff]",K="(?:"+oi+"|"+oe+")",Ye="[^"+ai+"]",Dn="(?:\\ud83c[\\udde6-\\uddff]){2}",br="[\\ud800-\\udbff][\\udc00-\\udfff]",_a="["+xl+"]",wl="\\u200d",jr="(?:"+$t+"|"+Kn+")",$e="(?:"+_a+"|"+Kn+")",on="(?:"+ki+"(?:d|ll|m|re|s|t|ve))?",Bc="(?:"+ki+"(?:D|LL|M|RE|S|T|VE))?",Od=K+"?",yl="["+vl+"]?",bl="(?:"+wl+"(?:"+[Ye,Dn,br].join("|")+")"+yl+Od+")*",Uc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bn=yl+Od+bl,bo="(?:"+[Na,Dn,br].join("|")+")"+Bn,ms="(?:"+[Ye+oi+"?",oi,Dn,br,up].join("|")+")",Ke=RegExp(ki,"g"),fp=RegExp(oi,"g"),at=RegExp(oe+"(?="+oe+")|"+ms+Bn,"g"),Zn=RegExp([_a+"?"+$t+"+"+on+"(?="+[mn,_a,"$"].join("|")+")",$e+"+"+Bc+"(?="+[mn,_a+jr,"$"].join("|")+")",_a+"?"+jr+"+"+on,_a+"+"+Bc,dp,Uc,Rd,bo].join("|"),"g"),hp=RegExp("["+wl+ai+dn+vl+"]"),zc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Md=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bs=-1,nn={};nn[un]=nn[ii]=nn[Ni]=nn[Ms]=nn[Jt]=nn[Te]=nn[tn]=nn[At]=nn[Wt]=!0,nn[Ie]=nn[Ae]=nn[en]=nn[Qe]=nn[Yt]=nn[kn]=nn[_t]=nn[Ne]=nn[ft]=nn[an]=nn[Ct]=nn[je]=nn[Ce]=nn[Fn]=nn[Ge]=!1;var Ft={};Ft[Ie]=Ft[Ae]=Ft[en]=Ft[Yt]=Ft[Qe]=Ft[kn]=Ft[un]=Ft[ii]=Ft[Ni]=Ft[Ms]=Ft[Jt]=Ft[ft]=Ft[an]=Ft[Ct]=Ft[je]=Ft[Ce]=Ft[Fn]=Ft[fr]=Ft[Te]=Ft[tn]=Ft[At]=Ft[Wt]=!0,Ft[_t]=Ft[Ne]=Ft[Ge]=!1;var Co={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Eo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ld={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},No={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_o=parseFloat,Cr=parseInt,Wc=typeof _s=="object"&&_s&&_s.Object===Object&&_s,Pd=typeof self=="object"&&self&&self.Object===Object&&self,Yn=Wc||Pd||Function("return this")(),Hc=n&&!n.nodeType&&n,Us=Hc&&!0&&e&&!e.nodeType&&e,Fd=Us&&Us.exports===Hc,Bt=Fd&&Wc.process,Rr=function(){try{var z=Us&&Us.require&&Us.require("util").types;return z||Bt&&Bt.binding&&Bt.binding("util")}catch{}}(),So=Rr&&Rr.isArrayBuffer,Xi=Rr&&Rr.isDate,Bd=Rr&&Rr.isMap,fe=Rr&&Rr.isRegExp,ut=Rr&&Rr.isSet,Gn=Rr&&Rr.isTypedArray;function ir(z,G,X){switch(X.length){case 0:return z.call(G);case 1:return z.call(G,X[0]);case 2:return z.call(G,X[0],X[1]);case 3:return z.call(G,X[0],X[1],X[2])}return z.apply(G,X)}function Ud(z,G,X,ee){for(var he=-1,me=z==null?0:z.length;++he<me;){var ge=z[he];G(ee,ge,X(ge),z)}return ee}function Gr(z,G){for(var X=-1,ee=z==null?0:z.length;++X<ee&&G(z[X],X,z)!==!1;);return z}function pp(z,G){for(var X=z==null?0:z.length;X--&&G(z[X],X,z)!==!1;);return z}function zd(z,G){for(var X=-1,ee=z==null?0:z.length;++X<ee;)if(!G(z[X],X,z))return!1;return!0}function Ti(z,G){for(var X=-1,ee=z==null?0:z.length,he=0,me=[];++X<ee;){var ge=z[X];G(ge,X,z)&&(me[he++]=ge)}return me}function gn(z,G){var X=z==null?0:z.length;return!!X&&pr(z,G,0)>-1}function Ao(z,G,X){for(var ee=-1,he=z==null?0:z.length;++ee<he;)if(X(G,z[ee]))return!0;return!1}function rt(z,G){for(var X=-1,ee=z==null?0:z.length,he=Array(ee);++X<ee;)he[X]=G(z[X],X,z);return he}function li(z,G){for(var X=-1,ee=G.length,he=z.length;++X<ee;)z[he+X]=G[X];return z}function Qi(z,G,X,ee){var he=-1,me=z==null?0:z.length;for(ee&&me&&(X=z[++he]);++he<me;)X=G(X,z[he],he,z);return X}function Xt(z,G,X,ee){var he=z==null?0:z.length;for(ee&&he&&(X=z[--he]);he--;)X=G(X,z[he],he,z);return X}function Xe(z,G){for(var X=-1,ee=z==null?0:z.length;++X<ee;)if(G(z[X],X,z))return!0;return!1}var mp=Nl("length");function rn(z){return z.split("")}function zs(z){return z.match(Ca)||[]}function Ws(z,G,X){var ee;return X(z,function(he,me,ge){if(G(he,me,ge))return ee=me,!1}),ee}function Cl(z,G,X,ee){for(var he=z.length,me=X+(ee?1:-1);ee?me--:++me<he;)if(G(z[me],me,z))return me;return-1}function pr(z,G,X){return G===G?l(z,G,X):Cl(z,Vc,X)}function qc(z,G,X,ee){for(var he=X-1,me=z.length;++he<me;)if(ee(z[he],G))return he;return-1}function Vc(z){return z!==z}function El(z,G){var X=z==null?0:z.length;return X?ko(z,G)/X:Re}function Nl(z){return function(G){return G==null?t:G[z]}}function _l(z){return function(G){return z==null?t:z[G]}}function Wd(z,G,X,ee,he){return he(z,function(me,ge,qe){X=ee?(ee=!1,me):G(X,me,ge,qe)}),X}function Sa(z,G){var X=z.length;for(z.sort(G);X--;)z[X]=z[X].value;return z}function ko(z,G){for(var X,ee=-1,he=z.length;++ee<he;){var me=G(z[ee]);me!==t&&(X=X===t?me:X+me)}return X}function Yc(z,G){for(var X=-1,ee=Array(z);++X<z;)ee[X]=G(X);return ee}function To(z,G){return rt(G,function(X){return[X,z[X]]})}function Hd(z){return z&&z.slice(0,w(z)+1).replace(wo,"")}function In(z){return function(G){return z(G)}}function Aa(z,G){return rt(G,function(X){return z[X]})}function sr(z,G){return z.has(G)}function Gc(z,G){for(var X=-1,ee=z.length;++X<ee&&pr(G,z[X],0)>-1;);return X}function ci(z,G){for(var X=z.length;X--&&pr(G,z[X],0)>-1;);return X}function gp(z,G){for(var X=z.length,ee=0;X--;)z[X]===G&&++ee;return ee}var $c=_l(Co),xp=_l(Eo);function qd(z){return"\\"+No[z]}function Di(z,G){return z==null?t:z[G]}function ka(z){return hp.test(z)}function Xc(z){return zc.test(z)}function Do(z){for(var G,X=[];!(G=z.next()).done;)X.push(G.value);return X}function wt(z){var G=-1,X=Array(z.size);return z.forEach(function(ee,he){X[++G]=[he,ee]}),X}function Io(z,G){return function(X){return z(G(X))}}function M(z,G){for(var X=-1,ee=z.length,he=0,me=[];++X<ee;){var ge=z[X];(ge===G||ge===y)&&(z[X]=y,me[he++]=X)}return me}function i(z){var G=-1,X=Array(z.size);return z.forEach(function(ee){X[++G]=ee}),X}function o(z){var G=-1,X=Array(z.size);return z.forEach(function(ee){X[++G]=[ee,ee]}),X}function l(z,G,X){for(var ee=X-1,he=z.length;++ee<he;)if(z[ee]===G)return ee;return-1}function f(z,G,X){for(var ee=X+1;ee--;)if(z[ee]===G)return ee;return ee}function h(z){return ka(z)?N(z):mp(z)}function m(z){return ka(z)?T(z):rn(z)}function w(z){for(var G=z.length;G--&&wr.test(z.charAt(G)););return G}var C=_l(Ld);function N(z){for(var G=at.lastIndex=0;at.test(z);)++G;return G}function T(z){return z.match(at)||[]}function P(z){return z.match(Zn)||[]}var H=function z(G){G=G==null?Yn:Z.defaults(Yn.Object(),G,Z.pick(Yn,Md));var X=G.Array,ee=G.Date,he=G.Error,me=G.Function,ge=G.Math,qe=G.Object,st=G.RegExp,Er=G.String,xn=G.TypeError,Jn=X.prototype,Qt=me.prototype,vn=qe.prototype,ar=G["__core-js_shared__"],Ki=Qt.toString,Et=vn.hasOwnProperty,vp=0,Vd=function(){var u=/[^.]+$/.exec(ar&&ar.keys&&ar.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Yd=vn.toString,KN=Ki.call(qe),ZN=Yn._,JN=st("^"+Ki.call(Et).replace(Mc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gd=Fd?G.Buffer:t,Ta=G.Symbol,$d=G.Uint8Array,x2=Gd?Gd.allocUnsafe:t,Xd=Io(qe.getPrototypeOf,qe),v2=qe.create,w2=vn.propertyIsEnumerable,Qd=Jn.splice,y2=Ta?Ta.isConcatSpreadable:t,Qc=Ta?Ta.iterator:t,jo=Ta?Ta.toStringTag:t,Kd=function(){try{var u=Po(qe,"defineProperty");return u({},"",{}),u}catch{}}(),e_=G.clearTimeout!==Yn.clearTimeout&&G.clearTimeout,t_=ee&&ee.now!==Yn.Date.now&&ee.now,n_=G.setTimeout!==Yn.setTimeout&&G.setTimeout,Zd=ge.ceil,Jd=ge.floor,wp=qe.getOwnPropertySymbols,r_=Gd?Gd.isBuffer:t,b2=G.isFinite,i_=Jn.join,s_=Io(qe.keys,qe),er=ge.max,Nr=ge.min,a_=ee.now,o_=G.parseInt,C2=ge.random,l_=Jn.reverse,yp=Po(G,"DataView"),Kc=Po(G,"Map"),bp=Po(G,"Promise"),Sl=Po(G,"Set"),Zc=Po(G,"WeakMap"),Jc=Po(qe,"create"),ef=Zc&&new Zc,Al={},c_=Fo(yp),u_=Fo(Kc),d_=Fo(bp),f_=Fo(Sl),h_=Fo(Zc),tf=Ta?Ta.prototype:t,eu=tf?tf.valueOf:t,E2=tf?tf.toString:t;function Y(u){if(jn(u)&&!ct(u)&&!(u instanceof Nt)){if(u instanceof Ii)return u;if(Et.call(u,"__wrapped__"))return Nv(u)}return new Ii(u)}var kl=function(){function u(){}return function(p){if(!Cn(p))return{};if(v2)return v2(p);u.prototype=p;var b=new u;return u.prototype=t,b}}();function nf(){}function Ii(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=t}Y.templateSettings={escape:si,evaluate:Oc,interpolate:Qn,variable:"",imports:{_:Y}},Y.prototype=nf.prototype,Y.prototype.constructor=Y,Ii.prototype=kl(nf.prototype),Ii.prototype.constructor=Ii;function Nt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oe,this.__views__=[]}function p_(){var u=new Nt(this.__wrapped__);return u.__actions__=$r(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=$r(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=$r(this.__views__),u}function m_(){if(this.__filtered__){var u=new Nt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function g_(){var u=this.__wrapped__.value(),p=this.__dir__,b=ct(u),A=p<0,U=b?u.length:0,$=k5(0,U,this.__views__),J=$.start,te=$.end,ae=te-J,ve=A?te:J-1,we=this.__iteratees__,Ee=we.length,Me=0,Ve=Nr(ae,this.__takeCount__);if(!b||!A&&U==ae&&Ve==ae)return G2(u,this.__actions__);var et=[];e:for(;ae--&&Me<Ve;){ve+=p;for(var pt=-1,tt=u[ve];++pt<Ee;){var yt=we[pt],kt=yt.iteratee,fi=yt.type,Lr=kt(tt);if(fi==re)tt=Lr;else if(!Lr){if(fi==xe)continue e;break e}}et[Me++]=tt}return et}Nt.prototype=kl(nf.prototype),Nt.prototype.constructor=Nt;function Ro(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var A=u[p];this.set(A[0],A[1])}}function x_(){this.__data__=Jc?Jc(null):{},this.size=0}function v_(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p}function w_(u){var p=this.__data__;if(Jc){var b=p[u];return b===v?t:b}return Et.call(p,u)?p[u]:t}function y_(u){var p=this.__data__;return Jc?p[u]!==t:Et.call(p,u)}function b_(u,p){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=Jc&&p===t?v:p,this}Ro.prototype.clear=x_,Ro.prototype.delete=v_,Ro.prototype.get=w_,Ro.prototype.has=y_,Ro.prototype.set=b_;function Hs(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var A=u[p];this.set(A[0],A[1])}}function C_(){this.__data__=[],this.size=0}function E_(u){var p=this.__data__,b=rf(p,u);if(b<0)return!1;var A=p.length-1;return b==A?p.pop():Qd.call(p,b,1),--this.size,!0}function N_(u){var p=this.__data__,b=rf(p,u);return b<0?t:p[b][1]}function __(u){return rf(this.__data__,u)>-1}function S_(u,p){var b=this.__data__,A=rf(b,u);return A<0?(++this.size,b.push([u,p])):b[A][1]=p,this}Hs.prototype.clear=C_,Hs.prototype.delete=E_,Hs.prototype.get=N_,Hs.prototype.has=__,Hs.prototype.set=S_;function qs(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var A=u[p];this.set(A[0],A[1])}}function A_(){this.size=0,this.__data__={hash:new Ro,map:new(Kc||Hs),string:new Ro}}function k_(u){var p=gf(this,u).delete(u);return this.size-=p?1:0,p}function T_(u){return gf(this,u).get(u)}function D_(u){return gf(this,u).has(u)}function I_(u,p){var b=gf(this,u),A=b.size;return b.set(u,p),this.size+=b.size==A?0:1,this}qs.prototype.clear=A_,qs.prototype.delete=k_,qs.prototype.get=T_,qs.prototype.has=D_,qs.prototype.set=I_;function Oo(u){var p=-1,b=u==null?0:u.length;for(this.__data__=new qs;++p<b;)this.add(u[p])}function j_(u){return this.__data__.set(u,v),this}function R_(u){return this.__data__.has(u)}Oo.prototype.add=Oo.prototype.push=j_,Oo.prototype.has=R_;function Zi(u){var p=this.__data__=new Hs(u);this.size=p.size}function O_(){this.__data__=new Hs,this.size=0}function M_(u){var p=this.__data__,b=p.delete(u);return this.size=p.size,b}function L_(u){return this.__data__.get(u)}function P_(u){return this.__data__.has(u)}function F_(u,p){var b=this.__data__;if(b instanceof Hs){var A=b.__data__;if(!Kc||A.length<s-1)return A.push([u,p]),this.size=++b.size,this;b=this.__data__=new qs(A)}return b.set(u,p),this.size=b.size,this}Zi.prototype.clear=O_,Zi.prototype.delete=M_,Zi.prototype.get=L_,Zi.prototype.has=P_,Zi.prototype.set=F_;function N2(u,p){var b=ct(u),A=!b&&Bo(u),U=!b&&!A&&Oa(u),$=!b&&!A&&!U&&jl(u),J=b||A||U||$,te=J?Yc(u.length,Er):[],ae=te.length;for(var ve in u)(p||Et.call(u,ve))&&!(J&&(ve=="length"||U&&(ve=="offset"||ve=="parent")||$&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||$s(ve,ae)))&&te.push(ve);return te}function _2(u){var p=u.length;return p?u[jp(0,p-1)]:t}function B_(u,p){return xf($r(u),Mo(p,0,u.length))}function U_(u){return xf($r(u))}function Cp(u,p,b){(b!==t&&!Ji(u[p],b)||b===t&&!(p in u))&&Vs(u,p,b)}function tu(u,p,b){var A=u[p];(!(Et.call(u,p)&&Ji(A,b))||b===t&&!(p in u))&&Vs(u,p,b)}function rf(u,p){for(var b=u.length;b--;)if(Ji(u[b][0],p))return b;return-1}function z_(u,p,b,A){return Da(u,function(U,$,J){p(A,U,b(U),J)}),A}function S2(u,p){return u&&xs(p,or(p),u)}function W_(u,p){return u&&xs(p,Qr(p),u)}function Vs(u,p,b){p=="__proto__"&&Kd?Kd(u,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[p]=b}function Ep(u,p){for(var b=-1,A=p.length,U=X(A),$=u==null;++b<A;)U[b]=$?t:r1(u,p[b]);return U}function Mo(u,p,b){return u===u&&(b!==t&&(u=u<=b?u:b),p!==t&&(u=u>=p?u:p)),u}function ji(u,p,b,A,U,$){var J,te=p&E,ae=p&_,ve=p&k;if(b&&(J=U?b(u,A,U,$):b(u)),J!==t)return J;if(!Cn(u))return u;var we=ct(u);if(we){if(J=D5(u),!te)return $r(u,J)}else{var Ee=_r(u),Me=Ee==Ne||Ee==Le;if(Oa(u))return Q2(u,te);if(Ee==Ct||Ee==Ie||Me&&!U){if(J=ae||Me?{}:mv(u),!te)return ae?w5(u,W_(J,u)):v5(u,S2(J,u))}else{if(!Ft[Ee])return U?u:{};J=I5(u,Ee,te)}}$||($=new Zi);var Ve=$.get(u);if(Ve)return Ve;$.set(u,J),qv(u)?u.forEach(function(tt){J.add(ji(tt,p,b,tt,u,$))}):Wv(u)&&u.forEach(function(tt,yt){J.set(yt,ji(tt,p,b,yt,u,$))});var et=ve?ae?Hp:Wp:ae?Qr:or,pt=we?t:et(u);return Gr(pt||u,function(tt,yt){pt&&(yt=tt,tt=u[yt]),tu(J,yt,ji(tt,p,b,yt,u,$))}),J}function H_(u){var p=or(u);return function(b){return A2(b,u,p)}}function A2(u,p,b){var A=b.length;if(u==null)return!A;for(u=qe(u);A--;){var U=b[A],$=p[U],J=u[U];if(J===t&&!(U in u)||!$(J))return!1}return!0}function k2(u,p,b){if(typeof u!="function")throw new xn(d);return lu(function(){u.apply(t,b)},p)}function nu(u,p,b,A){var U=-1,$=gn,J=!0,te=u.length,ae=[],ve=p.length;if(!te)return ae;b&&(p=rt(p,In(b))),A?($=Ao,J=!1):p.length>=s&&($=sr,J=!1,p=new Oo(p));e:for(;++U<te;){var we=u[U],Ee=b==null?we:b(we);if(we=A||we!==0?we:0,J&&Ee===Ee){for(var Me=ve;Me--;)if(p[Me]===Ee)continue e;ae.push(we)}else $(p,Ee,A)||ae.push(we)}return ae}var Da=tv(gs),T2=tv(_p,!0);function q_(u,p){var b=!0;return Da(u,function(A,U,$){return b=!!p(A,U,$),b}),b}function sf(u,p,b){for(var A=-1,U=u.length;++A<U;){var $=u[A],J=p($);if(J!=null&&(te===t?J===J&&!di(J):b(J,te)))var te=J,ae=$}return ae}function V_(u,p,b,A){var U=u.length;for(b=ht(b),b<0&&(b=-b>U?0:U+b),A=A===t||A>U?U:ht(A),A<0&&(A+=U),A=b>A?0:Yv(A);b<A;)u[b++]=p;return u}function D2(u,p){var b=[];return Da(u,function(A,U,$){p(A,U,$)&&b.push(A)}),b}function mr(u,p,b,A,U){var $=-1,J=u.length;for(b||(b=R5),U||(U=[]);++$<J;){var te=u[$];p>0&&b(te)?p>1?mr(te,p-1,b,A,U):li(U,te):A||(U[U.length]=te)}return U}var Np=nv(),I2=nv(!0);function gs(u,p){return u&&Np(u,p,or)}function _p(u,p){return u&&I2(u,p,or)}function af(u,p){return Ti(p,function(b){return Xs(u[b])})}function Lo(u,p){p=ja(p,u);for(var b=0,A=p.length;u!=null&&b<A;)u=u[vs(p[b++])];return b&&b==A?u:t}function j2(u,p,b){var A=p(u);return ct(u)?A:li(A,b(u))}function Or(u){return u==null?u===t?De:Ei:jo&&jo in qe(u)?A5(u):U5(u)}function Sp(u,p){return u>p}function Y_(u,p){return u!=null&&Et.call(u,p)}function G_(u,p){return u!=null&&p in qe(u)}function $_(u,p,b){return u>=Nr(p,b)&&u<er(p,b)}function Ap(u,p,b){for(var A=b?Ao:gn,U=u[0].length,$=u.length,J=$,te=X($),ae=1/0,ve=[];J--;){var we=u[J];J&&p&&(we=rt(we,In(p))),ae=Nr(we.length,ae),te[J]=!b&&(p||U>=120&&we.length>=120)?new Oo(J&&we):t}we=u[0];var Ee=-1,Me=te[0];e:for(;++Ee<U&&ve.length<ae;){var Ve=we[Ee],et=p?p(Ve):Ve;if(Ve=b||Ve!==0?Ve:0,!(Me?sr(Me,et):A(ve,et,b))){for(J=$;--J;){var pt=te[J];if(!(pt?sr(pt,et):A(u[J],et,b)))continue e}Me&&Me.push(et),ve.push(Ve)}}return ve}function X_(u,p,b,A){return gs(u,function(U,$,J){p(A,b(U),$,J)}),A}function ru(u,p,b){p=ja(p,u),u=wv(u,p);var A=u==null?u:u[vs(Oi(p))];return A==null?t:ir(A,u,b)}function R2(u){return jn(u)&&Or(u)==Ie}function Q_(u){return jn(u)&&Or(u)==en}function K_(u){return jn(u)&&Or(u)==kn}function iu(u,p,b,A,U){return u===p?!0:u==null||p==null||!jn(u)&&!jn(p)?u!==u&&p!==p:Z_(u,p,b,A,iu,U)}function Z_(u,p,b,A,U,$){var J=ct(u),te=ct(p),ae=J?Ae:_r(u),ve=te?Ae:_r(p);ae=ae==Ie?Ct:ae,ve=ve==Ie?Ct:ve;var we=ae==Ct,Ee=ve==Ct,Me=ae==ve;if(Me&&Oa(u)){if(!Oa(p))return!1;J=!0,we=!1}if(Me&&!we)return $||($=new Zi),J||jl(u)?fv(u,p,b,A,U,$):_5(u,p,ae,b,A,U,$);if(!(b&S)){var Ve=we&&Et.call(u,"__wrapped__"),et=Ee&&Et.call(p,"__wrapped__");if(Ve||et){var pt=Ve?u.value():u,tt=et?p.value():p;return $||($=new Zi),U(pt,tt,b,A,$)}}return Me?($||($=new Zi),S5(u,p,b,A,U,$)):!1}function J_(u){return jn(u)&&_r(u)==ft}function kp(u,p,b,A){var U=b.length,$=U,J=!A;if(u==null)return!$;for(u=qe(u);U--;){var te=b[U];if(J&&te[2]?te[1]!==u[te[0]]:!(te[0]in u))return!1}for(;++U<$;){te=b[U];var ae=te[0],ve=u[ae],we=te[1];if(J&&te[2]){if(ve===t&&!(ae in u))return!1}else{var Ee=new Zi;if(A)var Me=A(ve,we,ae,u,p,Ee);if(!(Me===t?iu(we,ve,S|R,A,Ee):Me))return!1}}return!0}function O2(u){if(!Cn(u)||M5(u))return!1;var p=Xs(u)?JN:op;return p.test(Fo(u))}function e5(u){return jn(u)&&Or(u)==je}function t5(u){return jn(u)&&_r(u)==Ce}function n5(u){return jn(u)&&Ef(u.length)&&!!nn[Or(u)]}function M2(u){return typeof u=="function"?u:u==null?Kr:typeof u=="object"?ct(u)?F2(u[0],u[1]):P2(u):rw(u)}function Tp(u){if(!ou(u))return s_(u);var p=[];for(var b in qe(u))Et.call(u,b)&&b!="constructor"&&p.push(b);return p}function r5(u){if(!Cn(u))return B5(u);var p=ou(u),b=[];for(var A in u)A=="constructor"&&(p||!Et.call(u,A))||b.push(A);return b}function Dp(u,p){return u<p}function L2(u,p){var b=-1,A=Xr(u)?X(u.length):[];return Da(u,function(U,$,J){A[++b]=p(U,$,J)}),A}function P2(u){var p=Vp(u);return p.length==1&&p[0][2]?xv(p[0][0],p[0][1]):function(b){return b===u||kp(b,u,p)}}function F2(u,p){return Gp(u)&&gv(p)?xv(vs(u),p):function(b){var A=r1(b,u);return A===t&&A===p?i1(b,u):iu(p,A,S|R)}}function of(u,p,b,A,U){u!==p&&Np(p,function($,J){if(U||(U=new Zi),Cn($))i5(u,p,J,b,of,A,U);else{var te=A?A(Xp(u,J),$,J+"",u,p,U):t;te===t&&(te=$),Cp(u,J,te)}},Qr)}function i5(u,p,b,A,U,$,J){var te=Xp(u,b),ae=Xp(p,b),ve=J.get(ae);if(ve){Cp(u,b,ve);return}var we=$?$(te,ae,b+"",u,p,J):t,Ee=we===t;if(Ee){var Me=ct(ae),Ve=!Me&&Oa(ae),et=!Me&&!Ve&&jl(ae);we=ae,Me||Ve||et?ct(te)?we=te:Un(te)?we=$r(te):Ve?(Ee=!1,we=Q2(ae,!0)):et?(Ee=!1,we=K2(ae,!0)):we=[]:cu(ae)||Bo(ae)?(we=te,Bo(te)?we=Gv(te):(!Cn(te)||Xs(te))&&(we=mv(ae))):Ee=!1}Ee&&(J.set(ae,we),U(we,ae,A,$,J),J.delete(ae)),Cp(u,b,we)}function B2(u,p){var b=u.length;if(b)return p+=p<0?b:0,$s(p,b)?u[p]:t}function U2(u,p,b){p.length?p=rt(p,function($){return ct($)?function(J){return Lo(J,$.length===1?$[0]:$)}:$}):p=[Kr];var A=-1;p=rt(p,In(Ze()));var U=L2(u,function($,J,te){var ae=rt(p,function(ve){return ve($)});return{criteria:ae,index:++A,value:$}});return Sa(U,function($,J){return x5($,J,b)})}function s5(u,p){return z2(u,p,function(b,A){return i1(u,A)})}function z2(u,p,b){for(var A=-1,U=p.length,$={};++A<U;){var J=p[A],te=Lo(u,J);b(te,J)&&su($,ja(J,u),te)}return $}function a5(u){return function(p){return Lo(p,u)}}function Ip(u,p,b,A){var U=A?qc:pr,$=-1,J=p.length,te=u;for(u===p&&(p=$r(p)),b&&(te=rt(u,In(b)));++$<J;)for(var ae=0,ve=p[$],we=b?b(ve):ve;(ae=U(te,we,ae,A))>-1;)te!==u&&Qd.call(te,ae,1),Qd.call(u,ae,1);return u}function W2(u,p){for(var b=u?p.length:0,A=b-1;b--;){var U=p[b];if(b==A||U!==$){var $=U;$s(U)?Qd.call(u,U,1):Mp(u,U)}}return u}function jp(u,p){return u+Jd(C2()*(p-u+1))}function o5(u,p,b,A){for(var U=-1,$=er(Zd((p-u)/(b||1)),0),J=X($);$--;)J[A?$:++U]=u,u+=b;return J}function Rp(u,p){var b="";if(!u||p<1||p>ue)return b;do p%2&&(b+=u),p=Jd(p/2),p&&(u+=u);while(p);return b}function gt(u,p){return Qp(vv(u,p,Kr),u+"")}function l5(u){return _2(Rl(u))}function c5(u,p){var b=Rl(u);return xf(b,Mo(p,0,b.length))}function su(u,p,b,A){if(!Cn(u))return u;p=ja(p,u);for(var U=-1,$=p.length,J=$-1,te=u;te!=null&&++U<$;){var ae=vs(p[U]),ve=b;if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return u;if(U!=J){var we=te[ae];ve=A?A(we,ae,te):t,ve===t&&(ve=Cn(we)?we:$s(p[U+1])?[]:{})}tu(te,ae,ve),te=te[ae]}return u}var H2=ef?function(u,p){return ef.set(u,p),u}:Kr,u5=Kd?function(u,p){return Kd(u,"toString",{configurable:!0,enumerable:!1,value:a1(p),writable:!0})}:Kr;function d5(u){return xf(Rl(u))}function Ri(u,p,b){var A=-1,U=u.length;p<0&&(p=-p>U?0:U+p),b=b>U?U:b,b<0&&(b+=U),U=p>b?0:b-p>>>0,p>>>=0;for(var $=X(U);++A<U;)$[A]=u[A+p];return $}function f5(u,p){var b;return Da(u,function(A,U,$){return b=p(A,U,$),!b}),!!b}function lf(u,p,b){var A=0,U=u==null?A:u.length;if(typeof p=="number"&&p===p&&U<=cn){for(;A<U;){var $=A+U>>>1,J=u[$];J!==null&&!di(J)&&(b?J<=p:J<p)?A=$+1:U=$}return U}return Op(u,p,Kr,b)}function Op(u,p,b,A){var U=0,$=u==null?0:u.length;if($===0)return 0;p=b(p);for(var J=p!==p,te=p===null,ae=di(p),ve=p===t;U<$;){var we=Jd((U+$)/2),Ee=b(u[we]),Me=Ee!==t,Ve=Ee===null,et=Ee===Ee,pt=di(Ee);if(J)var tt=A||et;else ve?tt=et&&(A||Me):te?tt=et&&Me&&(A||!Ve):ae?tt=et&&Me&&!Ve&&(A||!pt):Ve||pt?tt=!1:tt=A?Ee<=p:Ee<p;tt?U=we+1:$=we}return Nr($,Je)}function q2(u,p){for(var b=-1,A=u.length,U=0,$=[];++b<A;){var J=u[b],te=p?p(J):J;if(!b||!Ji(te,ae)){var ae=te;$[U++]=J===0?0:J}}return $}function V2(u){return typeof u=="number"?u:di(u)?Re:+u}function ui(u){if(typeof u=="string")return u;if(ct(u))return rt(u,ui)+"";if(di(u))return E2?E2.call(u):"";var p=u+"";return p=="0"&&1/u==-ye?"-0":p}function Ia(u,p,b){var A=-1,U=gn,$=u.length,J=!0,te=[],ae=te;if(b)J=!1,U=Ao;else if($>=s){var ve=p?null:E5(u);if(ve)return i(ve);J=!1,U=sr,ae=new Oo}else ae=p?[]:te;e:for(;++A<$;){var we=u[A],Ee=p?p(we):we;if(we=b||we!==0?we:0,J&&Ee===Ee){for(var Me=ae.length;Me--;)if(ae[Me]===Ee)continue e;p&&ae.push(Ee),te.push(we)}else U(ae,Ee,b)||(ae!==te&&ae.push(Ee),te.push(we))}return te}function Mp(u,p){return p=ja(p,u),u=wv(u,p),u==null||delete u[vs(Oi(p))]}function Y2(u,p,b,A){return su(u,p,b(Lo(u,p)),A)}function cf(u,p,b,A){for(var U=u.length,$=A?U:-1;(A?$--:++$<U)&&p(u[$],$,u););return b?Ri(u,A?0:$,A?$+1:U):Ri(u,A?$+1:0,A?U:$)}function G2(u,p){var b=u;return b instanceof Nt&&(b=b.value()),Qi(p,function(A,U){return U.func.apply(U.thisArg,li([A],U.args))},b)}function Lp(u,p,b){var A=u.length;if(A<2)return A?Ia(u[0]):[];for(var U=-1,$=X(A);++U<A;)for(var J=u[U],te=-1;++te<A;)te!=U&&($[U]=nu($[U]||J,u[te],p,b));return Ia(mr($,1),p,b)}function $2(u,p,b){for(var A=-1,U=u.length,$=p.length,J={};++A<U;){var te=A<$?p[A]:t;b(J,u[A],te)}return J}function Pp(u){return Un(u)?u:[]}function Fp(u){return typeof u=="function"?u:Kr}function ja(u,p){return ct(u)?u:Gp(u,p)?[u]:Ev(Ht(u))}var h5=gt;function Ra(u,p,b){var A=u.length;return b=b===t?A:b,!p&&b>=A?u:Ri(u,p,b)}var X2=e_||function(u){return Yn.clearTimeout(u)};function Q2(u,p){if(p)return u.slice();var b=u.length,A=x2?x2(b):new u.constructor(b);return u.copy(A),A}function Bp(u){var p=new u.constructor(u.byteLength);return new $d(p).set(new $d(u)),p}function p5(u,p){var b=p?Bp(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function m5(u){var p=new u.constructor(u.source,yo.exec(u));return p.lastIndex=u.lastIndex,p}function g5(u){return eu?qe(eu.call(u)):{}}function K2(u,p){var b=p?Bp(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function Z2(u,p){if(u!==p){var b=u!==t,A=u===null,U=u===u,$=di(u),J=p!==t,te=p===null,ae=p===p,ve=di(p);if(!te&&!ve&&!$&&u>p||$&&J&&ae&&!te&&!ve||A&&J&&ae||!b&&ae||!U)return 1;if(!A&&!$&&!ve&&u<p||ve&&b&&U&&!A&&!$||te&&b&&U||!J&&U||!ae)return-1}return 0}function x5(u,p,b){for(var A=-1,U=u.criteria,$=p.criteria,J=U.length,te=b.length;++A<J;){var ae=Z2(U[A],$[A]);if(ae){if(A>=te)return ae;var ve=b[A];return ae*(ve=="desc"?-1:1)}}return u.index-p.index}function J2(u,p,b,A){for(var U=-1,$=u.length,J=b.length,te=-1,ae=p.length,ve=er($-J,0),we=X(ae+ve),Ee=!A;++te<ae;)we[te]=p[te];for(;++U<J;)(Ee||U<$)&&(we[b[U]]=u[U]);for(;ve--;)we[te++]=u[U++];return we}function ev(u,p,b,A){for(var U=-1,$=u.length,J=-1,te=b.length,ae=-1,ve=p.length,we=er($-te,0),Ee=X(we+ve),Me=!A;++U<we;)Ee[U]=u[U];for(var Ve=U;++ae<ve;)Ee[Ve+ae]=p[ae];for(;++J<te;)(Me||U<$)&&(Ee[Ve+b[J]]=u[U++]);return Ee}function $r(u,p){var b=-1,A=u.length;for(p||(p=X(A));++b<A;)p[b]=u[b];return p}function xs(u,p,b,A){var U=!b;b||(b={});for(var $=-1,J=p.length;++$<J;){var te=p[$],ae=A?A(b[te],u[te],te,b,u):t;ae===t&&(ae=u[te]),U?Vs(b,te,ae):tu(b,te,ae)}return b}function v5(u,p){return xs(u,Yp(u),p)}function w5(u,p){return xs(u,hv(u),p)}function uf(u,p){return function(b,A){var U=ct(b)?Ud:z_,$=p?p():{};return U(b,u,Ze(A,2),$)}}function Tl(u){return gt(function(p,b){var A=-1,U=b.length,$=U>1?b[U-1]:t,J=U>2?b[2]:t;for($=u.length>3&&typeof $=="function"?(U--,$):t,J&&Mr(b[0],b[1],J)&&($=U<3?t:$,U=1),p=qe(p);++A<U;){var te=b[A];te&&u(p,te,A,$)}return p})}function tv(u,p){return function(b,A){if(b==null)return b;if(!Xr(b))return u(b,A);for(var U=b.length,$=p?U:-1,J=qe(b);(p?$--:++$<U)&&A(J[$],$,J)!==!1;);return b}}function nv(u){return function(p,b,A){for(var U=-1,$=qe(p),J=A(p),te=J.length;te--;){var ae=J[u?te:++U];if(b($[ae],ae,$)===!1)break}return p}}function y5(u,p,b){var A=p&O,U=au(u);function $(){var J=this&&this!==Yn&&this instanceof $?U:u;return J.apply(A?b:this,arguments)}return $}function rv(u){return function(p){p=Ht(p);var b=ka(p)?m(p):t,A=b?b[0]:p.charAt(0),U=b?Ra(b,1).join(""):p.slice(1);return A[u]()+U}}function Dl(u){return function(p){return Qi(tw(ew(p).replace(Ke,"")),u,"")}}function au(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=kl(u.prototype),A=u.apply(b,p);return Cn(A)?A:b}}function b5(u,p,b){var A=au(u);function U(){for(var $=arguments.length,J=X($),te=$,ae=Il(U);te--;)J[te]=arguments[te];var ve=$<3&&J[0]!==ae&&J[$-1]!==ae?[]:M(J,ae);if($-=ve.length,$<b)return lv(u,p,df,U.placeholder,t,J,ve,t,t,b-$);var we=this&&this!==Yn&&this instanceof U?A:u;return ir(we,this,J)}return U}function iv(u){return function(p,b,A){var U=qe(p);if(!Xr(p)){var $=Ze(b,3);p=or(p),b=function(te){return $(U[te],te,U)}}var J=u(p,b,A);return J>-1?U[$?p[J]:J]:t}}function sv(u){return Gs(function(p){var b=p.length,A=b,U=Ii.prototype.thru;for(u&&p.reverse();A--;){var $=p[A];if(typeof $!="function")throw new xn(d);if(U&&!J&&mf($)=="wrapper")var J=new Ii([],!0)}for(A=J?A:b;++A<b;){$=p[A];var te=mf($),ae=te=="wrapper"?qp($):t;ae&&$p(ae[0])&&ae[1]==(F|j|Q|V)&&!ae[4].length&&ae[9]==1?J=J[mf(ae[0])].apply(J,ae[3]):J=$.length==1&&$p($)?J[te]():J.thru($)}return function(){var ve=arguments,we=ve[0];if(J&&ve.length==1&&ct(we))return J.plant(we).value();for(var Ee=0,Me=b?p[Ee].apply(this,ve):we;++Ee<b;)Me=p[Ee].call(this,Me);return Me}})}function df(u,p,b,A,U,$,J,te,ae,ve){var we=p&F,Ee=p&O,Me=p&I,Ve=p&(j|q),et=p&W,pt=Me?t:au(u);function tt(){for(var yt=arguments.length,kt=X(yt),fi=yt;fi--;)kt[fi]=arguments[fi];if(Ve)var Lr=Il(tt),hi=gp(kt,Lr);if(A&&(kt=J2(kt,A,U,Ve)),$&&(kt=ev(kt,$,J,Ve)),yt-=hi,Ve&&yt<ve){var zn=M(kt,Lr);return lv(u,p,df,tt.placeholder,b,kt,zn,te,ae,ve-yt)}var es=Ee?b:this,Ks=Me?es[u]:u;return yt=kt.length,te?kt=z5(kt,te):et&&yt>1&&kt.reverse(),we&&ae<yt&&(kt.length=ae),this&&this!==Yn&&this instanceof tt&&(Ks=pt||au(Ks)),Ks.apply(es,kt)}return tt}function av(u,p){return function(b,A){return X_(b,u,p(A),{})}}function ff(u,p){return function(b,A){var U;if(b===t&&A===t)return p;if(b!==t&&(U=b),A!==t){if(U===t)return A;typeof b=="string"||typeof A=="string"?(b=ui(b),A=ui(A)):(b=V2(b),A=V2(A)),U=u(b,A)}return U}}function Up(u){return Gs(function(p){return p=rt(p,In(Ze())),gt(function(b){var A=this;return u(p,function(U){return ir(U,A,b)})})})}function hf(u,p){p=p===t?" ":ui(p);var b=p.length;if(b<2)return b?Rp(p,u):p;var A=Rp(p,Zd(u/h(p)));return ka(p)?Ra(m(A),0,u).join(""):A.slice(0,u)}function C5(u,p,b,A){var U=p&O,$=au(u);function J(){for(var te=-1,ae=arguments.length,ve=-1,we=A.length,Ee=X(we+ae),Me=this&&this!==Yn&&this instanceof J?$:u;++ve<we;)Ee[ve]=A[ve];for(;ae--;)Ee[ve++]=arguments[++te];return ir(Me,U?b:this,Ee)}return J}function ov(u){return function(p,b,A){return A&&typeof A!="number"&&Mr(p,b,A)&&(b=A=t),p=Qs(p),b===t?(b=p,p=0):b=Qs(b),A=A===t?p<b?1:-1:Qs(A),o5(p,b,A,u)}}function pf(u){return function(p,b){return typeof p=="string"&&typeof b=="string"||(p=Mi(p),b=Mi(b)),u(p,b)}}function lv(u,p,b,A,U,$,J,te,ae,ve){var we=p&j,Ee=we?J:t,Me=we?t:J,Ve=we?$:t,et=we?t:$;p|=we?Q:B,p&=~(we?B:Q),p&D||(p&=~(O|I));var pt=[u,p,U,Ve,Ee,et,Me,te,ae,ve],tt=b.apply(t,pt);return $p(u)&&yv(tt,pt),tt.placeholder=A,bv(tt,u,p)}function zp(u){var p=ge[u];return function(b,A){if(b=Mi(b),A=A==null?0:Nr(ht(A),292),A&&b2(b)){var U=(Ht(b)+"e").split("e"),$=p(U[0]+"e"+(+U[1]+A));return U=(Ht($)+"e").split("e"),+(U[0]+"e"+(+U[1]-A))}return p(b)}}var E5=Sl&&1/i(new Sl([,-0]))[1]==ye?function(u){return new Sl(u)}:c1;function cv(u){return function(p){var b=_r(p);return b==ft?wt(p):b==Ce?o(p):To(p,u(p))}}function Ys(u,p,b,A,U,$,J,te){var ae=p&I;if(!ae&&typeof u!="function")throw new xn(d);var ve=A?A.length:0;if(ve||(p&=~(Q|B),A=U=t),J=J===t?J:er(ht(J),0),te=te===t?te:ht(te),ve-=U?U.length:0,p&B){var we=A,Ee=U;A=U=t}var Me=ae?t:qp(u),Ve=[u,p,b,A,U,we,Ee,$,J,te];if(Me&&F5(Ve,Me),u=Ve[0],p=Ve[1],b=Ve[2],A=Ve[3],U=Ve[4],te=Ve[9]=Ve[9]===t?ae?0:u.length:er(Ve[9]-ve,0),!te&&p&(j|q)&&(p&=~(j|q)),!p||p==O)var et=y5(u,p,b);else p==j||p==q?et=b5(u,p,te):(p==Q||p==(O|Q))&&!U.length?et=C5(u,p,b,A):et=df.apply(t,Ve);var pt=Me?H2:yv;return bv(pt(et,Ve),u,p)}function uv(u,p,b,A){return u===t||Ji(u,vn[b])&&!Et.call(A,b)?p:u}function dv(u,p,b,A,U,$){return Cn(u)&&Cn(p)&&($.set(p,u),of(u,p,t,dv,$),$.delete(p)),u}function N5(u){return cu(u)?t:u}function fv(u,p,b,A,U,$){var J=b&S,te=u.length,ae=p.length;if(te!=ae&&!(J&&ae>te))return!1;var ve=$.get(u),we=$.get(p);if(ve&&we)return ve==p&&we==u;var Ee=-1,Me=!0,Ve=b&R?new Oo:t;for($.set(u,p),$.set(p,u);++Ee<te;){var et=u[Ee],pt=p[Ee];if(A)var tt=J?A(pt,et,Ee,p,u,$):A(et,pt,Ee,u,p,$);if(tt!==t){if(tt)continue;Me=!1;break}if(Ve){if(!Xe(p,function(yt,kt){if(!sr(Ve,kt)&&(et===yt||U(et,yt,b,A,$)))return Ve.push(kt)})){Me=!1;break}}else if(!(et===pt||U(et,pt,b,A,$))){Me=!1;break}}return $.delete(u),$.delete(p),Me}function _5(u,p,b,A,U,$,J){switch(b){case Yt:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case en:return!(u.byteLength!=p.byteLength||!$(new $d(u),new $d(p)));case Qe:case kn:case an:return Ji(+u,+p);case _t:return u.name==p.name&&u.message==p.message;case je:case Fn:return u==p+"";case ft:var te=wt;case Ce:var ae=A&S;if(te||(te=i),u.size!=p.size&&!ae)return!1;var ve=J.get(u);if(ve)return ve==p;A|=R,J.set(u,p);var we=fv(te(u),te(p),A,U,$,J);return J.delete(u),we;case fr:if(eu)return eu.call(u)==eu.call(p)}return!1}function S5(u,p,b,A,U,$){var J=b&S,te=Wp(u),ae=te.length,ve=Wp(p),we=ve.length;if(ae!=we&&!J)return!1;for(var Ee=ae;Ee--;){var Me=te[Ee];if(!(J?Me in p:Et.call(p,Me)))return!1}var Ve=$.get(u),et=$.get(p);if(Ve&&et)return Ve==p&&et==u;var pt=!0;$.set(u,p),$.set(p,u);for(var tt=J;++Ee<ae;){Me=te[Ee];var yt=u[Me],kt=p[Me];if(A)var fi=J?A(kt,yt,Me,p,u,$):A(yt,kt,Me,u,p,$);if(!(fi===t?yt===kt||U(yt,kt,b,A,$):fi)){pt=!1;break}tt||(tt=Me=="constructor")}if(pt&&!tt){var Lr=u.constructor,hi=p.constructor;Lr!=hi&&"constructor"in u&&"constructor"in p&&!(typeof Lr=="function"&&Lr instanceof Lr&&typeof hi=="function"&&hi instanceof hi)&&(pt=!1)}return $.delete(u),$.delete(p),pt}function Gs(u){return Qp(vv(u,t,Av),u+"")}function Wp(u){return j2(u,or,Yp)}function Hp(u){return j2(u,Qr,hv)}var qp=ef?function(u){return ef.get(u)}:c1;function mf(u){for(var p=u.name+"",b=Al[p],A=Et.call(Al,p)?b.length:0;A--;){var U=b[A],$=U.func;if($==null||$==u)return U.name}return p}function Il(u){var p=Et.call(Y,"placeholder")?Y:u;return p.placeholder}function Ze(){var u=Y.iteratee||o1;return u=u===o1?M2:u,arguments.length?u(arguments[0],arguments[1]):u}function gf(u,p){var b=u.__data__;return O5(p)?b[typeof p=="string"?"string":"hash"]:b.map}function Vp(u){for(var p=or(u),b=p.length;b--;){var A=p[b],U=u[A];p[b]=[A,U,gv(U)]}return p}function Po(u,p){var b=Di(u,p);return O2(b)?b:t}function A5(u){var p=Et.call(u,jo),b=u[jo];try{u[jo]=t;var A=!0}catch{}var U=Yd.call(u);return A&&(p?u[jo]=b:delete u[jo]),U}var Yp=wp?function(u){return u==null?[]:(u=qe(u),Ti(wp(u),function(p){return w2.call(u,p)}))}:u1,hv=wp?function(u){for(var p=[];u;)li(p,Yp(u)),u=Xd(u);return p}:u1,_r=Or;(yp&&_r(new yp(new ArrayBuffer(1)))!=Yt||Kc&&_r(new Kc)!=ft||bp&&_r(bp.resolve())!=St||Sl&&_r(new Sl)!=Ce||Zc&&_r(new Zc)!=Ge)&&(_r=function(u){var p=Or(u),b=p==Ct?u.constructor:t,A=b?Fo(b):"";if(A)switch(A){case c_:return Yt;case u_:return ft;case d_:return St;case f_:return Ce;case h_:return Ge}return p});function k5(u,p,b){for(var A=-1,U=b.length;++A<U;){var $=b[A],J=$.size;switch($.type){case"drop":u+=J;break;case"dropRight":p-=J;break;case"take":p=Nr(p,u+J);break;case"takeRight":u=er(u,p-J);break}}return{start:u,end:p}}function T5(u){var p=u.match(Yr);return p?p[1].split(Fe):[]}function pv(u,p,b){p=ja(p,u);for(var A=-1,U=p.length,$=!1;++A<U;){var J=vs(p[A]);if(!($=u!=null&&b(u,J)))break;u=u[J]}return $||++A!=U?$:(U=u==null?0:u.length,!!U&&Ef(U)&&$s(J,U)&&(ct(u)||Bo(u)))}function D5(u){var p=u.length,b=new u.constructor(p);return p&&typeof u[0]=="string"&&Et.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function mv(u){return typeof u.constructor=="function"&&!ou(u)?kl(Xd(u)):{}}function I5(u,p,b){var A=u.constructor;switch(p){case en:return Bp(u);case Qe:case kn:return new A(+u);case Yt:return p5(u,b);case un:case ii:case Ni:case Ms:case Jt:case Te:case tn:case At:case Wt:return K2(u,b);case ft:return new A;case an:case Fn:return new A(u);case je:return m5(u);case Ce:return new A;case fr:return g5(u)}}function j5(u,p){var b=p.length;if(!b)return u;var A=b-1;return p[A]=(b>1?"& ":"")+p[A],p=p.join(b>2?", ":" "),u.replace(Ps,`{
/* [wrapped with `+p+`] */
`)}function R5(u){return ct(u)||Bo(u)||!!(y2&&u&&u[y2])}function $s(u,p){var b=typeof u;return p=p??ue,!!p&&(b=="number"||b!="symbol"&&Ai.test(u))&&u>-1&&u%1==0&&u<p}function Mr(u,p,b){if(!Cn(b))return!1;var A=typeof p;return(A=="number"?Xr(b)&&$s(p,b.length):A=="string"&&p in b)?Ji(b[p],u):!1}function Gp(u,p){if(ct(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||di(u)?!0:ml.test(u)||!ba.test(u)||p!=null&&u in qe(p)}function O5(u){var p=typeof u;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?u!=="__proto__":u===null}function $p(u){var p=mf(u),b=Y[p];if(typeof b!="function"||!(p in Nt.prototype))return!1;if(u===b)return!0;var A=qp(b);return!!A&&u===A[0]}function M5(u){return!!Vd&&Vd in u}var L5=ar?Xs:d1;function ou(u){var p=u&&u.constructor,b=typeof p=="function"&&p.prototype||vn;return u===b}function gv(u){return u===u&&!Cn(u)}function xv(u,p){return function(b){return b==null?!1:b[u]===p&&(p!==t||u in qe(b))}}function P5(u){var p=bf(u,function(A){return b.size===x&&b.clear(),A}),b=p.cache;return p}function F5(u,p){var b=u[1],A=p[1],U=b|A,$=U<(O|I|F),J=A==F&&b==j||A==F&&b==V&&u[7].length<=p[8]||A==(F|V)&&p[7].length<=p[8]&&b==j;if(!($||J))return u;A&O&&(u[2]=p[2],U|=b&O?0:D);var te=p[3];if(te){var ae=u[3];u[3]=ae?J2(ae,te,p[4]):te,u[4]=ae?M(u[3],y):p[4]}return te=p[5],te&&(ae=u[5],u[5]=ae?ev(ae,te,p[6]):te,u[6]=ae?M(u[5],y):p[6]),te=p[7],te&&(u[7]=te),A&F&&(u[8]=u[8]==null?p[8]:Nr(u[8],p[8])),u[9]==null&&(u[9]=p[9]),u[0]=p[0],u[1]=U,u}function B5(u){var p=[];if(u!=null)for(var b in qe(u))p.push(b);return p}function U5(u){return Yd.call(u)}function vv(u,p,b){return p=er(p===t?u.length-1:p,0),function(){for(var A=arguments,U=-1,$=er(A.length-p,0),J=X($);++U<$;)J[U]=A[p+U];U=-1;for(var te=X(p+1);++U<p;)te[U]=A[U];return te[p]=b(J),ir(u,this,te)}}function wv(u,p){return p.length<2?u:Lo(u,Ri(p,0,-1))}function z5(u,p){for(var b=u.length,A=Nr(p.length,b),U=$r(u);A--;){var $=p[A];u[A]=$s($,b)?U[$]:t}return u}function Xp(u,p){if(!(p==="constructor"&&typeof u[p]=="function")&&p!="__proto__")return u[p]}var yv=Cv(H2),lu=n_||function(u,p){return Yn.setTimeout(u,p)},Qp=Cv(u5);function bv(u,p,b){var A=p+"";return Qp(u,j5(A,W5(T5(A),b)))}function Cv(u){var p=0,b=0;return function(){var A=a_(),U=ce-(A-b);if(b=A,U>0){if(++p>=ie)return arguments[0]}else p=0;return u.apply(t,arguments)}}function xf(u,p){var b=-1,A=u.length,U=A-1;for(p=p===t?A:p;++b<p;){var $=jp(b,U),J=u[$];u[$]=u[b],u[b]=J}return u.length=p,u}var Ev=P5(function(u){var p=[];return u.charCodeAt(0)===46&&p.push(""),u.replace(_i,function(b,A,U,$){p.push(U?$.replace(yr,"$1"):A||b)}),p});function vs(u){if(typeof u=="string"||di(u))return u;var p=u+"";return p=="0"&&1/u==-ye?"-0":p}function Fo(u){if(u!=null){try{return Ki.call(u)}catch{}try{return u+""}catch{}}return""}function W5(u,p){return Gr(mt,function(b){var A="_."+b[0];p&b[1]&&!gn(u,A)&&u.push(A)}),u.sort()}function Nv(u){if(u instanceof Nt)return u.clone();var p=new Ii(u.__wrapped__,u.__chain__);return p.__actions__=$r(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}function H5(u,p,b){(b?Mr(u,p,b):p===t)?p=1:p=er(ht(p),0);var A=u==null?0:u.length;if(!A||p<1)return[];for(var U=0,$=0,J=X(Zd(A/p));U<A;)J[$++]=Ri(u,U,U+=p);return J}function q5(u){for(var p=-1,b=u==null?0:u.length,A=0,U=[];++p<b;){var $=u[p];$&&(U[A++]=$)}return U}function V5(){var u=arguments.length;if(!u)return[];for(var p=X(u-1),b=arguments[0],A=u;A--;)p[A-1]=arguments[A];return li(ct(b)?$r(b):[b],mr(p,1))}var Y5=gt(function(u,p){return Un(u)?nu(u,mr(p,1,Un,!0)):[]}),G5=gt(function(u,p){var b=Oi(p);return Un(b)&&(b=t),Un(u)?nu(u,mr(p,1,Un,!0),Ze(b,2)):[]}),$5=gt(function(u,p){var b=Oi(p);return Un(b)&&(b=t),Un(u)?nu(u,mr(p,1,Un,!0),t,b):[]});function X5(u,p,b){var A=u==null?0:u.length;return A?(p=b||p===t?1:ht(p),Ri(u,p<0?0:p,A)):[]}function Q5(u,p,b){var A=u==null?0:u.length;return A?(p=b||p===t?1:ht(p),p=A-p,Ri(u,0,p<0?0:p)):[]}function K5(u,p){return u&&u.length?cf(u,Ze(p,3),!0,!0):[]}function Z5(u,p){return u&&u.length?cf(u,Ze(p,3),!0):[]}function J5(u,p,b,A){var U=u==null?0:u.length;return U?(b&&typeof b!="number"&&Mr(u,p,b)&&(b=0,A=U),V_(u,p,b,A)):[]}function _v(u,p,b){var A=u==null?0:u.length;if(!A)return-1;var U=b==null?0:ht(b);return U<0&&(U=er(A+U,0)),Cl(u,Ze(p,3),U)}function Sv(u,p,b){var A=u==null?0:u.length;if(!A)return-1;var U=A-1;return b!==t&&(U=ht(b),U=b<0?er(A+U,0):Nr(U,A-1)),Cl(u,Ze(p,3),U,!0)}function Av(u){var p=u==null?0:u.length;return p?mr(u,1):[]}function e8(u){var p=u==null?0:u.length;return p?mr(u,ye):[]}function t8(u,p){var b=u==null?0:u.length;return b?(p=p===t?1:ht(p),mr(u,p)):[]}function n8(u){for(var p=-1,b=u==null?0:u.length,A={};++p<b;){var U=u[p];A[U[0]]=U[1]}return A}function kv(u){return u&&u.length?u[0]:t}function r8(u,p,b){var A=u==null?0:u.length;if(!A)return-1;var U=b==null?0:ht(b);return U<0&&(U=er(A+U,0)),pr(u,p,U)}function i8(u){var p=u==null?0:u.length;return p?Ri(u,0,-1):[]}var s8=gt(function(u){var p=rt(u,Pp);return p.length&&p[0]===u[0]?Ap(p):[]}),a8=gt(function(u){var p=Oi(u),b=rt(u,Pp);return p===Oi(b)?p=t:b.pop(),b.length&&b[0]===u[0]?Ap(b,Ze(p,2)):[]}),o8=gt(function(u){var p=Oi(u),b=rt(u,Pp);return p=typeof p=="function"?p:t,p&&b.pop(),b.length&&b[0]===u[0]?Ap(b,t,p):[]});function l8(u,p){return u==null?"":i_.call(u,p)}function Oi(u){var p=u==null?0:u.length;return p?u[p-1]:t}function c8(u,p,b){var A=u==null?0:u.length;if(!A)return-1;var U=A;return b!==t&&(U=ht(b),U=U<0?er(A+U,0):Nr(U,A-1)),p===p?f(u,p,U):Cl(u,Vc,U,!0)}function u8(u,p){return u&&u.length?B2(u,ht(p)):t}var d8=gt(Tv);function Tv(u,p){return u&&u.length&&p&&p.length?Ip(u,p):u}function f8(u,p,b){return u&&u.length&&p&&p.length?Ip(u,p,Ze(b,2)):u}function h8(u,p,b){return u&&u.length&&p&&p.length?Ip(u,p,t,b):u}var p8=Gs(function(u,p){var b=u==null?0:u.length,A=Ep(u,p);return W2(u,rt(p,function(U){return $s(U,b)?+U:U}).sort(Z2)),A});function m8(u,p){var b=[];if(!(u&&u.length))return b;var A=-1,U=[],$=u.length;for(p=Ze(p,3);++A<$;){var J=u[A];p(J,A,u)&&(b.push(J),U.push(A))}return W2(u,U),b}function Kp(u){return u==null?u:l_.call(u)}function g8(u,p,b){var A=u==null?0:u.length;return A?(b&&typeof b!="number"&&Mr(u,p,b)?(p=0,b=A):(p=p==null?0:ht(p),b=b===t?A:ht(b)),Ri(u,p,b)):[]}function x8(u,p){return lf(u,p)}function v8(u,p,b){return Op(u,p,Ze(b,2))}function w8(u,p){var b=u==null?0:u.length;if(b){var A=lf(u,p);if(A<b&&Ji(u[A],p))return A}return-1}function y8(u,p){return lf(u,p,!0)}function b8(u,p,b){return Op(u,p,Ze(b,2),!0)}function C8(u,p){var b=u==null?0:u.length;if(b){var A=lf(u,p,!0)-1;if(Ji(u[A],p))return A}return-1}function E8(u){return u&&u.length?q2(u):[]}function N8(u,p){return u&&u.length?q2(u,Ze(p,2)):[]}function _8(u){var p=u==null?0:u.length;return p?Ri(u,1,p):[]}function S8(u,p,b){return u&&u.length?(p=b||p===t?1:ht(p),Ri(u,0,p<0?0:p)):[]}function A8(u,p,b){var A=u==null?0:u.length;return A?(p=b||p===t?1:ht(p),p=A-p,Ri(u,p<0?0:p,A)):[]}function k8(u,p){return u&&u.length?cf(u,Ze(p,3),!1,!0):[]}function T8(u,p){return u&&u.length?cf(u,Ze(p,3)):[]}var D8=gt(function(u){return Ia(mr(u,1,Un,!0))}),I8=gt(function(u){var p=Oi(u);return Un(p)&&(p=t),Ia(mr(u,1,Un,!0),Ze(p,2))}),j8=gt(function(u){var p=Oi(u);return p=typeof p=="function"?p:t,Ia(mr(u,1,Un,!0),t,p)});function R8(u){return u&&u.length?Ia(u):[]}function O8(u,p){return u&&u.length?Ia(u,Ze(p,2)):[]}function M8(u,p){return p=typeof p=="function"?p:t,u&&u.length?Ia(u,t,p):[]}function Zp(u){if(!(u&&u.length))return[];var p=0;return u=Ti(u,function(b){if(Un(b))return p=er(b.length,p),!0}),Yc(p,function(b){return rt(u,Nl(b))})}function Dv(u,p){if(!(u&&u.length))return[];var b=Zp(u);return p==null?b:rt(b,function(A){return ir(p,t,A)})}var L8=gt(function(u,p){return Un(u)?nu(u,p):[]}),P8=gt(function(u){return Lp(Ti(u,Un))}),F8=gt(function(u){var p=Oi(u);return Un(p)&&(p=t),Lp(Ti(u,Un),Ze(p,2))}),B8=gt(function(u){var p=Oi(u);return p=typeof p=="function"?p:t,Lp(Ti(u,Un),t,p)}),U8=gt(Zp);function z8(u,p){return $2(u||[],p||[],tu)}function W8(u,p){return $2(u||[],p||[],su)}var H8=gt(function(u){var p=u.length,b=p>1?u[p-1]:t;return b=typeof b=="function"?(u.pop(),b):t,Dv(u,b)});function Iv(u){var p=Y(u);return p.__chain__=!0,p}function q8(u,p){return p(u),u}function vf(u,p){return p(u)}var V8=Gs(function(u){var p=u.length,b=p?u[0]:0,A=this.__wrapped__,U=function($){return Ep($,u)};return p>1||this.__actions__.length||!(A instanceof Nt)||!$s(b)?this.thru(U):(A=A.slice(b,+b+(p?1:0)),A.__actions__.push({func:vf,args:[U],thisArg:t}),new Ii(A,this.__chain__).thru(function($){return p&&!$.length&&$.push(t),$}))});function Y8(){return Iv(this)}function G8(){return new Ii(this.value(),this.__chain__)}function $8(){this.__values__===t&&(this.__values__=Vv(this.value()));var u=this.__index__>=this.__values__.length,p=u?t:this.__values__[this.__index__++];return{done:u,value:p}}function X8(){return this}function Q8(u){for(var p,b=this;b instanceof nf;){var A=Nv(b);A.__index__=0,A.__values__=t,p?U.__wrapped__=A:p=A;var U=A;b=b.__wrapped__}return U.__wrapped__=u,p}function K8(){var u=this.__wrapped__;if(u instanceof Nt){var p=u;return this.__actions__.length&&(p=new Nt(this)),p=p.reverse(),p.__actions__.push({func:vf,args:[Kp],thisArg:t}),new Ii(p,this.__chain__)}return this.thru(Kp)}function Z8(){return G2(this.__wrapped__,this.__actions__)}var J8=uf(function(u,p,b){Et.call(u,b)?++u[b]:Vs(u,b,1)});function eS(u,p,b){var A=ct(u)?zd:q_;return b&&Mr(u,p,b)&&(p=t),A(u,Ze(p,3))}function tS(u,p){var b=ct(u)?Ti:D2;return b(u,Ze(p,3))}var nS=iv(_v),rS=iv(Sv);function iS(u,p){return mr(wf(u,p),1)}function sS(u,p){return mr(wf(u,p),ye)}function aS(u,p,b){return b=b===t?1:ht(b),mr(wf(u,p),b)}function jv(u,p){var b=ct(u)?Gr:Da;return b(u,Ze(p,3))}function Rv(u,p){var b=ct(u)?pp:T2;return b(u,Ze(p,3))}var oS=uf(function(u,p,b){Et.call(u,b)?u[b].push(p):Vs(u,b,[p])});function lS(u,p,b,A){u=Xr(u)?u:Rl(u),b=b&&!A?ht(b):0;var U=u.length;return b<0&&(b=er(U+b,0)),Nf(u)?b<=U&&u.indexOf(p,b)>-1:!!U&&pr(u,p,b)>-1}var cS=gt(function(u,p,b){var A=-1,U=typeof p=="function",$=Xr(u)?X(u.length):[];return Da(u,function(J){$[++A]=U?ir(p,J,b):ru(J,p,b)}),$}),uS=uf(function(u,p,b){Vs(u,b,p)});function wf(u,p){var b=ct(u)?rt:L2;return b(u,Ze(p,3))}function dS(u,p,b,A){return u==null?[]:(ct(p)||(p=p==null?[]:[p]),b=A?t:b,ct(b)||(b=b==null?[]:[b]),U2(u,p,b))}var fS=uf(function(u,p,b){u[b?0:1].push(p)},function(){return[[],[]]});function hS(u,p,b){var A=ct(u)?Qi:Wd,U=arguments.length<3;return A(u,Ze(p,4),b,U,Da)}function pS(u,p,b){var A=ct(u)?Xt:Wd,U=arguments.length<3;return A(u,Ze(p,4),b,U,T2)}function mS(u,p){var b=ct(u)?Ti:D2;return b(u,Cf(Ze(p,3)))}function gS(u){var p=ct(u)?_2:l5;return p(u)}function xS(u,p,b){(b?Mr(u,p,b):p===t)?p=1:p=ht(p);var A=ct(u)?B_:c5;return A(u,p)}function vS(u){var p=ct(u)?U_:d5;return p(u)}function wS(u){if(u==null)return 0;if(Xr(u))return Nf(u)?h(u):u.length;var p=_r(u);return p==ft||p==Ce?u.size:Tp(u).length}function yS(u,p,b){var A=ct(u)?Xe:f5;return b&&Mr(u,p,b)&&(p=t),A(u,Ze(p,3))}var bS=gt(function(u,p){if(u==null)return[];var b=p.length;return b>1&&Mr(u,p[0],p[1])?p=[]:b>2&&Mr(p[0],p[1],p[2])&&(p=[p[0]]),U2(u,mr(p,1),[])}),yf=t_||function(){return Yn.Date.now()};function CS(u,p){if(typeof p!="function")throw new xn(d);return u=ht(u),function(){if(--u<1)return p.apply(this,arguments)}}function Ov(u,p,b){return p=b?t:p,p=u&&p==null?u.length:p,Ys(u,F,t,t,t,t,p)}function Mv(u,p){var b;if(typeof p!="function")throw new xn(d);return u=ht(u),function(){return--u>0&&(b=p.apply(this,arguments)),u<=1&&(p=t),b}}var Jp=gt(function(u,p,b){var A=O;if(b.length){var U=M(b,Il(Jp));A|=Q}return Ys(u,A,p,b,U)}),Lv=gt(function(u,p,b){var A=O|I;if(b.length){var U=M(b,Il(Lv));A|=Q}return Ys(p,A,u,b,U)});function Pv(u,p,b){p=b?t:p;var A=Ys(u,j,t,t,t,t,t,p);return A.placeholder=Pv.placeholder,A}function Fv(u,p,b){p=b?t:p;var A=Ys(u,q,t,t,t,t,t,p);return A.placeholder=Fv.placeholder,A}function Bv(u,p,b){var A,U,$,J,te,ae,ve=0,we=!1,Ee=!1,Me=!0;if(typeof u!="function")throw new xn(d);p=Mi(p)||0,Cn(b)&&(we=!!b.leading,Ee="maxWait"in b,$=Ee?er(Mi(b.maxWait)||0,p):$,Me="trailing"in b?!!b.trailing:Me);function Ve(zn){var es=A,Ks=U;return A=U=t,ve=zn,J=u.apply(Ks,es),J}function et(zn){return ve=zn,te=lu(yt,p),we?Ve(zn):J}function pt(zn){var es=zn-ae,Ks=zn-ve,iw=p-es;return Ee?Nr(iw,$-Ks):iw}function tt(zn){var es=zn-ae,Ks=zn-ve;return ae===t||es>=p||es<0||Ee&&Ks>=$}function yt(){var zn=yf();if(tt(zn))return kt(zn);te=lu(yt,pt(zn))}function kt(zn){return te=t,Me&&A?Ve(zn):(A=U=t,J)}function fi(){te!==t&&X2(te),ve=0,A=ae=U=te=t}function Lr(){return te===t?J:kt(yf())}function hi(){var zn=yf(),es=tt(zn);if(A=arguments,U=this,ae=zn,es){if(te===t)return et(ae);if(Ee)return X2(te),te=lu(yt,p),Ve(ae)}return te===t&&(te=lu(yt,p)),J}return hi.cancel=fi,hi.flush=Lr,hi}var ES=gt(function(u,p){return k2(u,1,p)}),NS=gt(function(u,p,b){return k2(u,Mi(p)||0,b)});function _S(u){return Ys(u,W)}function bf(u,p){if(typeof u!="function"||p!=null&&typeof p!="function")throw new xn(d);var b=function(){var A=arguments,U=p?p.apply(this,A):A[0],$=b.cache;if($.has(U))return $.get(U);var J=u.apply(this,A);return b.cache=$.set(U,J)||$,J};return b.cache=new(bf.Cache||qs),b}bf.Cache=qs;function Cf(u){if(typeof u!="function")throw new xn(d);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}function SS(u){return Mv(2,u)}var AS=h5(function(u,p){p=p.length==1&&ct(p[0])?rt(p[0],In(Ze())):rt(mr(p,1),In(Ze()));var b=p.length;return gt(function(A){for(var U=-1,$=Nr(A.length,b);++U<$;)A[U]=p[U].call(this,A[U]);return ir(u,this,A)})}),e1=gt(function(u,p){var b=M(p,Il(e1));return Ys(u,Q,t,p,b)}),Uv=gt(function(u,p){var b=M(p,Il(Uv));return Ys(u,B,t,p,b)}),kS=Gs(function(u,p){return Ys(u,V,t,t,t,p)});function TS(u,p){if(typeof u!="function")throw new xn(d);return p=p===t?p:ht(p),gt(u,p)}function DS(u,p){if(typeof u!="function")throw new xn(d);return p=p==null?0:er(ht(p),0),gt(function(b){var A=b[p],U=Ra(b,0,p);return A&&li(U,A),ir(u,this,U)})}function IS(u,p,b){var A=!0,U=!0;if(typeof u!="function")throw new xn(d);return Cn(b)&&(A="leading"in b?!!b.leading:A,U="trailing"in b?!!b.trailing:U),Bv(u,p,{leading:A,maxWait:p,trailing:U})}function jS(u){return Ov(u,1)}function RS(u,p){return e1(Fp(p),u)}function OS(){if(!arguments.length)return[];var u=arguments[0];return ct(u)?u:[u]}function MS(u){return ji(u,k)}function LS(u,p){return p=typeof p=="function"?p:t,ji(u,k,p)}function PS(u){return ji(u,E|k)}function FS(u,p){return p=typeof p=="function"?p:t,ji(u,E|k,p)}function BS(u,p){return p==null||A2(u,p,or(p))}function Ji(u,p){return u===p||u!==u&&p!==p}var US=pf(Sp),zS=pf(function(u,p){return u>=p}),Bo=R2(function(){return arguments}())?R2:function(u){return jn(u)&&Et.call(u,"callee")&&!w2.call(u,"callee")},ct=X.isArray,WS=So?In(So):Q_;function Xr(u){return u!=null&&Ef(u.length)&&!Xs(u)}function Un(u){return jn(u)&&Xr(u)}function HS(u){return u===!0||u===!1||jn(u)&&Or(u)==Qe}var Oa=r_||d1,qS=Xi?In(Xi):K_;function VS(u){return jn(u)&&u.nodeType===1&&!cu(u)}function YS(u){if(u==null)return!0;if(Xr(u)&&(ct(u)||typeof u=="string"||typeof u.splice=="function"||Oa(u)||jl(u)||Bo(u)))return!u.length;var p=_r(u);if(p==ft||p==Ce)return!u.size;if(ou(u))return!Tp(u).length;for(var b in u)if(Et.call(u,b))return!1;return!0}function GS(u,p){return iu(u,p)}function $S(u,p,b){b=typeof b=="function"?b:t;var A=b?b(u,p):t;return A===t?iu(u,p,t,b):!!A}function t1(u){if(!jn(u))return!1;var p=Or(u);return p==_t||p==sn||typeof u.message=="string"&&typeof u.name=="string"&&!cu(u)}function XS(u){return typeof u=="number"&&b2(u)}function Xs(u){if(!Cn(u))return!1;var p=Or(u);return p==Ne||p==Le||p==ot||p==lt}function zv(u){return typeof u=="number"&&u==ht(u)}function Ef(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ue}function Cn(u){var p=typeof u;return u!=null&&(p=="object"||p=="function")}function jn(u){return u!=null&&typeof u=="object"}var Wv=Bd?In(Bd):J_;function QS(u,p){return u===p||kp(u,p,Vp(p))}function KS(u,p,b){return b=typeof b=="function"?b:t,kp(u,p,Vp(p),b)}function ZS(u){return Hv(u)&&u!=+u}function JS(u){if(L5(u))throw new he(a);return O2(u)}function e6(u){return u===null}function t6(u){return u==null}function Hv(u){return typeof u=="number"||jn(u)&&Or(u)==an}function cu(u){if(!jn(u)||Or(u)!=Ct)return!1;var p=Xd(u);if(p===null)return!0;var b=Et.call(p,"constructor")&&p.constructor;return typeof b=="function"&&b instanceof b&&Ki.call(b)==KN}var n1=fe?In(fe):e5;function n6(u){return zv(u)&&u>=-ue&&u<=ue}var qv=ut?In(ut):t5;function Nf(u){return typeof u=="string"||!ct(u)&&jn(u)&&Or(u)==Fn}function di(u){return typeof u=="symbol"||jn(u)&&Or(u)==fr}var jl=Gn?In(Gn):n5;function r6(u){return u===t}function i6(u){return jn(u)&&_r(u)==Ge}function s6(u){return jn(u)&&Or(u)==Tt}var a6=pf(Dp),o6=pf(function(u,p){return u<=p});function Vv(u){if(!u)return[];if(Xr(u))return Nf(u)?m(u):$r(u);if(Qc&&u[Qc])return Do(u[Qc]());var p=_r(u),b=p==ft?wt:p==Ce?i:Rl;return b(u)}function Qs(u){if(!u)return u===0?u:0;if(u=Mi(u),u===ye||u===-ye){var p=u<0?-1:1;return p*_e}return u===u?u:0}function ht(u){var p=Qs(u),b=p%1;return p===p?b?p-b:p:0}function Yv(u){return u?Mo(ht(u),0,Oe):0}function Mi(u){if(typeof u=="number")return u;if(di(u))return Re;if(Cn(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=Cn(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=Hd(u);var b=Si.test(u);return b||lp.test(u)?Cr(u.slice(2),b?2:8):gl.test(u)?Re:+u}function Gv(u){return xs(u,Qr(u))}function l6(u){return u?Mo(ht(u),-ue,ue):u===0?u:0}function Ht(u){return u==null?"":ui(u)}var c6=Tl(function(u,p){if(ou(p)||Xr(p)){xs(p,or(p),u);return}for(var b in p)Et.call(p,b)&&tu(u,b,p[b])}),$v=Tl(function(u,p){xs(p,Qr(p),u)}),_f=Tl(function(u,p,b,A){xs(p,Qr(p),u,A)}),u6=Tl(function(u,p,b,A){xs(p,or(p),u,A)}),d6=Gs(Ep);function f6(u,p){var b=kl(u);return p==null?b:S2(b,p)}var h6=gt(function(u,p){u=qe(u);var b=-1,A=p.length,U=A>2?p[2]:t;for(U&&Mr(p[0],p[1],U)&&(A=1);++b<A;)for(var $=p[b],J=Qr($),te=-1,ae=J.length;++te<ae;){var ve=J[te],we=u[ve];(we===t||Ji(we,vn[ve])&&!Et.call(u,ve))&&(u[ve]=$[ve])}return u}),p6=gt(function(u){return u.push(t,dv),ir(Xv,t,u)});function m6(u,p){return Ws(u,Ze(p,3),gs)}function g6(u,p){return Ws(u,Ze(p,3),_p)}function x6(u,p){return u==null?u:Np(u,Ze(p,3),Qr)}function v6(u,p){return u==null?u:I2(u,Ze(p,3),Qr)}function w6(u,p){return u&&gs(u,Ze(p,3))}function y6(u,p){return u&&_p(u,Ze(p,3))}function b6(u){return u==null?[]:af(u,or(u))}function C6(u){return u==null?[]:af(u,Qr(u))}function r1(u,p,b){var A=u==null?t:Lo(u,p);return A===t?b:A}function E6(u,p){return u!=null&&pv(u,p,Y_)}function i1(u,p){return u!=null&&pv(u,p,G_)}var N6=av(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Yd.call(p)),u[p]=b},a1(Kr)),_6=av(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Yd.call(p)),Et.call(u,p)?u[p].push(b):u[p]=[b]},Ze),S6=gt(ru);function or(u){return Xr(u)?N2(u):Tp(u)}function Qr(u){return Xr(u)?N2(u,!0):r5(u)}function A6(u,p){var b={};return p=Ze(p,3),gs(u,function(A,U,$){Vs(b,p(A,U,$),A)}),b}function k6(u,p){var b={};return p=Ze(p,3),gs(u,function(A,U,$){Vs(b,U,p(A,U,$))}),b}var T6=Tl(function(u,p,b){of(u,p,b)}),Xv=Tl(function(u,p,b,A){of(u,p,b,A)}),D6=Gs(function(u,p){var b={};if(u==null)return b;var A=!1;p=rt(p,function($){return $=ja($,u),A||(A=$.length>1),$}),xs(u,Hp(u),b),A&&(b=ji(b,E|_|k,N5));for(var U=p.length;U--;)Mp(b,p[U]);return b});function I6(u,p){return Qv(u,Cf(Ze(p)))}var j6=Gs(function(u,p){return u==null?{}:s5(u,p)});function Qv(u,p){if(u==null)return{};var b=rt(Hp(u),function(A){return[A]});return p=Ze(p),z2(u,b,function(A,U){return p(A,U[0])})}function R6(u,p,b){p=ja(p,u);var A=-1,U=p.length;for(U||(U=1,u=t);++A<U;){var $=u==null?t:u[vs(p[A])];$===t&&(A=U,$=b),u=Xs($)?$.call(u):$}return u}function O6(u,p,b){return u==null?u:su(u,p,b)}function M6(u,p,b,A){return A=typeof A=="function"?A:t,u==null?u:su(u,p,b,A)}var Kv=cv(or),Zv=cv(Qr);function L6(u,p,b){var A=ct(u),U=A||Oa(u)||jl(u);if(p=Ze(p,4),b==null){var $=u&&u.constructor;U?b=A?new $:[]:Cn(u)?b=Xs($)?kl(Xd(u)):{}:b={}}return(U?Gr:gs)(u,function(J,te,ae){return p(b,J,te,ae)}),b}function P6(u,p){return u==null?!0:Mp(u,p)}function F6(u,p,b){return u==null?u:Y2(u,p,Fp(b))}function B6(u,p,b,A){return A=typeof A=="function"?A:t,u==null?u:Y2(u,p,Fp(b),A)}function Rl(u){return u==null?[]:Aa(u,or(u))}function U6(u){return u==null?[]:Aa(u,Qr(u))}function z6(u,p,b){return b===t&&(b=p,p=t),b!==t&&(b=Mi(b),b=b===b?b:0),p!==t&&(p=Mi(p),p=p===p?p:0),Mo(Mi(u),p,b)}function W6(u,p,b){return p=Qs(p),b===t?(b=p,p=0):b=Qs(b),u=Mi(u),$_(u,p,b)}function H6(u,p,b){if(b&&typeof b!="boolean"&&Mr(u,p,b)&&(p=b=t),b===t&&(typeof p=="boolean"?(b=p,p=t):typeof u=="boolean"&&(b=u,u=t)),u===t&&p===t?(u=0,p=1):(u=Qs(u),p===t?(p=u,u=0):p=Qs(p)),u>p){var A=u;u=p,p=A}if(b||u%1||p%1){var U=C2();return Nr(u+U*(p-u+_o("1e-"+((U+"").length-1))),p)}return jp(u,p)}var q6=Dl(function(u,p,b){return p=p.toLowerCase(),u+(b?Jv(p):p)});function Jv(u){return s1(Ht(u).toLowerCase())}function ew(u){return u=Ht(u),u&&u.replace(hr,$c).replace(fp,"")}function V6(u,p,b){u=Ht(u),p=ui(p);var A=u.length;b=b===t?A:Mo(ht(b),0,A);var U=b;return b-=p.length,b>=0&&u.slice(b,U)==p}function Y6(u){return u=Ht(u),u&&Dd.test(u)?u.replace(ps,xp):u}function G6(u){return u=Ht(u),u&&Ls.test(u)?u.replace(Mc,"\\$&"):u}var $6=Dl(function(u,p,b){return u+(b?"-":"")+p.toLowerCase()}),X6=Dl(function(u,p,b){return u+(b?" ":"")+p.toLowerCase()}),Q6=rv("toLowerCase");function K6(u,p,b){u=Ht(u),p=ht(p);var A=p?h(u):0;if(!p||A>=p)return u;var U=(p-A)/2;return hf(Jd(U),b)+u+hf(Zd(U),b)}function Z6(u,p,b){u=Ht(u),p=ht(p);var A=p?h(u):0;return p&&A<p?u+hf(p-A,b):u}function J6(u,p,b){u=Ht(u),p=ht(p);var A=p?h(u):0;return p&&A<p?hf(p-A,b)+u:u}function eA(u,p,b){return b||p==null?p=0:p&&(p=+p),o_(Ht(u).replace(wo,""),p||0)}function tA(u,p,b){return(b?Mr(u,p,b):p===t)?p=1:p=ht(p),Rp(Ht(u),p)}function nA(){var u=arguments,p=Ht(u[0]);return u.length<3?p:p.replace(u[1],u[2])}var rA=Dl(function(u,p,b){return u+(b?"_":"")+p.toLowerCase()});function iA(u,p,b){return b&&typeof b!="number"&&Mr(u,p,b)&&(p=b=t),b=b===t?Oe:b>>>0,b?(u=Ht(u),u&&(typeof p=="string"||p!=null&&!n1(p))&&(p=ui(p),!p&&ka(u))?Ra(m(u),0,b):u.split(p,b)):[]}var sA=Dl(function(u,p,b){return u+(b?" ":"")+s1(p)});function aA(u,p,b){return u=Ht(u),b=b==null?0:Mo(ht(b),0,u.length),p=ui(p),u.slice(b,b+p.length)==p}function oA(u,p,b){var A=Y.templateSettings;b&&Mr(u,p,b)&&(p=t),u=Ht(u),p=_f({},p,A,uv);var U=_f({},p.imports,A.imports,uv),$=or(U),J=Aa(U,$),te,ae,ve=0,we=p.interpolate||Gt,Ee="__p += '",Me=st((p.escape||Gt).source+"|"+we.source+"|"+(we===Qn?Ea:Gt).source+"|"+(p.evaluate||Gt).source+"|$","g"),Ve="//# sourceURL="+(Et.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Bs+"]")+`
`;u.replace(Me,function(tt,yt,kt,fi,Lr,hi){return kt||(kt=fi),Ee+=u.slice(ve,hi).replace(Id,qd),yt&&(te=!0,Ee+=`' +
__e(`+yt+`) +
'`),Lr&&(ae=!0,Ee+=`';
`+Lr+`;
__p += '`),kt&&(Ee+=`' +
((__t = (`+kt+`)) == null ? '' : __t) +
'`),ve=hi+tt.length,tt}),Ee+=`';
`;var et=Et.call(p,"variable")&&p.variable;if(!et)Ee=`with (obj) {
`+Ee+`
}
`;else if(Lc.test(et))throw new he(g);Ee=(ae?Ee.replace($i,""):Ee).replace(vo,"$1").replace(kd,"$1;"),Ee="function("+(et||"obj")+`) {
`+(et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(te?", __e = _.escape":"")+(ae?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ee+`return __p
}`;var pt=nw(function(){return me($,Ve+"return "+Ee).apply(t,J)});if(pt.source=Ee,t1(pt))throw pt;return pt}function lA(u){return Ht(u).toLowerCase()}function cA(u){return Ht(u).toUpperCase()}function uA(u,p,b){if(u=Ht(u),u&&(b||p===t))return Hd(u);if(!u||!(p=ui(p)))return u;var A=m(u),U=m(p),$=Gc(A,U),J=ci(A,U)+1;return Ra(A,$,J).join("")}function dA(u,p,b){if(u=Ht(u),u&&(b||p===t))return u.slice(0,w(u)+1);if(!u||!(p=ui(p)))return u;var A=m(u),U=ci(A,m(p))+1;return Ra(A,0,U).join("")}function fA(u,p,b){if(u=Ht(u),u&&(b||p===t))return u.replace(wo,"");if(!u||!(p=ui(p)))return u;var A=m(u),U=Gc(A,m(p));return Ra(A,U).join("")}function hA(u,p){var b=se,A=le;if(Cn(p)){var U="separator"in p?p.separator:U;b="length"in p?ht(p.length):b,A="omission"in p?ui(p.omission):A}u=Ht(u);var $=u.length;if(ka(u)){var J=m(u);$=J.length}if(b>=$)return u;var te=b-h(A);if(te<1)return A;var ae=J?Ra(J,0,te).join(""):u.slice(0,te);if(U===t)return ae+A;if(J&&(te+=ae.length-te),n1(U)){if(u.slice(te).search(U)){var ve,we=ae;for(U.global||(U=st(U.source,Ht(yo.exec(U))+"g")),U.lastIndex=0;ve=U.exec(we);)var Ee=ve.index;ae=ae.slice(0,Ee===t?te:Ee)}}else if(u.indexOf(ui(U),te)!=te){var Me=ae.lastIndexOf(U);Me>-1&&(ae=ae.slice(0,Me))}return ae+A}function pA(u){return u=Ht(u),u&&Td.test(u)?u.replace(Dt,C):u}var mA=Dl(function(u,p,b){return u+(b?" ":"")+p.toUpperCase()}),s1=rv("toUpperCase");function tw(u,p,b){return u=Ht(u),p=b?t:p,p===t?Xc(u)?P(u):zs(u):u.match(p)||[]}var nw=gt(function(u,p){try{return ir(u,t,p)}catch(b){return t1(b)?b:new he(b)}}),gA=Gs(function(u,p){return Gr(p,function(b){b=vs(b),Vs(u,b,Jp(u[b],u))}),u});function xA(u){var p=u==null?0:u.length,b=Ze();return u=p?rt(u,function(A){if(typeof A[1]!="function")throw new xn(d);return[b(A[0]),A[1]]}):[],gt(function(A){for(var U=-1;++U<p;){var $=u[U];if(ir($[0],this,A))return ir($[1],this,A)}})}function vA(u){return H_(ji(u,E))}function a1(u){return function(){return u}}function wA(u,p){return u==null||u!==u?p:u}var yA=sv(),bA=sv(!0);function Kr(u){return u}function o1(u){return M2(typeof u=="function"?u:ji(u,E))}function CA(u){return P2(ji(u,E))}function EA(u,p){return F2(u,ji(p,E))}var NA=gt(function(u,p){return function(b){return ru(b,u,p)}}),_A=gt(function(u,p){return function(b){return ru(u,b,p)}});function l1(u,p,b){var A=or(p),U=af(p,A);b==null&&!(Cn(p)&&(U.length||!A.length))&&(b=p,p=u,u=this,U=af(p,or(p)));var $=!(Cn(b)&&"chain"in b)||!!b.chain,J=Xs(u);return Gr(U,function(te){var ae=p[te];u[te]=ae,J&&(u.prototype[te]=function(){var ve=this.__chain__;if($||ve){var we=u(this.__wrapped__),Ee=we.__actions__=$r(this.__actions__);return Ee.push({func:ae,args:arguments,thisArg:u}),we.__chain__=ve,we}return ae.apply(u,li([this.value()],arguments))})}),u}function SA(){return Yn._===this&&(Yn._=ZN),this}function c1(){}function AA(u){return u=ht(u),gt(function(p){return B2(p,u)})}var kA=Up(rt),TA=Up(zd),DA=Up(Xe);function rw(u){return Gp(u)?Nl(vs(u)):a5(u)}function IA(u){return function(p){return u==null?t:Lo(u,p)}}var jA=ov(),RA=ov(!0);function u1(){return[]}function d1(){return!1}function OA(){return{}}function MA(){return""}function LA(){return!0}function PA(u,p){if(u=ht(u),u<1||u>ue)return[];var b=Oe,A=Nr(u,Oe);p=Ze(p),u-=Oe;for(var U=Yc(A,p);++b<u;)p(b);return U}function FA(u){return ct(u)?rt(u,vs):di(u)?[u]:$r(Ev(Ht(u)))}function BA(u){var p=++vp;return Ht(u)+p}var UA=ff(function(u,p){return u+p},0),zA=zp("ceil"),WA=ff(function(u,p){return u/p},1),HA=zp("floor");function qA(u){return u&&u.length?sf(u,Kr,Sp):t}function VA(u,p){return u&&u.length?sf(u,Ze(p,2),Sp):t}function YA(u){return El(u,Kr)}function GA(u,p){return El(u,Ze(p,2))}function $A(u){return u&&u.length?sf(u,Kr,Dp):t}function XA(u,p){return u&&u.length?sf(u,Ze(p,2),Dp):t}var QA=ff(function(u,p){return u*p},1),KA=zp("round"),ZA=ff(function(u,p){return u-p},0);function JA(u){return u&&u.length?ko(u,Kr):0}function ek(u,p){return u&&u.length?ko(u,Ze(p,2)):0}return Y.after=CS,Y.ary=Ov,Y.assign=c6,Y.assignIn=$v,Y.assignInWith=_f,Y.assignWith=u6,Y.at=d6,Y.before=Mv,Y.bind=Jp,Y.bindAll=gA,Y.bindKey=Lv,Y.castArray=OS,Y.chain=Iv,Y.chunk=H5,Y.compact=q5,Y.concat=V5,Y.cond=xA,Y.conforms=vA,Y.constant=a1,Y.countBy=J8,Y.create=f6,Y.curry=Pv,Y.curryRight=Fv,Y.debounce=Bv,Y.defaults=h6,Y.defaultsDeep=p6,Y.defer=ES,Y.delay=NS,Y.difference=Y5,Y.differenceBy=G5,Y.differenceWith=$5,Y.drop=X5,Y.dropRight=Q5,Y.dropRightWhile=K5,Y.dropWhile=Z5,Y.fill=J5,Y.filter=tS,Y.flatMap=iS,Y.flatMapDeep=sS,Y.flatMapDepth=aS,Y.flatten=Av,Y.flattenDeep=e8,Y.flattenDepth=t8,Y.flip=_S,Y.flow=yA,Y.flowRight=bA,Y.fromPairs=n8,Y.functions=b6,Y.functionsIn=C6,Y.groupBy=oS,Y.initial=i8,Y.intersection=s8,Y.intersectionBy=a8,Y.intersectionWith=o8,Y.invert=N6,Y.invertBy=_6,Y.invokeMap=cS,Y.iteratee=o1,Y.keyBy=uS,Y.keys=or,Y.keysIn=Qr,Y.map=wf,Y.mapKeys=A6,Y.mapValues=k6,Y.matches=CA,Y.matchesProperty=EA,Y.memoize=bf,Y.merge=T6,Y.mergeWith=Xv,Y.method=NA,Y.methodOf=_A,Y.mixin=l1,Y.negate=Cf,Y.nthArg=AA,Y.omit=D6,Y.omitBy=I6,Y.once=SS,Y.orderBy=dS,Y.over=kA,Y.overArgs=AS,Y.overEvery=TA,Y.overSome=DA,Y.partial=e1,Y.partialRight=Uv,Y.partition=fS,Y.pick=j6,Y.pickBy=Qv,Y.property=rw,Y.propertyOf=IA,Y.pull=d8,Y.pullAll=Tv,Y.pullAllBy=f8,Y.pullAllWith=h8,Y.pullAt=p8,Y.range=jA,Y.rangeRight=RA,Y.rearg=kS,Y.reject=mS,Y.remove=m8,Y.rest=TS,Y.reverse=Kp,Y.sampleSize=xS,Y.set=O6,Y.setWith=M6,Y.shuffle=vS,Y.slice=g8,Y.sortBy=bS,Y.sortedUniq=E8,Y.sortedUniqBy=N8,Y.split=iA,Y.spread=DS,Y.tail=_8,Y.take=S8,Y.takeRight=A8,Y.takeRightWhile=k8,Y.takeWhile=T8,Y.tap=q8,Y.throttle=IS,Y.thru=vf,Y.toArray=Vv,Y.toPairs=Kv,Y.toPairsIn=Zv,Y.toPath=FA,Y.toPlainObject=Gv,Y.transform=L6,Y.unary=jS,Y.union=D8,Y.unionBy=I8,Y.unionWith=j8,Y.uniq=R8,Y.uniqBy=O8,Y.uniqWith=M8,Y.unset=P6,Y.unzip=Zp,Y.unzipWith=Dv,Y.update=F6,Y.updateWith=B6,Y.values=Rl,Y.valuesIn=U6,Y.without=L8,Y.words=tw,Y.wrap=RS,Y.xor=P8,Y.xorBy=F8,Y.xorWith=B8,Y.zip=U8,Y.zipObject=z8,Y.zipObjectDeep=W8,Y.zipWith=H8,Y.entries=Kv,Y.entriesIn=Zv,Y.extend=$v,Y.extendWith=_f,l1(Y,Y),Y.add=UA,Y.attempt=nw,Y.camelCase=q6,Y.capitalize=Jv,Y.ceil=zA,Y.clamp=z6,Y.clone=MS,Y.cloneDeep=PS,Y.cloneDeepWith=FS,Y.cloneWith=LS,Y.conformsTo=BS,Y.deburr=ew,Y.defaultTo=wA,Y.divide=WA,Y.endsWith=V6,Y.eq=Ji,Y.escape=Y6,Y.escapeRegExp=G6,Y.every=eS,Y.find=nS,Y.findIndex=_v,Y.findKey=m6,Y.findLast=rS,Y.findLastIndex=Sv,Y.findLastKey=g6,Y.floor=HA,Y.forEach=jv,Y.forEachRight=Rv,Y.forIn=x6,Y.forInRight=v6,Y.forOwn=w6,Y.forOwnRight=y6,Y.get=r1,Y.gt=US,Y.gte=zS,Y.has=E6,Y.hasIn=i1,Y.head=kv,Y.identity=Kr,Y.includes=lS,Y.indexOf=r8,Y.inRange=W6,Y.invoke=S6,Y.isArguments=Bo,Y.isArray=ct,Y.isArrayBuffer=WS,Y.isArrayLike=Xr,Y.isArrayLikeObject=Un,Y.isBoolean=HS,Y.isBuffer=Oa,Y.isDate=qS,Y.isElement=VS,Y.isEmpty=YS,Y.isEqual=GS,Y.isEqualWith=$S,Y.isError=t1,Y.isFinite=XS,Y.isFunction=Xs,Y.isInteger=zv,Y.isLength=Ef,Y.isMap=Wv,Y.isMatch=QS,Y.isMatchWith=KS,Y.isNaN=ZS,Y.isNative=JS,Y.isNil=t6,Y.isNull=e6,Y.isNumber=Hv,Y.isObject=Cn,Y.isObjectLike=jn,Y.isPlainObject=cu,Y.isRegExp=n1,Y.isSafeInteger=n6,Y.isSet=qv,Y.isString=Nf,Y.isSymbol=di,Y.isTypedArray=jl,Y.isUndefined=r6,Y.isWeakMap=i6,Y.isWeakSet=s6,Y.join=l8,Y.kebabCase=$6,Y.last=Oi,Y.lastIndexOf=c8,Y.lowerCase=X6,Y.lowerFirst=Q6,Y.lt=a6,Y.lte=o6,Y.max=qA,Y.maxBy=VA,Y.mean=YA,Y.meanBy=GA,Y.min=$A,Y.minBy=XA,Y.stubArray=u1,Y.stubFalse=d1,Y.stubObject=OA,Y.stubString=MA,Y.stubTrue=LA,Y.multiply=QA,Y.nth=u8,Y.noConflict=SA,Y.noop=c1,Y.now=yf,Y.pad=K6,Y.padEnd=Z6,Y.padStart=J6,Y.parseInt=eA,Y.random=H6,Y.reduce=hS,Y.reduceRight=pS,Y.repeat=tA,Y.replace=nA,Y.result=R6,Y.round=KA,Y.runInContext=z,Y.sample=gS,Y.size=wS,Y.snakeCase=rA,Y.some=yS,Y.sortedIndex=x8,Y.sortedIndexBy=v8,Y.sortedIndexOf=w8,Y.sortedLastIndex=y8,Y.sortedLastIndexBy=b8,Y.sortedLastIndexOf=C8,Y.startCase=sA,Y.startsWith=aA,Y.subtract=ZA,Y.sum=JA,Y.sumBy=ek,Y.template=oA,Y.times=PA,Y.toFinite=Qs,Y.toInteger=ht,Y.toLength=Yv,Y.toLower=lA,Y.toNumber=Mi,Y.toSafeInteger=l6,Y.toString=Ht,Y.toUpper=cA,Y.trim=uA,Y.trimEnd=dA,Y.trimStart=fA,Y.truncate=hA,Y.unescape=pA,Y.uniqueId=BA,Y.upperCase=mA,Y.upperFirst=s1,Y.each=jv,Y.eachRight=Rv,Y.first=kv,l1(Y,function(){var u={};return gs(Y,function(p,b){Et.call(Y.prototype,b)||(u[b]=p)}),u}(),{chain:!1}),Y.VERSION=r,Gr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Y[u].placeholder=Y}),Gr(["drop","take"],function(u,p){Nt.prototype[u]=function(b){b=b===t?1:er(ht(b),0);var A=this.__filtered__&&!p?new Nt(this):this.clone();return A.__filtered__?A.__takeCount__=Nr(b,A.__takeCount__):A.__views__.push({size:Nr(b,Oe),type:u+(A.__dir__<0?"Right":"")}),A},Nt.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),Gr(["filter","map","takeWhile"],function(u,p){var b=p+1,A=b==xe||b==Se;Nt.prototype[u]=function(U){var $=this.clone();return $.__iteratees__.push({iteratee:Ze(U,3),type:b}),$.__filtered__=$.__filtered__||A,$}}),Gr(["head","last"],function(u,p){var b="take"+(p?"Right":"");Nt.prototype[u]=function(){return this[b](1).value()[0]}}),Gr(["initial","tail"],function(u,p){var b="drop"+(p?"":"Right");Nt.prototype[u]=function(){return this.__filtered__?new Nt(this):this[b](1)}}),Nt.prototype.compact=function(){return this.filter(Kr)},Nt.prototype.find=function(u){return this.filter(u).head()},Nt.prototype.findLast=function(u){return this.reverse().find(u)},Nt.prototype.invokeMap=gt(function(u,p){return typeof u=="function"?new Nt(this):this.map(function(b){return ru(b,u,p)})}),Nt.prototype.reject=function(u){return this.filter(Cf(Ze(u)))},Nt.prototype.slice=function(u,p){u=ht(u);var b=this;return b.__filtered__&&(u>0||p<0)?new Nt(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),p!==t&&(p=ht(p),b=p<0?b.dropRight(-p):b.take(p-u)),b)},Nt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Nt.prototype.toArray=function(){return this.take(Oe)},gs(Nt.prototype,function(u,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),A=/^(?:head|last)$/.test(p),U=Y[A?"take"+(p=="last"?"Right":""):p],$=A||/^find/.test(p);U&&(Y.prototype[p]=function(){var J=this.__wrapped__,te=A?[1]:arguments,ae=J instanceof Nt,ve=te[0],we=ae||ct(J),Ee=function(yt){var kt=U.apply(Y,li([yt],te));return A&&Me?kt[0]:kt};we&&b&&typeof ve=="function"&&ve.length!=1&&(ae=we=!1);var Me=this.__chain__,Ve=!!this.__actions__.length,et=$&&!Me,pt=ae&&!Ve;if(!$&&we){J=pt?J:new Nt(this);var tt=u.apply(J,te);return tt.__actions__.push({func:vf,args:[Ee],thisArg:t}),new Ii(tt,Me)}return et&&pt?u.apply(this,te):(tt=this.thru(Ee),et?A?tt.value()[0]:tt.value():tt)})}),Gr(["pop","push","shift","sort","splice","unshift"],function(u){var p=Jn[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",A=/^(?:pop|shift)$/.test(u);Y.prototype[u]=function(){var U=arguments;if(A&&!this.__chain__){var $=this.value();return p.apply(ct($)?$:[],U)}return this[b](function(J){return p.apply(ct(J)?J:[],U)})}}),gs(Nt.prototype,function(u,p){var b=Y[p];if(b){var A=b.name+"";Et.call(Al,A)||(Al[A]=[]),Al[A].push({name:p,func:b})}}),Al[df(t,I).name]=[{name:"wrapper",func:t}],Nt.prototype.clone=p_,Nt.prototype.reverse=m_,Nt.prototype.value=g_,Y.prototype.at=V8,Y.prototype.chain=Y8,Y.prototype.commit=G8,Y.prototype.next=$8,Y.prototype.plant=Q8,Y.prototype.reverse=K8,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=Z8,Y.prototype.first=Y.prototype.head,Qc&&(Y.prototype[Qc]=X8),Y},Z=H();Us?((Us.exports=Z)._=Z,Hc._=Z):Yn._=Z}).call(_s)})(gh,gh.exports);var pF=gh.exports;const mF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),gF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})}),xF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),vF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),wF=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),c.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),yF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),Z1=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),zb=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),bF=({equipmentData:e,onFilterChange:n,currentFilters:t,isLoading:r})=>{const a=(()=>{if(!e||e.length===0)return{status:{},categories:{},types:{},locations:{},brands:{},models:{}};const _={status:{},categories:{},types:{},locations:{},brands:{},models:{}};return e.forEach(k=>{const S=k.status||"unknown";_.status[S]=(_.status[S]||0)+1;const R=k.category||"Uncategorized";_.categories[R]=(_.categories[R]||0)+1;const O=k.type||"Unknown";_.types[O]=(_.types[O]||0)+1;const I=k.location||"No Location";_.locations[I]=(_.locations[I]||0)+1;const D=k.brand||"Unknown";_.brands[D]=(_.brands[D]||0)+1;const j=k.model||"Unknown";_.models[j]=(_.models[j]||0)+1}),_})(),d=_=>{switch(_){case"available":return"text-green-700 bg-green-100 border-green-200";case"in-use":return"text-yellow-700 bg-yellow-100 border-yellow-200";case"maintenance":return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},g=(_,k)=>{switch(_){case"status":return t.status===k;case"category":return t.category===k;case"type":return t.type===k;case"location":return t.location===k;case"brand":return t.brand===k;case"model":return t.model===k;default:return!1}},v=(_,k)=>{const S={};g(_,k)?S[_]="":S[_]=k,n(S)},x=(_,k,S,R)=>{const O=Object.entries(k).sort((I,D)=>D[1]-I[1]);return O.length===0?null:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[c.jsx("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200",children:c.jsxs("h3",{className:"text-sm font-semibold text-slate-800 flex items-center gap-2",children:[R,_]})}),c.jsx("div",{className:"divide-y divide-slate-100",children:O.map(([I,D])=>{const j=g(S,I);return c.jsx("button",{onClick:()=>v(S,I),className:`w-full px-4 py-3 text-left hover:bg-slate-50 transition-colors ${j?"bg-blue-50 border-l-4 border-blue-500":""}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[S==="status"&&c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${d(I)}`,children:I}),S!=="status"&&c.jsx("span",{className:"text-sm font-medium text-slate-800 capitalize",children:I})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`text-sm font-semibold ${j?"text-blue-700":"text-slate-600"}`,children:D}),j&&c.jsx("svg",{className:"h-4 w-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})]})},I)})})]})};if(r)return c.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(_=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-3"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-3 bg-slate-200 rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2"}),c.jsx("div",{className:"h-3 bg-slate-200 rounded w-2/3"})]})]})},_))});(()=>!e||e.length===0?[]:e.filter(_=>!(t.status&&_.status!==t.status||t.category&&_.category!==t.category||t.type&&_.type!==t.type||t.location&&_.location!==t.location||t.brand&&_.brand!==t.brand||t.model&&_.model!==t.model||t.search&&!`${_.brand} ${_.model} ${_.serial_number} ${_.type} ${_.category}`.toLowerCase().includes(t.search.toLowerCase()))))();const E=Object.values(t).some(_=>_&&(typeof _=="string"?_.trim()!=="":!0));return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-lg font-semibold text-blue-800 mb-2 flex items-center gap-2",children:[c.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filter Summary View"]}),c.jsx("p",{className:"text-sm text-blue-700",children:"Click on any item below to filter the equipment list. Active filters are highlighted."})]}),E&&c.jsxs("button",{onClick:()=>n({status:"",category:"",type:"",location:"",brand:"",model:"",search:"",dateRange:{startDate:null,endDate:null}}),className:"px-4 py-2 bg-white border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 transition-colors flex items-center gap-2 text-sm font-medium",children:[c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear All Filters"]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[x("Status",a.status,"status",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})),x("Categories",a.categories,"category",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})),x("Types",a.types,"type",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.99 1.99 0 013 12V7a4 4 0 014-4z"})})),x("Locations",a.locations,"location",c.jsxs("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})),x("Brands",a.brands,"brand",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})),x("Models",a.models,"model",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v6a2 2 0 002 2h2m0-8h2m-2 0V3m0 2v2m2-2h2a2 2 0 012 2v6a2 2 0 01-2 2h-2m0 0v2a2 2 0 01-2 2H9a2 2 0 01-2-2v-2m2 0h2"})}))]})]})},CF=({equipmentData:e,onFilterChange:n,currentFilters:t,isLoading:r})=>{const a=(()=>{if(!e||e.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const v={total:e.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},x=new Date;return x.setDate(x.getDate()-7),e.forEach(y=>{y.status==="available"?v.available++:y.status==="in-use"?v.inUse++:y.status==="maintenance"&&v.maintenance++;const E=y.category||"Uncategorized";v.categories[E]=(v.categories[E]||0)+1;const _=y.type||"Unknown";v.types[_]=(v.types[_]||0)+1;const k=y.location||"No Location";v.locations[k]=(v.locations[k]||0)+1;const S=y.brand||"Unknown";v.brands[S]=(v.brands[S]||0)+1,new Date(y.created_at)>x&&v.recentlyAdded++}),v})(),d=[{title:"Total Equipment",value:a.total,icon:c.jsx(zb,{}),color:"blue",filter:{status:""},description:"All equipment in system"},{title:"Available",value:a.available,icon:c.jsx(Z1,{}),color:"green",filter:{status:"available"},description:"Ready for use"},{title:"In Use",value:a.inUse,icon:c.jsx(Z1,{}),color:"yellow",filter:{status:"in-use"},description:"Currently deployed"},{title:"Maintenance",value:a.maintenance,icon:c.jsx(Z1,{}),color:"red",filter:{status:"maintenance"},description:"Under repair"}],g=(v,x=!1)=>{const y={blue:{bg:x?"bg-blue-100 border-blue-500":"bg-blue-50 hover:bg-blue-100",text:"text-blue-700",border:"border-l-4 border-blue-500",icon:"text-blue-600"},green:{bg:x?"bg-green-100 border-green-500":"bg-green-50 hover:bg-green-100",text:"text-green-700",border:"border-l-4 border-green-500",icon:"text-green-600"},yellow:{bg:x?"bg-yellow-100 border-yellow-500":"bg-yellow-50 hover:bg-yellow-100",text:"text-yellow-700",border:"border-l-4 border-yellow-500",icon:"text-yellow-600"},red:{bg:x?"bg-red-100 border-red-500":"bg-red-50 hover:bg-red-100",text:"text-red-700",border:"border-l-4 border-red-500",icon:"text-red-600"}};return y[v]||y.blue};return c.jsxs("div",{className:"space-y-6 mb-6",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[c.jsx(zb,{}),"Equipment Analytics"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map((v,x)=>{const y=t.status===v.filter.status,E=g(v.color,y);return c.jsx("button",{onClick:()=>n(v.filter),className:`${E.bg} ${E.border} p-4 rounded-lg transition-all duration-200 hover:shadow-md cursor-pointer text-left group ${y?"ring-2 ring-offset-2 ring-blue-500":""}`,title:`Filter by ${v.title.toLowerCase()}: ${v.description}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:`text-sm font-medium ${E.text} mb-1`,children:v.title}),c.jsx("p",{className:`text-2xl font-bold ${E.text}`,children:r?"...":v.value.toLocaleString()}),c.jsx("p",{className:`text-xs ${E.text} opacity-75 mt-1`,children:v.description})]}),c.jsx("div",{className:`${E.icon} group-hover:scale-110 transition-transform`,children:v.icon})]})},x)})})]}),c.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-4",children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.brands).length}),c.jsx("p",{className:"text-sm text-primary-600",children:"Brands"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.types).length}),c.jsx("p",{className:"text-sm text-primary-600",children:"Types"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.locations).length}),c.jsx("p",{className:"text-sm text-primary-600",children:"Locations"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-green-700",children:a.recentlyAdded}),c.jsx("p",{className:"text-sm text-green-600",children:"Added This Week"})]})]})})]})},EF=({equipment:e,canEdit:n,searchTerm:t})=>{const[r,s]=L.useState(!1);let a=null;if(e.reference_image_id)a=od(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const v=e.files.find(x=>x.file_type==="image");v&&(a=od(v.id,!0))}const d=v=>{switch(v){case"available":return c.jsx(Ga,{variant:"success",children:v});case"in-use":return c.jsx(Ga,{variant:"info",children:v});case"maintenance":return c.jsx(Ga,{variant:"warning",children:v});default:return c.jsx(Ga,{children:v})}},g=(v,x)=>{if(!x||!v)return v;const y=new RegExp(`(${x})`,"gi");return v.split(y).map((_,k)=>y.test(_)?c.jsx("span",{className:"bg-yellow-200 font-medium",children:_},k):_)};return c.jsxs(Ot,{className:"h-full transition-all duration-300 hover:shadow-lg hover:scale-[1.02] relative",children:[c.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[a?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:c.jsx("img",{src:a,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):c.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:c.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})}),r&&c.jsxs("div",{className:"absolute inset-0 bg-slate-900 bg-opacity-80 p-4 text-white overflow-y-auto",children:[c.jsxs("h4",{className:"font-medium",children:[e.brand," ",e.model]}),c.jsx("p",{className:"text-sm mt-1",children:e.description||"No description available"}),c.jsxs("p",{className:"text-sm mt-2",children:["Serial: ",e.serial_number]}),c.jsxs("p",{className:"text-sm",children:["Location: ",e.location||"Not specified"]})]})]}),c.jsxs(Ot.Body,{children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&c.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),d(e.status)]}),c.jsx("h2",{className:"text-lg font-semibold mb-1",children:t?c.jsxs(c.Fragment,{children:[g(e.brand,t)," ",g(e.model,t)]}):`${e.brand} ${e.model}`}),c.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",t?g(e.serial_number,t):e.serial_number]}),c.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[c.jsxs(Br,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[c.jsx(wF,{})," View"]}),n&&c.jsxs(Br,{to:`/equipment/${e.id}/edit`,className:"text-slate-600 hover:text-slate-800 flex items-center gap-1",children:[c.jsx(vF,{})," Edit"]})]})]})]})},NF=()=>c.jsxs("div",{className:"bg-white rounded-lg shadow-soft overflow-hidden h-full animate-pulse",children:[c.jsx("div",{className:"h-40 bg-slate-200"}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"})]}),c.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2 mb-4"}),c.jsxs("div",{className:"border-t border-slate-100 pt-2 flex justify-between",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]})]}),_F=({search:e,onApply:n,onDelete:t})=>c.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[c.jsx("button",{onClick:()=>n(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),c.jsx("button",{onClick:()=>t(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:c.jsx(xF,{className:"w-4 h-4"})})]}),Wb=()=>{var Qe,kn,sn,_t;const{user:e,canEditEquipment:n}=ur(),t=rr(),r=L.useRef(null),[s,a]=L.useState({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[d,g]=L.useState(""),[v,x]=L.useState(!1),[y,E]=L.useState(!1),[_,k]=L.useState("list"),[S,R]=L.useState("updated_at"),[O,I]=L.useState("desc"),[D,j]=L.useState(""),[q,Q]=L.useState(!1),{data:B,fetchNextPage:F,hasNextPage:V,isFetchingNextPage:W,isLoading:se,isError:le,error:ie}=YC(["equipment",s,S,O],async({pageParam:Ne=1})=>{const Le={page:Ne,limit:20,...s,sortBy:S,sortOrder:O};return s.dateRange&&s.dateRange.startDate&&s.dateRange.endDate&&(Le.startDate=s.dateRange.startDate.toISOString(),Le.endDate=s.dateRange.endDate.toISOString()),Fu(Le)},{getNextPageParam:Ne=>{if(Ne.page<Ne.totalPages)return Ne.page+1},keepPreviousData:!0}),{data:ce,isLoading:xe}=Lt(["equipment-suggestions",d],()=>Fu({search:d,limit:5}),{enabled:!!d&&d.length>2,keepPreviousData:!0}),{data:re}=Lt(["saved-searches"],F9,{enabled:n()}),{data:Se=[]}=Lt({queryKey:["equipmentTypes"],queryFn:ya}),{data:ye=[]}=Lt({queryKey:["categories"],queryFn:jc}),{data:ue}=Lt(["equipment-analytics"],()=>Fu({limit:1e4}),{keepPreviousData:!0}),_e=L.useCallback(pF.debounce(Ne=>{g(Ne)},300),[]),Re=Ne=>{const Le=Ne.target.value;a(ft=>({...ft,search:Le})),_e(Le),Le.length>2?x(!0):x(!1)},Oe=Ne=>{if(Ne&&Ne.target){const{name:Le,value:ft}=Ne.target;a(an=>({...an,[Le]:ft}))}else a(Le=>({...Le,...Ne,dateRange:Le.dateRange||{startDate:null,endDate:null}}))},Je=Ne=>{const[Le,ft]=Ne;a(an=>({...an,dateRange:{startDate:Le,endDate:ft}}))},cn=()=>{a({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),g(""),x(!1)},mt=async()=>{if(!D.trim()){it.error("Please enter a name for your saved search");return}try{await B9({name:D,filters:JSON.stringify(s),sortBy:S,sortOrder:O}),t.invalidateQueries(["saved-searches"]),j(""),Q(!1),it.success("Search saved successfully")}catch(Ne){it.error("Failed to save search"),console.error("Save search error:",Ne)}},Ie=Ne=>{try{const Le=JSON.parse(Ne.filters);a(Le),R(Ne.sortBy||"updated_at"),I(Ne.sortOrder||"desc"),it.info(`Applied saved search: ${Ne.name}`)}catch(Le){it.error("Failed to apply saved search"),console.error("Apply saved search error:",Le)}},Ae=async Ne=>{try{await U9(Ne),t.invalidateQueries(["saved-searches"]),it.success("Search deleted successfully")}catch(Le){it.error("Failed to delete search"),console.error("Delete saved search error:",Le)}};L.useEffect(()=>{const Ne=new IntersectionObserver(ft=>{ft[0].isIntersecting&&V&&!W&&F()},{threshold:.5}),Le=r.current;return Le&&Ne.observe(Le),()=>{Le&&Ne.unobserve(Le)}},[r,F,V,W]);const ot=(B==null?void 0:B.pages.flatMap(Ne=>Ne.equipment))||[];return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Wx,{position:"top-right",autoClose:3e3}),c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Dashboard"})}),c.jsx(CF,{equipmentData:(ue==null?void 0:ue.equipment)||[],onFilterChange:Oe,currentFilters:s,isLoading:se}),c.jsx("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:c.jsxs("div",{className:"relative",children:[c.jsx(Ut,{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:s.search,onChange:Re,icon:c.jsx(mF,{}),className:"rounded-full shadow-md","aria-label":"Search equipment catalog"}),v&&((Qe=ce==null?void 0:ce.equipment)==null?void 0:Qe.length)>0&&c.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:ce.equipment.map(Ne=>c.jsxs(Br,{to:`/equipment/${Ne.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[c.jsxs("div",{className:"font-medium",children:[Ne.brand," ",Ne.model]}),c.jsxs("div",{className:"text-sm text-slate-500",children:[Ne.type," • SN: ",Ne.serial_number]})]},Ne.id))}),c.jsxs("div",{className:"flex mt-2 gap-2",children:[Object.values(s).some(Ne=>Ne&&(typeof Ne=="string"?Ne.trim()!=="":!0))&&c.jsxs(We,{variant:"outline",size:"sm",onClick:cn,className:"flex items-center gap-1 text-slate-600",children:[c.jsx(yF,{}),c.jsx("span",{children:"Clear Filters"})]}),c.jsxs(We,{variant:"outline",size:"sm",onClick:()=>E(!y),className:"flex items-center gap-1","aria-expanded":y,"aria-controls":"advanced-research-panel",children:[c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),c.jsx("span",{children:y?"Hide Advanced Research":"Show Advanced Research"})]})]})]})}),c.jsx("div",{id:"advanced-research-panel",className:`transition-all duration-300 overflow-hidden ${y?"max-h-none opacity-100":"max-h-0 opacity-0"}`,children:c.jsxs("div",{className:"space-y-6 mt-4",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-4",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Sort Options"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Sort by:"}),c.jsx(xi,{id:"sort",name:"sort",value:`${S}-${O}`,onChange:Ne=>{const[Le,ft]=Ne.target.value.split("-");R(Le),I(ft)},options:[{value:"updated_at-desc",label:"Newest First"},{value:"updated_at-asc",label:"Oldest First"},{value:"brand-asc",label:"Brand (A-Z)"},{value:"brand-desc",label:"Brand (Z-A)"},{value:"model-asc",label:"Model (A-Z)"},{value:"model-desc",label:"Model (Z-A)"}],className:"w-48"})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-4",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(xi,{id:"category",name:"category",label:"Category",value:s.category,onChange:Oe,options:[{value:"",label:"All Categories"},...(ye||[]).map(Ne=>({value:Ne.name,label:Ne.name}))]}),c.jsx(xi,{id:"type",name:"type",label:"Equipment Type",value:s.type,onChange:Oe,options:[{value:"",label:"All Types"},...(Se||[]).map(Ne=>({value:Ne.name,label:Ne.name}))]}),c.jsx(xi,{id:"status",name:"status",label:"Status",value:s.status,onChange:Oe,options:[{value:"",label:"All Statuses"},{value:"available",label:"Available"},{value:"in-use",label:"In Use"},{value:"maintenance",label:"Maintenance"}]}),c.jsx(Ut,{id:"location",name:"location",label:"Location",placeholder:"Filter by location",value:s.location,onChange:Oe}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),c.jsx(fF,{selectsRange:!0,startDate:((kn=s.dateRange)==null?void 0:kn.startDate)||null,endDate:((sn=s.dateRange)==null?void 0:sn.endDate)||null,onChange:Je,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-4",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Filter Summary"}),c.jsx(bF,{equipmentData:(ue==null?void 0:ue.equipment)||[],onFilterChange:Oe,currentFilters:s,isLoading:se})]}),n()&&c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),q?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ut,{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:D,onChange:Ne=>j(Ne.target.value),className:"w-48"}),c.jsx(We,{variant:"primary",size:"sm",onClick:mt,children:"Save"}),c.jsx(We,{variant:"outline",size:"sm",onClick:()=>{Q(!1),j("")},children:"Cancel"})]}):c.jsxs(We,{variant:"outline",size:"sm",onClick:()=>Q(!0),className:"flex items-center gap-1",children:[c.jsx(gF,{}),c.jsx("span",{children:"Save Current Search"})]})]}),c.jsx("div",{className:"flex flex-wrap",children:((_t=re==null?void 0:re.searches)==null?void 0:_t.length)>0?re.searches.map(Ne=>c.jsx(_F,{search:Ne,onApply:Ie,onDelete:Ae},Ne.id)):c.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-4 mb-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Equipment Results"}),c.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[ot.length," items found"]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden",children:[c.jsx("button",{onClick:()=>k("list"),className:`px-3 py-2 text-sm font-medium transition-all ${_==="list"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"List view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),c.jsx("button",{onClick:()=>k("card"),className:`px-3 py-2 text-sm font-medium transition-all ${_==="card"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]})})]})}),"      ",c.jsx("div",{children:se?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((Ne,Le)=>c.jsx(NF,{},Le))}):le?c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:(ie==null?void 0:ie.message)||"Failed to load equipment data. Please try again."})})]})]})}):ot.length===0?c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[c.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No equipment found"}),c.jsx("p",{className:"mt-2 text-slate-500",children:"Try adjusting your search or filter criteria to find what you're looking for."}),c.jsx(We,{variant:"outline",className:"mt-4",onClick:cn,children:"Clear All Filters"})]}):c.jsxs(c.Fragment,{children:[_==="card"&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ot.map(Ne=>c.jsx(EF,{equipment:Ne,canEdit:n(),searchTerm:s.search},Ne.id))}),_==="list"&&c.jsx("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden",children:c.jsx("div",{className:"divide-y divide-slate-100",children:ot.map(Ne=>c.jsx("div",{className:"p-4 hover:bg-slate-50 cursor-pointer transition-colors",onClick:()=>window.location.href=`/equipment/${Ne.id}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"flex-shrink-0 h-16 w-16",children:Ne.reference_image_id?c.jsx("img",{className:"h-16 w-16 rounded-lg object-cover",src:od(Ne.reference_image_id,!0),alt:`${Ne.brand} ${Ne.model}`}):c.jsx("div",{className:"h-16 w-16 rounded-lg bg-slate-200 flex items-center justify-center",children:c.jsx("svg",{className:"h-8 w-8 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-800",children:[Ne.brand," ",Ne.model]}),c.jsxs("p",{className:"text-sm text-slate-600",children:[Ne.type," • SN: ",Ne.serial_number]}),Ne.location&&c.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["📍 ",Ne.location]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Ga,{variant:Ne.status==="available"?"success":Ne.status==="in-use"?"info":Ne.status==="maintenance"?"warning":"default",children:Ne.status}),c.jsx("svg",{className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},Ne.id))})}),c.jsx("div",{ref:r,className:"py-4 text-center",children:W?c.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),c.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):V?c.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):c.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})})]})},SF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),AF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),kF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),TF=()=>{const{isAdmin:e}=ur(),n=rr(),[t,r]=L.useState(""),[s,a]=L.useState(null),[d,g]=L.useState(""),[v,x]=L.useState(""),{data:y,isLoading:E,isError:_}=Lt({queryKey:["equipmentTypes"],queryFn:ya}),k=Ln({mutationFn:zR,onSuccess:()=>{n.invalidateQueries(["equipmentTypes"]),r(""),x("")},onError:Q=>{var B,F;x(((F=(B=Q.response)==null?void 0:B.data)==null?void 0:F.message)||"Failed to create equipment type")}}),S=Ln({mutationFn:({id:Q,name:B})=>WR(Q,B),onSuccess:()=>{n.invalidateQueries(["equipmentTypes"]),a(null),g(""),x("")},onError:Q=>{var B,F;x(((F=(B=Q.response)==null?void 0:B.data)==null?void 0:F.message)||"Failed to update equipment type")}}),R=Ln({mutationFn:HR,onSuccess:()=>{n.invalidateQueries(["equipmentTypes"]),x("")},onError:Q=>{var B,F;x(((F=(B=Q.response)==null?void 0:B.data)==null?void 0:F.message)||"Failed to delete equipment type")}}),O=Q=>{if(Q.preventDefault(),!t.trim()){x("Type name is required");return}k.mutate(t),document.getElementById("addTypeModal").style.display="none"},I=Q=>{a(Q),g(Q.name)},D=()=>{if(!d.trim()){x("Type name is required");return}S.mutate({id:s.id,name:d})},j=()=>{a(null),g("")},q=Q=>{window.confirm("Are you sure you want to delete this equipment type?")&&R.mutate(Q)};return e()?c.jsxs("div",{className:"space-y-6",children:[v&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:c.jsx("span",{children:v})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Types"}),c.jsxs(We,{variant:"primary",onClick:()=>{r(""),document.getElementById("addTypeModal").style.display="block"},className:"flex items-center gap-2",children:[c.jsx(kF,{}),"Add Type"]})]}),c.jsx(Ot,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Name"}),c.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:E?c.jsx("tr",{children:c.jsx("td",{colSpan:"2",className:"table-cell text-center py-4",children:c.jsx("div",{className:"flex justify-center items-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):_?c.jsx("tr",{children:c.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-red-600",children:"Error loading equipment types. Please try again."})}):y&&y.length>0?y.map(Q=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:Q.name}),c.jsx("td",{className:"table-cell text-right",children:c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsxs(We,{onClick:()=>I(Q),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[c.jsx(SF,{}),"Edit"]}),c.jsxs(We,{onClick:()=>q(Q.id),variant:"danger",size:"sm",disabled:R.isLoading&&R.variables===Q.id,className:"flex items-center gap-1",children:[c.jsx(AF,{}),R.isLoading&&R.variables===Q.id?"Deleting...":"Delete"]})]})})]},Q.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-slate-500",children:"No equipment types found"})})})]})})}),c.jsx("div",{className:"modal-backdrop",id:"addTypeModal",style:{display:"none"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Add Equipment Type"}),c.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"×"})]}),c.jsxs("form",{onSubmit:O,children:[c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"space-y-4",children:c.jsx(Ut,{id:"newTypeName",name:"newTypeName",type:"text",label:"Type Name",value:t,onChange:Q=>r(Q.target.value),placeholder:"Enter equipment type name",required:!0})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(We,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"Cancel"}),c.jsx(We,{type:"submit",variant:"primary",disabled:k.isLoading,className:"flex items-center gap-2",children:k.isLoading?"Adding...":"Add Type"})]})]})]})}),s&&c.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Edit Equipment Type"}),c.jsx("button",{className:"modal-close",onClick:j,children:"×"})]}),c.jsxs("form",{onSubmit:Q=>{Q.preventDefault(),D()},children:[c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"space-y-4",children:c.jsx(Ut,{id:"editTypeName",name:"editTypeName",type:"text",label:"Type Name",value:d,onChange:Q=>g(Q.target.value),required:!0})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(We,{type:"button",variant:"secondary",onClick:j,children:"Cancel"}),c.jsx(We,{type:"submit",variant:"primary",disabled:S.isLoading,className:"flex items-center gap-2",children:S.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4 rounded",children:c.jsx("p",{children:"Only administrators can manage equipment types."})})},DF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),IF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),jF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),RF=()=>{const{isAdmin:e}=ur(),n=rr(),[t,r]=L.useState(""),[s,a]=L.useState(""),[d,g]=L.useState(null),[v,x]=L.useState(""),[y,E]=L.useState(""),[_,k]=L.useState(""),{data:S,isLoading:R,isError:O}=Lt({queryKey:["categories"],queryFn:jc}),I=Ln({mutationFn:({name:W,description:se})=>z9(W,se),onSuccess:()=>{n.invalidateQueries(["categories"]),r(""),a(""),k("")},onError:W=>{var se,le;k(((le=(se=W.response)==null?void 0:se.data)==null?void 0:le.message)||"Failed to create category")}}),D=Ln({mutationFn:({id:W,name:se,description:le})=>W9(W,se,le),onSuccess:()=>{n.invalidateQueries(["categories"]),g(null),x(""),E(""),k("")},onError:W=>{var se,le;k(((le=(se=W.response)==null?void 0:se.data)==null?void 0:le.message)||"Failed to update category")}}),j=Ln({mutationFn:H9,onSuccess:()=>{n.invalidateQueries(["categories"]),k("")},onError:W=>{var se,le;k(((le=(se=W.response)==null?void 0:se.data)==null?void 0:le.message)||"Failed to delete category")}}),q=W=>{if(W.preventDefault(),!t.trim()){k("Category name is required");return}I.mutate({name:t,description:s}),document.getElementById("addCategoryModal").style.display="none"},Q=W=>{g(W),x(W.name),E(W.description||"")},B=()=>{if(!v.trim()){k("Category name is required");return}D.mutate({id:d.id,name:v,description:y})},F=()=>{g(null),x(""),E("")},V=W=>{window.confirm("Are you sure you want to delete this category?")&&j.mutate(W)};return e()?c.jsxs("div",{className:"space-y-6",children:[_&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:c.jsx("p",{children:_})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Categories"}),c.jsxs(We,{variant:"primary",onClick:()=>{r(""),a(""),document.getElementById("addCategoryModal").style.display="block"},className:"flex items-center gap-2",children:[c.jsx(jF,{}),"Add Category"]})]}),c.jsx(Ot,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Name"}),c.jsx("th",{className:"table-header-cell",children:"Description"}),c.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:R?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center py-4",children:c.jsx("div",{className:"flex justify-center items-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):O?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-red-600",children:"Error loading categories. Please try again."})}):S&&S.length>0?S.map(W=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:W.name}),c.jsx("td",{className:"table-cell",children:W.description||"-"}),c.jsx("td",{className:"table-cell text-right",children:c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsxs(We,{onClick:()=>Q(W),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[c.jsx(DF,{}),"Edit"]}),c.jsxs(We,{onClick:()=>V(W.id),variant:"danger",size:"sm",disabled:j.isLoading&&j.variables===W.id,className:"flex items-center gap-1",children:[c.jsx(IF,{}),j.isLoading&&j.variables===W.id?"Deleting...":"Delete"]})]})})]},W.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-slate-500",children:"No categories found"})})})]})})}),c.jsx("div",{className:"modal-backdrop",id:"addCategoryModal",style:{display:"none"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Add Category"}),c.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"×"})]}),c.jsxs("form",{onSubmit:q,children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Ut,{id:"newCategoryName",name:"newCategoryName",type:"text",label:"Category Name",value:t,onChange:W=>r(W.target.value),placeholder:"Enter category name",required:!0}),c.jsx(Ut,{id:"newCategoryDescription",name:"newCategoryDescription",type:"text",label:"Description (optional)",value:s,onChange:W=>a(W.target.value),placeholder:"Enter category description"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(We,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"Cancel"}),c.jsx(We,{type:"submit",variant:"primary",disabled:I.isLoading,className:"flex items-center gap-2",children:I.isLoading?"Adding...":"Add Category"})]})]})]})}),d&&c.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Edit Category"}),c.jsx("button",{className:"modal-close",onClick:F,children:"×"})]}),c.jsxs("form",{onSubmit:W=>{W.preventDefault(),B()},children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Ut,{id:"editCategoryName",name:"editCategoryName",type:"text",label:"Category Name",value:v,onChange:W=>x(W.target.value),required:!0}),c.jsx(Ut,{id:"editCategoryDescription",name:"editCategoryDescription",type:"text",label:"Description (optional)",value:y,onChange:W=>E(W.target.value),placeholder:"Enter category description"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(We,{type:"button",variant:"secondary",onClick:F,children:"Cancel"}),c.jsx(We,{type:"submit",variant:"primary",disabled:D.isLoading,className:"flex items-center gap-2",children:D.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):c.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",children:c.jsx("p",{children:"Only administrators can manage equipment categories."})})},go=async()=>(await nt.get("/api/locations")).data,OF=async e=>(await nt.post("/api/locations",e)).data,MF=async(e,n)=>(await nt.put(`/api/locations/${e}`,n)).data,LF=async e=>(await nt.delete(`/api/locations/${e}`)).data,PF=()=>{var V;const{isAdmin:e}=ur(),n=rr(),[t,r]=L.useState(!1),[s,a]=L.useState(!1),[d,g]=L.useState(!1),[v,x]=L.useState(null),[y,E]=L.useState({name:"",street:"",postal_code:"",city:"",region:"",country:""}),{data:_,isLoading:k,isError:S}=Lt(["locations"],go),R=Ln(OF,{onSuccess:()=>{n.invalidateQueries(["locations"]),r(!1),E({name:"",street:"",postal_code:"",city:"",region:"",country:""}),alert("Location created successfully")},onError:W=>{var se,le;alert(`Error creating location: ${((le=(se=W.response)==null?void 0:se.data)==null?void 0:le.message)||W.message}`)}}),O=Ln(W=>MF(W.id,W.locationData),{onSuccess:()=>{n.invalidateQueries(["locations"]),a(!1),x(null),alert("Location updated successfully")},onError:W=>{var se,le;alert(`Error updating location: ${((le=(se=W.response)==null?void 0:se.data)==null?void 0:le.message)||W.message}`)}}),I=Ln(LF,{onSuccess:()=>{n.invalidateQueries(["locations"]),g(!1),x(null),alert("Location deleted successfully")},onError:W=>{var se,le;alert(`Error deleting location: ${((le=(se=W.response)==null?void 0:se.data)==null?void 0:le.message)||W.message}`)}}),D=W=>{const{name:se,value:le}=W.target;E(ie=>({...ie,[se]:le}))},j=W=>{W.preventDefault(),R.mutate(y)},q=W=>{W.preventDefault(),O.mutate({id:v.id,locationData:y})},Q=()=>{I.mutate(v.id)},B=W=>{x(W),E({name:W.name,street:W.street||"",postal_code:W.postal_code||"",city:W.city||"",region:W.region||"",country:W.country||""}),a(!0)},F=W=>{x(W),g(!0)};return k?c.jsx("div",{className:"text-center py-4",children:"Loading locations..."}):S?c.jsx("div",{className:"text-center py-4 text-red-600",children:"Error loading locations"}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Locations"}),e()&&c.jsx(We,{variant:"primary",onClick:()=>{E({name:"",street:"",postal_code:"",city:"",region:"",country:""}),r(!0)},children:"Add Location"})]}),c.jsx(Ot,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Name"}),c.jsx("th",{className:"table-header-cell",children:"Street"}),c.jsx("th",{className:"table-header-cell",children:"Postal Code"}),c.jsx("th",{className:"table-header-cell",children:"City"}),c.jsx("th",{className:"table-header-cell",children:"Region"}),c.jsx("th",{className:"table-header-cell",children:"Country"}),e()&&c.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:((V=_==null?void 0:_.locations)==null?void 0:V.length)>0?_.locations.map(W=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:W.name}),c.jsx("td",{className:"table-cell",children:W.street||"-"}),c.jsx("td",{className:"table-cell",children:W.postal_code||"-"}),c.jsx("td",{className:"table-cell",children:W.city||"-"}),c.jsx("td",{className:"table-cell",children:W.region||"-"}),c.jsx("td",{className:"table-cell",children:W.country||"-"}),e()&&c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(We,{variant:"outline",size:"sm",onClick:()=>B(W),children:"Edit"}),c.jsx(We,{variant:"danger",size:"sm",onClick:()=>F(W),children:"Delete"})]})})]},W.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:e()?7:6,className:"table-cell text-center py-4 text-slate-500",children:"No locations found"})})})]})})}),t&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Add Location"}),c.jsx("button",{className:"modal-close",onClick:()=>r(!1),children:"×"})]}),c.jsxs("form",{onSubmit:j,children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Ut,{id:"name",name:"name",label:"Location Name",value:y.name,onChange:D,placeholder:"Enter location name",required:!0}),c.jsx(Ut,{id:"street",name:"street",label:"Street",value:y.street,onChange:D,placeholder:"Enter street (optional)"}),c.jsx(Ut,{id:"postal_code",name:"postal_code",label:"Postal Code",value:y.postal_code,onChange:D,placeholder:"Enter postal code (optional)"}),c.jsx(Ut,{id:"city",name:"city",label:"City",value:y.city,onChange:D,placeholder:"Enter city (optional)"}),c.jsx(Ut,{id:"region",name:"region",label:"Region/State",value:y.region,onChange:D,placeholder:"Enter region or state (optional)"}),c.jsx(Ut,{id:"country",name:"country",label:"Country",value:y.country,onChange:D,placeholder:"Enter country (optional)"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(We,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),c.jsx(We,{type:"submit",variant:"primary",disabled:R.isLoading,children:R.isLoading?"Adding...":"Add Location"})]})]})]})}),s&&v&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Edit Location"}),c.jsx("button",{className:"modal-close",onClick:()=>a(!1),children:"×"})]}),c.jsxs("form",{onSubmit:q,children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Ut,{id:"edit-name",name:"name",label:"Location Name",value:y.name,onChange:D,placeholder:"Enter location name",required:!0}),c.jsx(Ut,{id:"edit-street",name:"street",label:"Street",value:y.street,onChange:D,placeholder:"Enter street (optional)"}),c.jsx(Ut,{id:"edit-postal_code",name:"postal_code",label:"Postal Code",value:y.postal_code,onChange:D,placeholder:"Enter postal code (optional)"}),c.jsx(Ut,{id:"edit-city",name:"city",label:"City",value:y.city,onChange:D,placeholder:"Enter city (optional)"}),c.jsx(Ut,{id:"edit-region",name:"region",label:"Region/State",value:y.region,onChange:D,placeholder:"Enter region or state (optional)"}),c.jsx(Ut,{id:"edit-country",name:"country",label:"Country",value:y.country,onChange:D,placeholder:"Enter country (optional)"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(We,{type:"button",variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),c.jsx(We,{type:"submit",variant:"primary",disabled:O.isLoading,children:O.isLoading?"Saving...":"Save Changes"})]})]})]})}),d&&v&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Delete Location"}),c.jsx("button",{className:"modal-close",onClick:()=>g(!1),children:"×"})]}),c.jsxs("div",{className:"modal-body",children:[c.jsxs("p",{children:['Are you sure you want to delete the location "',v.name,'"? This action cannot be undone.']}),c.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Note: You cannot delete a location that is currently assigned to equipment."})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(We,{type:"button",variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),c.jsx(We,{type:"button",variant:"danger",onClick:Q,disabled:I.isLoading,children:I.isLoading?"Deleting...":"Delete Location"})]})]})})]})},FF=()=>{const[e,n]=L.useState(""),[t,r]=L.useState(null),{data:s,isLoading:a}=Lt({queryKey:["database-tables"],queryFn:async()=>(await nt.get("/api/database/tables")).data}),d=async g=>{try{const v=await nt.get(`/api/database/table/${g}`);r(v.data),n(g)}catch(v){console.error("Error fetching table data:",v)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ot,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Database Browser"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Database Tables:"}),a?c.jsx("p",{children:"Loading tables..."}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:s==null?void 0:s.map(g=>c.jsx(We,{onClick:()=>d(g),variant:e===g?"default":"outline",size:"sm",className:"text-left",children:g},g))})]}),t&&c.jsxs("div",{className:"mt-6",children:[c.jsxs("h4",{className:"font-medium mb-2",children:["Table: ",e," (",t.length," rows)"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full border border-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsx("tr",{children:t.length>0&&Object.keys(t[0]).map(g=>c.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700 border-b",children:g},g))})}),c.jsx("tbody",{children:t.map((g,v)=>c.jsx("tr",{className:"hover:bg-gray-50",children:Object.values(g).map((x,y)=>c.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 border-b",children:x!==null?String(x):"NULL"},y))},v))})]})})]})]}),c.jsxs(Ot,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Database Information"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Host:"})," Sevalla MySQL (Internal)"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Database:"})," substantial-gray-unicorn"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Connection:"})," Secure (SSL)"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Access:"})," Application Only"]})]}),c.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[c.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"External Database Tools"}),c.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"To access your database with external tools like phpMyAdmin, MySQL Workbench, or TablePlus:"}),c.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:"Contact Sevalla support for database access credentials"}),c.jsx("li",{children:"Request SSH tunnel or direct database access"}),c.jsx("li",{children:"Use the provided connection details in your preferred tool"})]})]})]})]})},BF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),UF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),Hb=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),zF=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"}),c.jsx("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"}),c.jsx("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"})]}),WF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),HF=()=>{const{user:e}=ur(),[n,t]=L.useState("profile"),[r,s]=L.useState(""),[a,d]=L.useState(""),[g,v]=L.useState(""),[x,y]=L.useState(""),[E,_]=L.useState(""),k=[{id:"profile",label:"Profile",icon:c.jsx(BF,{})},{id:"security",label:"Security",icon:c.jsx(UF,{})}];(e==null?void 0:e.role)==="admin"&&(k.push({id:"equipmentTypes",label:"Equipment Types",icon:c.jsx(Hb,{})}),k.push({id:"categories",label:"Categories",icon:c.jsx(Hb,{})}),k.push({id:"locations",label:"Locations",icon:c.jsx(WF,{})}),k.push({id:"database",label:"Database",icon:c.jsx(zF,{})}));const S=R=>{if(R.preventDefault(),y(""),_(""),!r){y("Current password is required");return}if(!a){y("New password is required");return}if(a!==g){y("New passwords do not match");return}if(a.length<8){y("New password must be at least 8 characters");return}_("Password changed successfully"),s(""),d(""),v("")};return c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-8",children:"User Settings"}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsx("div",{className:"w-full md:w-64",children:c.jsx(Ot,{children:c.jsx(Ot.Body,{className:"p-0",children:c.jsx("nav",{children:c.jsx("ul",{className:"divide-y divide-slate-100",children:k.map(R=>c.jsx("li",{children:c.jsxs("button",{onClick:()=>t(R.id),className:`w-full text-left px-4 py-3 flex items-center transition-colors ${n===R.id?"bg-primary-50 text-primary-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,"aria-current":n===R.id?"page":void 0,children:[c.jsx("span",{className:"mr-3 text-slate-500",children:R.icon}),R.label]})},R.id))})})})})}),c.jsx("div",{className:"flex-1",children:c.jsx(Ot,{children:c.jsxs(Ot.Body,{children:[n==="profile"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Profile Settings"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),c.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200",children:e==null?void 0:e.username})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),c.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200 capitalize",children:e==null?void 0:e.role})]})]})]}),n==="security"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Security Settings"}),x&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),E&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:E}),c.jsxs("form",{onSubmit:S,className:"space-y-4",children:[c.jsx(Ut,{type:"password",id:"current-password",label:"Current Password",value:r,onChange:R=>s(R.target.value),placeholder:"Enter your current password"}),c.jsx(Ut,{type:"password",id:"new-password",label:"New Password",value:a,onChange:R=>d(R.target.value),placeholder:"Enter your new password"}),c.jsx(Ut,{type:"password",id:"confirm-password",label:"Confirm New Password",value:g,onChange:R=>v(R.target.value),placeholder:"Confirm your new password"}),c.jsx("div",{children:c.jsx(We,{type:"submit",variant:"primary",children:"Change Password"})})]})]}),n==="equipmentTypes"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Types"}),c.jsx(TF,{})]}),n==="categories"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Categories"}),c.jsx(RF,{})]}),n==="locations"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Locations"}),c.jsx(PF,{})]}),n==="database"&&(e==null?void 0:e.role)==="admin"&&c.jsx("div",{children:c.jsx(FF,{})})]})})})]})]})},qF=({isOpen:e,onClose:n,equipmentId:t})=>{const r=rr(),[s,a]=L.useState(""),[d,g]=L.useState(null),[v,x]=L.useState(!1),[y,E]=L.useState(null);L.useEffect(()=>{e&&t&&(x(!0),Qh(t).then(S=>{g(S),a(`${S.serial_number}-COPY`),x(!1)}).catch(S=>{console.error("Error fetching equipment details:",S),E("Failed to load equipment details"),x(!1)}))},[e,t]);const _=Ln({mutationFn:async()=>{if(!d)return null;console.log("Original equipment data:",d);const S={type_id:d.type_id||1,brand:d.brand,model:d.model,serial_number:s,status:d.status||"available",location:d.location||"",description:d.description||""};return console.log("Duplicate data being sent:",S),Hx(S)},onSuccess:S=>{console.log("Successfully duplicated equipment:",S),r.invalidateQueries(["equipment"]),n()},onError:S=>{var R,O;console.error("Error duplicating equipment:",S),(O=(R=S.response)==null?void 0:R.data)!=null&&O.message?E(S.response.data.message):E("Failed to duplicate equipment. Please check all required fields.")}}),k=S=>{if(S.preventDefault(),!s.trim()){E("Serial number is required");return}_.mutate()};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Duplicate Equipment"}),v?c.jsx("div",{className:"text-center py-4",children:"Loading..."}):y?c.jsx("div",{className:"text-red-600 mb-4",children:y}):c.jsxs("form",{onSubmit:k,children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("p",{className:"text-gray-600 mb-2",children:["You are about to duplicate: ",c.jsxs("span",{className:"font-medium",children:[d==null?void 0:d.brand," ",d==null?void 0:d.model]})]}),c.jsx("label",{htmlFor:"serialNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),c.jsx("input",{type:"text",id:"serialNumber",value:s,onChange:S=>a(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,autoFocus:!0}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please provide a unique serial number for the duplicated equipment."})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:n,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                  hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                  hover:shadow-sm transition-all`,children:"Cancel"}),c.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                  hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                  hover:shadow-sm transition-all focus:outline-none focus:ring-1 focus:ring-primary-500`,disabled:_.isLoading,children:_.isLoading?"Duplicating...":"Duplicate"})]})]})]})}):null},VF=({isOpen:e,onClose:n,equipmentId:t,selectedItems:r=[]})=>{var W,se,le;const s=r.length>0?r:t?[t]:[],a=rr(),[d,g]=L.useState(2),[v,x]=L.useState(""),[y,E]=L.useState([]),[_,k]=L.useState([]),[S,R]=L.useState(!1),[O,I]=L.useState(null),[D,j]=L.useState(0),[q,Q]=L.useState(!1);L.useEffect(()=>{if(e&&s.length>0){R(!0),k([]);const ie=s.map(ce=>Qh(ce));Promise.all(ie).then(ce=>{if(k(ce),ce.length===1){const xe=`${ce[0].serial_number}-{n}`;x(xe)}else x("BATCH-{n}");R(!1)}).catch(ce=>{console.error("Error fetching equipment details:",ce),I("Failed to load equipment details"),R(!1)})}},[e,s]),L.useEffect(()=>{if(v&&d>0){const ie=[];for(let ce=1;ce<=Math.min(d,5);ce++)ie.push(B(v,ce));d>5&&(ie.push("..."),ie.push(B(v,d))),E(ie)}},[v,d]);const B=(ie,ce)=>ie.replace("{n}",ce),F=Ln({mutationFn:async({equipmentData:ie,serialNumber:ce})=>{if(!ie)return null;const xe={type:ie.type,type_id:ie.type_id||1,category:ie.category||"",...ie.category_id?{category_id:ie.category_id}:{},brand:ie.brand,model:ie.model,serial_number:ce,status:ie.status||"available",location:ie.location||"",...ie.location_id?{location_id:ie.location_id}:{},description:ie.description||"",...ie.reference_image_id?{reference_image_id:ie.reference_image_id}:{}};return Hx(xe)}}),V=async()=>{var ie,ce;if(_.length!==0){Q(!0),j(0);try{const xe=_.length*d;let re=0;for(const Se of _)for(let ye=1;ye<=d;ye++){let ue;_.length===1?ue=B(v,ye):ue=B(v.replace("{n}",`${Se.id}-{n}`),ye),console.log(`Creating duplicate ${ye} for equipment ID ${Se.id} with serial number ${ue}`),console.log("Original equipment data:",JSON.stringify(Se,null,2));try{await F.mutateAsync({equipmentData:Se,serialNumber:ue}),console.log(`Successfully created duplicate ${ye} for equipment ID ${Se.id}`)}catch(_e){throw console.error(`Error creating duplicate ${ye} for equipment ID ${Se.id}:`,_e),_e}re++,j(Math.floor(re/xe*100))}a.invalidateQueries(["equipment"]),n()}catch(xe){console.error("Error in batch duplication:",xe);let re="Failed to duplicate equipment";(ce=(ie=xe.response)==null?void 0:ie.data)!=null&&ce.message?re=xe.response.data.message:xe.message&&(re=xe.message),I(re)}finally{Q(!1)}}};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Batch Duplicate Equipment"}),S?c.jsx("div",{className:"text-center py-4",children:"Loading..."}):O?c.jsx("div",{className:"text-red-600 mb-4",children:O}):c.jsxs("div",{children:[c.jsxs("div",{className:"text-gray-600 mb-4",children:[c.jsxs("p",{children:["You are about to duplicate ",_.length," item",_.length!==1?"s":"",":"]}),_.length===1?c.jsxs("p",{className:"font-medium mt-1",children:[(W=_[0])==null?void 0:W.brand," ",(se=_[0])==null?void 0:se.model," (SN: ",(le=_[0])==null?void 0:le.serial_number,")"]}):c.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border border-gray-200 rounded-md p-2",children:c.jsx("ul",{className:"text-sm",children:_.map((ie,ce)=>c.jsxs("li",{className:"mb-1",children:[ie.brand," ",ie.model," (SN: ",ie.serial_number,")"]},ce))})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"count",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Copies"}),c.jsx("input",{type:"number",id:"count",min:"1",max:"50",value:d,onChange:ie=>g(Math.min(50,Math.max(1,parseInt(ie.target.value)||1))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"serialNumberPattern",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Pattern"}),c.jsx("input",{type:"text",id:"serialNumberPattern",value:v,onChange:ie=>x(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Use {n} for the copy number"}),c.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Use ","{n}"," as a placeholder for the copy number."]})]}),y.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Preview"}),c.jsx("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200",children:c.jsx("ul",{className:"text-sm text-gray-600",children:y.map((ie,ce)=>c.jsx("li",{children:ie},ce))})})]}),q&&c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${D}%`}})}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1 text-center",children:[D,"% Complete"]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(We,{variant:"outline",onClick:n,disabled:q,children:"Cancel"}),c.jsx(We,{variant:"primary",onClick:V,disabled:q||!v.includes("{n}"),children:q?"Processing...":"Create Copies"})]})]})]})}):null},kN=({isOpen:e,onClose:n,equipmentId:t,selectedItems:r=[]})=>{const s=r.length>0?r:t?[t]:[],[a,d]=L.useState("available");L.useState(1);const[g,v]=L.useState(!1),[x,y]=L.useState(""),[E,_]=L.useState(""),k=rr(),S=["available","in-use","maintenance"],R=Ln({mutationFn:async I=>{const D=I.equipmentIds.map(j=>LR(j,I.status));return Promise.all(D)},onSuccess:()=>{k.invalidateQueries(["equipment"]),_(`Status successfully updated to ${a} for ${s.length} item${s.length!==1?"s":""}`),v(!1),setTimeout(()=>{n(),_("")},2e3)},onError:I=>{var D,j;console.error("Error updating status:",I),y(((j=(D=I.response)==null?void 0:D.data)==null?void 0:j.message)||"Failed to update status"),v(!1)}}),O=I=>{if(I.preventDefault(),s.length===0){y("No equipment items selected");return}v(!0),y(""),_(""),R.mutate({equipmentIds:s,status:a})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Status"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the status of ",s.length," item",s.length!==1?"s":"","."]})}),x&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),E&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:E}),c.jsxs("form",{onSubmit:O,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Status"}),c.jsx("select",{id:"status",value:a,onChange:I=>d(I.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:S.map(I=>c.jsx("option",{value:I,children:I.charAt(0).toUpperCase()+I.slice(1)},I))})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:n,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:g,children:"Cancel"}),c.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:g,children:g?"Updating...":"Update Status"})]})]})]})}):null};kN.propTypes={isOpen:ne.bool.isRequired,onClose:ne.func.isRequired,equipmentId:ne.oneOfType([ne.string,ne.number]),selectedItems:ne.array};const TN=({isOpen:e,onClose:n,equipmentId:t,selectedItems:r=[]})=>{var B;const s=r.length>0?r:t?[t]:[],[a,d]=L.useState(""),[g,v]=L.useState(""),[x,y]=L.useState(!1),[E,_]=L.useState(!1),[k,S]=L.useState(""),[R,O]=L.useState(""),I=rr(),{data:D}=Lt({queryKey:["locations"],queryFn:go,staleTime:3e5}),j=Ln({mutationFn:async F=>{const V=F.equipmentIds.map(W=>PR(W,F.locationData));return Promise.all(V)},onSuccess:()=>{var V;I.invalidateQueries(["equipment"]);const F=x?g:((V=D==null?void 0:D.locations.find(W=>W.id.toString()===a))==null?void 0:V.name)||"selected location";O(`Location successfully updated to ${F} for ${s.length} item${s.length!==1?"s":""}`),_(!1),setTimeout(()=>{n(),O("")},2e3)},onError:F=>{var V,W;console.error("Error updating location:",F),S(((W=(V=F.response)==null?void 0:V.data)==null?void 0:W.message)||"Failed to update location"),_(!1)}}),q=F=>{if(F.preventDefault(),s.length===0){S("No equipment items selected");return}_(!0),S(""),O("");const V=x?{location:g}:{location_id:a};j.mutate({equipmentIds:s,locationData:V})},Q=()=>{y(!x),d(""),v("")};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Location"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the location of ",s.length," item",s.length!==1?"s":"","."]})}),k&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),R&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:R}),c.jsxs("form",{onSubmit:q,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"flex items-center mb-3",children:c.jsx("button",{type:"button",onClick:Q,className:"text-sm text-primary-600 hover:text-primary-800",children:x?"Select from existing locations":"Enter custom location"})}),x?c.jsxs("div",{children:[c.jsx("label",{htmlFor:"customLocation",className:"block text-sm font-medium text-slate-700 mb-1",children:"Custom Location"}),c.jsx("input",{type:"text",id:"customLocation",value:g,onChange:F=>v(F.target.value),className:"w-full p-2 border border-slate-300 rounded-md",placeholder:"Enter location name",required:!0})]}):c.jsxs("div",{children:[c.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),c.jsxs("select",{id:"locationId",value:a,onChange:F=>d(F.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[c.jsx("option",{value:"",children:"Select a location"}),(B=D==null?void 0:D.locations)==null?void 0:B.map(F=>c.jsx("option",{value:F.id.toString(),children:F.name},F.id))]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:n,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:E,children:"Cancel"}),c.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:E||!a&&!g,children:E?"Updating...":"Update Location"})]})]})]})}):null};TN.propTypes={isOpen:ne.bool.isRequired,onClose:ne.func.isRequired,equipmentId:ne.oneOfType([ne.string,ne.number]),selectedItems:ne.array};const DN=({isOpen:e,onClose:n,selectedItems:t=[]})=>{const[r,s]=L.useState(""),[a,d]=L.useState(!1),[g,v]=L.useState(""),[x,y]=L.useState(""),E=rr(),{data:_,isLoading:k}=Lt({queryKey:["equipmentTypes"],queryFn:ya,staleTime:3e5});L.useEffect(()=>{_!=null&&_.types&&_.types.length>0&&!r&&s(_.types[0].id.toString())},[_,r]);const S=Ln({mutationFn:async O=>{const I=O.equipmentIds.map(D=>FR(D,O.typeId));return Promise.all(I)},onSuccess:()=>{var I;E.invalidateQueries(["equipment"]);const O=((I=_==null?void 0:_.types.find(D=>D.id.toString()===r))==null?void 0:I.name)||"selected type";y(`Type successfully updated to ${O} for ${t.length} item${t.length!==1?"s":""}`),d(!1),setTimeout(()=>{n(),y("")},2e3)},onError:O=>{var I,D;console.error("Error updating type:",O),v(((D=(I=O.response)==null?void 0:I.data)==null?void 0:D.message)||"Failed to update type"),d(!1)}}),R=O=>{if(O.preventDefault(),t.length===0){v("No equipment items selected");return}if(!r){v("Please select a type");return}d(!0),v(""),y(""),S.mutate({equipmentIds:t,typeId:r})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Type"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the type of ",t.length," item",t.length!==1?"s":"","."]})}),g&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:g}),x&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:x}),c.jsxs("form",{onSubmit:R,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Type"}),c.jsxs("select",{id:"type",value:r,onChange:O=>s(O.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[c.jsx("option",{value:"",children:"Select a type"}),_!=null&&_.types&&_.types.length>0?_.types.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(We,{variant:"outline",onClick:n,disabled:a,children:"Cancel"}),c.jsx(We,{variant:"primary",type:"submit",disabled:a||!r,children:a?"Updating...":"Update Type"})]})]})]})}):null};DN.propTypes={isOpen:ne.bool.isRequired,onClose:ne.func.isRequired,selectedItems:ne.array};const IN=({isOpen:e,onClose:n,selectedItems:t=[]})=>{const[r,s]=L.useState(""),[a,d]=L.useState(!1),[g,v]=L.useState(""),[x,y]=L.useState(""),E=rr(),{data:_,isLoading:k}=Lt({queryKey:["categories"],queryFn:jc,staleTime:3e5});L.useEffect(()=>{_!=null&&_.categories&&_.categories.length>0&&!r&&s(_.categories[0].id.toString())},[_,r]);const S=Ln({mutationFn:async O=>{const I=O.equipmentIds.map(D=>BR(D,O.categoryId));return Promise.all(I)},onSuccess:()=>{var I;E.invalidateQueries(["equipment"]);const O=((I=_==null?void 0:_.categories.find(D=>D.id.toString()===r))==null?void 0:I.name)||"selected category";y(`Category successfully updated to ${O} for ${t.length} item${t.length!==1?"s":""}`),d(!1),setTimeout(()=>{n(),y("")},2e3)},onError:O=>{var I,D;console.error("Error updating category:",O),v(((D=(I=O.response)==null?void 0:I.data)==null?void 0:D.message)||"Failed to update category"),d(!1)}}),R=O=>{if(O.preventDefault(),t.length===0){v("No equipment items selected");return}d(!0),v(""),y(""),S.mutate({equipmentIds:t,categoryId:r||null})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Category"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the category of ",t.length," item",t.length!==1?"s":"","."]})}),g&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:g}),x&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:x}),c.jsxs("form",{onSubmit:R,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Category"}),c.jsxs("select",{id:"category",value:r,onChange:O=>s(O.target.value),className:"w-full p-2 border border-slate-300 rounded-md",children:[c.jsx("option",{value:"",children:"None (Remove Category)"}),_!=null&&_.categories&&_.categories.length>0?_.categories.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading categories..."})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(We,{variant:"outline",onClick:n,disabled:a,children:"Cancel"}),c.jsx(We,{variant:"primary",type:"submit",disabled:a,children:a?"Updating...":"Update Category"})]})]})]})}):null};IN.propTypes={isOpen:ne.bool.isRequired,onClose:ne.func.isRequired,selectedItems:ne.array};const jN=({isOpen:e,onClose:n,selectedItems:t=[]})=>{const[r,s]=L.useState(""),[a,d]=L.useState(""),[g,v]=L.useState(!0),[x,y]=L.useState(!0),[E,_]=L.useState(!1),[k,S]=L.useState(""),[R,O]=L.useState(""),I=rr(),D=Ln({mutationFn:async q=>{const Q=q.equipmentIds.map(B=>UR(B,q.updateData));return Promise.all(Q)},onSuccess:()=>{I.invalidateQueries(["equipment"]);let q="Successfully updated ";g&&x?q+=`brand to "${r}" and model to "${a}"`:g?q+=`brand to "${r}"`:x&&(q+=`model to "${a}"`),O(`${q} for ${t.length} item${t.length!==1?"s":""}`),_(!1),setTimeout(()=>{n(),O("")},2e3)},onError:q=>{var Q,B;console.error("Error updating brand/model:",q),S(((B=(Q=q.response)==null?void 0:Q.data)==null?void 0:B.message)||"Failed to update brand/model"),_(!1)}}),j=q=>{if(q.preventDefault(),t.length===0){S("No equipment items selected");return}if(!g&&!x){S("Please select at least one field to update");return}if(g&&!r||x&&!a){S("Please fill in all selected fields");return}_(!0),S(""),O("");const Q={};g&&(Q.brand=r),x&&(Q.model=a),D.mutate({equipmentIds:t,updateData:Q})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Brand & Model"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating ",t.length," item",t.length!==1?"s":"","."]})}),k&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),R&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:R}),c.jsxs("form",{onSubmit:j,children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx("input",{type:"checkbox",id:"updateBrand",checked:g,onChange:q=>v(q.target.checked),className:"mr-2"}),c.jsx("label",{htmlFor:"updateBrand",className:"text-sm font-medium text-slate-700",children:"Update Brand"})]}),c.jsx("input",{type:"text",id:"brand",value:r,onChange:q=>s(q.target.value),disabled:!g,className:`w-full p-2 border border-slate-300 rounded-md ${g?"":"bg-slate-100"}`,placeholder:"Enter new brand"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx("input",{type:"checkbox",id:"updateModel",checked:x,onChange:q=>y(q.target.checked),className:"mr-2"}),c.jsx("label",{htmlFor:"updateModel",className:"text-sm font-medium text-slate-700",children:"Update Model"})]}),c.jsx("input",{type:"text",id:"model",value:a,onChange:q=>d(q.target.value),disabled:!x,className:`w-full p-2 border border-slate-300 rounded-md ${x?"":"bg-slate-100"}`,placeholder:"Enter new model"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(We,{variant:"outline",onClick:n,disabled:E,children:"Cancel"}),c.jsx(We,{variant:"primary",type:"submit",disabled:E||!g&&!x||g&&!r||x&&!a,children:E?"Updating...":"Update"})]})]})]})}):null};jN.propTypes={isOpen:ne.bool.isRequired,onClose:ne.func.isRequired,selectedItems:ne.array};const c2=({onBatchDuplicate:e,onBatchStatusUpdate:n,onBatchLocationChange:t,equipmentId:r})=>{const[s,a]=L.useState(!1),d=L.useRef(null),g=ds();L.useEffect(()=>{const S=R=>{d.current&&!d.current.contains(R.target)&&a(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const v=()=>{a(!s)},x=()=>{a(!1),g(`/equipment/${r}`)},y=()=>{a(!1),g(`/equipment/${r}/edit`)},E=()=>{a(!1),e(r)},_=()=>{a(!1),n&&n(r)},k=()=>{a(!1),t&&t(r)};return c.jsxs("div",{className:"relative",ref:d,children:[c.jsx("button",{onClick:v,className:"p-1 rounded-md hover:bg-slate-100 border border-slate-200",title:"Actions","aria-label":"Actions menu",children:c.jsx(LE,{className:"w-4 h-4 text-slate-600"})}),s&&c.jsx("div",{className:"dropdown-menu",children:c.jsxs("div",{className:"py-0.5",children:[c.jsxs("button",{onClick:x,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(QR,{className:"w-3.5 h-3.5 mr-1.5"}),"View Details"]}),c.jsxs("button",{onClick:y,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(RE,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit"]}),c.jsxs("button",{onClick:E,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(qx,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),c.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"⟳"}),"Update Status"]}),c.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📍"}),"Change Location"]})]})})]})};c2.propTypes={onBatchDuplicate:ne.func.isRequired,onBatchStatusUpdate:ne.func,onBatchLocationChange:ne.func,equipmentId:ne.oneOfType([ne.string,ne.number]).isRequired};const RN=({selectedItems:e,onBatchDuplicate:n,onBatchStatusUpdate:t,onBatchLocationChange:r,onBatchTypeChange:s,onBatchCategoryChange:a,onBatchBrandModelChange:d,onClearSelection:g})=>{const[v,x]=L.useState(!1),y=L.useRef(null);Lt({queryKey:["equipmentTypes"],queryFn:ya,staleTime:3e5}),Lt({queryKey:["locations"],queryFn:go,staleTime:3e5}),Lt({queryKey:["categories"],queryFn:jc,staleTime:3e5}),L.useEffect(()=>{const D=j=>{y.current&&!y.current.contains(j.target)&&x(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]);const E=()=>{x(!v)},_=()=>{x(!1),n()},k=()=>{x(!1),t()},S=()=>{x(!1),r()},R=()=>{x(!1),s()},O=()=>{x(!1),a()},I=()=>{x(!1),d()};return c.jsxs("div",{className:"relative",ref:y,children:[c.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-2 py-1 rounded-md border border-blue-100",children:[c.jsxs("span",{className:"text-xs font-medium text-blue-700",children:[e.length," item",e.length!==1?"s":""," selected"]}),c.jsx(We,{variant:"outline",size:"sm",onClick:g,className:"text-xs py-0.5 px-2 bg-white",children:"Clear"}),c.jsxs(We,{variant:"outline",size:"sm",onClick:E,className:"flex items-center text-xs py-0.5 px-2 bg-white",children:["Actions ",c.jsx(LE,{className:"w-3 h-3 ml-1"})]})]}),v&&c.jsx("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white rounded-md shadow-lg border border-slate-200 w-48",children:c.jsxs("div",{className:"py-0.5",children:[c.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(qx,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),c.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"⟳"}),"Update Status"]}),c.jsxs("button",{onClick:S,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📍"}),"Change Location"]}),c.jsxs("button",{onClick:R,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"🏷️"}),"Change Type"]}),c.jsxs("button",{onClick:O,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📂"}),"Change Category"]}),c.jsxs("button",{onClick:I,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"🔖"}),"Update Brand/Model"]})]})})]})};RN.propTypes={selectedItems:ne.array.isRequired,onBatchDuplicate:ne.func.isRequired,onBatchStatusUpdate:ne.func.isRequired,onBatchLocationChange:ne.func.isRequired,onBatchTypeChange:ne.func,onBatchCategoryChange:ne.func,onBatchBrandModelChange:ne.func,onClearSelection:ne.func.isRequired};const ON=({equipment:e,onDuplicate:n,onSelect:t,isSelected:r})=>{const s=ds();ur();const[a,d]=L.useState(!1);let g=null;if(e.reference_image_id)g=od(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const y=e.files.find(E=>E.file_type==="image");y&&(g=od(y.id,!0))}const v=y=>{switch(y){case"available":return"badge-success";case"in-use":return"badge-info";case"maintenance":return"badge-warning";default:return"badge-secondary"}},x=y=>{y.target.type==="checkbox"||y.target.closest("button")||y.target.closest("a")||y.target.closest(".btn-icon")||s(`/equipment/${e.id}`)};return c.jsxs("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden h-full ${r?"bg-blue-50 border-2 border-blue-300":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:x,children:[c.jsx("div",{className:"absolute top-2 left-2 z-10",children:c.jsx("input",{type:"checkbox",checked:r,onChange:()=>t&&t(e.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})}),c.jsx("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:g?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:c.jsx("img",{src:g,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):c.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:c.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})})}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&c.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),c.jsx("span",{className:`badge ${v(e.status)}`,children:e.status})]}),c.jsxs("h2",{className:"text-lg font-semibold mb-1",children:[e.brand," ",e.model]}),c.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",e.serial_number]}),e.location&&c.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Location: ",e.location]}),c.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[c.jsx(Br,{to:`/equipment/${e.id}/edit`,className:"btn-icon text-slate-600 hover:text-slate-800 hover:bg-slate-50",title:"Edit equipment",children:c.jsx(RE,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>n(e.id),className:"btn-icon text-green-600 hover:text-green-800 hover:bg-green-50",title:"Duplicate equipment",children:c.jsx(qx,{className:"w-5 h-5"})}),c.jsx(c2,{equipmentId:e.id,onBatchDuplicate:()=>{const y=new CustomEvent("batchDuplicate",{detail:{id:e.id}});document.dispatchEvent(y)},onBatchStatusUpdate:()=>{const y=new CustomEvent("batchStatusUpdate",{detail:{id:e.id}});document.dispatchEvent(y)},onBatchLocationChange:()=>{const y=new CustomEvent("batchLocationChange",{detail:{id:e.id}});document.dispatchEvent(y)}})]})]})]})};ON.propTypes={equipment:ne.object.isRequired,onDuplicate:ne.func.isRequired,onSelect:ne.func,isSelected:ne.bool};const Pa=({field:e,label:n,currentSortField:t,currentSortOrder:r,onSort:s,className:a=""})=>{const d=t===e;return c.jsx("th",{className:`table-header-cell cursor-pointer select-none ${a}`,onClick:()=>s(e),children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{children:n}),c.jsx("div",{className:"flex flex-col h-4 justify-center",children:d?r==="asc"?c.jsx(Gy,{className:"w-3 h-3 text-primary-600"}):c.jsx(JR,{className:"w-3 h-3 text-primary-600"}):c.jsx("div",{className:"w-3 h-3 opacity-60",children:c.jsx(Gy,{className:"w-3 h-3 text-gray-500"})})})]})})};Pa.propTypes={field:ne.string.isRequired,label:ne.string.isRequired,currentSortField:ne.string.isRequired,currentSortOrder:ne.string.isRequired,onSort:ne.func.isRequired,className:ne.string};function pl(e,n,t,r){function s(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(y){try{x(r.next(y))}catch(E){d(E)}}function v(y){try{x(r.throw(y))}catch(E){d(E)}}function x(y){y.done?a(y.value):s(y.value).then(g,v)}x((r=r.apply(e,n||[])).next())})}const YF=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Cc(e,n,t){const r=GF(e),{webkitRelativePath:s}=e,a=typeof n=="string"?n:typeof s=="string"&&s.length>0?s:`./${e.name}`;return typeof r.path!="string"&&qb(r,"path",a),t!==void 0&&Object.defineProperty(r,"handle",{value:t,writable:!1,configurable:!1,enumerable:!0}),qb(r,"relativePath",a),r}function GF(e){const{name:n}=e;if(n&&n.lastIndexOf(".")!==-1&&!e.type){const r=n.split(".").pop().toLowerCase(),s=YF.get(r);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}function qb(e,n,t){Object.defineProperty(e,n,{value:t,writable:!1,configurable:!1,enumerable:!0})}const $F=[".DS_Store","Thumbs.db"];function XF(e){return pl(this,void 0,void 0,function*(){return xh(e)&&QF(e.dataTransfer)?eB(e.dataTransfer,e.type):KF(e)?ZF(e):Array.isArray(e)&&e.every(n=>"getFile"in n&&typeof n.getFile=="function")?JF(e):[]})}function QF(e){return xh(e)}function KF(e){return xh(e)&&xh(e.target)}function xh(e){return typeof e=="object"&&e!==null}function ZF(e){return Ng(e.target.files).map(n=>Cc(n))}function JF(e){return pl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(t=>t.getFile()))).map(t=>Cc(t))})}function eB(e,n){return pl(this,void 0,void 0,function*(){if(e.items){const t=Ng(e.items).filter(s=>s.kind==="file");if(n!=="drop")return t;const r=yield Promise.all(t.map(tB));return Vb(MN(r))}return Vb(Ng(e.files).map(t=>Cc(t)))})}function Vb(e){return e.filter(n=>$F.indexOf(n.name)===-1)}function Ng(e){if(e===null)return[];const n=[];for(let t=0;t<e.length;t++){const r=e[t];n.push(r)}return n}function tB(e){if(typeof e.webkitGetAsEntry!="function")return Yb(e);const n=e.webkitGetAsEntry();return n&&n.isDirectory?LN(n):Yb(e,n)}function MN(e){return e.reduce((n,t)=>[...n,...Array.isArray(t)?MN(t):[t]],[])}function Yb(e,n){return pl(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const a=yield e.getAsFileSystemHandle();if(a===null)throw new Error(`${e} is not a File`);if(a!==void 0){const d=yield a.getFile();return d.handle=a,Cc(d)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Cc(r,(t=n==null?void 0:n.fullPath)!==null&&t!==void 0?t:void 0)})}function nB(e){return pl(this,void 0,void 0,function*(){return e.isDirectory?LN(e):rB(e)})}function LN(e){const n=e.createReader();return new Promise((t,r)=>{const s=[];function a(){n.readEntries(d=>pl(this,void 0,void 0,function*(){if(d.length){const g=Promise.all(d.map(nB));s.push(g),a()}else try{const g=yield Promise.all(s);t(g)}catch(g){r(g)}}),d=>{r(d)})}a()})}function rB(e){return pl(this,void 0,void 0,function*(){return new Promise((n,t)=>{e.file(r=>{const s=Cc(r,e.fullPath);n(s)},r=>{t(r)})})})}var J1=function(e,n){if(e&&n){var t=Array.isArray(n)?n:n.split(",");if(t.length===0)return!0;var r=e.name||"",s=(e.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return t.some(function(d){var g=d.trim().toLowerCase();return g.charAt(0)==="."?r.toLowerCase().endsWith(g):g.endsWith("/*")?a===g.replace(/\/.*$/,""):s===g})}return!0};function Gb(e){return aB(e)||sB(e)||FN(e)||iB()}function iB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aB(e){if(Array.isArray(e))return _g(e)}function $b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}function Xb(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?$b(Object(t),!0).forEach(function(r){PN(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$b(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function PN(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function fd(e,n){return cB(e)||lB(e,n)||FN(e,n)||oB()}function oB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FN(e,n){if(e){if(typeof e=="string")return _g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _g(e,n)}}function _g(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function lB(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],s=!0,a=!1,d,g;try{for(t=t.call(e);!(s=(d=t.next()).done)&&(r.push(d.value),!(n&&r.length===n));s=!0);}catch(v){a=!0,g=v}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw g}}return r}}function cB(e){if(Array.isArray(e))return e}var uB=typeof J1=="function"?J1:J1.default,dB="file-invalid-type",fB="file-too-large",hB="file-too-small",pB="too-many-files",mB=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=n.split(","),r=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:dB,message:"File type must be ".concat(r)}},Qb=function(n){return{code:fB,message:"File is larger than ".concat(n," ").concat(n===1?"byte":"bytes")}},Kb=function(n){return{code:hB,message:"File is smaller than ".concat(n," ").concat(n===1?"byte":"bytes")}},gB={code:pB,message:"Too many files"};function BN(e,n){var t=e.type==="application/x-moz-file"||uB(e,n);return[t,t?null:mB(n)]}function UN(e,n,t){if(qo(e.size))if(qo(n)&&qo(t)){if(e.size>t)return[!1,Qb(t)];if(e.size<n)return[!1,Kb(n)]}else{if(qo(n)&&e.size<n)return[!1,Kb(n)];if(qo(t)&&e.size>t)return[!1,Qb(t)]}return[!0,null]}function qo(e){return e!=null}function xB(e){var n=e.files,t=e.accept,r=e.minSize,s=e.maxSize,a=e.multiple,d=e.maxFiles,g=e.validator;return!a&&n.length>1||a&&d>=1&&n.length>d?!1:n.every(function(v){var x=BN(v,t),y=fd(x,1),E=y[0],_=UN(v,r,s),k=fd(_,1),S=k[0],R=g?g(v):null;return E&&S&&!R})}function vh(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Kf(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(n){return n==="Files"||n==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Zb(e){e.preventDefault()}function vB(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function wB(e){return e.indexOf("Edge/")!==-1}function yB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return vB(e)||wB(e)}function bs(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),d=1;d<s;d++)a[d-1]=arguments[d];return n.some(function(g){return!vh(r)&&g&&g.apply(void 0,[r].concat(a)),vh(r)})}}function bB(){return"showOpenFilePicker"in window}function CB(e){if(qo(e)){var n=Object.entries(e).filter(function(t){var r=fd(t,2),s=r[0],a=r[1],d=!0;return zN(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(a)||!a.every(WN))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(t,r){var s=fd(r,2),a=s[0],d=s[1];return Xb(Xb({},t),{},PN({},a,d))},{});return[{description:"Files",accept:n}]}return e}function EB(e){if(qo(e))return Object.entries(e).reduce(function(n,t){var r=fd(t,2),s=r[0],a=r[1];return[].concat(Gb(n),[s],Gb(a))},[]).filter(function(n){return zN(n)||WN(n)}).join(",")}function NB(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function _B(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function zN(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function WN(e){return/^.*\.[\w]+$/.test(e)}var SB=["children"],AB=["open"],kB=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],TB=["refKey","onChange","onClick"];function DB(e){return RB(e)||jB(e)||HN(e)||IB()}function IB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RB(e){if(Array.isArray(e))return Sg(e)}function em(e,n){return LB(e)||MB(e,n)||HN(e,n)||OB()}function OB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HN(e,n){if(e){if(typeof e=="string")return Sg(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sg(e,n)}}function Sg(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function MB(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],s=!0,a=!1,d,g;try{for(t=t.call(e);!(s=(d=t.next()).done)&&(r.push(d.value),!(n&&r.length===n));s=!0);}catch(v){a=!0,g=v}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw g}}return r}}function LB(e){if(Array.isArray(e))return e}function Jb(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}function En(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Jb(Object(t),!0).forEach(function(r){Ag(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jb(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Ag(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function wh(e,n){if(e==null)return{};var t=PB(e,n),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function PB(e,n){if(e==null)return{};var t={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(n.indexOf(s)>=0)&&(t[s]=e[s]);return t}var u2=L.forwardRef(function(e,n){var t=e.children,r=wh(e,SB),s=Sd(r),a=s.open,d=wh(s,AB);return L.useImperativeHandle(n,function(){return{open:a}},[a]),de.createElement(L.Fragment,null,t(En(En({},d),{},{open:a})))});u2.displayName="Dropzone";var qN={disabled:!1,getFilesFromEvent:XF,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};u2.defaultProps=qN;u2.propTypes={children:ne.func,accept:ne.objectOf(ne.arrayOf(ne.string)),multiple:ne.bool,preventDropOnDocument:ne.bool,noClick:ne.bool,noKeyboard:ne.bool,noDrag:ne.bool,noDragEventsBubbling:ne.bool,minSize:ne.number,maxSize:ne.number,maxFiles:ne.number,disabled:ne.bool,getFilesFromEvent:ne.func,onFileDialogCancel:ne.func,onFileDialogOpen:ne.func,useFsAccessApi:ne.bool,autoFocus:ne.bool,onDragEnter:ne.func,onDragLeave:ne.func,onDragOver:ne.func,onDrop:ne.func,onDropAccepted:ne.func,onDropRejected:ne.func,onError:ne.func,validator:ne.func};var kg={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Sd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=En(En({},qN),e),t=n.accept,r=n.disabled,s=n.getFilesFromEvent,a=n.maxSize,d=n.minSize,g=n.multiple,v=n.maxFiles,x=n.onDragEnter,y=n.onDragLeave,E=n.onDragOver,_=n.onDrop,k=n.onDropAccepted,S=n.onDropRejected,R=n.onFileDialogCancel,O=n.onFileDialogOpen,I=n.useFsAccessApi,D=n.autoFocus,j=n.preventDropOnDocument,q=n.noClick,Q=n.noKeyboard,B=n.noDrag,F=n.noDragEventsBubbling,V=n.onError,W=n.validator,se=L.useMemo(function(){return EB(t)},[t]),le=L.useMemo(function(){return CB(t)},[t]),ie=L.useMemo(function(){return typeof O=="function"?O:e3},[O]),ce=L.useMemo(function(){return typeof R=="function"?R:e3},[R]),xe=L.useRef(null),re=L.useRef(null),Se=L.useReducer(FB,kg),ye=em(Se,2),ue=ye[0],_e=ye[1],Re=ue.isFocused,Oe=ue.isFileDialogActive,Je=L.useRef(typeof window<"u"&&window.isSecureContext&&I&&bB()),cn=function(){!Je.current&&Oe&&setTimeout(function(){if(re.current){var Ge=re.current.files;Ge.length||(_e({type:"closeDialog"}),ce())}},300)};L.useEffect(function(){return window.addEventListener("focus",cn,!1),function(){window.removeEventListener("focus",cn,!1)}},[re,Oe,ce,Je]);var mt=L.useRef([]),Ie=function(Ge){xe.current&&xe.current.contains(Ge.target)||(Ge.preventDefault(),mt.current=[])};L.useEffect(function(){return j&&(document.addEventListener("dragover",Zb,!1),document.addEventListener("drop",Ie,!1)),function(){j&&(document.removeEventListener("dragover",Zb),document.removeEventListener("drop",Ie))}},[xe,j]),L.useEffect(function(){return!r&&D&&xe.current&&xe.current.focus(),function(){}},[xe,D,r]);var Ae=L.useCallback(function(De){V?V(De):console.error(De)},[V]),ot=L.useCallback(function(De){De.preventDefault(),De.persist(),je(De),mt.current=[].concat(DB(mt.current),[De.target]),Kf(De)&&Promise.resolve(s(De)).then(function(Ge){if(!(vh(De)&&!F)){var Tt=Ge.length,en=Tt>0&&xB({files:Ge,accept:se,minSize:d,maxSize:a,multiple:g,maxFiles:v,validator:W}),Yt=Tt>0&&!en;_e({isDragAccept:en,isDragReject:Yt,isDragActive:!0,type:"setDraggedFiles"}),x&&x(De)}}).catch(function(Ge){return Ae(Ge)})},[s,x,Ae,F,se,d,a,g,v,W]),Qe=L.useCallback(function(De){De.preventDefault(),De.persist(),je(De);var Ge=Kf(De);if(Ge&&De.dataTransfer)try{De.dataTransfer.dropEffect="copy"}catch{}return Ge&&E&&E(De),!1},[E,F]),kn=L.useCallback(function(De){De.preventDefault(),De.persist(),je(De);var Ge=mt.current.filter(function(en){return xe.current&&xe.current.contains(en)}),Tt=Ge.indexOf(De.target);Tt!==-1&&Ge.splice(Tt,1),mt.current=Ge,!(Ge.length>0)&&(_e({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Kf(De)&&y&&y(De))},[xe,y,F]),sn=L.useCallback(function(De,Ge){var Tt=[],en=[];De.forEach(function(Yt){var un=BN(Yt,se),ii=em(un,2),Ni=ii[0],Ms=ii[1],Jt=UN(Yt,d,a),Te=em(Jt,2),tn=Te[0],At=Te[1],Wt=W?W(Yt):null;if(Ni&&tn&&!Wt)Tt.push(Yt);else{var $i=[Ms,At];Wt&&($i=$i.concat(Wt)),en.push({file:Yt,errors:$i.filter(function(vo){return vo})})}}),(!g&&Tt.length>1||g&&v>=1&&Tt.length>v)&&(Tt.forEach(function(Yt){en.push({file:Yt,errors:[gB]})}),Tt.splice(0)),_e({acceptedFiles:Tt,fileRejections:en,isDragReject:en.length>0,type:"setFiles"}),_&&_(Tt,en,Ge),en.length>0&&S&&S(en,Ge),Tt.length>0&&k&&k(Tt,Ge)},[_e,g,se,d,a,v,_,k,S,W]),_t=L.useCallback(function(De){De.preventDefault(),De.persist(),je(De),mt.current=[],Kf(De)&&Promise.resolve(s(De)).then(function(Ge){vh(De)&&!F||sn(Ge,De)}).catch(function(Ge){return Ae(Ge)}),_e({type:"reset"})},[s,sn,Ae,F]),Ne=L.useCallback(function(){if(Je.current){_e({type:"openDialog"}),ie();var De={multiple:g,types:le};window.showOpenFilePicker(De).then(function(Ge){return s(Ge)}).then(function(Ge){sn(Ge,null),_e({type:"closeDialog"})}).catch(function(Ge){NB(Ge)?(ce(Ge),_e({type:"closeDialog"})):_B(Ge)?(Je.current=!1,re.current?(re.current.value=null,re.current.click()):Ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ae(Ge)});return}re.current&&(_e({type:"openDialog"}),ie(),re.current.value=null,re.current.click())},[_e,ie,ce,I,sn,Ae,le,g]),Le=L.useCallback(function(De){!xe.current||!xe.current.isEqualNode(De.target)||(De.key===" "||De.key==="Enter"||De.keyCode===32||De.keyCode===13)&&(De.preventDefault(),Ne())},[xe,Ne]),ft=L.useCallback(function(){_e({type:"focus"})},[]),an=L.useCallback(function(){_e({type:"blur"})},[]),Ei=L.useCallback(function(){q||(yB()?setTimeout(Ne,0):Ne())},[q,Ne]),Ct=function(Ge){return r?null:Ge},St=function(Ge){return Q?null:Ct(Ge)},lt=function(Ge){return B?null:Ct(Ge)},je=function(Ge){F&&Ge.stopPropagation()},Ce=L.useMemo(function(){return function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ge=De.refKey,Tt=Ge===void 0?"ref":Ge,en=De.role,Yt=De.onKeyDown,un=De.onFocus,ii=De.onBlur,Ni=De.onClick,Ms=De.onDragEnter,Jt=De.onDragOver,Te=De.onDragLeave,tn=De.onDrop,At=wh(De,kB);return En(En(Ag({onKeyDown:St(bs(Yt,Le)),onFocus:St(bs(un,ft)),onBlur:St(bs(ii,an)),onClick:Ct(bs(Ni,Ei)),onDragEnter:lt(bs(Ms,ot)),onDragOver:lt(bs(Jt,Qe)),onDragLeave:lt(bs(Te,kn)),onDrop:lt(bs(tn,_t)),role:typeof en=="string"&&en!==""?en:"presentation"},Tt,xe),!r&&!Q?{tabIndex:0}:{}),At)}},[xe,Le,ft,an,Ei,ot,Qe,kn,_t,Q,B,r]),Fn=L.useCallback(function(De){De.stopPropagation()},[]),fr=L.useMemo(function(){return function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ge=De.refKey,Tt=Ge===void 0?"ref":Ge,en=De.onChange,Yt=De.onClick,un=wh(De,TB),ii=Ag({accept:se,multiple:g,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ct(bs(en,_t)),onClick:Ct(bs(Yt,Fn)),tabIndex:-1},Tt,re);return En(En({},ii),un)}},[re,t,g,_t,r]);return En(En({},ue),{},{isFocused:Re&&!r,getRootProps:Ce,getInputProps:fr,rootRef:xe,inputRef:re,open:Ct(Ne)})}function FB(e,n){switch(n.type){case"focus":return En(En({},e),{},{isFocused:!0});case"blur":return En(En({},e),{},{isFocused:!1});case"openDialog":return En(En({},kg),{},{isFileDialogActive:!0});case"closeDialog":return En(En({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return En(En({},e),{},{isDragActive:n.isDragActive,isDragAccept:n.isDragAccept,isDragReject:n.isDragReject});case"setFiles":return En(En({},e),{},{acceptedFiles:n.acceptedFiles,fileRejections:n.fileRejections,isDragReject:n.isDragReject});case"reset":return En({},kg);default:return e}}function e3(){}const BB=async(e="csv",n={})=>{try{const t={format:e};return Object.entries(n).forEach(([s,a])=>{s==="selectedIds"&&Array.isArray(a)&&a.length>0?t.selectedIds=JSON.stringify(a):t[s]=a}),console.log("Export params:",t),(await nt.get("/api/import-export/export",{params:t,responseType:"blob"})).data}catch(t){throw console.error("Error exporting equipment:",t),t}},UB=async(e,n={})=>{try{const t=new FormData;return t.append("file",e),Object.entries(n).forEach(([s,a])=>{t.append(s,a)}),(await nt.post("/api/import-export/import",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error importing equipment:",t),t}},zB=(e,n)=>{const t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=n,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(t),document.body.removeChild(r)},WB=({isOpen:e,onClose:n,filters:t={},selectedItems:r=[]})=>{const[s,a]=L.useState("export"),[d,g]=L.useState("csv"),[v,x]=L.useState(!1),[y,E]=L.useState(!1),[_,k]=L.useState(null),[S,R]=L.useState(!0),[O,I]=L.useState(null),[D,j]=L.useState(""),{user:q}=ur(),Q=rr(),B=q&&(q.role==="admin"||q.role==="advanced"),{getRootProps:F,getInputProps:V,isDragActive:W}=Sd({onDrop:ie=>{ie.length>0&&(k(ie[0]),j(""))},accept:{"text/csv":[".csv"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/json":[".json"]},maxFiles:1}),se=async()=>{try{E(!0),j("");const ie=new Date().toISOString().split("T")[0],ce={...t};v&&r.length>0&&(ce.selectedIds=r);const xe=await BB(d,ce);let re;const Se=v&&r.length>0?`equipment_selected_${r.length}_items_${ie}`:`equipment_export_${ie}`;switch(d){case"csv":re=`${Se}.csv`;break;case"xlsx":re=`${Se}.xlsx`;break;case"json":re=`${Se}.json`;break;default:re=Se}zB(xe,re),E(!1)}catch(ie){console.error("Export error:",ie),j("Failed to export data. Please try again."),E(!1)}},le=async()=>{if(!_){j("Please select a file to import");return}try{E(!0),j(""),I(null);const ie=await UB(_,{updateExisting:S});I(ie.results),Q.invalidateQueries(["equipment"]),E(!1),k(null),ie.results.errors.length===0&&setTimeout(()=>{n()},3e3)}catch(ie){console.error("Import error:",ie),j("Failed to import data. Please check your file and try again."),E(!1)}};return!e||!B?null:c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Import/Export Equipment"}),c.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"flex border-b",children:[c.jsx("button",{className:`px-4 py-2 ${s==="export"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("export"),children:"Export"}),c.jsx("button",{className:`px-4 py-2 ${s==="import"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("import"),children:"Import"})]}),c.jsx("div",{className:"p-4",children:s==="export"?c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Format"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"csv",checked:d==="csv",onChange:()=>g("csv")}),c.jsx("span",{className:"ml-2",children:"CSV"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"xlsx",checked:d==="xlsx",onChange:()=>g("xlsx")}),c.jsx("span",{className:"ml-2",children:"Excel (XLSX)"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"json",checked:d==="json",onChange:()=>g("json")}),c.jsx("span",{className:"ml-2",children:"JSON"})]})]})]}),r.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Scope"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:!v,onChange:()=>x(!1)}),c.jsx("span",{className:"ml-2",children:"All equipment (with filters)"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:v,onChange:()=>x(!0)}),c.jsxs("span",{className:"ml-2",children:["Selected items only (",r.length,")"]})]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsx("p",{className:"text-sm text-gray-600",children:v&&r.length>0?`This will export ${r.length} selected equipment items.`:"This will export all equipment data based on your current filters."})}),D&&c.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:D}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:n,disabled:y,className:"btn btn-secondary",children:"Cancel"}),c.jsx("button",{onClick:se,disabled:y,className:`btn ${y?"bg-blue-400":"btn-primary"}`,children:y?c.jsxs("div",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):"Export"})]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload File"}),c.jsxs("div",{...F(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${W?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[c.jsx("input",{...V()}),_?c.jsxs("div",{children:[c.jsxs("p",{className:"text-green-600",children:["File selected: ",_.name]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(_.size/1024).toFixed(2)," KB"]})]}):W?c.jsx("p",{className:"text-blue-500",children:"Drop the file here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop a file here, or click to select a file"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Accepted file types: CSV, XLSX, JSON"})]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"checkbox",className:"form-checkbox",checked:S,onChange:ie=>R(ie.target.checked)}),c.jsx("span",{className:"ml-2",children:"Update existing equipment if found"})]})}),D&&c.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:D}),O&&c.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded",children:[c.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Import Results"}),c.jsxs("ul",{className:"text-sm text-green-700",children:[c.jsxs("li",{children:["Total records processed: ",O.total]}),c.jsxs("li",{children:["New records created: ",O.created]}),c.jsxs("li",{children:["Existing records updated: ",O.updated]}),c.jsxs("li",{children:["Errors: ",O.errors.length]})]}),O.errors.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsx("h4",{className:"font-medium text-red-800",children:"Errors:"}),c.jsx("ul",{className:"text-sm text-red-700 mt-1 max-h-32 overflow-y-auto",children:O.errors.map((ie,ce)=>c.jsxs("li",{children:[ie.record.serial_number||ie.record.id||`Row ${ce+1}`,": ",ie.error]},ce))})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:n,disabled:y,className:"btn btn-secondary",children:"Cancel"}),c.jsx("button",{onClick:le,disabled:y||!_,className:`btn ${y?"bg-blue-400":"btn-primary"}`,children:y?c.jsxs("div",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):"Import"})]})]})})]})})},HB=()=>{var lt;const e=ds(),n=L.useRef(null),[t]=L.useState(20),[r,s]=L.useState({type:"",brand:"",status:"",location_id:"",search:""}),[a,d]=L.useState([]),[g,v]=L.useState(!1),[x,y]=L.useState("updated_at"),[E,_]=L.useState("desc"),[k,S]=L.useState("list"),[R,O]=L.useState(!1);L.useEffect(()=>{const je=localStorage.getItem("equipmentViewMode");je&&S(je);const Ce=localStorage.getItem("equipmentShowThumbnails");Ce!==null&&O(Ce==="true")},[]),L.useEffect(()=>{localStorage.setItem("equipmentViewMode",k)},[k]),L.useEffect(()=>{localStorage.setItem("equipmentShowThumbnails",R.toString())},[R]);const[I,D]=L.useState(!1),[j,q]=L.useState(!1),[Q,B]=L.useState(!1),[F,V]=L.useState(!1),[W,se]=L.useState(!1),[le,ie]=L.useState(!1),[ce,xe]=L.useState(!1),[re,Se]=L.useState(!1),[ye,ue]=L.useState(null);L.useEffect(()=>{const je=fr=>{const{id:De}=fr.detail;ue(De),q(!0)},Ce=fr=>{const{id:De}=fr.detail;ue(De),B(!0)},Fn=fr=>{const{id:De}=fr.detail;ue(De),V(!0)};return document.addEventListener("batchDuplicate",je),document.addEventListener("batchStatusUpdate",Ce),document.addEventListener("batchLocationChange",Fn),()=>{document.removeEventListener("batchDuplicate",je),document.removeEventListener("batchStatusUpdate",Ce),document.removeEventListener("batchLocationChange",Fn)}},[]);const{data:_e,fetchNextPage:Re,hasNextPage:Oe,isFetchingNextPage:Je,isLoading:cn,isError:mt,error:Ie}=YC(["equipment",r,x,E],async({pageParam:je=1})=>{const Ce={page:je,limit:t,...r,sortBy:x,sortOrder:E};return Fu(Ce)},{getNextPageParam:je=>{if(je.page<je.totalPages)return je.page+1},keepPreviousData:!0}),{data:Ae}=Lt({queryKey:["equipmentTypes"],queryFn:ya,staleTime:3e5}),{data:ot}=Lt(["locations"],go),Qe=(_e==null?void 0:_e.pages.flatMap(je=>je.equipment))||[];L.useEffect(()=>{const je=new IntersectionObserver(Ce=>{Ce[0].isIntersecting&&Oe&&!Je&&Re()},{threshold:.5});return n.current&&je.observe(n.current),()=>{n.current&&je.unobserve(n.current)}},[n,Re,Oe,Je]);const kn=je=>{ue(je),D(!0)},sn=()=>{D(!1),ue(null)},_t=()=>{q(!1),ue(null)},Ne=je=>{const{name:Ce,value:Fn}=je.target;s(fr=>({...fr,[Ce]:Fn}))},Le=je=>{je.preventDefault()},ft=je=>{x===je?_(Ce=>Ce==="asc"?"desc":"asc"):(y(je),_("desc"))},an=je=>{d(Ce=>Ce.includes(je)?Ce.filter(Fn=>Fn!==je):[...Ce,je])},Ei=()=>{if(g)d([]);else{const je=Qe.map(Ce=>Ce.id);d(je)}v(!g)},Ct=()=>{d([]),v(!1)},St=(je,Ce)=>{Ce.target.type==="checkbox"||Ce.target.closest("button")||Ce.target.closest("a")||Ce.target.closest(".btn-icon")||e(`/equipment/${je}`)};return cn?c.jsx("div",{className:"text-center py-10",children:"Loading..."}):mt?c.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",Ie.message||"Failed to load equipment"]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(qF,{isOpen:I,onClose:sn,equipmentId:ye}),c.jsx(VF,{isOpen:j,onClose:_t,equipmentId:ye,selectedItems:a}),c.jsx(kN,{isOpen:Q,onClose:()=>B(!1),equipmentId:ye,selectedItems:a}),c.jsx(TN,{isOpen:F,onClose:()=>V(!1),equipmentId:ye,selectedItems:a}),c.jsx(DN,{isOpen:W,onClose:()=>se(!1),selectedItems:a}),c.jsx(IN,{isOpen:le,onClose:()=>ie(!1),selectedItems:a}),c.jsx(jN,{isOpen:ce,onClose:()=>xe(!1),selectedItems:a}),c.jsx(WB,{isOpen:re,onClose:()=>Se(!1),filters:r,selectedItems:a}),c.jsx("div",{className:"card",children:c.jsxs("form",{onSubmit:Le,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),c.jsxs("div",{className:"input-group",children:[c.jsx(OE,{className:"input-icon w-4 h-4"}),c.jsx("input",{type:"text",id:"search",name:"search",value:r.search,onChange:Ne,placeholder:"Search equipment...",className:"input input-with-icon"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"type",className:"label",children:"Type"}),c.jsxs("select",{id:"type",name:"type",value:r.type,onChange:Ne,className:"input",children:[c.jsx("option",{value:"",children:"All Types"}),Ae!=null&&Ae.types&&Ae.types.length>0?Ae.types.map(je=>c.jsx("option",{value:je.name.toLowerCase(),children:je.name},je.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"status",className:"label",children:"Status"}),c.jsxs("select",{id:"status",name:"status",value:r.status,onChange:Ne,className:"input",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"available",children:"Available"}),c.jsx("option",{value:"in-use",children:"In Use"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),c.jsxs("select",{id:"location_id",name:"location_id",value:r.location_id,onChange:Ne,className:"input",children:[c.jsx("option",{value:"",children:"All Locations"}),(lt=ot==null?void 0:ot.locations)==null?void 0:lt.map(je=>c.jsx("option",{value:je.id.toString(),children:je.name},je.id))]})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{type:"button",onClick:()=>{s({type:"",brand:"",status:"",location_id:"",search:""})},className:"btn btn-outline w-full",children:"Clear All Filters"})}),c.jsx("div",{className:"flex items-end",children:c.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[c.jsx(ME,{className:"w-4 h-4"}),c.jsx("span",{children:"Apply Filters"})]})})]})}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"flex flex-col space-y-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mr-4",children:"Equipment List"}),c.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden mr-2",children:[c.jsx("button",{onClick:()=>S("list"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="list"?"bg-white text-primary-600 border-r border-slate-200 hover:bg-primary-50":"bg-white text-slate-600 border-r border-slate-200 hover:bg-slate-50"}`,title:"List view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),c.jsx("button",{onClick:()=>S("card"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="card"?"bg-white text-primary-600 hover:bg-primary-50":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]}),a.length>0&&c.jsx("div",{className:"ml-2",children:c.jsx(RN,{selectedItems:a,onBatchDuplicate:()=>q(!0),onBatchStatusUpdate:()=>B(!0),onBatchLocationChange:()=>V(!0),onBatchTypeChange:()=>se(!0),onBatchCategoryChange:()=>ie(!0),onBatchBrandModelChange:()=>xe(!0),onClearSelection:Ct})})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>Se(!0),className:"btn btn-secondary btn-sm",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(tO,{className:"w-4 h-4 mr-1"}),c.jsx(nO,{className:"w-4 h-4 mr-1"}),c.jsx("span",{children:"Import/Export"})]})}),c.jsxs(Br,{to:"/equipment/new",className:"btn btn-primary btn-sm",children:[c.jsx(jE,{className:"w-4 h-4"}),c.jsx("span",{children:"Add New Equipment"})]})]})]})}),k==="card"&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Qe.length>0?Qe.map(je=>c.jsx(ON,{equipment:je,onDuplicate:kn,onSelect:an,isSelected:a.includes(je.id)},je.id)):c.jsx("div",{className:"col-span-3 py-8 text-center text-gray-500",children:"No equipment found"})}),k==="list"&&c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell w-10",children:c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("input",{type:"checkbox",checked:g,onChange:Ei,className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),c.jsx(Pa,{field:"type",label:"Type",currentSortField:x,currentSortOrder:E,onSort:ft}),c.jsx(Pa,{field:"category",label:"Category",currentSortField:x,currentSortOrder:E,onSort:ft}),c.jsx(Pa,{field:"brand",label:"Brand",currentSortField:x,currentSortOrder:E,onSort:ft}),c.jsx(Pa,{field:"model",label:"Model",currentSortField:x,currentSortOrder:E,onSort:ft}),c.jsx(Pa,{field:"serial_number",label:"Serial Number",currentSortField:x,currentSortOrder:E,onSort:ft}),c.jsx(Pa,{field:"status",label:"Status",currentSortField:x,currentSortOrder:E,onSort:ft}),c.jsx(Pa,{field:"location",label:"Location",currentSortField:x,currentSortOrder:E,onSort:ft}),c.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:Qe.length>0?Qe.map(je=>{var Ce;return c.jsxs("tr",{className:`table-row ${a.includes(je.id)?"bg-blue-50":""} cursor-pointer hover:bg-slate-50`,onClick:Fn=>St(je.id,Fn),children:[c.jsx("td",{className:"table-cell",children:c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("input",{type:"checkbox",checked:a.includes(je.id),onChange:()=>an(je.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),c.jsx("td",{className:"table-cell",children:je.type}),c.jsx("td",{className:"table-cell",children:je.category||"-"}),c.jsx("td",{className:"table-cell",children:je.brand}),c.jsx("td",{className:"table-cell",children:je.model}),c.jsx("td",{className:"table-cell",children:je.serial_number}),c.jsx("td",{className:"table-cell",children:c.jsx("span",{className:`badge ${je.status==="available"?"badge-success":je.status==="in-use"?"badge-info":"badge-warning"}`,children:je.status})}),c.jsx("td",{className:"table-cell",children:((Ce=je.locationDetails)==null?void 0:Ce.name)||je.location||"-"}),c.jsx("td",{className:"table-cell",children:c.jsx("div",{className:"flex items-center justify-end",children:c.jsx(c2,{equipmentId:je.id,onBatchDuplicate:()=>{ue(je.id),q(!0)},onBatchStatusUpdate:()=>{ue(je.id),B(!0)},onBatchLocationChange:()=>{ue(je.id),V(!0)}})})})]},je.id)}):c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"px-6 py-4 text-center text-gray-500",children:"No equipment found"})})})]})}),c.jsx("div",{ref:n,className:"py-4 text-center",children:Je?c.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),c.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):Oe?c.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):c.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})]})},qB=async({page:e=1,limit:n=20,equipmentId:t,userId:r,actionType:s,search:a,type:d,status:g,location_id:v,sortBy:x="created_at",sortOrder:y="desc"})=>{const E={page:e,limit:n};return t&&(E.equipmentId=t),r&&(E.userId=r),s&&(E.actionType=s),a&&(E.search=a),d&&(E.type=d),g&&(E.status=g),v&&(E.location_id=v),x&&(E.sortBy=x),y&&(E.sortOrder=y),(await nt.get("/api/equipment-logs",{params:E})).data},VB=async(e,{page:n=1,limit:t=20}={})=>{const r={page:n,limit:t};return(await nt.get(`/api/equipment-logs/equipment/${e}`,{params:r})).data},VN=({equipmentId:e})=>{var y;const[n,t]=L.useState(1),[r]=L.useState(10),{data:s,isLoading:a,isError:d,error:g}=Lt(["equipmentLogs",e,n,r],()=>VB(e,{page:n,limit:r}),{keepPreviousData:!0,enabled:!!e}),v=E=>E.split("_").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" "),x=E=>{t(E)};return a?c.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[c.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{className:"text-slate-600",children:"Loading movement history..."})]}):d?c.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[c.jsx("div",{className:"bg-red-100 p-3 rounded-full mb-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("p",{className:"text-red-600 font-medium mb-1",children:"Error Loading Movement History"}),c.jsx("p",{className:"text-slate-500 text-sm",children:g.message||"Failed to load equipment logs"})]}):(y=s==null?void 0:s.logs)!=null&&y.length?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[c.jsx("thead",{className:"bg-slate-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Date"]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"User"]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Action"]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Details"]})})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:s.logs.map((E,_)=>{var k,S,R;return c.jsxs("tr",{className:`hover:bg-slate-50 ${_%2===0?"bg-white":"bg-slate-50/50"}`,children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium",children:cd(new Date(E.created_at),"MMM d, yyyy")}),c.jsx("span",{className:"ml-2 text-slate-500",children:cd(new Date(E.created_at),"h:mm a")})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 font-medium",children:(k=E.user)!=null&&k.username?E.user.username.charAt(0).toUpperCase():"?"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("div",{className:"text-sm font-medium text-slate-800",children:((S=E.user)==null?void 0:S.username)||"Unknown"}),c.jsx("div",{className:"text-xs text-slate-500 capitalize",children:((R=E.user)==null?void 0:R.role)||""})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("span",{className:`px-2.5 py-1.5 inline-flex text-xs leading-5 font-semibold rounded-full
                    ${E.action_type==="created"?"bg-green-100 text-green-800":E.action_type==="updated"?"bg-blue-100 text-blue-800":E.action_type==="deleted"?"bg-red-100 text-red-800":E.action_type==="status_change"?"bg-yellow-100 text-yellow-800":E.action_type==="location_change"?"bg-indigo-100 text-indigo-800":"bg-slate-100 text-slate-800"}`,children:[E.action_type==="created"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),E.action_type==="updated"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),E.action_type==="deleted"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),E.action_type==="status_change"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),E.action_type==="location_change"&&c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),v(E.action_type)]})}),c.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[E.action_type==="status_change"&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"font-medium text-slate-700",children:"Status:"}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:E.previous_status}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:E.new_status})]}),E.action_type==="location_change"&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"font-medium text-slate-700",children:"Location:"}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:E.previous_location||"None"}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:E.new_location||"None"})]}),E.details&&c.jsx("div",{className:"mt-2 text-slate-600",children:E.details})]})]},E.id)})})]})}),s.totalPages>1&&c.jsxs("div",{className:"flex justify-between items-center mt-4 px-2",children:[c.jsxs("div",{className:"text-sm text-slate-600 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Showing ",c.jsx("span",{className:"font-medium text-slate-800 mx-1",children:(n-1)*r+1})," to"," ",c.jsx("span",{className:"font-medium text-slate-800 mx-1",children:Math.min(n*r,s.total)})," of"," ",c.jsx("span",{className:"font-medium text-slate-800 mx-1",children:s.total})," logs"]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:()=>x(n-1),disabled:n===1,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${n===1?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-1 ${n===1?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),c.jsxs("button",{onClick:()=>x(n+1),disabled:n===s.totalPages,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${n===s.totalPages?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:["Next",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ml-1 ${n===s.totalPages?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}):c.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[c.jsx("div",{className:"bg-slate-100 p-3 rounded-full mb-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("p",{className:"text-slate-600 font-medium",children:"No movement history found"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"This equipment has no recorded movements or status changes"})]})},d2=({isOpen:e,title:n="Confirm Action",message:t="Are you sure you want to proceed?",confirmText:r="Confirm",cancelText:s="Cancel",onConfirm:a,onCancel:d,isDestructive:g=!1})=>e?c.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-soft max-w-md w-full p-6 animate-fade-in",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:n}),c.jsx("p",{className:"text-slate-600 mb-6",children:t}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx(We,{variant:"secondary",onClick:d,children:s}),c.jsx(We,{variant:g?"danger":"primary",onClick:a,children:r})]})]})}):null;d2.propTypes={isOpen:ne.bool.isRequired,title:ne.string,message:ne.string,confirmText:ne.string,cancelText:ne.string,onConfirm:ne.func.isRequired,onCancel:ne.func.isRequired,isDestructive:ne.bool};const f2=({onImageSelect:e,existingImage:n=null,onImageDelete:t})=>{const[r,s]=L.useState(null),[a,d]=L.useState(null);L.useEffect(()=>{d(n?`/api/files/${n.id}?thumbnail=true`:null)},[n]),L.useEffect(()=>()=>{a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a)},[a]);const g=L.useCallback(k=>{if(k.length>0){const S=k[0];if(S.size>10*1024*1024){alert("Image is too large. Maximum size is 10MB.");return}s(S),d(URL.createObjectURL(S)),e(S)}},[e]),v=()=>{s(null),a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a),d(null),e(null)},x=()=>{t&&n&&(t(n.id),d(null))},{getRootProps:y,getInputProps:E,isDragActive:_}=Sd({onDrop:g,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},maxFiles:1,multiple:!1});return c.jsx("div",{children:a?c.jsx("div",{className:"mt-4",children:c.jsxs("div",{className:"bg-slate-50 p-4 rounded-md border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-sm font-medium",children:n?n.file_name:(r==null?void 0:r.name)||"Reference Image"})]}),c.jsx("button",{type:"button",onClick:n?x:v,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsx("div",{className:"mt-2 flex justify-center",style:{height:"200px"},children:c.jsx("div",{className:"relative w-full h-full flex items-center justify-center overflow-hidden bg-slate-100 rounded-md",children:c.jsx("img",{src:a,alt:"Reference Image Preview",className:"rounded-md max-h-full max-w-full",style:{objectFit:"contain",objectPosition:"center"},onError:k=>{console.error("Error loading image:",k),k.target.src="/placeholder-image.png",k.target.onerror=null}})})})]})}):c.jsxs("div",{...y(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${_?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[c.jsx("input",{...E()}),_?c.jsx("p",{className:"text-primary-500",children:"Drop the image here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop a reference image here, or click to select"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Accepted file types: JPEG, PNG (Max: 10MB)"})]})]})})};f2.propTypes={onImageSelect:ne.func.isRequired,existingImage:ne.object,onImageDelete:ne.func};const h2=({isOpen:e,onClose:n,equipmentId:t,existingImage:r=null})=>{const[s,a]=L.useState(null),[d,g]=L.useState(!1),[v,x]=L.useState(""),y=rr(),E=R=>{a(R)},_=Ln({mutationFn:async R=>kE(t,{},[],[],R.referenceImageFile,R.removeReferenceImage),onSuccess:()=>{y.invalidateQueries(["equipment",t]),n()},onError:R=>{var O,I;console.error("Error updating reference image:",R),x(((I=(O=R.response)==null?void 0:O.data)==null?void 0:I.message)||"Failed to update reference image"),g(!1)}}),k=R=>{if(R.preventDefault(),!s){x("Please select an image file");return}g(!0),x(""),_.mutate({referenceImageFile:s})},S=()=>{g(!0),x(""),_.mutate({referenceImageFile:null,removeReferenceImage:!0})};return e?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-slate-500 opacity-75"})}),c.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),c.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:c.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[c.jsxs("h3",{className:"text-lg leading-6 font-medium text-slate-900 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Change Reference Image"]}),c.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"This image will be displayed prominently on the equipment details page and in search results."}),c.jsxs("div",{className:"mt-4",children:[v&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:c.jsx("p",{className:"text-red-700",children:v})}),c.jsxs("form",{onSubmit:k,children:[c.jsx("div",{className:"mb-4",children:c.jsx(f2,{onImageSelect:E,existingImage:r})}),c.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[c.jsx(We,{type:"submit",variant:"primary",disabled:d||!s,className:"w-full sm:ml-3 sm:w-auto",children:d?"Saving...":"Save Changes"}),c.jsx(We,{type:"button",variant:"secondary",onClick:n,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"}),r&&c.jsx(We,{type:"button",variant:"danger",onClick:S,className:"mt-3 w-full sm:mt-0 sm:mr-auto sm:w-auto",children:"Remove Image"})]})]})]})]})})})})]})}):null};h2.propTypes={isOpen:ne.bool.isRequired,onClose:ne.func.isRequired,equipmentId:ne.string.isRequired,existingImage:ne.object};const Tg=({fileType:e,fileUrl:n,fileName:t,className:r="",style:s={},showFileName:a=!0,size:d="medium",interactive:g=!0,useThumbnail:v=!0})=>{const[x,y]=L.useState(!0),[E,_]=L.useState(null),[k,S]=L.useState(!1),R=()=>{switch(d){case"small":return"h-24";case"large":return"h-48";case"medium":default:return"h-32"}},O=()=>{console.log("Image loaded successfully"),y(!1)},I=()=>{console.error("Image failed to load completely"),y(!1),_("Failed to load image")};L.useEffect(()=>{if(x&&e==="image"){const Q=setTimeout(()=>{console.log("Loading timeout reached, resetting loading state"),y(!1)},5e3);return()=>clearTimeout(Q)}},[x,e]),L.useEffect(()=>{!n&&e==="image"&&(console.log("No file URL provided, showing error state"),y(!1),_("No image available"))},[n,e]);const D=()=>{g&&e==="image"&&S(!k)},j=()=>{switch(e){case"image":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"pdf":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},q=()=>{if(x&&e==="image")return c.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("span",{className:"text-slate-400 text-xs",children:"Loading..."})]})});if(E)return c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-red-50",children:c.jsxs("div",{className:"flex flex-col items-center p-2",children:[c.jsx("svg",{className:"w-8 h-8 text-red-500 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c.jsx("span",{className:"text-red-500 text-xs text-center",children:E})]})});switch(e){case"image":if(!n)return console.error("No file URL provided for image"),c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-100",children:c.jsxs("div",{className:"flex flex-col items-center p-2",children:[c.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c.jsx("span",{className:"text-slate-400 text-xs text-center",children:"No image"})]})});const Q=new Date().getTime();let B=n;return B.includes("t=")||(B+=(B.includes("?")?"&":"?")+`t=${Q}`),c.jsx("div",{className:`w-full h-full flex items-center justify-center overflow-hidden ${g?"cursor-pointer":""}`,onClick:D,children:c.jsx("img",{src:B,alt:t||"Image preview",className:`max-h-full max-w-full object-contain transition-transform duration-300 ${k?"scale-150":""}`,onLoad:F=>{console.log("Image loaded successfully:",B),O()},onError:F=>{console.error("Image failed to load:",B);const V=F.target;if(n.includes("thumbnail=true")){console.log("Thumbnail failed to load, trying original image");const se=`${n.split("?")[0]}?t=${new Date().getTime()}`;console.log("Trying with URL:",se),V.src=se}else{console.log("Original image failed to load, trying with new cache busting");const W=n.includes("?")?`${n.split("?")[0]}?t=${new Date().getTime()}`:`${n}?t=${new Date().getTime()}`;console.log("Trying with URL:",W),V.src=W,V.dataset.retried?(console.error("Multiple load attempts failed, showing error"),I()):V.dataset.retried="true"}}},`img-${B}`)});case"audio":return c.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:[c.jsx("div",{className:"mb-2",children:j()}),g?c.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[c.jsx("source",{src:n,type:"audio/mpeg"}),"Your browser does not support the audio element."]}):c.jsx("div",{className:"text-sm text-slate-500",children:"Audio file"})]});case"pdf":return c.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[c.jsx("div",{className:"mb-2",children:j()}),g?c.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800 text-sm underline",children:"View PDF"}):c.jsx("div",{className:"text-sm text-slate-500",children:"PDF document"})]});default:return c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:j()})}};return c.jsxs("div",{className:`bg-slate-100 rounded-md overflow-hidden ${R()} ${r}`,style:s,children:[q(),a&&t&&c.jsx("div",{className:"bg-slate-800 bg-opacity-70 text-white text-xs py-1 px-2 absolute bottom-0 left-0 right-0 truncate",children:t})]})};Tg.propTypes={fileType:ne.oneOf(["image","audio","pdf"]).isRequired,fileUrl:ne.string.isRequired,fileName:ne.string,className:ne.string,style:ne.object,showFileName:ne.bool,size:ne.oneOf(["small","medium","large"]),interactive:ne.bool,useThumbnail:ne.bool};const p2=({files:e=[],onFileDelete:n,canDelete:t=!1,showDownload:r=!0,layout:s="grid",size:a="medium"})=>{const[d,g]=L.useState(null),v=S=>{g(S)},x=()=>{g(null)},y=(S,R=!1,O=!1)=>{let I=`/api/files/${S}`;const D=[];return R&&D.push("download=true"),O&&D.push("thumbnail=true"),D.length>0&&(I+=`?${D.join("&")}`),I},E=()=>d?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:x,children:c.jsxs("div",{className:"bg-white rounded-lg overflow-hidden max-w-3xl w-full max-h-[90vh] flex flex-col",onClick:S=>S.stopPropagation(),children:[c.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-900",children:d.file_name}),c.jsx("button",{type:"button",onClick:x,className:"text-slate-400 hover:text-slate-500",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center",children:d.file_type==="image"?c.jsx("img",{src:y(d.id),alt:d.file_name,className:"max-w-full max-h-[70vh] object-contain",onError:S=>{console.error("Error loading image in modal:",S),S.target.src=`${y(d.id)}?t=${new Date().getTime()}`}}):d.file_type==="audio"?c.jsxs("div",{className:"w-full max-w-md p-4",children:[c.jsx("div",{className:"mb-4 text-center",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})})}),c.jsxs("audio",{controls:!0,className:"w-full",children:[c.jsx("source",{src:y(d.id),type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):d.file_type==="pdf"?c.jsx("div",{className:"w-full h-[70vh]",children:c.jsx("iframe",{src:`${y(d.id)}#view=FitH`,title:d.file_name,className:"w-full h-full"})}):c.jsx("div",{className:"text-center p-4",children:c.jsx("p",{children:"This file type cannot be previewed."})})}),c.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end space-x-2",children:[c.jsx("a",{href:y(d.id,!0),download:!0,className:"btn btn-secondary",children:"Download"}),t&&c.jsx("button",{type:"button",onClick:()=>{n(d.id),x()},className:"btn btn-danger",children:"Delete"})]})]})}):null,_=()=>c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(S=>c.jsxs("div",{className:"relative group",children:[c.jsxs("div",{className:"cursor-pointer rounded-lg overflow-hidden border border-slate-200 bg-white shadow-sm hover:shadow-md transition-shadow",onClick:()=>v(S),children:[c.jsx(Tg,{fileType:S.file_type,fileUrl:y(S.id,!1,S.file_type==="image"),fileName:S.file_name,size:a,interactive:!1,useThumbnail:S.file_type==="image"}),c.jsxs("div",{className:"p-2",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:S.file_name,children:S.file_name}),c.jsx("p",{className:"text-xs text-slate-500 capitalize",children:S.file_type})]})]}),c.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[r&&c.jsx("a",{href:y(S.id,!0),download:!0,onClick:R=>R.stopPropagation(),className:"bg-white p-1.5 rounded-full shadow-md text-primary-600 hover:text-primary-800",title:"Download file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),t&&c.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),n(S.id)},className:"bg-white p-1.5 rounded-full shadow-md text-red-600 hover:text-red-800",title:"Delete file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},S.id))}),k=()=>c.jsx("div",{className:"divide-y divide-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:e.map(S=>c.jsxs("div",{className:"flex items-center p-3 hover:bg-slate-50 cursor-pointer",onClick:()=>v(S),children:[c.jsx("div",{className:"flex-shrink-0 mr-3 w-12 h-12 relative",children:c.jsx(Tg,{fileType:S.file_type,fileUrl:y(S.id,!1,S.file_type==="image"),fileName:S.file_name,size:"small",showFileName:!1,interactive:!1,useThumbnail:S.file_type==="image"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:S.file_name,children:S.file_name}),c.jsx("p",{className:"text-xs text-slate-500 capitalize",children:S.file_type})]}),c.jsxs("div",{className:"flex space-x-2 ml-2",children:[r&&c.jsx("a",{href:y(S.id,!0),download:!0,onClick:R=>R.stopPropagation(),className:"text-primary-600 hover:text-primary-800 p-1.5",title:"Download file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),t&&c.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),n(S.id)},className:"text-red-600 hover:text-red-800 p-1.5",title:"Delete file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},S.id))});return e.length===0?c.jsx("p",{className:"text-slate-500 italic",children:"No files available"}):c.jsxs("div",{children:[s==="grid"?_():k(),E()]})};p2.propTypes={files:ne.arrayOf(ne.shape({id:ne.number.isRequired,file_type:ne.string.isRequired,file_name:ne.string.isRequired})).isRequired,onFileDelete:ne.func,canDelete:ne.bool,showDownload:ne.bool,layout:ne.oneOf(["grid","list"]),size:ne.oneOf(["small","medium","large"])};const YB=async(e,n,t)=>{try{const r=new FormData;for(const a of n)r.append("files",a);return(await nt.post(`/api/files/upload/${e}`,r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t?a=>{const d=Math.round(a.loaded*100/a.total);t(d)}:void 0})).data}catch(r){throw console.error("Error uploading files:",r),r}};let GB={data:""},$B=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||GB,XB=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,QB=/\/\*[^]*?\*\/|  +/g,t3=/\n+/g,Ha=(e,n)=>{let t="",r="",s="";for(let a in e){let d=e[a];a[0]=="@"?a[1]=="i"?t=a+" "+d+";":r+=a[1]=="f"?Ha(d,a):a+"{"+Ha(d,a[1]=="k"?"":n)+"}":typeof d=="object"?r+=Ha(d,n?n.replace(/([^,])+/g,g=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,v=>/&/.test(v)?v.replace(/&/g,g):g?g+" "+v:v)):a):d!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ha.p?Ha.p(a,d):a+":"+d+";")}return t+(n&&s?n+"{"+s+"}":s)+r},Zs={},YN=e=>{if(typeof e=="object"){let n="";for(let t in e)n+=t+YN(e[t]);return n}return e},KB=(e,n,t,r,s)=>{let a=YN(e),d=Zs[a]||(Zs[a]=(v=>{let x=0,y=11;for(;x<v.length;)y=101*y+v.charCodeAt(x++)>>>0;return"go"+y})(a));if(!Zs[d]){let v=a!==e?e:(x=>{let y,E,_=[{}];for(;y=XB.exec(x.replace(QB,""));)y[4]?_.shift():y[3]?(E=y[3].replace(t3," ").trim(),_.unshift(_[0][E]=_[0][E]||{})):_[0][y[1]]=y[2].replace(t3," ").trim();return _[0]})(e);Zs[d]=Ha(s?{["@keyframes "+d]:v}:v,t?"":"."+d)}let g=t&&Zs.g?Zs.g:null;return t&&(Zs.g=Zs[d]),((v,x,y,E)=>{E?x.data=x.data.replace(E,v):x.data.indexOf(v)===-1&&(x.data=y?v+x.data:x.data+v)})(Zs[d],n,r,g),d},ZB=(e,n,t)=>e.reduce((r,s,a)=>{let d=n[a];if(d&&d.call){let g=d(t),v=g&&g.props&&g.props.className||/^go/.test(g)&&g;d=v?"."+v:g&&typeof g=="object"?g.props?"":Ha(g,""):g===!1?"":g}return r+s+(d??"")},"");function ap(e){let n=this||{},t=e.call?e(n.p):e;return KB(t.unshift?t.raw?ZB(t,[].slice.call(arguments,1),n.p):t.reduce((r,s)=>Object.assign(r,s&&s.call?s(n.p):s),{}):t,$B(n.target),n.g,n.o,n.k)}let GN,Dg,Ig;ap.bind({g:1});let xa=ap.bind({k:1});function JB(e,n,t,r){Ha.p=n,GN=e,Dg=t,Ig=r}function xo(e,n){let t=this||{};return function(){let r=arguments;function s(a,d){let g=Object.assign({},a),v=g.className||s.className;t.p=Object.assign({theme:Dg&&Dg()},g),t.o=/ *go\d+/.test(v),g.className=ap.apply(t,r)+(v?" "+v:""),n&&(g.ref=d);let x=e;return e[0]&&(x=g.as||e,delete g.as),Ig&&x[0]&&Ig(g),GN(x,g)}return n?n(s):s}}var eU=e=>typeof e=="function",jg=(e,n)=>eU(e)?e(n):e,tU=(()=>{let e=0;return()=>(++e).toString()})(),nU=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");e=!n||n.matches}return e}})(),rU=20,$N=(e,n)=>{switch(n.type){case 0:return{...e,toasts:[n.toast,...e.toasts].slice(0,rU)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===n.toast.id?{...a,...n.toast}:a)};case 2:let{toast:t}=n;return $N(e,{type:e.toasts.find(a=>a.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=n;return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return n.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==n.toastId)};case 5:return{...e,pausedAt:n.time};case 6:let s=n.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},iU=[],tm={toasts:[],pausedAt:void 0},m2=e=>{tm=$N(tm,e),iU.forEach(n=>{n(tm)})},sU=(e,n="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...t,id:(t==null?void 0:t.id)||tU()}),Ad=e=>(n,t)=>{let r=sU(n,e,t);return m2({type:2,toast:r}),r.id},Ur=(e,n)=>Ad("blank")(e,n);Ur.error=Ad("error");Ur.success=Ad("success");Ur.loading=Ad("loading");Ur.custom=Ad("custom");Ur.dismiss=e=>{m2({type:3,toastId:e})};Ur.remove=e=>m2({type:4,toastId:e});Ur.promise=(e,n,t)=>{let r=Ur.loading(n.loading,{...t,...t==null?void 0:t.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=n.success?jg(n.success,s):void 0;return a?Ur.success(a,{id:r,...t,...t==null?void 0:t.success}):Ur.dismiss(r),s}).catch(s=>{let a=n.error?jg(n.error,s):void 0;a?Ur.error(a,{id:r,...t,...t==null?void 0:t.error}):Ur.dismiss(r)}),e};var aU=xa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oU=xa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lU=xa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,cU=xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oU} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${lU} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,uU=xa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,dU=xo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${uU} 1s linear infinite;
`,fU=xa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,hU=xa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,pU=xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${hU} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mU=xo("div")`
  position: absolute;
`,gU=xo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xU=xa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vU=xo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xU} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,wU=({toast:e})=>{let{icon:n,type:t,iconTheme:r}=e;return n!==void 0?typeof n=="string"?L.createElement(vU,null,n):n:t==="blank"?null:L.createElement(gU,null,L.createElement(dU,{...r}),t!=="loading"&&L.createElement(mU,null,t==="error"?L.createElement(cU,{...r}):L.createElement(pU,{...r})))},yU=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,bU=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,CU="0%{opacity:0;} 100%{opacity:1;}",EU="0%{opacity:1;} 100%{opacity:0;}",NU=xo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_U=xo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,SU=(e,n)=>{let t=e.includes("top")?1:-1,[r,s]=nU()?[CU,EU]:[yU(t),bU(t)];return{animation:n?`${xa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xa(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};L.memo(({toast:e,position:n,style:t,children:r})=>{let s=e.height?SU(e.position||n||"top-center",e.visible):{opacity:0},a=L.createElement(wU,{toast:e}),d=L.createElement(_U,{...e.ariaProps},jg(e.message,e));return L.createElement(NU,{className:e.className,style:{...s,...t,...e.style}},typeof r=="function"?r({icon:a,message:d}):L.createElement(L.Fragment,null,a,d))});JB(L.createElement);ap`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const g2=({equipmentId:e,isOpen:n,onClose:t,onSuccess:r})=>{const[s,a]=L.useState([]),[d,g]=L.useState(!1),[v,x]=L.useState(0),[y,E]=L.useState([]),_=50*1024*1024,k=5,S=L.useCallback((B,F)=>{a(W=>[...W,...B]);const V=F.map(W=>W.file.size>_?`${W.file.name} is too large. Maximum file size is 50MB.`:`${W.file.name} is not a supported file type.`);V.length>0&&E(W=>[...W,...V])},[]),{getRootProps:R,getInputProps:O,isDragActive:I}=Sd({onDrop:S,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:k,maxSize:_}),D=B=>{a(F=>F.filter((V,W)=>W!==B))},j=()=>{a([]),E([])},q=B=>{switch(B){case"image/jpeg":case"image/png":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},Q=async()=>{if(s.length===0){Ur.error("Please select at least one file to upload");return}g(!0),x(0);try{const B=await YB(e,s,F=>x(F));Ur.success(`Successfully uploaded ${B.files.length} files`),a([]),E([]),r&&r(B.files),t()}catch(B){console.error("Error uploading files:",B),Ur.error("Failed to upload files. Please try again.")}finally{g(!1)}};return n?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),c.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[c.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[c.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Upload Documents"}),c.jsxs("div",{...R(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer mb-4 ${I?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[c.jsx("input",{...O()}),I?c.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",k," files, ",Math.round(_/(1024*1024)),"MB each)"]})]})]}),y.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-sm font-medium text-red-500 mb-1",children:"Errors:"}),c.jsx("ul",{className:"text-sm text-red-500 list-disc pl-5",children:y.map((B,F)=>c.jsx("li",{children:B},F))})]}),s.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Selected Files:"}),c.jsx("button",{type:"button",onClick:j,className:"text-sm text-red-500 hover:text-red-700",children:"Clear All"})]}),c.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-md overflow-hidden",children:s.map((B,F)=>c.jsxs("li",{className:"flex items-center justify-between p-3 hover:bg-slate-50",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"mr-2",children:q(B.type)}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium truncate max-w-xs",title:B.name,children:B.name}),c.jsxs("p",{className:"text-xs text-slate-500",children:[(B.size/1024).toFixed(1)," KB"]})]})]}),c.jsx("button",{type:"button",onClick:()=>D(F),className:"text-red-500 hover:text-red-700",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},F))})]}),d&&c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${v}%`}})}),c.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",v,"%"]})]})]})})}),c.jsxs("div",{className:"bg-slate-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[c.jsx(We,{variant:"primary",size:"sm",onClick:Q,disabled:d||s.length===0,className:"w-full sm:w-auto sm:ml-3",children:d?"Uploading...":"Upload"}),c.jsx(We,{variant:"outline",size:"sm",onClick:t,disabled:d,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"})]})]})]})}):null};g2.propTypes={equipmentId:ne.number.isRequired,isOpen:ne.bool.isRequired,onClose:ne.func.isRequired,onSuccess:ne.func};const n3=(e,n=!1)=>`/api/files/${e}${n?"?thumbnail=true":""}`,AU=()=>{var ie,ce;const{id:e}=NC(),n=ds(),t=rr(),{user:r}=ur(),[s,a]=L.useState(!1),[d,g]=L.useState(!1),[v,x]=L.useState(!1),[y,E]=L.useState("details"),[_,k]=L.useState("grid"),{data:S,isLoading:R,isError:O,error:I}=Lt({queryKey:["equipment",e],queryFn:()=>Qh(e)}),D=Ln({mutationFn:()=>TE(e),onSuccess:()=>{t.invalidateQueries(["equipment"]),n("/equipment")}}),j=()=>{n(`/equipment/${e}/edit`)},q=xe=>{t.invalidateQueries(["equipment",e]),it.success(`Successfully uploaded ${xe.length} file(s)`)},Q=()=>{a(!0)},B=()=>{D.mutate(),a(!1)},F=()=>{a(!1)},V=()=>{n("/equipment")};if(R)return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(O)return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:(I==null?void 0:I.message)||"Failed to load equipment details"})}),c.jsx("div",{className:"mt-4",children:c.jsx(We,{variant:"outline",size:"sm",onClick:V,children:"Back to Equipment List"})})]})]})})]});const W=xe=>{switch(xe){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";default:return"secondary"}};console.log("[EQUIPMENT DETAILS] Equipment data:",S),console.log("[EQUIPMENT DETAILS] reference_image_id:",S.reference_image_id),console.log("[EQUIPMENT DETAILS] files:",S.files),console.log("[EQUIPMENT DETAILS] files count:",((ie=S.files)==null?void 0:ie.length)||0);const se=S.reference_image_id?parseInt(S.reference_image_id):null,le=(ce=S.files)==null?void 0:ce.find(xe=>xe.id===se);return console.log("[EQUIPMENT DETAILS] refImageId:",se),console.log("[EQUIPMENT DETAILS] referenceImage found:",le?"Yes":"No"),le&&console.log("[EQUIPMENT DETAILS] referenceImage:",le),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"}),c.jsxs("p",{className:"text-slate-500 text-sm",children:[S.brand," ",S.model," • ",S.serial_number]})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs(We,{variant:"outline",onClick:V,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to List"]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs(We,{variant:"primary",onClick:j,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(r==null?void 0:r.role)==="admin"&&c.jsxs(We,{variant:"danger",onClick:Q,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[c.jsx("div",{className:"border-b border-gray-200",children:c.jsxs("nav",{className:"flex -mb-px",children:[c.jsxs("button",{type:"button",onClick:()=>E("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${y==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${y==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),c.jsxs("button",{type:"button",onClick:()=>E("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${y==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${y==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]}),c.jsxs("button",{type:"button",onClick:()=>E("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${y==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${y==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]})]})}),c.jsxs("div",{className:"p-6",children:[y==="details"&&c.jsx("div",{children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:c.jsx("div",{className:"md:col-span-1",children:c.jsxs(Ot,{className:"h-full",children:[c.jsx(Ot.Header,{className:"bg-slate-50",children:c.jsxs(Ot.Title,{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),c.jsxs(Ot.Body,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Category"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.category||"Not specified"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Type"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.type})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Brand"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.brand})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Model"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.model})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Serial Number"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.serial_number})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Location"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.location||"Not specified"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Status"}),c.jsx("div",{className:"mt-1",children:S.status&&c.jsx(Ga,{variant:W(S.status),size:"md",children:S.status.charAt(0).toUpperCase()+S.status.slice(1).replace("-"," ")})})]})]}),S.description&&c.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),c.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Description"})]}),c.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:c.jsx("p",{className:"text-base text-slate-800 whitespace-pre-line",children:S.description})})]})]})]})})})}),y==="documents"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs(We,{variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>x(!0),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),S.files&&S.files.filter(xe=>!le||xe.id!==le.id).length>0?c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[S.files.filter(xe=>!le||xe.id!==le.id).length,S.files.filter(xe=>!le||xe.id!==le.id).length===1?" file":" files"," attached"]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("grid"),children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),c.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("list"),children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]}),c.jsx(p2,{files:S.files.filter(xe=>!le||xe.id!==le.id),layout:_,size:"medium",showDownload:!0,canDelete:!1})]}):c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsx("div",{className:"mt-4",children:c.jsxs(We,{variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>x(!0),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),y==="history"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[c.jsxs("div",{className:"mb-4 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),c.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),c.jsx(VN,{equipmentId:e})]})]})]})]})}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),c.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:le?c.jsxs("div",{className:"w-full",children:[c.jsxs("div",{className:"relative pb-4",children:[c.jsx("img",{src:n3(le.id,!0),alt:`${S.brand} ${S.model}`,className:"w-full h-auto object-contain rounded-md",onError:xe=>{console.error("Error loading thumbnail, falling back to original image"),xe.target.src=n3(le.id),xe.target.onerror=null}}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsx("button",{onClick:()=>g(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),c.jsx("div",{className:"text-sm text-gray-500 text-center",children:le.file_name})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs("button",{onClick:()=>g(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[c.jsx("div",{className:"p-4 border-b border-slate-200",children:c.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info"]})}),c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.category||"Not specified"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.type})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.serial_number})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.location||"Not specified"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),c.jsx("div",{children:S.status&&c.jsx(Ga,{variant:W(S.status),size:"md",children:S.status.charAt(0).toUpperCase()+S.status.slice(1).replace("-"," ")})})]})]})]})}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs(Ot,{className:"h-full",children:[c.jsx(Ot.Header,{className:"bg-slate-50",children:c.jsxs(Ot.Title,{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),c.jsx(Ot.Body,{children:c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:S.created_by||"Unknown"})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:S.created_at?new Date(S.created_at).toLocaleString():"Unknown"})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:S.updated_at?new Date(S.updated_at).toLocaleString():"Never"})]})]}),S.locationDetails&&c.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[c.jsxs("h4",{className:"text-sm font-medium text-slate-700 mb-3 flex items-center",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Location Details"]}),c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-sm",children:[c.jsx("p",{className:"font-medium text-slate-800",children:S.locationDetails.name}),S.locationDetails.street&&c.jsx("p",{className:"text-slate-600 mt-1",children:S.locationDetails.street}),(S.locationDetails.postal_code||S.locationDetails.city)&&c.jsxs("p",{className:"text-slate-600",children:[S.locationDetails.postal_code&&`${S.locationDetails.postal_code} `,S.locationDetails.city]}),(S.locationDetails.region||S.locationDetails.country)&&c.jsxs("p",{className:"text-slate-600",children:[S.locationDetails.region&&`${S.locationDetails.region}, `,S.locationDetails.country]})]})]})]})})]})})]}),s&&c.jsx(d2,{isOpen:s,title:"Delete Equipment",message:"Are you sure you want to delete this equipment? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:B,onCancel:F,isDestructive:!0}),c.jsx(h2,{isOpen:d,onClose:()=>g(!1),equipmentId:e,existingImage:le}),c.jsx(g2,{equipmentId:parseInt(e),isOpen:v,onClose:()=>x(!1),onSuccess:q})]})},r3=(e,n=!1)=>`/api/files/${e}${n?"?thumbnail=true":""}`,kU=()=>{var Je,cn,mt;const{id:e}=NC(),n=ds(),t=rr(),{user:r}=ur(),[s,a]=L.useState(!1),[d,g]=L.useState(!1),[v,x]=L.useState(!1),[y,E]=L.useState("details"),[_,k]=L.useState("grid");L.useState(!0);const[S,R]=L.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:""}),[O,I]=L.useState(""),{data:D}=Lt({queryKey:["equipmentTypes"],queryFn:ya,staleTime:3e5}),{data:j}=Lt({queryKey:["categories"],queryFn:jc,staleTime:3e5}),{data:q}=Lt({queryKey:["locations"],queryFn:go,staleTime:3e5}),Q=["available","in-use","maintenance"],{data:B,isLoading:F,isError:V,error:W}=Lt({queryKey:["equipment",e],queryFn:()=>Qh(e),onSuccess:Ie=>{console.log("Equipment data loaded:",Ie),R({type_id:Ie.type_id?Ie.type_id.toString():"",category_id:Ie.category_id?Ie.category_id.toString():"",category:Ie.category||"",brand:Ie.brand||"",model:Ie.model||"",serial_number:Ie.serial_number||"",status:Ie.status||"available",location:Ie.location||"",location_id:Ie.location_id?Ie.location_id.toString():"",description:Ie.description||"",reference_image_id:Ie.reference_image_id?Ie.reference_image_id.toString():""})}}),se=Ln({mutationFn:async Ie=>{const Ae=Object.fromEntries(Object.entries(Ie).filter(([ot,Qe])=>Qe!=null));return kE(e,Ae)},onSuccess:()=>{t.invalidateQueries(["equipment"]),n(`/equipment/${e}`),it.success("Equipment updated successfully")},onError:Ie=>{var Ae,ot;console.error("Error updating equipment:",Ie),I(((ot=(Ae=Ie.response)==null?void 0:Ae.data)==null?void 0:ot.message)||"Failed to update equipment"),it.error("Failed to update equipment")}}),le=Ln({mutationFn:()=>TE(e),onSuccess:()=>{t.invalidateQueries(["equipment"]),n("/equipment"),it.success("Equipment deleted successfully")},onError:Ie=>{it.error("Failed to delete equipment")}}),ie=Ie=>{var kn;const{name:Ae,value:ot}=Ie.target;let Qe={...S,[Ae]:ot};if(Ae==="location_id"&&ot){const sn=(kn=q==null?void 0:q.locations)==null?void 0:kn.find(_t=>_t.id.toString()===ot);sn&&(console.log("Selected location:",sn),sn.name.toLowerCase()==="lager"?(Qe.status="available",console.log('Setting status to "available" because location is Lager')):Qe.status==="available"&&(Qe.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${sn.name})`))),Qe={...Qe,location_id:ot,location:""}}else if(Ae==="location"&&ot)ot.toLowerCase()==="lager"?(Qe.status="available",console.log('Setting status to "available" because custom location is Lager')):Qe.status==="available"&&(Qe.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${ot})`)),Qe={...Qe,location:ot,location_id:""};else if(Ae==="status"){console.log(`User manually changed status to: ${ot}`);const sn=S.location||"",_t=S.location_id;let Ne=!1;if(_t&&(q!=null&&q.locations)){const Le=q.locations.find(ft=>ft.id.toString()===_t);Ne=(Le==null?void 0:Le.name.toLowerCase())==="lager"}else sn&&(Ne=sn.toLowerCase()==="lager");Ne&&ot!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),Qe.status="available")}R(Qe)},ce=()=>{if(!S.brand||!S.model||!S.serial_number){I("Brand, model, and serial number are required");return}se.mutate(S)},xe=()=>{n(`/equipment/${e}`)},re=Ie=>{t.invalidateQueries(["equipment",e]),it.success(`Successfully uploaded ${Ie.length} file(s)`)},Se=()=>{a(!0)},ye=()=>{le.mutate(),a(!1)},ue=()=>{a(!1)},_e=()=>{n(`/equipment/${e}`)};if(F)return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(V)return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:(W==null?void 0:W.message)||"Failed to load equipment details"})}),c.jsx("div",{className:"mt-4",children:c.jsx(We,{variant:"outline",size:"sm",onClick:_e,children:"Back to Equipment Details"})})]})]})})]});console.log("[EDIT EQUIPMENT] Equipment data:",B),console.log("[EDIT EQUIPMENT] reference_image_id:",B==null?void 0:B.reference_image_id),console.log("[EDIT EQUIPMENT] files:",B==null?void 0:B.files);const Re=B!=null&&B.reference_image_id?parseInt(B.reference_image_id):null,Oe=(Je=B==null?void 0:B.files)==null?void 0:Je.find(Ie=>Ie.id===Re);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"}),c.jsxs("p",{className:"text-slate-500 text-sm",children:[B==null?void 0:B.brand," ",B==null?void 0:B.model," • ",B==null?void 0:B.serial_number]})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs(We,{variant:"outline",onClick:_e,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Details"]}),c.jsxs(We,{variant:"outline",onClick:xe,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),c.jsxs(We,{variant:"primary",onClick:ce,disabled:se.isLoading,className:"flex items-center",children:[se.isLoading?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-1"}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]}),(r==null?void 0:r.role)==="admin"&&c.jsxs(We,{variant:"danger",onClick:Se,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]}),O&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:O})})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[c.jsx("div",{className:"border-b border-gray-200",children:c.jsxs("nav",{className:"flex -mb-px",children:[c.jsxs("button",{type:"button",onClick:()=>E("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${y==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${y==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),c.jsxs("button",{type:"button",onClick:()=>E("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${y==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${y==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]}),c.jsxs("button",{type:"button",onClick:()=>E("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${y==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${y==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]})]})}),c.jsxs("div",{className:"p-6",children:[y==="details"&&c.jsx("div",{children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:c.jsx("div",{className:"md:col-span-1",children:c.jsxs(Ot,{className:"h-full",children:[c.jsx(Ot.Header,{className:"bg-slate-50",children:c.jsxs(Ot.Title,{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),c.jsxs(Ot.Body,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Category"}),c.jsx(xi,{name:"category_id",value:S.category_id,onChange:ie,options:[{value:"",label:"Select Category"},...(j||[]).map(Ie=>({value:Ie.id.toString(),label:Ie.name}))],className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Type"}),c.jsx(xi,{name:"type_id",value:S.type_id,onChange:ie,options:[{value:"",label:"Select Type"},...(D||[]).map(Ie=>({value:Ie.id.toString(),label:Ie.name}))],className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Brand"}),c.jsx(Ut,{name:"brand",value:S.brand,onChange:ie,className:"mt-1",required:!0})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Model"}),c.jsx(Ut,{name:"model",value:S.model,onChange:ie,className:"mt-1",required:!0})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Serial Number"}),c.jsx(Ut,{name:"serial_number",value:S.serial_number,onChange:ie,className:"mt-1",required:!0})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Location"}),c.jsx(xi,{name:"location_id",value:S.location_id,onChange:ie,options:[{value:"",label:"Select Location"},...((q==null?void 0:q.locations)||[]).map(Ie=>{let Ae=Ie.name;const ot=[];return Ie.city&&ot.push(Ie.city),Ie.region&&ot.push(Ie.region),Ie.country&&ot.push(Ie.country),ot.length>0&&(Ae+=` (${ot.join(", ")})`),{value:Ie.id.toString(),label:Ae}})],className:"mt-1"}),c.jsx(Ut,{name:"location",value:S.location,onChange:ie,className:"mt-2",placeholder:"Or enter custom location"}),(S.location_id||S.location)&&((S.location_id?((mt=(cn=q==null?void 0:q.locations)==null?void 0:cn.find(Ie=>Ie.id.toString()===S.location_id.toString()))==null?void 0:mt.name.toLowerCase())!=="lager":S.location.toLowerCase()!=="lager")?c.jsxs("p",{className:"mt-2 text-sm text-yellow-600",children:[c.jsx("svg",{className:"inline-block h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),'Status automatically set to "In-use" for non-Lager locations']}):c.jsxs("p",{className:"mt-2 text-sm text-green-600",children:[c.jsx("svg",{className:"inline-block h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),'Status automatically set to "Available" for Lager location']}))]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Status"}),c.jsx(xi,{name:"status",value:S.status,onChange:ie,options:Q.map(Ie=>({value:Ie,label:Ie.charAt(0).toUpperCase()+Ie.slice(1).replace("-"," ")})),className:"mt-1"})]})]}),c.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),c.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Description"})]}),c.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:c.jsx("textarea",{name:"description",value:S.description,onChange:ie,rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white",placeholder:"Enter equipment description..."})})]})]})]})})})}),y==="documents"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs(We,{variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>x(!0),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),B!=null&&B.files&&B.files.filter(Ie=>!Oe||Ie.id!==Oe.id).length>0?c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[B.files.filter(Ie=>!Oe||Ie.id!==Oe.id).length,B.files.filter(Ie=>!Oe||Ie.id!==Oe.id).length===1?" file":" files"," attached"]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("grid"),children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),c.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("list"),children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]}),c.jsx(p2,{files:B.files.filter(Ie=>!Oe||Ie.id!==Oe.id),layout:_,size:"medium",showDownload:!0,canDelete:(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced",onDelete:Ie=>{t.invalidateQueries(["equipment",e])}})]}):c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsx("div",{className:"mt-4",children:c.jsxs(We,{variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>x(!0),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),y==="history"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[c.jsxs("div",{className:"mb-4 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),c.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),c.jsx(VN,{equipmentId:e})]})]})]})]})}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),c.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:Oe?c.jsxs("div",{className:"w-full",children:[c.jsxs("div",{className:"relative pb-4",children:[c.jsx("img",{src:r3(Oe.id,!0),alt:`${B==null?void 0:B.brand} ${B==null?void 0:B.model}`,className:"w-full h-auto object-contain rounded-md",onError:Ie=>{console.error("Error loading thumbnail, falling back to original image"),Ie.target.src=r3(Oe.id),Ie.target.onerror=null}}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsx("button",{onClick:()=>g(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Oe.file_name}),c.jsx("p",{className:"text-xs text-gray-500",children:Oe.file_size?`${(Oe.file_size/1024/1024).toFixed(2)} MB`:"Size unknown"})]})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add a reference image to help identify this equipment"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs(We,{variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>g(!0),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Set Reference Image"]})]})})]})})]}),s&&c.jsx(d2,{isOpen:s,onClose:ue,onConfirm:ye,title:"Delete Equipment",message:`Are you sure you want to delete "${B==null?void 0:B.brand} ${B==null?void 0:B.model}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger"}),d&&c.jsx(h2,{isOpen:d,onClose:()=>g(!1),equipmentId:e,currentReferenceImageId:B==null?void 0:B.reference_image_id,files:(B==null?void 0:B.files)||[],onSuccess:()=>{t.invalidateQueries(["equipment",e]),g(!1)}}),v&&c.jsx(g2,{isOpen:v,onClose:()=>x(!1),equipmentId:e,onSuccess:re})]})},TU=({onFileSelect:e,uploadProgress:n=0,existingFiles:t=[],onFileDelete:r,multiple:s=!1,maxFiles:a=5,maxFileSize:d=50*1024*1024})=>{const[g,v]=L.useState([]),[x,y]=L.useState({}),[E,_]=L.useState([]);L.useEffect(()=>{Object.values(x).forEach(F=>{F&&F.startsWith("blob:")&&URL.revokeObjectURL(F)});const B={};return g.forEach((F,V)=>{F.type.startsWith("image/")&&(B[`new-${V}`]=URL.createObjectURL(F))}),t.forEach(F=>{F.file_type==="image"&&(B[`existing-${F.id}`]=`/api/files/${F.id}`)}),y(B),()=>{Object.values(B).forEach(F=>{F&&F.startsWith("blob:")&&URL.revokeObjectURL(F)})}},[g,t]);const k=B=>{const F=[],V=[];return B.forEach(W=>{if(W.size>d){F.push(`${W.name} exceeds the maximum file size of ${Math.round(d/(1024*1024))}MB`);return}if(!["image/jpeg","image/png","audio/mpeg","application/pdf"].includes(W.type)){F.push(`${W.name} has an unsupported file type. Only JPEG, PNG, MP3, and PDF files are allowed.`);return}V.push(W)}),{validFiles:V,errors:F}},S=L.useCallback((B,F)=>{if(F&&F.length>0){const se=F.map(le=>`${le.file.name}: ${le.errors.map(ie=>ie.message).join(", ")}`);_(se)}else _([]);const{validFiles:V,errors:W}=k(B);if(W.length>0&&_(se=>[...se,...W]),s&&g.length+V.length>a){_(le=>[...le,`You can only upload a maximum of ${a} files.`]);const se=a-g.length;if(se>0){const le=V.slice(0,se);v(ie=>[...ie,...le]),e(le)}}else v(s?se=>[...se,...V]:V),e(V)},[e,g,s,a,d]),R=B=>{const F=[...g];F.splice(B,1),v(F),e(s?F:F.length>0?[F[0]]:[]),_([])},O=B=>{if(r){console.log(`FileUpload: Deleting file with ID ${B}`);try{r(B)}catch(F){console.error(`Error deleting file with ID ${B}:`,F)}}else console.warn(`FileUpload: No onFileDelete handler provided for file ID ${B}`)},{getRootProps:I,getInputProps:D,isDragActive:j,fileRejections:q}=Sd({onDrop:S,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:s?a:1,multiple:s,maxSize:d}),Q=B=>{switch(B){case"image/jpeg":case"image/png":case"image":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":case"audio":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":case"pdf":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}};return c.jsxs("div",{children:[c.jsxs("div",{...I(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${j?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[c.jsx("input",{...D()}),j?c.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",a," files, ",Math.round(d/(1024*1024)),"MB each)"]})]})]}),E.length>0&&c.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"File validation errors:"}),c.jsx("ul",{className:"list-disc pl-5 text-xs text-red-700",children:E.map((B,F)=>c.jsx("li",{children:B},F))})]}),g.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Files to upload:"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:g.map((B,F)=>c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[B.type.startsWith("image/")?c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:x[`new-${F}`]?c.jsx("img",{src:x[`new-${F}`],alt:B.name,className:"max-h-full max-w-full object-contain"}):c.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:c.jsx("div",{className:"text-4xl",children:Q(B.type)})}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:B.name,children:B.name}),c.jsxs("p",{className:"text-xs text-slate-500",children:[(B.size/(1024*1024)).toFixed(2)," MB"]})]}),c.jsx("button",{type:"button",onClick:()=>R(F),className:"ml-2 text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Remove ${B.name}`,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})]},F))})]}),t.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Existing files:"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:t.map(B=>c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[B.file_type==="image"?c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:x[`existing-${B.id}`]?c.jsx("img",{src:x[`existing-${B.id}`],alt:B.file_name,className:"max-h-full max-w-full object-contain"}):c.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):B.file_type==="audio"?c.jsxs("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex flex-col items-center justify-center p-2",children:[c.jsx("div",{className:"text-4xl mb-2",children:Q(B.file_type)}),c.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[c.jsx("source",{src:`/api/files/${B.id}`,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:c.jsx("div",{className:"text-4xl",children:Q(B.file_type)})}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:B.file_name,children:B.file_name}),c.jsx("p",{className:"text-xs text-slate-500 capitalize",children:B.file_type})]}),c.jsxs("div",{className:"flex space-x-1",children:[c.jsx("a",{href:`/api/files/${B.id}?download=true`,download:!0,className:"text-primary-600 hover:text-primary-800 p-1 rounded-full hover:bg-primary-50","aria-label":`Download ${B.file_name}`,onClick:F=>{F.stopPropagation(),console.log(`Downloading file: ${B.id}`)},children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),r&&c.jsx("button",{type:"button",onClick:F=>{F.stopPropagation(),console.log(`Deleting file: ${B.id}`),O(B.id)},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Delete ${B.file_name}`,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})]},B.id))})]}),n>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${n}%`}})}),c.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",n,"%"]})]})]})},XN=({formData:e,equipmentTypes:n,categoriesData:t,statusOptions:r,handleInputChange:s,handleFileChange:a,handleSubmit:d,handleCancel:g,isLoading:v,error:x,isEditing:y=!1,files:E=[],uploadProgress:_=0,existingFiles:k=[],handleFileDelete:S,handleSetReferenceImage:R,handleReferenceImageSelect:O})=>{const[I,D]=L.useState(null),[j,q]=L.useState(null),{data:Q}=Lt(["locations"],go,{staleTime:3e5});L.useEffect(()=>{if(k&&k.length>0&&e.reference_image_id){const V=k.find(W=>W.id.toString()===e.reference_image_id);if(V){D(V);return}}D(null)},[k,e.reference_image_id]);const B=V=>{q(V),O&&O(V),s(V?{target:{name:"reference_image_id",value:"new"}}:{target:{name:"reference_image_id",value:""}})},F=V=>{D(null),s({target:{name:"reference_image_id",value:""}}),S&&S(V)};return c.jsxs(Ot,{children:[x&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 m-6 mt-0",children:c.jsx("p",{className:"text-red-700",children:x})}),c.jsxs("form",{onSubmit:d,children:[c.jsxs(Ot.Body,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(xi,{id:"category_id",name:"category_id",label:"Category",value:e.category_id||"",onChange:s,options:[{value:"",label:"Select Category"},...(t||[]).map(V=>({value:V.id.toString(),label:V.name}))]}),c.jsx(xi,{id:"type_id",name:"type_id",label:"Type",value:e.type_id||"",onChange:s,options:[{value:"",label:"Select Type"},...n.map(V=>({value:V.id.toString(),label:V.name}))],required:!0}),c.jsx(Ut,{id:"brand",name:"brand",label:"Brand",value:e.brand,onChange:s,placeholder:"Enter brand",required:!0}),c.jsx(Ut,{id:"model",name:"model",label:"Model",value:e.model,onChange:s,placeholder:"Enter model",required:!0}),c.jsx(rN,{id:"serial_number",name:"serial_number",label:"Serial Number",value:e.serial_number,onChange:s,placeholder:"Enter serial number",required:!0,onScan:V=>{s({target:{name:"serial_number",value:V}})}}),c.jsx(xi,{id:"status",name:"status",label:"Status",value:e.status,onChange:s,options:r.map(V=>({value:V,label:V.charAt(0).toUpperCase()+V.slice(1).replace("-"," ")})),required:!0}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(xi,{id:"location_id",name:"location_id",label:"Location",value:e.location_id?e.location_id.toString():"",onChange:s,options:[{value:"",label:"Select Location"},...((Q==null?void 0:Q.locations)||[]).map(V=>{let W=V.name;const se=[];return V.city&&se.push(V.city),V.region&&se.push(V.region),V.country&&se.push(V.country),se.length>0&&(W+=` (${se.join(", ")})`),{value:V.id.toString(),label:W}})]}),c.jsx(Ut,{id:"location",name:"location",label:"Custom Location (if not in list)",value:e.location||"",onChange:s,placeholder:"Enter custom location"})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),c.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:s,rows:"4",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]}),c.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-100 rounded-lg",children:[c.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]}),c.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Upload a ",c.jsx("strong",{children:"single reference image"})," that best represents this equipment. This image will be displayed prominently on the equipment details page and in search results."]}),c.jsx(f2,{onImageSelect:B,existingImage:I,onImageDelete:F})]}),c.jsxs("div",{className:"mt-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[c.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Documents & Attachments"]}),c.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Upload additional documents and images related to this equipment (manuals, invoices, additional photos, etc.). These will be shown in the Documents tab."}),c.jsx(TU,{onFileSelect:a,uploadProgress:_,existingFiles:k,onFileDelete:S,multiple:!0,maxFiles:5})]})]}),c.jsxs(Ot.Footer,{className:"flex justify-end space-x-3",children:[c.jsx(We,{type:"button",variant:"secondary",onClick:g,children:"Cancel"}),c.jsx(We,{type:"submit",variant:"primary",disabled:v,children:v?"Saving...":y?"Save Changes":"Create Equipment"})]})]})]})};XN.propTypes={formData:ne.object.isRequired,equipmentTypes:ne.array.isRequired,categoriesData:ne.array,statusOptions:ne.array.isRequired,locationsData:ne.object,handleInputChange:ne.func.isRequired,handleFileChange:ne.func.isRequired,handleSubmit:ne.func.isRequired,handleCancel:ne.func.isRequired,isLoading:ne.bool,error:ne.string,isEditing:ne.bool,files:ne.array,uploadProgress:ne.number,existingFiles:ne.array,handleFileDelete:ne.func,handleSetReferenceImage:ne.func,handleReferenceImageSelect:ne.func};const DU=()=>{const e=ds(),n=rr(),{user:t}=ur(),[r,s]=L.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:""}),[a,d]=L.useState([]),[g,v]=L.useState(null),[x,y]=L.useState(""),[E,_]=L.useState(0),{data:k}=Lt({queryKey:["equipmentTypes"],queryFn:ya,staleTime:3e5}),{data:S}=Lt({queryKey:["categories"],queryFn:jc,staleTime:3e5}),{data:R}=Lt({queryKey:["locations"],queryFn:go,staleTime:3e5}),O=["available","in-use","maintenance"],I=Ln({mutationFn:async W=>Hx(W.equipment,W.files,W.referenceImageFile),onSuccess:()=>{n.invalidateQueries(["equipment"]),e("/equipment")},onError:W=>{var se,le;console.error("Error creating equipment:",W),y(((le=(se=W.response)==null?void 0:se.data)==null?void 0:le.message)||"Failed to create equipment")}}),D=W=>{const{name:se,value:le}=W.target;let ie={...r,[se]:le};if(se==="category_id"&&le&&S){const ce=S.find(xe=>xe.id.toString()===le);ce&&(console.log("Selected category:",ce),ie={...ie,category_id:le,category:ce.name})}else if(se==="location_id"&&le){const ce=R==null?void 0:R.locations.find(xe=>xe.id.toString()===le);ce&&(console.log("Selected location:",ce),ie={...ie,location_id:le,location:ce.name},ce.name.toLowerCase()==="lager"?(ie.status="available",console.log('Setting status to "available" because location is Lager')):ie.status==="available"&&(ie.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${ce.name})`)))}else se==="location"&&le?(ie={...ie,location:le,location_id:""},le.toLowerCase()==="lager"?(ie.status="available",console.log('Setting status to "available" because custom location is Lager')):ie.status==="available"&&(ie.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${le})`))):se==="status"&&(console.log(`User manually changed status to: ${le}`),(r.location||"").toLowerCase()==="lager"&&le!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),ie.status="available"));s(ie)},j=W=>{d(W)},q=W=>{s({...r,reference_image_id:W.toString()})},Q=W=>{v(W)},B=W=>{const se=[...a];r.reference_image_id===W.toString()&&s({...r,reference_image_id:""}),se.splice(W,1),d(se)},F=W=>{if(W.preventDefault(),!r.type_id||!r.brand||!r.model||!r.serial_number){y("Type, brand, model, and serial number are required");return}const se=r.reference_image_id==="new"?g:null,le=se?a.filter(ie=>ie!==se):a;I.mutate({equipment:{...r},files:le,referenceImageFile:se})},V=()=>{e("/equipment")};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Add New Equipment"})}),c.jsx(XN,{formData:r,equipmentTypes:k||[],categoriesData:S||[],statusOptions:O,locationsData:R,handleInputChange:D,handleFileChange:j,handleSubmit:F,handleCancel:V,isLoading:I.isLoading,error:x,files:a,uploadProgress:E,handleSetReferenceImage:q,handleReferenceImageSelect:Q,handleFileDelete:B}),(t==null?void 0:t.role)==="admin"&&c.jsx(Ot,{className:"mt-6",children:c.jsxs(Ot.Body,{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"flex-shrink-0 text-primary-500",children:c.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-800",children:"Equipment Type Management"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"You can manage equipment types in the Settings page."}),c.jsx("div",{className:"mt-3",children:c.jsx(We,{variant:"outline",size:"sm",onClick:()=>e("/settings"),children:"Go to Settings"})})]})]})})]})},IU=()=>{const{isAdmin:e,getUsers:n,impersonateUser:t,register:r,user:s}=ur(),a=ds(),d=rr(),[g,v]=L.useState(null),[x,y]=L.useState(!1),[E,_]=L.useState(!1),[k,S]=L.useState({username:"",password:"",role:"basic"}),[R,O]=L.useState({});L.useEffect(()=>{e()||a("/")},[e,a]);const{data:I,isLoading:D,isError:j,error:q,refetch:Q}=Lt({queryKey:["users"],queryFn:n,enabled:e()}),B=Ln({mutationFn:r,onSuccess:()=>{d.invalidateQueries(["users"]),_(!1),S({username:"",password:"",role:"basic"}),it.success("User created successfully")},onError:ce=>{var xe,re;it.error(((re=(xe=ce.response)==null?void 0:xe.data)==null?void 0:re.message)||"Failed to create user")}}),F=ce=>{const{name:xe,value:re}=ce.target;S(Se=>({...Se,[xe]:re})),R[xe]&&O(Se=>({...Se,[xe]:""}))},V=()=>{const ce={};return k.username.trim()||(ce.username="Username is required"),k.password.trim()?k.password.length<6&&(ce.password="Password must be at least 6 characters"):ce.password="Password is required",O(ce),Object.keys(ce).length===0},W=ce=>{ce.preventDefault(),V()&&B.mutate(k)},se=async()=>{if(g)try{await t(g.id),y(!1),it.info(`You are now impersonating ${g.username}`),a("/")}catch(ce){it.error("Failed to impersonate user"),console.error("Failed to impersonate user:",ce)}},le=ce=>new Date(ce).toLocaleString(),ie=ce=>{switch(ce){case"admin":return"bg-red-100 text-red-800";case"advanced":return"bg-blue-100 text-blue-800";case"basic":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e()?D?c.jsx("div",{className:"flex justify-center items-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):j?c.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative my-6",role:"alert",children:[c.jsx("strong",{className:"font-bold",children:"Error!"}),c.jsxs("span",{className:"block sm:inline",children:[" ",(q==null?void 0:q.message)||"Failed to load users."]}),c.jsx("button",{onClick:Q,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Retry"})]}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx(Wx,{position:"top-right",autoClose:3e3}),c.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:[c.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"User Management"}),c.jsxs("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create User"]})]}),c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[c.jsx("thead",{className:"bg-slate-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Username"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created At"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:I==null?void 0:I.map(ce=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:[ce.username,ce.id===s.id&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"You"})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ie(ce.role)}`,children:ce.role})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:le(ce.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:ce.id!==s.id&&c.jsx("button",{onClick:()=>{v(ce),y(!0)},className:"text-indigo-600 hover:text-indigo-900","aria-label":`Impersonate ${ce.username}`,children:"Impersonate"})})]},ce.id))})]})})})]}),E&&c.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Create New User"}),c.jsxs("form",{onSubmit:W,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),c.jsx("input",{type:"text",id:"username",name:"username",value:k.username,onChange:F,className:`w-full px-3 py-2 border ${R.username?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),R.username&&c.jsx("p",{className:"mt-1 text-sm text-red-500",children:R.username})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),c.jsx("input",{type:"password",id:"password",name:"password",value:k.password,onChange:F,className:`w-full px-3 py-2 border ${R.password?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),R.password&&c.jsx("p",{className:"mt-1 text-sm text-red-500",children:R.password})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),c.jsxs("select",{id:"role",name:"role",value:k.role,onChange:F,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"basic",children:"Basic"}),c.jsx("option",{value:"advanced",children:"Advanced"}),c.jsx("option",{value:"admin",children:"Admin"})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:B.isLoading,children:B.isLoading?"Creating...":"Create User"})]})]})]})}),x&&g&&c.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Confirm Impersonation"}),c.jsxs("p",{className:"text-slate-500 mb-4",children:["You are about to impersonate ",c.jsx("strong",{children:g.username})," with role ",c.jsx("strong",{children:g.role}),". You will have the same permissions as this user until you end the impersonation."]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),c.jsx("button",{onClick:se,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Impersonate"})]})]})})]}):c.jsx("div",{className:"text-center py-10",children:"Access denied. Admin privileges required."})},jU=()=>{var q,Q;const[e,n]=L.useState(1),[t]=L.useState(20),[r,s]=L.useState("created_at"),[a,d]=L.useState("desc"),[g,v]=L.useState({equipmentId:"",actionType:"",search:"",type:"",status:"",location_id:""}),{data:x}=Lt({queryKey:["equipment-types"],queryFn:ya,staleTime:3e5}),{data:y}=Lt(["locations"],go),{data:E,isLoading:_,isError:k,error:S}=Lt(["allEquipmentLogs",e,t,g,r,a],()=>qB({page:e,limit:t,equipmentId:g.equipmentId||void 0,actionType:g.actionType||void 0,search:g.search||void 0,type:g.type||void 0,status:g.status||void 0,location_id:g.location_id||void 0,sortBy:r,sortOrder:a}),{keepPreviousData:!0}),R=B=>{switch(B){case"created":return"badge-success";case"updated":return"badge-info";case"deleted":return"badge-danger";case"status_change":return"badge-warning";case"location_change":return"badge-primary";default:return"badge-secondary"}},O=B=>B.split("_").map(F=>F.charAt(0).toUpperCase()+F.slice(1)).join(" "),I=B=>{const{name:F,value:V}=B.target;v(W=>({...W,[F]:V})),n(1)},D=B=>{B.preventDefault()},j=B=>{n(B)};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Movement Logs"})}),c.jsx("div",{className:"card",children:c.jsxs("form",{onSubmit:D,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),c.jsxs("div",{className:"input-group",children:[c.jsx(OE,{className:"input-icon w-4 h-4"}),c.jsx("input",{type:"text",id:"search",name:"search",value:g.search,onChange:I,placeholder:"Search logs...",className:"input input-with-icon"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"type",className:"label",children:"Equipment Type"}),c.jsxs("select",{id:"type",name:"type",value:g.type,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Types"}),x!=null&&x.types&&x.types.length>0?x.types.map(B=>c.jsx("option",{value:B.name.toLowerCase(),children:B.name},B.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"status",className:"label",children:"Equipment Status"}),c.jsxs("select",{id:"status",name:"status",value:g.status,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"available",children:"Available"}),c.jsx("option",{value:"in-use",children:"In Use"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),c.jsxs("select",{id:"location_id",name:"location_id",value:g.location_id,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Locations"}),(q=y==null?void 0:y.locations)==null?void 0:q.map(B=>c.jsx("option",{value:B.id.toString(),children:B.name},B.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"actionType",className:"label",children:"Action Type"}),c.jsxs("select",{id:"actionType",name:"actionType",value:g.actionType,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Actions"}),c.jsx("option",{value:"created",children:"Created"}),c.jsx("option",{value:"updated",children:"Updated"}),c.jsx("option",{value:"deleted",children:"Deleted"}),c.jsx("option",{value:"status_change",children:"Status Change"}),c.jsx("option",{value:"location_change",children:"Location Change"})]})]}),c.jsx("div",{className:"flex items-end",children:c.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[c.jsx(ME,{className:"w-4 h-4"}),c.jsx("span",{children:"Apply Filters"})]})})]})}),c.jsxs("div",{className:"card",children:[_?c.jsx("div",{className:"text-center py-10",children:"Loading..."}):k?c.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",S.message||"Failed to load equipment logs"]}):(Q=E==null?void 0:E.logs)!=null&&Q.length?c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Equipment"}),c.jsx("th",{className:"table-header-cell",children:"User"}),c.jsx("th",{className:"table-header-cell",children:"Action"}),c.jsx("th",{className:"table-header-cell",children:"Details"})]})}),c.jsx("tbody",{className:"table-body",children:E.logs.map(B=>{var F,V;return c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell whitespace-nowrap",children:cd(new Date(B.created_at),"MMM d, yyyy h:mm a")}),c.jsx("td",{className:"table-cell",children:B.equipment?c.jsxs(Br,{to:`/equipment/${B.equipment.id}`,className:"text-primary-600 hover:text-primary-800",children:[B.equipment.brand," ",B.equipment.model,c.jsxs("span",{className:"text-xs text-slate-500 block",children:["SN: ",B.equipment.serial_number]})]}):c.jsx("span",{className:"text-slate-400",children:"Deleted equipment"})}),c.jsxs("td",{className:"table-cell",children:[((F=B.user)==null?void 0:F.username)||"Unknown",c.jsx("span",{className:"text-xs text-slate-500 block",children:((V=B.user)==null?void 0:V.role)||""})]}),c.jsx("td",{className:"table-cell",children:c.jsx("span",{className:`badge ${R(B.action_type)}`,children:O(B.action_type)})}),c.jsxs("td",{className:"table-cell",children:[B.action_type==="status_change"&&c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Status:"})," ",c.jsx("span",{className:"badge badge-outline-secondary",children:B.previous_status})," ",c.jsx("span",{className:"text-slate-400",children:"→"})," ",c.jsx("span",{className:"badge badge-outline-primary",children:B.new_status})]}),B.action_type==="location_change"&&c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Location:"})," ",c.jsx("span",{className:"badge badge-outline-secondary",children:B.previous_location||"None"})," ",c.jsx("span",{className:"text-slate-400",children:"→"})," ",c.jsx("span",{className:"badge badge-outline-primary",children:B.new_location||"None"})]}),B.details&&c.jsx("div",{className:"text-sm mt-1",children:B.details})]})]},B.id)})})]})}):c.jsx("div",{className:"text-center py-10 text-slate-500",children:g.search||g.equipmentId||g.actionType?"No logs found matching your search criteria.":"No logs found."}),(E==null?void 0:E.totalPages)>1&&c.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-slate-200",children:[c.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",c.jsx("span",{className:"font-medium text-slate-800",children:(e-1)*t+1})," to"," ",c.jsx("span",{className:"font-medium text-slate-800",children:Math.min(e*t,E.total)})," of"," ",c.jsx("span",{className:"font-medium text-slate-800",children:E.total})," logs"]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>j(e-1),disabled:e===1,className:`btn ${e===1?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Previous"}),c.jsx("button",{onClick:()=>j(e+1),disabled:e===E.totalPages,className:`btn ${e===E.totalPages?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Next"})]})]})]})]})},RU=new HI({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),Uo=({children:e})=>{const{user:n,loading:t}=ur();return t?c.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):n?e:c.jsx($0,{to:"/login"})},i3=({children:e})=>{const{user:n,loading:t,isAdmin:r}=ur();return t?c.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):n?r()?e:c.jsx($0,{to:"/dashboard"}):c.jsx($0,{to:"/login"})},Js=({children:e})=>{const[n,t]=L.useState(!0),[r,s]=L.useState(!1);return c.jsxs("div",{className:"min-h-screen bg-slate-50",children:[c.jsx(L9,{}),c.jsx(R9,{}),c.jsx(M9,{isOpen:n,isCollapsed:r,toggleSidebar:t,toggleCollapse:s}),c.jsx("main",{className:`main-content pt-16 ${n?r?"main-content-with-sidebar-collapsed":"main-content-with-sidebar":""}`,children:c.jsx("div",{className:"container-app",children:c.jsx("div",{className:"space-y-6",children:e})})})]})},OU=()=>c.jsx(_I,{children:c.jsxs(vI,{children:[c.jsx(Li,{path:"/login",element:c.jsx(P9,{})}),c.jsx(Li,{path:"/",element:c.jsx(Uo,{children:c.jsx(Js,{children:c.jsx(Wb,{})})})}),c.jsx(Li,{path:"/dashboard",element:c.jsx(Uo,{children:c.jsx(Js,{children:c.jsx(Wb,{})})})}),c.jsx(Li,{path:"/equipment/new",element:c.jsx(Uo,{children:c.jsx(Js,{children:c.jsx(DU,{})})})}),c.jsx(Li,{path:"/equipment/:id/edit",element:c.jsx(Uo,{children:c.jsx(Js,{children:c.jsx(kU,{})})})}),c.jsx(Li,{path:"/equipment/:id",element:c.jsx(Uo,{children:c.jsx(Js,{children:c.jsx(AU,{})})})}),c.jsx(Li,{path:"/equipment",element:c.jsx(Uo,{children:c.jsx(Js,{children:c.jsx(HB,{})})})}),c.jsx(Li,{path:"/admin",element:c.jsx(i3,{children:c.jsx(Js,{children:c.jsx(IU,{})})})}),c.jsx(Li,{path:"/equipment-logs",element:c.jsx(i3,{children:c.jsx(Js,{children:c.jsx(jU,{})})})}),c.jsx(Li,{path:"/settings",element:c.jsx(Uo,{children:c.jsx(Js,{children:c.jsx(HF,{})})})}),c.jsx(Li,{path:"*",element:c.jsx($0,{to:"/"})})]})}),MU=()=>c.jsx(i7,{client:RU,children:c.jsx(Qj,{children:c.jsxs(IE,{children:[c.jsx(Wx,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),c.jsx(OU,{})]})})});const LU=async()=>{try{return(await nt.get("/api/csrf-token",{withCredentials:!0})).data.csrfToken}catch(e){return console.error("Failed to fetch CSRF token:",e),null}},PU=async()=>{nt.defaults.withCredentials=!0;const e=localStorage.getItem("token");e&&(nt.defaults.headers.common.Authorization=`Bearer ${e}`),nt.interceptors.response.use(n=>n,async n=>{var r;const t=n.config;if(t&&(t.url.includes("/files/")||t.url.includes("/public-files/")))return console.log("File access error:",n),Promise.reject(n);if(((r=n.response)==null?void 0:r.status)===401&&!t._retry){t._retry=!0;try{return window.location.pathname!=="/login"&&(localStorage.removeItem("token"),delete nt.defaults.headers.common.Authorization,alert("Your session has expired. Please log in again."),window.location.href="/login"),Promise.reject(n)}catch(s){return Promise.reject(s)}}return Promise.reject(n)});{const n=await LU();n&&nt.interceptors.request.use(async t=>(t.method!=="get"&&(t.headers["CSRF-Token"]=n),t),t=>Promise.reject(t))}return nt};console.log("API URL:",{}.VITE_API_URL);const FU=()=>({}).VITE_API_URL?{}.VITE_API_URL:window.location.origin,QN=FU();nt.defaults.baseURL=QN;console.log("Setting axios baseURL to:",QN);console.log("Environment mode:","production");console.log("Is production:",!0);const BU=async()=>{await PU(),nm.createRoot(document.getElementById("root")).render(c.jsx(de.StrictMode,{children:c.jsx(MU,{})}))};BU();
//# sourceMappingURL=index-e0ff2216.js.map
