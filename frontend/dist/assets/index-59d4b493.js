var iT=Object.defineProperty;var sT=(e,n,t)=>n in e?iT(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Pe=(e,n,t)=>(sT(e,typeof n!="symbol"?n+"":n,t),t);function n3(e,n){for(var t=0;t<n.length;t++){const r=n[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var As=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r3={exports:{}},bh={},i3={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=Symbol.for("react.element"),aT=Symbol.for("react.portal"),oT=Symbol.for("react.fragment"),lT=Symbol.for("react.strict_mode"),cT=Symbol.for("react.profiler"),uT=Symbol.for("react.provider"),dT=Symbol.for("react.context"),fT=Symbol.for("react.forward_ref"),hT=Symbol.for("react.suspense"),pT=Symbol.for("react.memo"),mT=Symbol.for("react.lazy"),rw=Symbol.iterator;function gT(e){return e===null||typeof e!="object"?null:(e=rw&&e[rw]||e["@@iterator"],typeof e=="function"?e:null)}var s3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a3=Object.assign,o3={};function Sc(e,n,t){this.props=e,this.context=n,this.refs=o3,this.updater=t||s3}Sc.prototype.isReactComponent={};Sc.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Sc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function l3(){}l3.prototype=Sc.prototype;function Og(e,n,t){this.props=e,this.context=n,this.refs=o3,this.updater=t||s3}var Mg=Og.prototype=new l3;Mg.constructor=Og;a3(Mg,Sc.prototype);Mg.isPureReactComponent=!0;var iw=Array.isArray,c3=Object.prototype.hasOwnProperty,Lg={current:null},u3={key:!0,ref:!0,__self:!0,__source:!0};function d3(e,n,t){var r,i={},a=null,d=null;if(n!=null)for(r in n.ref!==void 0&&(d=n.ref),n.key!==void 0&&(a=""+n.key),n)c3.call(n,r)&&!u3.hasOwnProperty(r)&&(i[r]=n[r]);var g=arguments.length-2;if(g===1)i.children=t;else if(1<g){for(var v=Array(g),x=0;x<g;x++)v[x]=arguments[x+2];i.children=v}if(e&&e.defaultProps)for(r in g=e.defaultProps,g)i[r]===void 0&&(i[r]=g[r]);return{$$typeof:hd,type:e,key:a,ref:d,props:i,_owner:Lg.current}}function xT(e,n){return{$$typeof:hd,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Pg(e){return typeof e=="object"&&e!==null&&e.$$typeof===hd}function vT(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return n[t]})}var sw=/\/+/g;function h1(e,n){return typeof e=="object"&&e!==null&&e.key!=null?vT(""+e.key):n.toString(36)}function Zf(e,n,t,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(a){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case hd:case aT:d=!0}}if(d)return d=e,i=i(d),e=r===""?"."+h1(d,0):r,iw(i)?(t="",e!=null&&(t=e.replace(sw,"$&/")+"/"),Zf(i,n,t,"",function(x){return x})):i!=null&&(Pg(i)&&(i=xT(i,t+(!i.key||d&&d.key===i.key?"":(""+i.key).replace(sw,"$&/")+"/")+e)),n.push(i)),1;if(d=0,r=r===""?".":r+":",iw(e))for(var g=0;g<e.length;g++){a=e[g];var v=r+h1(a,g);d+=Zf(a,n,t,v,i)}else if(v=gT(e),typeof v=="function")for(e=v.call(e),g=0;!(a=e.next()).done;)a=a.value,v=r+h1(a,g++),d+=Zf(a,n,t,v,i);else if(a==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return d}function Sf(e,n,t){if(e==null)return e;var r=[],i=0;return Zf(e,r,"","",function(a){return n.call(t,a,i++)}),r}function wT(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Vr={current:null},Jf={transition:null},yT={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:Jf,ReactCurrentOwner:Lg};function f3(){throw Error("act(...) is not supported in production builds of React.")}wt.Children={map:Sf,forEach:function(e,n,t){Sf(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return Sf(e,function(){n++}),n},toArray:function(e){return Sf(e,function(n){return n})||[]},only:function(e){if(!Pg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};wt.Component=Sc;wt.Fragment=oT;wt.Profiler=cT;wt.PureComponent=Og;wt.StrictMode=lT;wt.Suspense=hT;wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yT;wt.act=f3;wt.cloneElement=function(e,n,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=a3({},e.props),i=e.key,a=e.ref,d=e._owner;if(n!=null){if(n.ref!==void 0&&(a=n.ref,d=Lg.current),n.key!==void 0&&(i=""+n.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(v in n)c3.call(n,v)&&!u3.hasOwnProperty(v)&&(r[v]=n[v]===void 0&&g!==void 0?g[v]:n[v])}var v=arguments.length-2;if(v===1)r.children=t;else if(1<v){g=Array(v);for(var x=0;x<v;x++)g[x]=arguments[x+2];r.children=g}return{$$typeof:hd,type:e.type,key:i,ref:a,props:r,_owner:d}};wt.createContext=function(e){return e={$$typeof:dT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uT,_context:e},e.Consumer=e};wt.createElement=d3;wt.createFactory=function(e){var n=d3.bind(null,e);return n.type=e,n};wt.createRef=function(){return{current:null}};wt.forwardRef=function(e){return{$$typeof:fT,render:e}};wt.isValidElement=Pg;wt.lazy=function(e){return{$$typeof:mT,_payload:{_status:-1,_result:e},_init:wT}};wt.memo=function(e,n){return{$$typeof:pT,type:e,compare:n===void 0?null:n}};wt.startTransition=function(e){var n=Jf.transition;Jf.transition={};try{e()}finally{Jf.transition=n}};wt.unstable_act=f3;wt.useCallback=function(e,n){return Vr.current.useCallback(e,n)};wt.useContext=function(e){return Vr.current.useContext(e)};wt.useDebugValue=function(){};wt.useDeferredValue=function(e){return Vr.current.useDeferredValue(e)};wt.useEffect=function(e,n){return Vr.current.useEffect(e,n)};wt.useId=function(){return Vr.current.useId()};wt.useImperativeHandle=function(e,n,t){return Vr.current.useImperativeHandle(e,n,t)};wt.useInsertionEffect=function(e,n){return Vr.current.useInsertionEffect(e,n)};wt.useLayoutEffect=function(e,n){return Vr.current.useLayoutEffect(e,n)};wt.useMemo=function(e,n){return Vr.current.useMemo(e,n)};wt.useReducer=function(e,n,t){return Vr.current.useReducer(e,n,t)};wt.useRef=function(e){return Vr.current.useRef(e)};wt.useState=function(e){return Vr.current.useState(e)};wt.useSyncExternalStore=function(e,n,t){return Vr.current.useSyncExternalStore(e,n,t)};wt.useTransition=function(){return Vr.current.useTransition()};wt.version="18.3.1";i3.exports=wt;var M=i3.exports;const de=yh(M),Fg=n3({__proto__:null,default:de},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT=M,CT=Symbol.for("react.element"),ET=Symbol.for("react.fragment"),NT=Object.prototype.hasOwnProperty,_T=bT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ST={key:!0,ref:!0,__self:!0,__source:!0};function h3(e,n,t){var r,i={},a=null,d=null;t!==void 0&&(a=""+t),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(d=n.ref);for(r in n)NT.call(n,r)&&!ST.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)i[r]===void 0&&(i[r]=n[r]);return{$$typeof:CT,type:e,key:a,ref:d,props:i,_owner:_T.current}}bh.Fragment=ET;bh.jsx=h3;bh.jsxs=h3;r3.exports=bh;var c=r3.exports,rm={},p3={exports:{}},Ei={},m3={exports:{}},g3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(ue,_e){var Ie=ue.length;ue.push(_e);e:for(;0<Ie;){var qe=Ie-1>>>1,nt=ue[qe];if(0<i(nt,_e))ue[qe]=_e,ue[Ie]=nt,Ie=qe;else break e}}function t(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var _e=ue[0],Ie=ue.pop();if(Ie!==_e){ue[0]=Ie;e:for(var qe=0,nt=ue.length,fn=nt>>>1;qe<fn;){var ft=2*(qe+1)-1,hn=ue[ft],De=ft+1,je=ue[De];if(0>i(hn,Ie))De<nt&&0>i(je,hn)?(ue[qe]=je,ue[De]=Ie,qe=De):(ue[qe]=hn,ue[ft]=Ie,qe=ft);else if(De<nt&&0>i(je,Ie))ue[qe]=je,ue[De]=Ie,qe=De;else break e}}return _e}function i(ue,_e){var Ie=ue.sortIndex-_e.sortIndex;return Ie!==0?Ie:ue.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var v=[],x=[],y=1,E=null,_=3,T=!1,S=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ue){for(var _e=t(x);_e!==null;){if(_e.callback===null)r(x);else if(_e.startTime<=ue)r(x),_e.sortIndex=_e.expirationTime,n(v,_e);else break;_e=t(x)}}function q(ue){if(R=!1,j(ue),!S)if(t(v)!==null)S=!0,ve(Q);else{var _e=t(x);_e!==null&&ge(q,_e.startTime-ue)}}function Q(ue,_e){S=!1,R&&(R=!1,I(V),V=-1),T=!0;var Ie=_;try{for(j(_e),E=t(v);E!==null&&(!(E.expirationTime>_e)||ue&&!ce());){var qe=E.callback;if(typeof qe=="function"){E.callback=null,_=E.priorityLevel;var nt=qe(E.expirationTime<=_e);_e=e.unstable_now(),typeof nt=="function"?E.callback=nt:E===t(v)&&r(v),j(_e)}else r(v);E=t(v)}if(E!==null)var fn=!0;else{var ft=t(x);ft!==null&&ge(q,ft.startTime-_e),fn=!1}return fn}finally{E=null,_=Ie,T=!1}}var z=!1,P=null,V=-1,W=5,se=-1;function ce(){return!(e.unstable_now()-se<W)}function ae(){if(P!==null){var ue=e.unstable_now();se=ue;var _e=!0;try{_e=P(!0,ue)}finally{_e?ne():(z=!1,P=null)}}else z=!1}var ne;if(typeof D=="function")ne=function(){D(ae)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ee=he.port2;he.port1.onmessage=ae,ne=function(){ee.postMessage(null)}}else ne=function(){O(ae,0)};function ve(ue){P=ue,z||(z=!0,ne())}function ge(ue,_e){V=O(function(){ue(e.unstable_now())},_e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ue){ue.callback=null},e.unstable_continueExecution=function(){S||T||(S=!0,ve(Q))},e.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ue?Math.floor(1e3/ue):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return t(v)},e.unstable_next=function(ue){switch(_){case 1:case 2:case 3:var _e=3;break;default:_e=_}var Ie=_;_=_e;try{return ue()}finally{_=Ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ue,_e){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Ie=_;_=ue;try{return _e()}finally{_=Ie}},e.unstable_scheduleCallback=function(ue,_e,Ie){var qe=e.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?qe+Ie:qe):Ie=qe,ue){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=Ie+nt,ue={id:y++,callback:_e,priorityLevel:ue,startTime:Ie,expirationTime:nt,sortIndex:-1},Ie>qe?(ue.sortIndex=Ie,n(x,ue),t(v)===null&&ue===t(x)&&(R?(I(V),V=-1):R=!0,ge(q,Ie-qe))):(ue.sortIndex=nt,n(v,ue),S||T||(S=!0,ve(Q))),ue},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(ue){var _e=_;return function(){var Ie=_;_=_e;try{return ue.apply(this,arguments)}finally{_=Ie}}}})(g3);m3.exports=g3;var AT=m3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT=M,Ci=AT;function Ae(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x3=new Set,Uu={};function fl(e,n){lc(e,n),lc(e+"Capture",n)}function lc(e,n){for(Uu[e]=n,e=0;e<n.length;e++)x3.add(n[e])}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),im=Object.prototype.hasOwnProperty,kT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aw={},ow={};function DT(e){return im.call(ow,e)?!0:im.call(aw,e)?!1:kT.test(e)?ow[e]=!0:(aw[e]=!0,!1)}function IT(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function RT(e,n,t,r){if(n===null||typeof n>"u"||IT(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Yr(e,n,t,r,i,a,d){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=d}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wr[e]=new Yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];wr[n]=new Yr(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wr[e]=new Yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wr[e]=new Yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wr[e]=new Yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wr[e]=new Yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wr[e]=new Yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wr[e]=new Yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wr[e]=new Yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bg=/[\-:]([a-z])/g;function Ug(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Bg,Ug);wr[n]=new Yr(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Bg,Ug);wr[n]=new Yr(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Bg,Ug);wr[n]=new Yr(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wr[e]=new Yr(e,1,!1,e.toLowerCase(),null,!1,!1)});wr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wr[e]=new Yr(e,1,!1,e.toLowerCase(),null,!0,!0)});function zg(e,n,t,r){var i=wr.hasOwnProperty(n)?wr[n]:null;(i!==null?i.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(RT(n,t,i,r)&&(t=null),r||i===null?DT(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):i.mustUseProperty?e[i.propertyName]=t===null?i.type===3?!1:"":t:(n=i.attributeName,r=i.attributeNamespace,t===null?e.removeAttribute(n):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}var ya=TT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Af=Symbol.for("react.element"),Bl=Symbol.for("react.portal"),Ul=Symbol.for("react.fragment"),Wg=Symbol.for("react.strict_mode"),sm=Symbol.for("react.profiler"),v3=Symbol.for("react.provider"),w3=Symbol.for("react.context"),Hg=Symbol.for("react.forward_ref"),am=Symbol.for("react.suspense"),om=Symbol.for("react.suspense_list"),qg=Symbol.for("react.memo"),Ua=Symbol.for("react.lazy"),y3=Symbol.for("react.offscreen"),lw=Symbol.iterator;function fu(e){return e===null||typeof e!="object"?null:(e=lw&&e[lw]||e["@@iterator"],typeof e=="function"?e:null)}var An=Object.assign,p1;function _u(e){if(p1===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);p1=n&&n[1]||""}return`
`+p1+e}var m1=!1;function g1(e,n){if(!e||m1)return"";m1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(x){var r=x}Reflect.construct(e,[],n)}else{try{n.call()}catch(x){r=x}e.call(n.prototype)}else{try{throw Error()}catch(x){r=x}e()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var i=x.stack.split(`
`),a=r.stack.split(`
`),d=i.length-1,g=a.length-1;1<=d&&0<=g&&i[d]!==a[g];)g--;for(;1<=d&&0<=g;d--,g--)if(i[d]!==a[g]){if(d!==1||g!==1)do if(d--,g--,0>g||i[d]!==a[g]){var v=`
`+i[d].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=d&&0<=g);break}}}finally{m1=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?_u(e):""}function jT(e){switch(e.tag){case 5:return _u(e.type);case 16:return _u("Lazy");case 13:return _u("Suspense");case 19:return _u("SuspenseList");case 0:case 2:case 15:return e=g1(e.type,!1),e;case 11:return e=g1(e.type.render,!1),e;case 1:return e=g1(e.type,!0),e;default:return""}}function lm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ul:return"Fragment";case Bl:return"Portal";case sm:return"Profiler";case Wg:return"StrictMode";case am:return"Suspense";case om:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case w3:return(e.displayName||"Context")+".Consumer";case v3:return(e._context.displayName||"Context")+".Provider";case Hg:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qg:return n=e.displayName||null,n!==null?n:lm(e.type)||"Memo";case Ua:n=e._payload,e=e._init;try{return lm(e(n))}catch{}}return null}function OT(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lm(n);case 8:return n===Wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function oo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function b3(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function MT(e){var n=b3(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,a=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return i.call(this)},set:function(d){r=""+d,a.call(this,d)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Tf(e){e._valueTracker||(e._valueTracker=MT(e))}function C3(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=b3(e)?e.checked?"true":"false":e.value),e=r,e!==t?(n.setValue(e),!0):!1}function C0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cm(e,n){var t=n.checked;return An({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function cw(e,n){var t=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;t=oo(n.value!=null?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function E3(e,n){n=n.checked,n!=null&&zg(e,"checked",n,!1)}function um(e,n){E3(e,n);var t=oo(n.value),r=n.type;if(t!=null)r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?dm(e,n.type,t):n.hasOwnProperty("defaultValue")&&dm(e,n.type,oo(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function uw(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function dm(e,n,t){(n!=="number"||C0(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var Su=Array.isArray;function Jl(e,n,t,r){if(e=e.options,n){n={};for(var i=0;i<t.length;i++)n["$"+t[i]]=!0;for(t=0;t<e.length;t++)i=n.hasOwnProperty("$"+e[t].value),e[t].selected!==i&&(e[t].selected=i),i&&r&&(e[t].defaultSelected=!0)}else{for(t=""+oo(t),n=null,i=0;i<e.length;i++){if(e[i].value===t){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}n!==null||e[i].disabled||(n=e[i])}n!==null&&(n.selected=!0)}}function fm(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(Ae(91));return An({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dw(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error(Ae(92));if(Su(t)){if(1<t.length)throw Error(Ae(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:oo(t)}}function N3(e,n){var t=oo(n.value),r=oo(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),r!=null&&(e.defaultValue=""+r)}function fw(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function _3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hm(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?_3(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kf,S3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,r,i){MSApp.execUnsafeLocalFunction(function(){return e(n,t,r,i)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(kf=kf||document.createElement("div"),kf.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=kf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function zu(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}var Iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LT=["Webkit","ms","Moz","O"];Object.keys(Iu).forEach(function(e){LT.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Iu[n]=Iu[e]})});function A3(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||Iu.hasOwnProperty(e)&&Iu[e]?(""+n).trim():n+"px"}function T3(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=A3(t,n[t],r);t==="float"&&(t="cssFloat"),r?e.setProperty(t,i):e[t]=i}}var PT=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pm(e,n){if(n){if(PT[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(Ae(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(Ae(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(Ae(61))}if(n.style!=null&&typeof n.style!="object")throw Error(Ae(62))}}function mm(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gm=null;function Vg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xm=null,ec=null,tc=null;function hw(e){if(e=gd(e)){if(typeof xm!="function")throw Error(Ae(280));var n=e.stateNode;n&&(n=Sh(n),xm(e.stateNode,e.type,n))}}function k3(e){ec?tc?tc.push(e):tc=[e]:ec=e}function D3(){if(ec){var e=ec,n=tc;if(tc=ec=null,hw(e),n)for(e=0;e<n.length;e++)hw(n[e])}}function I3(e,n){return e(n)}function R3(){}var x1=!1;function j3(e,n,t){if(x1)return e(n,t);x1=!0;try{return I3(e,n,t)}finally{x1=!1,(ec!==null||tc!==null)&&(R3(),D3())}}function Wu(e,n){var t=e.stateNode;if(t===null)return null;var r=Sh(t);if(r===null)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(Ae(231,n,typeof t));return t}var vm=!1;if(ha)try{var hu={};Object.defineProperty(hu,"passive",{get:function(){vm=!0}}),window.addEventListener("test",hu,hu),window.removeEventListener("test",hu,hu)}catch{vm=!1}function FT(e,n,t,r,i,a,d,g,v){var x=Array.prototype.slice.call(arguments,3);try{n.apply(t,x)}catch(y){this.onError(y)}}var Ru=!1,E0=null,N0=!1,wm=null,BT={onError:function(e){Ru=!0,E0=e}};function UT(e,n,t,r,i,a,d,g,v){Ru=!1,E0=null,FT.apply(BT,arguments)}function zT(e,n,t,r,i,a,d,g,v){if(UT.apply(this,arguments),Ru){if(Ru){var x=E0;Ru=!1,E0=null}else throw Error(Ae(198));N0||(N0=!0,wm=x)}}function hl(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function O3(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function pw(e){if(hl(e)!==e)throw Error(Ae(188))}function WT(e){var n=e.alternate;if(!n){if(n=hl(e),n===null)throw Error(Ae(188));return n!==e?null:e}for(var t=e,r=n;;){var i=t.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===t)return pw(i),e;if(a===r)return pw(i),n;a=a.sibling}throw Error(Ae(188))}if(t.return!==r.return)t=i,r=a;else{for(var d=!1,g=i.child;g;){if(g===t){d=!0,t=i,r=a;break}if(g===r){d=!0,r=i,t=a;break}g=g.sibling}if(!d){for(g=a.child;g;){if(g===t){d=!0,t=a,r=i;break}if(g===r){d=!0,r=a,t=i;break}g=g.sibling}if(!d)throw Error(Ae(189))}}if(t.alternate!==r)throw Error(Ae(190))}if(t.tag!==3)throw Error(Ae(188));return t.stateNode.current===t?e:n}function M3(e){return e=WT(e),e!==null?L3(e):null}function L3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=L3(e);if(n!==null)return n;e=e.sibling}return null}var P3=Ci.unstable_scheduleCallback,mw=Ci.unstable_cancelCallback,HT=Ci.unstable_shouldYield,qT=Ci.unstable_requestPaint,zn=Ci.unstable_now,VT=Ci.unstable_getCurrentPriorityLevel,Yg=Ci.unstable_ImmediatePriority,F3=Ci.unstable_UserBlockingPriority,_0=Ci.unstable_NormalPriority,YT=Ci.unstable_LowPriority,B3=Ci.unstable_IdlePriority,Ch=null,Rs=null;function $T(e){if(Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(Ch,e,void 0,(e.current.flags&128)===128)}catch{}}var as=Math.clz32?Math.clz32:QT,GT=Math.log,XT=Math.LN2;function QT(e){return e>>>=0,e===0?32:31-(GT(e)/XT|0)|0}var Df=64,If=4194304;function Au(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function S0(e,n){var t=e.pendingLanes;if(t===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,d=t&268435455;if(d!==0){var g=d&~i;g!==0?r=Au(g):(a&=d,a!==0&&(r=Au(a)))}else d=t&~i,d!==0?r=Au(d):a!==0&&(r=Au(a));if(r===0)return 0;if(n!==0&&n!==r&&!(n&i)&&(i=r&-r,a=n&-n,i>=a||i===16&&(a&4194240)!==0))return n;if(r&4&&(r|=t&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=r;0<n;)t=31-as(n),i=1<<t,r|=e[t],n&=~i;return r}function KT(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZT(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var d=31-as(a),g=1<<d,v=i[d];v===-1?(!(g&t)||g&r)&&(i[d]=KT(g,n)):v<=n&&(e.expiredLanes|=g),a&=~g}}function ym(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function U3(){var e=Df;return Df<<=1,!(Df&4194240)&&(Df=64),e}function v1(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function pd(e,n,t){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-as(n),e[n]=t}function JT(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var i=31-as(t),a=1<<i;n[i]=0,r[i]=-1,e[i]=-1,t&=~a}}function $g(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-as(t),i=1<<r;i&n|e[r]&n&&(e[r]|=n),t&=~i}}var Zt=0;function z3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var W3,Gg,H3,q3,V3,bm=!1,Rf=[],Qa=null,Ka=null,Za=null,Hu=new Map,qu=new Map,Ha=[],ek="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gw(e,n){switch(e){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":Hu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(n.pointerId)}}function pu(e,n,t,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},n!==null&&(n=gd(n),n!==null&&Gg(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,i!==null&&n.indexOf(i)===-1&&n.push(i),e)}function tk(e,n,t,r,i){switch(n){case"focusin":return Qa=pu(Qa,e,n,t,r,i),!0;case"dragenter":return Ka=pu(Ka,e,n,t,r,i),!0;case"mouseover":return Za=pu(Za,e,n,t,r,i),!0;case"pointerover":var a=i.pointerId;return Hu.set(a,pu(Hu.get(a)||null,e,n,t,r,i)),!0;case"gotpointercapture":return a=i.pointerId,qu.set(a,pu(qu.get(a)||null,e,n,t,r,i)),!0}return!1}function Y3(e){var n=qo(e.target);if(n!==null){var t=hl(n);if(t!==null){if(n=t.tag,n===13){if(n=O3(t),n!==null){e.blockedOn=n,V3(e.priority,function(){H3(t)});return}}else if(n===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function e0(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var t=Cm(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var r=new t.constructor(t.type,t);gm=r,t.target.dispatchEvent(r),gm=null}else return n=gd(t),n!==null&&Gg(n),e.blockedOn=t,!1;n.shift()}return!0}function xw(e,n,t){e0(e)&&t.delete(n)}function nk(){bm=!1,Qa!==null&&e0(Qa)&&(Qa=null),Ka!==null&&e0(Ka)&&(Ka=null),Za!==null&&e0(Za)&&(Za=null),Hu.forEach(xw),qu.forEach(xw)}function mu(e,n){e.blockedOn===n&&(e.blockedOn=null,bm||(bm=!0,Ci.unstable_scheduleCallback(Ci.unstable_NormalPriority,nk)))}function Vu(e){function n(i){return mu(i,e)}if(0<Rf.length){mu(Rf[0],e);for(var t=1;t<Rf.length;t++){var r=Rf[t];r.blockedOn===e&&(r.blockedOn=null)}}for(Qa!==null&&mu(Qa,e),Ka!==null&&mu(Ka,e),Za!==null&&mu(Za,e),Hu.forEach(n),qu.forEach(n),t=0;t<Ha.length;t++)r=Ha[t],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ha.length&&(t=Ha[0],t.blockedOn===null);)Y3(t),t.blockedOn===null&&Ha.shift()}var nc=ya.ReactCurrentBatchConfig,A0=!0;function rk(e,n,t,r){var i=Zt,a=nc.transition;nc.transition=null;try{Zt=1,Xg(e,n,t,r)}finally{Zt=i,nc.transition=a}}function ik(e,n,t,r){var i=Zt,a=nc.transition;nc.transition=null;try{Zt=4,Xg(e,n,t,r)}finally{Zt=i,nc.transition=a}}function Xg(e,n,t,r){if(A0){var i=Cm(e,n,t,r);if(i===null)T1(e,n,r,T0,t),gw(e,r);else if(tk(i,e,n,t,r))r.stopPropagation();else if(gw(e,r),n&4&&-1<ek.indexOf(e)){for(;i!==null;){var a=gd(i);if(a!==null&&W3(a),a=Cm(e,n,t,r),a===null&&T1(e,n,r,T0,t),a===i)break;i=a}i!==null&&r.stopPropagation()}else T1(e,n,r,null,t)}}var T0=null;function Cm(e,n,t,r){if(T0=null,e=Vg(r),e=qo(e),e!==null)if(n=hl(e),n===null)e=null;else if(t=n.tag,t===13){if(e=O3(n),e!==null)return e;e=null}else if(t===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return T0=e,null}function $3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VT()){case Yg:return 1;case F3:return 4;case _0:case YT:return 16;case B3:return 536870912;default:return 16}default:return 16}}var Ya=null,Qg=null,t0=null;function G3(){if(t0)return t0;var e,n=Qg,t=n.length,r,i="value"in Ya?Ya.value:Ya.textContent,a=i.length;for(e=0;e<t&&n[e]===i[e];e++);var d=t-e;for(r=1;r<=d&&n[t-r]===i[a-r];r++);return t0=i.slice(e,1<r?1-r:void 0)}function n0(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function jf(){return!0}function vw(){return!1}function Ni(e){function n(t,r,i,a,d){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(t=e[g],this[g]=t?t(a):a[g]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?jf:vw,this.isPropagationStopped=vw,this}return An(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=jf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=jf)},persist:function(){},isPersistent:jf}),n}var Ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kg=Ni(Ac),md=An({},Ac,{view:0,detail:0}),sk=Ni(md),w1,y1,gu,Eh=An({},md,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gu&&(gu&&e.type==="mousemove"?(w1=e.screenX-gu.screenX,y1=e.screenY-gu.screenY):y1=w1=0,gu=e),w1)},movementY:function(e){return"movementY"in e?e.movementY:y1}}),ww=Ni(Eh),ak=An({},Eh,{dataTransfer:0}),ok=Ni(ak),lk=An({},md,{relatedTarget:0}),b1=Ni(lk),ck=An({},Ac,{animationName:0,elapsedTime:0,pseudoElement:0}),uk=Ni(ck),dk=An({},Ac,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fk=Ni(dk),hk=An({},Ac,{data:0}),yw=Ni(hk),pk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xk(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gk[e])?!!n[e]:!1}function Zg(){return xk}var vk=An({},md,{key:function(e){if(e.key){var n=pk[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=n0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zg,charCode:function(e){return e.type==="keypress"?n0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?n0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wk=Ni(vk),yk=An({},Eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bw=Ni(yk),bk=An({},md,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zg}),Ck=Ni(bk),Ek=An({},Ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nk=Ni(Ek),_k=An({},Eh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sk=Ni(_k),Ak=[9,13,27,32],Jg=ha&&"CompositionEvent"in window,ju=null;ha&&"documentMode"in document&&(ju=document.documentMode);var Tk=ha&&"TextEvent"in window&&!ju,X3=ha&&(!Jg||ju&&8<ju&&11>=ju),Cw=String.fromCharCode(32),Ew=!1;function Q3(e,n){switch(e){case"keyup":return Ak.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zl=!1;function kk(e,n){switch(e){case"compositionend":return K3(n);case"keypress":return n.which!==32?null:(Ew=!0,Cw);case"textInput":return e=n.data,e===Cw&&Ew?null:e;default:return null}}function Dk(e,n){if(zl)return e==="compositionend"||!Jg&&Q3(e,n)?(e=G3(),t0=Qg=Ya=null,zl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return X3&&n.locale!=="ko"?null:n.data;default:return null}}var Ik={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nw(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ik[e.type]:n==="textarea"}function Z3(e,n,t,r){k3(r),n=k0(n,"onChange"),0<n.length&&(t=new Kg("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Ou=null,Yu=null;function Rk(e){c4(e,0)}function Nh(e){var n=ql(e);if(C3(n))return e}function jk(e,n){if(e==="change")return n}var J3=!1;if(ha){var C1;if(ha){var E1="oninput"in document;if(!E1){var _w=document.createElement("div");_w.setAttribute("oninput","return;"),E1=typeof _w.oninput=="function"}C1=E1}else C1=!1;J3=C1&&(!document.documentMode||9<document.documentMode)}function Sw(){Ou&&(Ou.detachEvent("onpropertychange",e4),Yu=Ou=null)}function e4(e){if(e.propertyName==="value"&&Nh(Yu)){var n=[];Z3(n,Yu,e,Vg(e)),j3(Rk,n)}}function Ok(e,n,t){e==="focusin"?(Sw(),Ou=n,Yu=t,Ou.attachEvent("onpropertychange",e4)):e==="focusout"&&Sw()}function Mk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nh(Yu)}function Lk(e,n){if(e==="click")return Nh(n)}function Pk(e,n){if(e==="input"||e==="change")return Nh(n)}function Fk(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var us=typeof Object.is=="function"?Object.is:Fk;function $u(e,n){if(us(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!im.call(n,i)||!us(e[i],n[i]))return!1}return!0}function Aw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tw(e,n){var t=Aw(e);e=0;for(var r;t;){if(t.nodeType===3){if(r=e+t.textContent.length,e<=n&&r>=n)return{node:t,offset:n-e};e=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Aw(t)}}function t4(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?t4(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function n4(){for(var e=window,n=C0();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=C0(e.document)}return n}function ex(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Bk(e){var n=n4(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&t4(t.ownerDocument.documentElement,t)){if(r!==null&&ex(t)){if(n=r.start,e=r.end,e===void 0&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if(e=(n=t.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var i=t.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Tw(t,a);var d=Tw(t,r);i&&d&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(n=n.createRange(),n.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(n),e.extend(d.node,d.offset)):(n.setEnd(d.node,d.offset),e.addRange(n)))}}for(n=[],e=t;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<n.length;t++)e=n[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uk=ha&&"documentMode"in document&&11>=document.documentMode,Wl=null,Em=null,Mu=null,Nm=!1;function kw(e,n,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Nm||Wl==null||Wl!==C0(r)||(r=Wl,"selectionStart"in r&&ex(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mu&&$u(Mu,r)||(Mu=r,r=k0(Em,"onSelect"),0<r.length&&(n=new Kg("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=Wl)))}function Of(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var Hl={animationend:Of("Animation","AnimationEnd"),animationiteration:Of("Animation","AnimationIteration"),animationstart:Of("Animation","AnimationStart"),transitionend:Of("Transition","TransitionEnd")},N1={},r4={};ha&&(r4=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function _h(e){if(N1[e])return N1[e];if(!Hl[e])return e;var n=Hl[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in r4)return N1[e]=n[t];return e}var i4=_h("animationend"),s4=_h("animationiteration"),a4=_h("animationstart"),o4=_h("transitionend"),l4=new Map,Dw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fo(e,n){l4.set(e,n),fl(n,[e])}for(var _1=0;_1<Dw.length;_1++){var S1=Dw[_1],zk=S1.toLowerCase(),Wk=S1[0].toUpperCase()+S1.slice(1);fo(zk,"on"+Wk)}fo(i4,"onAnimationEnd");fo(s4,"onAnimationIteration");fo(a4,"onAnimationStart");fo("dblclick","onDoubleClick");fo("focusin","onFocus");fo("focusout","onBlur");fo(o4,"onTransitionEnd");lc("onMouseEnter",["mouseout","mouseover"]);lc("onMouseLeave",["mouseout","mouseover"]);lc("onPointerEnter",["pointerout","pointerover"]);lc("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tu));function Iw(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,zT(r,n,void 0,e),e.currentTarget=null}function c4(e,n){n=(n&4)!==0;for(var t=0;t<e.length;t++){var r=e[t],i=r.event;r=r.listeners;e:{var a=void 0;if(n)for(var d=r.length-1;0<=d;d--){var g=r[d],v=g.instance,x=g.currentTarget;if(g=g.listener,v!==a&&i.isPropagationStopped())break e;Iw(i,g,x),a=v}else for(d=0;d<r.length;d++){if(g=r[d],v=g.instance,x=g.currentTarget,g=g.listener,v!==a&&i.isPropagationStopped())break e;Iw(i,g,x),a=v}}}if(N0)throw e=wm,N0=!1,wm=null,e}function cn(e,n){var t=n[km];t===void 0&&(t=n[km]=new Set);var r=e+"__bubble";t.has(r)||(u4(n,e,2,!1),t.add(r))}function A1(e,n,t){var r=0;n&&(r|=4),u4(t,e,r,n)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function Gu(e){if(!e[Mf]){e[Mf]=!0,x3.forEach(function(t){t!=="selectionchange"&&(Hk.has(t)||A1(t,!1,e),A1(t,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Mf]||(n[Mf]=!0,A1("selectionchange",!1,n))}}function u4(e,n,t,r){switch($3(n)){case 1:var i=rk;break;case 4:i=ik;break;default:i=Xg}t=i.bind(null,n,t,e),i=void 0,!vm||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(n,t,{capture:!0,passive:i}):e.addEventListener(n,t,!0):i!==void 0?e.addEventListener(n,t,{passive:i}):e.addEventListener(n,t,!1)}function T1(e,n,t,r,i){var a=r;if(!(n&1)&&!(n&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var g=r.stateNode.containerInfo;if(g===i||g.nodeType===8&&g.parentNode===i)break;if(d===4)for(d=r.return;d!==null;){var v=d.tag;if((v===3||v===4)&&(v=d.stateNode.containerInfo,v===i||v.nodeType===8&&v.parentNode===i))return;d=d.return}for(;g!==null;){if(d=qo(g),d===null)return;if(v=d.tag,v===5||v===6){r=a=d;continue e}g=g.parentNode}}r=r.return}j3(function(){var x=a,y=Vg(t),E=[];e:{var _=l4.get(e);if(_!==void 0){var T=Kg,S=e;switch(e){case"keypress":if(n0(t)===0)break e;case"keydown":case"keyup":T=wk;break;case"focusin":S="focus",T=b1;break;case"focusout":S="blur",T=b1;break;case"beforeblur":case"afterblur":T=b1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=ww;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=ok;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=Ck;break;case i4:case s4:case a4:T=uk;break;case o4:T=Nk;break;case"scroll":T=sk;break;case"wheel":T=Sk;break;case"copy":case"cut":case"paste":T=fk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=bw}var R=(n&4)!==0,O=!R&&e==="scroll",I=R?_!==null?_+"Capture":null:_;R=[];for(var D=x,j;D!==null;){j=D;var q=j.stateNode;if(j.tag===5&&q!==null&&(j=q,I!==null&&(q=Wu(D,I),q!=null&&R.push(Xu(D,q,j)))),O)break;D=D.return}0<R.length&&(_=new T(_,S,null,t,y),E.push({event:_,listeners:R}))}}if(!(n&7)){e:{if(_=e==="mouseover"||e==="pointerover",T=e==="mouseout"||e==="pointerout",_&&t!==gm&&(S=t.relatedTarget||t.fromElement)&&(qo(S)||S[pa]))break e;if((T||_)&&(_=y.window===y?y:(_=y.ownerDocument)?_.defaultView||_.parentWindow:window,T?(S=t.relatedTarget||t.toElement,T=x,S=S?qo(S):null,S!==null&&(O=hl(S),S!==O||S.tag!==5&&S.tag!==6)&&(S=null)):(T=null,S=x),T!==S)){if(R=ww,q="onMouseLeave",I="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(R=bw,q="onPointerLeave",I="onPointerEnter",D="pointer"),O=T==null?_:ql(T),j=S==null?_:ql(S),_=new R(q,D+"leave",T,t,y),_.target=O,_.relatedTarget=j,q=null,qo(y)===x&&(R=new R(I,D+"enter",S,t,y),R.target=j,R.relatedTarget=O,q=R),O=q,T&&S)t:{for(R=T,I=S,D=0,j=R;j;j=Ll(j))D++;for(j=0,q=I;q;q=Ll(q))j++;for(;0<D-j;)R=Ll(R),D--;for(;0<j-D;)I=Ll(I),j--;for(;D--;){if(R===I||I!==null&&R===I.alternate)break t;R=Ll(R),I=Ll(I)}R=null}else R=null;T!==null&&Rw(E,_,T,R,!1),S!==null&&O!==null&&Rw(E,O,S,R,!0)}}e:{if(_=x?ql(x):window,T=_.nodeName&&_.nodeName.toLowerCase(),T==="select"||T==="input"&&_.type==="file")var Q=jk;else if(Nw(_))if(J3)Q=Pk;else{Q=Mk;var z=Ok}else(T=_.nodeName)&&T.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(Q=Lk);if(Q&&(Q=Q(e,x))){Z3(E,Q,t,y);break e}z&&z(e,_,x),e==="focusout"&&(z=_._wrapperState)&&z.controlled&&_.type==="number"&&dm(_,"number",_.value)}switch(z=x?ql(x):window,e){case"focusin":(Nw(z)||z.contentEditable==="true")&&(Wl=z,Em=x,Mu=null);break;case"focusout":Mu=Em=Wl=null;break;case"mousedown":Nm=!0;break;case"contextmenu":case"mouseup":case"dragend":Nm=!1,kw(E,t,y);break;case"selectionchange":if(Uk)break;case"keydown":case"keyup":kw(E,t,y)}var P;if(Jg)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else zl?Q3(e,t)&&(V="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(V="onCompositionStart");V&&(X3&&t.locale!=="ko"&&(zl||V!=="onCompositionStart"?V==="onCompositionEnd"&&zl&&(P=G3()):(Ya=y,Qg="value"in Ya?Ya.value:Ya.textContent,zl=!0)),z=k0(x,V),0<z.length&&(V=new yw(V,e,null,t,y),E.push({event:V,listeners:z}),P?V.data=P:(P=K3(t),P!==null&&(V.data=P)))),(P=Tk?kk(e,t):Dk(e,t))&&(x=k0(x,"onBeforeInput"),0<x.length&&(y=new yw("onBeforeInput","beforeinput",null,t,y),E.push({event:y,listeners:x}),y.data=P))}c4(E,n)})}function Xu(e,n,t){return{instance:e,listener:n,currentTarget:t}}function k0(e,n){for(var t=n+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Wu(e,t),a!=null&&r.unshift(Xu(e,a,i)),a=Wu(e,n),a!=null&&r.push(Xu(e,a,i))),e=e.return}return r}function Ll(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rw(e,n,t,r,i){for(var a=n._reactName,d=[];t!==null&&t!==r;){var g=t,v=g.alternate,x=g.stateNode;if(v!==null&&v===r)break;g.tag===5&&x!==null&&(g=x,i?(v=Wu(t,a),v!=null&&d.unshift(Xu(t,v,g))):i||(v=Wu(t,a),v!=null&&d.push(Xu(t,v,g)))),t=t.return}d.length!==0&&e.push({event:n,listeners:d})}var qk=/\r\n?/g,Vk=/\u0000|\uFFFD/g;function jw(e){return(typeof e=="string"?e:""+e).replace(qk,`
`).replace(Vk,"")}function Lf(e,n,t){if(n=jw(n),jw(e)!==n&&t)throw Error(Ae(425))}function D0(){}var _m=null,Sm=null;function Am(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tm=typeof setTimeout=="function"?setTimeout:void 0,Yk=typeof clearTimeout=="function"?clearTimeout:void 0,Ow=typeof Promise=="function"?Promise:void 0,$k=typeof queueMicrotask=="function"?queueMicrotask:typeof Ow<"u"?function(e){return Ow.resolve(null).then(e).catch(Gk)}:Tm;function Gk(e){setTimeout(function(){throw e})}function k1(e,n){var t=n,r=0;do{var i=t.nextSibling;if(e.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){e.removeChild(i),Vu(n);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Vu(n)}function Ja(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Mw(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(n===0)return e;n--}else t==="/$"&&n++}e=e.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),Ts="__reactFiber$"+Tc,Qu="__reactProps$"+Tc,pa="__reactContainer$"+Tc,km="__reactEvents$"+Tc,Xk="__reactListeners$"+Tc,Qk="__reactHandles$"+Tc;function qo(e){var n=e[Ts];if(n)return n;for(var t=e.parentNode;t;){if(n=t[pa]||t[Ts]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=Mw(e);e!==null;){if(t=e[Ts])return t;e=Mw(e)}return n}e=t,t=e.parentNode}return null}function gd(e){return e=e[Ts]||e[pa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ql(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ae(33))}function Sh(e){return e[Qu]||null}var Dm=[],Vl=-1;function ho(e){return{current:e}}function dn(e){0>Vl||(e.current=Dm[Vl],Dm[Vl]=null,Vl--)}function an(e,n){Vl++,Dm[Vl]=e.current,e.current=n}var lo={},jr=ho(lo),ti=ho(!1),nl=lo;function cc(e,n){var t=e.type.contextTypes;if(!t)return lo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in t)i[a]=n[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function ni(e){return e=e.childContextTypes,e!=null}function I0(){dn(ti),dn(jr)}function Lw(e,n,t){if(jr.current!==lo)throw Error(Ae(168));an(jr,n),an(ti,t)}function d4(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(Ae(108,OT(e)||"Unknown",i));return An({},t,r)}function R0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lo,nl=jr.current,an(jr,e),an(ti,ti.current),!0}function Pw(e,n,t){var r=e.stateNode;if(!r)throw Error(Ae(169));t?(e=d4(e,n,nl),r.__reactInternalMemoizedMergedChildContext=e,dn(ti),dn(jr),an(jr,e)):dn(ti),an(ti,t)}var ia=null,Ah=!1,D1=!1;function f4(e){ia===null?ia=[e]:ia.push(e)}function Kk(e){Ah=!0,f4(e)}function po(){if(!D1&&ia!==null){D1=!0;var e=0,n=Zt;try{var t=ia;for(Zt=1;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}ia=null,Ah=!1}catch(i){throw ia!==null&&(ia=ia.slice(e+1)),P3(Yg,po),i}finally{Zt=n,D1=!1}}return null}var Yl=[],$l=0,j0=null,O0=0,Ui=[],zi=0,rl=null,sa=1,aa="";function Uo(e,n){Yl[$l++]=O0,Yl[$l++]=j0,j0=e,O0=n}function h4(e,n,t){Ui[zi++]=sa,Ui[zi++]=aa,Ui[zi++]=rl,rl=e;var r=sa;e=aa;var i=32-as(r)-1;r&=~(1<<i),t+=1;var a=32-as(n)+i;if(30<a){var d=i-i%5;a=(r&(1<<d)-1).toString(32),r>>=d,i-=d,sa=1<<32-as(n)+i|t<<i|r,aa=a+e}else sa=1<<a|t<<i|r,aa=e}function tx(e){e.return!==null&&(Uo(e,1),h4(e,1,0))}function nx(e){for(;e===j0;)j0=Yl[--$l],Yl[$l]=null,O0=Yl[--$l],Yl[$l]=null;for(;e===rl;)rl=Ui[--zi],Ui[zi]=null,aa=Ui[--zi],Ui[zi]=null,sa=Ui[--zi],Ui[zi]=null}var yi=null,vi=null,wn=!1,is=null;function p4(e,n){var t=Hi(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)}function Fw(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,yi=e,vi=Ja(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,yi=e,vi=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(t=rl!==null?{id:sa,overflow:aa}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},t=Hi(18,null,null,0),t.stateNode=n,t.return=e,e.child=t,yi=e,vi=null,!0):!1;default:return!1}}function Im(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rm(e){if(wn){var n=vi;if(n){var t=n;if(!Fw(e,n)){if(Im(e))throw Error(Ae(418));n=Ja(t.nextSibling);var r=yi;n&&Fw(e,n)?p4(r,t):(e.flags=e.flags&-4097|2,wn=!1,yi=e)}}else{if(Im(e))throw Error(Ae(418));e.flags=e.flags&-4097|2,wn=!1,yi=e}}}function Bw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yi=e}function Pf(e){if(e!==yi)return!1;if(!wn)return Bw(e),wn=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Am(e.type,e.memoizedProps)),n&&(n=vi)){if(Im(e))throw m4(),Error(Ae(418));for(;n;)p4(e,n),n=Ja(n.nextSibling)}if(Bw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ae(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(n===0){vi=Ja(e.nextSibling);break e}n--}else t!=="$"&&t!=="$!"&&t!=="$?"||n++}e=e.nextSibling}vi=null}}else vi=yi?Ja(e.stateNode.nextSibling):null;return!0}function m4(){for(var e=vi;e;)e=Ja(e.nextSibling)}function uc(){vi=yi=null,wn=!1}function rx(e){is===null?is=[e]:is.push(e)}var Zk=ya.ReactCurrentBatchConfig;function xu(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ae(309));var r=t.stateNode}if(!r)throw Error(Ae(147,e));var i=r,a=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===a?n.ref:(n=function(d){var g=i.refs;d===null?delete g[a]:g[a]=d},n._stringRef=a,n)}if(typeof e!="string")throw Error(Ae(284));if(!t._owner)throw Error(Ae(290,e))}return e}function Ff(e,n){throw e=Object.prototype.toString.call(n),Error(Ae(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Uw(e){var n=e._init;return n(e._payload)}function g4(e){function n(I,D){if(e){var j=I.deletions;j===null?(I.deletions=[D],I.flags|=16):j.push(D)}}function t(I,D){if(!e)return null;for(;D!==null;)n(I,D),D=D.sibling;return null}function r(I,D){for(I=new Map;D!==null;)D.key!==null?I.set(D.key,D):I.set(D.index,D),D=D.sibling;return I}function i(I,D){return I=ro(I,D),I.index=0,I.sibling=null,I}function a(I,D,j){return I.index=j,e?(j=I.alternate,j!==null?(j=j.index,j<D?(I.flags|=2,D):j):(I.flags|=2,D)):(I.flags|=1048576,D)}function d(I){return e&&I.alternate===null&&(I.flags|=2),I}function g(I,D,j,q){return D===null||D.tag!==6?(D=P1(j,I.mode,q),D.return=I,D):(D=i(D,j),D.return=I,D)}function v(I,D,j,q){var Q=j.type;return Q===Ul?y(I,D,j.props.children,q,j.key):D!==null&&(D.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ua&&Uw(Q)===D.type)?(q=i(D,j.props),q.ref=xu(I,D,j),q.return=I,q):(q=c0(j.type,j.key,j.props,null,I.mode,q),q.ref=xu(I,D,j),q.return=I,q)}function x(I,D,j,q){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=F1(j,I.mode,q),D.return=I,D):(D=i(D,j.children||[]),D.return=I,D)}function y(I,D,j,q,Q){return D===null||D.tag!==7?(D=Ko(j,I.mode,q,Q),D.return=I,D):(D=i(D,j),D.return=I,D)}function E(I,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return D=P1(""+D,I.mode,j),D.return=I,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Af:return j=c0(D.type,D.key,D.props,null,I.mode,j),j.ref=xu(I,null,D),j.return=I,j;case Bl:return D=F1(D,I.mode,j),D.return=I,D;case Ua:var q=D._init;return E(I,q(D._payload),j)}if(Su(D)||fu(D))return D=Ko(D,I.mode,j,null),D.return=I,D;Ff(I,D)}return null}function _(I,D,j,q){var Q=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return Q!==null?null:g(I,D,""+j,q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Af:return j.key===Q?v(I,D,j,q):null;case Bl:return j.key===Q?x(I,D,j,q):null;case Ua:return Q=j._init,_(I,D,Q(j._payload),q)}if(Su(j)||fu(j))return Q!==null?null:y(I,D,j,q,null);Ff(I,j)}return null}function T(I,D,j,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number")return I=I.get(j)||null,g(D,I,""+q,Q);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Af:return I=I.get(q.key===null?j:q.key)||null,v(D,I,q,Q);case Bl:return I=I.get(q.key===null?j:q.key)||null,x(D,I,q,Q);case Ua:var z=q._init;return T(I,D,j,z(q._payload),Q)}if(Su(q)||fu(q))return I=I.get(j)||null,y(D,I,q,Q,null);Ff(D,q)}return null}function S(I,D,j,q){for(var Q=null,z=null,P=D,V=D=0,W=null;P!==null&&V<j.length;V++){P.index>V?(W=P,P=null):W=P.sibling;var se=_(I,P,j[V],q);if(se===null){P===null&&(P=W);break}e&&P&&se.alternate===null&&n(I,P),D=a(se,D,V),z===null?Q=se:z.sibling=se,z=se,P=W}if(V===j.length)return t(I,P),wn&&Uo(I,V),Q;if(P===null){for(;V<j.length;V++)P=E(I,j[V],q),P!==null&&(D=a(P,D,V),z===null?Q=P:z.sibling=P,z=P);return wn&&Uo(I,V),Q}for(P=r(I,P);V<j.length;V++)W=T(P,I,V,j[V],q),W!==null&&(e&&W.alternate!==null&&P.delete(W.key===null?V:W.key),D=a(W,D,V),z===null?Q=W:z.sibling=W,z=W);return e&&P.forEach(function(ce){return n(I,ce)}),wn&&Uo(I,V),Q}function R(I,D,j,q){var Q=fu(j);if(typeof Q!="function")throw Error(Ae(150));if(j=Q.call(j),j==null)throw Error(Ae(151));for(var z=Q=null,P=D,V=D=0,W=null,se=j.next();P!==null&&!se.done;V++,se=j.next()){P.index>V?(W=P,P=null):W=P.sibling;var ce=_(I,P,se.value,q);if(ce===null){P===null&&(P=W);break}e&&P&&ce.alternate===null&&n(I,P),D=a(ce,D,V),z===null?Q=ce:z.sibling=ce,z=ce,P=W}if(se.done)return t(I,P),wn&&Uo(I,V),Q;if(P===null){for(;!se.done;V++,se=j.next())se=E(I,se.value,q),se!==null&&(D=a(se,D,V),z===null?Q=se:z.sibling=se,z=se);return wn&&Uo(I,V),Q}for(P=r(I,P);!se.done;V++,se=j.next())se=T(P,I,V,se.value,q),se!==null&&(e&&se.alternate!==null&&P.delete(se.key===null?V:se.key),D=a(se,D,V),z===null?Q=se:z.sibling=se,z=se);return e&&P.forEach(function(ae){return n(I,ae)}),wn&&Uo(I,V),Q}function O(I,D,j,q){if(typeof j=="object"&&j!==null&&j.type===Ul&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Af:e:{for(var Q=j.key,z=D;z!==null;){if(z.key===Q){if(Q=j.type,Q===Ul){if(z.tag===7){t(I,z.sibling),D=i(z,j.props.children),D.return=I,I=D;break e}}else if(z.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ua&&Uw(Q)===z.type){t(I,z.sibling),D=i(z,j.props),D.ref=xu(I,z,j),D.return=I,I=D;break e}t(I,z);break}else n(I,z);z=z.sibling}j.type===Ul?(D=Ko(j.props.children,I.mode,q,j.key),D.return=I,I=D):(q=c0(j.type,j.key,j.props,null,I.mode,q),q.ref=xu(I,D,j),q.return=I,I=q)}return d(I);case Bl:e:{for(z=j.key;D!==null;){if(D.key===z)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){t(I,D.sibling),D=i(D,j.children||[]),D.return=I,I=D;break e}else{t(I,D);break}else n(I,D);D=D.sibling}D=F1(j,I.mode,q),D.return=I,I=D}return d(I);case Ua:return z=j._init,O(I,D,z(j._payload),q)}if(Su(j))return S(I,D,j,q);if(fu(j))return R(I,D,j,q);Ff(I,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,D!==null&&D.tag===6?(t(I,D.sibling),D=i(D,j),D.return=I,I=D):(t(I,D),D=P1(j,I.mode,q),D.return=I,I=D),d(I)):t(I,D)}return O}var dc=g4(!0),x4=g4(!1),M0=ho(null),L0=null,Gl=null,ix=null;function sx(){ix=Gl=L0=null}function ax(e){var n=M0.current;dn(M0),e._currentValue=n}function jm(e,n,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function rc(e,n){L0=e,ix=Gl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ei=!0),e.firstContext=null)}function Vi(e){var n=e._currentValue;if(ix!==e)if(e={context:e,memoizedValue:n,next:null},Gl===null){if(L0===null)throw Error(Ae(308));Gl=e,L0.dependencies={lanes:0,firstContext:e}}else Gl=Gl.next=e;return n}var Vo=null;function ox(e){Vo===null?Vo=[e]:Vo.push(e)}function v4(e,n,t,r){var i=n.interleaved;return i===null?(t.next=t,ox(n)):(t.next=i.next,i.next=t),n.interleaved=t,ma(e,r)}function ma(e,n){e.lanes|=n;var t=e.alternate;for(t!==null&&(t.lanes|=n),t=e,e=e.return;e!==null;)e.childLanes|=n,t=e.alternate,t!==null&&(t.childLanes|=n),t=e,e=e.return;return t.tag===3?t.stateNode:null}var za=!1;function lx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w4(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oa(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function eo(e,n,t){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Rt&2){var i=r.pending;return i===null?n.next=n:(n.next=i.next,i.next=n),r.pending=n,ma(e,t)}return i=r.interleaved,i===null?(n.next=n,ox(r)):(n.next=i.next,i.next=n),r.interleaved=n,ma(e,t)}function r0(e,n,t){if(n=n.updateQueue,n!==null&&(n=n.shared,(t&4194240)!==0)){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,$g(e,t)}}function zw(e,n){var t=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,a=null;if(t=t.firstBaseUpdate,t!==null){do{var d={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};a===null?i=a=d:a=a.next=d,t=t.next}while(t!==null);a===null?i=a=n:a=a.next=n}else i=a=n;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function P0(e,n,t,r){var i=e.updateQueue;za=!1;var a=i.firstBaseUpdate,d=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var v=g,x=v.next;v.next=null,d===null?a=x:d.next=x,d=v;var y=e.alternate;y!==null&&(y=y.updateQueue,g=y.lastBaseUpdate,g!==d&&(g===null?y.firstBaseUpdate=x:g.next=x,y.lastBaseUpdate=v))}if(a!==null){var E=i.baseState;d=0,y=x=v=null,g=a;do{var _=g.lane,T=g.eventTime;if((r&_)===_){y!==null&&(y=y.next={eventTime:T,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var S=e,R=g;switch(_=n,T=t,R.tag){case 1:if(S=R.payload,typeof S=="function"){E=S.call(T,E,_);break e}E=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=R.payload,_=typeof S=="function"?S.call(T,E,_):S,_==null)break e;E=An({},E,_);break e;case 2:za=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[g]:_.push(g))}else T={eventTime:T,lane:_,tag:g.tag,payload:g.payload,callback:g.callback,next:null},y===null?(x=y=T,v=E):y=y.next=T,d|=_;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;_=g,g=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(1);if(y===null&&(v=E),i.baseState=v,i.firstBaseUpdate=x,i.lastBaseUpdate=y,n=i.shared.interleaved,n!==null){i=n;do d|=i.lane,i=i.next;while(i!==n)}else a===null&&(i.shared.lanes=0);sl|=d,e.lanes=d,e.memoizedState=E}}function Ww(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var r=e[n],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ae(191,i));i.call(r)}}}var xd={},js=ho(xd),Ku=ho(xd),Zu=ho(xd);function Yo(e){if(e===xd)throw Error(Ae(174));return e}function cx(e,n){switch(an(Zu,n),an(Ku,e),an(js,xd),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:hm(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=hm(n,e)}dn(js),an(js,n)}function fc(){dn(js),dn(Ku),dn(Zu)}function y4(e){Yo(Zu.current);var n=Yo(js.current),t=hm(n,e.type);n!==t&&(an(Ku,e),an(js,t))}function ux(e){Ku.current===e&&(dn(js),dn(Ku))}var Nn=ho(0);function F0(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var I1=[];function dx(){for(var e=0;e<I1.length;e++)I1[e]._workInProgressVersionPrimary=null;I1.length=0}var i0=ya.ReactCurrentDispatcher,R1=ya.ReactCurrentBatchConfig,il=0,Sn=null,nr=null,cr=null,B0=!1,Lu=!1,Ju=0,Jk=0;function Tr(){throw Error(Ae(321))}function fx(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!us(e[t],n[t]))return!1;return!0}function hx(e,n,t,r,i,a){if(il=a,Sn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,i0.current=e===null||e.memoizedState===null?rD:iD,e=t(r,i),Lu){a=0;do{if(Lu=!1,Ju=0,25<=a)throw Error(Ae(301));a+=1,cr=nr=null,n.updateQueue=null,i0.current=sD,e=t(r,i)}while(Lu)}if(i0.current=U0,n=nr!==null&&nr.next!==null,il=0,cr=nr=Sn=null,B0=!1,n)throw Error(Ae(300));return e}function px(){var e=Ju!==0;return Ju=0,e}function Ns(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?Sn.memoizedState=cr=e:cr=cr.next=e,cr}function Yi(){if(nr===null){var e=Sn.alternate;e=e!==null?e.memoizedState:null}else e=nr.next;var n=cr===null?Sn.memoizedState:cr.next;if(n!==null)cr=n,nr=e;else{if(e===null)throw Error(Ae(310));nr=e,e={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},cr===null?Sn.memoizedState=cr=e:cr=cr.next=e}return cr}function ed(e,n){return typeof n=="function"?n(e):n}function j1(e){var n=Yi(),t=n.queue;if(t===null)throw Error(Ae(311));t.lastRenderedReducer=e;var r=nr,i=r.baseQueue,a=t.pending;if(a!==null){if(i!==null){var d=i.next;i.next=a.next,a.next=d}r.baseQueue=i=a,t.pending=null}if(i!==null){a=i.next,r=r.baseState;var g=d=null,v=null,x=a;do{var y=x.lane;if((il&y)===y)v!==null&&(v=v.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:e(r,x.action);else{var E={lane:y,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};v===null?(g=v=E,d=r):v=v.next=E,Sn.lanes|=y,sl|=y}x=x.next}while(x!==null&&x!==a);v===null?d=r:v.next=g,us(r,n.memoizedState)||(ei=!0),n.memoizedState=r,n.baseState=d,n.baseQueue=v,t.lastRenderedState=r}if(e=t.interleaved,e!==null){i=e;do a=i.lane,Sn.lanes|=a,sl|=a,i=i.next;while(i!==e)}else i===null&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function O1(e){var n=Yi(),t=n.queue;if(t===null)throw Error(Ae(311));t.lastRenderedReducer=e;var r=t.dispatch,i=t.pending,a=n.memoizedState;if(i!==null){t.pending=null;var d=i=i.next;do a=e(a,d.action),d=d.next;while(d!==i);us(a,n.memoizedState)||(ei=!0),n.memoizedState=a,n.baseQueue===null&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function b4(){}function C4(e,n){var t=Sn,r=Yi(),i=n(),a=!us(r.memoizedState,i);if(a&&(r.memoizedState=i,ei=!0),r=r.queue,mx(_4.bind(null,t,r,e),[e]),r.getSnapshot!==n||a||cr!==null&&cr.memoizedState.tag&1){if(t.flags|=2048,td(9,N4.bind(null,t,r,i,n),void 0,null),dr===null)throw Error(Ae(349));il&30||E4(t,n,i)}return i}function E4(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},n=Sn.updateQueue,n===null?(n={lastEffect:null,stores:null},Sn.updateQueue=n,n.stores=[e]):(t=n.stores,t===null?n.stores=[e]:t.push(e))}function N4(e,n,t,r){n.value=t,n.getSnapshot=r,S4(n)&&A4(e)}function _4(e,n,t){return t(function(){S4(n)&&A4(e)})}function S4(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!us(e,t)}catch{return!0}}function A4(e){var n=ma(e,1);n!==null&&os(n,e,1,-1)}function Hw(e){var n=Ns();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:e},n.queue=e,e=e.dispatch=nD.bind(null,Sn,e),[n.memoizedState,e]}function td(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},n=Sn.updateQueue,n===null?(n={lastEffect:null,stores:null},Sn.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e)),e}function T4(){return Yi().memoizedState}function s0(e,n,t,r){var i=Ns();Sn.flags|=e,i.memoizedState=td(1|n,t,void 0,r===void 0?null:r)}function Th(e,n,t,r){var i=Yi();r=r===void 0?null:r;var a=void 0;if(nr!==null){var d=nr.memoizedState;if(a=d.destroy,r!==null&&fx(r,d.deps)){i.memoizedState=td(n,t,a,r);return}}Sn.flags|=e,i.memoizedState=td(1|n,t,a,r)}function qw(e,n){return s0(8390656,8,e,n)}function mx(e,n){return Th(2048,8,e,n)}function k4(e,n){return Th(4,2,e,n)}function D4(e,n){return Th(4,4,e,n)}function I4(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function R4(e,n,t){return t=t!=null?t.concat([e]):null,Th(4,4,I4.bind(null,n,e),t)}function gx(){}function j4(e,n){var t=Yi();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&fx(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function O4(e,n){var t=Yi();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&fx(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function M4(e,n,t){return il&21?(us(t,n)||(t=U3(),Sn.lanes|=t,sl|=t,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ei=!0),e.memoizedState=t)}function eD(e,n){var t=Zt;Zt=t!==0&&4>t?t:4,e(!0);var r=R1.transition;R1.transition={};try{e(!1),n()}finally{Zt=t,R1.transition=r}}function L4(){return Yi().memoizedState}function tD(e,n,t){var r=no(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},P4(e))F4(n,t);else if(t=v4(e,n,t,r),t!==null){var i=qr();os(t,e,r,i),B4(t,n,r)}}function nD(e,n,t){var r=no(e),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(P4(e))F4(n,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=n.lastRenderedReducer,a!==null))try{var d=n.lastRenderedState,g=a(d,t);if(i.hasEagerState=!0,i.eagerState=g,us(g,d)){var v=n.interleaved;v===null?(i.next=i,ox(n)):(i.next=v.next,v.next=i),n.interleaved=i;return}}catch{}finally{}t=v4(e,n,i,r),t!==null&&(i=qr(),os(t,e,r,i),B4(t,n,r))}}function P4(e){var n=e.alternate;return e===Sn||n!==null&&n===Sn}function F4(e,n){Lu=B0=!0;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function B4(e,n,t){if(t&4194240){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,$g(e,t)}}var U0={readContext:Vi,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},rD={readContext:Vi,useCallback:function(e,n){return Ns().memoizedState=[e,n===void 0?null:n],e},useContext:Vi,useEffect:qw,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,s0(4194308,4,I4.bind(null,n,e),t)},useLayoutEffect:function(e,n){return s0(4194308,4,e,n)},useInsertionEffect:function(e,n){return s0(4,2,e,n)},useMemo:function(e,n){var t=Ns();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Ns();return n=t!==void 0?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=tD.bind(null,Sn,e),[r.memoizedState,e]},useRef:function(e){var n=Ns();return e={current:e},n.memoizedState=e},useState:Hw,useDebugValue:gx,useDeferredValue:function(e){return Ns().memoizedState=e},useTransition:function(){var e=Hw(!1),n=e[0];return e=eD.bind(null,e[1]),Ns().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=Sn,i=Ns();if(wn){if(t===void 0)throw Error(Ae(407));t=t()}else{if(t=n(),dr===null)throw Error(Ae(349));il&30||E4(r,n,t)}i.memoizedState=t;var a={value:t,getSnapshot:n};return i.queue=a,qw(_4.bind(null,r,a,e),[e]),r.flags|=2048,td(9,N4.bind(null,r,a,t,n),void 0,null),t},useId:function(){var e=Ns(),n=dr.identifierPrefix;if(wn){var t=aa,r=sa;t=(r&~(1<<32-as(r)-1)).toString(32)+t,n=":"+n+"R"+t,t=Ju++,0<t&&(n+="H"+t.toString(32)),n+=":"}else t=Jk++,n=":"+n+"r"+t.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},iD={readContext:Vi,useCallback:j4,useContext:Vi,useEffect:mx,useImperativeHandle:R4,useInsertionEffect:k4,useLayoutEffect:D4,useMemo:O4,useReducer:j1,useRef:T4,useState:function(){return j1(ed)},useDebugValue:gx,useDeferredValue:function(e){var n=Yi();return M4(n,nr.memoizedState,e)},useTransition:function(){var e=j1(ed)[0],n=Yi().memoizedState;return[e,n]},useMutableSource:b4,useSyncExternalStore:C4,useId:L4,unstable_isNewReconciler:!1},sD={readContext:Vi,useCallback:j4,useContext:Vi,useEffect:mx,useImperativeHandle:R4,useInsertionEffect:k4,useLayoutEffect:D4,useMemo:O4,useReducer:O1,useRef:T4,useState:function(){return O1(ed)},useDebugValue:gx,useDeferredValue:function(e){var n=Yi();return nr===null?n.memoizedState=e:M4(n,nr.memoizedState,e)},useTransition:function(){var e=O1(ed)[0],n=Yi().memoizedState;return[e,n]},useMutableSource:b4,useSyncExternalStore:C4,useId:L4,unstable_isNewReconciler:!1};function ns(e,n){if(e&&e.defaultProps){n=An({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t]);return n}return n}function Om(e,n,t,r){n=e.memoizedState,t=t(r,n),t=t==null?n:An({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var kh={isMounted:function(e){return(e=e._reactInternals)?hl(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=qr(),i=no(e),a=oa(r,i);a.payload=n,t!=null&&(a.callback=t),n=eo(e,a,i),n!==null&&(os(n,e,i,r),r0(n,e,i))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=qr(),i=no(e),a=oa(r,i);a.tag=1,a.payload=n,t!=null&&(a.callback=t),n=eo(e,a,i),n!==null&&(os(n,e,i,r),r0(n,e,i))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=qr(),r=no(e),i=oa(t,r);i.tag=2,n!=null&&(i.callback=n),n=eo(e,i,r),n!==null&&(os(n,e,r,t),r0(n,e,r))}};function Vw(e,n,t,r,i,a,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,d):n.prototype&&n.prototype.isPureReactComponent?!$u(t,r)||!$u(i,a):!0}function U4(e,n,t){var r=!1,i=lo,a=n.contextType;return typeof a=="object"&&a!==null?a=Vi(a):(i=ni(n)?nl:jr.current,r=n.contextTypes,a=(r=r!=null)?cc(e,i):lo),n=new n(t,a),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=kh,e.stateNode=n,n._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),n}function Yw(e,n,t,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&kh.enqueueReplaceState(n,n.state,null)}function Mm(e,n,t,r){var i=e.stateNode;i.props=t,i.state=e.memoizedState,i.refs={},lx(e);var a=n.contextType;typeof a=="object"&&a!==null?i.context=Vi(a):(a=ni(n)?nl:jr.current,i.context=cc(e,a)),i.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Om(e,n,a,t),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(n=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),n!==i.state&&kh.enqueueReplaceState(i,i.state,null),P0(e,t,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function hc(e,n){try{var t="",r=n;do t+=jT(r),r=r.return;while(r);var i=t}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:n,stack:i,digest:null}}function M1(e,n,t){return{value:e,source:null,stack:t??null,digest:n??null}}function Lm(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var aD=typeof WeakMap=="function"?WeakMap:Map;function z4(e,n,t){t=oa(-1,t),t.tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){W0||(W0=!0,Ym=r),Lm(e,n)},t}function W4(e,n,t){t=oa(-1,t),t.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=n.value;t.payload=function(){return r(i)},t.callback=function(){Lm(e,n)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Lm(e,n),typeof r!="function"&&(to===null?to=new Set([this]):to.add(this));var d=n.stack;this.componentDidCatch(n.value,{componentStack:d!==null?d:""})}),t}function $w(e,n,t){var r=e.pingCache;if(r===null){r=e.pingCache=new aD;var i=new Set;r.set(n,i)}else i=r.get(n),i===void 0&&(i=new Set,r.set(n,i));i.has(t)||(i.add(t),e=yD.bind(null,e,n,t),n.then(e,e))}function Gw(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Xw(e,n,t,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(n=oa(-1,1),n.tag=2,eo(t,n,1))),t.lanes|=1),e)}var oD=ya.ReactCurrentOwner,ei=!1;function Br(e,n,t,r){n.child=e===null?x4(n,null,t,r):dc(n,e.child,t,r)}function Qw(e,n,t,r,i){t=t.render;var a=n.ref;return rc(n,i),r=hx(e,n,t,r,a,i),t=px(),e!==null&&!ei?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,ga(e,n,i)):(wn&&t&&tx(n),n.flags|=1,Br(e,n,r,i),n.child)}function Kw(e,n,t,r,i){if(e===null){var a=t.type;return typeof a=="function"&&!Nx(a)&&a.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=a,H4(e,n,a,r,i)):(e=c0(t.type,null,r,n,n.mode,i),e.ref=n.ref,e.return=n,n.child=e)}if(a=e.child,!(e.lanes&i)){var d=a.memoizedProps;if(t=t.compare,t=t!==null?t:$u,t(d,r)&&e.ref===n.ref)return ga(e,n,i)}return n.flags|=1,e=ro(a,r),e.ref=n.ref,e.return=n,n.child=e}function H4(e,n,t,r,i){if(e!==null){var a=e.memoizedProps;if($u(a,r)&&e.ref===n.ref)if(ei=!1,n.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ei=!0);else return n.lanes=e.lanes,ga(e,n,i)}return Pm(e,n,t,r,i)}function q4(e,n,t){var r=n.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(Ql,xi),xi|=t;else{if(!(t&1073741824))return e=a!==null?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,an(Ql,xi),xi|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:t,an(Ql,xi),xi|=r}else a!==null?(r=a.baseLanes|t,n.memoizedState=null):r=t,an(Ql,xi),xi|=r;return Br(e,n,i,t),n.child}function V4(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Pm(e,n,t,r,i){var a=ni(t)?nl:jr.current;return a=cc(n,a),rc(n,i),t=hx(e,n,t,r,a,i),r=px(),e!==null&&!ei?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,ga(e,n,i)):(wn&&r&&tx(n),n.flags|=1,Br(e,n,t,i),n.child)}function Zw(e,n,t,r,i){if(ni(t)){var a=!0;R0(n)}else a=!1;if(rc(n,i),n.stateNode===null)a0(e,n),U4(n,t,r),Mm(n,t,r,i),r=!0;else if(e===null){var d=n.stateNode,g=n.memoizedProps;d.props=g;var v=d.context,x=t.contextType;typeof x=="object"&&x!==null?x=Vi(x):(x=ni(t)?nl:jr.current,x=cc(n,x));var y=t.getDerivedStateFromProps,E=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function";E||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==r||v!==x)&&Yw(n,d,r,x),za=!1;var _=n.memoizedState;d.state=_,P0(n,r,d,i),v=n.memoizedState,g!==r||_!==v||ti.current||za?(typeof y=="function"&&(Om(n,t,y,r),v=n.memoizedState),(g=za||Vw(n,t,g,r,_,v,x))?(E||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=v),d.props=r,d.state=v,d.context=x,r=g):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{d=n.stateNode,w4(e,n),g=n.memoizedProps,x=n.type===n.elementType?g:ns(n.type,g),d.props=x,E=n.pendingProps,_=d.context,v=t.contextType,typeof v=="object"&&v!==null?v=Vi(v):(v=ni(t)?nl:jr.current,v=cc(n,v));var T=t.getDerivedStateFromProps;(y=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==E||_!==v)&&Yw(n,d,r,v),za=!1,_=n.memoizedState,d.state=_,P0(n,r,d,i);var S=n.memoizedState;g!==E||_!==S||ti.current||za?(typeof T=="function"&&(Om(n,t,T,r),S=n.memoizedState),(x=za||Vw(n,t,x,r,_,S,v)||!1)?(y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,S,v),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,S,v)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=S),d.props=r,d.state=S,d.context=v,r=x):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(n.flags|=1024),r=!1)}return Fm(e,n,t,r,a,i)}function Fm(e,n,t,r,i,a){V4(e,n);var d=(n.flags&128)!==0;if(!r&&!d)return i&&Pw(n,t,!1),ga(e,n,a);r=n.stateNode,oD.current=n;var g=d&&typeof t.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,e!==null&&d?(n.child=dc(n,e.child,null,a),n.child=dc(n,null,g,a)):Br(e,n,g,a),n.memoizedState=r.state,i&&Pw(n,t,!0),n.child}function Y4(e){var n=e.stateNode;n.pendingContext?Lw(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Lw(e,n.context,!1),cx(e,n.containerInfo)}function Jw(e,n,t,r,i){return uc(),rx(i),n.flags|=256,Br(e,n,t,r),n.child}var Bm={dehydrated:null,treeContext:null,retryLane:0};function Um(e){return{baseLanes:e,cachePool:null,transitions:null}}function $4(e,n,t){var r=n.pendingProps,i=Nn.current,a=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(i&2)!==0),g?(a=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),an(Nn,i&1),e===null)return Rm(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(d=r.children,e=r.fallback,a?(r=n.mode,a=n.child,d={mode:"hidden",children:d},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=d):a=Rh(d,r,0,null),e=Ko(e,r,t,null),a.return=n,e.return=n,a.sibling=e,n.child=a,n.child.memoizedState=Um(t),n.memoizedState=Bm,e):xx(n,d));if(i=e.memoizedState,i!==null&&(g=i.dehydrated,g!==null))return lD(e,n,d,r,g,i,t);if(a){a=r.fallback,d=n.mode,i=e.child,g=i.sibling;var v={mode:"hidden",children:r.children};return!(d&1)&&n.child!==i?(r=n.child,r.childLanes=0,r.pendingProps=v,n.deletions=null):(r=ro(i,v),r.subtreeFlags=i.subtreeFlags&14680064),g!==null?a=ro(g,a):(a=Ko(a,d,t,null),a.flags|=2),a.return=n,r.return=n,r.sibling=a,n.child=r,r=a,a=n.child,d=e.child.memoizedState,d=d===null?Um(t):{baseLanes:d.baseLanes|t,cachePool:null,transitions:d.transitions},a.memoizedState=d,a.childLanes=e.childLanes&~t,n.memoizedState=Bm,r}return a=e.child,e=a.sibling,r=ro(a,{mode:"visible",children:r.children}),!(n.mode&1)&&(r.lanes=t),r.return=n,r.sibling=null,e!==null&&(t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=r,n.memoizedState=null,r}function xx(e,n){return n=Rh({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Bf(e,n,t,r){return r!==null&&rx(r),dc(n,e.child,null,t),e=xx(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function lD(e,n,t,r,i,a,d){if(t)return n.flags&256?(n.flags&=-257,r=M1(Error(Ae(422))),Bf(e,n,d,r)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(a=r.fallback,i=n.mode,r=Rh({mode:"visible",children:r.children},i,0,null),a=Ko(a,i,d,null),a.flags|=2,r.return=n,a.return=n,r.sibling=a,n.child=r,n.mode&1&&dc(n,e.child,null,d),n.child.memoizedState=Um(d),n.memoizedState=Bm,a);if(!(n.mode&1))return Bf(e,n,d,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var g=r.dgst;return r=g,a=Error(Ae(419)),r=M1(a,r,void 0),Bf(e,n,d,r)}if(g=(d&e.childLanes)!==0,ei||g){if(r=dr,r!==null){switch(d&-d){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|d)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ma(e,i),os(r,e,i,-1))}return Ex(),r=M1(Error(Ae(421))),Bf(e,n,d,r)}return i.data==="$?"?(n.flags|=128,n.child=e.child,n=bD.bind(null,e),i._reactRetry=n,null):(e=a.treeContext,vi=Ja(i.nextSibling),yi=n,wn=!0,is=null,e!==null&&(Ui[zi++]=sa,Ui[zi++]=aa,Ui[zi++]=rl,sa=e.id,aa=e.overflow,rl=n),n=xx(n,r.children),n.flags|=4096,n)}function ey(e,n,t){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),jm(e.return,n,t)}function L1(e,n,t,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=i)}function G4(e,n,t){var r=n.pendingProps,i=r.revealOrder,a=r.tail;if(Br(e,n,r.children,t),r=Nn.current,r&2)r=r&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,t,n);else if(e.tag===19)ey(e,t,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(an(Nn,r),!(n.mode&1))n.memoizedState=null;else switch(i){case"forwards":for(t=n.child,i=null;t!==null;)e=t.alternate,e!==null&&F0(e)===null&&(i=t),t=t.sibling;t=i,t===null?(i=n.child,n.child=null):(i=t.sibling,t.sibling=null),L1(n,!1,i,t,a);break;case"backwards":for(t=null,i=n.child,n.child=null;i!==null;){if(e=i.alternate,e!==null&&F0(e)===null){n.child=i;break}e=i.sibling,i.sibling=t,t=i,i=e}L1(n,!0,t,null,a);break;case"together":L1(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function a0(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function ga(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),sl|=n.lanes,!(t&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(Ae(153));if(n.child!==null){for(e=n.child,t=ro(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=ro(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}function cD(e,n,t){switch(n.tag){case 3:Y4(n),uc();break;case 5:y4(n);break;case 1:ni(n.type)&&R0(n);break;case 4:cx(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,i=n.memoizedProps.value;an(M0,r._currentValue),r._currentValue=i;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(an(Nn,Nn.current&1),n.flags|=128,null):t&n.child.childLanes?$4(e,n,t):(an(Nn,Nn.current&1),e=ga(e,n,t),e!==null?e.sibling:null);an(Nn,Nn.current&1);break;case 19:if(r=(t&n.childLanes)!==0,e.flags&128){if(r)return G4(e,n,t);n.flags|=128}if(i=n.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),an(Nn,Nn.current),r)break;return null;case 22:case 23:return n.lanes=0,q4(e,n,t)}return ga(e,n,t)}var X4,zm,Q4,K4;X4=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};zm=function(){};Q4=function(e,n,t,r){var i=e.memoizedProps;if(i!==r){e=n.stateNode,Yo(js.current);var a=null;switch(t){case"input":i=cm(e,i),r=cm(e,r),a=[];break;case"select":i=An({},i,{value:void 0}),r=An({},r,{value:void 0}),a=[];break;case"textarea":i=fm(e,i),r=fm(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=D0)}pm(t,r);var d;t=null;for(x in i)if(!r.hasOwnProperty(x)&&i.hasOwnProperty(x)&&i[x]!=null)if(x==="style"){var g=i[x];for(d in g)g.hasOwnProperty(d)&&(t||(t={}),t[d]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Uu.hasOwnProperty(x)?a||(a=[]):(a=a||[]).push(x,null));for(x in r){var v=r[x];if(g=i!=null?i[x]:void 0,r.hasOwnProperty(x)&&v!==g&&(v!=null||g!=null))if(x==="style")if(g){for(d in g)!g.hasOwnProperty(d)||v&&v.hasOwnProperty(d)||(t||(t={}),t[d]="");for(d in v)v.hasOwnProperty(d)&&g[d]!==v[d]&&(t||(t={}),t[d]=v[d])}else t||(a||(a=[]),a.push(x,t)),t=v;else x==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,g=g?g.__html:void 0,v!=null&&g!==v&&(a=a||[]).push(x,v)):x==="children"?typeof v!="string"&&typeof v!="number"||(a=a||[]).push(x,""+v):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Uu.hasOwnProperty(x)?(v!=null&&x==="onScroll"&&cn("scroll",e),a||g===v||(a=[])):(a=a||[]).push(x,v))}t&&(a=a||[]).push("style",t);var x=a;(n.updateQueue=x)&&(n.flags|=4)}};K4=function(e,n,t,r){t!==r&&(n.flags|=4)};function vu(e,n){if(!wn)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function kr(e){var n=e.alternate!==null&&e.alternate.child===e.child,t=0,r=0;if(n)for(var i=e.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function uD(e,n,t){var r=n.pendingProps;switch(nx(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(n),null;case 1:return ni(n.type)&&I0(),kr(n),null;case 3:return r=n.stateNode,fc(),dn(ti),dn(jr),dx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pf(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,is!==null&&(Xm(is),is=null))),zm(e,n),kr(n),null;case 5:ux(n);var i=Yo(Zu.current);if(t=n.type,e!==null&&n.stateNode!=null)Q4(e,n,t,r,i),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error(Ae(166));return kr(n),null}if(e=Yo(js.current),Pf(n)){r=n.stateNode,t=n.type;var a=n.memoizedProps;switch(r[Ts]=n,r[Qu]=a,e=(n.mode&1)!==0,t){case"dialog":cn("cancel",r),cn("close",r);break;case"iframe":case"object":case"embed":cn("load",r);break;case"video":case"audio":for(i=0;i<Tu.length;i++)cn(Tu[i],r);break;case"source":cn("error",r);break;case"img":case"image":case"link":cn("error",r),cn("load",r);break;case"details":cn("toggle",r);break;case"input":cw(r,a),cn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},cn("invalid",r);break;case"textarea":dw(r,a),cn("invalid",r)}pm(t,a),i=null;for(var d in a)if(a.hasOwnProperty(d)){var g=a[d];d==="children"?typeof g=="string"?r.textContent!==g&&(a.suppressHydrationWarning!==!0&&Lf(r.textContent,g,e),i=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(a.suppressHydrationWarning!==!0&&Lf(r.textContent,g,e),i=["children",""+g]):Uu.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&cn("scroll",r)}switch(t){case"input":Tf(r),uw(r,a,!0);break;case"textarea":Tf(r),fw(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=D0)}r=i,n.updateQueue=r,r!==null&&(n.flags|=4)}else{d=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_3(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(t,{is:r.is}):(e=d.createElement(t),t==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,t),e[Ts]=n,e[Qu]=r,X4(e,n,!1,!1),n.stateNode=e;e:{switch(d=mm(t,r),t){case"dialog":cn("cancel",e),cn("close",e),i=r;break;case"iframe":case"object":case"embed":cn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Tu.length;i++)cn(Tu[i],e);i=r;break;case"source":cn("error",e),i=r;break;case"img":case"image":case"link":cn("error",e),cn("load",e),i=r;break;case"details":cn("toggle",e),i=r;break;case"input":cw(e,r),i=cm(e,r),cn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=An({},r,{value:void 0}),cn("invalid",e);break;case"textarea":dw(e,r),i=fm(e,r),cn("invalid",e);break;default:i=r}pm(t,i),g=i;for(a in g)if(g.hasOwnProperty(a)){var v=g[a];a==="style"?T3(e,v):a==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&S3(e,v)):a==="children"?typeof v=="string"?(t!=="textarea"||v!=="")&&zu(e,v):typeof v=="number"&&zu(e,""+v):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Uu.hasOwnProperty(a)?v!=null&&a==="onScroll"&&cn("scroll",e):v!=null&&zg(e,a,v,d))}switch(t){case"input":Tf(e),uw(e,r,!1);break;case"textarea":Tf(e),fw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+oo(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Jl(e,!!r.multiple,a,!1):r.defaultValue!=null&&Jl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=D0)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return kr(n),null;case 6:if(e&&n.stateNode!=null)K4(e,n,e.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(Ae(166));if(t=Yo(Zu.current),Yo(js.current),Pf(n)){if(r=n.stateNode,t=n.memoizedProps,r[Ts]=n,(a=r.nodeValue!==t)&&(e=yi,e!==null))switch(e.tag){case 3:Lf(r.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lf(r.nodeValue,t,(e.mode&1)!==0)}a&&(n.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ts]=n,n.stateNode=r}return kr(n),null;case 13:if(dn(Nn),r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wn&&vi!==null&&n.mode&1&&!(n.flags&128))m4(),uc(),n.flags|=98560,a=!1;else if(a=Pf(n),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Ae(318));if(a=n.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ae(317));a[Ts]=n}else uc(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;kr(n),a=!1}else is!==null&&(Xm(is),is=null),a=!0;if(!a)return n.flags&65536?n:null}return n.flags&128?(n.lanes=t,n):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(n.child.flags|=8192,n.mode&1&&(e===null||Nn.current&1?rr===0&&(rr=3):Ex())),n.updateQueue!==null&&(n.flags|=4),kr(n),null);case 4:return fc(),zm(e,n),e===null&&Gu(n.stateNode.containerInfo),kr(n),null;case 10:return ax(n.type._context),kr(n),null;case 17:return ni(n.type)&&I0(),kr(n),null;case 19:if(dn(Nn),a=n.memoizedState,a===null)return kr(n),null;if(r=(n.flags&128)!==0,d=a.rendering,d===null)if(r)vu(a,!1);else{if(rr!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(d=F0(e),d!==null){for(n.flags|=128,vu(a,!1),r=d.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;t!==null;)a=t,e=r,a.flags&=14680066,d=a.alternate,d===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,e=d.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return an(Nn,Nn.current&1|2),n.child}e=e.sibling}a.tail!==null&&zn()>pc&&(n.flags|=128,r=!0,vu(a,!1),n.lanes=4194304)}else{if(!r)if(e=F0(d),e!==null){if(n.flags|=128,r=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),vu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!wn)return kr(n),null}else 2*zn()-a.renderingStartTime>pc&&t!==1073741824&&(n.flags|=128,r=!0,vu(a,!1),n.lanes=4194304);a.isBackwards?(d.sibling=n.child,n.child=d):(t=a.last,t!==null?t.sibling=d:n.child=d,a.last=d)}return a.tail!==null?(n=a.tail,a.rendering=n,a.tail=n.sibling,a.renderingStartTime=zn(),n.sibling=null,t=Nn.current,an(Nn,r?t&1|2:t&1),n):(kr(n),null);case 22:case 23:return Cx(),r=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(n.flags|=8192),r&&n.mode&1?xi&1073741824&&(kr(n),n.subtreeFlags&6&&(n.flags|=8192)):kr(n),null;case 24:return null;case 25:return null}throw Error(Ae(156,n.tag))}function dD(e,n){switch(nx(n),n.tag){case 1:return ni(n.type)&&I0(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return fc(),dn(ti),dn(jr),dx(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return ux(n),null;case 13:if(dn(Nn),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(Ae(340));uc()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return dn(Nn),null;case 4:return fc(),null;case 10:return ax(n.type._context),null;case 22:case 23:return Cx(),null;case 24:return null;default:return null}}var Uf=!1,Dr=!1,fD=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Xl(e,n){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){jn(e,n,r)}else t.current=null}function Wm(e,n,t){try{t()}catch(r){jn(e,n,r)}}var ty=!1;function hD(e,n){if(_m=A0,e=n4(),ex(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{t.nodeType,a.nodeType}catch{t=null;break e}var d=0,g=-1,v=-1,x=0,y=0,E=e,_=null;t:for(;;){for(var T;E!==t||i!==0&&E.nodeType!==3||(g=d+i),E!==a||r!==0&&E.nodeType!==3||(v=d+r),E.nodeType===3&&(d+=E.nodeValue.length),(T=E.firstChild)!==null;)_=E,E=T;for(;;){if(E===e)break t;if(_===t&&++x===i&&(g=d),_===a&&++y===r&&(v=d),(T=E.nextSibling)!==null)break;E=_,_=E.parentNode}E=T}t=g===-1||v===-1?null:{start:g,end:v}}else t=null}t=t||{start:0,end:0}}else t=null;for(Sm={focusedElem:e,selectionRange:t},A0=!1,Be=n;Be!==null;)if(n=Be,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Be=e;else for(;Be!==null;){n=Be;try{var S=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var R=S.memoizedProps,O=S.memoizedState,I=n.stateNode,D=I.getSnapshotBeforeUpdate(n.elementType===n.type?R:ns(n.type,R),O);I.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var j=n.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ae(163))}}catch(q){jn(n,n.return,q)}if(e=n.sibling,e!==null){e.return=n.return,Be=e;break}Be=n.return}return S=ty,ty=!1,S}function Pu(e,n,t){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Wm(n,t,a)}i=i.next}while(i!==r)}}function Dh(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function Hm(e){var n=e.ref;if(n!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof n=="function"?n(e):n.current=e}}function Z4(e){var n=e.alternate;n!==null&&(e.alternate=null,Z4(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ts],delete n[Qu],delete n[km],delete n[Xk],delete n[Qk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function J4(e){return e.tag===5||e.tag===3||e.tag===4}function ny(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||J4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qm(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=D0));else if(r!==4&&(e=e.child,e!==null))for(qm(e,n,t),e=e.sibling;e!==null;)qm(e,n,t),e=e.sibling}function Vm(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vm(e,n,t),e=e.sibling;e!==null;)Vm(e,n,t),e=e.sibling}var xr=null,rs=!1;function La(e,n,t){for(t=t.child;t!==null;)eC(e,n,t),t=t.sibling}function eC(e,n,t){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(Ch,t)}catch{}switch(t.tag){case 5:Dr||Xl(t,n);case 6:var r=xr,i=rs;xr=null,La(e,n,t),xr=r,rs=i,xr!==null&&(rs?(e=xr,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):xr.removeChild(t.stateNode));break;case 18:xr!==null&&(rs?(e=xr,t=t.stateNode,e.nodeType===8?k1(e.parentNode,t):e.nodeType===1&&k1(e,t),Vu(e)):k1(xr,t.stateNode));break;case 4:r=xr,i=rs,xr=t.stateNode.containerInfo,rs=!0,La(e,n,t),xr=r,rs=i;break;case 0:case 11:case 14:case 15:if(!Dr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,d=a.destroy;a=a.tag,d!==void 0&&(a&2||a&4)&&Wm(t,n,d),i=i.next}while(i!==r)}La(e,n,t);break;case 1:if(!Dr&&(Xl(t,n),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(g){jn(t,n,g)}La(e,n,t);break;case 21:La(e,n,t);break;case 22:t.mode&1?(Dr=(r=Dr)||t.memoizedState!==null,La(e,n,t),Dr=r):La(e,n,t);break;default:La(e,n,t)}}function ry(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new fD),n.forEach(function(r){var i=CD.bind(null,e,r);t.has(r)||(t.add(r),r.then(i,i))})}}function ts(e,n){var t=n.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var a=e,d=n,g=d;e:for(;g!==null;){switch(g.tag){case 5:xr=g.stateNode,rs=!1;break e;case 3:xr=g.stateNode.containerInfo,rs=!0;break e;case 4:xr=g.stateNode.containerInfo,rs=!0;break e}g=g.return}if(xr===null)throw Error(Ae(160));eC(a,d,i),xr=null,rs=!1;var v=i.alternate;v!==null&&(v.return=null),i.return=null}catch(x){jn(i,n,x)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)tC(n,e),n=n.sibling}function tC(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ts(n,e),ys(e),r&4){try{Pu(3,e,e.return),Dh(3,e)}catch(R){jn(e,e.return,R)}try{Pu(5,e,e.return)}catch(R){jn(e,e.return,R)}}break;case 1:ts(n,e),ys(e),r&512&&t!==null&&Xl(t,t.return);break;case 5:if(ts(n,e),ys(e),r&512&&t!==null&&Xl(t,t.return),e.flags&32){var i=e.stateNode;try{zu(i,"")}catch(R){jn(e,e.return,R)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,d=t!==null?t.memoizedProps:a,g=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{g==="input"&&a.type==="radio"&&a.name!=null&&E3(i,a),mm(g,d);var x=mm(g,a);for(d=0;d<v.length;d+=2){var y=v[d],E=v[d+1];y==="style"?T3(i,E):y==="dangerouslySetInnerHTML"?S3(i,E):y==="children"?zu(i,E):zg(i,y,E,x)}switch(g){case"input":um(i,a);break;case"textarea":N3(i,a);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var T=a.value;T!=null?Jl(i,!!a.multiple,T,!1):_!==!!a.multiple&&(a.defaultValue!=null?Jl(i,!!a.multiple,a.defaultValue,!0):Jl(i,!!a.multiple,a.multiple?[]:"",!1))}i[Qu]=a}catch(R){jn(e,e.return,R)}}break;case 6:if(ts(n,e),ys(e),r&4){if(e.stateNode===null)throw Error(Ae(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(R){jn(e,e.return,R)}}break;case 3:if(ts(n,e),ys(e),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Vu(n.containerInfo)}catch(R){jn(e,e.return,R)}break;case 4:ts(n,e),ys(e);break;case 13:ts(n,e),ys(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(yx=zn())),r&4&&ry(e);break;case 22:if(y=t!==null&&t.memoizedState!==null,e.mode&1?(Dr=(x=Dr)||y,ts(n,e),Dr=x):ts(n,e),ys(e),r&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!y&&e.mode&1)for(Be=e,y=e.child;y!==null;){for(E=Be=y;Be!==null;){switch(_=Be,T=_.child,_.tag){case 0:case 11:case 14:case 15:Pu(4,_,_.return);break;case 1:Xl(_,_.return);var S=_.stateNode;if(typeof S.componentWillUnmount=="function"){r=_,t=_.return;try{n=r,S.props=n.memoizedProps,S.state=n.memoizedState,S.componentWillUnmount()}catch(R){jn(r,t,R)}}break;case 5:Xl(_,_.return);break;case 22:if(_.memoizedState!==null){sy(E);continue}}T!==null?(T.return=_,Be=T):sy(E)}y=y.sibling}e:for(y=null,E=e;;){if(E.tag===5){if(y===null){y=E;try{i=E.stateNode,x?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(g=E.stateNode,v=E.memoizedProps.style,d=v!=null&&v.hasOwnProperty("display")?v.display:null,g.style.display=A3("display",d))}catch(R){jn(e,e.return,R)}}}else if(E.tag===6){if(y===null)try{E.stateNode.nodeValue=x?"":E.memoizedProps}catch(R){jn(e,e.return,R)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;y===E&&(y=null),E=E.return}y===E&&(y=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:ts(n,e),ys(e),r&4&&ry(e);break;case 21:break;default:ts(n,e),ys(e)}}function ys(e){var n=e.flags;if(n&2){try{e:{for(var t=e.return;t!==null;){if(J4(t)){var r=t;break e}t=t.return}throw Error(Ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zu(i,""),r.flags&=-33);var a=ny(e);Vm(e,a,i);break;case 3:case 4:var d=r.stateNode.containerInfo,g=ny(e);qm(e,g,d);break;default:throw Error(Ae(161))}}catch(v){jn(e,e.return,v)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function pD(e,n,t){Be=e,nC(e)}function nC(e,n,t){for(var r=(e.mode&1)!==0;Be!==null;){var i=Be,a=i.child;if(i.tag===22&&r){var d=i.memoizedState!==null||Uf;if(!d){var g=i.alternate,v=g!==null&&g.memoizedState!==null||Dr;g=Uf;var x=Dr;if(Uf=d,(Dr=v)&&!x)for(Be=i;Be!==null;)d=Be,v=d.child,d.tag===22&&d.memoizedState!==null?ay(i):v!==null?(v.return=d,Be=v):ay(i);for(;a!==null;)Be=a,nC(a),a=a.sibling;Be=i,Uf=g,Dr=x}iy(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Be=a):iy(e)}}function iy(e){for(;Be!==null;){var n=Be;if(n.flags&8772){var t=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Dr||Dh(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!Dr)if(t===null)r.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:ns(n.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=n.updateQueue;a!==null&&Ww(n,a,r);break;case 3:var d=n.updateQueue;if(d!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Ww(n,d,t)}break;case 5:var g=n.stateNode;if(t===null&&n.flags&4){t=g;var v=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&t.focus();break;case"img":v.src&&(t.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var x=n.alternate;if(x!==null){var y=x.memoizedState;if(y!==null){var E=y.dehydrated;E!==null&&Vu(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ae(163))}Dr||n.flags&512&&Hm(n)}catch(_){jn(n,n.return,_)}}if(n===e){Be=null;break}if(t=n.sibling,t!==null){t.return=n.return,Be=t;break}Be=n.return}}function sy(e){for(;Be!==null;){var n=Be;if(n===e){Be=null;break}var t=n.sibling;if(t!==null){t.return=n.return,Be=t;break}Be=n.return}}function ay(e){for(;Be!==null;){var n=Be;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{Dh(4,n)}catch(v){jn(n,t,v)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var i=n.return;try{r.componentDidMount()}catch(v){jn(n,i,v)}}var a=n.return;try{Hm(n)}catch(v){jn(n,a,v)}break;case 5:var d=n.return;try{Hm(n)}catch(v){jn(n,d,v)}}}catch(v){jn(n,n.return,v)}if(n===e){Be=null;break}var g=n.sibling;if(g!==null){g.return=n.return,Be=g;break}Be=n.return}}var mD=Math.ceil,z0=ya.ReactCurrentDispatcher,vx=ya.ReactCurrentOwner,qi=ya.ReactCurrentBatchConfig,Rt=0,dr=null,Gn=null,vr=0,xi=0,Ql=ho(0),rr=0,nd=null,sl=0,Ih=0,wx=0,Fu=null,Jr=null,yx=0,pc=1/0,ra=null,W0=!1,Ym=null,to=null,zf=!1,$a=null,H0=0,Bu=0,$m=null,o0=-1,l0=0;function qr(){return Rt&6?zn():o0!==-1?o0:o0=zn()}function no(e){return e.mode&1?Rt&2&&vr!==0?vr&-vr:Zk.transition!==null?(l0===0&&(l0=U3()),l0):(e=Zt,e!==0||(e=window.event,e=e===void 0?16:$3(e.type)),e):1}function os(e,n,t,r){if(50<Bu)throw Bu=0,$m=null,Error(Ae(185));pd(e,t,r),(!(Rt&2)||e!==dr)&&(e===dr&&(!(Rt&2)&&(Ih|=t),rr===4&&qa(e,vr)),ri(e,r),t===1&&Rt===0&&!(n.mode&1)&&(pc=zn()+500,Ah&&po()))}function ri(e,n){var t=e.callbackNode;ZT(e,n);var r=S0(e,e===dr?vr:0);if(r===0)t!==null&&mw(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(t!=null&&mw(t),n===1)e.tag===0?Kk(oy.bind(null,e)):f4(oy.bind(null,e)),$k(function(){!(Rt&6)&&po()}),t=null;else{switch(z3(r)){case 1:t=Yg;break;case 4:t=F3;break;case 16:t=_0;break;case 536870912:t=B3;break;default:t=_0}t=uC(t,rC.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function rC(e,n){if(o0=-1,l0=0,Rt&6)throw Error(Ae(327));var t=e.callbackNode;if(ic()&&e.callbackNode!==t)return null;var r=S0(e,e===dr?vr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||n)n=q0(e,r);else{n=r;var i=Rt;Rt|=2;var a=sC();(dr!==e||vr!==n)&&(ra=null,pc=zn()+500,Qo(e,n));do try{vD();break}catch(g){iC(e,g)}while(1);sx(),z0.current=a,Rt=i,Gn!==null?n=0:(dr=null,vr=0,n=rr)}if(n!==0){if(n===2&&(i=ym(e),i!==0&&(r=i,n=Gm(e,i))),n===1)throw t=nd,Qo(e,0),qa(e,r),ri(e,zn()),t;if(n===6)qa(e,r);else{if(i=e.current.alternate,!(r&30)&&!gD(i)&&(n=q0(e,r),n===2&&(a=ym(e),a!==0&&(r=a,n=Gm(e,a))),n===1))throw t=nd,Qo(e,0),qa(e,r),ri(e,zn()),t;switch(e.finishedWork=i,e.finishedLanes=r,n){case 0:case 1:throw Error(Ae(345));case 2:zo(e,Jr,ra);break;case 3:if(qa(e,r),(r&130023424)===r&&(n=yx+500-zn(),10<n)){if(S0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){qr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Tm(zo.bind(null,e,Jr,ra),n);break}zo(e,Jr,ra);break;case 4:if(qa(e,r),(r&4194240)===r)break;for(n=e.eventTimes,i=-1;0<r;){var d=31-as(r);a=1<<d,d=n[d],d>i&&(i=d),r&=~a}if(r=i,r=zn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mD(r/1960))-r,10<r){e.timeoutHandle=Tm(zo.bind(null,e,Jr,ra),r);break}zo(e,Jr,ra);break;case 5:zo(e,Jr,ra);break;default:throw Error(Ae(329))}}}return ri(e,zn()),e.callbackNode===t?rC.bind(null,e):null}function Gm(e,n){var t=Fu;return e.current.memoizedState.isDehydrated&&(Qo(e,n).flags|=256),e=q0(e,n),e!==2&&(n=Jr,Jr=t,n!==null&&Xm(n)),e}function Xm(e){Jr===null?Jr=e:Jr.push.apply(Jr,e)}function gD(e){for(var n=e;;){if(n.flags&16384){var t=n.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],a=i.getSnapshot;i=i.value;try{if(!us(a(),i))return!1}catch{return!1}}}if(t=n.child,n.subtreeFlags&16384&&t!==null)t.return=n,n=t;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qa(e,n){for(n&=~wx,n&=~Ih,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-as(n),r=1<<t;e[t]=-1,n&=~r}}function oy(e){if(Rt&6)throw Error(Ae(327));ic();var n=S0(e,0);if(!(n&1))return ri(e,zn()),null;var t=q0(e,n);if(e.tag!==0&&t===2){var r=ym(e);r!==0&&(n=r,t=Gm(e,r))}if(t===1)throw t=nd,Qo(e,0),qa(e,n),ri(e,zn()),t;if(t===6)throw Error(Ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,zo(e,Jr,ra),ri(e,zn()),null}function bx(e,n){var t=Rt;Rt|=1;try{return e(n)}finally{Rt=t,Rt===0&&(pc=zn()+500,Ah&&po())}}function al(e){$a!==null&&$a.tag===0&&!(Rt&6)&&ic();var n=Rt;Rt|=1;var t=qi.transition,r=Zt;try{if(qi.transition=null,Zt=1,e)return e()}finally{Zt=r,qi.transition=t,Rt=n,!(Rt&6)&&po()}}function Cx(){xi=Ql.current,dn(Ql)}function Qo(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,Yk(t)),Gn!==null)for(t=Gn.return;t!==null;){var r=t;switch(nx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&I0();break;case 3:fc(),dn(ti),dn(jr),dx();break;case 5:ux(r);break;case 4:fc();break;case 13:dn(Nn);break;case 19:dn(Nn);break;case 10:ax(r.type._context);break;case 22:case 23:Cx()}t=t.return}if(dr=e,Gn=e=ro(e.current,null),vr=xi=n,rr=0,nd=null,wx=Ih=sl=0,Jr=Fu=null,Vo!==null){for(n=0;n<Vo.length;n++)if(t=Vo[n],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,a=t.pending;if(a!==null){var d=a.next;a.next=i,r.next=d}t.pending=r}Vo=null}return e}function iC(e,n){do{var t=Gn;try{if(sx(),i0.current=U0,B0){for(var r=Sn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}B0=!1}if(il=0,cr=nr=Sn=null,Lu=!1,Ju=0,vx.current=null,t===null||t.return===null){rr=1,nd=n,Gn=null;break}e:{var a=e,d=t.return,g=t,v=n;if(n=vr,g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var x=v,y=g,E=y.tag;if(!(y.mode&1)&&(E===0||E===11||E===15)){var _=y.alternate;_?(y.updateQueue=_.updateQueue,y.memoizedState=_.memoizedState,y.lanes=_.lanes):(y.updateQueue=null,y.memoizedState=null)}var T=Gw(d);if(T!==null){T.flags&=-257,Xw(T,d,g,a,n),T.mode&1&&$w(a,x,n),n=T,v=x;var S=n.updateQueue;if(S===null){var R=new Set;R.add(v),n.updateQueue=R}else S.add(v);break e}else{if(!(n&1)){$w(a,x,n),Ex();break e}v=Error(Ae(426))}}else if(wn&&g.mode&1){var O=Gw(d);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Xw(O,d,g,a,n),rx(hc(v,g));break e}}a=v=hc(v,g),rr!==4&&(rr=2),Fu===null?Fu=[a]:Fu.push(a),a=d;do{switch(a.tag){case 3:a.flags|=65536,n&=-n,a.lanes|=n;var I=z4(a,v,n);zw(a,I);break e;case 1:g=v;var D=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(to===null||!to.has(j)))){a.flags|=65536,n&=-n,a.lanes|=n;var q=W4(a,g,n);zw(a,q);break e}}a=a.return}while(a!==null)}oC(t)}catch(Q){n=Q,Gn===t&&t!==null&&(Gn=t=t.return);continue}break}while(1)}function sC(){var e=z0.current;return z0.current=U0,e===null?U0:e}function Ex(){(rr===0||rr===3||rr===2)&&(rr=4),dr===null||!(sl&268435455)&&!(Ih&268435455)||qa(dr,vr)}function q0(e,n){var t=Rt;Rt|=2;var r=sC();(dr!==e||vr!==n)&&(ra=null,Qo(e,n));do try{xD();break}catch(i){iC(e,i)}while(1);if(sx(),Rt=t,z0.current=r,Gn!==null)throw Error(Ae(261));return dr=null,vr=0,rr}function xD(){for(;Gn!==null;)aC(Gn)}function vD(){for(;Gn!==null&&!HT();)aC(Gn)}function aC(e){var n=cC(e.alternate,e,xi);e.memoizedProps=e.pendingProps,n===null?oC(e):Gn=n,vx.current=null}function oC(e){var n=e;do{var t=n.alternate;if(e=n.return,n.flags&32768){if(t=dD(t,n),t!==null){t.flags&=32767,Gn=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rr=6,Gn=null;return}}else if(t=uD(t,n,xi),t!==null){Gn=t;return}if(n=n.sibling,n!==null){Gn=n;return}Gn=n=e}while(n!==null);rr===0&&(rr=5)}function zo(e,n,t){var r=Zt,i=qi.transition;try{qi.transition=null,Zt=1,wD(e,n,t,r)}finally{qi.transition=i,Zt=r}return null}function wD(e,n,t,r){do ic();while($a!==null);if(Rt&6)throw Error(Ae(327));t=e.finishedWork;var i=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(Ae(177));e.callbackNode=null,e.callbackPriority=0;var a=t.lanes|t.childLanes;if(JT(e,a),e===dr&&(Gn=dr=null,vr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||zf||(zf=!0,uC(_0,function(){return ic(),null})),a=(t.flags&15990)!==0,t.subtreeFlags&15990||a){a=qi.transition,qi.transition=null;var d=Zt;Zt=1;var g=Rt;Rt|=4,vx.current=null,hD(e,t),tC(t,e),Bk(Sm),A0=!!_m,Sm=_m=null,e.current=t,pD(t),qT(),Rt=g,Zt=d,qi.transition=a}else e.current=t;if(zf&&(zf=!1,$a=e,H0=i),a=e.pendingLanes,a===0&&(to=null),$T(t.stateNode),ri(e,zn()),n!==null)for(r=e.onRecoverableError,t=0;t<n.length;t++)i=n[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(W0)throw W0=!1,e=Ym,Ym=null,e;return H0&1&&e.tag!==0&&ic(),a=e.pendingLanes,a&1?e===$m?Bu++:(Bu=0,$m=e):Bu=0,po(),null}function ic(){if($a!==null){var e=z3(H0),n=qi.transition,t=Zt;try{if(qi.transition=null,Zt=16>e?16:e,$a===null)var r=!1;else{if(e=$a,$a=null,H0=0,Rt&6)throw Error(Ae(331));var i=Rt;for(Rt|=4,Be=e.current;Be!==null;){var a=Be,d=a.child;if(Be.flags&16){var g=a.deletions;if(g!==null){for(var v=0;v<g.length;v++){var x=g[v];for(Be=x;Be!==null;){var y=Be;switch(y.tag){case 0:case 11:case 15:Pu(8,y,a)}var E=y.child;if(E!==null)E.return=y,Be=E;else for(;Be!==null;){y=Be;var _=y.sibling,T=y.return;if(Z4(y),y===x){Be=null;break}if(_!==null){_.return=T,Be=_;break}Be=T}}}var S=a.alternate;if(S!==null){var R=S.child;if(R!==null){S.child=null;do{var O=R.sibling;R.sibling=null,R=O}while(R!==null)}}Be=a}}if(a.subtreeFlags&2064&&d!==null)d.return=a,Be=d;else e:for(;Be!==null;){if(a=Be,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pu(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,Be=I;break e}Be=a.return}}var D=e.current;for(Be=D;Be!==null;){d=Be;var j=d.child;if(d.subtreeFlags&2064&&j!==null)j.return=d,Be=j;else e:for(d=D;Be!==null;){if(g=Be,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Dh(9,g)}}catch(Q){jn(g,g.return,Q)}if(g===d){Be=null;break e}var q=g.sibling;if(q!==null){q.return=g.return,Be=q;break e}Be=g.return}}if(Rt=i,po(),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(Ch,e)}catch{}r=!0}return r}finally{Zt=t,qi.transition=n}}return!1}function ly(e,n,t){n=hc(t,n),n=z4(e,n,1),e=eo(e,n,1),n=qr(),e!==null&&(pd(e,1,n),ri(e,n))}function jn(e,n,t){if(e.tag===3)ly(e,e,t);else for(;n!==null;){if(n.tag===3){ly(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(to===null||!to.has(r))){e=hc(t,e),e=W4(n,e,1),n=eo(n,e,1),e=qr(),n!==null&&(pd(n,1,e),ri(n,e));break}}n=n.return}}function yD(e,n,t){var r=e.pingCache;r!==null&&r.delete(n),n=qr(),e.pingedLanes|=e.suspendedLanes&t,dr===e&&(vr&t)===t&&(rr===4||rr===3&&(vr&130023424)===vr&&500>zn()-yx?Qo(e,0):wx|=t),ri(e,n)}function lC(e,n){n===0&&(e.mode&1?(n=If,If<<=1,!(If&130023424)&&(If=4194304)):n=1);var t=qr();e=ma(e,n),e!==null&&(pd(e,n,t),ri(e,t))}function bD(e){var n=e.memoizedState,t=0;n!==null&&(t=n.retryLane),lC(e,t)}function CD(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ae(314))}r!==null&&r.delete(n),lC(e,t)}var cC;cC=function(e,n,t){if(e!==null)if(e.memoizedProps!==n.pendingProps||ti.current)ei=!0;else{if(!(e.lanes&t)&&!(n.flags&128))return ei=!1,cD(e,n,t);ei=!!(e.flags&131072)}else ei=!1,wn&&n.flags&1048576&&h4(n,O0,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;a0(e,n),e=n.pendingProps;var i=cc(n,jr.current);rc(n,t),i=hx(null,n,r,e,i,t);var a=px();return n.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ni(r)?(a=!0,R0(n)):a=!1,n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lx(n),i.updater=kh,n.stateNode=i,i._reactInternals=n,Mm(n,r,e,t),n=Fm(null,n,r,!0,a,t)):(n.tag=0,wn&&a&&tx(n),Br(null,n,i,t),n=n.child),n;case 16:r=n.elementType;e:{switch(a0(e,n),e=n.pendingProps,i=r._init,r=i(r._payload),n.type=r,i=n.tag=ND(r),e=ns(r,e),i){case 0:n=Pm(null,n,r,e,t);break e;case 1:n=Zw(null,n,r,e,t);break e;case 11:n=Qw(null,n,r,e,t);break e;case 14:n=Kw(null,n,r,ns(r.type,e),t);break e}throw Error(Ae(306,r,""))}return n;case 0:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:ns(r,i),Pm(e,n,r,i,t);case 1:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:ns(r,i),Zw(e,n,r,i,t);case 3:e:{if(Y4(n),e===null)throw Error(Ae(387));r=n.pendingProps,a=n.memoizedState,i=a.element,w4(e,n),P0(n,r,null,t);var d=n.memoizedState;if(r=d.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},n.updateQueue.baseState=a,n.memoizedState=a,n.flags&256){i=hc(Error(Ae(423)),n),n=Jw(e,n,r,t,i);break e}else if(r!==i){i=hc(Error(Ae(424)),n),n=Jw(e,n,r,t,i);break e}else for(vi=Ja(n.stateNode.containerInfo.firstChild),yi=n,wn=!0,is=null,t=x4(n,null,r,t),n.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(uc(),r===i){n=ga(e,n,t);break e}Br(e,n,r,t)}n=n.child}return n;case 5:return y4(n),e===null&&Rm(n),r=n.type,i=n.pendingProps,a=e!==null?e.memoizedProps:null,d=i.children,Am(r,i)?d=null:a!==null&&Am(r,a)&&(n.flags|=32),V4(e,n),Br(e,n,d,t),n.child;case 6:return e===null&&Rm(n),null;case 13:return $4(e,n,t);case 4:return cx(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=dc(n,null,r,t):Br(e,n,r,t),n.child;case 11:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:ns(r,i),Qw(e,n,r,i,t);case 7:return Br(e,n,n.pendingProps,t),n.child;case 8:return Br(e,n,n.pendingProps.children,t),n.child;case 12:return Br(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,i=n.pendingProps,a=n.memoizedProps,d=i.value,an(M0,r._currentValue),r._currentValue=d,a!==null)if(us(a.value,d)){if(a.children===i.children&&!ti.current){n=ga(e,n,t);break e}}else for(a=n.child,a!==null&&(a.return=n);a!==null;){var g=a.dependencies;if(g!==null){d=a.child;for(var v=g.firstContext;v!==null;){if(v.context===r){if(a.tag===1){v=oa(-1,t&-t),v.tag=2;var x=a.updateQueue;if(x!==null){x=x.shared;var y=x.pending;y===null?v.next=v:(v.next=y.next,y.next=v),x.pending=v}}a.lanes|=t,v=a.alternate,v!==null&&(v.lanes|=t),jm(a.return,t,n),g.lanes|=t;break}v=v.next}}else if(a.tag===10)d=a.type===n.type?null:a.child;else if(a.tag===18){if(d=a.return,d===null)throw Error(Ae(341));d.lanes|=t,g=d.alternate,g!==null&&(g.lanes|=t),jm(d,t,n),d=a.sibling}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===n){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}Br(e,n,i.children,t),n=n.child}return n;case 9:return i=n.type,r=n.pendingProps.children,rc(n,t),i=Vi(i),r=r(i),n.flags|=1,Br(e,n,r,t),n.child;case 14:return r=n.type,i=ns(r,n.pendingProps),i=ns(r.type,i),Kw(e,n,r,i,t);case 15:return H4(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:ns(r,i),a0(e,n),n.tag=1,ni(r)?(e=!0,R0(n)):e=!1,rc(n,t),U4(n,r,i),Mm(n,r,i,t),Fm(null,n,r,!0,e,t);case 19:return G4(e,n,t);case 22:return q4(e,n,t)}throw Error(Ae(156,n.tag))};function uC(e,n){return P3(e,n)}function ED(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(e,n,t,r){return new ED(e,n,t,r)}function Nx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ND(e){if(typeof e=="function")return Nx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hg)return 11;if(e===qg)return 14}return 2}function ro(e,n){var t=e.alternate;return t===null?(t=Hi(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function c0(e,n,t,r,i,a){var d=2;if(r=e,typeof e=="function")Nx(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Ul:return Ko(t.children,i,a,n);case Wg:d=8,i|=8;break;case sm:return e=Hi(12,t,n,i|2),e.elementType=sm,e.lanes=a,e;case am:return e=Hi(13,t,n,i),e.elementType=am,e.lanes=a,e;case om:return e=Hi(19,t,n,i),e.elementType=om,e.lanes=a,e;case y3:return Rh(t,i,a,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case v3:d=10;break e;case w3:d=9;break e;case Hg:d=11;break e;case qg:d=14;break e;case Ua:d=16,r=null;break e}throw Error(Ae(130,e==null?e:typeof e,""))}return n=Hi(d,t,n,i),n.elementType=e,n.type=r,n.lanes=a,n}function Ko(e,n,t,r){return e=Hi(7,e,r,n),e.lanes=t,e}function Rh(e,n,t,r){return e=Hi(22,e,r,n),e.elementType=y3,e.lanes=t,e.stateNode={isHidden:!1},e}function P1(e,n,t){return e=Hi(6,e,null,n),e.lanes=t,e}function F1(e,n,t){return n=Hi(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function _D(e,n,t,r,i){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=v1(0),this.expirationTimes=v1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=v1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _x(e,n,t,r,i,a,d,g,v){return e=new _D(e,n,t,g,v),n===1?(n=1,a===!0&&(n|=8)):n=0,a=Hi(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},lx(a),e}function SD(e,n,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bl,key:r==null?null:""+r,children:e,containerInfo:n,implementation:t}}function dC(e){if(!e)return lo;e=e._reactInternals;e:{if(hl(e)!==e||e.tag!==1)throw Error(Ae(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ni(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(Ae(171))}if(e.tag===1){var t=e.type;if(ni(t))return d4(e,t,n)}return n}function fC(e,n,t,r,i,a,d,g,v){return e=_x(t,r,!0,e,i,a,d,g,v),e.context=dC(null),t=e.current,r=qr(),i=no(t),a=oa(r,i),a.callback=n??null,eo(t,a,i),e.current.lanes=i,pd(e,i,r),ri(e,r),e}function jh(e,n,t,r){var i=n.current,a=qr(),d=no(i);return t=dC(t),n.context===null?n.context=t:n.pendingContext=t,n=oa(a,d),n.payload={element:e},r=r===void 0?null:r,r!==null&&(n.callback=r),e=eo(i,n,d),e!==null&&(os(e,i,d,a),r0(e,i,d)),d}function V0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function Sx(e,n){cy(e,n),(e=e.alternate)&&cy(e,n)}function AD(){return null}var hC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ax(e){this._internalRoot=e}Oh.prototype.render=Ax.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(Ae(409));jh(e,n,null,null)};Oh.prototype.unmount=Ax.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;al(function(){jh(null,e,null,null)}),n[pa]=null}};function Oh(e){this._internalRoot=e}Oh.prototype.unstable_scheduleHydration=function(e){if(e){var n=q3();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Ha.length&&n!==0&&n<Ha[t].priority;t++);Ha.splice(t,0,e),t===0&&Y3(e)}};function Tx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uy(){}function TD(e,n,t,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var x=V0(d);a.call(x)}}var d=fC(n,r,e,0,null,!1,!1,"",uy);return e._reactRootContainer=d,e[pa]=d.current,Gu(e.nodeType===8?e.parentNode:e),al(),d}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var g=r;r=function(){var x=V0(v);g.call(x)}}var v=_x(e,0,!1,null,null,!1,!1,"",uy);return e._reactRootContainer=v,e[pa]=v.current,Gu(e.nodeType===8?e.parentNode:e),al(function(){jh(n,v,t,r)}),v}function Lh(e,n,t,r,i){var a=t._reactRootContainer;if(a){var d=a;if(typeof i=="function"){var g=i;i=function(){var v=V0(d);g.call(v)}}jh(n,d,e,i)}else d=TD(t,n,e,i,r);return V0(d)}W3=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=Au(n.pendingLanes);t!==0&&($g(n,t|1),ri(n,zn()),!(Rt&6)&&(pc=zn()+500,po()))}break;case 13:al(function(){var r=ma(e,1);if(r!==null){var i=qr();os(r,e,1,i)}}),Sx(e,1)}};Gg=function(e){if(e.tag===13){var n=ma(e,134217728);if(n!==null){var t=qr();os(n,e,134217728,t)}Sx(e,134217728)}};H3=function(e){if(e.tag===13){var n=no(e),t=ma(e,n);if(t!==null){var r=qr();os(t,e,n,r)}Sx(e,n)}};q3=function(){return Zt};V3=function(e,n){var t=Zt;try{return Zt=e,n()}finally{Zt=t}};xm=function(e,n,t){switch(n){case"input":if(um(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var i=Sh(r);if(!i)throw Error(Ae(90));C3(r),um(r,i)}}}break;case"textarea":N3(e,t);break;case"select":n=t.value,n!=null&&Jl(e,!!t.multiple,n,!1)}};I3=bx;R3=al;var kD={usingClientEntryPoint:!1,Events:[gd,ql,Sh,k3,D3,bx]},wu={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DD={bundleType:wu.bundleType,version:wu.version,rendererPackageName:wu.rendererPackageName,rendererConfig:wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ya.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=M3(e),e===null?null:e.stateNode},findFiberByHostInstance:wu.findFiberByHostInstance||AD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wf.isDisabled&&Wf.supportsFiber)try{Ch=Wf.inject(DD),Rs=Wf}catch{}}Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kD;Ei.createPortal=function(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tx(n))throw Error(Ae(200));return SD(e,n,null,t)};Ei.createRoot=function(e,n){if(!Tx(e))throw Error(Ae(299));var t=!1,r="",i=hC;return n!=null&&(n.unstable_strictMode===!0&&(t=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),n=_x(e,1,!1,null,null,t,!1,r,i),e[pa]=n.current,Gu(e.nodeType===8?e.parentNode:e),new Ax(n)};Ei.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(Ae(188)):(e=Object.keys(e).join(","),Error(Ae(268,e)));return e=M3(n),e=e===null?null:e.stateNode,e};Ei.flushSync=function(e){return al(e)};Ei.hydrate=function(e,n,t){if(!Mh(n))throw Error(Ae(200));return Lh(null,e,n,!0,t)};Ei.hydrateRoot=function(e,n,t){if(!Tx(e))throw Error(Ae(405));var r=t!=null&&t.hydratedSources||null,i=!1,a="",d=hC;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),n=fC(n,null,e,1,t??null,i,!1,a,d),e[pa]=n.current,Gu(e),r)for(e=0;e<r.length;e++)t=r[e],i=t._getVersion,i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i);return new Oh(n)};Ei.render=function(e,n,t){if(!Mh(n))throw Error(Ae(200));return Lh(null,e,n,!1,t)};Ei.unmountComponentAtNode=function(e){if(!Mh(e))throw Error(Ae(40));return e._reactRootContainer?(al(function(){Lh(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0):!1};Ei.unstable_batchedUpdates=bx;Ei.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Mh(t))throw Error(Ae(200));if(e==null||e._reactInternals===void 0)throw Error(Ae(38));return Lh(e,n,t,!1,r)};Ei.version="18.3.1-next-f1338f8080-20240426";function pC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pC)}catch(e){console.error(e)}}pC(),p3.exports=Ei;var kx=p3.exports;const ID=yh(kx);var dy=kx;rm.createRoot=dy.createRoot,rm.hydrateRoot=dy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},rd.apply(this,arguments)}var Ga;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ga||(Ga={}));const fy="popstate";function RD(e){e===void 0&&(e={});function n(r,i){let{pathname:a,search:d,hash:g}=r.location;return Qm("",{pathname:a,search:d,hash:g},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Y0(i)}return OD(n,t,null,e)}function qn(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function mC(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function jD(){return Math.random().toString(36).substr(2,8)}function hy(e,n){return{usr:e.state,key:e.key,idx:n}}function Qm(e,n,t,r){return t===void 0&&(t=null),rd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?kc(n):n,{state:t,key:n&&n.key||r||jD()})}function Y0(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function kc(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function OD(e,n,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,d=i.history,g=Ga.Pop,v=null,x=y();x==null&&(x=0,d.replaceState(rd({},d.state,{idx:x}),""));function y(){return(d.state||{idx:null}).idx}function E(){g=Ga.Pop;let O=y(),I=O==null?null:O-x;x=O,v&&v({action:g,location:R.location,delta:I})}function _(O,I){g=Ga.Push;let D=Qm(R.location,O,I);t&&t(D,O),x=y()+1;let j=hy(D,x),q=R.createHref(D);try{d.pushState(j,"",q)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(q)}a&&v&&v({action:g,location:R.location,delta:1})}function T(O,I){g=Ga.Replace;let D=Qm(R.location,O,I);t&&t(D,O),x=y();let j=hy(D,x),q=R.createHref(D);d.replaceState(j,"",q),a&&v&&v({action:g,location:R.location,delta:0})}function S(O){let I=i.location.origin!=="null"?i.location.origin:i.location.href,D=typeof O=="string"?O:Y0(O);return D=D.replace(/ $/,"%20"),qn(I,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,I)}let R={get action(){return g},get location(){return e(i,d)},listen(O){if(v)throw new Error("A history only accepts one active listener");return i.addEventListener(fy,E),v=O,()=>{i.removeEventListener(fy,E),v=null}},createHref(O){return n(i,O)},createURL:S,encodeLocation(O){let I=S(O);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:T,go(O){return d.go(O)}};return R}var py;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(py||(py={}));function MD(e,n,t){return t===void 0&&(t="/"),LD(e,n,t,!1)}function LD(e,n,t,r){let i=typeof n=="string"?kc(n):n,a=Dx(i.pathname||"/",t);if(a==null)return null;let d=gC(e);PD(d);let g=null;for(let v=0;g==null&&v<d.length;++v){let x=GD(a);g=YD(d[v],x,r)}return g}function gC(e,n,t,r){n===void 0&&(n=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,d,g)=>{let v={relativePath:g===void 0?a.path||"":g,caseSensitive:a.caseSensitive===!0,childrenIndex:d,route:a};v.relativePath.startsWith("/")&&(qn(v.relativePath.startsWith(r),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(r.length));let x=io([r,v.relativePath]),y=t.concat(v);a.children&&a.children.length>0&&(qn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),gC(a.children,n,y,x)),!(a.path==null&&!a.index)&&n.push({path:x,score:qD(x,a.index),routesMeta:y})};return e.forEach((a,d)=>{var g;if(a.path===""||!((g=a.path)!=null&&g.includes("?")))i(a,d);else for(let v of xC(a.path))i(a,d,v)}),n}function xC(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let d=xC(r.join("/")),g=[];return g.push(...d.map(v=>v===""?a:[a,v].join("/"))),i&&g.push(...d),g.map(v=>e.startsWith("/")&&v===""?"/":v)}function PD(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:VD(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const FD=/^:[\w-]+$/,BD=3,UD=2,zD=1,WD=10,HD=-2,my=e=>e==="*";function qD(e,n){let t=e.split("/"),r=t.length;return t.some(my)&&(r+=HD),n&&(r+=UD),t.filter(i=>!my(i)).reduce((i,a)=>i+(FD.test(a)?BD:a===""?zD:WD),r)}function VD(e,n){return e.length===n.length&&e.slice(0,-1).every((r,i)=>r===n[i])?e[e.length-1]-n[n.length-1]:0}function YD(e,n,t){t===void 0&&(t=!1);let{routesMeta:r}=e,i={},a="/",d=[];for(let g=0;g<r.length;++g){let v=r[g],x=g===r.length-1,y=a==="/"?n:n.slice(a.length)||"/",E=gy({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},y),_=v.route;if(!E&&x&&t&&!r[r.length-1].route.index&&(E=gy({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},y)),!E)return null;Object.assign(i,E.params),d.push({params:i,pathname:io([a,E.pathname]),pathnameBase:ZD(io([a,E.pathnameBase])),route:_}),E.pathnameBase!=="/"&&(a=io([a,E.pathnameBase]))}return d}function gy(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=$D(e.path,e.caseSensitive,e.end),i=n.match(t);if(!i)return null;let a=i[0],d=a.replace(/(.)\/+$/,"$1"),g=i.slice(1);return{params:r.reduce((x,y,E)=>{let{paramName:_,isOptional:T}=y;if(_==="*"){let R=g[E]||"";d=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const S=g[E];return T&&!S?x[_]=void 0:x[_]=(S||"").replace(/%2F/g,"/"),x},{}),pathname:a,pathnameBase:d,pattern:e}}function $D(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),mC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,v)=>(r.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function GD(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return mC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Dx(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function XD(e,n){n===void 0&&(n="/");let{pathname:t,search:r="",hash:i=""}=typeof e=="string"?kc(e):e;return{pathname:t?t.startsWith("/")?t:QD(t,n):n,search:JD(r),hash:eI(i)}}function QD(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function B1(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KD(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function Ix(e,n){let t=KD(e);return n?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Rx(e,n,t,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=kc(e):(i=rd({},e),qn(!i.pathname||!i.pathname.includes("?"),B1("?","pathname","search",i)),qn(!i.pathname||!i.pathname.includes("#"),B1("#","pathname","hash",i)),qn(!i.search||!i.search.includes("#"),B1("#","search","hash",i)));let a=e===""||i.pathname==="",d=a?"/":i.pathname,g;if(d==null)g=t;else{let E=n.length-1;if(!r&&d.startsWith("..")){let _=d.split("/");for(;_[0]==="..";)_.shift(),E-=1;i.pathname=_.join("/")}g=E>=0?n[E]:"/"}let v=XD(i,g),x=d&&d!=="/"&&d.endsWith("/"),y=(a||d===".")&&t.endsWith("/");return!v.pathname.endsWith("/")&&(x||y)&&(v.pathname+="/"),v}const io=e=>e.join("/").replace(/\/\/+/g,"/"),ZD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vC=["post","put","patch","delete"];new Set(vC);const nI=["get",...vC];new Set(nI);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},id.apply(this,arguments)}const jx=M.createContext(null),rI=M.createContext(null),mo=M.createContext(null),Ph=M.createContext(null),ba=M.createContext({outlet:null,matches:[],isDataRoute:!1}),wC=M.createContext(null);function iI(e,n){let{relative:t}=n===void 0?{}:n;Dc()||qn(!1);let{basename:r,navigator:i}=M.useContext(mo),{hash:a,pathname:d,search:g}=CC(e,{relative:t}),v=d;return r!=="/"&&(v=d==="/"?r:io([r,d])),i.createHref({pathname:v,search:g,hash:a})}function Dc(){return M.useContext(Ph)!=null}function Ic(){return Dc()||qn(!1),M.useContext(Ph).location}function yC(e){M.useContext(mo).static||M.useLayoutEffect(e)}function fs(){let{isDataRoute:e}=M.useContext(ba);return e?xI():sI()}function sI(){Dc()||qn(!1);let e=M.useContext(jx),{basename:n,future:t,navigator:r}=M.useContext(mo),{matches:i}=M.useContext(ba),{pathname:a}=Ic(),d=JSON.stringify(Ix(i,t.v7_relativeSplatPath)),g=M.useRef(!1);return yC(()=>{g.current=!0}),M.useCallback(function(x,y){if(y===void 0&&(y={}),!g.current)return;if(typeof x=="number"){r.go(x);return}let E=Rx(x,JSON.parse(d),a,y.relative==="path");e==null&&n!=="/"&&(E.pathname=E.pathname==="/"?n:io([n,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[n,r,d,a,e])}function bC(){let{matches:e}=M.useContext(ba),n=e[e.length-1];return n?n.params:{}}function CC(e,n){let{relative:t}=n===void 0?{}:n,{future:r}=M.useContext(mo),{matches:i}=M.useContext(ba),{pathname:a}=Ic(),d=JSON.stringify(Ix(i,r.v7_relativeSplatPath));return M.useMemo(()=>Rx(e,JSON.parse(d),a,t==="path"),[e,d,a,t])}function aI(e,n){return oI(e,n)}function oI(e,n,t,r){Dc()||qn(!1);let{navigator:i,static:a}=M.useContext(mo),{matches:d}=M.useContext(ba),g=d[d.length-1],v=g?g.params:{};g&&g.pathname;let x=g?g.pathnameBase:"/";g&&g.route;let y=Ic(),E;if(n){var _;let I=typeof n=="string"?kc(n):n;x==="/"||(_=I.pathname)!=null&&_.startsWith(x)||qn(!1),E=I}else E=y;let T=E.pathname||"/",S=T;if(x!=="/"){let I=x.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(I.length).join("/")}let R=!a&&t&&t.matches&&t.matches.length>0?t.matches:MD(e,{pathname:S}),O=fI(R&&R.map(I=>Object.assign({},I,{params:Object.assign({},v,I.params),pathname:io([x,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?x:io([x,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),d,t,r);return n&&O?M.createElement(Ph.Provider,{value:{location:id({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Ga.Pop}},O):O}function lI(){let e=gI(),n=tI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},n),t?M.createElement("pre",{style:i},t):null,a)}const cI=M.createElement(lI,null);class uI extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?M.createElement(ba.Provider,{value:this.props.routeContext},M.createElement(wC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dI(e){let{routeContext:n,match:t,children:r}=e,i=M.useContext(jx);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(ba.Provider,{value:n},r)}function fI(e,n,t,r){var i;if(n===void 0&&(n=[]),t===void 0&&(t=null),r===void 0&&(r=null),e==null){var a;if(!t)return null;if(t.errors)e=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let d=e,g=(i=t)==null?void 0:i.errors;if(g!=null){let y=d.findIndex(E=>E.route.id&&(g==null?void 0:g[E.route.id])!==void 0);y>=0||qn(!1),d=d.slice(0,Math.min(d.length,y+1))}let v=!1,x=-1;if(t&&r&&r.v7_partialHydration)for(let y=0;y<d.length;y++){let E=d[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(x=y),E.route.id){let{loaderData:_,errors:T}=t,S=E.route.loader&&_[E.route.id]===void 0&&(!T||T[E.route.id]===void 0);if(E.route.lazy||S){v=!0,x>=0?d=d.slice(0,x+1):d=[d[0]];break}}}return d.reduceRight((y,E,_)=>{let T,S=!1,R=null,O=null;t&&(T=g&&E.route.id?g[E.route.id]:void 0,R=E.route.errorElement||cI,v&&(x<0&&_===0?(vI("route-fallback",!1),S=!0,O=null):x===_&&(S=!0,O=E.route.hydrateFallbackElement||null)));let I=n.concat(d.slice(0,_+1)),D=()=>{let j;return T?j=R:S?j=O:E.route.Component?j=M.createElement(E.route.Component,null):E.route.element?j=E.route.element:j=y,M.createElement(dI,{match:E,routeContext:{outlet:y,matches:I,isDataRoute:t!=null},children:j})};return t&&(E.route.ErrorBoundary||E.route.errorElement||_===0)?M.createElement(uI,{location:t.location,revalidation:t.revalidation,component:R,error:T,children:D(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):D()},null)}var EC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(EC||{}),$0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($0||{});function hI(e){let n=M.useContext(jx);return n||qn(!1),n}function pI(e){let n=M.useContext(rI);return n||qn(!1),n}function mI(e){let n=M.useContext(ba);return n||qn(!1),n}function NC(e){let n=mI(),t=n.matches[n.matches.length-1];return t.route.id||qn(!1),t.route.id}function gI(){var e;let n=M.useContext(wC),t=pI($0.UseRouteError),r=NC($0.UseRouteError);return n!==void 0?n:(e=t.errors)==null?void 0:e[r]}function xI(){let{router:e}=hI(EC.UseNavigateStable),n=NC($0.UseNavigateStable),t=M.useRef(!1);return yC(()=>{t.current=!0}),M.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,id({fromRouteId:n},a)))},[e,n])}const xy={};function vI(e,n,t){!n&&!xy[e]&&(xy[e]=!0)}function wI(e,n){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!n||n.v7_relativeSplatPath),n&&(n.v7_fetcherPersist,n.v7_normalizeFormMethod,n.v7_partialHydration,n.v7_skipActionErrorRevalidation)}function G0(e){let{to:n,replace:t,state:r,relative:i}=e;Dc()||qn(!1);let{future:a,static:d}=M.useContext(mo),{matches:g}=M.useContext(ba),{pathname:v}=Ic(),x=fs(),y=Rx(n,Ix(g,a.v7_relativeSplatPath),v,i==="path"),E=JSON.stringify(y);return M.useEffect(()=>x(JSON.parse(E),{replace:t,state:r,relative:i}),[x,E,i,t,r]),null}function mi(e){qn(!1)}function yI(e){let{basename:n="/",children:t=null,location:r,navigationType:i=Ga.Pop,navigator:a,static:d=!1,future:g}=e;Dc()&&qn(!1);let v=n.replace(/^\/*/,"/"),x=M.useMemo(()=>({basename:v,navigator:a,static:d,future:id({v7_relativeSplatPath:!1},g)}),[v,g,a,d]);typeof r=="string"&&(r=kc(r));let{pathname:y="/",search:E="",hash:_="",state:T=null,key:S="default"}=r,R=M.useMemo(()=>{let O=Dx(y,v);return O==null?null:{location:{pathname:O,search:E,hash:_,state:T,key:S},navigationType:i}},[v,y,E,_,T,S,i]);return R==null?null:M.createElement(mo.Provider,{value:x},M.createElement(Ph.Provider,{children:t,value:R}))}function bI(e){let{children:n,location:t}=e;return aI(Km(n),t)}new Promise(()=>{});function Km(e,n){n===void 0&&(n=[]);let t=[];return M.Children.forEach(e,(r,i)=>{if(!M.isValidElement(r))return;let a=[...n,i];if(r.type===M.Fragment){t.push.apply(t,Km(r.props.children,a));return}r.type!==mi&&qn(!1),!r.props.index||!r.props.children||qn(!1);let d={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Km(r.props.children,a)),t.push(d)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Zm.apply(this,arguments)}function CI(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function EI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NI(e,n){return e.button===0&&(!n||n==="_self")&&!EI(e)}const _I=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SI="6";try{window.__reactRouterVersion=SI}catch{}const AI="startTransition",vy=Fg[AI];function TI(e){let{basename:n,children:t,future:r,window:i}=e,a=M.useRef();a.current==null&&(a.current=RD({window:i,v5Compat:!0}));let d=a.current,[g,v]=M.useState({action:d.action,location:d.location}),{v7_startTransition:x}=r||{},y=M.useCallback(E=>{x&&vy?vy(()=>v(E)):v(E)},[v,x]);return M.useLayoutEffect(()=>d.listen(y),[d,y]),M.useEffect(()=>wI(r),[r]),M.createElement(yI,{basename:n,children:t,location:g.location,navigationType:g.action,navigator:d,future:r})}const kI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ur=M.forwardRef(function(n,t){let{onClick:r,relative:i,reloadDocument:a,replace:d,state:g,target:v,to:x,preventScrollReset:y,viewTransition:E}=n,_=CI(n,_I),{basename:T}=M.useContext(mo),S,R=!1;if(typeof x=="string"&&DI.test(x)&&(S=x,kI))try{let j=new URL(window.location.href),q=x.startsWith("//")?new URL(j.protocol+x):new URL(x),Q=Dx(q.pathname,T);q.origin===j.origin&&Q!=null?x=Q+q.search+q.hash:R=!0}catch{}let O=iI(x,{relative:i}),I=II(x,{replace:d,state:g,target:v,preventScrollReset:y,relative:i,viewTransition:E});function D(j){r&&r(j),j.defaultPrevented||I(j)}return M.createElement("a",Zm({},_,{href:S||O,onClick:R||a?r:D,ref:t,target:v}))});var wy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wy||(wy={}));var yy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yy||(yy={}));function II(e,n){let{target:t,replace:r,state:i,preventScrollReset:a,relative:d,viewTransition:g}=n===void 0?{}:n,v=fs(),x=Ic(),y=CC(e,{relative:d});return M.useCallback(E=>{if(NI(E,t)){E.preventDefault();let _=r!==void 0?r:Y0(x)===Y0(y);v(e,{replace:_,state:i,preventScrollReset:a,relative:d,viewTransition:g})}},[x,v,y,r,i,t,e,a,d,g])}class Rc{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){const t={listener:n};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const sd=typeof window>"u"||"Deno"in window;function Pi(){}function RI(e,n){return typeof e=="function"?e(n):e}function Jm(e){return typeof e=="number"&&e>=0&&e!==1/0}function _C(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Kl(e,n,t){return vd(e)?typeof n=="function"?{...t,queryKey:e,queryFn:n}:{...n,queryKey:e}:e}function jI(e,n,t){return vd(e)?typeof n=="function"?{...t,mutationKey:e,mutationFn:n}:{...n,mutationKey:e}:typeof e=="function"?{...n,mutationFn:e}:{...e}}function Wa(e,n,t){return vd(e)?[{...n,queryKey:e},t]:[e||{},n]}function by(e,n){const{type:t="all",exact:r,fetchStatus:i,predicate:a,queryKey:d,stale:g}=e;if(vd(d)){if(r){if(n.queryHash!==Ox(d,n.options))return!1}else if(!X0(n.queryKey,d))return!1}if(t!=="all"){const v=n.isActive();if(t==="active"&&!v||t==="inactive"&&v)return!1}return!(typeof g=="boolean"&&n.isStale()!==g||typeof i<"u"&&i!==n.state.fetchStatus||a&&!a(n))}function Cy(e,n){const{exact:t,fetching:r,predicate:i,mutationKey:a}=e;if(vd(a)){if(!n.options.mutationKey)return!1;if(t){if($o(n.options.mutationKey)!==$o(a))return!1}else if(!X0(n.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&n.state.status==="loading"!==r||i&&!i(n))}function Ox(e,n){return((n==null?void 0:n.queryKeyHashFn)||$o)(e)}function $o(e){return JSON.stringify(e,(n,t)=>eg(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function X0(e,n){return SC(e,n)}function SC(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?!Object.keys(n).some(t=>!SC(e[t],n[t])):!1}function AC(e,n){if(e===n)return e;const t=Ey(e)&&Ey(n);if(t||eg(e)&&eg(n)){const r=t?e.length:Object.keys(e).length,i=t?n:Object.keys(n),a=i.length,d=t?[]:{};let g=0;for(let v=0;v<a;v++){const x=t?v:i[v];d[x]=AC(e[x],n[x]),d[x]===e[x]&&g++}return r===a&&g===r?e:d}return n}function Q0(e,n){if(e&&!n||n&&!e)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}function Ey(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function eg(e){if(!Ny(e))return!1;const n=e.constructor;if(typeof n>"u")return!0;const t=n.prototype;return!(!Ny(t)||!t.hasOwnProperty("isPrototypeOf"))}function Ny(e){return Object.prototype.toString.call(e)==="[object Object]"}function vd(e){return Array.isArray(e)}function TC(e){return new Promise(n=>{setTimeout(n,e)})}function _y(e){TC(0).then(e)}function OI(){if(typeof AbortController=="function")return new AbortController}function tg(e,n,t){return t.isDataEqual!=null&&t.isDataEqual(e,n)?e:typeof t.structuralSharing=="function"?t.structuralSharing(e,n):t.structuralSharing!==!1?AC(e,n):n}class MI extends Rc{constructor(){super(),this.setup=n=>{if(!sd&&window.addEventListener){const t=()=>n();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}}setEventListener(n){var t;this.setup=n,(t=this.cleanup)==null||t.call(this),this.cleanup=n(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(n){this.focused!==n&&(this.focused=n,this.onFocus())}onFocus(){this.listeners.forEach(({listener:n})=>{n()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const K0=new MI,Sy=["online","offline"];class LI extends Rc{constructor(){super(),this.setup=n=>{if(!sd&&window.addEventListener){const t=()=>n();return Sy.forEach(r=>{window.addEventListener(r,t,!1)}),()=>{Sy.forEach(r=>{window.removeEventListener(r,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}}setEventListener(n){var t;this.setup=n,(t=this.cleanup)==null||t.call(this),this.cleanup=n(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(n){this.online!==n&&(this.online=n,this.onOnline())}onOnline(){this.listeners.forEach(({listener:n})=>{n()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Z0=new LI;function PI(e){return Math.min(1e3*2**e,3e4)}function Fh(e){return(e??"online")==="online"?Z0.isOnline():!0}class kC{constructor(n){this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}}function u0(e){return e instanceof kC}function DC(e){let n=!1,t=0,r=!1,i,a,d;const g=new Promise((O,I)=>{a=O,d=I}),v=O=>{r||(T(new kC(O)),e.abort==null||e.abort())},x=()=>{n=!0},y=()=>{n=!1},E=()=>!K0.isFocused()||e.networkMode!=="always"&&!Z0.isOnline(),_=O=>{r||(r=!0,e.onSuccess==null||e.onSuccess(O),i==null||i(),a(O))},T=O=>{r||(r=!0,e.onError==null||e.onError(O),i==null||i(),d(O))},S=()=>new Promise(O=>{i=I=>{const D=r||!E();return D&&O(I),D},e.onPause==null||e.onPause()}).then(()=>{i=void 0,r||e.onContinue==null||e.onContinue()}),R=()=>{if(r)return;let O;try{O=e.fn()}catch(I){O=Promise.reject(I)}Promise.resolve(O).then(_).catch(I=>{var D,j;if(r)return;const q=(D=e.retry)!=null?D:3,Q=(j=e.retryDelay)!=null?j:PI,z=typeof Q=="function"?Q(t,I):Q,P=q===!0||typeof q=="number"&&t<q||typeof q=="function"&&q(t,I);if(n||!P){T(I);return}t++,e.onFail==null||e.onFail(t,I),TC(z).then(()=>{if(E())return S()}).then(()=>{n?T(I):R()})})};return Fh(e.networkMode)?R():S().then(R),{promise:g,cancel:v,continue:()=>(i==null?void 0:i())?g:Promise.resolve(),cancelRetry:x,continueRetry:y}}const Mx=console;function FI(){let e=[],n=0,t=y=>{y()},r=y=>{y()};const i=y=>{let E;n++;try{E=y()}finally{n--,n||g()}return E},a=y=>{n?e.push(y):_y(()=>{t(y)})},d=y=>(...E)=>{a(()=>{y(...E)})},g=()=>{const y=e;e=[],y.length&&_y(()=>{r(()=>{y.forEach(E=>{t(E)})})})};return{batch:i,batchCalls:d,schedule:a,setNotifyFunction:y=>{t=y},setBatchNotifyFunction:y=>{r=y}}}const On=FI();class IC{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jm(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(n){this.cacheTime=Math.max(this.cacheTime||0,n??(sd?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class BI extends IC{constructor(n){super(),this.abortSignalConsumed=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.logger=n.logger||Mx,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||UI(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(n){this.options={...this.defaultOptions,...n},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(n,t){const r=tg(this.state.data,n,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(n,t){this.dispatch({type:"setState",state:n,setStateOptions:t})}cancel(n){var t;const r=this.promise;return(t=this.retryer)==null||t.cancel(n),r?r.then(Pi).catch(Pi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(n=>n.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(n=>n.getCurrentResult().isStale)}isStaleByTime(n=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!_C(this.state.dataUpdatedAt,n)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),(n=this.retryer)==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),(n=this.retryer)==null||n.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(t=>t!==n),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(n,t){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){const T=this.observers.find(S=>S.options.queryFn);T&&this.setOptions(T.options)}const d=OI(),g={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},v=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>{if(d)return this.abortSignalConsumed=!0,d.signal}})};v(g);const x=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(g)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),y={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:x};if(v(y),(r=this.options.behavior)==null||r.onFetch(y),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=y.fetchOptions)==null?void 0:i.meta)){var E;this.dispatch({type:"fetch",meta:(E=y.fetchOptions)==null?void 0:E.meta})}const _=T=>{if(u0(T)&&T.silent||this.dispatch({type:"error",error:T}),!u0(T)){var S,R,O,I;(S=(R=this.cache.config).onError)==null||S.call(R,T,this),(O=(I=this.cache.config).onSettled)==null||O.call(I,this.state.data,T,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=DC({fn:y.fetchFn,abort:d==null?void 0:d.abort.bind(d),onSuccess:T=>{var S,R,O,I;if(typeof T>"u"){_(new Error(this.queryHash+" data is undefined"));return}this.setData(T),(S=(R=this.cache.config).onSuccess)==null||S.call(R,T,this),(O=(I=this.cache.config).onSettled)==null||O.call(I,T,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:_,onFail:(T,S)=>{this.dispatch({type:"failed",failureCount:T,error:S})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay,networkMode:y.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(n){const t=r=>{var i,a;switch(n.type){case"failed":return{...r,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=n.meta)!=null?i:null,fetchStatus:Fh(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:n.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=n.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const d=n.error;return u0(d)&&d.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:d,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...n.state}}};this.state=t(this.state),On.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(n)}),this.cache.notify({query:this,type:"updated",action:n})})}}function UI(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,t=typeof n<"u",r=t?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"loading",fetchStatus:"idle"}}class zI extends Rc{constructor(n){super(),this.config=n||{},this.queries=[],this.queriesMap={}}build(n,t,r){var i;const a=t.queryKey,d=(i=t.queryHash)!=null?i:Ox(a,t);let g=this.get(d);return g||(g=new BI({cache:this,logger:n.getLogger(),queryKey:a,queryHash:d,options:n.defaultQueryOptions(t),state:r,defaultOptions:n.getQueryDefaults(a)}),this.add(g)),g}add(n){this.queriesMap[n.queryHash]||(this.queriesMap[n.queryHash]=n,this.queries.push(n),this.notify({type:"added",query:n}))}remove(n){const t=this.queriesMap[n.queryHash];t&&(n.destroy(),this.queries=this.queries.filter(r=>r!==n),t===n&&delete this.queriesMap[n.queryHash],this.notify({type:"removed",query:n}))}clear(){On.batch(()=>{this.queries.forEach(n=>{this.remove(n)})})}get(n){return this.queriesMap[n]}getAll(){return this.queries}find(n,t){const[r]=Wa(n,t);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>by(r,i))}findAll(n,t){const[r]=Wa(n,t);return Object.keys(r).length>0?this.queries.filter(i=>by(r,i)):this.queries}notify(n){On.batch(()=>{this.listeners.forEach(({listener:t})=>{t(n)})})}onFocus(){On.batch(()=>{this.queries.forEach(n=>{n.onFocus()})})}onOnline(){On.batch(()=>{this.queries.forEach(n=>{n.onOnline()})})}}class WI extends IC{constructor(n){super(),this.defaultOptions=n.defaultOptions,this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.logger=n.logger||Mx,this.observers=[],this.state=n.state||RC(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options={...this.defaultOptions,...n},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(n){this.dispatch({type:"setState",state:n})}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.observers=this.observers.filter(t=>t!==n),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var n,t;return(n=(t=this.retryer)==null?void 0:t.continue())!=null?n:this.execute()}async execute(){const n=()=>{var P;return this.retryer=DC({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(V,W)=>{this.dispatch({type:"failed",failureCount:V,error:W})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(P=this.options.retry)!=null?P:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t=this.state.status==="loading";try{var r,i,a,d,g,v,x,y;if(!t){var E,_,T,S;this.dispatch({type:"loading",variables:this.options.variables}),await((E=(_=this.mutationCache.config).onMutate)==null?void 0:E.call(_,this.state.variables,this));const V=await((T=(S=this.options).onMutate)==null?void 0:T.call(S,this.state.variables));V!==this.state.context&&this.dispatch({type:"loading",context:V,variables:this.state.variables})}const P=await n();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,P,this.state.variables,this.state.context,this)),await((a=(d=this.options).onSuccess)==null?void 0:a.call(d,P,this.state.variables,this.state.context)),await((g=(v=this.mutationCache.config).onSettled)==null?void 0:g.call(v,P,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,P,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:P}),P}catch(P){try{var R,O,I,D,j,q,Q,z;throw await((R=(O=this.mutationCache.config).onError)==null?void 0:R.call(O,P,this.state.variables,this.state.context,this)),await((I=(D=this.options).onError)==null?void 0:I.call(D,P,this.state.variables,this.state.context)),await((j=(q=this.mutationCache.config).onSettled)==null?void 0:j.call(q,void 0,P,this.state.variables,this.state.context,this)),await((Q=(z=this.options).onSettled)==null?void 0:Q.call(z,void 0,P,this.state.variables,this.state.context)),P}finally{this.dispatch({type:"error",error:P})}}}dispatch(n){const t=r=>{switch(n.type){case"failed":return{...r,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Fh(this.options.networkMode),status:"loading",variables:n.variables};case"success":return{...r,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:n.error,failureCount:r.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"};case"setState":return{...r,...n.state}}};this.state=t(this.state),On.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(n)}),this.mutationCache.notify({mutation:this,type:"updated",action:n})})}}function RC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class HI extends Rc{constructor(n){super(),this.config=n||{},this.mutations=[],this.mutationId=0}build(n,t,r){const i=new WI({mutationCache:this,logger:n.getLogger(),mutationId:++this.mutationId,options:n.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?n.getMutationDefaults(t.mutationKey):void 0});return this.add(i),i}add(n){this.mutations.push(n),this.notify({type:"added",mutation:n})}remove(n){this.mutations=this.mutations.filter(t=>t!==n),this.notify({type:"removed",mutation:n})}clear(){On.batch(()=>{this.mutations.forEach(n=>{this.remove(n)})})}getAll(){return this.mutations}find(n){return typeof n.exact>"u"&&(n.exact=!0),this.mutations.find(t=>Cy(n,t))}findAll(n){return this.mutations.filter(t=>Cy(n,t))}notify(n){On.batch(()=>{this.listeners.forEach(({listener:t})=>{t(n)})})}resumePausedMutations(){var n;return this.resuming=((n=this.resuming)!=null?n:Promise.resolve()).then(()=>{const t=this.mutations.filter(r=>r.state.isPaused);return On.batch(()=>t.reduce((r,i)=>r.then(()=>i.continue().catch(Pi)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function ng(){return{onFetch:e=>{e.fetchFn=()=>{var n,t,r,i,a,d;const g=(n=e.fetchOptions)==null||(t=n.meta)==null?void 0:t.refetchPage,v=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,x=v==null?void 0:v.pageParam,y=(v==null?void 0:v.direction)==="forward",E=(v==null?void 0:v.direction)==="backward",_=((a=e.state.data)==null?void 0:a.pages)||[],T=((d=e.state.data)==null?void 0:d.pageParams)||[];let S=T,R=!1;const O=z=>{Object.defineProperty(z,"signal",{enumerable:!0,get:()=>{var P;if((P=e.signal)!=null&&P.aborted)R=!0;else{var V;(V=e.signal)==null||V.addEventListener("abort",()=>{R=!0})}return e.signal}})},I=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),D=(z,P,V,W)=>(S=W?[P,...S]:[...S,P],W?[V,...z]:[...z,V]),j=(z,P,V,W)=>{if(R)return Promise.reject("Cancelled");if(typeof V>"u"&&!P&&z.length)return Promise.resolve(z);const se={queryKey:e.queryKey,pageParam:V,meta:e.options.meta};O(se);const ce=I(se);return Promise.resolve(ce).then(ne=>D(z,V,ne,W))};let q;if(!_.length)q=j([]);else if(y){const z=typeof x<"u",P=z?x:rg(e.options,_);q=j(_,z,P)}else if(E){const z=typeof x<"u",P=z?x:jC(e.options,_);q=j(_,z,P,!0)}else{S=[];const z=typeof e.options.getNextPageParam>"u";q=(g&&_[0]?g(_[0],0,_):!0)?j([],z,T[0]):Promise.resolve(D([],T[0],_[0]));for(let V=1;V<_.length;V++)q=q.then(W=>{if(g&&_[V]?g(_[V],V,_):!0){const ce=z?T[V]:rg(e.options,W);return j(W,z,ce)}return Promise.resolve(D(W,T[V],_[V]))})}return q.then(z=>({pages:z,pageParams:S}))}}}}function rg(e,n){return e.getNextPageParam==null?void 0:e.getNextPageParam(n[n.length-1],n)}function jC(e,n){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(n[0],n)}function qI(e,n){if(e.getNextPageParam&&Array.isArray(n)){const t=rg(e,n);return typeof t<"u"&&t!==null&&t!==!1}}function VI(e,n){if(e.getPreviousPageParam&&Array.isArray(n)){const t=jC(e,n);return typeof t<"u"&&t!==null&&t!==!1}}class YI{constructor(n={}){this.queryCache=n.queryCache||new zI,this.mutationCache=n.mutationCache||new HI,this.logger=n.logger||Mx,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=K0.subscribe(()=>{K0.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Z0.subscribe(()=>{Z0.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var n,t;this.mountCount--,this.mountCount===0&&((n=this.unsubscribeFocus)==null||n.call(this),this.unsubscribeFocus=void 0,(t=this.unsubscribeOnline)==null||t.call(this),this.unsubscribeOnline=void 0)}isFetching(n,t){const[r]=Wa(n,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(n){return this.mutationCache.findAll({...n,fetching:!0}).length}getQueryData(n,t){var r;return(r=this.queryCache.find(n,t))==null?void 0:r.state.data}ensureQueryData(n,t,r){const i=Kl(n,t,r),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(n){return this.getQueryCache().findAll(n).map(({queryKey:t,state:r})=>{const i=r.data;return[t,i]})}setQueryData(n,t,r){const i=this.queryCache.find(n),a=i==null?void 0:i.state.data,d=RI(t,a);if(typeof d>"u")return;const g=Kl(n),v=this.defaultQueryOptions(g);return this.queryCache.build(this,v).setData(d,{...r,manual:!0})}setQueriesData(n,t,r){return On.batch(()=>this.getQueryCache().findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,t,r)]))}getQueryState(n,t){var r;return(r=this.queryCache.find(n,t))==null?void 0:r.state}removeQueries(n,t){const[r]=Wa(n,t),i=this.queryCache;On.batch(()=>{i.findAll(r).forEach(a=>{i.remove(a)})})}resetQueries(n,t,r){const[i,a]=Wa(n,t,r),d=this.queryCache,g={type:"active",...i};return On.batch(()=>(d.findAll(i).forEach(v=>{v.reset()}),this.refetchQueries(g,a)))}cancelQueries(n,t,r){const[i,a={}]=Wa(n,t,r);typeof a.revert>"u"&&(a.revert=!0);const d=On.batch(()=>this.queryCache.findAll(i).map(g=>g.cancel(a)));return Promise.all(d).then(Pi).catch(Pi)}invalidateQueries(n,t,r){const[i,a]=Wa(n,t,r);return On.batch(()=>{var d,g;if(this.queryCache.findAll(i).forEach(x=>{x.invalidate()}),i.refetchType==="none")return Promise.resolve();const v={...i,type:(d=(g=i.refetchType)!=null?g:i.type)!=null?d:"active"};return this.refetchQueries(v,a)})}refetchQueries(n,t,r){const[i,a]=Wa(n,t,r),d=On.batch(()=>this.queryCache.findAll(i).filter(v=>!v.isDisabled()).map(v=>{var x;return v.fetch(void 0,{...a,cancelRefetch:(x=a==null?void 0:a.cancelRefetch)!=null?x:!0,meta:{refetchPage:i.refetchPage}})}));let g=Promise.all(d).then(Pi);return a!=null&&a.throwOnError||(g=g.catch(Pi)),g}fetchQuery(n,t,r){const i=Kl(n,t,r),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const d=this.queryCache.build(this,a);return d.isStaleByTime(a.staleTime)?d.fetch(a):Promise.resolve(d.state.data)}prefetchQuery(n,t,r){return this.fetchQuery(n,t,r).then(Pi).catch(Pi)}fetchInfiniteQuery(n,t,r){const i=Kl(n,t,r);return i.behavior=ng(),this.fetchQuery(i)}prefetchInfiniteQuery(n,t,r){return this.fetchInfiniteQuery(n,t,r).then(Pi).catch(Pi)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(n){this.defaultOptions=n}setQueryDefaults(n,t){const r=this.queryDefaults.find(i=>$o(n)===$o(i.queryKey));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:n,defaultOptions:t})}getQueryDefaults(n){if(!n)return;const t=this.queryDefaults.find(r=>X0(n,r.queryKey));return t==null?void 0:t.defaultOptions}setMutationDefaults(n,t){const r=this.mutationDefaults.find(i=>$o(n)===$o(i.mutationKey));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:n,defaultOptions:t})}getMutationDefaults(n){if(!n)return;const t=this.mutationDefaults.find(r=>X0(n,r.mutationKey));return t==null?void 0:t.defaultOptions}defaultQueryOptions(n){if(n!=null&&n._defaulted)return n;const t={...this.defaultOptions.queries,...this.getQueryDefaults(n==null?void 0:n.queryKey),...n,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=Ox(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.useErrorBoundary>"u"&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...this.defaultOptions.mutations,...this.getMutationDefaults(n==null?void 0:n.mutationKey),...n,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class OC extends Rc{constructor(n,t){super(),this.client=n,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Ay(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ig(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ig(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(n,t){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(n),Q0(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&Ty(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(t),a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const d=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)}getOptimisticResult(n){const t=this.client.getQueryCache().build(this.client,n),r=this.createResult(t,n);return GI(this,r,n)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(n){const t={};return Object.keys(n).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),n[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:n,...t}={}){return this.fetch({...t,meta:{refetchPage:n}})}fetchOptimistic(n){const t=this.client.defaultQueryOptions(n),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(n){var t;return this.executeFetch({...n,cancelRefetch:(t=n.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(n){this.updateQuery();let t=this.currentQuery.fetch(this.options,n);return n!=null&&n.throwOnError||(t=t.catch(Pi)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),sd||this.currentResult.isStale||!Jm(this.options.staleTime))return;const t=_C(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var n;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(n=this.options.refetchInterval)!=null?n:!1}updateRefetchInterval(n){this.clearRefetchInterval(),this.currentRefetchInterval=n,!(sd||this.options.enabled===!1||!Jm(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||K0.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(n,t){const r=this.currentQuery,i=this.options,a=this.currentResult,d=this.currentResultState,g=this.currentResultOptions,v=n!==r,x=v?n.state:this.currentQueryInitialState,y=v?this.currentResult:this.previousQueryResult,{state:E}=n;let{dataUpdatedAt:_,error:T,errorUpdatedAt:S,fetchStatus:R,status:O}=E,I=!1,D=!1,j;if(t._optimisticResults){const V=this.hasListeners(),W=!V&&Ay(n,t),se=V&&Ty(n,r,t,i);(W||se)&&(R=Fh(n.options.networkMode)?"fetching":"paused",_||(O="loading")),t._optimisticResults==="isRestoring"&&(R="idle")}if(t.keepPreviousData&&!E.dataUpdatedAt&&y!=null&&y.isSuccess&&O!=="error")j=y.data,_=y.dataUpdatedAt,O=y.status,I=!0;else if(t.select&&typeof E.data<"u")if(a&&E.data===(d==null?void 0:d.data)&&t.select===this.selectFn)j=this.selectResult;else try{this.selectFn=t.select,j=t.select(E.data),j=tg(a==null?void 0:a.data,j,t),this.selectResult=j,this.selectError=null}catch(V){this.selectError=V}else j=E.data;if(typeof t.placeholderData<"u"&&typeof j>"u"&&O==="loading"){let V;if(a!=null&&a.isPlaceholderData&&t.placeholderData===(g==null?void 0:g.placeholderData))V=a.data;else if(V=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof V<"u")try{V=t.select(V),this.selectError=null}catch(W){this.selectError=W}typeof V<"u"&&(O="success",j=tg(a==null?void 0:a.data,V,t),D=!0)}this.selectError&&(T=this.selectError,j=this.selectResult,S=Date.now(),O="error");const q=R==="fetching",Q=O==="loading",z=O==="error";return{status:O,fetchStatus:R,isLoading:Q,isSuccess:O==="success",isError:z,isInitialLoading:Q&&q,data:j,dataUpdatedAt:_,error:T,errorUpdatedAt:S,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>x.dataUpdateCount||E.errorUpdateCount>x.errorUpdateCount,isFetching:q,isRefetching:q&&!Q,isLoadingError:z&&E.dataUpdatedAt===0,isPaused:R==="paused",isPlaceholderData:D,isPreviousData:I,isRefetchError:z&&E.dataUpdatedAt!==0,isStale:Lx(n,t),refetch:this.refetch,remove:this.remove}}updateResult(n){const t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Q0(r,t))return;this.currentResult=r;const i={cache:!0},a=()=>{if(!t)return!0;const{notifyOnChangeProps:d}=this.options,g=typeof d=="function"?d():d;if(g==="all"||!g&&!this.trackedProps.size)return!0;const v=new Set(g??this.trackedProps);return this.options.useErrorBoundary&&v.add("error"),Object.keys(this.currentResult).some(x=>{const y=x;return this.currentResult[y]!==t[y]&&v.has(y)})};(n==null?void 0:n.listeners)!==!1&&a()&&(i.listeners=!0),this.notify({...i,...n})}updateQuery(){const n=this.client.getQueryCache().build(this.client,this.options);if(n===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=n,this.currentQueryInitialState=n.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),n.addObserver(this))}onQueryUpdate(n){const t={};n.type==="success"?t.onSuccess=!n.manual:n.type==="error"&&!u0(n.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(n){On.batch(()=>{if(n.onSuccess){var t,r,i,a;(t=(r=this.options).onSuccess)==null||t.call(r,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(n.onError){var d,g,v,x;(d=(g=this.options).onError)==null||d.call(g,this.currentResult.error),(v=(x=this.options).onSettled)==null||v.call(x,void 0,this.currentResult.error)}n.listeners&&this.listeners.forEach(({listener:y})=>{y(this.currentResult)}),n.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function $I(e,n){return n.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&n.retryOnMount===!1)}function Ay(e,n){return $I(e,n)||e.state.dataUpdatedAt>0&&ig(e,n,n.refetchOnMount)}function ig(e,n,t){if(n.enabled!==!1){const r=typeof t=="function"?t(e):t;return r==="always"||r!==!1&&Lx(e,n)}return!1}function Ty(e,n,t,r){return t.enabled!==!1&&(e!==n||r.enabled===!1)&&(!t.suspense||e.state.status!=="error")&&Lx(e,t)}function Lx(e,n){return e.isStaleByTime(n.staleTime)}function GI(e,n,t){return t.keepPreviousData?!1:t.placeholderData!==void 0?n.isPlaceholderData:!Q0(e.getCurrentResult(),n)}class XI extends OC{constructor(n,t){super(n,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n,t){super.setOptions({...n,behavior:ng()},t)}getOptimisticResult(n){return n.behavior=ng(),super.getOptimisticResult(n)}fetchNextPage({pageParam:n,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:n}}})}fetchPreviousPage({pageParam:n,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:n}}})}createResult(n,t){var r,i,a,d,g,v;const{state:x}=n,y=super.createResult(n,t),{isFetching:E,isRefetching:_}=y,T=E&&((r=x.fetchMeta)==null||(i=r.fetchMore)==null?void 0:i.direction)==="forward",S=E&&((a=x.fetchMeta)==null||(d=a.fetchMore)==null?void 0:d.direction)==="backward";return{...y,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:qI(t,(g=x.data)==null?void 0:g.pages),hasPreviousPage:VI(t,(v=x.data)==null?void 0:v.pages),isFetchingNextPage:T,isFetchingPreviousPage:S,isRefetching:_&&!T&&!S}}}let QI=class extends Rc{constructor(n,t){super(),this.client=n,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var t;const r=this.options;this.options=this.client.defaultMutationOptions(n),Q0(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(t=this.currentMutation)==null||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var n;(n=this.currentMutation)==null||n.removeObserver(this)}}onMutationUpdate(n){this.updateResult();const t={listeners:!0};n.type==="success"?t.onSuccess=!0:n.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(n,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof n<"u"?n:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const n=this.currentMutation?this.currentMutation.state:RC(),t={...n,isLoading:n.status==="loading",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(n){On.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(n.onSuccess){var t,r,i,a;(t=(r=this.mutateOptions).onSuccess)==null||t.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(a=this.mutateOptions).onSettled)==null||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(n.onError){var d,g,v,x;(d=(g=this.mutateOptions).onError)==null||d.call(g,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(v=(x=this.mutateOptions).onSettled)==null||v.call(x,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}n.listeners&&this.listeners.forEach(({listener:y})=>{y(this.currentResult)})})}};var MC={exports:{}},LC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=M;function KI(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ZI=typeof Object.is=="function"?Object.is:KI,JI=mc.useState,e7=mc.useEffect,t7=mc.useLayoutEffect,n7=mc.useDebugValue;function r7(e,n){var t=n(),r=JI({inst:{value:t,getSnapshot:n}}),i=r[0].inst,a=r[1];return t7(function(){i.value=t,i.getSnapshot=n,U1(i)&&a({inst:i})},[e,t,n]),e7(function(){return U1(i)&&a({inst:i}),e(function(){U1(i)&&a({inst:i})})},[e]),n7(t),t}function U1(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!ZI(e,t)}catch{return!0}}function i7(e,n){return n()}var s7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?i7:r7;LC.useSyncExternalStore=mc.useSyncExternalStore!==void 0?mc.useSyncExternalStore:s7;MC.exports=LC;var a7=MC.exports;const PC=a7.useSyncExternalStore,ky=M.createContext(void 0),FC=M.createContext(!1);function BC(e,n){return e||(n&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ky),window.ReactQueryClientContext):ky)}const Qn=({context:e}={})=>{const n=M.useContext(BC(e,M.useContext(FC)));if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},o7=({client:e,children:n,context:t,contextSharing:r=!1})=>{M.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=BC(t,r);return M.createElement(FC.Provider,{value:!t&&r},M.createElement(i.Provider,{value:e},n))},UC=M.createContext(!1),l7=()=>M.useContext(UC);UC.Provider;function c7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const u7=M.createContext(c7()),d7=()=>M.useContext(u7);function zC(e,n){return typeof e=="function"?e(...n):!!e}const f7=(e,n)=>{(e.suspense||e.useErrorBoundary)&&(n.isReset()||(e.retryOnMount=!1))},h7=e=>{M.useEffect(()=>{e.clearReset()},[e])},p7=({result:e,errorResetBoundary:n,useErrorBoundary:t,query:r})=>e.isError&&!n.isReset()&&!e.isFetching&&zC(t,[e.error,r]),m7=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},g7=(e,n)=>e.isLoading&&e.isFetching&&!n,x7=(e,n,t)=>(e==null?void 0:e.suspense)&&g7(n,t),v7=(e,n,t)=>n.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{t.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function WC(e,n){const t=Qn({context:e.context}),r=l7(),i=d7(),a=t.defaultQueryOptions(e);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=On.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=On.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=On.batchCalls(a.onSettled)),m7(a),f7(a,i),h7(i);const[d]=M.useState(()=>new n(t,a)),g=d.getOptimisticResult(a);if(PC(M.useCallback(v=>{const x=r?()=>{}:d.subscribe(On.batchCalls(v));return d.updateResult(),x},[d,r]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),M.useEffect(()=>{d.setOptions(a,{listeners:!1})},[a,d]),x7(a,g,r))throw v7(a,d,i);if(p7({result:g,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:d.getCurrentQuery()}))throw g.error;return a.notifyOnChangeProps?g:d.trackResult(g)}function Et(e,n,t){const r=Kl(e,n,t);return WC(r,OC)}function Vn(e,n,t){const r=jI(e,n,t),i=Qn({context:r.context}),[a]=M.useState(()=>new QI(i,r));M.useEffect(()=>{a.setOptions(r)},[a,r]);const d=PC(M.useCallback(v=>a.subscribe(On.batchCalls(v)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),g=M.useCallback((v,x)=>{a.mutate(v,x).catch(w7)},[a]);if(d.error&&zC(a.options.useErrorBoundary,[d.error]))throw d.error;return{...d,mutate:g,mutateAsync:d.mutate}}function w7(){}function Px(e,n,t){const r=Kl(e,n,t);return WC(r,XI)}function HC(e,n){return function(){return e.apply(n,arguments)}}const{toString:y7}=Object.prototype,{getPrototypeOf:Fx}=Object,{iterator:Bh,toStringTag:qC}=Symbol,Uh=(e=>n=>{const t=y7.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),hs=e=>(e=e.toLowerCase(),n=>Uh(n)===e),zh=e=>n=>typeof n===e,{isArray:jc}=Array,ad=zh("undefined");function b7(e){return e!==null&&!ad(e)&&e.constructor!==null&&!ad(e.constructor)&&ii(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const VC=hs("ArrayBuffer");function C7(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&VC(e.buffer),n}const E7=zh("string"),ii=zh("function"),YC=zh("number"),Wh=e=>e!==null&&typeof e=="object",N7=e=>e===!0||e===!1,d0=e=>{if(Uh(e)!=="object")return!1;const n=Fx(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(qC in e)&&!(Bh in e)},_7=hs("Date"),S7=hs("File"),A7=hs("Blob"),T7=hs("FileList"),k7=e=>Wh(e)&&ii(e.pipe),D7=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||ii(e.append)&&((n=Uh(e))==="formdata"||n==="object"&&ii(e.toString)&&e.toString()==="[object FormData]"))},I7=hs("URLSearchParams"),[R7,j7,O7,M7]=["ReadableStream","Request","Response","Headers"].map(hs),L7=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wd(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),jc(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),d=a.length;let g;for(r=0;r<d;r++)g=a[r],n.call(null,e[g],g,e)}}function $C(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Go=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),GC=e=>!ad(e)&&e!==Go;function sg(){const{caseless:e}=GC(this)&&this||{},n={},t=(r,i)=>{const a=e&&$C(n,i)||i;d0(n[a])&&d0(r)?n[a]=sg(n[a],r):d0(r)?n[a]=sg({},r):jc(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&wd(arguments[r],t);return n}const P7=(e,n,t,{allOwnKeys:r}={})=>(wd(n,(i,a)=>{t&&ii(i)?e[a]=HC(i,t):e[a]=i},{allOwnKeys:r}),e),F7=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),B7=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},U7=(e,n,t,r)=>{let i,a,d;const g={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)d=i[a],(!r||r(d,e,n))&&!g[d]&&(n[d]=e[d],g[d]=!0);e=t!==!1&&Fx(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},z7=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},W7=e=>{if(!e)return null;if(jc(e))return e;let n=e.length;if(!YC(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},H7=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&Fx(Uint8Array)),q7=(e,n)=>{const r=(e&&e[Bh]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;n.call(e,a[0],a[1])}},V7=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},Y7=hs("HTMLFormElement"),$7=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Dy=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),G7=hs("RegExp"),XC=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};wd(t,(i,a)=>{let d;(d=n(i,a,e))!==!1&&(r[a]=d||i)}),Object.defineProperties(e,r)},X7=e=>{XC(e,(n,t)=>{if(ii(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(ii(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Q7=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return jc(e)?r(e):r(String(e).split(n)),t},K7=()=>{},Z7=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function J7(e){return!!(e&&ii(e.append)&&e[qC]==="FormData"&&e[Bh])}const eR=e=>{const n=new Array(10),t=(r,i)=>{if(Wh(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=jc(r)?[]:{};return wd(r,(d,g)=>{const v=t(d,i+1);!ad(v)&&(a[g]=v)}),n[i]=void 0,a}}return r};return t(e,0)},tR=hs("AsyncFunction"),nR=e=>e&&(Wh(e)||ii(e))&&ii(e.then)&&ii(e.catch),QC=((e,n)=>e?setImmediate:n?((t,r)=>(Go.addEventListener("message",({source:i,data:a})=>{i===Go&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Go.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ii(Go.postMessage)),rR=typeof queueMicrotask<"u"?queueMicrotask.bind(Go):typeof process<"u"&&process.nextTick||QC,iR=e=>e!=null&&ii(e[Bh]),me={isArray:jc,isArrayBuffer:VC,isBuffer:b7,isFormData:D7,isArrayBufferView:C7,isString:E7,isNumber:YC,isBoolean:N7,isObject:Wh,isPlainObject:d0,isReadableStream:R7,isRequest:j7,isResponse:O7,isHeaders:M7,isUndefined:ad,isDate:_7,isFile:S7,isBlob:A7,isRegExp:G7,isFunction:ii,isStream:k7,isURLSearchParams:I7,isTypedArray:H7,isFileList:T7,forEach:wd,merge:sg,extend:P7,trim:L7,stripBOM:F7,inherits:B7,toFlatObject:U7,kindOf:Uh,kindOfTest:hs,endsWith:z7,toArray:W7,forEachEntry:q7,matchAll:V7,isHTMLForm:Y7,hasOwnProperty:Dy,hasOwnProp:Dy,reduceDescriptors:XC,freezeMethods:X7,toObjectSet:Q7,toCamelCase:$7,noop:K7,toFiniteNumber:Z7,findKey:$C,global:Go,isContextDefined:GC,isSpecCompliantForm:J7,toJSONObject:eR,isAsyncFn:tR,isThenable:nR,setImmediate:QC,asap:rR,isIterable:iR};function ut(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}me.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const KC=ut.prototype,ZC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ZC[e]={value:e}});Object.defineProperties(ut,ZC);Object.defineProperty(KC,"isAxiosError",{value:!0});ut.from=(e,n,t,r,i,a)=>{const d=Object.create(KC);return me.toFlatObject(e,d,function(v){return v!==Error.prototype},g=>g!=="isAxiosError"),ut.call(d,e.message,n,t,r,i),d.cause=e,d.name=e.name,a&&Object.assign(d,a),d};const sR=null;function ag(e){return me.isPlainObject(e)||me.isArray(e)}function JC(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function Iy(e,n,t){return e?e.concat(n).map(function(i,a){return i=JC(i),!t&&a?"["+i+"]":i}).join(t?".":""):n}function aR(e){return me.isArray(e)&&!e.some(ag)}const oR=me.toFlatObject(me,{},null,function(n){return/^is[A-Z]/.test(n)});function Hh(e,n,t){if(!me.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=me.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,O){return!me.isUndefined(O[R])});const r=t.metaTokens,i=t.visitor||y,a=t.dots,d=t.indexes,v=(t.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(n);if(!me.isFunction(i))throw new TypeError("visitor must be a function");function x(S){if(S===null)return"";if(me.isDate(S))return S.toISOString();if(!v&&me.isBlob(S))throw new ut("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(S)||me.isTypedArray(S)?v&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function y(S,R,O){let I=S;if(S&&!O&&typeof S=="object"){if(me.endsWith(R,"{}"))R=r?R:R.slice(0,-2),S=JSON.stringify(S);else if(me.isArray(S)&&aR(S)||(me.isFileList(S)||me.endsWith(R,"[]"))&&(I=me.toArray(S)))return R=JC(R),I.forEach(function(j,q){!(me.isUndefined(j)||j===null)&&n.append(d===!0?Iy([R],q,a):d===null?R:R+"[]",x(j))}),!1}return ag(S)?!0:(n.append(Iy(O,R,a),x(S)),!1)}const E=[],_=Object.assign(oR,{defaultVisitor:y,convertValue:x,isVisitable:ag});function T(S,R){if(!me.isUndefined(S)){if(E.indexOf(S)!==-1)throw Error("Circular reference detected in "+R.join("."));E.push(S),me.forEach(S,function(I,D){(!(me.isUndefined(I)||I===null)&&i.call(n,I,me.isString(D)?D.trim():D,R,_))===!0&&T(I,R?R.concat(D):[D])}),E.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return T(e),n}function Ry(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function Bx(e,n){this._pairs=[],e&&Hh(e,this,n)}const eE=Bx.prototype;eE.append=function(n,t){this._pairs.push([n,t])};eE.toString=function(n){const t=n?function(r){return n.call(this,r,Ry)}:Ry;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function lR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tE(e,n,t){if(!n)return e;const r=t&&t.encode||lR;me.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=me.isURLSearchParams(n)?n.toString():new Bx(n,t).toString(r),a){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class cR{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){me.forEach(this.handlers,function(r){r!==null&&n(r)})}}const jy=cR,nE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uR=typeof URLSearchParams<"u"?URLSearchParams:Bx,dR=typeof FormData<"u"?FormData:null,fR=typeof Blob<"u"?Blob:null,hR={isBrowser:!0,classes:{URLSearchParams:uR,FormData:dR,Blob:fR},protocols:["http","https","file","blob","url","data"]},Ux=typeof window<"u"&&typeof document<"u",og=typeof navigator=="object"&&navigator||void 0,pR=Ux&&(!og||["ReactNative","NativeScript","NS"].indexOf(og.product)<0),mR=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),gR=Ux&&window.location.href||"http://localhost",xR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ux,hasStandardBrowserEnv:pR,hasStandardBrowserWebWorkerEnv:mR,navigator:og,origin:gR},Symbol.toStringTag,{value:"Module"})),Ir={...xR,...hR};function vR(e,n){return Hh(e,new Ir.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return Ir.isNode&&me.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function wR(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function yR(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function rE(e){function n(t,r,i,a){let d=t[a++];if(d==="__proto__")return!0;const g=Number.isFinite(+d),v=a>=t.length;return d=!d&&me.isArray(i)?i.length:d,v?(me.hasOwnProp(i,d)?i[d]=[i[d],r]:i[d]=r,!g):((!i[d]||!me.isObject(i[d]))&&(i[d]=[]),n(t,r,i[d],a)&&me.isArray(i[d])&&(i[d]=yR(i[d])),!g)}if(me.isFormData(e)&&me.isFunction(e.entries)){const t={};return me.forEachEntry(e,(r,i)=>{n(wR(r),i,t,0)}),t}return null}function bR(e,n,t){if(me.isString(e))try{return(n||JSON.parse)(e),me.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const zx={transitional:nE,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=me.isObject(n);if(a&&me.isHTMLForm(n)&&(n=new FormData(n)),me.isFormData(n))return i?JSON.stringify(rE(n)):n;if(me.isArrayBuffer(n)||me.isBuffer(n)||me.isStream(n)||me.isFile(n)||me.isBlob(n)||me.isReadableStream(n))return n;if(me.isArrayBufferView(n))return n.buffer;if(me.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let g;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return vR(n,this.formSerializer).toString();if((g=me.isFileList(n))||r.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Hh(g?{"files[]":n}:n,v&&new v,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),bR(n)):n}],transformResponse:[function(n){const t=this.transitional||zx.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(me.isResponse(n)||me.isReadableStream(n))return n;if(n&&me.isString(n)&&(r&&!this.responseType||i)){const d=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(n)}catch(g){if(d)throw g.name==="SyntaxError"?ut.from(g,ut.ERR_BAD_RESPONSE,this,null,this.response):g}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ir.classes.FormData,Blob:Ir.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{zx.headers[e]={}});const Wx=zx,CR=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ER=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(d){i=d.indexOf(":"),t=d.substring(0,i).trim().toLowerCase(),r=d.substring(i+1).trim(),!(!t||n[t]&&CR[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},Oy=Symbol("internals");function yu(e){return e&&String(e).trim().toLowerCase()}function f0(e){return e===!1||e==null?e:me.isArray(e)?e.map(f0):String(e)}function NR(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const _R=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function z1(e,n,t,r,i){if(me.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!me.isString(n)){if(me.isString(r))return n.indexOf(r)!==-1;if(me.isRegExp(r))return r.test(n)}}function SR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function AR(e,n){const t=me.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,d){return this[r].call(this,n,i,a,d)},configurable:!0})})}class qh{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(g,v,x){const y=yu(v);if(!y)throw new Error("header name must be a non-empty string");const E=me.findKey(i,y);(!E||i[E]===void 0||x===!0||x===void 0&&i[E]!==!1)&&(i[E||v]=f0(g))}const d=(g,v)=>me.forEach(g,(x,y)=>a(x,y,v));if(me.isPlainObject(n)||n instanceof this.constructor)d(n,t);else if(me.isString(n)&&(n=n.trim())&&!_R(n))d(ER(n),t);else if(me.isObject(n)&&me.isIterable(n)){let g={},v,x;for(const y of n){if(!me.isArray(y))throw TypeError("Object iterator must return a key-value pair");g[x=y[0]]=(v=g[x])?me.isArray(v)?[...v,y[1]]:[v,y[1]]:y[1]}d(g,t)}else n!=null&&a(t,n,r);return this}get(n,t){if(n=yu(n),n){const r=me.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return NR(i);if(me.isFunction(t))return t.call(this,i,r);if(me.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=yu(n),n){const r=me.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||z1(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(d){if(d=yu(d),d){const g=me.findKey(r,d);g&&(!t||z1(r,r[g],g,t))&&(delete r[g],i=!0)}}return me.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||z1(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return me.forEach(this,(i,a)=>{const d=me.findKey(r,a);if(d){t[d]=f0(i),delete t[a];return}const g=n?SR(a):String(a).trim();g!==a&&delete t[a],t[g]=f0(i),r[g]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return me.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&me.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const r=(this[Oy]=this[Oy]={accessors:{}}).accessors,i=this.prototype;function a(d){const g=yu(d);r[g]||(AR(i,d),r[g]=!0)}return me.isArray(n)?n.forEach(a):a(n),this}}qh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(qh.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});me.freezeMethods(qh);const ls=qh;function W1(e,n){const t=this||Wx,r=n||t,i=ls.from(r.headers);let a=r.data;return me.forEach(e,function(g){a=g.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function iE(e){return!!(e&&e.__CANCEL__)}function Oc(e,n,t){ut.call(this,e??"canceled",ut.ERR_CANCELED,n,t),this.name="CanceledError"}me.inherits(Oc,ut,{__CANCEL__:!0});function sE(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new ut("Request failed with status code "+t.status,[ut.ERR_BAD_REQUEST,ut.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function TR(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function kR(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,d;return n=n!==void 0?n:1e3,function(v){const x=Date.now(),y=r[a];d||(d=x),t[i]=v,r[i]=x;let E=a,_=0;for(;E!==i;)_+=t[E++],E=E%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),x-d<n)return;const T=y&&x-y;return T?Math.round(_*1e3/T):void 0}}function DR(e,n){let t=0,r=1e3/n,i,a;const d=(x,y=Date.now())=>{t=y,i=null,a&&(clearTimeout(a),a=null),e.apply(null,x)};return[(...x)=>{const y=Date.now(),E=y-t;E>=r?d(x,y):(i=x,a||(a=setTimeout(()=>{a=null,d(i)},r-E)))},()=>i&&d(i)]}const J0=(e,n,t=3)=>{let r=0;const i=kR(50,250);return DR(a=>{const d=a.loaded,g=a.lengthComputable?a.total:void 0,v=d-r,x=i(v),y=d<=g;r=d;const E={loaded:d,total:g,progress:g?d/g:void 0,bytes:v,rate:x||void 0,estimated:x&&g&&y?(g-d)/x:void 0,event:a,lengthComputable:g!=null,[n?"download":"upload"]:!0};e(E)},t)},My=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},Ly=e=>(...n)=>me.asap(()=>e(...n)),IR=Ir.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,Ir.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(Ir.origin),Ir.navigator&&/(msie|trident)/i.test(Ir.navigator.userAgent)):()=>!0,RR=Ir.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const d=[e+"="+encodeURIComponent(n)];me.isNumber(t)&&d.push("expires="+new Date(t).toGMTString()),me.isString(r)&&d.push("path="+r),me.isString(i)&&d.push("domain="+i),a===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function OR(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function aE(e,n,t){let r=!jR(n);return e&&(r||t==!1)?OR(e,n):n}const Py=e=>e instanceof ls?{...e}:e;function ol(e,n){n=n||{};const t={};function r(x,y,E,_){return me.isPlainObject(x)&&me.isPlainObject(y)?me.merge.call({caseless:_},x,y):me.isPlainObject(y)?me.merge({},y):me.isArray(y)?y.slice():y}function i(x,y,E,_){if(me.isUndefined(y)){if(!me.isUndefined(x))return r(void 0,x,E,_)}else return r(x,y,E,_)}function a(x,y){if(!me.isUndefined(y))return r(void 0,y)}function d(x,y){if(me.isUndefined(y)){if(!me.isUndefined(x))return r(void 0,x)}else return r(void 0,y)}function g(x,y,E){if(E in n)return r(x,y);if(E in e)return r(void 0,x)}const v={url:a,method:a,data:a,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:g,headers:(x,y,E)=>i(Py(x),Py(y),E,!0)};return me.forEach(Object.keys(Object.assign({},e,n)),function(y){const E=v[y]||i,_=E(e[y],n[y],y);me.isUndefined(_)&&E!==g||(t[y]=_)}),t}const oE=e=>{const n=ol({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:d,auth:g}=n;n.headers=d=ls.from(d),n.url=tE(aE(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),g&&d.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let v;if(me.isFormData(t)){if(Ir.hasStandardBrowserEnv||Ir.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((v=d.getContentType())!==!1){const[x,...y]=v?v.split(";").map(E=>E.trim()).filter(Boolean):[];d.setContentType([x||"multipart/form-data",...y].join("; "))}}if(Ir.hasStandardBrowserEnv&&(r&&me.isFunction(r)&&(r=r(n)),r||r!==!1&&IR(n.url))){const x=i&&a&&RR.read(a);x&&d.set(i,x)}return n},MR=typeof XMLHttpRequest<"u",LR=MR&&function(e){return new Promise(function(t,r){const i=oE(e);let a=i.data;const d=ls.from(i.headers).normalize();let{responseType:g,onUploadProgress:v,onDownloadProgress:x}=i,y,E,_,T,S;function R(){T&&T(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(y),i.signal&&i.signal.removeEventListener("abort",y)}let O=new XMLHttpRequest;O.open(i.method.toUpperCase(),i.url,!0),O.timeout=i.timeout;function I(){if(!O)return;const j=ls.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),Q={data:!g||g==="text"||g==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:j,config:e,request:O};sE(function(P){t(P),R()},function(P){r(P),R()},Q),O=null}"onloadend"in O?O.onloadend=I:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(I)},O.onabort=function(){O&&(r(new ut("Request aborted",ut.ECONNABORTED,e,O)),O=null)},O.onerror=function(){r(new ut("Network Error",ut.ERR_NETWORK,e,O)),O=null},O.ontimeout=function(){let q=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Q=i.transitional||nE;i.timeoutErrorMessage&&(q=i.timeoutErrorMessage),r(new ut(q,Q.clarifyTimeoutError?ut.ETIMEDOUT:ut.ECONNABORTED,e,O)),O=null},a===void 0&&d.setContentType(null),"setRequestHeader"in O&&me.forEach(d.toJSON(),function(q,Q){O.setRequestHeader(Q,q)}),me.isUndefined(i.withCredentials)||(O.withCredentials=!!i.withCredentials),g&&g!=="json"&&(O.responseType=i.responseType),x&&([_,S]=J0(x,!0),O.addEventListener("progress",_)),v&&O.upload&&([E,T]=J0(v),O.upload.addEventListener("progress",E),O.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(y=j=>{O&&(r(!j||j.type?new Oc(null,e,O):j),O.abort(),O=null)},i.cancelToken&&i.cancelToken.subscribe(y),i.signal&&(i.signal.aborted?y():i.signal.addEventListener("abort",y)));const D=TR(i.url);if(D&&Ir.protocols.indexOf(D)===-1){r(new ut("Unsupported protocol "+D+":",ut.ERR_BAD_REQUEST,e));return}O.send(a||null)})},PR=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(x){if(!i){i=!0,g();const y=x instanceof Error?x:this.reason;r.abort(y instanceof ut?y:new Oc(y instanceof Error?y.message:y))}};let d=n&&setTimeout(()=>{d=null,a(new ut(`timeout ${n} of ms exceeded`,ut.ETIMEDOUT))},n);const g=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(x=>{x.unsubscribe?x.unsubscribe(a):x.removeEventListener("abort",a)}),e=null)};e.forEach(x=>x.addEventListener("abort",a));const{signal:v}=r;return v.unsubscribe=()=>me.asap(g),v}},FR=PR,BR=function*(e,n){let t=e.byteLength;if(!n||t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},UR=async function*(e,n){for await(const t of zR(e))yield*BR(t,n)},zR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},Fy=(e,n,t,r)=>{const i=UR(e,n);let a=0,d,g=v=>{d||(d=!0,r&&r(v))};return new ReadableStream({async pull(v){try{const{done:x,value:y}=await i.next();if(x){g(),v.close();return}let E=y.byteLength;if(t){let _=a+=E;t(_)}v.enqueue(new Uint8Array(y))}catch(x){throw g(x),x}},cancel(v){return g(v),i.return()}},{highWaterMark:2})},Vh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lE=Vh&&typeof ReadableStream=="function",WR=Vh&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),cE=(e,...n)=>{try{return!!e(...n)}catch{return!1}},HR=lE&&cE(()=>{let e=!1;const n=new Request(Ir.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),By=64*1024,lg=lE&&cE(()=>me.isReadableStream(new Response("").body)),eh={stream:lg&&(e=>e.body)};Vh&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!eh[n]&&(eh[n]=me.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new ut(`Response type '${n}' is not supported`,ut.ERR_NOT_SUPPORT,r)})})})(new Response);const qR=async e=>{if(e==null)return 0;if(me.isBlob(e))return e.size;if(me.isSpecCompliantForm(e))return(await new Request(Ir.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(me.isArrayBufferView(e)||me.isArrayBuffer(e))return e.byteLength;if(me.isURLSearchParams(e)&&(e=e+""),me.isString(e))return(await WR(e)).byteLength},VR=async(e,n)=>{const t=me.toFiniteNumber(e.getContentLength());return t??qR(n)},YR=Vh&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:d,onDownloadProgress:g,onUploadProgress:v,responseType:x,headers:y,withCredentials:E="same-origin",fetchOptions:_}=oE(e);x=x?(x+"").toLowerCase():"text";let T=FR([i,a&&a.toAbortSignal()],d),S;const R=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let O;try{if(v&&HR&&t!=="get"&&t!=="head"&&(O=await VR(y,r))!==0){let Q=new Request(n,{method:"POST",body:r,duplex:"half"}),z;if(me.isFormData(r)&&(z=Q.headers.get("content-type"))&&y.setContentType(z),Q.body){const[P,V]=My(O,J0(Ly(v)));r=Fy(Q.body,By,P,V)}}me.isString(E)||(E=E?"include":"omit");const I="credentials"in Request.prototype;S=new Request(n,{..._,signal:T,method:t.toUpperCase(),headers:y.normalize().toJSON(),body:r,duplex:"half",credentials:I?E:void 0});let D=await fetch(S);const j=lg&&(x==="stream"||x==="response");if(lg&&(g||j&&R)){const Q={};["status","statusText","headers"].forEach(W=>{Q[W]=D[W]});const z=me.toFiniteNumber(D.headers.get("content-length")),[P,V]=g&&My(z,J0(Ly(g),!0))||[];D=new Response(Fy(D.body,By,P,()=>{V&&V(),R&&R()}),Q)}x=x||"text";let q=await eh[me.findKey(eh,x)||"text"](D,e);return!j&&R&&R(),await new Promise((Q,z)=>{sE(Q,z,{data:q,headers:ls.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:S})})}catch(I){throw R&&R(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new ut("Network Error",ut.ERR_NETWORK,e,S),{cause:I.cause||I}):ut.from(I,I&&I.code,e,S)}}),cg={http:sR,xhr:LR,fetch:YR};me.forEach(cg,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const Uy=e=>`- ${e}`,$R=e=>me.isFunction(e)||e===null||e===!1,uE={getAdapter:e=>{e=me.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let d;if(r=t,!$R(t)&&(r=cg[(d=String(t)).toLowerCase()],r===void 0))throw new ut(`Unknown adapter '${d}'`);if(r)break;i[d||"#"+a]=r}if(!r){const a=Object.entries(i).map(([g,v])=>`adapter ${g} `+(v===!1?"is not supported by the environment":"is not available in the build"));let d=n?a.length>1?`since :
`+a.map(Uy).join(`
`):" "+Uy(a[0]):"as no adapter specified";throw new ut("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:cg};function H1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Oc(null,e)}function zy(e){return H1(e),e.headers=ls.from(e.headers),e.data=W1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),uE.getAdapter(e.adapter||Wx.adapter)(e).then(function(r){return H1(e),r.data=W1.call(e,e.transformResponse,r),r.headers=ls.from(r.headers),r},function(r){return iE(r)||(H1(e),r&&r.response&&(r.response.data=W1.call(e,e.transformResponse,r.response),r.response.headers=ls.from(r.response.headers))),Promise.reject(r)})}const dE="1.9.0",Yh={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Yh[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const Wy={};Yh.transitional=function(n,t,r){function i(a,d){return"[Axios v"+dE+"] Transitional option '"+a+"'"+d+(r?". "+r:"")}return(a,d,g)=>{if(n===!1)throw new ut(i(d," has been removed"+(t?" in "+t:"")),ut.ERR_DEPRECATED);return t&&!Wy[d]&&(Wy[d]=!0,console.warn(i(d," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(a,d,g):!0}};Yh.spelling=function(n){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function GR(e,n,t){if(typeof e!="object")throw new ut("options must be an object",ut.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],d=n[a];if(d){const g=e[a],v=g===void 0||d(g,a,e);if(v!==!0)throw new ut("option "+a+" must be "+v,ut.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ut("Unknown option "+a,ut.ERR_BAD_OPTION)}}const h0={assertOptions:GR,validators:Yh},bs=h0.validators;class th{constructor(n){this.defaults=n||{},this.interceptors={request:new jy,response:new jy}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=ol(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&h0.assertOptions(r,{silentJSONParsing:bs.transitional(bs.boolean),forcedJSONParsing:bs.transitional(bs.boolean),clarifyTimeoutError:bs.transitional(bs.boolean)},!1),i!=null&&(me.isFunction(i)?t.paramsSerializer={serialize:i}:h0.assertOptions(i,{encode:bs.function,serialize:bs.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),h0.assertOptions(t,{baseUrl:bs.spelling("baseURL"),withXsrfToken:bs.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let d=a&&me.merge(a.common,a[t.method]);a&&me.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),t.headers=ls.concat(d,a);const g=[];let v=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(v=v&&R.synchronous,g.unshift(R.fulfilled,R.rejected))});const x=[];this.interceptors.response.forEach(function(R){x.push(R.fulfilled,R.rejected)});let y,E=0,_;if(!v){const S=[zy.bind(this),void 0];for(S.unshift.apply(S,g),S.push.apply(S,x),_=S.length,y=Promise.resolve(t);E<_;)y=y.then(S[E++],S[E++]);return y}_=g.length;let T=t;for(E=0;E<_;){const S=g[E++],R=g[E++];try{T=S(T)}catch(O){R.call(this,O);break}}try{y=zy.call(this,T)}catch(S){return Promise.reject(S)}for(E=0,_=x.length;E<_;)y=y.then(x[E++],x[E++]);return y}getUri(n){n=ol(this.defaults,n);const t=aE(n.baseURL,n.url,n.allowAbsoluteUrls);return tE(t,n.params,n.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(n){th.prototype[n]=function(t,r){return this.request(ol(r||{},{method:n,url:t,data:(r||{}).data}))}});me.forEach(["post","put","patch"],function(n){function t(r){return function(a,d,g){return this.request(ol(g||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:d}))}}th.prototype[n]=t(),th.prototype[n+"Form"]=t(!0)});const p0=th;class Hx{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const d=new Promise(g=>{r.subscribe(g),a=g}).then(i);return d.cancel=function(){r.unsubscribe(a)},d},n(function(a,d,g){r.reason||(r.reason=new Oc(a,d,g),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new Hx(function(i){n=i}),cancel:n}}}const XR=Hx;function QR(e){return function(t){return e.apply(null,t)}}function KR(e){return me.isObject(e)&&e.isAxiosError===!0}const ug={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ug).forEach(([e,n])=>{ug[n]=e});const ZR=ug;function fE(e){const n=new p0(e),t=HC(p0.prototype.request,n);return me.extend(t,p0.prototype,n,{allOwnKeys:!0}),me.extend(t,n,null,{allOwnKeys:!0}),t.create=function(i){return fE(ol(e,i))},t}const Xn=fE(Wx);Xn.Axios=p0;Xn.CanceledError=Oc;Xn.CancelToken=XR;Xn.isCancel=iE;Xn.VERSION=dE;Xn.toFormData=Hh;Xn.AxiosError=ut;Xn.Cancel=Xn.CanceledError;Xn.all=function(n){return Promise.all(n)};Xn.spread=QR;Xn.isAxiosError=KR;Xn.mergeConfig=ol;Xn.AxiosHeaders=ls;Xn.formToJSON=e=>rE(me.isHTMLForm(e)?new FormData(e):e);Xn.getAdapter=uE.getAdapter;Xn.HttpStatusCode=ZR;Xn.default=Xn;const Je=Xn,hE=M.createContext(),ir=()=>M.useContext(hE),JR=({children:e})=>{const[n,t]=M.useState(null),[r,i]=M.useState(localStorage.getItem("token")),[a,d]=M.useState(!0),[g,v]=M.useState(null);M.useEffect(()=>{r?Je.defaults.headers.common.Authorization=`Bearer ${r}`:delete Je.defaults.headers.common.Authorization},[r]),M.useEffect(()=>{const Q=async()=>{if(!r){d(!1);return}try{const P=await Je.get("/api/auth/me");t(P.data),v(null)}catch(P){console.error("Token verification failed:",P),P.response&&P.response.status===401?(y(),v("Session expired. Please log in again.")):v("Error verifying session. Please try again.")}finally{d(!1)}};Q();const z=setInterval(()=>{r&&Q()},60*60*1e3);return()=>{clearInterval(z)}},[r]);const x=async(Q,z)=>{var P,V;try{d(!0);const W=await Je.post("/api/auth/login",{username:Q,password:z}),{token:se,user:ce}=W.data;return localStorage.setItem("token",se),Je.defaults.headers.common.Authorization=`Bearer ${se}`,i(se),t(ce),v(null),ce}catch(W){throw console.error("Login error:",W),v(((V=(P=W.response)==null?void 0:P.data)==null?void 0:V.message)||"Login failed"),W}finally{d(!1)}},y=()=>{localStorage.removeItem("token"),i(null),t(null),delete Je.defaults.headers.common.Authorization},q={user:n,token:r,loading:a,error:g,login:x,logout:y,register:async Q=>{var z,P;try{return d(!0),(await Je.post("/api/auth/users",Q)).data}catch(V){throw console.error("Register error:",V),v(((P=(z=V.response)==null?void 0:z.data)==null?void 0:P.message)||"Registration failed"),V}finally{d(!1)}},isAdmin:()=>(n==null?void 0:n.role)==="admin",isAdvanced:()=>(n==null?void 0:n.role)==="advanced",isBasic:()=>(n==null?void 0:n.role)==="basic",canEditEquipment:()=>(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="advanced",isImpersonating:()=>!!(n!=null&&n.impersonated),impersonateUser:async Q=>{var z,P;try{d(!0);const V=await Je.post(`/api/auth/impersonate/${Q}`),{token:W,user:se}=V.data;return localStorage.setItem("token",W),i(W),t(se),v(null),se}catch(V){throw console.error("Impersonation error:",V),v(((P=(z=V.response)==null?void 0:z.data)==null?void 0:P.message)||"Impersonation failed"),V}finally{d(!1)}},stopImpersonation:async()=>{var Q,z;try{d(!0);const P=await Je.post("/api/auth/stop-impersonation"),{token:V,user:W}=P.data;return localStorage.setItem("token",V),i(V),t(W),v(null),W}catch(P){throw console.error("Stop impersonation error:",P),v(((z=(Q=P.response)==null?void 0:Q.data)==null?void 0:z.message)||"Failed to stop impersonation"),P}finally{d(!1)}},getUsers:async()=>{var Q,z;try{return(await Je.get("/api/auth/users")).data}catch(P){throw console.error("Get users error:",P),v(((z=(Q=P.response)==null?void 0:Q.data)==null?void 0:z.message)||"Failed to get users"),P}}};return c.jsx(hE.Provider,{value:q,children:e})};function pE(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=pE(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function yn(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=pE(e))&&(r&&(r+=" "),r+=n);return r}function ej(e){if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}ej(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var yd=e=>typeof e=="number"&&!isNaN(e),ll=e=>typeof e=="string",xa=e=>typeof e=="function",tj=e=>ll(e)||yd(e),dg=e=>ll(e)||xa(e)?e:null,nj=(e,n)=>e===!1||yd(e)&&e>0?e:n,fg=e=>M.isValidElement(e)||ll(e)||xa(e)||yd(e);function rj(e,n,t=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(n,t)})})}function ij({enter:e,exit:n,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:d,preventExitTransition:g,done:v,nodeRef:x,isIn:y,playToast:E}){let _=t?`${e}--${d}`:e,T=t?`${n}--${d}`:n,S=M.useRef(0);return M.useLayoutEffect(()=>{let R=x.current,O=_.split(" "),I=D=>{D.target===x.current&&(E(),R.removeEventListener("animationend",I),R.removeEventListener("animationcancel",I),S.current===0&&D.type!=="animationcancel"&&R.classList.remove(...O))};R.classList.add(...O),R.addEventListener("animationend",I),R.addEventListener("animationcancel",I)},[]),M.useEffect(()=>{let R=x.current,O=()=>{R.removeEventListener("animationend",O),r?rj(R,v,i):v()};y||(g?O():(S.current=1,R.className+=` ${T}`,R.addEventListener("animationend",O)))},[y]),de.createElement(de.Fragment,null,a)}}function Hy(e,n){return{content:mE(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:n}}function mE(e,n,t=!1){return M.isValidElement(e)&&!ll(e.type)?M.cloneElement(e,{closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:t}):xa(e)?e({closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:t}):e}function sj({closeToast:e,theme:n,ariaLabel:t="close"}){return de.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":t},de.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},de.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function aj({delay:e,isRunning:n,closeToast:t,type:r="default",hide:i,className:a,controlledProgress:d,progress:g,rtl:v,isIn:x,theme:y}){let E=i||d&&g===0,_={animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};d&&(_.transform=`scaleX(${g})`);let T=yn("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":v}),S=xa(a)?a({rtl:v,type:r,defaultClassName:T}):yn(T,a),R={[d&&g>=1?"onTransitionEnd":"onAnimationEnd"]:d&&g<1?null:()=>{x&&t()}};return de.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},de.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${r}`}),de.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:S,style:_,...R}))}var oj=1,gE=()=>`${oj++}`;function lj(e,n,t){let r=1,i=0,a=[],d=[],g=n,v=new Map,x=new Set,y=D=>(x.add(D),()=>x.delete(D)),E=()=>{d=Array.from(v.values()),x.forEach(D=>D())},_=({containerId:D,toastId:j,updateId:q})=>{let Q=D?D!==e:e!==1,z=v.has(j)&&q==null;return Q||z},T=(D,j)=>{v.forEach(q=>{var Q;(j==null||j===q.props.toastId)&&((Q=q.toggle)==null||Q.call(q,D))})},S=D=>{var j,q;(q=(j=D.props)==null?void 0:j.onClose)==null||q.call(j,D.removalReason),D.isActive=!1},R=D=>{if(D==null)v.forEach(S);else{let j=v.get(D);j&&S(j)}E()},O=()=>{i-=a.length,a=[]},I=D=>{var j,q;let{toastId:Q,updateId:z}=D.props,P=z==null;D.staleId&&v.delete(D.staleId),D.isActive=!0,v.set(Q,D),E(),t(Hy(D,P?"added":"updated")),P&&((q=(j=D.props).onOpen)==null||q.call(j))};return{id:e,props:g,observe:y,toggle:T,removeToast:R,toasts:v,clearQueue:O,buildToast:(D,j)=>{if(_(j))return;let{toastId:q,updateId:Q,data:z,staleId:P,delay:V}=j,W=Q==null;W&&i++;let se={...g,style:g.toastStyle,key:r++,...Object.fromEntries(Object.entries(j).filter(([ae,ne])=>ne!=null)),toastId:q,updateId:Q,data:z,isIn:!1,className:dg(j.className||g.toastClassName),progressClassName:dg(j.progressClassName||g.progressClassName),autoClose:j.isLoading?!1:nj(j.autoClose,g.autoClose),closeToast(ae){v.get(q).removalReason=ae,R(q)},deleteToast(){let ae=v.get(q);if(ae!=null){if(t(Hy(ae,"removed")),v.delete(q),i--,i<0&&(i=0),a.length>0){I(a.shift());return}E()}}};se.closeButton=g.closeButton,j.closeButton===!1||fg(j.closeButton)?se.closeButton=j.closeButton:j.closeButton===!0&&(se.closeButton=fg(g.closeButton)?g.closeButton:!0);let ce={content:D,props:se,staleId:P};g.limit&&g.limit>0&&i>g.limit&&W?a.push(ce):yd(V)?setTimeout(()=>{I(ce)},V):I(ce)},setProps(D){g=D},setToggle:(D,j)=>{let q=v.get(D);q&&(q.toggle=j)},isToastActive:D=>{var j;return(j=v.get(D))==null?void 0:j.isActive},getSnapshot:()=>d}}var Wr=new Map,od=[],hg=new Set,cj=e=>hg.forEach(n=>n(e)),xE=()=>Wr.size>0;function uj(){od.forEach(e=>wE(e.content,e.options)),od=[]}var dj=(e,{containerId:n})=>{var t;return(t=Wr.get(n||1))==null?void 0:t.toasts.get(e)};function vE(e,n){var t;if(n)return!!((t=Wr.get(n))!=null&&t.isToastActive(e));let r=!1;return Wr.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function fj(e){if(!xE()){od=od.filter(n=>e!=null&&n.options.toastId!==e);return}if(e==null||tj(e))Wr.forEach(n=>{n.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let n=Wr.get(e.containerId);n?n.removeToast(e.id):Wr.forEach(t=>{t.removeToast(e.id)})}}var hj=(e={})=>{Wr.forEach(n=>{n.props.limit&&(!e.containerId||n.id===e.containerId)&&n.clearQueue()})};function wE(e,n){fg(e)&&(xE()||od.push({content:e,options:n}),Wr.forEach(t=>{t.buildToast(e,n)}))}function pj(e){var n;(n=Wr.get(e.containerId||1))==null||n.setToggle(e.id,e.fn)}function yE(e,n){Wr.forEach(t=>{(n==null||!(n!=null&&n.containerId)||(n==null?void 0:n.containerId)===t.id)&&t.toggle(e,n==null?void 0:n.id)})}function mj(e){let n=e.containerId||1;return{subscribe(t){let r=lj(n,e,cj);Wr.set(n,r);let i=r.observe(t);return uj(),()=>{i(),Wr.delete(n)}},setProps(t){var r;(r=Wr.get(n))==null||r.setProps(t)},getSnapshot(){var t;return(t=Wr.get(n))==null?void 0:t.getSnapshot()}}}function gj(e){return hg.add(e),()=>{hg.delete(e)}}function xj(e){return e&&(ll(e.toastId)||yd(e.toastId))?e.toastId:gE()}function bd(e,n){return wE(e,n),n.toastId}function $h(e,n){return{...n,type:n&&n.type||e,toastId:xj(n)}}function Gh(e){return(n,t)=>bd(n,$h(e,t))}function rt(e,n){return bd(e,$h("default",n))}rt.loading=(e,n)=>bd(e,$h("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...n}));function vj(e,{pending:n,error:t,success:r},i){let a;n&&(a=ll(n)?rt.loading(n,i):rt.loading(n.render,{...i,...n}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(x,y,E)=>{if(y==null){rt.dismiss(a);return}let _={type:x,...d,...i,data:E},T=ll(y)?{render:y}:y;return a?rt.update(a,{..._,...T}):rt(T.render,{..._,...T}),E},v=xa(e)?e():e;return v.then(x=>g("success",r,x)).catch(x=>g("error",t,x)),v}rt.promise=vj;rt.success=Gh("success");rt.info=Gh("info");rt.error=Gh("error");rt.warning=Gh("warning");rt.warn=rt.warning;rt.dark=(e,n)=>bd(e,$h("default",{theme:"dark",...n}));function wj(e){fj(e)}rt.dismiss=wj;rt.clearWaitingQueue=hj;rt.isActive=vE;rt.update=(e,n={})=>{let t=dj(e,n);if(t){let{props:r,content:i}=t,a={delay:100,...r,...n,toastId:n.toastId||e,updateId:gE()};a.toastId!==e&&(a.staleId=e);let d=a.render||i;delete a.render,bd(d,a)}};rt.done=e=>{rt.update(e,{progress:1})};rt.onChange=gj;rt.play=e=>yE(!0,e);rt.pause=e=>yE(!1,e);function yj(e){var n;let{subscribe:t,getSnapshot:r,setProps:i}=M.useRef(mj(e)).current;i(e);let a=(n=M.useSyncExternalStore(t,r,r))==null?void 0:n.slice();function d(g){if(!a)return[];let v=new Map;return e.newestOnTop&&a.reverse(),a.forEach(x=>{let{position:y}=x.props;v.has(y)||v.set(y,[]),v.get(y).push(x)}),Array.from(v,x=>g(x[0],x[1]))}return{getToastToRender:d,isToastActive:vE,count:a==null?void 0:a.length}}function bj(e){let[n,t]=M.useState(!1),[r,i]=M.useState(!1),a=M.useRef(null),d=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:g,pauseOnHover:v,closeToast:x,onClick:y,closeOnClick:E}=e;pj({id:e.toastId,containerId:e.containerId,fn:t}),M.useEffect(()=>{if(e.pauseOnFocusLoss)return _(),()=>{T()}},[e.pauseOnFocusLoss]);function _(){document.hasFocus()||I(),window.addEventListener("focus",O),window.addEventListener("blur",I)}function T(){window.removeEventListener("focus",O),window.removeEventListener("blur",I)}function S(P){if(e.draggable===!0||e.draggable===P.pointerType){D();let V=a.current;d.canCloseOnClick=!0,d.canDrag=!0,V.style.transition="none",e.draggableDirection==="x"?(d.start=P.clientX,d.removalDistance=V.offsetWidth*(e.draggablePercent/100)):(d.start=P.clientY,d.removalDistance=V.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function R(P){let{top:V,bottom:W,left:se,right:ce}=a.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&e.pauseOnHover&&P.clientX>=se&&P.clientX<=ce&&P.clientY>=V&&P.clientY<=W?I():O()}function O(){t(!0)}function I(){t(!1)}function D(){d.didMove=!1,document.addEventListener("pointermove",q),document.addEventListener("pointerup",Q)}function j(){document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",Q)}function q(P){let V=a.current;if(d.canDrag&&V){d.didMove=!0,n&&I(),e.draggableDirection==="x"?d.delta=P.clientX-d.start:d.delta=P.clientY-d.start,d.start!==P.clientX&&(d.canCloseOnClick=!1);let W=e.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;V.style.transform=`translate3d(${W},0)`,V.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function Q(){j();let P=a.current;if(d.canDrag&&d.didMove&&P){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let z={onPointerDown:S,onPointerUp:R};return g&&v&&(z.onMouseEnter=I,e.stacked||(z.onMouseLeave=O)),E&&(z.onClick=P=>{y&&y(P),d.canCloseOnClick&&x(!0)}),{playToast:O,pauseToast:I,isRunning:n,preventExitTransition:r,toastRef:a,eventHandlers:z}}var Cj=typeof window<"u"?M.useLayoutEffect:M.useEffect,Xh=({theme:e,type:n,isLoading:t,...r})=>de.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r});function Ej(e){return de.createElement(Xh,{...e},de.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Nj(e){return de.createElement(Xh,{...e},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function _j(e){return de.createElement(Xh,{...e},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Sj(e){return de.createElement(Xh,{...e},de.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Aj(){return de.createElement("div",{className:"Toastify__spinner"})}var pg={info:Nj,warning:Ej,success:_j,error:Sj,spinner:Aj},Tj=e=>e in pg;function kj({theme:e,type:n,isLoading:t,icon:r}){let i=null,a={theme:e,type:n};return r===!1||(xa(r)?i=r({...a,isLoading:t}):M.isValidElement(r)?i=M.cloneElement(r,a):t?i=pg.spinner():Tj(n)&&(i=pg[n](a))),i}var Dj=e=>{let{isRunning:n,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:a}=bj(e),{closeButton:d,children:g,autoClose:v,onClick:x,type:y,hideProgressBar:E,closeToast:_,transition:T,position:S,className:R,style:O,progressClassName:I,updateId:D,role:j,progress:q,rtl:Q,toastId:z,deleteToast:P,isIn:V,isLoading:W,closeOnClick:se,theme:ce,ariaLabel:ae}=e,ne=yn("Toastify__toast",`Toastify__toast-theme--${ce}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":se}),he=xa(R)?R({rtl:Q,position:S,type:y,defaultClassName:ne}):yn(ne,R),ee=kj(e),ve=!!q||!v,ge={closeToast:_,type:y,theme:ce},ue=null;return d===!1||(xa(d)?ue=d(ge):M.isValidElement(d)?ue=M.cloneElement(d,ge):ue=sj(ge)),de.createElement(T,{isIn:V,done:P,position:S,preventExitTransition:t,nodeRef:r,playToast:a},de.createElement("div",{id:z,tabIndex:0,onClick:x,"data-in":V,className:he,...i,style:O,ref:r,...V&&{role:j,"aria-label":ae}},ee!=null&&de.createElement("div",{className:yn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!W})},ee),mE(g,e,!n),ue,!e.customProgressBar&&de.createElement(aj,{...D&&!ve?{key:`p-${D}`}:{},rtl:Q,theme:ce,delay:v,isRunning:n,isIn:V,closeToast:_,hide:E,type:y,className:I,controlledProgress:ve,progress:q||0})))},Ij=(e,n=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:n}),Rj=ij(Ij("bounce",!0)),jj={position:"top-right",transition:Rj,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Qh(e){let n={...jj,...e},t=e.stacked,[r,i]=M.useState(!0),a=M.useRef(null),{getToastToRender:d,isToastActive:g,count:v}=yj(n),{className:x,style:y,rtl:E,containerId:_,hotKeys:T}=n;function S(O){let I=yn("Toastify__toast-container",`Toastify__toast-container--${O}`,{"Toastify__toast-container--rtl":E});return xa(x)?x({position:O,rtl:E,defaultClassName:I}):yn(I,dg(x))}function R(){t&&(i(!0),rt.play())}return Cj(()=>{var O;if(t){let I=a.current.querySelectorAll('[data-in="true"]'),D=12,j=(O=n.position)==null?void 0:O.includes("top"),q=0,Q=0;Array.from(I).reverse().forEach((z,P)=>{let V=z;V.classList.add("Toastify__toast--stacked"),P>0&&(V.dataset.collapsed=`${r}`),V.dataset.pos||(V.dataset.pos=j?"top":"bot");let W=q*(r?.2:1)+(r?0:D*P);V.style.setProperty("--y",`${j?W:W*-1}px`),V.style.setProperty("--g",`${D}`),V.style.setProperty("--s",`${1-(r?Q:0)}`),q+=V.offsetHeight,Q+=.025})}},[r,v,t]),M.useEffect(()=>{function O(I){var D;let j=a.current;T(I)&&((D=j.querySelector('[tabIndex="0"]'))==null||D.focus(),i(!1),rt.pause()),I.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(i(!0),rt.play())}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[T]),de.createElement("section",{ref:a,className:"Toastify",id:_,onMouseEnter:()=>{t&&(i(!1),rt.pause())},onMouseLeave:R,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":n["aria-label"]},d((O,I)=>{let D=I.length?{...y}:{...y,pointerEvents:"none"};return de.createElement("div",{tabIndex:-1,className:S(O),"data-stacked":t,style:D,key:`c-${O}`},I.map(({content:j,props:q})=>de.createElement(Dj,{...q,stacked:t,collapseAll:R,isIn:g(q.toastId,q.containerId),key:`t-${q.key}`},j)))}))}var bE={exports:{}},Oj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mj=Oj,Lj=Mj;function CE(){}function EE(){}EE.resetWarningCache=CE;var Pj=function(){function e(r,i,a,d,g,v){if(v!==Lj){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}e.isRequired=e;function n(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:EE,resetWarningCache:CE};return t.PropTypes=t,t};bE.exports=Pj();var Fj=bE.exports;const ie=yh(Fj),Zo=async({page:e=1,limit:n=10,type:t,brand:r,status:i,location_id:a,search:d,sortBy:g="updated_at",sortOrder:v="desc",startDate:x,endDate:y})=>{const E={page:e,limit:n};return t&&(E.type=t),r&&(E.brand=r),i&&(E.status=i),a&&(E.location_id=a),d&&(E.search=d),g&&(E.sortBy=g),v&&(E.sortOrder=v),x&&(E.startDate=x),y&&(E.endDate=y),(await Je.get("/api/equipment",{params:E})).data},Kh=async e=>(await Je.get(`/api/equipment/${e}`)).data,qx=async(e,n=[],t=null)=>{const r=new FormData;if(!e.type_id)throw console.error("Missing required field: type_id"),new Error("Equipment type is required");if(!e.brand)throw console.error("Missing required field: brand"),new Error("Brand is required");if(!e.model)throw console.error("Missing required field: model"),new Error("Model is required");if(!e.serial_number)throw console.error("Missing required field: serial_number"),new Error("Serial number is required");const i=Object.fromEntries(Object.entries(e).filter(([a,d])=>d!==void 0));console.log("Creating equipment with data:",i),Object.keys(i).forEach(a=>{a==="type_id"&&typeof i[a]=="string"?r.append(a,parseInt(i[a],10)):r.append(a,i[a])}),t&&r.append("referenceImage",t),n&&n.length>0&&n.forEach(a=>{r.append("files",a)});try{return(await Je.post("/api/equipment",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error in createEquipment:",a),a}},NE=async(e,n,t=[],r=[],i=null,a=!1)=>{try{const d=new FormData,g=Object.fromEntries(Object.entries(n).filter(([y,E])=>E!==void 0));console.log("Full equipment data:",n);const v=["location_id","type_id"];return Object.keys(g).forEach(y=>{y!=="reference_image_id"&&(v.includes(y)&&(g[y]===""||g[y]==="0")?(d.append(y,""),d.append(`${y}_is_null`,"true")):d.append(y,g[y]))}),i&&d.append("referenceImage",i),a&&d.append("removeReferenceImage","true"),t&&t.length>0&&t.forEach(y=>{d.append("files",y)}),r&&r.length>0&&d.append("filesToDelete",JSON.stringify(r)),console.log("Updating equipment with data:",g),console.log("Files to delete:",r),console.log("Reference image file:",i?i.name:"None"),console.log("Remove reference image:",a),(await Je.put(`/api/equipment/${e}`,d,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(d){throw console.error("Error in updateEquipment:",d),d}},Bj=async e=>(await Je.delete(`/api/equipment/${e}`)).data,_E=async e=>{try{console.log(`Deleting file with ID: ${e}`);const n=await Je.delete(`/api/files/${e}`);return console.log("File deletion response:",n.data),n.data}catch(n){throw console.error(`Error deleting file with ID ${e}:`,n),n}},gc=(e,n=!1,t=!0)=>{if(!e)return null;const r=`/api/files/${e}`;let i=n?`${r}?thumbnail=true`:r;return t&&(i+=(i.includes("?")?"&":"?")+`t=${new Date().getTime()}`),i},Uj=async(e,n)=>{try{return console.log(`Updating equipment ${e} status to ${n}`),(await Je.patch(`/api/equipment/${e}/status`,{status:n})).data}catch(t){throw console.error("Error updating equipment status:",t),t}},zj=async(e,n)=>{try{return console.log(`Updating equipment ${e} location:`,n),(await Je.patch(`/api/equipment/${e}/location`,n)).data}catch(t){throw console.error("Error updating equipment location:",t),t}},Wj=async(e,n)=>{try{return console.log(`Updating equipment ${e} type to ${n}`),(await Je.patch(`/api/equipment/${e}/type`,{type_id:n})).data}catch(t){throw console.error("Error updating equipment type:",t),t}},Hj=async(e,n)=>{try{return console.log(`Updating equipment ${e} category to ${n}`),(await Je.patch(`/api/equipment/${e}/category`,{category_id:n})).data}catch(t){throw console.error("Error updating equipment category:",t),t}},qj=async(e,n)=>{try{return console.log(`Updating equipment ${e} brand/model:`,n),(await Je.patch(`/api/equipment/${e}/brand-model`,n)).data}catch(t){throw console.error("Error updating equipment brand/model:",t),t}},Ls=async()=>{try{return(await Je.get("/api/equipment-types")).data.types}catch(e){throw console.error("Error fetching equipment types:",e),e}},Vj=async e=>(await Je.post("/api/equipment-types",{name:e})).data,Yj=async(e,n)=>(await Je.put(`/api/equipment-types/${e}`,{name:n})).data,$j=async e=>(await Je.delete(`/api/equipment-types/${e}`)).data,SE=M.createContext(),Gj=3,AE=({children:e})=>{const[n,t]=M.useState([]),{user:r}=ir(),i=(r==null?void 0:r.role)==="admin",{data:a}=Et(["equipment",{limit:1e3}],()=>Zo({limit:1e3}),{enabled:i,refetchInterval:5*60*1e3,staleTime:4*60*1e3}),{data:d}=Et({queryKey:["equipment-types"],queryFn:Ls,staleTime:3e5,enabled:i});M.useEffect(()=>{if(!i||!(a!=null&&a.equipment)||!(d!=null&&d.types))return;const S=a.equipment,R=d.types,O={};S.forEach(D=>{D.type&&(O[D.type]||(O[D.type]=[]),O[D.type].push(D))});const I=[];Object.entries(O).forEach(([D,j])=>{const q=j.filter(Q=>Q.status==="available");if(q.length<=Gj){const Q=R.find(z=>z.name.toLowerCase()===D.toLowerCase());I.push({id:`low-stock-${D}`,type:"warning",title:"Low Stock Alert",message:`Only ${q.length} ${D} ${q.length===1?"item is":"items are"} available.`,timestamp:new Date,read:!1,typeId:Q==null?void 0:Q.id})}}),I.length>0&&t(D=>[...D.filter(q=>!q.id.startsWith("low-stock-")),...I])},[a,d,i]);const g=S=>{t(R=>[...R,{id:S.id||`notification-${Date.now()}`,timestamp:new Date,read:!1,...S}])},v=S=>{t(R=>R.map(O=>O.id===S?{...O,read:!0}:O))},x=()=>{t(S=>S.map(R=>({...R,read:!0})))},y=S=>{t(R=>R.filter(O=>O.id!==S))},E=()=>{t([])},_=n.filter(S=>!S.read).length,T={notifications:n,unreadCount:_,addNotification:g,markAsRead:v,markAllAsRead:x,removeNotification:y,clearNotifications:E};return c.jsx(SE.Provider,{value:T,children:e})};AE.propTypes={children:ie.node.isRequired};const Xj=()=>{const e=M.useContext(SE);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},Qj=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),Kj=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})}),Zj=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),TE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Jj=({className:e="w-5 h-5"})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),qy=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})}),eO=({className:e="w-5 h-5"})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),kE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125"})}),DE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),IE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})}),tO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),nO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),Vx=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),Vy=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),rO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})}),iO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75a2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),RE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),sO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),aO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),jE=6048e5,oO=864e5,Zh=6e4,Jh=36e5,lO=1e3,Hf=43200,Yy=1440,$y=Symbol.for("constructDateFrom");function Ht(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&$y in e?e[$y](n):e instanceof Date?new e.constructor(n):new Date(n)}function ze(e,n){return Ht(n||e,e)}function cs(e,n,t){const r=ze(e,t==null?void 0:t.in);return isNaN(n)?Ht((t==null?void 0:t.in)||e,NaN):(n&&r.setDate(r.getDate()+n),r)}function ds(e,n,t){const r=ze(e,t==null?void 0:t.in);if(isNaN(n))return Ht((t==null?void 0:t.in)||e,NaN);if(!n)return r;const i=r.getDate(),a=Ht((t==null?void 0:t.in)||e,r.getTime());a.setMonth(r.getMonth()+n+1,0);const d=a.getDate();return i>=d?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function OE(e,n,t){return Ht((t==null?void 0:t.in)||e,+ze(e)+n)}function cO(e,n,t){return OE(e,n*Jh,t)}let uO={};function go(){return uO}function va(e,n){var g,v,x,y;const t=go(),r=(n==null?void 0:n.weekStartsOn)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??t.weekStartsOn??((y=(x=t.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,i=ze(e,n==null?void 0:n.in),a=i.getDay(),d=(a<r?7:0)+a-r;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function xc(e,n){return va(e,{...n,weekStartsOn:1})}function ME(e,n){const t=ze(e,n==null?void 0:n.in),r=t.getFullYear(),i=Ht(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=xc(i),d=Ht(t,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const g=xc(d);return t.getTime()>=a.getTime()?r+1:t.getTime()>=g.getTime()?r:r-1}function vc(e){const n=ze(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function ps(e,...n){const t=Ht.bind(null,e||n.find(r=>typeof r=="object"));return n.map(t)}function cl(e,n){const t=ze(e,n==null?void 0:n.in);return t.setHours(0,0,0,0),t}function wc(e,n,t){const[r,i]=ps(t==null?void 0:t.in,e,n),a=cl(r),d=cl(i),g=+a-vc(a),v=+d-vc(d);return Math.round((g-v)/oO)}function dO(e,n){const t=ME(e,n),r=Ht((n==null?void 0:n.in)||e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),xc(r)}function mg(e,n,t){const r=ze(e,t==null?void 0:t.in);return r.setTime(r.getTime()+n*Zh),r}function Yx(e,n,t){return ds(e,n*3,t)}function fO(e,n,t){return OE(e,n*1e3,t)}function nh(e,n,t){return cs(e,n*7,t)}function la(e,n,t){return ds(e,n*12,t)}function Gy(e,n){let t,r=n==null?void 0:n.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Ht.bind(null,i));const a=ze(i,r);(!t||t<a||isNaN(+a))&&(t=a)}),Ht(r,t||NaN)}function Xy(e,n){let t,r=n==null?void 0:n.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Ht.bind(null,i));const a=ze(i,r);(!t||t>a||isNaN(+a))&&(t=a)}),Ht(r,t||NaN)}function m0(e,n){const t=+ze(e)-+ze(n);return t<0?-1:t>0?1:t}function hO(e){return Ht(e,Date.now())}function pO(e,n,t){const[r,i]=ps(t==null?void 0:t.in,e,n);return+cl(r)==+cl(i)}function ca(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rh(e){return!(!ca(e)&&typeof e!="number"||isNaN(+ze(e)))}function ld(e,n,t){const[r,i]=ps(t==null?void 0:t.in,e,n),a=r.getFullYear()-i.getFullYear(),d=r.getMonth()-i.getMonth();return a*12+d}function Jo(e,n){const t=ze(e,n==null?void 0:n.in);return Math.trunc(t.getMonth()/3)+1}function ih(e,n,t){const[r,i]=ps(t==null?void 0:t.in,e,n),a=r.getFullYear()-i.getFullYear(),d=Jo(r)-Jo(i);return a*4+d}function sh(e,n,t){const[r,i]=ps(t==null?void 0:t.in,e,n);return r.getFullYear()-i.getFullYear()}function mO(e,n,t){const[r,i]=ps(t==null?void 0:t.in,e,n),a=Qy(r,i),d=Math.abs(wc(r,i));r.setDate(r.getDate()-a*d);const g=+(Qy(r,i)===-a),v=a*(d-g);return v===0?0:v}function Qy(e,n){const t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function gO(e){return n=>{const r=(e?Math[e]:Math.trunc)(n);return r===0?0:r}}function xO(e,n){return+ze(e)-+ze(n)}function $x(e,n){const t=ze(e,n==null?void 0:n.in);return t.setHours(23,59,59,999),t}function Gx(e,n){const t=ze(e,n==null?void 0:n.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function vO(e,n){const t=ze(e,n==null?void 0:n.in);return+$x(t,n)==+Gx(t,n)}function wO(e,n,t){const[r,i,a]=ps(t==null?void 0:t.in,e,e,n),d=m0(i,a),g=Math.abs(ld(i,a));if(g<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-d*g);let v=m0(i,a)===-d;vO(r)&&g===1&&m0(r,a)===1&&(v=!1);const x=d*(g-+v);return x===0?0:x}function yO(e,n,t){const r=xO(e,n)/1e3;return gO(t==null?void 0:t.roundingMethod)(r)}function gg(e,n){const t=ze(e,n==null?void 0:n.in),r=t.getMonth(),i=r-r%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function LE(e,n){const t=ze(e,n==null?void 0:n.in);return t.setDate(1),t.setHours(0,0,0,0),t}function PE(e,n){const t=ze(e,n==null?void 0:n.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function ep(e,n){const t=ze(e,n==null?void 0:n.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function bO(e,n){var g,v,x,y;const t=go(),r=(n==null?void 0:n.weekStartsOn)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??t.weekStartsOn??((y=(x=t.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,i=ze(e,n==null?void 0:n.in),a=i.getDay(),d=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}const CO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},EO=(e,n,t)=>{let r;const i=CO[e];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function q1(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const NO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_O={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},SO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},AO={date:q1({formats:NO,defaultWidth:"full"}),time:q1({formats:_O,defaultWidth:"full"}),dateTime:q1({formats:SO,defaultWidth:"full"})},TO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kO=(e,n,t,r)=>TO[e];function bu(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,g=t!=null&&t.width?String(t.width):d;i=e.formattingValues[g]||e.formattingValues[d]}else{const d=e.defaultWidth,g=t!=null&&t.width?String(t.width):e.defaultWidth;i=e.values[g]||e.values[d]}const a=e.argumentCallback?e.argumentCallback(n):n;return i[a]}}const DO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},MO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LO=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},PO={ordinalNumber:LO,era:bu({values:DO,defaultWidth:"wide"}),quarter:bu({values:IO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:bu({values:RO,defaultWidth:"wide"}),day:bu({values:jO,defaultWidth:"wide"}),dayPeriod:bu({values:OO,defaultWidth:"wide",formattingValues:MO,defaultFormattingWidth:"wide"})};function Cu(e){return(n,t={})=>{const r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=n.match(i);if(!a)return null;const d=a[0],g=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],v=Array.isArray(g)?BO(g,E=>E.test(d)):FO(g,E=>E.test(d));let x;x=e.valueCallback?e.valueCallback(v):v,x=t.valueCallback?t.valueCallback(x):x;const y=n.slice(d.length);return{value:x,rest:y}}}function FO(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function BO(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function UO(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const i=r[0],a=n.match(e.parsePattern);if(!a)return null;let d=e.valueCallback?e.valueCallback(a[0]):a[0];d=t.valueCallback?t.valueCallback(d):d;const g=n.slice(i.length);return{value:d,rest:g}}}const zO=/^(\d+)(th|st|nd|rd)?/i,WO=/\d+/i,HO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qO={any:[/^b/i,/^(a|c)/i]},VO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YO={any:[/1/i,/2/i,/3/i,/4/i]},$O={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},XO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},QO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ZO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},JO={ordinalNumber:UO({matchPattern:zO,parsePattern:WO,valueCallback:e=>parseInt(e,10)}),era:Cu({matchPatterns:HO,defaultMatchWidth:"wide",parsePatterns:qO,defaultParseWidth:"any"}),quarter:Cu({matchPatterns:VO,defaultMatchWidth:"wide",parsePatterns:YO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Cu({matchPatterns:$O,defaultMatchWidth:"wide",parsePatterns:GO,defaultParseWidth:"any"}),day:Cu({matchPatterns:XO,defaultMatchWidth:"wide",parsePatterns:QO,defaultParseWidth:"any"}),dayPeriod:Cu({matchPatterns:KO,defaultMatchWidth:"any",parsePatterns:ZO,defaultParseWidth:"any"})},Xx={code:"en-US",formatDistance:EO,formatLong:AO,formatRelative:kO,localize:PO,match:JO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eM(e,n){const t=ze(e,n==null?void 0:n.in);return wc(t,ep(t))+1}function Qx(e,n){const t=ze(e,n==null?void 0:n.in),r=+xc(t)-+dO(t);return Math.round(r/jE)+1}function Kx(e,n){var y,E,_,T;const t=ze(e,n==null?void 0:n.in),r=t.getFullYear(),i=go(),a=(n==null?void 0:n.firstWeekContainsDate)??((E=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??i.firstWeekContainsDate??((T=(_=i.locale)==null?void 0:_.options)==null?void 0:T.firstWeekContainsDate)??1,d=Ht((n==null?void 0:n.in)||e,0);d.setFullYear(r+1,0,a),d.setHours(0,0,0,0);const g=va(d,n),v=Ht((n==null?void 0:n.in)||e,0);v.setFullYear(r,0,a),v.setHours(0,0,0,0);const x=va(v,n);return+t>=+g?r+1:+t>=+x?r:r-1}function tM(e,n){var g,v,x,y;const t=go(),r=(n==null?void 0:n.firstWeekContainsDate)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(x=t.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,i=Kx(e,n),a=Ht((n==null?void 0:n.in)||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),va(a,n)}function FE(e,n){const t=ze(e,n==null?void 0:n.in),r=+va(t,n)-+tM(t,n);return Math.round(r/jE)+1}function Kt(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const Pa={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return Kt(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):Kt(t+1,2)},d(e,n){return Kt(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return Kt(e.getHours()%12||12,n.length)},H(e,n){return Kt(e.getHours(),n.length)},m(e,n){return Kt(e.getMinutes(),n.length)},s(e,n){return Kt(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Kt(i,n.length)}},Pl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ky={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Pa.y(e,n)},Y:function(e,n,t,r){const i=Kx(e,r),a=i>0?i:1-i;if(n==="YY"){const d=a%100;return Kt(d,2)}return n==="Yo"?t.ordinalNumber(a,{unit:"year"}):Kt(a,n.length)},R:function(e,n){const t=ME(e);return Kt(t,n.length)},u:function(e,n){const t=e.getFullYear();return Kt(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Kt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Kt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return Pa.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return Kt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const i=FE(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):Kt(i,n.length)},I:function(e,n,t){const r=Qx(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Kt(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):Pa.d(e,n)},D:function(e,n,t){const r=eM(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Kt(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Kt(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Kt(a,n.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return Kt(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const i=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let i;switch(r===12?i=Pl.noon:r===0?i=Pl.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let i;switch(r>=17?i=Pl.evening:r>=12?i=Pl.afternoon:r>=4?i=Pl.morning:i=Pl.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Pa.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):Pa.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Kt(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Kt(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pa.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):Pa.s(e,n)},S:function(e,n){return Pa.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return Jy(r);case"XXXX":case"XX":return Wo(r);case"XXXXX":case"XXX":default:return Wo(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return Jy(r);case"xxxx":case"xx":return Wo(r);case"xxxxx":case"xxx":default:return Wo(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Zy(r,":");case"OOOO":default:return"GMT"+Wo(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Zy(r,":");case"zzzz":default:return"GMT"+Wo(r,":")}},t:function(e,n,t){const r=Math.trunc(+e/1e3);return Kt(r,n.length)},T:function(e,n,t){return Kt(+e,n.length)}};function Zy(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+n+Kt(a,2)}function Jy(e,n){return e%60===0?(e>0?"-":"+")+Kt(Math.abs(e)/60,2):Wo(e,n)}function Wo(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Kt(Math.trunc(r/60),2),a=Kt(r%60,2);return t+i+n+a}const eb=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},BE=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},nM=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return eb(e,n);let a;switch(r){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",eb(r,n)).replace("{{time}}",BE(i,n))},xg={p:BE,P:nM},rM=/^D+$/,iM=/^Y+$/,sM=["D","DD","YY","YYYY"];function UE(e){return rM.test(e)}function zE(e){return iM.test(e)}function vg(e,n,t){const r=aM(e,n,t);if(console.warn(r),sM.includes(e))throw new RangeError(r)}function aM(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cM=/^'([^]*?)'?$/,uM=/''/g,dM=/[a-zA-Z]/;function cd(e,n,t){var y,E,_,T,S,R,O,I;const r=go(),i=(t==null?void 0:t.locale)??r.locale??Xx,a=(t==null?void 0:t.firstWeekContainsDate)??((E=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??r.firstWeekContainsDate??((T=(_=r.locale)==null?void 0:_.options)==null?void 0:T.firstWeekContainsDate)??1,d=(t==null?void 0:t.weekStartsOn)??((R=(S=t==null?void 0:t.locale)==null?void 0:S.options)==null?void 0:R.weekStartsOn)??r.weekStartsOn??((I=(O=r.locale)==null?void 0:O.options)==null?void 0:I.weekStartsOn)??0,g=ze(e,t==null?void 0:t.in);if(!rh(g))throw new RangeError("Invalid time value");let v=n.match(lM).map(D=>{const j=D[0];if(j==="p"||j==="P"){const q=xg[j];return q(D,i.formatLong)}return D}).join("").match(oM).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const j=D[0];if(j==="'")return{isToken:!1,value:fM(D)};if(Ky[j])return{isToken:!0,value:D};if(j.match(dM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:D}});i.localize.preprocessor&&(v=i.localize.preprocessor(g,v));const x={firstWeekContainsDate:a,weekStartsOn:d,locale:i};return v.map(D=>{if(!D.isToken)return D.value;const j=D.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&zE(j)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&UE(j))&&vg(j,n,String(e));const q=Ky[j[0]];return q(g,j,i.localize,x)}).join("")}function fM(e){const n=e.match(cM);return n?n[1].replace(uM,"'"):e}function hM(e,n,t){const r=go(),i=(t==null?void 0:t.locale)??r.locale??Xx,a=2520,d=m0(e,n);if(isNaN(d))throw new RangeError("Invalid time value");const g=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:d}),[v,x]=ps(t==null?void 0:t.in,...d>0?[n,e]:[e,n]),y=yO(x,v),E=(vc(x)-vc(v))/1e3,_=Math.round((y-E)/60);let T;if(_<2)return t!=null&&t.includeSeconds?y<5?i.formatDistance("lessThanXSeconds",5,g):y<10?i.formatDistance("lessThanXSeconds",10,g):y<20?i.formatDistance("lessThanXSeconds",20,g):y<40?i.formatDistance("halfAMinute",0,g):y<60?i.formatDistance("lessThanXMinutes",1,g):i.formatDistance("xMinutes",1,g):_===0?i.formatDistance("lessThanXMinutes",1,g):i.formatDistance("xMinutes",_,g);if(_<45)return i.formatDistance("xMinutes",_,g);if(_<90)return i.formatDistance("aboutXHours",1,g);if(_<Yy){const S=Math.round(_/60);return i.formatDistance("aboutXHours",S,g)}else{if(_<a)return i.formatDistance("xDays",1,g);if(_<Hf){const S=Math.round(_/Yy);return i.formatDistance("xDays",S,g)}else if(_<Hf*2)return T=Math.round(_/Hf),i.formatDistance("aboutXMonths",T,g)}if(T=wO(x,v),T<12){const S=Math.round(_/Hf);return i.formatDistance("xMonths",S,g)}else{const S=T%12,R=Math.trunc(T/12);return S<3?i.formatDistance("aboutXYears",R,g):S<9?i.formatDistance("overXYears",R,g):i.formatDistance("almostXYears",R+1,g)}}function pM(e,n){return hM(e,hO(e),n)}function tb(e,n){return ze(e,n==null?void 0:n.in).getDate()}function mM(e,n){return ze(e,n==null?void 0:n.in).getDay()}function gM(e,n){const t=ze(e,n==null?void 0:n.in),r=t.getFullYear(),i=t.getMonth(),a=Ht(t,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function xM(){return Object.assign({},go())}function ua(e,n){return ze(e,n==null?void 0:n.in).getHours()}function vM(e,n){const t=ze(e,n==null?void 0:n.in).getDay();return t===0?7:t}function da(e,n){return ze(e,n==null?void 0:n.in).getMinutes()}function Rr(e,n){return ze(e,n==null?void 0:n.in).getMonth()}function so(e){return ze(e).getSeconds()}function wg(e){return+ze(e)}function mt(e,n){return ze(e,n==null?void 0:n.in).getFullYear()}function co(e,n){return+ze(e)>+ze(n)}function ul(e,n){return+ze(e)<+ze(n)}function wM(e,n){return+ze(e)==+ze(n)}function yM(e,n){const t=bM(n)?new n(0):Ht(n,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function bM(e){var n;return typeof e=="function"&&((n=e.prototype)==null?void 0:n.constructor)===e}const CM=10;class WE{constructor(){Pe(this,"subPriority",0)}validate(n,t){return!0}}class EM extends WE{constructor(n,t,r,i,a){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class NM extends WE{constructor(t,r){super();Pe(this,"priority",CM);Pe(this,"subPriority",-1);this.context=t||(i=>Ht(r,i))}set(t,r){return r.timestampIsSet?t:Ht(t,yM(t,this.context))}}class Bt{run(n,t,r,i){const a=this.parse(n,t,r,i);return a?{setter:new EM(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,t,r){return!0}}class _M extends Bt{constructor(){super(...arguments);Pe(this,"priority",140);Pe(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Wn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ks={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Hn(e,n){return e&&{value:n(e.value),rest:e.rest}}function _n(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function Ds(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,d=t[5]?parseInt(t[5],10):0;return{value:r*(i*Jh+a*Zh+d*lO),rest:n.slice(t[0].length)}}function HE(e){return _n(Wn.anyDigitsSigned,e)}function Mn(e,n){switch(e){case 1:return _n(Wn.singleDigit,n);case 2:return _n(Wn.twoDigits,n);case 3:return _n(Wn.threeDigits,n);case 4:return _n(Wn.fourDigits,n);default:return _n(new RegExp("^\\d{1,"+e+"}"),n)}}function ah(e,n){switch(e){case 1:return _n(Wn.singleDigitSigned,n);case 2:return _n(Wn.twoDigitsSigned,n);case 3:return _n(Wn.threeDigitsSigned,n);case 4:return _n(Wn.fourDigitsSigned,n);default:return _n(new RegExp("^-?\\d{1,"+e+"}"),n)}}function Zx(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function qE(e,n){const t=n>0,r=t?n:1-n;let i;if(r<=50)i=e||100;else{const a=r+50,d=Math.trunc(a/100)*100,g=e>=a%100;i=e+d-(g?100:0)}return t?i:1-i}function VE(e){return e%400===0||e%4===0&&e%100!==0}class SM extends Bt{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const a=d=>({year:d,isTwoDigitYear:r==="yy"});switch(r){case"y":return Hn(Mn(4,t),a);case"yo":return Hn(i.ordinalNumber(t,{unit:"year"}),a);default:return Hn(Mn(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const a=t.getFullYear();if(i.isTwoDigitYear){const g=qE(i.year,a);return t.setFullYear(g,0,1),t.setHours(0,0,0,0),t}const d=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(d,0,1),t.setHours(0,0,0,0),t}}class AM extends Bt{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const a=d=>({year:d,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Hn(Mn(4,t),a);case"Yo":return Hn(i.ordinalNumber(t,{unit:"year"}),a);default:return Hn(Mn(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,a){const d=Kx(t,a);if(i.isTwoDigitYear){const v=qE(i.year,d);return t.setFullYear(v,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),va(t,a)}const g=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(g,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),va(t,a)}}class TM extends Bt{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return ah(r==="R"?4:r.length,t)}set(t,r,i){const a=Ht(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),xc(a)}}class kM extends Bt{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return ah(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class DM extends Bt{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Mn(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class IM extends Bt{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Mn(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class RM extends Bt{constructor(){super(...arguments);Pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Pe(this,"priority",110)}parse(t,r,i){const a=d=>d-1;switch(r){case"M":return Hn(_n(Wn.month,t),a);case"MM":return Hn(Mn(2,t),a);case"Mo":return Hn(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class jM extends Bt{constructor(){super(...arguments);Pe(this,"priority",110);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const a=d=>d-1;switch(r){case"L":return Hn(_n(Wn.month,t),a);case"LL":return Hn(Mn(2,t),a);case"Lo":return Hn(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function OM(e,n,t){const r=ze(e,t==null?void 0:t.in),i=FE(r,t)-n;return r.setDate(r.getDate()-i*7),ze(r,t==null?void 0:t.in)}class MM extends Bt{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return _n(Wn.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Mn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,a){return va(OM(t,i,a),a)}}function LM(e,n,t){const r=ze(e,t==null?void 0:t.in),i=Qx(r,t)-n;return r.setDate(r.getDate()-i*7),r}class PM extends Bt{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return _n(Wn.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Mn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return xc(LM(t,i))}}const FM=[31,28,31,30,31,30,31,31,30,31,30,31],BM=[31,29,31,30,31,30,31,31,30,31,30,31];class UM extends Bt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subPriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return _n(Wn.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Mn(r.length,t)}}validate(t,r){const i=t.getFullYear(),a=VE(i),d=t.getMonth();return a?r>=1&&r<=BM[d]:r>=1&&r<=FM[d]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class zM extends Bt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subpriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return _n(Wn.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Mn(r.length,t)}}validate(t,r){const i=t.getFullYear();return VE(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function Jx(e,n,t){var E,_,T,S;const r=go(),i=(t==null?void 0:t.weekStartsOn)??((_=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((S=(T=r.locale)==null?void 0:T.options)==null?void 0:S.weekStartsOn)??0,a=ze(e,t==null?void 0:t.in),d=a.getDay(),v=(n%7+7)%7,x=7-i,y=n<0||n>6?n-(d+x)%7:(v+x)%7-(d+x)%7;return cs(a,y,t)}class WM extends Bt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=Jx(t,i,a),t.setHours(0,0,0,0),t}}class HM extends Bt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,a){const d=g=>{const v=Math.floor((g-1)/7)*7;return(g+a.weekStartsOn+6)%7+v};switch(r){case"e":case"ee":return Hn(Mn(r.length,t),d);case"eo":return Hn(i.ordinalNumber(t,{unit:"day"}),d);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=Jx(t,i,a),t.setHours(0,0,0,0),t}}class qM extends Bt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,a){const d=g=>{const v=Math.floor((g-1)/7)*7;return(g+a.weekStartsOn+6)%7+v};switch(r){case"c":case"cc":return Hn(Mn(r.length,t),d);case"co":return Hn(i.ordinalNumber(t,{unit:"day"}),d);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=Jx(t,i,a),t.setHours(0,0,0,0),t}}function VM(e,n,t){const r=ze(e,t==null?void 0:t.in),i=vM(r,t),a=n-i;return cs(r,a,t)}class YM extends Bt{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const a=d=>d===0?7:d;switch(r){case"i":case"ii":return Mn(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Hn(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return Hn(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Hn(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Hn(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=VM(t,i),t.setHours(0,0,0,0),t}}class $M extends Bt{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(Zx(i),0,0,0),t}}class GM extends Bt{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(Zx(i),0,0,0),t}}class XM extends Bt{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(Zx(i),0,0,0),t}}class QM extends Bt{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return _n(Wn.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Mn(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class KM extends Bt{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return _n(Wn.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Mn(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class ZM extends Bt{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return _n(Wn.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Mn(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class JM extends Bt{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return _n(Wn.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Mn(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class e9 extends Bt{constructor(){super(...arguments);Pe(this,"priority",60);Pe(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return _n(Wn.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Mn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class t9 extends Bt{constructor(){super(...arguments);Pe(this,"priority",50);Pe(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return _n(Wn.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Mn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class n9 extends Bt{constructor(){super(...arguments);Pe(this,"priority",30);Pe(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return Hn(Mn(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class r9 extends Bt{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Ds(ks.basicOptionalMinutes,t);case"XX":return Ds(ks.basic,t);case"XXXX":return Ds(ks.basicOptionalSeconds,t);case"XXXXX":return Ds(ks.extendedOptionalSeconds,t);case"XXX":default:return Ds(ks.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Ht(t,t.getTime()-vc(t)-i)}}class i9 extends Bt{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Ds(ks.basicOptionalMinutes,t);case"xx":return Ds(ks.basic,t);case"xxxx":return Ds(ks.basicOptionalSeconds,t);case"xxxxx":return Ds(ks.extendedOptionalSeconds,t);case"xxx":default:return Ds(ks.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Ht(t,t.getTime()-vc(t)-i)}}class s9 extends Bt{constructor(){super(...arguments);Pe(this,"priority",40);Pe(this,"incompatibleTokens","*")}parse(t){return HE(t)}set(t,r,i){return[Ht(t,i*1e3),{timestampIsSet:!0}]}}class a9 extends Bt{constructor(){super(...arguments);Pe(this,"priority",20);Pe(this,"incompatibleTokens","*")}parse(t){return HE(t)}set(t,r,i){return[Ht(t,i),{timestampIsSet:!0}]}}const o9={G:new _M,y:new SM,Y:new AM,R:new TM,u:new kM,Q:new DM,q:new IM,M:new RM,L:new jM,w:new MM,I:new PM,d:new UM,D:new zM,E:new WM,e:new HM,c:new qM,i:new YM,a:new $M,b:new GM,B:new XM,h:new QM,H:new KM,K:new ZM,k:new JM,m:new e9,s:new t9,S:new n9,X:new r9,x:new i9,t:new s9,T:new a9},l9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u9=/^'([^]*?)'?$/,d9=/''/g,f9=/\S/,h9=/[a-zA-Z]/;function p9(e,n,t,r){var O,I,D,j,q,Q,z,P;const i=()=>Ht((r==null?void 0:r.in)||t,NaN),a=xM(),d=(r==null?void 0:r.locale)??a.locale??Xx,g=(r==null?void 0:r.firstWeekContainsDate)??((I=(O=r==null?void 0:r.locale)==null?void 0:O.options)==null?void 0:I.firstWeekContainsDate)??a.firstWeekContainsDate??((j=(D=a.locale)==null?void 0:D.options)==null?void 0:j.firstWeekContainsDate)??1,v=(r==null?void 0:r.weekStartsOn)??((Q=(q=r==null?void 0:r.locale)==null?void 0:q.options)==null?void 0:Q.weekStartsOn)??a.weekStartsOn??((P=(z=a.locale)==null?void 0:z.options)==null?void 0:P.weekStartsOn)??0;if(!n)return e?i():ze(t,r==null?void 0:r.in);const x={firstWeekContainsDate:g,weekStartsOn:v,locale:d},y=[new NM(r==null?void 0:r.in,t)],E=n.match(c9).map(V=>{const W=V[0];if(W in xg){const se=xg[W];return se(V,d.formatLong)}return V}).join("").match(l9),_=[];for(let V of E){!(r!=null&&r.useAdditionalWeekYearTokens)&&zE(V)&&vg(V,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&UE(V)&&vg(V,n,e);const W=V[0],se=o9[W];if(se){const{incompatibleTokens:ce}=se;if(Array.isArray(ce)){const ne=_.find(he=>ce.includes(he.token)||he.token===W);if(ne)throw new RangeError(`The format string mustn't contain \`${ne.fullToken}\` and \`${V}\` at the same time`)}else if(se.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${V}\` and any other token at the same time`);_.push({token:W,fullToken:V});const ae=se.run(e,V,d.match,x);if(!ae)return i();y.push(ae.setter),e=ae.rest}else{if(W.match(h9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");if(V==="''"?V="'":W==="'"&&(V=m9(V)),e.indexOf(V)===0)e=e.slice(V.length);else return i()}}if(e.length>0&&f9.test(e))return i();const T=y.map(V=>V.priority).sort((V,W)=>W-V).filter((V,W,se)=>se.indexOf(V)===W).map(V=>y.filter(W=>W.priority===V).sort((W,se)=>se.subPriority-W.subPriority)).map(V=>V[0]);let S=ze(t,r==null?void 0:r.in);if(isNaN(+S))return i();const R={};for(const V of T){if(!V.validate(S,x))return i();const W=V.set(S,R,x);Array.isArray(W)?(S=W[0],Object.assign(R,W[1])):S=W}return S}function m9(e){return e.match(u9)[1].replace(d9,"'")}function g9(e,n,t){const[r,i]=ps(t==null?void 0:t.in,e,n);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function x9(e,n,t){const[r,i]=ps(t==null?void 0:t.in,e,n);return+gg(r)==+gg(i)}function v9(e,n,t){const[r,i]=ps(t==null?void 0:t.in,e,n);return r.getFullYear()===i.getFullYear()}function ud(e,n,t){const r=+ze(e,t==null?void 0:t.in),[i,a]=[+ze(n.start,t==null?void 0:t.in),+ze(n.end,t==null?void 0:t.in)].sort((d,g)=>d-g);return r>=i&&r<=a}function w9(e,n,t){return cs(e,-n,t)}function y9(e,n){const t=()=>Ht(n==null?void 0:n.in,NaN),r=(n==null?void 0:n.additionalDigits)??2,i=N9(e);let a;if(i.date){const x=_9(i.date,r);a=S9(x.restDateString,x.year)}if(!a||isNaN(+a))return t();const d=+a;let g=0,v;if(i.time&&(g=A9(i.time),isNaN(g)))return t();if(i.timezone){if(v=T9(i.timezone),isNaN(v))return t()}else{const x=new Date(d+g),y=ze(0,n==null?void 0:n.in);return y.setFullYear(x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()),y.setHours(x.getUTCHours(),x.getUTCMinutes(),x.getUTCSeconds(),x.getUTCMilliseconds()),y}return ze(d+g+v,n==null?void 0:n.in)}const qf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},b9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,C9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,E9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function N9(e){const n={},t=e.split(qf.dateTimeDelimiter);let r;if(t.length>2)return n;if(/:/.test(t[0])?r=t[0]:(n.date=t[0],r=t[1],qf.timeZoneDelimiter.test(n.date)&&(n.date=e.split(qf.timeZoneDelimiter)[0],r=e.substr(n.date.length,e.length))),r){const i=qf.timezone.exec(r);i?(n.time=r.replace(i[1],""),n.timezone=i[1]):n.time=r}return n}function _9(e,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),r=e.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function S9(e,n){if(n===null)return new Date(NaN);const t=e.match(b9);if(!t)return new Date(NaN);const r=!!t[4],i=Eu(t[1]),a=Eu(t[2])-1,d=Eu(t[3]),g=Eu(t[4]),v=Eu(t[5])-1;if(r)return j9(n,g,v)?k9(n,g,v):new Date(NaN);{const x=new Date(0);return!I9(n,a,d)||!R9(n,i)?new Date(NaN):(x.setUTCFullYear(n,a,Math.max(i,d)),x)}}function Eu(e){return e?parseInt(e):1}function A9(e){const n=e.match(C9);if(!n)return NaN;const t=V1(n[1]),r=V1(n[2]),i=V1(n[3]);return O9(t,r,i)?t*Jh+r*Zh+i*1e3:NaN}function V1(e){return e&&parseFloat(e.replace(",","."))||0}function T9(e){if(e==="Z")return 0;const n=e.match(E9);if(!n)return 0;const t=n[1]==="+"?-1:1,r=parseInt(n[2]),i=n[3]&&parseInt(n[3])||0;return M9(r,i)?t*(r*Jh+i*Zh):NaN}function k9(e,n,t){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(n-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const D9=[31,null,31,30,31,30,31,31,30,31,30,31];function YE(e){return e%400===0||e%4===0&&e%100!==0}function I9(e,n,t){return n>=0&&n<=11&&t>=1&&t<=(D9[n]||(YE(e)?29:28))}function R9(e,n){return n>=1&&n<=(YE(e)?366:365)}function j9(e,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function O9(e,n,t){return e===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&e>=0&&e<25}function M9(e,n){return n>=0&&n<=59}function Bi(e,n,t){const r=ze(e,t==null?void 0:t.in),i=r.getFullYear(),a=r.getDate(),d=Ht((t==null?void 0:t.in)||e,0);d.setFullYear(i,n,15),d.setHours(0,0,0,0);const g=gM(d);return r.setMonth(n,Math.min(a,g)),r}function g0(e,n,t){const r=ze(e,t==null?void 0:t.in);return r.setHours(n),r}function x0(e,n,t){const r=ze(e,t==null?void 0:t.in);return r.setMinutes(n),r}function Fl(e,n,t){const r=ze(e,t==null?void 0:t.in),i=Math.trunc(r.getMonth()/3)+1,a=n-i;return Bi(r,r.getMonth()+a*3)}function v0(e,n,t){const r=ze(e,t==null?void 0:t.in);return r.setSeconds(n),r}function _s(e,n,t){const r=ze(e,t==null?void 0:t.in);return isNaN(+r)?Ht((t==null?void 0:t.in)||e,NaN):(r.setFullYear(n),r)}function el(e,n,t){return ds(e,-n,t)}function $E(e,n,t){return Yx(e,-n,t)}function nb(e,n,t){return nh(e,-n,t)}function yc(e,n,t){return la(e,-n,t)}const L9=()=>{const[e,n]=M.useState(!1),t=M.useRef(null),{notifications:r,unreadCount:i,markAsRead:a,markAllAsRead:d,clearNotifications:g}=Xj();M.useEffect(()=>{const E=_=>{t.current&&!t.current.contains(_.target)&&n(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const v=()=>{n(!e)},x=E=>{a(E.id),n(!1)},y=E=>{switch(E){case"warning":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"success":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}};return c.jsxs("div",{className:"relative",ref:t,children:[c.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-800 focus:outline-none",onClick:v,"aria-label":`Notifications ${i>0?`(${i} unread)`:""}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),i>0&&c.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:i})]}),e&&c.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:c.jsxs("div",{className:"py-2",children:[c.jsxs("div",{className:"px-4 py-2 bg-gray-100 flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Notifications"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:d,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"}),c.jsx("button",{onClick:g,className:"text-xs text-red-600 hover:text-red-800",children:"Clear all"})]})]}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.length===0?c.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No notifications"}):r.map(E=>c.jsx("div",{className:`px-4 py-3 border-b border-gray-100 ${E.read?"":"bg-blue-50"}`,onClick:()=>x(E),children:c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0",children:y(E.type)}),c.jsxs("div",{className:"ml-3 w-0 flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.title}),c.jsx("p",{className:"text-sm text-gray-600",children:E.message}),E.typeId&&c.jsx(ur,{to:`/equipment?type=${E.typeId}`,className:"text-xs text-blue-600 hover:text-blue-800 mt-1 inline-block",onClick:_=>_.stopPropagation(),children:"View equipment"}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:pM(new Date(E.timestamp),{addSuffix:!0})})]})]})},E.id))})]})})]})},P9=({toggleSidebar:e})=>{const{user:n,logout:t,isImpersonating:r}=ir(),i=fs(),a=()=>{t(),i("/login")};return c.jsx("nav",{className:"bg-white text-slate-800 shadow-soft sticky top-0 z-30 border-b border-slate-200 h-16",children:c.jsx("div",{className:"container-app py-0",children:c.jsxs("div",{className:"flex justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsxs(ur,{to:"/",className:"flex-shrink-0 flex items-center gap-2",children:[c.jsx("img",{src:"/bird-logo.svg",alt:"Theater Equipment Logo",className:"w-8 h-8"}),c.jsx("span",{className:"text-xl font-bold text-slate-800",children:"Equipment Inventory"})]})}),n?c.jsx("div",{className:"flex items-center",children:c.jsxs("div",{className:"flex items-center gap-3",children:[n.role==="admin"&&c.jsx(L9,{}),c.jsxs("div",{className:"px-3 py-1 rounded-full bg-slate-100 text-slate-700 text-sm flex items-center",children:[c.jsx("span",{className:"font-medium",children:n.username}),c.jsx("span",{className:"ml-1 text-xs px-1.5 py-0.5 bg-primary-100 text-primary-700 rounded-full",children:n.role}),r()&&c.jsx("span",{className:"ml-1 text-xs bg-yellow-100 text-yellow-700 px-1.5 py-0.5 rounded-full border border-yellow-200",children:"Impersonating"})]}),c.jsxs("button",{onClick:a,className:"nav-link text-slate-600 hover:text-red-600","aria-label":"Logout",children:[c.jsx(qy,{}),c.jsx("span",{className:"hidden md:inline",children:r()?"End Impersonation":"Logout"})]})]})}):c.jsx("div",{className:"flex items-center",children:c.jsxs(ur,{to:"/login",className:"btn btn-primary",children:[c.jsx(qy,{className:"rotate-180"}),c.jsx("span",{children:"Login"})]})})]})})})},F9=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:c.jsx("polyline",{points:"9 18 15 12 9 6"})}),B9=({isOpen:e,isCollapsed:n,toggleSidebar:t,toggleCollapse:r})=>{const{isAdmin:i,isAdvanced:a}=ir(),d=Ic();M.useEffect(()=>{const v=()=>{window.innerWidth<768&&e&&t(!1)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[e,t]);const g=v=>d.pathname===v;return c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1),style:{opacity:e?1:0}}),c.jsxs("aside",{className:`sidebar ${e?"":"sidebar-hidden"} ${n?"sidebar-collapsed":"sidebar-expanded"}`,children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-2",children:[!n&&c.jsx("span",{className:"text-lg font-semibold text-slate-800",children:"Navigation"}),c.jsxs("div",{className:"flex",children:[c.jsx("button",{onClick:()=>r(!n),className:"sidebar-collapse-btn","aria-label":n?"Expand sidebar":"Collapse sidebar",children:n?c.jsx(F9,{className:"w-4 h-4"}):c.jsx(nO,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>t(!e),className:"sidebar-toggle-btn md:hidden","aria-label":e?"Hide sidebar":"Show sidebar",children:c.jsx(tO,{className:"w-4 h-4"})})]})]}),c.jsxs("nav",{className:"sidebar-nav",children:[c.jsxs(ur,{to:"/dashboard",className:`sidebar-nav-item ${g("/dashboard")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Dashboard",children:[c.jsx(Qj,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Dashboard"})]}),c.jsxs(ur,{to:"/equipment",className:`sidebar-nav-item ${g("/equipment")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Equipment",children:[c.jsx(Kj,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Equipment"})]}),i()&&c.jsxs(c.Fragment,{children:[c.jsxs(ur,{to:"/admin",className:`sidebar-nav-item ${g("/admin")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Admin",children:[c.jsx(Zj,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Admin"})]}),c.jsxs(ur,{to:"/equipment-logs",className:`sidebar-nav-item ${g("/equipment-logs")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Equipment Logs",children:[c.jsx(iO,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Equipment Logs"})]})]}),(i()||a())&&c.jsxs(ur,{to:"/equipment/new",className:`sidebar-nav-item ${g("/equipment/new")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Add Equipment",children:[c.jsx(TE,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Add Equipment"})]}),c.jsxs(ur,{to:"/settings",className:`sidebar-nav-item ${g("/settings")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Settings",children:[c.jsx(Jj,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Settings"})]})]})]})]})},U9=()=>{const{user:e,isImpersonating:n,logout:t}=ir();return n()?c.jsx("div",{className:"bg-yellow-500 text-white py-2",children:c.jsxs("div",{className:"container-app py-0 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold",children:"Impersonation Mode:"})," You are currently viewing the application as ",e.username," (",e.role,")"]}),c.jsx("button",{onClick:t,className:"bg-white text-yellow-700 px-3 py-1 rounded-md text-sm font-medium hover:bg-yellow-100",children:"End Impersonation"})]})}):null},z9=()=>{const[e,n]=M.useState(""),[t,r]=M.useState(""),[i,a]=M.useState(""),[d,g]=M.useState(!1),{login:v}=ir(),x=fs(),y=async E=>{var _,T;if(E.preventDefault(),!e||!t){a("Username and password are required");return}try{g(!0),a(""),await v(e,t),x("/dashboard")}catch(S){a(((T=(_=S.response)==null?void 0:_.data)==null?void 0:T.message)||"Login failed")}finally{g(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Theater Equipment Catalog"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[i&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:c.jsx("p",{className:"text-red-700",children:i})}),c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),c.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:E=>n(E.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:E=>r(E.target.value)})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:d,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${d?"opacity-70 cursor-not-allowed":""}`,children:d?"Signing in...":"Sign in"})}),c.jsx("div",{className:"text-sm text-center",children:c.jsx("p",{className:"text-gray-600",children:"Insert the credentials the admin provided to you"})})]})]})})},GE=async()=>{try{return{searches:(await Je.get("/api/saved-searches")).data||[]}}catch(e){return console.error("Error fetching saved searches:",e),{searches:[]}}},XE=async e=>{try{return(await Je.post("/api/saved-searches",e)).data}catch(n){throw console.error("Error saving search:",n),n}},QE=async e=>{try{return(await Je.delete(`/api/saved-searches/${e}`)).data}catch(n){throw console.error("Error deleting saved search:",n),n}},pl=async()=>{try{return(await Je.get("/api/categories")).data}catch(e){return console.error("Error fetching categories:",e),[]}},W9=async(e,n="")=>(await Je.post("/api/categories",{name:e,description:n})).data,H9=async(e,n,t="")=>(await Je.put(`/api/categories/${e}`,{name:n,description:t})).data,q9=async e=>(await Je.delete(`/api/categories/${e}`)).data,Ue=({children:e,variant:n="primary",size:t="md",type:r="button",fullWidth:i=!1,disabled:a=!1,onClick:d,className:g="",as:v="button",...x})=>{const y="inline-flex items-center justify-center font-medium transition-all duration-200 rounded-md focus:outline-none focus:ring-1 focus:ring-offset-1",E={primary:"bg-white text-primary-600 hover:bg-primary-50 focus:ring-primary-500 border border-primary-500 hover:border-primary-600 hover:shadow-sm transition-all",secondary:"bg-white text-slate-600 hover:bg-slate-50 focus:ring-slate-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",outline:"bg-white hover:bg-slate-50 text-slate-700 focus:ring-primary-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",danger:"bg-white text-red-600 hover:bg-red-50 focus:ring-red-500 border border-red-500 hover:border-red-600 hover:shadow-sm transition-all",success:"bg-white text-green-600 hover:bg-green-50 focus:ring-green-500 border border-green-500 hover:border-green-600 hover:shadow-sm transition-all",ghost:"bg-transparent hover:bg-slate-100 text-slate-700 focus:ring-slate-500 border border-transparent hover:shadow-sm transition-all"},_={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-sm"},T=a?"opacity-60 cursor-not-allowed":"cursor-pointer",S=i?"w-full":"",R=`
    ${y}
    ${E[n]||E.primary}
    ${_[t]||_.md}
    ${T}
    ${S}
    ${g}
  `,O=v==="button"?{type:r,...x}:x;return c.jsx(v,{className:R,disabled:a,onClick:d,...O,children:e})};Ue.propTypes={children:ie.node.isRequired,variant:ie.oneOf(["primary","secondary","outline","danger","success","ghost"]),size:ie.oneOf(["sm","md","lg"]),type:ie.oneOf(["button","submit","reset"]),fullWidth:ie.bool,disabled:ie.bool,onClick:ie.func,className:ie.string,as:ie.elementType};const Pt=({id:e,name:n,type:t="text",label:r,placeholder:i,value:a,onChange:d,onBlur:g,error:v,icon:x,disabled:y=!1,required:E=!1,className:_="",...T})=>{const D=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${v?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${y?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    ${x?"pl-10":"pl-3"}
    py-2 pr-3 text-sm
    ${_}
  `;return c.jsxs("div",{className:"w-full",children:[r&&c.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${v?"text-red-600":"text-slate-700"}`,children:[r,E&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"relative",children:[x&&c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:x}),c.jsx("input",{id:e,name:n,type:t,value:a,onChange:d,onBlur:g,placeholder:i,disabled:y,required:E,className:D,...T})]}),v&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:v})]})};Pt.propTypes={id:ie.string.isRequired,name:ie.string.isRequired,type:ie.string,label:ie.string,placeholder:ie.string,value:ie.oneOfType([ie.string,ie.number]),onChange:ie.func,onBlur:ie.func,error:ie.string,icon:ie.node,disabled:ie.bool,required:ie.bool,className:ie.string};var Fe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Fe||(Fe={}));var rb=new Map([[Fe.QR_CODE,"QR_CODE"],[Fe.AZTEC,"AZTEC"],[Fe.CODABAR,"CODABAR"],[Fe.CODE_39,"CODE_39"],[Fe.CODE_93,"CODE_93"],[Fe.CODE_128,"CODE_128"],[Fe.DATA_MATRIX,"DATA_MATRIX"],[Fe.MAXICODE,"MAXICODE"],[Fe.ITF,"ITF"],[Fe.EAN_13,"EAN_13"],[Fe.EAN_8,"EAN_8"],[Fe.PDF_417,"PDF_417"],[Fe.RSS_14,"RSS_14"],[Fe.RSS_EXPANDED,"RSS_EXPANDED"],[Fe.UPC_A,"UPC_A"],[Fe.UPC_E,"UPC_E"],[Fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ib;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(ib||(ib={}));function V9(e){return Object.values(Fe).includes(e)}var oh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(oh||(oh={}));var Y9=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[oh.SCAN_TYPE_CAMERA,oh.SCAN_TYPE_FILE],e}(),KE=function(){function e(n,t){this.format=n,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!rb.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,rb.get(n))},e}(),sb=function(){function e(){}return e.createFromText=function(n){var t={text:n};return{decodedText:n,result:t}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),yg;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(yg||(yg={}));var $9=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:yg.UNKWOWN_ERROR}},e}(),G9=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,t){(this.verbose||t===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function na(e){return typeof e>"u"||e===null}var Zl=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),ZE=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,t){if(typeof n!="object"){var r=typeof n;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),d=Object.keys(n),g=0,v=d;g<v.length;g++){var x=v[g];if(a.has(x))return t.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),bg={exports:{}};(function(e,n){(function(t,r){r(n)})(As,function(t){function r(L){return L==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,s){L.__proto__=s}||function(L,s){for(var o in s)s.hasOwnProperty(o)&&(L[o]=s[o])};function a(L,s){i(L,s);function o(){this.constructor=L}L.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function d(L,s){var o=Object.setPrototypeOf;o?o(L,s):L.__proto__=s}function g(L,s){s===void 0&&(s=L.constructor);var o=Error.captureStackTrace;o&&o(L,s)}var v=function(L){a(s,L);function s(o){var l=this.constructor,f=L.call(this,o)||this;return Object.defineProperty(f,"name",{value:l.name,enumerable:!1}),d(f,l.prototype),g(f),f}return s}(Error);class x extends v{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}x.kind="Exception";class y extends x{}y.kind="ArgumentException";class E extends x{}E.kind="IllegalArgumentException";class _{constructor(s){if(this.binarizer=s,s===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,l,f){const h=this.binarizer.getLuminanceSource().crop(s,o,l,f);return new _(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class T extends x{static getChecksumInstance(){return new T}}T.kind="ChecksumException";class S{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(s,o,l,f,h){for(;h--;)l[f++]=s[o++]}static currentTimeMillis(){return Date.now()}}class O extends x{}O.kind="IndexOutOfBoundsException";class I extends O{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}I.kind="ArrayIndexOutOfBoundsException";class D{static fill(s,o){for(let l=0,f=s.length;l<f;l++)s[l]=o}static fillWithin(s,o,l,f){D.rangeCheck(s.length,o,l);for(let h=o;h<l;h++)s[h]=f}static rangeCheck(s,o,l){if(o>l)throw new E("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new I(o);if(l>s)throw new I(l)}static asList(...s){return s}static create(s,o,l){return Array.from({length:s}).map(h=>Array.from({length:o}).fill(l))}static createInt32Array(s,o,l){return Array.from({length:s}).map(h=>Int32Array.from({length:o}).fill(l))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let l=0,f=s.length;l<f;l++)if(s[l]!==o[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const l of s)o=31*o+l;return o}static fillUint8Array(s,o){for(let l=0;l!==s.length;l++)s[l]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const l=new Uint8Array(o);return l.set(s),l}return s.slice(0,o)}static copyOfRange(s,o,l){const f=l-o,h=new Int32Array(f);return R.arraycopy(s,o,h,0,f),h}static binarySearch(s,o,l){l===void 0&&(l=D.numberComparator);let f=0,h=s.length-1;for(;f<=h;){const m=h+f>>1,w=l(o,s[m]);if(w>0)f=m+1;else if(w<0)h=m-1;else return m}return-f-1}static numberComparator(s,o){return s-o}}class j{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let l=31;return o=s<<16,o!==0&&(l-=16,s=o),o=s<<8,o!==0&&(l-=8,s=o),o=s<<4,o!==0&&(l-=4,s=o),o=s<<2,o!==0&&(l-=2,s=o),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}j.MIN_VALUE_32_BITS=-2147483648,j.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=q.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=q.makeArray(s);R.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const l=this.bits;let f=Math.floor(s/32),h=l[f];h&=~((1<<(s&31))-1);const m=l.length;for(;h===0;){if(++f===m)return o;h=l[f]}const w=f*32+j.numberOfTrailingZeros(h);return w>o?o:w}getNextUnset(s){const o=this.size;if(s>=o)return o;const l=this.bits;let f=Math.floor(s/32),h=~l[f];h&=~((1<<(s&31))-1);const m=l.length;for(;h===0;){if(++f===m)return o;h=~l[f]}const w=f*32+j.numberOfTrailingZeros(h);return w>o?o:w}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new E;if(o===s)return;o--;const l=Math.floor(s/32),f=Math.floor(o/32),h=this.bits;for(let m=l;m<=f;m++){const w=m>l?0:s&31,N=(2<<(m<f?31:o&31))-(1<<w);h[m]|=N}}clear(){const s=this.bits.length,o=this.bits;for(let l=0;l<s;l++)o[l]=0}isRange(s,o,l){if(o<s||s<0||o>this.size)throw new E;if(o===s)return!0;o--;const f=Math.floor(s/32),h=Math.floor(o/32),m=this.bits;for(let w=f;w<=h;w++){const C=w>f?0:s&31,k=(2<<(w<h?31:o&31))-(1<<C)&4294967295;if((m[w]&k)!==(l?k:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new E("Sizes don't match");const o=this.bits;for(let l=0,f=o.length;l<f;l++)o[l]^=s.bits[l]}toBytes(s,o,l,f){for(let h=0;h<f;h++){let m=0;for(let w=0;w<8;w++)this.get(s)&&(m|=1<<7-w),s++;o[l+h]=m}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,f=this.bits;for(let h=0;h<l;h++){let m=f[h];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,s[o-h]=m}if(this.size!==l*32){const h=l*32-this.size;let m=s[0]>>>h;for(let w=1;w<l;w++){const C=s[w];m|=C<<32-h,s[w-1]=m,m=C>>>h}s[l-1]=m}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof q))return!1;const o=s;return this.size===o.size&&D.equals(this.bits,o.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let s="";for(let o=0,l=this.size;o<l;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new q(this.size,this.bits.slice())}}var Q;(function(L){L[L.OTHER=0]="OTHER",L[L.PURE_BARCODE=1]="PURE_BARCODE",L[L.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",L[L.TRY_HARDER=3]="TRY_HARDER",L[L.CHARACTER_SET=4]="CHARACTER_SET",L[L.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",L[L.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",L[L.ASSUME_GS1=7]="ASSUME_GS1",L[L.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",L[L.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",L[L.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var z=Q;class P extends x{static getFormatInstance(){return new P}}P.kind="FormatException";var V;(function(L){L[L.Cp437=0]="Cp437",L[L.ISO8859_1=1]="ISO8859_1",L[L.ISO8859_2=2]="ISO8859_2",L[L.ISO8859_3=3]="ISO8859_3",L[L.ISO8859_4=4]="ISO8859_4",L[L.ISO8859_5=5]="ISO8859_5",L[L.ISO8859_6=6]="ISO8859_6",L[L.ISO8859_7=7]="ISO8859_7",L[L.ISO8859_8=8]="ISO8859_8",L[L.ISO8859_9=9]="ISO8859_9",L[L.ISO8859_10=10]="ISO8859_10",L[L.ISO8859_11=11]="ISO8859_11",L[L.ISO8859_13=12]="ISO8859_13",L[L.ISO8859_14=13]="ISO8859_14",L[L.ISO8859_15=14]="ISO8859_15",L[L.ISO8859_16=15]="ISO8859_16",L[L.SJIS=16]="SJIS",L[L.Cp1250=17]="Cp1250",L[L.Cp1251=18]="Cp1251",L[L.Cp1252=19]="Cp1252",L[L.Cp1256=20]="Cp1256",L[L.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",L[L.UTF8=22]="UTF8",L[L.ASCII=23]="ASCII",L[L.Big5=24]="Big5",L[L.GB18030=25]="GB18030",L[L.EUC_KR=26]="EUC_KR"})(V||(V={}));class W{constructor(s,o,l,...f){this.valueIdentifier=s,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,W.VALUE_IDENTIFIER_TO_ECI.set(s,this),W.NAME_TO_ECI.set(l,this);const h=this.values;for(let m=0,w=h.length;m!==w;m++){const C=h[m];W.VALUES_TO_ECI.set(C,this)}for(const m of f)W.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new P("incorect value");const o=W.VALUES_TO_ECI.get(s);if(o===void 0)throw new P("incorect value");return o}static getCharacterSetECIByName(s){const o=W.NAME_TO_ECI.get(s);if(o===void 0)throw new P("incorect value");return o}equals(s){if(!(s instanceof W))return!1;const o=s;return this.getName()===o.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(V.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(V.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(V.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(V.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(V.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(V.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(V.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(V.Big5,28,"Big5"),W.GB18030=new W(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(V.EUC_KR,30,"EUC_KR","EUC-KR");class se extends x{}se.kind="UnsupportedOperationException";class ce{static decode(s,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!ce.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof W?s:W.getCharacterSetECIByName(s)}static decodeFallback(s,o){const l=this.encodingCharacterSet(o);if(ce.isDecodeFallbackSupported(l)){let f="";for(let h=0,m=s.length;h<m;h++){let w=s[h].toString(16);w.length<2&&(w="0"+w),f+="%"+w}return decodeURIComponent(f)}if(l.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new se(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(W.UTF8)||s.equals(W.ISO8859_1)||s.equals(W.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),f=[];for(let h=0;h<l.length;h++)f.push(l[h].charCodeAt(0));return new Uint8Array(f)}}class ae{static castAsNonUtf8Char(s,o=null){const l=o?o.getName():this.ISO88591;return ce.decode(new Uint8Array([s]),l)}static guessEncoding(s,o){if(o!=null&&o.get(z.CHARACTER_SET)!==void 0)return o.get(z.CHARACTER_SET).toString();const l=s.length;let f=!0,h=!0,m=!0,w=0,C=0,N=0,k=0,F=0,H=0,Z=0,U=0,$=0,X=0,te=0;const pe=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let xe=0;xe<l&&(f||h||m);xe++){const we=s[xe]&255;m&&(w>0?we&128?w--:m=!1:we&128&&(we&64?(w++,we&32?(w++,we&16?(w++,we&8?m=!1:k++):N++):C++):m=!1)),f&&(we>127&&we<160?f=!1:we>159&&(we<192||we===215||we===247)&&te++),h&&(F>0?we<64||we===127||we>252?h=!1:F--:we===128||we===160||we>239?h=!1:we>160&&we<224?(H++,U=0,Z++,Z>$&&($=Z)):we>127?(F++,Z=0,U++,U>X&&(X=U)):(Z=0,U=0))}return m&&w>0&&(m=!1),h&&F>0&&(h=!1),m&&(pe||C+N+k>0)?ae.UTF8:h&&(ae.ASSUME_SHIFT_JIS||$>=3||X>=3)?ae.SHIFT_JIS:f&&h?$===2&&H===2||te*10>=l?ae.SHIFT_JIS:ae.ISO88591:f?ae.ISO88591:h?ae.SHIFT_JIS:m?ae.UTF8:ae.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let l=-1;function f(m,w,C,N,k,F){if(m==="%%")return"%";if(o[++l]===void 0)return;m=N?parseInt(N.substr(1)):void 0;let H=k?parseInt(k.substr(1)):void 0,Z;switch(F){case"s":Z=o[l];break;case"c":Z=o[l][0];break;case"f":Z=parseFloat(o[l]).toFixed(m);break;case"p":Z=parseFloat(o[l]).toPrecision(m);break;case"e":Z=parseFloat(o[l]).toExponential(m);break;case"x":Z=parseInt(o[l]).toString(H||16);break;case"d":Z=parseFloat(parseInt(o[l],H||10).toPrecision(m)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(H);let U=parseInt(C),$=C&&C[0]+""=="0"?"0":" ";for(;Z.length<U;)Z=w!==void 0?Z+$:$+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}static getBytes(s,o){return ce.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}ae.SHIFT_JIS=W.SJIS.getName(),ae.GB2312="GB2312",ae.ISO88591=W.ISO8859_1.getName(),ae.EUC_JP="EUC_JP",ae.UTF8=W.UTF8.getName(),ae.PLATFORM_DEFAULT_ENCODING=ae.UTF8,ae.ASSUME_SHIFT_JIS=!1;class ne{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=ae.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,l){for(let f=o;o<o+l;f++)this.append(s[f]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class he{constructor(s,o,l,f){if(this.width=s,this.height=o,this.rowSize=l,this.bits=f,o==null&&(o=s),this.height=o,s<1||o<1)throw new E("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,l=s[0].length,f=new he(l,o);for(let h=0;h<o;h++){const m=s[h];for(let w=0;w<l;w++)m[w]&&f.set(w,h)}return f}static parseFromString(s,o,l){if(s===null)throw new E("stringRepresentation cannot be null");const f=new Array(s.length);let h=0,m=0,w=-1,C=0,N=0;for(;N<s.length;)if(s.charAt(N)===`
`||s.charAt(N)==="\r"){if(h>m){if(w===-1)w=h-m;else if(h-m!==w)throw new E("row lengths do not match");m=h,C++}N++}else if(s.substring(N,N+o.length)===o)N+=o.length,f[h]=!0,h++;else if(s.substring(N,N+l.length)===l)N+=l.length,f[h]=!1,h++;else throw new E("illegal character encountered: "+s.substring(N));if(h>m){if(w===-1)w=h-m;else if(h-m!==w)throw new E("row lengths do not match");C++}const k=new he(w,C);for(let F=0;F<h;F++)f[F]&&k.set(Math.floor(F%w),Math.floor(F/w));return k}get(s,o){const l=o*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new E("input matrix dimensions do not match");const o=new q(Math.floor(this.width/32)+1),l=this.rowSize,f=this.bits;for(let h=0,m=this.height;h<m;h++){const w=h*l,C=s.getRow(h,o).getBitArray();for(let N=0;N<l;N++)f[w+N]^=C[N]}}clear(){const s=this.bits,o=s.length;for(let l=0;l<o;l++)s[l]=0}setRegion(s,o,l,f){if(o<0||s<0)throw new E("Left and top must be nonnegative");if(f<1||l<1)throw new E("Height and width must be at least 1");const h=s+l,m=o+f;if(m>this.height||h>this.width)throw new E("The region must fit inside the matrix");const w=this.rowSize,C=this.bits;for(let N=o;N<m;N++){const k=N*w;for(let F=s;F<h;F++)C[k+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new q(this.width):o.clear();const l=this.rowSize,f=this.bits,h=s*l;for(let m=0;m<l;m++)o.setBulk(m*32,f[h+m]);return o}setRow(s,o){R.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let l=new q(s),f=new q(s);for(let h=0,m=Math.floor((o+1)/2);h<m;h++)l=this.getRow(h,l),f=this.getRow(o-1-h,f),l.reverse(),f.reverse(),this.setRow(h,f),this.setRow(o-1-h,l)}getEnclosingRectangle(){const s=this.width,o=this.height,l=this.rowSize,f=this.bits;let h=s,m=o,w=-1,C=-1;for(let N=0;N<o;N++)for(let k=0;k<l;k++){const F=f[N*l+k];if(F!==0){if(N<m&&(m=N),N>C&&(C=N),k*32<h){let H=0;for(;!(F<<31-H&4294967295);)H++;k*32+H<h&&(h=k*32+H)}if(k*32+31>w){let H=31;for(;!(F>>>H);)H--;k*32+H>w&&(w=k*32+H)}}}return w<h||C<m?null:Int32Array.from([h,m,w-h+1,C-m+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const f=l/s;let h=l%s*32;const m=o[l];let w=0;for(;!(m<<31-w&4294967295);)w++;return h+=w,Int32Array.from([h,f])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const f=Math.floor(l/s);let h=Math.floor(l%s)*32;const m=o[l];let w=31;for(;!(m>>>w);)w--;return h+=w,Int32Array.from([h,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof he))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&D.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+D.hashCode(this.bits),s}toString(s="X ",o="  ",l=`
`){return this.buildToString(s,o,l)}buildToString(s,o,l){let f=new ne;for(let h=0,m=this.height;h<m;h++){for(let w=0,C=this.width;w<C;w++)f.append(this.get(w,h)?s:o);f.append(l)}return f.toString()}clone(){return new he(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends x{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class ve extends S{constructor(s){super(s),this.luminances=ve.EMPTY,this.buckets=new Int32Array(ve.LUMINANCE_BUCKETS)}getBlackRow(s,o){const l=this.getLuminanceSource(),f=l.getWidth();o==null||o.getSize()<f?o=new q(f):o.clear(),this.initArrays(f);const h=l.getRow(s,this.luminances),m=this.buckets;for(let C=0;C<f;C++)m[(h[C]&255)>>ve.LUMINANCE_SHIFT]++;const w=ve.estimateBlackPoint(m);if(f<3)for(let C=0;C<f;C++)(h[C]&255)<w&&o.set(C);else{let C=h[0]&255,N=h[1]&255;for(let k=1;k<f-1;k++){const F=h[k+1]&255;(N*4-C-F)/2<w&&o.set(k),C=N,N=F}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight(),f=new he(o,l);this.initArrays(o);const h=this.buckets;for(let C=1;C<5;C++){const N=Math.floor(l*C/5),k=s.getRow(N,this.luminances),F=Math.floor(o*4/5);for(let H=Math.floor(o/5);H<F;H++){const Z=k[H]&255;h[Z>>ve.LUMINANCE_SHIFT]++}}const m=ve.estimateBlackPoint(h),w=s.getMatrix();for(let C=0;C<l;C++){const N=C*o;for(let k=0;k<o;k++)(w[N+k]&255)<m&&f.set(k,C)}return f}createBinarizer(s){return new ve(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let l=0;l<ve.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(s){const o=s.length;let l=0,f=0,h=0;for(let k=0;k<o;k++)s[k]>h&&(f=k,h=s[k]),s[k]>l&&(l=s[k]);let m=0,w=0;for(let k=0;k<o;k++){const F=k-f,H=s[k]*F*F;H>w&&(m=k,w=H)}if(f>m){const k=f;f=m,m=k}if(m-f<=o/16)throw new ee;let C=m-1,N=-1;for(let k=m-1;k>f;k--){const F=k-f,H=F*F*(m-k)*(l-s[k]);H>N&&(C=k,N=H)}return C<<ve.LUMINANCE_SHIFT}}ve.LUMINANCE_BITS=5,ve.LUMINANCE_SHIFT=8-ve.LUMINANCE_BITS,ve.LUMINANCE_BUCKETS=1<<ve.LUMINANCE_BITS,ve.EMPTY=Uint8ClampedArray.from([0]);class ge extends ve{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight();if(o>=ge.MINIMUM_DIMENSION&&l>=ge.MINIMUM_DIMENSION){const f=s.getMatrix();let h=o>>ge.BLOCK_SIZE_POWER;o&ge.BLOCK_SIZE_MASK&&h++;let m=l>>ge.BLOCK_SIZE_POWER;l&ge.BLOCK_SIZE_MASK&&m++;const w=ge.calculateBlackPoints(f,h,m,o,l),C=new he(o,l);ge.calculateThresholdForBlock(f,h,m,o,l,w,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ge(s)}static calculateThresholdForBlock(s,o,l,f,h,m,w){const C=h-ge.BLOCK_SIZE,N=f-ge.BLOCK_SIZE;for(let k=0;k<l;k++){let F=k<<ge.BLOCK_SIZE_POWER;F>C&&(F=C);const H=ge.cap(k,2,l-3);for(let Z=0;Z<o;Z++){let U=Z<<ge.BLOCK_SIZE_POWER;U>N&&(U=N);const $=ge.cap(Z,2,o-3);let X=0;for(let pe=-2;pe<=2;pe++){const xe=m[H+pe];X+=xe[$-2]+xe[$-1]+xe[$]+xe[$+1]+xe[$+2]}const te=X/25;ge.thresholdBlock(s,U,F,te,f,w)}}}static cap(s,o,l){return s<o?o:s>l?l:s}static thresholdBlock(s,o,l,f,h,m){for(let w=0,C=l*h+o;w<ge.BLOCK_SIZE;w++,C+=h)for(let N=0;N<ge.BLOCK_SIZE;N++)(s[C+N]&255)<=f&&m.set(o+N,l+w)}static calculateBlackPoints(s,o,l,f,h){const m=h-ge.BLOCK_SIZE,w=f-ge.BLOCK_SIZE,C=new Array(l);for(let N=0;N<l;N++){C[N]=new Int32Array(o);let k=N<<ge.BLOCK_SIZE_POWER;k>m&&(k=m);for(let F=0;F<o;F++){let H=F<<ge.BLOCK_SIZE_POWER;H>w&&(H=w);let Z=0,U=255,$=0;for(let te=0,pe=k*f+H;te<ge.BLOCK_SIZE;te++,pe+=f){for(let xe=0;xe<ge.BLOCK_SIZE;xe++){const we=s[pe+xe]&255;Z+=we,we<U&&(U=we),we>$&&($=we)}if($-U>ge.MIN_DYNAMIC_RANGE)for(te++,pe+=f;te<ge.BLOCK_SIZE;te++,pe+=f)for(let xe=0;xe<ge.BLOCK_SIZE;xe++)Z+=s[pe+xe]&255}let X=Z>>ge.BLOCK_SIZE_POWER*2;if($-U<=ge.MIN_DYNAMIC_RANGE&&(X=U/2,N>0&&F>0)){const te=(C[N-1][F]+2*C[N][F-1]+C[N-1][F-1])/4;U<te&&(X=te)}C[N][F]=X}}return C}}ge.BLOCK_SIZE_POWER=3,ge.BLOCK_SIZE=1<<ge.BLOCK_SIZE_POWER,ge.BLOCK_SIZE_MASK=ge.BLOCK_SIZE-1,ge.MINIMUM_DIMENSION=ge.BLOCK_SIZE*5,ge.MIN_DYNAMIC_RANGE=24;class ue{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,l,f){throw new se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new se("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new ne;for(let l=0;l<this.height;l++){const f=this.getRow(l,s);for(let h=0;h<this.width;h++){const m=f[h]&255;let w;m<64?w="#":m<128?w="+":m<192?w=".":w=" ",o.append(w)}o.append(`
`)}return o.toString()}}class _e extends ue{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const l=this.delegate.getRow(s,o),f=this.getWidth();for(let h=0;h<f;h++)l[h]=255-(l[h]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let f=0;f<o;f++)l[f]=255-(s[f]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,l,f){return new _e(this.delegate.crop(s,o,l,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new _e(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new _e(this.delegate.rotateCounterClockwise45())}}class Ie extends ue{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=Ie.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return Ie.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,l){const f=new Uint8ClampedArray(o*l);for(let h=0,m=0,w=s.length;h<w;h+=4,m++){let C;if(s[h+3]===0)C=255;else{const k=s[h],F=s[h+1],H=s[h+2];C=306*k+601*F+117*H+512>>10}f[m]=C}return f}getRow(s,o){if(s<0||s>=this.getHeight())throw new E("Requested row is outside the image: "+s);const l=this.getWidth(),f=s*l;return o===null?o=this.buffer.slice(f,f+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(f,f+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,l,f){return super.crop(s,o,l,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),l=o.getContext("2d"),f=s*Ie.DEGREE_TO_RADIANS,h=this.canvas.width,m=this.canvas.height,w=Math.ceil(Math.abs(Math.cos(f))*h+Math.abs(Math.sin(f))*m),C=Math.ceil(Math.abs(Math.sin(f))*h+Math.abs(Math.cos(f))*m);return o.width=w,o.height=C,l.translate(w/2,C/2),l.rotate(f),l.drawImage(this.canvas,h/-2,m/-2),this.buffer=Ie.makeBufferFromCanvasImageData(o),this}invert(){return new _e(this)}}Ie.DEGREE_TO_RADIANS=Math.PI/180;class qe{constructor(s,o,l){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var nt=(globalThis||As||self||window||void 0)&&(globalThis||As||self||window||void 0).__awaiter||function(L,s,o,l){function f(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function w(k){try{N(l.next(k))}catch(F){m(F)}}function C(k){try{N(l.throw(k))}catch(F){m(F)}}function N(k){k.done?h(k.value):f(k.value).then(w,C)}N((l=l.apply(L,s||[])).next())})};class fn{constructor(s,o=500,l){this.reader=s,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return nt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of s){const f=l.kind==="video"?"videoinput":l.kind;if(f!=="videoinput")continue;const h=l.deviceId||l.id,m=l.label||`Video device ${o.length+1}`,w=l.groupId,C={deviceId:h,label:m,kind:f,groupId:w};o.push(C)}return o})}getVideoInputDevices(){return nt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new qe(o.deviceId,o.label))})}findDeviceById(s){return nt(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return nt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return nt(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const f={video:l};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(s,o){return nt(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(s,o){return nt(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,o,l){return nt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,l)})}decodeFromVideoDevice(s,o,l){return nt(this,void 0,void 0,function*(){let f;s?f={deviceId:{exact:s}}:f={facingMode:"environment"};const h={video:f};return yield this.decodeFromConstraints(h,o,l)})}decodeFromConstraints(s,o,l){return nt(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(f,o,l)})}decodeFromStream(s,o,l){return nt(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(f,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return nt(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((o,l)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return nt(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const l=document.getElementById(s);if(!l)throw new y(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new y(`element with id '${s}' must be an ${o} element`);return l}decodeFromImage(s,o){if(!s&&!o)throw new y("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new y("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,l){if(s===void 0&&o===void 0)throw new y("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new y("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(s){if(!s)throw new y("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new y("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=s,l}decodeFromVideoUrl(s){if(!s)throw new y("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=s,l}decodeFromVideoUrlContinuously(s,o){if(!s)throw new y("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(l,o);return l.src=s,f}_decodeOnLoadImage(s){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return nt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return nt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,l=!0){this._stopAsyncDecode=!1;const f=(h,m)=>{if(this._stopAsyncDecode){m(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const w=this.decode(s);h(w)}catch(w){const C=o&&w instanceof ee,k=(w instanceof T||w instanceof P)&&l;if(C||k)return setTimeout(f,this._timeBetweenDecodingAttempts,h,m);m(w)}};return new Promise((h,m)=>f(h,m))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(s);o(f,null),setTimeout(l,this.timeBetweenScansMillis)}catch(f){o(null,f);const h=f instanceof T||f instanceof P,m=f instanceof ee;(h||m)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,l){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),l=new Ie(o),f=new ge(l);return new _(f)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,f;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,f=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,f=s.naturalHeight||s.height)),o.style.width=l+"px",o.style.height=f+"px",o.width=l,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class ft{constructor(s,o,l=o==null?0:8*o.length,f,h,m=R.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=l,this.resultPoints=f,this.format=h,this.timestamp=m,this.text=s,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=f,this.format=h,this.resultMetadata=null,m==null?this.timestamp=R.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(o.length+s.length);R.arraycopy(o,0,l,0,o.length),R.arraycopy(s,0,l,o.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var hn;(function(L){L[L.AZTEC=0]="AZTEC",L[L.CODABAR=1]="CODABAR",L[L.CODE_39=2]="CODE_39",L[L.CODE_93=3]="CODE_93",L[L.CODE_128=4]="CODE_128",L[L.DATA_MATRIX=5]="DATA_MATRIX",L[L.EAN_8=6]="EAN_8",L[L.EAN_13=7]="EAN_13",L[L.ITF=8]="ITF",L[L.MAXICODE=9]="MAXICODE",L[L.PDF_417=10]="PDF_417",L[L.QR_CODE=11]="QR_CODE",L[L.RSS_14=12]="RSS_14",L[L.RSS_EXPANDED=13]="RSS_EXPANDED",L[L.UPC_A=14]="UPC_A",L[L.UPC_E=15]="UPC_E",L[L.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(hn||(hn={}));var De=hn,je;(function(L){L[L.OTHER=0]="OTHER",L[L.ORIENTATION=1]="ORIENTATION",L[L.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",L[L.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",L[L.ISSUE_NUMBER=4]="ISSUE_NUMBER",L[L.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",L[L.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",L[L.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",L[L.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",L[L.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",L[L.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(je||(je={}));var We=je;class qt{constructor(s,o,l,f,h=-1,m=-1){this.rawBytes=s,this.text=o,this.byteSegments=l,this.ecLevel=f,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=m,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ln{exp(s){return this.expTable[s]}log(s){if(s===0)throw new E;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class Vt{constructor(s,o){if(o.length===0)throw new E;this.field=s;const l=o.length;if(l>1&&o[0]===0){let f=1;for(;f<l&&o[f]===0;)f++;f===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-f),R.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(s===1){l=0;for(let m=0,w=o.length;m!==w;m++){const C=o[m];l=Ln.addOrSubtract(l,C)}return l}l=o[0];const f=o.length,h=this.field;for(let m=1;m<f;m++)l=Ln.addOrSubtract(h.multiply(s,l),o[m]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){const m=o;o=l,l=m}let f=new Int32Array(l.length);const h=l.length-o.length;R.arraycopy(l,0,f,0,h);for(let m=h;m<l.length;m++)f[m]=Ln.addOrSubtract(o[m-h],l[m]);return new Vt(this.field,f)}multiply(s){if(!this.field.equals(s.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,f=s.coefficients,h=f.length,m=new Int32Array(l+h-1),w=this.field;for(let C=0;C<l;C++){const N=o[C];for(let k=0;k<h;k++)m[C+k]=Ln.addOrSubtract(m[C+k],w.multiply(N,f[k]))}return new Vt(w,m)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,l=this.field,f=new Int32Array(o),h=this.coefficients;for(let m=0;m<o;m++)f[m]=l.multiply(h[m],s);return new Vt(l,f)}multiplyByMonomial(s,o){if(s<0)throw new E;if(o===0)return this.field.getZero();const l=this.coefficients,f=l.length,h=new Int32Array(f+s),m=this.field;for(let w=0;w<f;w++)h[w]=m.multiply(l[w],o);return new Vt(m,h)}divide(s){if(!this.field.equals(s.field))throw new E("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new E("Divide by 0");const o=this.field;let l=o.getZero(),f=this;const h=s.getCoefficient(s.getDegree()),m=o.inverse(h);for(;f.getDegree()>=s.getDegree()&&!f.isZero();){const w=f.getDegree()-s.getDegree(),C=o.multiply(f.getCoefficient(f.getDegree()),m),N=s.multiplyByMonomial(w,C),k=o.buildMonomial(w,C);l=l.addOrSubtract(k),f=f.addOrSubtract(N)}return[l,f]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),o===0||l!==1){const f=this.field.log(l);f===0?s+="1":f===1?s+="a":(s+="a^",s+=f)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class pn extends x{}pn.kind="ArithmeticException";class Se extends Ln{constructor(s,o,l){super(),this.primitive=s,this.size=o,this.generatorBase=l;const f=new Int32Array(o);let h=1;for(let w=0;w<o;w++)f[w]=h,h*=2,h>=o&&(h^=s,h&=o-1);this.expTable=f;const m=new Int32Array(o);for(let w=0;w<o-1;w++)m[f[w]]=w;this.logTable=m,this.zero=new Vt(this,Int32Array.from([0])),this.one=new Vt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new E;if(o===0)return this.zero;const l=new Int32Array(s+1);return l[0]=o,new Vt(this,l)}inverse(s){if(s===0)throw new pn;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+j.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Se.AZTEC_DATA_12=new Se(4201,4096,1),Se.AZTEC_DATA_10=new Se(1033,1024,1),Se.AZTEC_DATA_6=new Se(67,64,1),Se.AZTEC_PARAM=new Se(19,16,1),Se.QR_CODE_FIELD_256=new Se(285,256,0),Se.DATA_MATRIX_FIELD_256=new Se(301,256,1),Se.AZTEC_DATA_8=Se.DATA_MATRIX_FIELD_256,Se.MAXICODE_FIELD_64=Se.AZTEC_DATA_6;class Ye extends x{}Ye.kind="ReedSolomonException";class jt extends x{}jt.kind="IllegalStateException";class yr{constructor(s){this.field=s}decode(s,o){const l=this.field,f=new Vt(l,s),h=new Int32Array(o);let m=!0;for(let Z=0;Z<o;Z++){const U=f.evaluateAt(l.exp(Z+l.getGeneratorBase()));h[h.length-1-Z]=U,U!==0&&(m=!1)}if(m)return;const w=new Vt(l,h),C=this.runEuclideanAlgorithm(l.buildMonomial(o,1),w,o),N=C[0],k=C[1],F=this.findErrorLocations(N),H=this.findErrorMagnitudes(k,F);for(let Z=0;Z<F.length;Z++){const U=s.length-1-l.log(F[Z]);if(U<0)throw new Ye("Bad error location");s[U]=Se.addOrSubtract(s[U],H[Z])}}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){const Z=s;s=o,o=Z}const f=this.field;let h=s,m=o,w=f.getZero(),C=f.getOne();for(;m.getDegree()>=(l/2|0);){let Z=h,U=w;if(h=m,w=C,h.isZero())throw new Ye("r_{i-1} was zero");m=Z;let $=f.getZero();const X=h.getCoefficient(h.getDegree()),te=f.inverse(X);for(;m.getDegree()>=h.getDegree()&&!m.isZero();){const pe=m.getDegree()-h.getDegree(),xe=f.multiply(m.getCoefficient(m.getDegree()),te);$=$.addOrSubtract(f.buildMonomial(pe,xe)),m=m.addOrSubtract(h.multiplyByMonomial(pe,xe))}if(C=$.multiply(w).addOrSubtract(U),m.getDegree()>=h.getDegree())throw new jt("Division algorithm failed to reduce polynomial?")}const N=C.getCoefficient(0);if(N===0)throw new Ye("sigmaTilde(0) was zero");const k=f.inverse(N),F=C.multiplyScalar(k),H=m.multiplyScalar(k);return[F,H]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(o);let f=0;const h=this.field;for(let m=1;m<h.getSize()&&f<o;m++)s.evaluateAt(m)===0&&(l[f]=h.inverse(m),f++);if(f!==o)throw new Ye("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,o){const l=o.length,f=new Int32Array(l),h=this.field;for(let m=0;m<l;m++){const w=h.inverse(o[m]);let C=1;for(let N=0;N<l;N++)if(m!==N){const k=h.multiply(o[N],w),F=k&1?k&-2:k|1;C=h.multiply(C,F)}f[m]=h.multiply(s.evaluateAt(w),h.inverse(C)),h.getGeneratorBase()!==0&&(f[m]=h.multiply(f[m],w))}return f}}var yt;(function(L){L[L.UPPER=0]="UPPER",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.DIGIT=3]="DIGIT",L[L.PUNCT=4]="PUNCT",L[L.BINARY=5]="BINARY"})(yt||(yt={}));class Nt{decode(s){this.ddata=s;let o=s.getBits(),l=this.extractBits(o),f=this.correctBits(l),h=Nt.convertBoolArrayToByteArray(f),m=Nt.getEncodedData(f),w=new qt(h,m,null,null);return w.setNumBits(f.length),w}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,l=yt.UPPER,f=yt.UPPER,h="",m=0;for(;m<o;)if(f===yt.BINARY){if(o-m<5)break;let w=Nt.readCode(s,m,5);if(m+=5,w===0){if(o-m<11)break;w=Nt.readCode(s,m,11)+31,m+=11}for(let C=0;C<w;C++){if(o-m<8){m=o;break}const N=Nt.readCode(s,m,8);h+=ae.castAsNonUtf8Char(N),m+=8}f=l}else{let w=f===yt.DIGIT?4:5;if(o-m<w)break;let C=Nt.readCode(s,m,w);m+=w;let N=Nt.getCharacter(f,C);N.startsWith("CTRL_")?(l=f,f=Nt.getTable(N.charAt(5)),N.charAt(6)==="L"&&(l=f)):(h+=N,f=l)}return h}static getTable(s){switch(s){case"L":return yt.LOWER;case"P":return yt.PUNCT;case"M":return yt.MIXED;case"D":return yt.DIGIT;case"B":return yt.BINARY;case"U":default:return yt.UPPER}}static getCharacter(s,o){switch(s){case yt.UPPER:return Nt.UPPER_TABLE[o];case yt.LOWER:return Nt.LOWER_TABLE[o];case yt.MIXED:return Nt.MIXED_TABLE[o];case yt.PUNCT:return Nt.PUNCT_TABLE[o];case yt.DIGIT:return Nt.DIGIT_TABLE[o];default:throw new jt("Bad table")}}correctBits(s){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=Se.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=Se.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=Se.AZTEC_DATA_10):(l=12,o=Se.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),h=s.length/l;if(h<f)throw new P;let m=s.length%l,w=new Int32Array(h);for(let H=0;H<h;H++,m+=l)w[H]=Nt.readCode(s,m,l);try{new yr(o).decode(w,h-f)}catch(H){throw new P(H)}let C=(1<<l)-1,N=0;for(let H=0;H<f;H++){let Z=w[H];if(Z===0||Z===C)throw new P;(Z===1||Z===C-1)&&N++}let k=new Array(f*l-N),F=0;for(let H=0;H<f;H++){let Z=w[H];if(Z===1||Z===C-1)k.fill(Z>1,F,F+l-1),F+=l-1;else for(let U=l-1;U>=0;--U)k[F++]=(Z&1<<U)!==0}return k}extractBits(s){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),f=(o?11:14)+l*4,h=new Int32Array(f),m=new Array(this.totalBitsInLayer(l,o));if(o)for(let w=0;w<h.length;w++)h[w]=w;else{let w=f+1+2*j.truncDivision(j.truncDivision(f,2)-1,15),C=f/2,N=j.truncDivision(w,2);for(let k=0;k<C;k++){let F=k+j.truncDivision(k,15);h[C-k-1]=N-F-1,h[C+k]=N+F+1}}for(let w=0,C=0;w<l;w++){let N=(l-w)*4+(o?9:12),k=w*2,F=f-1-k;for(let H=0;H<N;H++){let Z=H*2;for(let U=0;U<2;U++)m[C+Z+U]=s.get(h[k+U],h[k+H]),m[C+2*N+Z+U]=s.get(h[k+H],h[F-U]),m[C+4*N+Z+U]=s.get(h[F-U],h[F-H]),m[C+6*N+Z+U]=s.get(h[F-H],h[k+U])}C+=N*8}return m}static readCode(s,o,l){let f=0;for(let h=o;h<o+l;h++)f<<=1,s[h]&&(f|=1);return f}static readByte(s,o){let l=s.length-o;return l>=8?Nt.readCode(s,o,8):Nt.readCode(s,o,l)<<8-l}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let l=0;l<o.length;l++)o[l]=Nt.readByte(s,8*l);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Nt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Nt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Nt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ot{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,l,f){const h=s-l,m=o-f;return Math.sqrt(h*h+m*m)}static sum(s){let o=0;for(let l=0,f=s.length;l!==f;l++){const h=s[l];o+=h}return o}}class Re{static floatToIntBits(s){return s}}Re.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ee{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Ee){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Re.floatToIntBits(this.x)+Re.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),f=this.distance(s[0],s[2]);let h,m,w;if(l>=o&&l>=f?(m=s[0],h=s[1],w=s[2]):f>=l&&f>=o?(m=s[1],h=s[0],w=s[2]):(m=s[2],h=s[0],w=s[1]),this.crossProductZ(h,m,w)<0){const C=h;h=w,w=C}s[0]=h,s[1]=m,s[2]=w}static distance(s,o){return ot.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,l){const f=o.x,h=o.y;return(l.x-f)*(s.y-h)-(l.y-h)*(s.x-f)}}class Pn{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class hr extends Pn{constructor(s,o,l,f,h){super(s,o),this.compact=l,this.nbDatablocks=f,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ke{constructor(s,o,l,f){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=ke.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),f==null&&(f=s.getHeight()/2|0);const h=o/2|0;if(this.leftInit=l-h,this.rightInit=l+h,this.upInit=f-h,this.downInit=f+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let s=this.leftInit,o=this.rightInit,l=this.upInit,f=this.downInit,h=!1,m=!0,w=!1,C=!1,N=!1,k=!1,F=!1;const H=this.width,Z=this.height;for(;m;){m=!1;let U=!0;for(;(U||!C)&&o<H;)U=this.containsBlackPoint(l,f,o,!1),U?(o++,m=!0,C=!0):C||o++;if(o>=H){h=!0;break}let $=!0;for(;($||!N)&&f<Z;)$=this.containsBlackPoint(s,o,f,!0),$?(f++,m=!0,N=!0):N||f++;if(f>=Z){h=!0;break}let X=!0;for(;(X||!k)&&s>=0;)X=this.containsBlackPoint(l,f,s,!1),X?(s--,m=!0,k=!0):k||s--;if(s<0){h=!0;break}let te=!0;for(;(te||!F)&&l>=0;)te=this.containsBlackPoint(s,o,l,!0),te?(l--,m=!0,F=!0):F||l--;if(l<0){h=!0;break}m&&(w=!0)}if(!h&&w){const U=o-s;let $=null;for(let xe=1;$===null&&xe<U;xe++)$=this.getBlackPointOnSegment(s,f-xe,s+xe,f);if($==null)throw new ee;let X=null;for(let xe=1;X===null&&xe<U;xe++)X=this.getBlackPointOnSegment(s,l+xe,s+xe,l);if(X==null)throw new ee;let te=null;for(let xe=1;te===null&&xe<U;xe++)te=this.getBlackPointOnSegment(o,l+xe,o-xe,l);if(te==null)throw new ee;let pe=null;for(let xe=1;pe===null&&xe<U;xe++)pe=this.getBlackPointOnSegment(o,f-xe,o-xe,f);if(pe==null)throw new ee;return this.centerEdges(pe,$,te,X)}else throw new ee}getBlackPointOnSegment(s,o,l,f){const h=ot.round(ot.distance(s,o,l,f)),m=(l-s)/h,w=(f-o)/h,C=this.image;for(let N=0;N<h;N++){const k=ot.round(s+N*m),F=ot.round(o+N*w);if(C.get(k,F))return new Ee(k,F)}return null}centerEdges(s,o,l,f){const h=s.getX(),m=s.getY(),w=o.getX(),C=o.getY(),N=l.getX(),k=l.getY(),F=f.getX(),H=f.getY(),Z=ke.CORR;return h<this.width/2?[new Ee(F-Z,H+Z),new Ee(w+Z,C+Z),new Ee(N-Z,k-Z),new Ee(h+Z,m-Z)]:[new Ee(F+Z,H+Z),new Ee(w+Z,C-Z),new Ee(N-Z,k+Z),new Ee(h-Z,m-Z)]}containsBlackPoint(s,o,l,f){const h=this.image;if(f){for(let m=s;m<=o;m++)if(h.get(m,l))return!0}else for(let m=s;m<=o;m++)if(h.get(l,m))return!0;return!1}}ke.INIT_SIZE=10,ke.CORR=1;class Ge{static checkAndNudgePoints(s,o){const l=s.getWidth(),f=s.getHeight();let h=!0;for(let m=0;m<o.length&&h;m+=2){const w=Math.floor(o[m]),C=Math.floor(o[m+1]);if(w<-1||w>l||C<-1||C>f)throw new ee;h=!1,w===-1?(o[m]=0,h=!0):w===l&&(o[m]=l-1,h=!0),C===-1?(o[m+1]=0,h=!0):C===f&&(o[m+1]=f-1,h=!0)}h=!0;for(let m=o.length-2;m>=0&&h;m-=2){const w=Math.floor(o[m]),C=Math.floor(o[m+1]);if(w<-1||w>l||C<-1||C>f)throw new ee;h=!1,w===-1?(o[m]=0,h=!0):w===l&&(o[m]=l-1,h=!0),C===-1?(o[m+1]=0,h=!0):C===f&&(o[m+1]=f-1,h=!0)}}}class At{constructor(s,o,l,f,h,m,w,C,N){this.a11=s,this.a21=o,this.a31=l,this.a12=f,this.a22=h,this.a32=m,this.a13=w,this.a23=C,this.a33=N}static quadrilateralToQuadrilateral(s,o,l,f,h,m,w,C,N,k,F,H,Z,U,$,X){const te=At.quadrilateralToSquare(s,o,l,f,h,m,w,C);return At.squareToQuadrilateral(N,k,F,H,Z,U,$,X).times(te)}transformPoints(s){const o=s.length,l=this.a11,f=this.a12,h=this.a13,m=this.a21,w=this.a22,C=this.a23,N=this.a31,k=this.a32,F=this.a33;for(let H=0;H<o;H+=2){const Z=s[H],U=s[H+1],$=h*Z+C*U+F;s[H]=(l*Z+m*U+N)/$,s[H+1]=(f*Z+w*U+k)/$}}transformPointsWithValues(s,o){const l=this.a11,f=this.a12,h=this.a13,m=this.a21,w=this.a22,C=this.a23,N=this.a31,k=this.a32,F=this.a33,H=s.length;for(let Z=0;Z<H;Z++){const U=s[Z],$=o[Z],X=h*U+C*$+F;s[Z]=(l*U+m*$+N)/X,o[Z]=(f*U+w*$+k)/X}}static squareToQuadrilateral(s,o,l,f,h,m,w,C){const N=s-l+h-w,k=o-f+m-C;if(N===0&&k===0)return new At(l-s,h-l,s,f-o,m-f,o,0,0,1);{const F=l-h,H=w-h,Z=f-m,U=C-m,$=F*U-H*Z,X=(N*U-H*k)/$,te=(F*k-N*Z)/$;return new At(l-s+X*l,w-s+te*w,s,f-o+X*f,C-o+te*C,o,X,te,1)}}static quadrilateralToSquare(s,o,l,f,h,m,w,C){return At.squareToQuadrilateral(s,o,l,f,h,m,w,C).buildAdjoint()}buildAdjoint(){return new At(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new At(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class en extends Ge{sampleGrid(s,o,l,f,h,m,w,C,N,k,F,H,Z,U,$,X,te,pe,xe){const we=At.quadrilateralToQuadrilateral(f,h,m,w,C,N,k,F,H,Z,U,$,X,te,pe,xe);return this.sampleGridWithTransform(s,o,l,we)}sampleGridWithTransform(s,o,l,f){if(o<=0||l<=0)throw new ee;const h=new he(o,l),m=new Float32Array(2*o);for(let w=0;w<l;w++){const C=m.length,N=w+.5;for(let k=0;k<C;k+=2)m[k]=k/2+.5,m[k+1]=N;f.transformPoints(m),Ge.checkAndNudgePoints(s,m);try{for(let k=0;k<C;k+=2)s.get(Math.floor(m[k]),Math.floor(m[k+1]))&&h.set(k/2,w)}catch{throw new ee}}return h}}class Yt{static setGridSampler(s){Yt.gridSampler=s}static getInstance(){return Yt.gridSampler}}Yt.gridSampler=new en;class on{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new Ee(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class si{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(s){let m=l[0];l[0]=l[2],l[2]=m}this.extractParameters(l);let f=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),h=this.getMatrixCornerPoints(l);return new hr(f,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new ee;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(l,o);let f=0;for(let m=0;m<4;m++){let w=l[(this.shift+m)%4];this.compact?(f<<=7,f+=w>>1&127):(f<<=10,f+=(w>>2&992)+(w>>1&31))}let h=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(s,o){let l=0;s.forEach((f,h,m)=>{let w=(f>>o-2<<1)+(f&1);l=(l<<3)+w}),l=((l&1)<<11)+(l>>1);for(let f=0;f<4;f++)if(j.bitCount(l^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new ee}getCorrectedParameterData(s,o){let l,f;o?(l=7,f=2):(l=10,f=4);let h=l-f,m=new Int32Array(l);for(let C=l-1;C>=0;--C)m[C]=s&15,s>>=4;try{new yr(Se.AZTEC_PARAM).decode(m,h)}catch{throw new ee}let w=0;for(let C=0;C<f;C++)w=(w<<4)+m[C];return w}getBullsEyeCorners(s){let o=s,l=s,f=s,h=s,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(o,m,1,-1),H=this.getFirstDifferent(l,m,1,1),Z=this.getFirstDifferent(f,m,-1,1),U=this.getFirstDifferent(h,m,-1,-1);if(this.nbCenterLayers>2){let $=this.distancePoint(U,F)*this.nbCenterLayers/(this.distancePoint(h,o)*(this.nbCenterLayers+2));if($<.75||$>1.25||!this.isWhiteOrBlackRectangle(F,H,Z,U))break}o=F,l=H,f=Z,h=U,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let w=new Ee(o.getX()+.5,o.getY()-.5),C=new Ee(l.getX()+.5,l.getY()+.5),N=new Ee(f.getX()-.5,f.getY()+.5),k=new Ee(h.getX()-.5,h.getY()-.5);return this.expandSquare([w,C,N,k],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,l,f;try{let w=new ke(this.image).detect();s=w[0],o=w[1],l=w[2],f=w[3]}catch{let C=this.image.getWidth()/2,N=this.image.getHeight()/2;s=this.getFirstDifferent(new on(C+7,N-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new on(C+7,N+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new on(C-7,N+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new on(C-7,N-7),!1,-1,-1).toResultPoint()}let h=ot.round((s.getX()+f.getX()+o.getX()+l.getX())/4),m=ot.round((s.getY()+f.getY()+o.getY()+l.getY())/4);try{let w=new ke(this.image,15,h,m).detect();s=w[0],o=w[1],l=w[2],f=w[3]}catch{s=this.getFirstDifferent(new on(h+7,m-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new on(h+7,m+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new on(h-7,m+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new on(h-7,m-7),!1,-1,-1).toResultPoint()}return h=ot.round((s.getX()+f.getX()+o.getX()+l.getX())/4),m=ot.round((s.getY()+f.getY()+o.getY()+l.getY())/4),new on(h,m)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,l,f,h){let m=Yt.getInstance(),w=this.getDimension(),C=w/2-this.nbCenterLayers,N=w/2+this.nbCenterLayers;return m.sampleGrid(s,w,w,C,C,N,C,N,N,C,N,o.getX(),o.getY(),l.getX(),l.getY(),f.getX(),f.getY(),h.getX(),h.getY())}sampleLine(s,o,l){let f=0,h=this.distanceResultPoint(s,o),m=h/l,w=s.getX(),C=s.getY(),N=m*(o.getX()-s.getX())/h,k=m*(o.getY()-s.getY())/h;for(let F=0;F<l;F++)this.image.get(ot.round(w+F*N),ot.round(C+F*k))&&(f|=1<<l-F-1);return f}isWhiteOrBlackRectangle(s,o,l,f){let h=3;s=new on(s.getX()-h,s.getY()+h),o=new on(o.getX()-h,o.getY()-h),l=new on(l.getX()+h,l.getY()-h),f=new on(f.getX()+h,f.getY()+h);let m=this.getColor(f,s);if(m===0)return!1;let w=this.getColor(s,o);return w!==m||(w=this.getColor(o,l),w!==m)?!1:(w=this.getColor(l,f),w===m)}getColor(s,o){let l=this.distancePoint(s,o),f=(o.getX()-s.getX())/l,h=(o.getY()-s.getY())/l,m=0,w=s.getX(),C=s.getY(),N=this.image.get(s.getX(),s.getY()),k=Math.ceil(l);for(let H=0;H<k;H++)w+=f,C+=h,this.image.get(ot.round(w),ot.round(C))!==N&&m++;let F=m/l;return F>.1&&F<.9?0:F<=.1===N?1:-1}getFirstDifferent(s,o,l,f){let h=s.getX()+l,m=s.getY()+f;for(;this.isValid(h,m)&&this.image.get(h,m)===o;)h+=l,m+=f;for(h-=l,m-=f;this.isValid(h,m)&&this.image.get(h,m)===o;)h+=l;for(h-=l;this.isValid(h,m)&&this.image.get(h,m)===o;)m+=f;return m-=f,new on(h,m)}expandSquare(s,o,l){let f=l/(2*o),h=s[0].getX()-s[2].getX(),m=s[0].getY()-s[2].getY(),w=(s[0].getX()+s[2].getX())/2,C=(s[0].getY()+s[2].getY())/2,N=new Ee(w+f*h,C+f*m),k=new Ee(w-f*h,C-f*m);h=s[1].getX()-s[3].getX(),m=s[1].getY()-s[3].getY(),w=(s[1].getX()+s[3].getX())/2,C=(s[1].getY()+s[3].getY())/2;let F=new Ee(w+f*h,C+f*m),H=new Ee(w-f*h,C-f*m);return[N,F,k,H]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=ot.round(s.getX()),l=ot.round(s.getY());return this.isValid(o,l)}distancePoint(s,o){return ot.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return ot.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(j.truncDivision(this.nbLayers-4,8)+1)+15}}class _i{decode(s,o=null){let l=null,f=new si(s.getBlackMatrix()),h=null,m=null;try{let k=f.detectMirror(!1);h=k.getPoints(),this.reportFoundResultPoints(o,h),m=new Nt().decode(k)}catch(k){l=k}if(m==null)try{let k=f.detectMirror(!0);h=k.getPoints(),this.reportFoundResultPoints(o,h),m=new Nt().decode(k)}catch(k){throw l??k}let w=new ft(m.getText(),m.getRawBytes(),m.getNumBits(),h,De.AZTEC,R.currentTimeMillis()),C=m.getByteSegments();C!=null&&w.putMetadata(We.BYTE_SEGMENTS,C);let N=m.getECLevel();return N!=null&&w.putMetadata(We.ERROR_CORRECTION_LEVEL,N),w}reportFoundResultPoints(s,o){if(s!=null){let l=s.get(z.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((f,h,m)=>{l.foundPossibleResultPoint(f)})}}reset(){}}class Fs extends fn{constructor(s=500){super(new _i,s)}}class Jt{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(z.TRY_HARDER)===!0&&s.isRotateSupported()){const h=s.rotateCounterClockwise(),m=this.doDecode(h,o),w=m.getResultMetadata();let C=270;w!==null&&w.get(We.ORIENTATION)===!0&&(C=C+w.get(We.ORIENTATION)%360),m.putMetadata(We.ORIENTATION,C);const N=m.getResultPoints();if(N!==null){const k=h.getHeight();for(let F=0;F<N.length;F++)N[F]=new Ee(k-N[F].getY()-1,N[F].getX())}return m}else throw new ee}}reset(){}doDecode(s,o){const l=s.getWidth(),f=s.getHeight();let h=new q(l);const m=o&&o.get(z.TRY_HARDER)===!0,w=Math.max(1,f>>(m?8:5));let C;m?C=f:C=15;const N=Math.trunc(f/2);for(let k=0;k<C;k++){const F=Math.trunc((k+1)/2),H=(k&1)===0,Z=N+w*(H?F:-F);if(Z<0||Z>=f)break;try{h=s.getBlackRow(Z,h)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(h.reverse(),o&&o.get(z.NEED_RESULT_POINT_CALLBACK)===!0)){const $=new Map;o.forEach((X,te)=>$.set(te,X)),$.delete(z.NEED_RESULT_POINT_CALLBACK),o=$}try{const $=this.decodeRow(Z,h,o);if(U===1){$.putMetadata(We.ORIENTATION,180);const X=$.getResultPoints();X!==null&&(X[0]=new Ee(l-X[0].getX()-1,X[0].getY()),X[1]=new Ee(l-X[1].getX()-1,X[1].getY()))}return $}catch{}}}throw new ee}static recordPattern(s,o,l){const f=l.length;for(let N=0;N<f;N++)l[N]=0;const h=s.getSize();if(o>=h)throw new ee;let m=!s.get(o),w=0,C=o;for(;C<h;){if(s.get(C)!==m)l[w]++;else{if(++w===f)break;l[w]=1,m=!m}C++}if(!(w===f||w===f-1&&C===h))throw new ee}static recordPatternInReverse(s,o,l){let f=l.length,h=s.get(o);for(;o>0&&f>=0;)s.get(--o)!==h&&(f--,h=!h);if(f>=0)throw new ee;Jt.recordPattern(s,o+1,l)}static patternMatchVariance(s,o,l){const f=s.length;let h=0,m=0;for(let N=0;N<f;N++)h+=s[N],m+=o[N];if(h<m)return Number.POSITIVE_INFINITY;const w=h/m;l*=w;let C=0;for(let N=0;N<f;N++){const k=s[N],F=o[N]*w,H=k>F?k-F:F-k;if(H>l)return Number.POSITIVE_INFINITY;C+=H}return C/h}}class Te extends Jt{static findStartPattern(s){const o=s.getSize(),l=s.getNextSet(0);let f=0,h=Int32Array.from([0,0,0,0,0,0]),m=l,w=!1;const C=6;for(let N=l;N<o;N++)if(s.get(N)!==w)h[f]++;else{if(f===C-1){let k=Te.MAX_AVG_VARIANCE,F=-1;for(let H=Te.CODE_START_A;H<=Te.CODE_START_C;H++){const Z=Jt.patternMatchVariance(h,Te.CODE_PATTERNS[H],Te.MAX_INDIVIDUAL_VARIANCE);Z<k&&(k=Z,F=H)}if(F>=0&&s.isRange(Math.max(0,m-(N-m)/2),m,!1))return Int32Array.from([m,N,F]);m+=h[0]+h[1],h=h.slice(2,h.length-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,w=!w}throw new ee}static decodeCode(s,o,l){Jt.recordPattern(s,l,o);let f=Te.MAX_AVG_VARIANCE,h=-1;for(let m=0;m<Te.CODE_PATTERNS.length;m++){const w=Te.CODE_PATTERNS[m],C=this.patternMatchVariance(o,w,Te.MAX_INDIVIDUAL_VARIANCE);C<f&&(f=C,h=m)}if(h>=0)return h;throw new ee}decodeRow(s,o,l){const f=l&&l.get(z.ASSUME_GS1)===!0,h=Te.findStartPattern(o),m=h[2];let w=0;const C=new Uint8Array(20);C[w++]=m;let N;switch(m){case Te.CODE_START_A:N=Te.CODE_CODE_A;break;case Te.CODE_START_B:N=Te.CODE_CODE_B;break;case Te.CODE_START_C:N=Te.CODE_CODE_C;break;default:throw new P}let k=!1,F=!1,H="",Z=h[0],U=h[1];const $=Int32Array.from([0,0,0,0,0,0]);let X=0,te=0,pe=m,xe=0,we=!0,He=!1,st=!1;for(;!k;){const bt=F;switch(F=!1,X=te,te=Te.decodeCode(o,$,U),C[w++]=te,te!==Te.CODE_STOP&&(we=!0),te!==Te.CODE_STOP&&(xe++,pe+=xe*te),Z=U,U+=$.reduce((wp,Vd)=>wp+Vd,0),te){case Te.CODE_START_A:case Te.CODE_START_B:case Te.CODE_START_C:throw new P}switch(N){case Te.CODE_CODE_A:if(te<64)st===He?H+=String.fromCharCode(" ".charCodeAt(0)+te):H+=String.fromCharCode(" ".charCodeAt(0)+te+128),st=!1;else if(te<96)st===He?H+=String.fromCharCode(te-64):H+=String.fromCharCode(te+64),st=!1;else switch(te!==Te.CODE_STOP&&(we=!1),te){case Te.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Te.CODE_FNC_2:case Te.CODE_FNC_3:break;case Te.CODE_FNC_4_A:!He&&st?(He=!0,st=!1):He&&st?(He=!1,st=!1):st=!0;break;case Te.CODE_SHIFT:F=!0,N=Te.CODE_CODE_B;break;case Te.CODE_CODE_B:N=Te.CODE_CODE_B;break;case Te.CODE_CODE_C:N=Te.CODE_CODE_C;break;case Te.CODE_STOP:k=!0;break}break;case Te.CODE_CODE_B:if(te<96)st===He?H+=String.fromCharCode(" ".charCodeAt(0)+te):H+=String.fromCharCode(" ".charCodeAt(0)+te+128),st=!1;else switch(te!==Te.CODE_STOP&&(we=!1),te){case Te.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Te.CODE_FNC_2:case Te.CODE_FNC_3:break;case Te.CODE_FNC_4_B:!He&&st?(He=!0,st=!1):He&&st?(He=!1,st=!1):st=!0;break;case Te.CODE_SHIFT:F=!0,N=Te.CODE_CODE_A;break;case Te.CODE_CODE_A:N=Te.CODE_CODE_A;break;case Te.CODE_CODE_C:N=Te.CODE_CODE_C;break;case Te.CODE_STOP:k=!0;break}break;case Te.CODE_CODE_C:if(te<100)te<10&&(H+="0"),H+=te;else switch(te!==Te.CODE_STOP&&(we=!1),te){case Te.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Te.CODE_CODE_A:N=Te.CODE_CODE_A;break;case Te.CODE_CODE_B:N=Te.CODE_CODE_B;break;case Te.CODE_STOP:k=!0;break}break}bt&&(N=N===Te.CODE_CODE_A?Te.CODE_CODE_B:Te.CODE_CODE_A)}const _r=U-Z;if(U=o.getNextUnset(U),!o.isRange(U,Math.min(o.getSize(),U+(U-Z)/2),!1))throw new ee;if(pe-=xe*X,pe%103!==X)throw new T;const xn=H.length;if(xn===0)throw new ee;xn>0&&we&&(N===Te.CODE_CODE_C?H=H.substring(0,xn-2):H=H.substring(0,xn-1));const er=(h[1]+h[0])/2,Qt=Z+_r/2,vn=C.length,or=new Uint8Array(vn);for(let bt=0;bt<vn;bt++)or[bt]=C[bt];const Ki=[new Ee(er,s),new Ee(Qt,s)];return new ft(H,or,0,Ki,De.CODE_128,new Date().getTime())}}Te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Te.MAX_AVG_VARIANCE=.25,Te.MAX_INDIVIDUAL_VARIANCE=.7,Te.CODE_SHIFT=98,Te.CODE_CODE_C=99,Te.CODE_CODE_B=100,Te.CODE_CODE_A=101,Te.CODE_FNC_1=102,Te.CODE_FNC_2=97,Te.CODE_FNC_3=96,Te.CODE_FNC_4_A=101,Te.CODE_FNC_4_B=100,Te.CODE_START_A=103,Te.CODE_START_B=104,Te.CODE_START_C=105,Te.CODE_STOP=106;class tn extends Jt{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,l){let f=this.counters;f.fill(0),this.decodeRowResult="";let h=tn.findAsteriskPattern(o,f),m=o.getNextSet(h[1]),w=o.getSize(),C,N;do{tn.recordPattern(o,m,f);let $=tn.toNarrowWidePattern(f);if($<0)throw new ee;C=tn.patternToChar($),this.decodeRowResult+=C,N=m;for(let X of f)m+=X;m=o.getNextSet(m)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let k=0;for(let $ of f)k+=$;let F=m-N-k;if(m!==w&&F*2<k)throw new ee;if(this.usingCheckDigit){let $=this.decodeRowResult.length-1,X=0;for(let te=0;te<$;te++)X+=tn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt($)!==tn.ALPHABET_STRING.charAt(X%43))throw new T;this.decodeRowResult=this.decodeRowResult.substring(0,$)}if(this.decodeRowResult.length===0)throw new ee;let H;this.extendedMode?H=tn.decodeExtended(this.decodeRowResult):H=this.decodeRowResult;let Z=(h[1]+h[0])/2,U=N+k/2;return new ft(H,null,0,[new Ee(Z,s),new Ee(U,s)],De.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let l=s.getSize(),f=s.getNextSet(0),h=0,m=f,w=!1,C=o.length;for(let N=f;N<l;N++)if(s.get(N)!==w)o[h]++;else{if(h===C-1){if(this.toNarrowWidePattern(o)===tn.ASTERISK_ENCODING&&s.isRange(Math.max(0,m-Math.floor((N-m)/2)),m,!1))return[m,N];m+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,w=!w}throw new ee}static toNarrowWidePattern(s){let o=s.length,l=0,f;do{let h=2147483647;for(let C of s)C<h&&C>l&&(h=C);l=h,f=0;let m=0,w=0;for(let C=0;C<o;C++){let N=s[C];N>l&&(w|=1<<o-1-C,f++,m+=N)}if(f===3){for(let C=0;C<o&&f>0;C++){let N=s[C];if(N>l&&(f--,N*2>=m))return-1}return w}}while(f>3);return-1}static patternToChar(s){for(let o=0;o<tn.CHARACTER_ENCODINGS.length;o++)if(tn.CHARACTER_ENCODINGS[o]===s)return tn.ALPHABET_STRING.charAt(o);if(s===tn.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(s){let o=s.length,l="";for(let f=0;f<o;f++){let h=s.charAt(f);if(h==="+"||h==="$"||h==="%"||h==="/"){let m=s.charAt(f+1),w="\0";switch(h){case"+":if(m>="A"&&m<="Z")w=String.fromCharCode(m.charCodeAt(0)+32);else throw new P;break;case"$":if(m>="A"&&m<="Z")w=String.fromCharCode(m.charCodeAt(0)-64);else throw new P;break;case"%":if(m>="A"&&m<="E")w=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")w=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")w=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")w=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")w="\0";else if(m==="V")w="@";else if(m==="W")w="`";else if(m==="X"||m==="Y"||m==="Z")w="";else throw new P;break;case"/":if(m>="A"&&m<="O")w=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")w=":";else throw new P;break}l+=w,f++}else l+=h}return l}}tn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",tn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],tn.ASTERISK_ENCODING=148;class _t extends Jt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,l){let f=this.decodeStart(o),h=this.decodeEnd(o),m=new ne;_t.decodeMiddle(o,f[1],h[0],m);let w=m.toString(),C=null;l!=null&&(C=l.get(z.ALLOWED_LENGTHS)),C==null&&(C=_t.DEFAULT_ALLOWED_LENGTHS);let N=w.length,k=!1,F=0;for(let U of C){if(N===U){k=!0;break}U>F&&(F=U)}if(!k&&N>F&&(k=!0),!k)throw new P;const H=[new Ee(f[1],s),new Ee(h[0],s)];return new ft(w,null,0,H,De.ITF,new Date().getTime())}static decodeMiddle(s,o,l,f){let h=new Int32Array(10),m=new Int32Array(5),w=new Int32Array(5);for(h.fill(0),m.fill(0),w.fill(0);o<l;){Jt.recordPattern(s,o,h);for(let N=0;N<5;N++){let k=2*N;m[N]=h[k],w[N]=h[k+1]}let C=_t.decodeDigit(m);f.append(C.toString()),C=this.decodeDigit(w),f.append(C.toString()),h.forEach(function(N){o+=N})}}decodeStart(s){let o=_t.skipWhiteSpace(s),l=_t.findGuardPattern(s,o,_t.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let f=o-1;l>0&&f>=0&&!s.get(f);f--)l--;if(l!==0)throw new ee}static skipWhiteSpace(s){const o=s.getSize(),l=s.getNextSet(0);if(l===o)throw new ee;return l}decodeEnd(s){s.reverse();try{let o=_t.skipWhiteSpace(s),l;try{l=_t.findGuardPattern(s,o,_t.END_PATTERN_REVERSED[0])}catch(h){h instanceof ee&&(l=_t.findGuardPattern(s,o,_t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let f=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-f,l}finally{s.reverse()}}static findGuardPattern(s,o,l){let f=l.length,h=new Int32Array(f),m=s.getSize(),w=!1,C=0,N=o;h.fill(0);for(let k=o;k<m;k++)if(s.get(k)!==w)h[C]++;else{if(C===f-1){if(Jt.patternMatchVariance(h,l,_t.MAX_INDIVIDUAL_VARIANCE)<_t.MAX_AVG_VARIANCE)return[N,k];N+=h[0]+h[1],R.arraycopy(h,2,h,0,C-1),h[C-1]=0,h[C]=0,C--}else C++;h[C]=1,w=!w}throw new ee}static decodeDigit(s){let o=_t.MAX_AVG_VARIANCE,l=-1,f=_t.PATTERNS.length;for(let h=0;h<f;h++){let m=_t.PATTERNS[h],w=Jt.patternMatchVariance(s,m,_t.MAX_INDIVIDUAL_VARIANCE);w<o?(o=w,l=h):w===o&&(l=-1)}if(l>=0)return l%10;throw new ee}}_t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],_t.MAX_AVG_VARIANCE=.38,_t.MAX_INDIVIDUAL_VARIANCE=.5,_t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],_t.START_PATTERN=Int32Array.from([1,1,1,1]),_t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ut extends Jt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,l,f=0,h=Int32Array.from([0,0,0]);for(;!o;){h=Int32Array.from([0,0,0]),l=Ut.findGuardPattern(s,f,!1,this.START_END_PATTERN,h);let m=l[0];f=l[1];let w=m-(f-m);w>=0&&(o=s.isRange(w,m,!1))}return l}static checkChecksum(s){return Ut.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return Ut.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new P;l+=h}l*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new P;l+=h}return(1e3-l)%10}static decodeEnd(s,o){return Ut.findGuardPattern(s,o,!1,Ut.START_END_PATTERN,new Int32Array(Ut.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,l,f){return this.findGuardPattern(s,o,l,f,new Int32Array(f.length))}static findGuardPattern(s,o,l,f,h){let m=s.getSize();o=l?s.getNextUnset(o):s.getNextSet(o);let w=0,C=o,N=f.length,k=l;for(let F=o;F<m;F++)if(s.get(F)!==k)h[w]++;else{if(w===N-1){if(Jt.patternMatchVariance(h,f,Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE)return Int32Array.from([C,F]);C+=h[0]+h[1];let H=h.slice(2,h.length-1);for(let Z=0;Z<w-1;Z++)h[Z]=H[Z];h[w-1]=0,h[w]=0,w--}else w++;h[w]=1,k=!k}throw new ee}static decodeDigit(s,o,l,f){this.recordPattern(s,l,o);let h=this.MAX_AVG_VARIANCE,m=-1,w=f.length;for(let C=0;C<w;C++){let N=f[C],k=Jt.patternMatchVariance(o,N,Ut.MAX_INDIVIDUAL_VARIANCE);k<h&&(h=k,m=C)}if(m>=0)return m;throw new ee}}Ut.MAX_AVG_VARIANCE=.48,Ut.MAX_INDIVIDUAL_VARIANCE=.7,Ut.START_END_PATTERN=Int32Array.from([1,1,1]),Ut.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ut.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ut.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Gi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,l,f),m=f.toString(),w=Gi.parseExtensionString(m),C=[new Ee((l[0]+l[1])/2,s),new Ee(h,s)],N=new ft(m,null,0,C,De.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&N.putAllMetadata(w),N}decodeMiddle(s,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1],w=0;for(let N=0;N<5&&m<h;N++){let k=Ut.decodeDigit(s,f,m,Ut.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+k%10);for(let F of f)m+=F;k>=10&&(w|=1<<4-N),N!==4&&(m=s.getNextSet(m),m=s.getNextUnset(m))}if(l.length!==5)throw new ee;let C=this.determineCheckDigit(w);if(Gi.extensionChecksum(l.toString())!==C)throw new ee;return m}static extensionChecksum(s){let o=s.length,l=0;for(let f=o-2;f>=0;f-=2)l+=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);l*=3;for(let f=o-1;f>=0;f-=2)l+=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);return l*=3,l%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ee}static parseExtensionString(s){if(s.length!==5)return null;let o=Gi.parseExtension5String(s);return o==null?null:new Map([[We.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(s.substring(1)),f=(l/100).toString(),h=l%100,m=h<10?"0"+h:h.toString();return o+f+"."+m}}class vo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,l,f),m=f.toString(),w=vo.parseExtensionString(m),C=[new Ee((l[0]+l[1])/2,s),new Ee(h,s)],N=new ft(m,null,0,C,De.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&N.putAllMetadata(w),N}decodeMiddle(s,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1],w=0;for(let C=0;C<2&&m<h;C++){let N=Ut.decodeDigit(s,f,m,Ut.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+N%10);for(let k of f)m+=k;N>=10&&(w|=1<<1-C),C!==1&&(m=s.getNextSet(m),m=s.getNextUnset(m))}if(l.length!==2)throw new ee;if(parseInt(l.toString())%4!==w)throw new ee;return m}static parseExtensionString(s){return s.length!==2?null:new Map([[We.ISSUE_NUMBER,parseInt(s)]])}}class Td{static decodeRow(s,o,l){let f=Ut.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Gi().decodeRow(s,o,f)}catch{return new vo().decodeRow(s,o,f)}}}Td.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Tt extends Ut{constructor(){super(),this.decodeRowStringBuffer="",Tt.L_AND_G_PATTERNS=Tt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=Tt.L_PATTERNS[s-10],l=new Int32Array(o.length);for(let f=0;f<o.length;f++)l[f]=o[o.length-f-1];Tt.L_AND_G_PATTERNS[s]=l}}decodeRow(s,o,l){let f=Tt.findStartGuardPattern(o),h=l==null?null:l.get(z.NEED_RESULT_POINT_CALLBACK);if(h!=null){const we=new Ee((f[0]+f[1])/2,s);h.foundPossibleResultPoint(we)}let m=this.decodeMiddle(o,f,this.decodeRowStringBuffer),w=m.rowOffset,C=m.resultString;if(h!=null){const we=new Ee(w,s);h.foundPossibleResultPoint(we)}let N=this.decodeEnd(o,w);if(h!=null){const we=new Ee((N[0]+N[1])/2,s);h.foundPossibleResultPoint(we)}let k=N[1],F=k+(k-N[0]);if(F>=o.getSize()||!o.isRange(k,F,!1))throw new ee;let H=C.toString();if(H.length<8)throw new P;if(!Tt.checkChecksum(H))throw new T;let Z=(f[1]+f[0])/2,U=(N[1]+N[0])/2,$=this.getBarcodeFormat(),X=[new Ee(Z,s),new Ee(U,s)],te=new ft(H,null,0,X,$,new Date().getTime()),pe=0;try{let we=Td.decodeRow(s,o,N[1]);te.putMetadata(We.UPC_EAN_EXTENSION,we.getText()),te.putAllMetadata(we.getResultMetadata()),te.addResultPoints(we.getResultPoints()),pe=we.getText().length}catch{}let xe=l==null?null:l.get(z.ALLOWED_EAN_EXTENSIONS);if(xe!=null){let we=!1;for(let He in xe)if(pe.toString()===He){we=!0;break}if(!we)throw new ee}return te}decodeEnd(s,o){return Tt.findGuardPattern(s,o,!1,Tt.START_END_PATTERN,new Int32Array(Tt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Tt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return Tt.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new P;l+=h}l*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new P;l+=h}return(1e3-l)%10}}class ms extends Tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1],w=0;for(let N=0;N<6&&m<h;N++){let k=Tt.decodeDigit(s,f,m,Tt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+k%10);for(let F of f)m+=F;k>=10&&(w|=1<<5-N)}l=ms.determineFirstDigit(l,w),m=Tt.findGuardPattern(s,m,!0,Tt.MIDDLE_PATTERN,new Int32Array(Tt.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&m<h;N++){let k=Tt.decodeDigit(s,f,m,Tt.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+k);for(let F of f)m+=F}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return De.EAN_13}static determineFirstDigit(s,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode("0".charCodeAt(0)+l)+s,s;throw new ee}}ms.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class kd extends Tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=o[1];for(let C=0;C<4&&m<h;C++){let N=Tt.decodeDigit(s,f,m,Tt.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+N);for(let k of f)m+=k}m=Tt.findGuardPattern(s,m,!0,Tt.MIDDLE_PATTERN,new Int32Array(Tt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&m<h;C++){let N=Tt.decodeDigit(s,f,m,Tt.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+N);for(let k of f)m+=k}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return De.EAN_8}}class Dd extends Tt{constructor(){super(...arguments),this.ean13Reader=new ms}getBarcodeFormat(){return De.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,l))}decodeMiddle(s,o,l){return this.ean13Reader.decodeMiddle(s,o,l)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let l=new ft(o.substring(1),null,null,s.getResultPoints(),De.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new ee}reset(){this.ean13Reader.reset()}}class ai extends Tt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,l){const f=this.decodeMiddleCounters.map(N=>N);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const h=s.getSize();let m=o[1],w=0;for(let N=0;N<6&&m<h;N++){const k=ai.decodeDigit(s,f,m,ai.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+k%10);for(let F of f)m+=F;k>=10&&(w|=1<<5-N)}let C=ai.determineNumSysAndCheckDigit(l,w);return{rowOffset:m,resultString:C}}decodeEnd(s,o){return ai.findGuardPatternWithoutCounters(s,o,!0,ai.MIDDLE_END_PATTERN)}checkChecksum(s){return Tt.checkChecksum(ai.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let l=0;l<=1;l++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][f]){let h=String.fromCharCode("0".charCodeAt(0)+l),m=String.fromCharCode("0".charCodeAt(0)+f);return h+s+m}throw ee.getNotFoundInstance()}getBarcodeFormat(){return De.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(h=>h.charCodeAt(0)),l=new ne;l.append(s.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(f),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(f);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}ai.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ai.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Lc extends Jt{constructor(s){super();let o=s==null?null:s.get(z.POSSIBLE_FORMATS),l=[];r(o)?(l.push(new ms),l.push(new Dd),l.push(new kd),l.push(new ai)):(o.indexOf(De.EAN_13)>-1&&l.push(new ms),o.indexOf(De.UPC_A)>-1&&l.push(new Dd),o.indexOf(De.EAN_8)>-1&&l.push(new kd),o.indexOf(De.UPC_E)>-1&&l.push(new ai)),this.readers=l}decodeRow(s,o,l){for(let f of this.readers)try{const h=f.decodeRow(s,o,l),m=h.getBarcodeFormat()===De.EAN_13&&h.getText().charAt(0)==="0",w=l==null?null:l.get(z.POSSIBLE_FORMATS),C=w==null||w.includes(De.UPC_A);if(m&&C){const N=h.getRawBytes(),k=new ft(h.getText().substring(1),N,N?N.length:null,h.getResultPoints(),De.UPC_A);return k.putAllMetadata(h.getResultMetadata()),k}return h}catch{}throw new ee}reset(){for(let s of this.readers)s.reset()}}class Kn extends Jt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let l=0;l<o.length;l++)if(Jt.patternMatchVariance(s,o[l],Kn.MAX_INDIVIDUAL_VARIANCE)<Kn.MAX_AVG_VARIANCE)return l;throw new ee}static count(s){return ot.sum(new Int32Array(s))}static increment(s,o){let l=0,f=o[0];for(let h=1;h<s.length;h++)o[h]>f&&(f=o[h],l=h);s[l]++}static decrement(s,o){let l=0,f=o[0];for(let h=1;h<s.length;h++)o[h]<f&&(f=o[h],l=h);s[l]--}static isFinderPattern(s){let o=s[0]+s[1],l=o+s[2]+s[3],f=o/l;if(f>=Kn.MIN_FINDER_PATTERN_RATIO&&f<=Kn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let w of s)w>m&&(m=w),w<h&&(h=w);return m<10*h}return!1}}Kn.MAX_AVG_VARIANCE=.2,Kn.MAX_INDIVIDUAL_VARIANCE=.45,Kn.MIN_FINDER_PATTERN_RATIO=9.5/12,Kn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ca{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Ca))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class xl{constructor(s,o,l,f,h){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ee(l,h)),this.resultPoints.push(new Ee(f,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof xl))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class Si{constructor(){}static getRSSvalue(s,o,l){let f=0;for(let C of s)f+=C;let h=0,m=0,w=s.length;for(let C=0;C<w-1;C++){let N;for(N=1,m|=1<<C;N<s[C];N++,m&=~(1<<C)){let k=Si.combins(f-N-1,w-C-2);if(l&&m===0&&f-N-(w-C-1)>=w-C-1&&(k-=Si.combins(f-N-(w-C),w-C-2)),w-C-1>1){let F=0;for(let H=f-N-(w-C-2);H>o;H--)F+=Si.combins(f-N-H-1,w-C-3);k-=F*(w-1-C)}else f-N>o&&k--;h+=k}f-=N}return h}static combins(s,o){let l,f;s-o>o?(f=o,l=s-o):(f=s-o,l=o);let h=1,m=1;for(let w=s;w>l;w--)h*=w,m<=f&&(h/=m,m++);for(;m<=f;)h/=m,m++;return h}}class Pc{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let l=12*o,f=new q(l),h=0,w=s[0].getRightChar().getValue();for(let C=11;C>=0;--C)w&1<<C&&f.set(h),h++;for(let C=1;C<s.length;++C){let N=s[C],k=N.getLeftChar().getValue();for(let F=11;F>=0;--F)k&1<<F&&f.set(h),h++;if(N.getRightChar()!=null){let F=N.getRightChar().getValue();for(let H=11;H>=0;--H)F&1<<H&&f.set(h),h++}}return f}}class Bs{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class wo{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class br extends wo{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===br.FNC1}}br.FNC1="$";class Us extends wo{constructor(s,o,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class $r extends wo{constructor(s,o,l){if(super(s),o<0||o>10||l<0||l>10)throw new P;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===$r.FNC1}isSecondDigitFNC1(){return this.secondDigit===$r.FNC1}isAnyFNC1(){return this.firstDigit===$r.FNC1||this.secondDigit===$r.FNC1}}$r.FNC1=10;class Le{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new ee;let o=s.substring(0,2);for(let h of Le.TWO_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(2,h[2],s):Le.processFixedAI(2,h[1],s);if(s.length<3)throw new ee;let l=s.substring(0,3);for(let h of Le.THREE_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(3,h[2],s):Le.processFixedAI(3,h[1],s);for(let h of Le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(4,h[2],s):Le.processFixedAI(4,h[1],s);if(s.length<4)throw new ee;let f=s.substring(0,4);for(let h of Le.FOUR_DIGIT_DATA_LENGTH)if(h[0]===f)return h[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(4,h[2],s):Le.processFixedAI(4,h[1],s);throw new ee}static processFixedAI(s,o,l){if(l.length<s)throw new ee;let f=l.substring(0,s);if(l.length<s+o)throw new ee;let h=l.substring(s,s+o),m=l.substring(s+o),w="("+f+")"+h,C=Le.parseFieldsInGeneralPurpose(m);return C==null?w:w+C}static processVariableAI(s,o,l){let f=l.substring(0,s),h;l.length<s+o?h=l.length:h=s+o;let m=l.substring(s,h),w=l.substring(h),C="("+f+")"+m,N=Le.parseFieldsInGeneralPurpose(w);return N==null?C:C+N}}Le.VARIABLE_LENGTH=[],Le.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Le.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Le.VARIABLE_LENGTH,20],["22",Le.VARIABLE_LENGTH,29],["30",Le.VARIABLE_LENGTH,8],["37",Le.VARIABLE_LENGTH,8],["90",Le.VARIABLE_LENGTH,30],["91",Le.VARIABLE_LENGTH,30],["92",Le.VARIABLE_LENGTH,30],["93",Le.VARIABLE_LENGTH,30],["94",Le.VARIABLE_LENGTH,30],["95",Le.VARIABLE_LENGTH,30],["96",Le.VARIABLE_LENGTH,30],["97",Le.VARIABLE_LENGTH,3],["98",Le.VARIABLE_LENGTH,30],["99",Le.VARIABLE_LENGTH,30]],Le.THREE_DIGIT_DATA_LENGTH=[["240",Le.VARIABLE_LENGTH,30],["241",Le.VARIABLE_LENGTH,30],["242",Le.VARIABLE_LENGTH,6],["250",Le.VARIABLE_LENGTH,30],["251",Le.VARIABLE_LENGTH,30],["253",Le.VARIABLE_LENGTH,17],["254",Le.VARIABLE_LENGTH,20],["400",Le.VARIABLE_LENGTH,30],["401",Le.VARIABLE_LENGTH,30],["402",17],["403",Le.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Le.VARIABLE_LENGTH,20],["421",Le.VARIABLE_LENGTH,15],["422",3],["423",Le.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Le.VARIABLE_LENGTH,15],["391",Le.VARIABLE_LENGTH,18],["392",Le.VARIABLE_LENGTH,15],["393",Le.VARIABLE_LENGTH,18],["703",Le.VARIABLE_LENGTH,30]],Le.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Le.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Le.VARIABLE_LENGTH,20],["8003",Le.VARIABLE_LENGTH,30],["8004",Le.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Le.VARIABLE_LENGTH,30],["8008",Le.VARIABLE_LENGTH,12],["8018",18],["8020",Le.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Le.VARIABLE_LENGTH,70],["8200",Le.VARIABLE_LENGTH,70]];class Ea{constructor(s){this.buffer=new ne,this.information=s}decodeAllCodes(s,o){let l=o,f=null;do{let h=this.decodeGeneralPurposeField(l,f),m=Le.parseFieldsInGeneralPurpose(h.getNewString());if(m!=null&&s.append(m),h.isRemaining()?f=""+h.getRemainingValue():f=null,l===h.getNewPosition())break;l=h.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(s,4);return h===0?new $r(this.information.getSize(),$r.FNC1,$r.FNC1):new $r(this.information.getSize(),h-1,$r.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),l=(o-8)/11,f=(o-8)%11;return new $r(s+7,l,f)}extractNumericValueFromBitArray(s,o){return Ea.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,l){let f=0;for(let h=0;h<l;++h)s.get(o+h)&&(f|=1<<l-h-1);return f}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Us(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Us(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new Us(this.current.getPosition(),this.buffer.toString()):o=new Us(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Bs(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new Us(this.current.getPosition(),this.buffer.toString());return new Bs(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Bs(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Us(this.current.getPosition(),this.buffer.toString());return new Bs(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Bs(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Us(this.current.getPosition(),this.buffer.toString());return new Bs(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Bs(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(s,8);return f>=232&&f<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new br(s+5,br.FNC1);if(o>=5&&o<15)return new br(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new br(s+7,""+(l+1));if(l>=90&&l<116)return new br(s+7,""+(l+7));let f=this.extractNumericValueFromBitArray(s,8),h;switch(f){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new P}return new br(s+8,h)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new br(s+5,br.FNC1);if(o>=5&&o<15)return new br(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new br(s+6,""+(l+33));let f;switch(l){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new jt("Decoding invalid alphanumeric value: "+l)}return new br(s+6,f)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class Fc{constructor(s){this.information=s,this.generalDecoder=new Ea(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Cr extends Fc{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,l)}encodeCompressedGtinWithoutAI(s,o,l){for(let f=0;f<4;++f){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);h/100===0&&s.append("0"),h/10===0&&s.append("0"),s.append(h)}Cr.appendCheckDigit(s,l)}static appendCheckDigit(s,o){let l=0;for(let f=0;f<13;f++){let h=s.charAt(f+o).charCodeAt(0)-"0".charCodeAt(0);l+=f&1?h:3*h}l=10-l%10,l===10&&(l=0),s.append(l)}}Cr.GTIN_SIZE=40;class Na extends Cr{constructor(s){super(s)}parseInformation(){let s=new ne;s.append("(01)");let o=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Na.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,Na.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,Na.HEADER_SIZE+44)}}Na.HEADER_SIZE=1+1+2;class yo extends Fc{constructor(s){super(s)}parseInformation(){let s=new ne;return this.getGeneralDecoder().decodeAllCodes(s,yo.HEADER_SIZE)}}yo.HEADER_SIZE=2+1+2;class vl extends Cr{constructor(s){super(s)}encodeCompressedWeight(s,o,l){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(s,f);let h=this.checkWeight(f),m=1e5;for(let w=0;w<5;++w)h/m===0&&s.append("0"),m/=10;s.append(h)}}class Ai extends vl{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Ai.HEADER_SIZE+vl.GTIN_SIZE+Ai.WEIGHT_SIZE)throw new ee;let s=new ne;return this.encodeCompressedGtin(s,Ai.HEADER_SIZE),this.encodeCompressedWeight(s,Ai.HEADER_SIZE+vl.GTIN_SIZE,Ai.WEIGHT_SIZE),s.toString()}}Ai.HEADER_SIZE=4+1,Ai.WEIGHT_SIZE=15;class lp extends Ai{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class cp extends Ai{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Ti extends Cr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Ti.HEADER_SIZE+Cr.GTIN_SIZE)throw new ee;let s=new ne;this.encodeCompressedGtin(s,Ti.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ti.HEADER_SIZE+Cr.GTIN_SIZE,Ti.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Ti.HEADER_SIZE+Cr.GTIN_SIZE+Ti.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}Ti.HEADER_SIZE=5+1+2,Ti.LAST_DIGIT_SIZE=2;class pr extends Cr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<pr.HEADER_SIZE+Cr.GTIN_SIZE)throw new ee;let s=new ne;this.encodeCompressedGtin(s,pr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(pr.HEADER_SIZE+Cr.GTIN_SIZE,pr.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(pr.HEADER_SIZE+Cr.GTIN_SIZE+pr.LAST_DIGIT_SIZE,pr.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let f=this.getGeneralDecoder().decodeGeneralPurposeField(pr.HEADER_SIZE+Cr.GTIN_SIZE+pr.LAST_DIGIT_SIZE+pr.FIRST_THREE_DIGITS_SIZE,null);return s.append(f.getNewString()),s.toString()}}pr.HEADER_SIZE=5+1+2,pr.LAST_DIGIT_SIZE=2,pr.FIRST_THREE_DIGITS_SIZE=10;class $t extends vl{constructor(s,o,l){super(s),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=$t.HEADER_SIZE+$t.GTIN_SIZE+$t.WEIGHT_SIZE+$t.DATE_SIZE)throw new ee;let s=new ne;return this.encodeCompressedGtin(s,$t.HEADER_SIZE),this.encodeCompressedWeight(s,$t.HEADER_SIZE+$t.GTIN_SIZE,$t.WEIGHT_SIZE),this.encodeCompressedDate(s,$t.HEADER_SIZE+$t.GTIN_SIZE+$t.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,$t.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let f=l%32;l/=32;let h=l%12+1;l/=12;let m=l;m/10==0&&s.append("0"),s.append(m),h/10==0&&s.append("0"),s.append(h),f/10==0&&s.append("0"),s.append(f)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}$t.HEADER_SIZE=7+1,$t.WEIGHT_SIZE=20,$t.DATE_SIZE=16;function Id(L){try{if(L.get(1))return new Na(L);if(!L.get(2))return new yo(L);switch(Ea.extractNumericValueFromBitArray(L,1,4)){case 4:return new lp(L);case 5:return new cp(L)}switch(Ea.extractNumericValueFromBitArray(L,1,5)){case 12:return new Ti(L);case 13:return new pr(L)}switch(Ea.extractNumericValueFromBitArray(L,1,7)){case 56:return new $t(L,"310","11");case 57:return new $t(L,"320","11");case 58:return new $t(L,"310","13");case 59:return new $t(L,"320","13");case 60:return new $t(L,"310","15");case 61:return new $t(L,"320","15");case 62:return new $t(L,"310","17");case 63:return new $t(L,"320","17")}}catch(s){throw console.log(s),new jt("unknown decoder: "+L)}}class oi{constructor(s,o,l,f){this.leftchar=s,this.rightchar=o,this.finderpattern=l,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof oi?oi.equalsOrNull(s.leftchar,o.leftchar)&&oi.equalsOrNull(s.rightchar,o.rightchar)&&oi.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:oi.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Bc{constructor(s,o,l){this.pairs=s,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof Bc?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let l;return s.forEach((f,h)=>{o.forEach(m=>{f.getLeftChar().getValue()===m.getLeftChar().getValue()&&f.getRightChar().getValue()===m.getRightChar().getValue()&&f.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(l=!0)})}),l}}class Ce extends Kn{constructor(s){super(...arguments),this.pairs=new Array(Ce.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,l){this.pairs.length=0,this.startFromEven=!1;try{return Ce.constructResult(this.decodeRow2pairs(s,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,Ce.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(h){if(h instanceof ee){if(!this.pairs.length)throw new ee;l=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(s,!1),f){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new ee}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let l=o;l<this.rows.length;l++){let f=this.rows[l];this.pairs.length=0;for(let m of s)this.pairs.push(m.getPairs());if(this.pairs.push(f.getPairs()),!Ce.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(s);h.push(f);try{return this.checkRows(h,l+1)}catch(m){this.verbose&&console.log(m)}}throw new ee}static isValidSequence(s){for(let o of Ce.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let l=!0;for(let f=0;f<s.length;f++)if(s[f].getFinderPattern().getValue()!=o[f]){l=!1;break}if(l)return!0}return!1}storeRow(s,o){let l=0,f=!1,h=!1;for(;l<this.rows.length;){let m=this.rows[l];if(m.getRowNumber()>s){h=m.isEquivalent(this.pairs);break}f=m.isEquivalent(this.pairs),l++}h||f||Ce.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Bc(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let l of o)if(l.getPairs().length!==s.length){for(let f of l.getPairs())for(let h of s)if(oi.equals(f,h))break}}static isPartialRow(s,o){for(let l of o){let f=!0;for(let h of s){let m=!1;for(let w of l.getPairs())if(h.equals(w)){m=!0;break}if(!m){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=Pc.buildBitArray(s),f=Id(o).parseInformation(),h=s[0].getFinderPattern().getResultPoints(),m=s[s.length-1].getFinderPattern().getResultPoints(),w=[h[0],h[1],m[0],m[1]];return new ft(f,null,null,w,De.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let f=l.getChecksumPortion(),h=2;for(let w=1;w<this.pairs.size();++w){let C=this.pairs.get(w);f+=C.getLeftChar().getChecksumPortion(),h++;let N=C.getRightChar();N!=null&&(f+=N.getChecksumPortion(),h++)}return f%=211,211*(h-4)+f==o.getValue()}static getNextSecondBar(s,o){let l;return s.get(o)?(l=s.getNextUnset(o),l=s.getNextSet(l)):(l=s.getNextSet(o),l=s.getNextUnset(l)),l}retrieveNextPair(s,o,l){let f=o.length%2==0;this.startFromEven&&(f=!f);let h,m=!0,w=-1;do this.findNextPair(s,o,w),h=this.parseFoundFinderPattern(s,l,f),h==null?w=Ce.getNextSecondBar(s,this.startEnd[0]):m=!1;while(m);let C=this.decodeDataCharacter(s,h,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ee;let N;try{N=this.decodeDataCharacter(s,h,f,!1)}catch(k){N=null,this.verbose&&console.log(k)}return new oi(C,N,h,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,l){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m;l>=0?m=l:this.isEmptyPair(o)?m=0:m=o[o.length-1].getFinderPattern().getStartEnd()[1];let w=o.length%2!=0;this.startFromEven&&(w=!w);let C=!1;for(;m<h&&(C=!s.get(m),!!C);)m++;let N=0,k=m;for(let F=m;F<h;F++)if(s.get(F)!=C)f[N]++;else{if(N==3){if(w&&Ce.reverseCounters(f),Ce.isFinderPattern(f)){this.startEnd[0]=k,this.startEnd[1]=F;return}w&&Ce.reverseCounters(f),k+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,N--}else N++;f[N]=1,C=!C}throw new ee}static reverseCounters(s){let o=s.length;for(let l=0;l<o/2;++l){let f=s[l];s[l]=s[o-l-1],s[o-l-1]=f}}parseFoundFinderPattern(s,o,l){let f,h,m;if(l){let N=this.startEnd[0]-1;for(;N>=0&&!s.get(N);)N--;N++,f=this.startEnd[0]-N,h=N,m=this.startEnd[1]}else h=this.startEnd[0],m=s.getNextUnset(this.startEnd[1]+1),f=m-this.startEnd[1];let w=this.getDecodeFinderCounters();R.arraycopy(w,0,w,1,w.length-1),w[0]=f;let C;try{C=this.parseFinderValue(w,Ce.FINDER_PATTERNS)}catch{return null}return new xl(C,[h,m],h,m,o)}decodeDataCharacter(s,o,l,f){let h=this.getDataCharacterCounters();for(let Qt=0;Qt<h.length;Qt++)h[Qt]=0;if(f)Ce.recordPatternInReverse(s,o.getStartEnd()[0],h);else{Ce.recordPattern(s,o.getStartEnd()[1],h);for(let Qt=0,vn=h.length-1;Qt<vn;Qt++,vn--){let or=h[Qt];h[Qt]=h[vn],h[vn]=or}}let m=17,w=ot.sum(new Int32Array(h))/m,C=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(w-C)/C>.3)throw new ee;let N=this.getOddCounts(),k=this.getEvenCounts(),F=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let Qt=0;Qt<h.length;Qt++){let vn=1*h[Qt]/w,or=vn+.5;if(or<1){if(vn<.3)throw new ee;or=1}else if(or>8){if(vn>8.7)throw new ee;or=8}let Ki=Qt/2;Qt&1?(k[Ki]=or,H[Ki]=vn-or):(N[Ki]=or,F[Ki]=vn-or)}this.adjustOddEvenCounts(m);let Z=4*o.getValue()+(l?0:2)+(f?0:1)-1,U=0,$=0;for(let Qt=N.length-1;Qt>=0;Qt--){if(Ce.isNotA1left(o,l,f)){let vn=Ce.WEIGHTS[Z][2*Qt];$+=N[Qt]*vn}U+=N[Qt]}let X=0;for(let Qt=k.length-1;Qt>=0;Qt--)if(Ce.isNotA1left(o,l,f)){let vn=Ce.WEIGHTS[Z][2*Qt+1];X+=k[Qt]*vn}let te=$+X;if(U&1||U>13||U<4)throw new ee;let pe=(13-U)/2,xe=Ce.SYMBOL_WIDEST[pe],we=9-xe,He=Si.getRSSvalue(N,xe,!0),st=Si.getRSSvalue(k,we,!1),_r=Ce.EVEN_TOTAL_SUBSET[pe],xn=Ce.GSUM[pe],er=He*_r+st+xn;return new Ca(er,te)}static isNotA1left(s,o,l){return!(s.getValue()==0&&o&&l)}adjustOddEvenCounts(s){let o=ot.sum(new Int32Array(this.getOddCounts())),l=ot.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let m=!1,w=!1;l>13?w=!0:l<4&&(m=!0);let C=o+l-s,N=(o&1)==1,k=(l&1)==0;if(C==1)if(N){if(k)throw new ee;h=!0}else{if(!k)throw new ee;w=!0}else if(C==-1)if(N){if(k)throw new ee;f=!0}else{if(!k)throw new ee;m=!0}else if(C==0){if(N){if(!k)throw new ee;o<l?(f=!0,w=!0):(h=!0,m=!0)}else if(k)throw new ee}else throw new ee;if(f){if(h)throw new ee;Ce.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Ce.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(w)throw new ee;Ce.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&Ce.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ce.SYMBOL_WIDEST=[7,5,4,3,1],Ce.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ce.GSUM=[0,348,1388,2948,3988],Ce.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ce.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ce.FINDER_PAT_A=0,Ce.FINDER_PAT_B=1,Ce.FINDER_PAT_C=2,Ce.FINDER_PAT_D=3,Ce.FINDER_PAT_E=4,Ce.FINDER_PAT_F=5,Ce.FINDER_PATTERN_SEQUENCES=[[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_C,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_C],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F]],Ce.MAX_PAIRS=11;class up extends Ca{constructor(s,o,l){super(s,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ln extends Kn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,l){const f=this.decodePair(o,!1,s,l);ln.addOrTally(this.possibleLeftPairs,f),o.reverse();let h=this.decodePair(o,!0,s,l);ln.addOrTally(this.possibleRightPairs,h),o.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let w of this.possibleRightPairs)if(w.getCount()>1&&ln.checkChecksum(m,w))return ln.constructResult(m,w)}throw new ee}static addOrTally(s,o){if(o==null)return;let l=!1;for(let f of s)if(f.getValue()===o.getValue()){f.incrementCount(),l=!0;break}l||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let l=4537077*s.getValue()+o.getValue(),f=new String(l).toString(),h=new ne;for(let N=13-f.length;N>0;N--)h.append("0");h.append(f);let m=0;for(let N=0;N<13;N++){let k=h.charAt(N).charCodeAt(0)-"0".charCodeAt(0);m+=N&1?k:3*k}m=10-m%10,m===10&&(m=0),h.append(m.toString());let w=s.getFinderPattern().getResultPoints(),C=o.getFinderPattern().getResultPoints();return new ft(h.toString(),null,0,[w[0],w[1],C[0],C[1]],De.RSS_14,new Date().getTime())}static checkChecksum(s,o){let l=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,l===f}decodePair(s,o,l,f){try{let h=this.findFinderPattern(s,o),m=this.parseFoundFinderPattern(s,l,o,h),w=f==null?null:f.get(z.NEED_RESULT_POINT_CALLBACK);if(w!=null){let k=(h[0]+h[1])/2;o&&(k=s.getSize()-1-k),w.foundPossibleResultPoint(new Ee(k,l))}let C=this.decodeDataCharacter(s,m,!0),N=this.decodeDataCharacter(s,m,!1);return new up(1597*C.getValue()+N.getValue(),C.getChecksumPortion()+4*N.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(s,o,l){let f=this.getDataCharacterCounters();for(let X=0;X<f.length;X++)f[X]=0;if(l)Jt.recordPatternInReverse(s,o.getStartEnd()[0],f);else{Jt.recordPattern(s,o.getStartEnd()[1]+1,f);for(let X=0,te=f.length-1;X<te;X++,te--){let pe=f[X];f[X]=f[te],f[te]=pe}}let h=l?16:15,m=ot.sum(new Int32Array(f))/h,w=this.getOddCounts(),C=this.getEvenCounts(),N=this.getOddRoundingErrors(),k=this.getEvenRoundingErrors();for(let X=0;X<f.length;X++){let te=f[X]/m,pe=Math.floor(te+.5);pe<1?pe=1:pe>8&&(pe=8);let xe=Math.floor(X/2);X&1?(C[xe]=pe,k[xe]=te-pe):(w[xe]=pe,N[xe]=te-pe)}this.adjustOddEvenCounts(l,h);let F=0,H=0;for(let X=w.length-1;X>=0;X--)H*=9,H+=w[X],F+=w[X];let Z=0,U=0;for(let X=C.length-1;X>=0;X--)Z*=9,Z+=C[X],U+=C[X];let $=H+3*Z;if(l){if(F&1||F>12||F<4)throw new ee;let X=(12-F)/2,te=ln.OUTSIDE_ODD_WIDEST[X],pe=9-te,xe=Si.getRSSvalue(w,te,!1),we=Si.getRSSvalue(C,pe,!0),He=ln.OUTSIDE_EVEN_TOTAL_SUBSET[X],st=ln.OUTSIDE_GSUM[X];return new Ca(xe*He+we+st,$)}else{if(U&1||U>10||U<4)throw new ee;let X=(10-U)/2,te=ln.INSIDE_ODD_WIDEST[X],pe=9-te,xe=Si.getRSSvalue(w,te,!0),we=Si.getRSSvalue(C,pe,!1),He=ln.INSIDE_ODD_TOTAL_SUBSET[X],st=ln.INSIDE_GSUM[X];return new Ca(we*He+xe+st,$)}}findFinderPattern(s,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let f=s.getSize(),h=!1,m=0;for(;m<f&&(h=!s.get(m),o!==h);)m++;let w=0,C=m;for(let N=m;N<f;N++)if(s.get(N)!==h)l[w]++;else{if(w===3){if(Kn.isFinderPattern(l))return[C,N];C+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,w--}else w++;l[w]=1,h=!h}throw new ee}parseFoundFinderPattern(s,o,l,f){let h=s.get(f[0]),m=f[0]-1;for(;m>=0&&h!==s.get(m);)m--;m++;const w=f[0]-m,C=this.getDecodeFinderCounters(),N=new Int32Array(C.length);R.arraycopy(C,0,N,1,C.length-1),N[0]=w;const k=this.parseFinderValue(N,ln.FINDER_PATTERNS);let F=m,H=f[1];return l&&(F=s.getSize()-1-F,H=s.getSize()-1-H),new xl(k,[m,f[1]],F,H,o)}adjustOddEvenCounts(s,o){let l=ot.sum(new Int32Array(this.getOddCounts())),f=ot.sum(new Int32Array(this.getEvenCounts())),h=!1,m=!1,w=!1,C=!1;s?(l>12?m=!0:l<4&&(h=!0),f>12?C=!0:f<4&&(w=!0)):(l>11?m=!0:l<5&&(h=!0),f>10?C=!0:f<4&&(w=!0));let N=l+f-o,k=(l&1)===(s?1:0),F=(f&1)===1;if(N===1)if(k){if(F)throw new ee;m=!0}else{if(!F)throw new ee;C=!0}else if(N===-1)if(k){if(F)throw new ee;h=!0}else{if(!F)throw new ee;w=!0}else if(N===0){if(k){if(!F)throw new ee;l<f?(h=!0,C=!0):(m=!0,w=!0)}else if(F)throw new ee}else throw new ee;if(h){if(m)throw new ee;Kn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&Kn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(C)throw new ee;Kn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Kn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ln.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ln.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ln.OUTSIDE_GSUM=[0,161,961,2015,2715],ln.INSIDE_GSUM=[0,336,1036,1516],ln.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ln.INSIDE_ODD_WIDEST=[2,4,6,8],ln.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class zs extends Jt{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const l=s?s.get(z.POSSIBLE_FORMATS):null,f=s&&s.get(z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(De.EAN_13)||l.includes(De.UPC_A)||l.includes(De.EAN_8)||l.includes(De.UPC_E))&&this.readers.push(new Lc(s)),l.includes(De.CODE_39)&&this.readers.push(new tn(f)),l.includes(De.CODE_128)&&this.readers.push(new Te),l.includes(De.ITF)&&this.readers.push(new _t),l.includes(De.RSS_14)&&this.readers.push(new ln),l.includes(De.RSS_EXPANDED)&&this.readers.push(new Ce(this.verbose))):(this.readers.push(new Lc(s)),this.readers.push(new tn),this.readers.push(new Lc(s)),this.readers.push(new Te),this.readers.push(new _t),this.readers.push(new ln),this.readers.push(new Ce(this.verbose)))}decodeRow(s,o,l){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(s,o,l)}catch{}throw new ee}reset(){this.readers.forEach(s=>s.reset())}}class Rd extends fn{constructor(s=500,o){super(new zs(o),s,o)}}class Ot{constructor(s,o,l){this.ecCodewords=s,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class kt{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class gt{constructor(s,o,l,f,h,m){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=h,this.ecBlocks=m;let w=0;const C=m.getECCodewords(),N=m.getECBlocks();for(let k of N)w+=k.getCount()*(k.getDataCodewords()+C);this.totalCodewords=w}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new P;for(let l of gt.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===o)return l;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new gt(1,10,10,8,8,new Ot(5,new kt(1,3))),new gt(2,12,12,10,10,new Ot(7,new kt(1,5))),new gt(3,14,14,12,12,new Ot(10,new kt(1,8))),new gt(4,16,16,14,14,new Ot(12,new kt(1,12))),new gt(5,18,18,16,16,new Ot(14,new kt(1,18))),new gt(6,20,20,18,18,new Ot(18,new kt(1,22))),new gt(7,22,22,20,20,new Ot(20,new kt(1,30))),new gt(8,24,24,22,22,new Ot(24,new kt(1,36))),new gt(9,26,26,24,24,new Ot(28,new kt(1,44))),new gt(10,32,32,14,14,new Ot(36,new kt(1,62))),new gt(11,36,36,16,16,new Ot(42,new kt(1,86))),new gt(12,40,40,18,18,new Ot(48,new kt(1,114))),new gt(13,44,44,20,20,new Ot(56,new kt(1,144))),new gt(14,48,48,22,22,new Ot(68,new kt(1,174))),new gt(15,52,52,24,24,new Ot(42,new kt(2,102))),new gt(16,64,64,14,14,new Ot(56,new kt(2,140))),new gt(17,72,72,16,16,new Ot(36,new kt(4,92))),new gt(18,80,80,18,18,new Ot(48,new kt(4,114))),new gt(19,88,88,20,20,new Ot(56,new kt(4,144))),new gt(20,96,96,22,22,new Ot(68,new kt(4,174))),new gt(21,104,104,24,24,new Ot(56,new kt(6,136))),new gt(22,120,120,18,18,new Ot(68,new kt(6,175))),new gt(23,132,132,20,20,new Ot(62,new kt(8,163))),new gt(24,144,144,22,22,new Ot(62,new kt(8,156),new kt(2,155))),new gt(25,8,18,6,16,new Ot(7,new kt(1,5))),new gt(26,8,32,6,14,new Ot(11,new kt(1,10))),new gt(27,12,26,10,24,new Ot(14,new kt(1,16))),new gt(28,12,36,10,16,new Ot(18,new kt(1,22))),new gt(29,16,36,14,16,new Ot(24,new kt(1,32))),new gt(30,16,48,14,22,new Ot(28,new kt(1,49)))]}}gt.VERSIONS=gt.buildVersions();class Uc{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new P;this.version=Uc.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new he(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),l=s.getWidth();return gt.getVersionForDimensions(o,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,f=0;const h=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let w=!1,C=!1,N=!1,k=!1;do if(l===h&&f===0&&!w)s[o++]=this.readCorner1(h,m)&255,l-=2,f+=2,w=!0;else if(l===h-2&&f===0&&m&3&&!C)s[o++]=this.readCorner2(h,m)&255,l-=2,f+=2,C=!0;else if(l===h+4&&f===2&&!(m&7)&&!N)s[o++]=this.readCorner3(h,m)&255,l-=2,f+=2,N=!0;else if(l===h-2&&f===0&&(m&7)===4&&!k)s[o++]=this.readCorner4(h,m)&255,l-=2,f+=2,k=!0;else{do l<h&&f>=0&&!this.readMappingMatrix.get(f,l)&&(s[o++]=this.readUtah(l,f,h,m)&255),l-=2,f+=2;while(l>=0&&f<m);l+=1,f+=3;do l>=0&&f<m&&!this.readMappingMatrix.get(f,l)&&(s[o++]=this.readUtah(l,f,h,m)&255),l+=2,f-=2;while(l<h&&f>=0);l+=3,f+=1}while(l<h||f<m);if(o!==this.version.getTotalCodewords())throw new P;return s}readModule(s,o,l,f){return s<0&&(s+=l,o+=4-(l+4&7)),o<0&&(o+=f,s+=4-(f+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,l,f){let h=0;return this.readModule(s-2,o-2,l,f)&&(h|=1),h<<=1,this.readModule(s-2,o-1,l,f)&&(h|=1),h<<=1,this.readModule(s-1,o-2,l,f)&&(h|=1),h<<=1,this.readModule(s-1,o-1,l,f)&&(h|=1),h<<=1,this.readModule(s-1,o,l,f)&&(h|=1),h<<=1,this.readModule(s,o-2,l,f)&&(h|=1),h<<=1,this.readModule(s,o-1,l,f)&&(h|=1),h<<=1,this.readModule(s,o,l,f)&&(h|=1),h}readCorner1(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,1,s,o)&&(l|=1),l<<=1,this.readModule(s-1,2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}readCorner2(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-4,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner3(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-3,s,o)&&(l|=1),l<<=1,this.readModule(1,o-2,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner4(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new E("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),m=o/f|0,w=l/h|0,C=m*f,N=w*h,k=new he(N,C);for(let F=0;F<m;++F){const H=F*f;for(let Z=0;Z<w;++Z){const U=Z*h;for(let $=0;$<f;++$){const X=F*(f+2)+1+$,te=H+$;for(let pe=0;pe<h;++pe){const xe=Z*(h+2)+1+pe;if(s.get(xe,X)){const we=U+pe;k.set(we,te)}}}}}return k}}class wl{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const l=o.getECBlocks();let f=0;const h=l.getECBlocks();for(let $ of h)f+=$.getCount();const m=new Array(f);let w=0;for(let $ of h)for(let X=0;X<$.getCount();X++){const te=$.getDataCodewords(),pe=l.getECCodewords()+te;m[w++]=new wl(te,new Uint8Array(pe))}const N=m[0].codewords.length-l.getECCodewords(),k=N-1;let F=0;for(let $=0;$<k;$++)for(let X=0;X<w;X++)m[X].codewords[$]=s[F++];const H=o.getVersionNumber()===24,Z=H?8:w;for(let $=0;$<Z;$++)m[$].codewords[N-1]=s[F++];const U=m[0].codewords.length;for(let $=N;$<U;$++)for(let X=0;X<w;X++){const te=H?(X+8)%w:X,pe=H&&te>7?$-1:$;m[te].codewords[pe]=s[F++]}if(F!==s.length)throw new E;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class yl{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new E(""+s);let o=0,l=this.bitOffset,f=this.byteOffset;const h=this.bytes;if(l>0){const m=8-l,w=s<m?s:m,C=m-w,N=255>>8-w<<C;o=(h[f]&N)>>C,s-=w,l+=w,l===8&&(l=0,f++)}if(s>0){for(;s>=8;)o=o<<8|h[f]&255,f++,s-=8;if(s>0){const m=8-s,w=255>>m<<m;o=o<<s|(h[f]&w)>>m,l+=s}}return this.bitOffset=l,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Tn;(function(L){L[L.PAD_ENCODE=0]="PAD_ENCODE",L[L.ASCII_ENCODE=1]="ASCII_ENCODE",L[L.C40_ENCODE=2]="C40_ENCODE",L[L.TEXT_ENCODE=3]="TEXT_ENCODE",L[L.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",L[L.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",L[L.BASE256_ENCODE=6]="BASE256_ENCODE"})(Tn||(Tn={}));class ki{static decode(s){const o=new yl(s),l=new ne,f=new ne,h=new Array;let m=Tn.ASCII_ENCODE;do if(m===Tn.ASCII_ENCODE)m=this.decodeAsciiSegment(o,l,f);else{switch(m){case Tn.C40_ENCODE:this.decodeC40Segment(o,l);break;case Tn.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case Tn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case Tn.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case Tn.BASE256_ENCODE:this.decodeBase256Segment(o,l,h);break;default:throw new P}m=Tn.ASCII_ENCODE}while(m!==Tn.PAD_ENCODE&&o.available()>0);return f.length()>0&&l.append(f.toString()),new qt(s,l.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(s,o,l){let f=!1;do{let h=s.readBits(8);if(h===0)throw new P;if(h<=128)return f&&(h+=128),o.append(String.fromCharCode(h-1)),Tn.ASCII_ENCODE;if(h===129)return Tn.PAD_ENCODE;if(h<=229){const m=h-130;m<10&&o.append("0"),o.append(""+m)}else switch(h){case 230:return Tn.C40_ENCODE;case 231:return Tn.BASE256_ENCODE;case 232:o.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return Tn.ANSIX12_ENCODE;case 239:return Tn.TEXT_ENCODE;case 240:return Tn.EDIFACT_ENCODE;case 241:break;default:if(h!==254||s.available()!==0)throw new P;break}}while(s.available()>0);return Tn.ASCII_ENCODE}static decodeC40Segment(s,o){let l=!1;const f=[];let h=0;do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),f);for(let w=0;w<3;w++){const C=f[w];switch(h){case 0:if(C<3)h=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else throw new P;break;case 1:l?(o.append(String.fromCharCode(C+128)),l=!1):o.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new P}h=0;break;case 3:l?(o.append(String.fromCharCode(C+224)),l=!1):o.append(String.fromCharCode(C+96)),h=0;break;default:throw new P}}}while(s.available()>0)}static decodeTextSegment(s,o){let l=!1,f=[],h=0;do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),f);for(let w=0;w<3;w++){const C=f[w];switch(h){case 0:if(C<3)h=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else throw new P;break;case 1:l?(o.append(String.fromCharCode(C+128)),l=!1):o.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new P}h=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N),h=0}else throw new P;break;default:throw new P}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const l=[];do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),l);for(let h=0;h<3;h++){const m=l[h];switch(m){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(m<14)o.append(String.fromCharCode(m+44));else if(m<40)o.append(String.fromCharCode(m+51));else throw new P;break}}}while(s.available()>0)}static parseTwoBytes(s,o,l){let f=(s<<8)+o-1,h=Math.floor(f/1600);l[0]=h,f-=h*1600,h=Math.floor(f/40),l[1]=h,l[2]=f-h*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let f=s.readBits(6);if(f===31){const h=8-s.getBitOffset();h!==8&&s.readBits(h);return}f&32||(f|=64),o.append(String.fromCharCode(f))}}while(s.available()>0)}static decodeBase256Segment(s,o,l){let f=1+s.getByteOffset();const h=this.unrandomize255State(s.readBits(8),f++);let m;if(h===0?m=s.available()/8|0:h<250?m=h:m=250*(h-249)+this.unrandomize255State(s.readBits(8),f++),m<0)throw new P;const w=new Uint8Array(m);for(let C=0;C<m;C++){if(s.available()<8)throw new P;w[C]=this.unrandomize255State(s.readBits(8),f++)}l.push(w);try{o.append(ce.decode(w,ae.ISO88591))}catch(C){throw new jt("Platform does not support required encoding: "+C.message)}}static unrandomize255State(s,o){const l=149*o%255+1,f=s-l;return f>=0?f:f+256}}ki.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ki.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ki.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ki.TEXT_SHIFT2_SET_CHARS=ki.C40_SHIFT2_SET_CHARS,ki.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class dp{constructor(){this.rsDecoder=new yr(Se.DATA_MATRIX_FIELD_256)}decode(s){const o=new Uc(s),l=o.getVersion(),f=o.readCodewords(),h=wl.getDataBlocks(f,l);let m=0;for(let N of h)m+=N.getNumDataCodewords();const w=new Uint8Array(m),C=h.length;for(let N=0;N<C;N++){const k=h[N],F=k.getCodewords(),H=k.getNumDataCodewords();this.correctErrors(F,H);for(let Z=0;Z<H;Z++)w[Z*C+N]=F[Z]}return ki.decode(w)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new T}for(let f=0;f<o;f++)s[f]=l[f]}}class mn{constructor(s){this.image=s,this.rectangleDetector=new ke(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ee;o=this.shiftToModuleCenter(o);const l=o[0],f=o[1],h=o[2],m=o[3];let w=this.transitionsBetween(l,m)+1,C=this.transitionsBetween(h,m)+1;(w&1)===1&&(w+=1),(C&1)===1&&(C+=1),4*w<7*C&&4*C<7*w&&(w=C=Math.max(w,C));let N=mn.sampleGrid(this.image,l,f,h,m,w,C);return new Pn(N,[l,f,h,m])}static shiftPoint(s,o,l){let f=(o.getX()-s.getX())/(l+1),h=(o.getY()-s.getY())/(l+1);return new Ee(s.getX()+f,s.getY()+h)}static moveAway(s,o,l){let f=s.getX(),h=s.getY();return f<o?f-=1:f+=1,h<l?h-=1:h+=1,new Ee(f,h)}detectSolid1(s){let o=s[0],l=s[1],f=s[3],h=s[2],m=this.transitionsBetween(o,l),w=this.transitionsBetween(l,f),C=this.transitionsBetween(f,h),N=this.transitionsBetween(h,o),k=m,F=[h,o,l,f];return k>w&&(k=w,F[0]=o,F[1]=l,F[2]=f,F[3]=h),k>C&&(k=C,F[0]=l,F[1]=f,F[2]=h,F[3]=o),k>N&&(F[0]=f,F[1]=h,F[2]=o,F[3]=l),F}detectSolid2(s){let o=s[0],l=s[1],f=s[2],h=s[3],m=this.transitionsBetween(o,h),w=mn.shiftPoint(l,f,(m+1)*4),C=mn.shiftPoint(f,l,(m+1)*4),N=this.transitionsBetween(w,o),k=this.transitionsBetween(C,h);return N<k?(s[0]=o,s[1]=l,s[2]=f,s[3]=h):(s[0]=l,s[1]=f,s[2]=h,s[3]=o),s}correctTopRight(s){let o=s[0],l=s[1],f=s[2],h=s[3],m=this.transitionsBetween(o,h),w=this.transitionsBetween(l,h),C=mn.shiftPoint(o,l,(w+1)*4),N=mn.shiftPoint(f,l,(m+1)*4);m=this.transitionsBetween(C,h),w=this.transitionsBetween(N,h);let k=new Ee(h.getX()+(f.getX()-l.getX())/(m+1),h.getY()+(f.getY()-l.getY())/(m+1)),F=new Ee(h.getX()+(o.getX()-l.getX())/(w+1),h.getY()+(o.getY()-l.getY())/(w+1));if(!this.isValid(k))return this.isValid(F)?F:null;if(!this.isValid(F))return k;let H=this.transitionsBetween(C,k)+this.transitionsBetween(N,k),Z=this.transitionsBetween(C,F)+this.transitionsBetween(N,F);return H>Z?k:F}shiftToModuleCenter(s){let o=s[0],l=s[1],f=s[2],h=s[3],m=this.transitionsBetween(o,h)+1,w=this.transitionsBetween(f,h)+1,C=mn.shiftPoint(o,l,w*4),N=mn.shiftPoint(f,l,m*4);m=this.transitionsBetween(C,h)+1,w=this.transitionsBetween(N,h)+1,(m&1)===1&&(m+=1),(w&1)===1&&(w+=1);let k=(o.getX()+l.getX()+f.getX()+h.getX())/4,F=(o.getY()+l.getY()+f.getY()+h.getY())/4;o=mn.moveAway(o,k,F),l=mn.moveAway(l,k,F),f=mn.moveAway(f,k,F),h=mn.moveAway(h,k,F);let H,Z;return C=mn.shiftPoint(o,l,w*4),C=mn.shiftPoint(C,h,m*4),H=mn.shiftPoint(l,o,w*4),H=mn.shiftPoint(H,f,m*4),N=mn.shiftPoint(f,h,w*4),N=mn.shiftPoint(N,l,m*4),Z=mn.shiftPoint(h,f,w*4),Z=mn.shiftPoint(Z,o,m*4),[C,H,N,Z]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,l,f,h,m,w){return Yt.getInstance().sampleGrid(s,m,w,.5,.5,m-.5,.5,m-.5,w-.5,.5,w-.5,o.getX(),o.getY(),h.getX(),h.getY(),f.getX(),f.getY(),l.getX(),l.getY())}transitionsBetween(s,o){let l=Math.trunc(s.getX()),f=Math.trunc(s.getY()),h=Math.trunc(o.getX()),m=Math.trunc(o.getY()),w=Math.abs(m-f)>Math.abs(h-l);if(w){let $=l;l=f,f=$,$=h,h=m,m=$}let C=Math.abs(h-l),N=Math.abs(m-f),k=-C/2,F=f<m?1:-1,H=l<h?1:-1,Z=0,U=this.image.get(w?f:l,w?l:f);for(let $=l,X=f;$!==h;$+=H){let te=this.image.get(w?X:$,w?$:X);if(te!==U&&(Z++,U=te),k+=N,k>0){if(X===m)break;X+=F,k-=C}}return Z}}class li{constructor(){this.decoder=new dp}decode(s,o=null){let l,f;if(o!=null&&o.has(z.PURE_BARCODE)){const N=li.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(N),f=li.NO_POINTS}else{const N=new mn(s.getBlackMatrix()).detect();l=this.decoder.decode(N.getBits()),f=N.getPoints()}const h=l.getRawBytes(),m=new ft(l.getText(),h,8*h.length,f,De.DATA_MATRIX,R.currentTimeMillis()),w=l.getByteSegments();w!=null&&m.putMetadata(We.BYTE_SEGMENTS,w);const C=l.getECLevel();return C!=null&&m.putMetadata(We.ERROR_CORRECTION_LEVEL,C),m}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o==null||l==null)throw new ee;const f=this.moduleSize(o,s);let h=o[1];const m=l[1];let w=o[0];const N=(l[0]-w+1)/f,k=(m-h+1)/f;if(N<=0||k<=0)throw new ee;const F=f/2;h+=F,w+=F;const H=new he(N,k);for(let Z=0;Z<k;Z++){const U=h+Z*f;for(let $=0;$<N;$++)s.get(w+$*f,U)&&H.set($,Z)}return H}static moduleSize(s,o){const l=o.getWidth();let f=s[0];const h=s[1];for(;f<l&&o.get(f,h);)f++;if(f===l)throw new ee;const m=f-s[0];if(m===0)throw new ee;return m}}li.NO_POINTS=[];class jd extends fn{constructor(s=500){super(new li,s)}}var _a;(function(L){L[L.L=0]="L",L[L.M=1]="M",L[L.Q=2]="Q",L[L.H=3]="H"})(_a||(_a={}));class Gt{constructor(s,o,l){this.value=s,this.stringValue=o,this.bits=l,Gt.FOR_BITS.set(l,this),Gt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Gt.L;case"M":return Gt.M;case"Q":return Gt.Q;case"H":return Gt.H;default:throw new y(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Gt))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=Gt.FOR_BITS.size)throw new E;return Gt.FOR_BITS.get(s)}}Gt.FOR_BITS=new Map,Gt.FOR_VALUE=new Map,Gt.L=new Gt(_a.L,"L",1),Gt.M=new Gt(_a.M,"M",0),Gt.Q=new Gt(_a.Q,"Q",3),Gt.H=new Gt(_a.H,"H",2);class Zn{constructor(s){this.errorCorrectionLevel=Gt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return j.bitCount(s^o)}static decodeFormatInformation(s,o){const l=Zn.doDecodeFormatInformation(s,o);return l!==null?l:Zn.doDecodeFormatInformation(s^Zn.FORMAT_INFO_MASK_QR,o^Zn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let l=Number.MAX_SAFE_INTEGER,f=0;for(const h of Zn.FORMAT_INFO_DECODE_LOOKUP){const m=h[0];if(m===s||m===o)return new Zn(h[1]);let w=Zn.numBitsDiffering(s,m);w<l&&(f=h[1],l=w),s!==o&&(w=Zn.numBitsDiffering(o,m),w<l&&(f=h[1],l=w))}return l<=3?new Zn(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof Zn))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Zn.FORMAT_INFO_MASK_QR=21522,Zn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class le{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const l of o)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class K{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class $e{constructor(s,o,...l){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=l;let f=0;const h=l[0].getECCodewordsPerBlock(),m=l[0].getECBlocks();for(const w of m)f+=w.getCount()*(w.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new P;try{return this.getVersionForNumber((s-17)/4)}catch{throw new P}}static getVersionForNumber(s){if(s<1||s>40)throw new E;return $e.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,l=0;for(let f=0;f<$e.VERSION_DECODE_INFO.length;f++){const h=$e.VERSION_DECODE_INFO[f];if(h===s)return $e.getVersionForNumber(f+7);const m=Zn.numBitsDiffering(s,h);m<o&&(l=f+7,o=m)}return o<=3?$e.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new he(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let f=0;f<l;f++){const h=this.alignmentPatternCenters[f]-2;for(let m=0;m<l;m++)f===0&&(m===0||m===l-1)||f===l-1&&m===0||o.setRegion(this.alignmentPatternCenters[m]-2,h,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}$e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),$e.VERSIONS=[new $e(1,new Int32Array(0),new le(7,new K(1,19)),new le(10,new K(1,16)),new le(13,new K(1,13)),new le(17,new K(1,9))),new $e(2,Int32Array.from([6,18]),new le(10,new K(1,34)),new le(16,new K(1,28)),new le(22,new K(1,22)),new le(28,new K(1,16))),new $e(3,Int32Array.from([6,22]),new le(15,new K(1,55)),new le(26,new K(1,44)),new le(18,new K(2,17)),new le(22,new K(2,13))),new $e(4,Int32Array.from([6,26]),new le(20,new K(1,80)),new le(18,new K(2,32)),new le(26,new K(2,24)),new le(16,new K(4,9))),new $e(5,Int32Array.from([6,30]),new le(26,new K(1,108)),new le(24,new K(2,43)),new le(18,new K(2,15),new K(2,16)),new le(22,new K(2,11),new K(2,12))),new $e(6,Int32Array.from([6,34]),new le(18,new K(2,68)),new le(16,new K(4,27)),new le(24,new K(4,19)),new le(28,new K(4,15))),new $e(7,Int32Array.from([6,22,38]),new le(20,new K(2,78)),new le(18,new K(4,31)),new le(18,new K(2,14),new K(4,15)),new le(26,new K(4,13),new K(1,14))),new $e(8,Int32Array.from([6,24,42]),new le(24,new K(2,97)),new le(22,new K(2,38),new K(2,39)),new le(22,new K(4,18),new K(2,19)),new le(26,new K(4,14),new K(2,15))),new $e(9,Int32Array.from([6,26,46]),new le(30,new K(2,116)),new le(22,new K(3,36),new K(2,37)),new le(20,new K(4,16),new K(4,17)),new le(24,new K(4,12),new K(4,13))),new $e(10,Int32Array.from([6,28,50]),new le(18,new K(2,68),new K(2,69)),new le(26,new K(4,43),new K(1,44)),new le(24,new K(6,19),new K(2,20)),new le(28,new K(6,15),new K(2,16))),new $e(11,Int32Array.from([6,30,54]),new le(20,new K(4,81)),new le(30,new K(1,50),new K(4,51)),new le(28,new K(4,22),new K(4,23)),new le(24,new K(3,12),new K(8,13))),new $e(12,Int32Array.from([6,32,58]),new le(24,new K(2,92),new K(2,93)),new le(22,new K(6,36),new K(2,37)),new le(26,new K(4,20),new K(6,21)),new le(28,new K(7,14),new K(4,15))),new $e(13,Int32Array.from([6,34,62]),new le(26,new K(4,107)),new le(22,new K(8,37),new K(1,38)),new le(24,new K(8,20),new K(4,21)),new le(22,new K(12,11),new K(4,12))),new $e(14,Int32Array.from([6,26,46,66]),new le(30,new K(3,115),new K(1,116)),new le(24,new K(4,40),new K(5,41)),new le(20,new K(11,16),new K(5,17)),new le(24,new K(11,12),new K(5,13))),new $e(15,Int32Array.from([6,26,48,70]),new le(22,new K(5,87),new K(1,88)),new le(24,new K(5,41),new K(5,42)),new le(30,new K(5,24),new K(7,25)),new le(24,new K(11,12),new K(7,13))),new $e(16,Int32Array.from([6,26,50,74]),new le(24,new K(5,98),new K(1,99)),new le(28,new K(7,45),new K(3,46)),new le(24,new K(15,19),new K(2,20)),new le(30,new K(3,15),new K(13,16))),new $e(17,Int32Array.from([6,30,54,78]),new le(28,new K(1,107),new K(5,108)),new le(28,new K(10,46),new K(1,47)),new le(28,new K(1,22),new K(15,23)),new le(28,new K(2,14),new K(17,15))),new $e(18,Int32Array.from([6,30,56,82]),new le(30,new K(5,120),new K(1,121)),new le(26,new K(9,43),new K(4,44)),new le(28,new K(17,22),new K(1,23)),new le(28,new K(2,14),new K(19,15))),new $e(19,Int32Array.from([6,30,58,86]),new le(28,new K(3,113),new K(4,114)),new le(26,new K(3,44),new K(11,45)),new le(26,new K(17,21),new K(4,22)),new le(26,new K(9,13),new K(16,14))),new $e(20,Int32Array.from([6,34,62,90]),new le(28,new K(3,107),new K(5,108)),new le(26,new K(3,41),new K(13,42)),new le(30,new K(15,24),new K(5,25)),new le(28,new K(15,15),new K(10,16))),new $e(21,Int32Array.from([6,28,50,72,94]),new le(28,new K(4,116),new K(4,117)),new le(26,new K(17,42)),new le(28,new K(17,22),new K(6,23)),new le(30,new K(19,16),new K(6,17))),new $e(22,Int32Array.from([6,26,50,74,98]),new le(28,new K(2,111),new K(7,112)),new le(28,new K(17,46)),new le(30,new K(7,24),new K(16,25)),new le(24,new K(34,13))),new $e(23,Int32Array.from([6,30,54,78,102]),new le(30,new K(4,121),new K(5,122)),new le(28,new K(4,47),new K(14,48)),new le(30,new K(11,24),new K(14,25)),new le(30,new K(16,15),new K(14,16))),new $e(24,Int32Array.from([6,28,54,80,106]),new le(30,new K(6,117),new K(4,118)),new le(28,new K(6,45),new K(14,46)),new le(30,new K(11,24),new K(16,25)),new le(30,new K(30,16),new K(2,17))),new $e(25,Int32Array.from([6,32,58,84,110]),new le(26,new K(8,106),new K(4,107)),new le(28,new K(8,47),new K(13,48)),new le(30,new K(7,24),new K(22,25)),new le(30,new K(22,15),new K(13,16))),new $e(26,Int32Array.from([6,30,58,86,114]),new le(28,new K(10,114),new K(2,115)),new le(28,new K(19,46),new K(4,47)),new le(28,new K(28,22),new K(6,23)),new le(30,new K(33,16),new K(4,17))),new $e(27,Int32Array.from([6,34,62,90,118]),new le(30,new K(8,122),new K(4,123)),new le(28,new K(22,45),new K(3,46)),new le(30,new K(8,23),new K(26,24)),new le(30,new K(12,15),new K(28,16))),new $e(28,Int32Array.from([6,26,50,74,98,122]),new le(30,new K(3,117),new K(10,118)),new le(28,new K(3,45),new K(23,46)),new le(30,new K(4,24),new K(31,25)),new le(30,new K(11,15),new K(31,16))),new $e(29,Int32Array.from([6,30,54,78,102,126]),new le(30,new K(7,116),new K(7,117)),new le(28,new K(21,45),new K(7,46)),new le(30,new K(1,23),new K(37,24)),new le(30,new K(19,15),new K(26,16))),new $e(30,Int32Array.from([6,26,52,78,104,130]),new le(30,new K(5,115),new K(10,116)),new le(28,new K(19,47),new K(10,48)),new le(30,new K(15,24),new K(25,25)),new le(30,new K(23,15),new K(25,16))),new $e(31,Int32Array.from([6,30,56,82,108,134]),new le(30,new K(13,115),new K(3,116)),new le(28,new K(2,46),new K(29,47)),new le(30,new K(42,24),new K(1,25)),new le(30,new K(23,15),new K(28,16))),new $e(32,Int32Array.from([6,34,60,86,112,138]),new le(30,new K(17,115)),new le(28,new K(10,46),new K(23,47)),new le(30,new K(10,24),new K(35,25)),new le(30,new K(19,15),new K(35,16))),new $e(33,Int32Array.from([6,30,58,86,114,142]),new le(30,new K(17,115),new K(1,116)),new le(28,new K(14,46),new K(21,47)),new le(30,new K(29,24),new K(19,25)),new le(30,new K(11,15),new K(46,16))),new $e(34,Int32Array.from([6,34,62,90,118,146]),new le(30,new K(13,115),new K(6,116)),new le(28,new K(14,46),new K(23,47)),new le(30,new K(44,24),new K(7,25)),new le(30,new K(59,16),new K(1,17))),new $e(35,Int32Array.from([6,30,54,78,102,126,150]),new le(30,new K(12,121),new K(7,122)),new le(28,new K(12,47),new K(26,48)),new le(30,new K(39,24),new K(14,25)),new le(30,new K(22,15),new K(41,16))),new $e(36,Int32Array.from([6,24,50,76,102,128,154]),new le(30,new K(6,121),new K(14,122)),new le(28,new K(6,47),new K(34,48)),new le(30,new K(46,24),new K(10,25)),new le(30,new K(2,15),new K(64,16))),new $e(37,Int32Array.from([6,28,54,80,106,132,158]),new le(30,new K(17,122),new K(4,123)),new le(28,new K(29,46),new K(14,47)),new le(30,new K(49,24),new K(10,25)),new le(30,new K(24,15),new K(46,16))),new $e(38,Int32Array.from([6,32,58,84,110,136,162]),new le(30,new K(4,122),new K(18,123)),new le(28,new K(13,46),new K(32,47)),new le(30,new K(48,24),new K(14,25)),new le(30,new K(42,15),new K(32,16))),new $e(39,Int32Array.from([6,26,54,82,110,138,166]),new le(30,new K(20,117),new K(4,118)),new le(28,new K(40,47),new K(7,48)),new le(30,new K(43,24),new K(22,25)),new le(30,new K(10,15),new K(67,16))),new $e(40,Int32Array.from([6,30,58,86,114,142,170]),new le(30,new K(19,118),new K(6,119)),new le(28,new K(18,47),new K(31,48)),new le(30,new K(34,24),new K(34,25)),new le(30,new K(20,15),new K(61,16)))];var kn;(function(L){L[L.DATA_MASK_000=0]="DATA_MASK_000",L[L.DATA_MASK_001=1]="DATA_MASK_001",L[L.DATA_MASK_010=2]="DATA_MASK_010",L[L.DATA_MASK_011=3]="DATA_MASK_011",L[L.DATA_MASK_100=4]="DATA_MASK_100",L[L.DATA_MASK_101=5]="DATA_MASK_101",L[L.DATA_MASK_110=6]="DATA_MASK_110",L[L.DATA_MASK_111=7]="DATA_MASK_111"})(kn||(kn={}));class Er{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let l=0;l<o;l++)for(let f=0;f<o;f++)this.isMasked(l,f)&&s.flip(f,l)}}Er.values=new Map([[kn.DATA_MASK_000,new Er(kn.DATA_MASK_000,(L,s)=>(L+s&1)===0)],[kn.DATA_MASK_001,new Er(kn.DATA_MASK_001,(L,s)=>(L&1)===0)],[kn.DATA_MASK_010,new Er(kn.DATA_MASK_010,(L,s)=>s%3===0)],[kn.DATA_MASK_011,new Er(kn.DATA_MASK_011,(L,s)=>(L+s)%3===0)],[kn.DATA_MASK_100,new Er(kn.DATA_MASK_100,(L,s)=>(Math.floor(L/2)+Math.floor(s/3)&1)===0)],[kn.DATA_MASK_101,new Er(kn.DATA_MASK_101,(L,s)=>L*s%6===0)],[kn.DATA_MASK_110,new Er(kn.DATA_MASK_110,(L,s)=>L*s%6<3)],[kn.DATA_MASK_111,new Er(kn.DATA_MASK_111,(L,s)=>(L+s+L*s%3&1)===0)]]);class Sa{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new P;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let h=0;h<6;h++)s=this.copyBit(h,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let h=5;h>=0;h--)s=this.copyBit(8,h,s);const o=this.bitMatrix.getHeight();let l=0;const f=o-7;for(let h=o-1;h>=f;h--)l=this.copyBit(8,h,l);for(let h=o-8;h<o;h++)l=this.copyBit(h,8,l);if(this.parsedFormatInfo=Zn.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return $e.getVersionForNumber(o);let l=0;const f=s-11;for(let m=5;m>=0;m--)for(let w=s-9;w>=f;w--)l=this.copyBit(w,m,l);let h=$e.decodeVersionInformation(l);if(h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;l=0;for(let m=5;m>=0;m--)for(let w=s-9;w>=f;w--)l=this.copyBit(m,w,l);if(h=$e.decodeVersionInformation(l),h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;throw new P}copyBit(s,o,l){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),l=Er.values.get(s.getDataMask()),f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f);const h=o.buildFunctionPattern();let m=!0;const w=new Uint8Array(o.getTotalCodewords());let C=0,N=0,k=0;for(let F=f-1;F>0;F-=2){F===6&&F--;for(let H=0;H<f;H++){const Z=m?f-1-H:H;for(let U=0;U<2;U++)h.get(F-U,Z)||(k++,N<<=1,this.bitMatrix.get(F-U,Z)&&(N|=1),k===8&&(w[C++]=N,k=0,N=0))}m=!m}if(C!==o.getTotalCodewords())throw new P;return w}remask(){if(this.parsedFormatInfo===null)return;const s=Er.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,l=s.getWidth();o<l;o++)for(let f=o+1,h=s.getHeight();f<h;f++)s.get(o,f)!==s.get(f,o)&&(s.flip(f,o),s.flip(o,f))}}class bl{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,l){if(s.length!==o.getTotalCodewords())throw new E;const f=o.getECBlocksForLevel(l);let h=0;const m=f.getECBlocks();for(const U of m)h+=U.getCount();const w=new Array(h);let C=0;for(const U of m)for(let $=0;$<U.getCount();$++){const X=U.getDataCodewords(),te=f.getECCodewordsPerBlock()+X;w[C++]=new bl(X,new Uint8Array(te))}const N=w[0].codewords.length;let k=w.length-1;for(;k>=0&&w[k].codewords.length!==N;)k--;k++;const F=N-f.getECCodewordsPerBlock();let H=0;for(let U=0;U<F;U++)for(let $=0;$<C;$++)w[$].codewords[U]=s[H++];for(let U=k;U<C;U++)w[U].codewords[F]=s[H++];const Z=w[0].codewords.length;for(let U=F;U<Z;U++)for(let $=0;$<C;$++){const X=$<k?U:U+1;w[$].codewords[X]=s[H++]}return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Or;(function(L){L[L.TERMINATOR=0]="TERMINATOR",L[L.NUMERIC=1]="NUMERIC",L[L.ALPHANUMERIC=2]="ALPHANUMERIC",L[L.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",L[L.BYTE=4]="BYTE",L[L.ECI=5]="ECI",L[L.KANJI=6]="KANJI",L[L.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",L[L.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",L[L.HANZI=9]="HANZI"})(Or||(Or={}));class Xe{constructor(s,o,l,f){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=f,Xe.FOR_BITS.set(f,this),Xe.FOR_VALUE.set(s,this)}static forBits(s){const o=Xe.FOR_BITS.get(s);if(o===void 0)throw new E;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Xe))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}Xe.FOR_BITS=new Map,Xe.FOR_VALUE=new Map,Xe.TERMINATOR=new Xe(Or.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Xe.NUMERIC=new Xe(Or.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Xe.ALPHANUMERIC=new Xe(Or.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Xe.STRUCTURED_APPEND=new Xe(Or.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Xe.BYTE=new Xe(Or.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Xe.ECI=new Xe(Or.ECI,"ECI",Int32Array.from([0,0,0]),7),Xe.KANJI=new Xe(Or.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Xe.FNC1_FIRST_POSITION=new Xe(Or.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Xe.FNC1_SECOND_POSITION=new Xe(Or.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Xe.HANZI=new Xe(Or.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class sn{static decode(s,o,l,f){const h=new yl(s);let m=new ne;const w=new Array;let C=-1,N=-1;try{let k=null,F=!1,H;do{if(h.available()<4)H=Xe.TERMINATOR;else{const Z=h.readBits(4);H=Xe.forBits(Z)}switch(H){case Xe.TERMINATOR:break;case Xe.FNC1_FIRST_POSITION:case Xe.FNC1_SECOND_POSITION:F=!0;break;case Xe.STRUCTURED_APPEND:if(h.available()<16)throw new P;C=h.readBits(8),N=h.readBits(8);break;case Xe.ECI:const Z=sn.parseECIValue(h);if(k=W.getCharacterSetECIByValue(Z),k===null)throw new P;break;case Xe.HANZI:const U=h.readBits(4),$=h.readBits(H.getCharacterCountBits(o));U===sn.GB2312_SUBSET&&sn.decodeHanziSegment(h,m,$);break;default:const X=h.readBits(H.getCharacterCountBits(o));switch(H){case Xe.NUMERIC:sn.decodeNumericSegment(h,m,X);break;case Xe.ALPHANUMERIC:sn.decodeAlphanumericSegment(h,m,X,F);break;case Xe.BYTE:sn.decodeByteSegment(h,m,X,k,w,f);break;case Xe.KANJI:sn.decodeKanjiSegment(h,m,X);break;default:throw new P}break}}while(H!==Xe.TERMINATOR)}catch{throw new P}return new qt(s,m.toString(),w.length===0?null:w,l===null?null:l.toString(),C,N)}static decodeHanziSegment(s,o,l){if(l*13>s.available())throw new P;const f=new Uint8Array(2*l);let h=0;for(;l>0;){const m=s.readBits(13);let w=m/96<<8&4294967295|m%96;w<959?w+=41377:w+=42657,f[h]=w>>8&255,f[h+1]=w&255,h+=2,l--}try{o.append(ce.decode(f,ae.GB2312))}catch(m){throw new P(m)}}static decodeKanjiSegment(s,o,l){if(l*13>s.available())throw new P;const f=new Uint8Array(2*l);let h=0;for(;l>0;){const m=s.readBits(13);let w=m/192<<8&4294967295|m%192;w<7936?w+=33088:w+=49472,f[h]=w>>8,f[h+1]=w,h+=2,l--}try{o.append(ce.decode(f,ae.SHIFT_JIS))}catch(m){throw new P(m)}}static decodeByteSegment(s,o,l,f,h,m){if(8*l>s.available())throw new P;const w=new Uint8Array(l);for(let N=0;N<l;N++)w[N]=s.readBits(8);let C;f===null?C=ae.guessEncoding(w,m):C=f.getName();try{o.append(ce.decode(w,C))}catch(N){throw new P(N)}h.push(w)}static toAlphaNumericChar(s){if(s>=sn.ALPHANUMERIC_CHARS.length)throw new P;return sn.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,l,f){const h=o.length();for(;l>1;){if(s.available()<11)throw new P;const m=s.readBits(11);o.append(sn.toAlphaNumericChar(Math.floor(m/45))),o.append(sn.toAlphaNumericChar(m%45)),l-=2}if(l===1){if(s.available()<6)throw new P;o.append(sn.toAlphaNumericChar(s.readBits(6)))}if(f)for(let m=h;m<o.length();m++)o.charAt(m)==="%"&&(m<o.length()-1&&o.charAt(m+1)==="%"?o.deleteCharAt(m+1):o.setCharAt(m,String.fromCharCode(29)))}static decodeNumericSegment(s,o,l){for(;l>=3;){if(s.available()<10)throw new P;const f=s.readBits(10);if(f>=1e3)throw new P;o.append(sn.toAlphaNumericChar(Math.floor(f/100))),o.append(sn.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(sn.toAlphaNumericChar(f%10)),l-=3}if(l===2){if(s.available()<7)throw new P;const f=s.readBits(7);if(f>=100)throw new P;o.append(sn.toAlphaNumericChar(Math.floor(f/10))),o.append(sn.toAlphaNumericChar(f%10))}else if(l===1){if(s.available()<4)throw new P;const f=s.readBits(4);if(f>=10)throw new P;o.append(sn.toAlphaNumericChar(f))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=s.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=s.readBits(16);return(o&31)<<16&4294967295|l}throw new P}}sn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",sn.GB2312_SUBSET=1;class zc{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class Od{constructor(){this.rsDecoder=new yr(Se.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(he.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const l=new Sa(s);let f=null;try{return this.decodeBitMatrixParser(l,o)}catch(h){f=h}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const h=this.decodeBitMatrixParser(l,o);return h.setOther(new zc(!0)),h}catch(h){throw f!==null?f:h}}decodeBitMatrixParser(s,o){const l=s.readVersion(),f=s.readFormatInformation().getErrorCorrectionLevel(),h=s.readCodewords(),m=bl.getDataBlocks(h,l,f);let w=0;for(const k of m)w+=k.getNumDataCodewords();const C=new Uint8Array(w);let N=0;for(const k of m){const F=k.getCodewords(),H=k.getNumDataCodewords();this.correctErrors(F,H);for(let Z=0;Z<H;Z++)C[N++]=F[Z]}return sn.decode(C,l,f,o)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new T}for(let f=0;f<o;f++)s[f]=l[f]}}class Cl extends Ee{constructor(s,o,l){super(s,o),this.estimatedModuleSize=l}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const f=(this.getX()+o)/2,h=(this.getY()+s)/2,m=(this.estimatedModuleSize+l)/2;return new Cl(f,h,m)}}class El{constructor(s,o,l,f,h,m,w){this.image=s,this.startX=o,this.startY=l,this.width=f,this.height=h,this.moduleSize=m,this.resultPointCallback=w,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,l=this.width,f=s+l,h=this.startY+o/2,m=new Int32Array(3),w=this.image;for(let C=0;C<o;C++){const N=h+(C&1?-Math.floor((C+1)/2):Math.floor((C+1)/2));m[0]=0,m[1]=0,m[2]=0;let k=s;for(;k<f&&!w.get(k,N);)k++;let F=0;for(;k<f;){if(w.get(k,N))if(F===1)m[1]++;else if(F===2){if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,N,k);if(H!==null)return H}m[0]=m[2],m[1]=1,m[2]=0,F=1}else m[++F]++;else F===1&&F++,m[F]++;k++}if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,N,f);if(H!==null)return H}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,l=o/2;for(let f=0;f<3;f++)if(Math.abs(o-s[f])>=l)return!1;return!0}crossCheckVertical(s,o,l,f){const h=this.image,m=h.getHeight(),w=this.crossCheckStateCount;w[0]=0,w[1]=0,w[2]=0;let C=s;for(;C>=0&&h.get(o,C)&&w[1]<=l;)w[1]++,C--;if(C<0||w[1]>l)return NaN;for(;C>=0&&!h.get(o,C)&&w[0]<=l;)w[0]++,C--;if(w[0]>l)return NaN;for(C=s+1;C<m&&h.get(o,C)&&w[1]<=l;)w[1]++,C++;if(C===m||w[1]>l)return NaN;for(;C<m&&!h.get(o,C)&&w[2]<=l;)w[2]++,C++;if(w[2]>l)return NaN;const N=w[0]+w[1]+w[2];return 5*Math.abs(N-f)>=2*f?NaN:this.foundPatternCross(w)?El.centerFromEnd(w,C):NaN}handlePossibleCenter(s,o,l){const f=s[0]+s[1]+s[2],h=El.centerFromEnd(s,l),m=this.crossCheckVertical(o,h,2*s[1],f);if(!isNaN(m)){const w=(s[0]+s[1]+s[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(w,m,h))return N.combineEstimate(m,h,w);const C=new Cl(h,m,w);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class Wc extends Ee{constructor(s,o,l,f){super(s,o),this.estimatedModuleSize=l,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const f=this.count+1,h=(this.count*this.getX()+o)/f,m=(this.count*this.getY()+s)/f,w=(this.count*this.estimatedModuleSize+l)/f;return new Wc(h,m,w,f)}}class fp{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Fn{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(z.TRY_HARDER)!==void 0,l=s!=null&&s.get(z.PURE_BARCODE)!==void 0,f=this.image,h=f.getHeight(),m=f.getWidth();let w=Math.floor(3*h/(4*Fn.MAX_MODULES));(w<Fn.MIN_SKIP||o)&&(w=Fn.MIN_SKIP);let C=!1;const N=new Int32Array(5);for(let F=w-1;F<h&&!C;F+=w){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let H=0;for(let Z=0;Z<m;Z++)if(f.get(Z,F))(H&1)===1&&H++,N[H]++;else if(H&1)N[H]++;else if(H===4)if(Fn.foundPatternCross(N)){if(this.handlePossibleCenter(N,F,Z,l)===!0)if(w=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const $=this.findRowSkip();$>N[2]&&(F+=$-N[2]-w,Z=m-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,H=3;continue}H=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,H=3;else N[++H]++;Fn.foundPatternCross(N)&&this.handlePossibleCenter(N,F,m,l)===!0&&(w=N[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const k=this.selectBestPatterns();return Ee.orderBestPatterns(k),new fp(k)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let h=0;h<5;h++){const m=s[h];if(m===0)return!1;o+=m}if(o<7)return!1;const l=o/7,f=l/2;return Math.abs(l-s[0])<f&&Math.abs(l-s[1])<f&&Math.abs(3*l-s[2])<3*f&&Math.abs(l-s[3])<f&&Math.abs(l-s[4])<f}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,l,f){const h=this.getCrossCheckStateCount();let m=0;const w=this.image;for(;s>=m&&o>=m&&w.get(o-m,s-m);)h[2]++,m++;if(s<m||o<m)return!1;for(;s>=m&&o>=m&&!w.get(o-m,s-m)&&h[1]<=l;)h[1]++,m++;if(s<m||o<m||h[1]>l)return!1;for(;s>=m&&o>=m&&w.get(o-m,s-m)&&h[0]<=l;)h[0]++,m++;if(h[0]>l)return!1;const C=w.getHeight(),N=w.getWidth();for(m=1;s+m<C&&o+m<N&&w.get(o+m,s+m);)h[2]++,m++;if(s+m>=C||o+m>=N)return!1;for(;s+m<C&&o+m<N&&!w.get(o+m,s+m)&&h[3]<l;)h[3]++,m++;if(s+m>=C||o+m>=N||h[3]>=l)return!1;for(;s+m<C&&o+m<N&&w.get(o+m,s+m)&&h[4]<l;)h[4]++,m++;if(h[4]>=l)return!1;const k=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(k-f)<2*f&&Fn.foundPatternCross(h)}crossCheckVertical(s,o,l,f){const h=this.image,m=h.getHeight(),w=this.getCrossCheckStateCount();let C=s;for(;C>=0&&h.get(o,C);)w[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(o,C)&&w[1]<=l;)w[1]++,C--;if(C<0||w[1]>l)return NaN;for(;C>=0&&h.get(o,C)&&w[0]<=l;)w[0]++,C--;if(w[0]>l)return NaN;for(C=s+1;C<m&&h.get(o,C);)w[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(o,C)&&w[3]<l;)w[3]++,C++;if(C===m||w[3]>=l)return NaN;for(;C<m&&h.get(o,C)&&w[4]<l;)w[4]++,C++;if(w[4]>=l)return NaN;const N=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(N-f)>=2*f?NaN:Fn.foundPatternCross(w)?Fn.centerFromEnd(w,C):NaN}crossCheckHorizontal(s,o,l,f){const h=this.image,m=h.getWidth(),w=this.getCrossCheckStateCount();let C=s;for(;C>=0&&h.get(C,o);)w[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(C,o)&&w[1]<=l;)w[1]++,C--;if(C<0||w[1]>l)return NaN;for(;C>=0&&h.get(C,o)&&w[0]<=l;)w[0]++,C--;if(w[0]>l)return NaN;for(C=s+1;C<m&&h.get(C,o);)w[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(C,o)&&w[3]<l;)w[3]++,C++;if(C===m||w[3]>=l)return NaN;for(;C<m&&h.get(C,o)&&w[4]<l;)w[4]++,C++;if(w[4]>=l)return NaN;const N=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(N-f)>=f?NaN:Fn.foundPatternCross(w)?Fn.centerFromEnd(w,C):NaN}handlePossibleCenter(s,o,l,f){const h=s[0]+s[1]+s[2]+s[3]+s[4];let m=Fn.centerFromEnd(s,l),w=this.crossCheckVertical(o,Math.floor(m),s[2],h);if(!isNaN(w)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(w),s[2],h),!isNaN(m)&&(!f||this.crossCheckDiagonal(Math.floor(w),Math.floor(m),s[2],h)))){const C=h/7;let N=!1;const k=this.possibleCenters;for(let F=0,H=k.length;F<H;F++){const Z=k[F];if(Z.aboutEquals(C,w,m)){k[F]=Z.combineEstimate(w,m,C),N=!0;break}}if(!N){const F=new Wc(m,w,C);k.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=Fn.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const l=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=Fn.CENTER_QUORUM&&(s++,o+=m.getEstimatedModuleSize());if(s<3)return!1;const f=o/l;let h=0;for(const m of this.possibleCenters)h+=Math.abs(m.getEstimatedModuleSize()-f);return h<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new ee;const o=this.possibleCenters;let l;if(s>3){let f=0,h=0;for(const C of this.possibleCenters){const N=C.getEstimatedModuleSize();f+=N,h+=N*N}l=f/s;let m=Math.sqrt(h/s-l*l);o.sort((C,N)=>{const k=Math.abs(N.getEstimatedModuleSize()-l),F=Math.abs(C.getEstimatedModuleSize()-l);return k<F?-1:k>F?1:0});const w=Math.max(.2*l,m);for(let C=0;C<o.length&&o.length>3;C++){const N=o[C];Math.abs(N.getEstimatedModuleSize()-l)>w&&(o.splice(C,1),C--)}}if(o.length>3){let f=0;for(const h of o)f+=h.getEstimatedModuleSize();l=f/o.length,o.sort((h,m)=>{if(m.getCount()===h.getCount()){const w=Math.abs(m.getEstimatedModuleSize()-l),C=Math.abs(h.getEstimatedModuleSize()-l);return w<C?1:w>C?-1:0}else return m.getCount()-h.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Fn.CENTER_QUORUM=2,Fn.MIN_SKIP=3,Fn.MAX_MODULES=57;class bo{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(z.NEED_RESULT_POINT_CALLBACK);const l=new Fn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const o=s.getTopLeft(),l=s.getTopRight(),f=s.getBottomLeft(),h=this.calculateModuleSize(o,l,f);if(h<1)throw new ee("No pattern found in proccess finder.");const m=bo.computeDimension(o,l,f,h),w=$e.getProvisionalVersionForDimension(m),C=w.getDimensionForVersion()-7;let N=null;if(w.getAlignmentPatternCenters().length>0){const Z=l.getX()-o.getX()+f.getX(),U=l.getY()-o.getY()+f.getY(),$=1-3/C,X=Math.floor(o.getX()+$*(Z-o.getX())),te=Math.floor(o.getY()+$*(U-o.getY()));for(let pe=4;pe<=16;pe<<=1)try{N=this.findAlignmentInRegion(h,X,te,pe);break}catch(xe){if(!(xe instanceof ee))throw xe}}const k=bo.createTransform(o,l,f,N,m),F=bo.sampleGrid(this.image,k,m);let H;return N===null?H=[f,o,l]:H=[f,o,l,N],new Pn(F,H)}static createTransform(s,o,l,f,h){const m=h-3.5;let w,C,N,k;return f!==null?(w=f.getX(),C=f.getY(),N=m-3,k=N):(w=o.getX()-s.getX()+l.getX(),C=o.getY()-s.getY()+l.getY(),N=m,k=m),At.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,N,k,3.5,m,s.getX(),s.getY(),o.getX(),o.getY(),w,C,l.getX(),l.getY())}static sampleGrid(s,o,l){return Yt.getInstance().sampleGridWithTransform(s,l,l,o)}static computeDimension(s,o,l,f){const h=ot.round(Ee.distance(s,o)/f),m=ot.round(Ee.distance(s,l)/f);let w=Math.floor((h+m)/2)+7;switch(w&3){case 0:w++;break;case 2:w--;break;case 3:throw new ee("Dimensions could be not found.")}return w}calculateModuleSize(s,o,l){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?f/7:isNaN(f)?l/7:(l+f)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,l,f){let h=this.sizeOfBlackWhiteBlackRun(s,o,l,f),m=1,w=s-(l-s);w<0?(m=s/(s-w),w=0):w>=this.image.getWidth()&&(m=(this.image.getWidth()-1-s)/(w-s),w=this.image.getWidth()-1);let C=Math.floor(o-(f-o)*m);return m=1,C<0?(m=o/(o-C),C=0):C>=this.image.getHeight()&&(m=(this.image.getHeight()-1-o)/(C-o),C=this.image.getHeight()-1),w=Math.floor(s+(w-s)*m),h+=this.sizeOfBlackWhiteBlackRun(s,o,w,C),h-1}sizeOfBlackWhiteBlackRun(s,o,l,f){const h=Math.abs(f-o)>Math.abs(l-s);if(h){let Z=s;s=o,o=Z,Z=l,l=f,f=Z}const m=Math.abs(l-s),w=Math.abs(f-o);let C=-m/2;const N=s<l?1:-1,k=o<f?1:-1;let F=0;const H=l+N;for(let Z=s,U=o;Z!==H;Z+=N){const $=h?U:Z,X=h?Z:U;if(F===1===this.image.get($,X)){if(F===2)return ot.distance(Z,U,s,o);F++}if(C+=w,C>0){if(U===f)break;U+=k,C-=m}}return F===2?ot.distance(l+N,f,s,o):NaN}findAlignmentInRegion(s,o,l,f){const h=Math.floor(f*s),m=Math.max(0,o-h),w=Math.min(this.image.getWidth()-1,o+h);if(w-m<s*3)throw new ee("Alignment top exceeds estimated module size.");const C=Math.max(0,l-h),N=Math.min(this.image.getHeight()-1,l+h);if(N-C<s*3)throw new ee("Alignment bottom exceeds estimated module size.");return new El(this.image,m,C,w-m,N-C,s,this.resultPointCallback).find()}}class gs{constructor(){this.decoder=new Od}getDecoder(){return this.decoder}decode(s,o){let l,f;if(o!=null&&o.get(z.PURE_BARCODE)!==void 0){const C=gs.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(C,o),f=gs.NO_POINTS}else{const C=new bo(s.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(C.getBits(),o),f=C.getPoints()}l.getOther()instanceof zc&&l.getOther().applyMirroredCorrection(f);const h=new ft(l.getText(),l.getRawBytes(),void 0,f,De.QR_CODE,void 0),m=l.getByteSegments();m!==null&&h.putMetadata(We.BYTE_SEGMENTS,m);const w=l.getECLevel();return w!==null&&h.putMetadata(We.ERROR_CORRECTION_LEVEL,w),l.hasStructuredAppend()&&(h.putMetadata(We.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),h.putMetadata(We.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),h}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o===null||l===null)throw new ee;const f=this.moduleSize(o,s);let h=o[1],m=l[1],w=o[0],C=l[0];if(w>=C||h>=m)throw new ee;if(m-h!==C-w&&(C=w+(m-h),C>=s.getWidth()))throw new ee;const N=Math.round((C-w+1)/f),k=Math.round((m-h+1)/f);if(N<=0||k<=0)throw new ee;if(k!==N)throw new ee;const F=Math.floor(f/2);h+=F,w+=F;const H=w+Math.floor((N-1)*f)-C;if(H>0){if(H>F)throw new ee;w-=H}const Z=h+Math.floor((k-1)*f)-m;if(Z>0){if(Z>F)throw new ee;h-=Z}const U=new he(N,k);for(let $=0;$<k;$++){const X=h+Math.floor($*f);for(let te=0;te<N;te++)s.get(w+Math.floor(te*f),X)&&U.set(te,$)}return U}static moduleSize(s,o){const l=o.getHeight(),f=o.getWidth();let h=s[0],m=s[1],w=!0,C=0;for(;h<f&&m<l;){if(w!==o.get(h,m)){if(++C===5)break;w=!w}h++,m++}if(h===f||m===l)throw new ee;return(h-s[0])/7}}gs.NO_POINTS=new Array;class Ke{PDF417Common(){}static getBitCountSum(s){return ot.sum(s)}static toIntArray(s){if(s==null||!s.length)return Ke.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let l=0;for(const f of s)o[l++]=f;return o}static getCodeword(s){const o=D.binarySearch(Ke.SYMBOL_TABLE,s&262143);return o<0?-1:(Ke.CODEWORD_TABLE[o]-1)%Ke.NUMBER_OF_CODEWORDS}}Ke.NUMBER_OF_CODEWORDS=929,Ke.MAX_CODEWORDS_IN_BARCODE=Ke.NUMBER_OF_CODEWORDS-1,Ke.MIN_ROWS_IN_BARCODE=3,Ke.MAX_ROWS_IN_BARCODE=90,Ke.MODULES_IN_CODEWORD=17,Ke.MODULES_IN_STOP_PATTERN=18,Ke.BARS_IN_MODULE=8,Ke.EMPTY_INT_ARRAY=new Int32Array([]),Ke.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ke.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class hp{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class at{static detectMultiple(s,o,l){let f=s.getBlackMatrix(),h=at.detect(l,f);return h.length||(f=f.clone(),f.rotate180(),h=at.detect(l,f)),new hp(f,h)}static detect(s,o){const l=new Array;let f=0,h=0,m=!1;for(;f<o.getHeight();){const w=at.findVertices(o,f,h);if(w[0]==null&&w[3]==null){if(!m)break;m=!1,h=0;for(const C of l)C[1]!=null&&(f=Math.trunc(Math.max(f,C[1].getY()))),C[3]!=null&&(f=Math.max(f,Math.trunc(C[3].getY())));f+=at.ROW_STEP;continue}if(m=!0,l.push(w),!s)break;w[2]!=null?(h=Math.trunc(w[2].getX()),f=Math.trunc(w[2].getY())):(h=Math.trunc(w[4].getX()),f=Math.trunc(w[4].getY()))}return l}static findVertices(s,o,l){const f=s.getHeight(),h=s.getWidth(),m=new Array(8);return at.copyToResult(m,at.findRowsWithPattern(s,f,h,o,l,at.START_PATTERN),at.INDEXES_START_PATTERN),m[4]!=null&&(l=Math.trunc(m[4].getX()),o=Math.trunc(m[4].getY())),at.copyToResult(m,at.findRowsWithPattern(s,f,h,o,l,at.STOP_PATTERN),at.INDEXES_STOP_PATTERN),m}static copyToResult(s,o,l){for(let f=0;f<l.length;f++)s[l[f]]=o[f]}static findRowsWithPattern(s,o,l,f,h,m){const w=new Array(4);let C=!1;const N=new Int32Array(m.length);for(;f<o;f+=at.ROW_STEP){let F=at.findGuardPattern(s,h,f,l,!1,m,N);if(F!=null){for(;f>0;){const H=at.findGuardPattern(s,h,--f,l,!1,m,N);if(H!=null)F=H;else{f++;break}}w[0]=new Ee(F[0],f),w[1]=new Ee(F[1],f),C=!0;break}}let k=f+1;if(C){let F=0,H=Int32Array.from([Math.trunc(w[0].getX()),Math.trunc(w[1].getX())]);for(;k<o;k++){const Z=at.findGuardPattern(s,H[0],k,l,!1,m,N);if(Z!=null&&Math.abs(H[0]-Z[0])<at.MAX_PATTERN_DRIFT&&Math.abs(H[1]-Z[1])<at.MAX_PATTERN_DRIFT)H=Z,F=0;else{if(F>at.SKIPPED_ROW_COUNT_MAX)break;F++}}k-=F+1,w[2]=new Ee(H[0],k),w[3]=new Ee(H[1],k)}return k-f<at.BARCODE_MIN_HEIGHT&&D.fill(w,null),w}static findGuardPattern(s,o,l,f,h,m,w){D.fillWithin(w,0,w.length,0);let C=o,N=0;for(;s.get(C,l)&&C>0&&N++<at.MAX_PIXEL_DRIFT;)C--;let k=C,F=0,H=m.length;for(let Z=h;k<f;k++)if(s.get(k,l)!==Z)w[F]++;else{if(F===H-1){if(at.patternMatchVariance(w,m,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return new Int32Array([C,k]);C+=w[0]+w[1],R.arraycopy(w,2,w,0,F-1),w[F-1]=0,w[F]=0,F--}else F++;w[F]=1,Z=!Z}return F===H-1&&at.patternMatchVariance(w,m,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE?new Int32Array([C,k-1]):null}static patternMatchVariance(s,o,l){let f=s.length,h=0,m=0;for(let N=0;N<f;N++)h+=s[N],m+=o[N];if(h<m)return 1/0;let w=h/m;l*=w;let C=0;for(let N=0;N<f;N++){let k=s[N],F=o[N]*w,H=k>F?k-F:F-k;if(H>l)return 1/0;C+=H}return C/h}}at.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),at.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),at.MAX_AVG_VARIANCE=.42,at.MAX_INDIVIDUAL_VARIANCE=.8,at.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),at.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),at.MAX_PIXEL_DRIFT=3,at.MAX_PATTERN_DRIFT=5,at.SKIPPED_ROW_COUNT_MAX=25,at.ROW_STEP=5,at.BARCODE_MIN_HEIGHT=10;class Jn{constructor(s,o){if(o.length===0)throw new E;this.field=s;let l=o.length;if(l>1&&o[0]===0){let f=1;for(;f<l&&o[f]===0;)f++;f===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-f),R.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let f=0;for(let h of this.coefficients)f=this.field.add(f,h);return f}let o=this.coefficients[0],l=this.coefficients.length;for(let f=1;f<l;f++)o=this.field.add(this.field.multiply(s,o),this.coefficients[f]);return o}add(s){if(!this.field.equals(s.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){let m=o;o=l,l=m}let f=new Int32Array(l.length),h=l.length-o.length;R.arraycopy(l,0,f,0,h);for(let m=h;m<l.length;m++)f[m]=this.field.add(o[m-h],l[m]);return new Jn(this.field,f)}subtract(s){if(!this.field.equals(s.field))throw new E("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof Jn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new Jn(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,f=s.coefficients,h=f.length,m=new Int32Array(l+h-1);for(let w=0;w<l;w++){let C=o[w];for(let N=0;N<h;N++)m[w+N]=this.field.add(m[w+N],this.field.multiply(C,f[N]))}return new Jn(this.field,m)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let l=0;l<s;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new Jn(this.field,o)}multiplyScalar(s){if(s===0)return new Jn(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let f=0;f<o;f++)l[f]=this.field.multiply(this.coefficients[f],s);return new Jn(this.field,l)}multiplyByMonomial(s,o){if(s<0)throw new E;if(o===0)return new Jn(this.field,new Int32Array([0]));let l=this.coefficients.length,f=new Int32Array(l+s);for(let h=0;h<l;h++)f[h]=this.field.multiply(this.coefficients[h],o);return new Jn(this.field,f)}toString(){let s=new ne;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(o===0||l!==1)&&s.append(l),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class pp{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new E;return this.logTable[s]}inverse(s){if(s===0)throw new pn;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Hc extends pp{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let f=0;f<s;f++)this.expTable[f]=l,l=l*o%s;for(let f=0;f<s-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new Jn(this,new Int32Array([0])),this.one=new Jn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new E;if(o===0)return this.zero;let l=new Int32Array(s+1);return l[0]=o,new Jn(this,l)}}Hc.PDF417_GF=new Hc(Ke.NUMBER_OF_CODEWORDS,3);class Md{constructor(){this.field=Hc.PDF417_GF}decode(s,o,l){let f=new Jn(this.field,s),h=new Int32Array(o),m=!1;for(let U=o;U>0;U--){let $=f.evaluateAt(this.field.exp(U));h[o-U]=$,$!==0&&(m=!0)}if(!m)return 0;let w=this.field.getOne();if(l!=null)for(const U of l){let $=this.field.exp(s.length-1-U),X=new Jn(this.field,new Int32Array([this.field.subtract(0,$),1]));w=w.multiply(X)}let C=new Jn(this.field,h),N=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),C,o),k=N[0],F=N[1],H=this.findErrorLocations(k),Z=this.findErrorMagnitudes(F,k,H);for(let U=0;U<H.length;U++){let $=s.length-1-this.field.log(H[U]);if($<0)throw T.getChecksumInstance();s[$]=this.field.subtract(s[$],Z[U])}return H.length}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){let H=s;s=o,o=H}let f=s,h=o,m=this.field.getZero(),w=this.field.getOne();for(;h.getDegree()>=Math.round(l/2);){let H=f,Z=m;if(f=h,m=w,f.isZero())throw T.getChecksumInstance();h=H;let U=this.field.getZero(),$=f.getCoefficient(f.getDegree()),X=this.field.inverse($);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){let te=h.getDegree()-f.getDegree(),pe=this.field.multiply(h.getCoefficient(h.getDegree()),X);U=U.add(this.field.buildMonomial(te,pe)),h=h.subtract(f.multiplyByMonomial(te,pe))}w=U.multiply(m).subtract(Z).negative()}let C=w.getCoefficient(0);if(C===0)throw T.getChecksumInstance();let N=this.field.inverse(C),k=w.multiply(N),F=h.multiply(N);return[k,F]}findErrorLocations(s){let o=s.getDegree(),l=new Int32Array(o),f=0;for(let h=1;h<this.field.getSize()&&f<o;h++)s.evaluateAt(h)===0&&(l[f]=this.field.inverse(h),f++);if(f!==o)throw T.getChecksumInstance();return l}findErrorMagnitudes(s,o,l){let f=o.getDegree(),h=new Int32Array(f);for(let N=1;N<=f;N++)h[f-N]=this.field.multiply(N,o.getCoefficient(N));let m=new Jn(this.field,h),w=l.length,C=new Int32Array(w);for(let N=0;N<w;N++){let k=this.field.inverse(l[N]),F=this.field.subtract(0,s.evaluateAt(k)),H=this.field.inverse(m.evaluateAt(k));C[N]=this.field.multiply(F,H)}return C}}class Ws{constructor(s,o,l,f,h){s instanceof Ws?this.constructor_2(s):this.constructor_1(s,o,l,f,h)}constructor_1(s,o,l,f,h){const m=o==null||l==null,w=f==null||h==null;if(m&&w)throw new ee;m?(o=new Ee(0,f.getY()),l=new Ee(0,h.getY())):w&&(f=new Ee(s.getWidth()-1,o.getY()),h=new Ee(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=o,this.bottomLeft=l,this.topRight=f,this.bottomRight=h,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(f.getX(),h.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(l.getY(),h.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new Ws(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,l){let f=this.topLeft,h=this.bottomLeft,m=this.topRight,w=this.bottomRight;if(s>0){let C=l?this.topLeft:this.topRight,N=Math.trunc(C.getY()-s);N<0&&(N=0);let k=new Ee(C.getX(),N);l?f=k:m=k}if(o>0){let C=l?this.bottomLeft:this.bottomRight,N=Math.trunc(C.getY()+o);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let k=new Ee(C.getX(),N);l?h=k:w=k}return new Ws(this.image,f,h,m,w)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class nn{constructor(s,o,l,f){this.columnCount=s,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Mt{constructor(){this.buffer=""}static form(s,o){let l=-1;function f(m,w,C,N,k,F){if(m==="%%")return"%";if(o[++l]===void 0)return;m=N?parseInt(N.substr(1)):void 0;let H=k?parseInt(k.substr(1)):void 0,Z;switch(F){case"s":Z=o[l];break;case"c":Z=o[l][0];break;case"f":Z=parseFloat(o[l]).toFixed(m);break;case"p":Z=parseFloat(o[l]).toPrecision(m);break;case"e":Z=parseFloat(o[l]).toExponential(m);break;case"x":Z=parseInt(o[l]).toString(H||16);break;case"d":Z=parseFloat(parseInt(o[l],H||10).toPrecision(m)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(H);let U=parseInt(C),$=C&&C[0]+""=="0"?"0":" ";for(;Z.length<U;)Z=w!==void 0?Z+$:$+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}format(s,...o){this.buffer+=Mt.form(s,o)}toString(){return this.buffer}}class Co{constructor(s){this.boundingBox=new Ws(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let l=1;l<Co.MAX_NEARBY_DISTANCE;l++){let f=this.imageRowToCodewordIndex(s)-l;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(s)+l,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Mt;let o=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return s.toString()}}Co.MAX_NEARBY_DISTANCE=5;class Eo{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[l,f]of this.values.entries()){const h={getKey:()=>l,getValue:()=>f};h.getValue()>s?(s=h.getValue(),o=[],o.push(h.getKey())):h.getValue()===s&&o.push(h.getKey())}return Ke.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class Ld extends Co{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let l=this.getBoundingBox(),f=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),w=this.imageRowToCodewordIndex(Math.trunc(h.getY())),C=-1,N=1,k=0;for(let F=m;F<w;F++){if(o[F]==null)continue;let H=o[F],Z=H.getRowNumber()-C;if(Z===0)k++;else if(Z===1)N=Math.max(N,k),k=1,C=H.getRowNumber();else if(Z<0||H.getRowNumber()>=s.getRowCount()||Z>F)o[F]=null;else{let U;N>2?U=(N-2)*Z:U=Z;let $=U>=F;for(let X=1;X<=U&&!$;X++)$=o[F-X]!=null;$?o[F]=null:(C=H.getRowNumber(),k=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let f=l.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),w=this.getCodewords(),C=-1;for(let N=h;N<m;N++){if(w[N]==null)continue;let k=w[N];k.setRowNumberAsRowIndicatorColumn();let F=k.getRowNumber()-C;F===0||(F===1?C=k.getRowNumber():k.getRowNumber()>=s.getRowCount()?w[N]=null:C=k.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new Eo,l=new Eo,f=new Eo,h=new Eo;for(let w of s){if(w==null)continue;w.setRowNumberAsRowIndicatorColumn();let C=w.getValue()%30,N=w.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:l.setValue(C*3+1);break;case 1:h.setValue(C/3),f.setValue(C%3);break;case 2:o.setValue(C+1);break}}if(o.getValue().length===0||l.getValue().length===0||f.getValue().length===0||h.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+f.getValue()[0]<Ke.MIN_ROWS_IN_BARCODE||l.getValue()[0]+f.getValue()[0]>Ke.MAX_ROWS_IN_BARCODE)return null;let m=new nn(o.getValue()[0],l.getValue()[0],f.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(s,m),m}removeIncorrectCodewords(s,o){for(let l=0;l<s.length;l++){let f=s[l];if(s[l]==null)continue;let h=f.getValue()%30,m=f.getRowNumber();if(m>o.getRowCount()){s[l]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:h*3+1!==o.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(h/3)!==o.getErrorCorrectionLevel()||h%3!==o.getRowCountLowerPart())&&(s[l]=null);break;case 2:h+1!==o.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class No{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Ke.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let f=0;f<l.length;f++)l[f]!=null&&(l[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&o[l]!=null&&s[l].getRowNumber()===o[l].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let h=this.detectionResultColumns[f].getCodewords()[l];h!=null&&(h.setRowNumber(s[l].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let f=o[l].getRowNumber(),h=0;for(let m=this.barcodeColumnCount+1;m>0&&h<this.ADJUST_ROW_NUMBER_SKIP;m--){let w=this.detectionResultColumns[m].getCodewords()[l];w!=null&&(h=No.adjustRowNumberIfValid(f,h,w),w.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let f=o[l].getRowNumber(),h=0;for(let m=1;m<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;m++){let w=this.detectionResultColumns[m].getCodewords()[l];w!=null&&(h=No.adjustRowNumberIfValid(f,h,w),w.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,l){if(!this.detectionResultColumns[s-1])return;let f=l[o],h=this.detectionResultColumns[s-1].getCodewords(),m=h;this.detectionResultColumns[s+1]!=null&&(m=this.detectionResultColumns[s+1].getCodewords());let w=new Array(14);w[2]=h[o],w[3]=m[o],o>0&&(w[0]=l[o-1],w[4]=h[o-1],w[5]=m[o-1]),o>1&&(w[8]=l[o-2],w[10]=h[o-2],w[11]=m[o-2]),o<l.length-1&&(w[1]=l[o+1],w[6]=h[o+1],w[7]=m[o+1]),o<l.length-2&&(w[9]=l[o+2],w[12]=h[o+2],w[13]=m[o+2]);for(let C of w)if(No.adjustRowNumber(f,C))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Mt;for(let l=0;l<s.getCodewords().length;l++){o.format("CW %3d:",l);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let h=this.detectionResultColumns[f].getCodewords()[l];if(h==null){o.format("    |   ");continue}o.format(" %3d|%3d",h.getRowNumber(),h.getValue())}o.format("%n")}return o.toString()}}class _o{constructor(s,o,l,f){this.rowNumber=_o.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==_o.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}_o.BARCODE_ROW_UNKNOWN=-1;class Nr{static initialize(){for(let s=0;s<Ke.SYMBOL_TABLE.length;s++){let o=Ke.SYMBOL_TABLE[s],l=o&1;for(let f=0;f<Ke.BARS_IN_MODULE;f++){let h=0;for(;(o&1)===l;)h+=1,o>>=1;l=o&1,Nr.RATIOS_TABLE[s]||(Nr.RATIOS_TABLE[s]=new Array(Ke.BARS_IN_MODULE)),Nr.RATIOS_TABLE[s][Ke.BARS_IN_MODULE-f-1]=Math.fround(h/Ke.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=Nr.getDecodedCodewordValue(Nr.sampleBitCounts(s));return o!==-1?o:Nr.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=ot.sum(s),l=new Int32Array(Ke.BARS_IN_MODULE),f=0,h=0;for(let m=0;m<Ke.MODULES_IN_CODEWORD;m++){let w=o/(2*Ke.MODULES_IN_CODEWORD)+m*o/Ke.MODULES_IN_CODEWORD;h+s[f]<=w&&(h+=s[f],f++),l[f]++}return l}static getDecodedCodewordValue(s){let o=Nr.getBitValue(s);return Ke.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let l=0;l<s.length;l++)for(let f=0;f<s[l];f++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=ot.sum(s),l=new Array(Ke.BARS_IN_MODULE);if(o>1)for(let m=0;m<l.length;m++)l[m]=Math.fround(s[m]/o);let f=Re.MAX_VALUE,h=-1;this.bSymbolTableReady||Nr.initialize();for(let m=0;m<Nr.RATIOS_TABLE.length;m++){let w=0,C=Nr.RATIOS_TABLE[m];for(let N=0;N<Ke.BARS_IN_MODULE;N++){let k=Math.fround(C[N]-l[N]);if(w+=Math.fround(k*k),w>=f)break}w<f&&(f=w,h=Ke.SYMBOL_TABLE[m])}return h}}Nr.bSymbolTableReady=!1,Nr.RATIOS_TABLE=new Array(Ke.SYMBOL_TABLE.length).map(L=>new Array(Ke.BARS_IN_MODULE));class qc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Pd{static parseLong(s,o=void 0){return parseInt(s,o)}}class Yn extends x{}Yn.kind="NullPointerException";class Vc{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,l){if(s==null)throw new Yn;if(o<0||o>s.length||l<0||o+l>s.length||o+l<0)throw new O;if(l===0)return;for(let f=0;f<l;f++)this.write(s[o+f])}flush(){}close(){}}class Hs extends x{}class Fd extends Vc{constructor(s=32){if(super(),this.count=0,s<0)throw new E("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new Hs;l=j.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,l){if(o<0||o>s.length||l<0||o+l-s.length>0)throw new O;this.ensureCapacity(this.count+l),R.arraycopy(s,o,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Lt;(function(L){L[L.ALPHA=0]="ALPHA",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.PUNCT=3]="PUNCT",L[L.ALPHA_SHIFT=4]="ALPHA_SHIFT",L[L.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Lt||(Lt={}));function Mr(){if(typeof window<"u")return window.BigInt||null;if(typeof As<"u")return As.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let So;function Xi(L){if(typeof So>"u"&&(So=Mr()),So===null)throw new Error("BigInt is not supported!");return So(L)}function Bd(){let L=[];L[0]=Xi(1);let s=Xi(900);L[1]=s;for(let o=2;o<16;o++)L[o]=L[o-1]*s;return L}class fe{static decode(s,o){let l=new ne(""),f=W.ISO8859_1;l.enableDecoding(f);let h=1,m=s[h++],w=new qc;for(;h<s[0];){switch(m){case fe.TEXT_COMPACTION_MODE_LATCH:h=fe.textCompaction(s,h,l);break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:h=fe.byteCompaction(m,s,f,h,l);break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[h++]);break;case fe.NUMERIC_COMPACTION_MODE_LATCH:h=fe.numericCompaction(s,h,l);break;case fe.ECI_CHARSET:W.getCharacterSetECIByValue(s[h++]);break;case fe.ECI_GENERAL_PURPOSE:h+=2;break;case fe.ECI_USER_DEFINED:h++;break;case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=fe.decodeMacroBlock(s,h,w);break;case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:throw new P;default:h--,h=fe.textCompaction(s,h,l);break}if(h<s.length)m=s[h++];else throw P.getFormatInstance()}if(l.length()===0)throw P.getFormatInstance();let C=new qt(null,l.toString(),null,o);return C.setOther(w),C}static decodeMacroBlock(s,o,l){if(o+fe.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw P.getFormatInstance();let f=new Int32Array(fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let w=0;w<fe.NUMBER_OF_SEQUENCE_CODEWORDS;w++,o++)f[w]=s[o];l.setSegmentIndex(j.parseInt(fe.decodeBase900toBase10(f,fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new ne;o=fe.textCompaction(s,o,h),l.setFileId(h.toString());let m=-1;for(s[o]===fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=o+1);o<s[0];)switch(s[o]){case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let w=new ne;o=fe.textCompaction(s,o+1,w),l.setFileName(w.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new ne;o=fe.textCompaction(s,o+1,C),l.setSender(C.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new ne;o=fe.textCompaction(s,o+1,N),l.setAddressee(N.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let k=new ne;o=fe.numericCompaction(s,o+1,k),l.setSegmentCount(j.parseInt(k.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new ne;o=fe.numericCompaction(s,o+1,F),l.setTimestamp(Pd.parseLong(F.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let H=new ne;o=fe.numericCompaction(s,o+1,H),l.setChecksum(j.parseInt(H.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Z=new ne;o=fe.numericCompaction(s,o+1,Z),l.setFileSize(Pd.parseLong(Z.toString()));break;default:throw P.getFormatInstance()}break;case fe.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(m!==-1){let w=o-m;l.isLastSegment()&&w--,l.setOptionalData(D.copyOfRange(s,m,m+w))}return o}static textCompaction(s,o,l){let f=new Int32Array((s[0]-o)*2),h=new Int32Array((s[0]-o)*2),m=0,w=!1;for(;o<s[0]&&!w;){let C=s[o++];if(C<fe.TEXT_COMPACTION_MODE_LATCH)f[m]=C/30,f[m+1]=C%30,m+=2;else switch(C){case fe.TEXT_COMPACTION_MODE_LATCH:f[m++]=fe.TEXT_COMPACTION_MODE_LATCH;break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:o--,w=!0;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[m]=fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=s[o++],h[m]=C,m++;break}}return fe.decodeTextCompaction(f,h,m,l),o}static decodeTextCompaction(s,o,l,f){let h=Lt.ALPHA,m=Lt.ALPHA,w=0;for(;w<l;){let C=s[w],N="";switch(h){case Lt.ALPHA:if(C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case fe.LL:h=Lt.LOWER;break;case fe.ML:h=Lt.MIXED;break;case fe.PS:m=h,h=Lt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[w]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Lt.ALPHA;break}break;case Lt.LOWER:if(C<26)N=String.fromCharCode(97+C);else switch(C){case 26:N=" ";break;case fe.AS:m=h,h=Lt.ALPHA_SHIFT;break;case fe.ML:h=Lt.MIXED;break;case fe.PS:m=h,h=Lt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[w]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Lt.ALPHA;break}break;case Lt.MIXED:if(C<fe.PL)N=fe.MIXED_CHARS[C];else switch(C){case fe.PL:h=Lt.PUNCT;break;case 26:N=" ";break;case fe.LL:h=Lt.LOWER;break;case fe.AL:h=Lt.ALPHA;break;case fe.PS:m=h,h=Lt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[w]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Lt.ALPHA;break}break;case Lt.PUNCT:if(C<fe.PAL)N=fe.PUNCT_CHARS[C];else switch(C){case fe.PAL:h=Lt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[w]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Lt.ALPHA;break}break;case Lt.ALPHA_SHIFT:if(h=m,C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Lt.ALPHA;break}break;case Lt.PUNCT_SHIFT:if(h=m,C<fe.PAL)N=fe.PUNCT_CHARS[C];else switch(C){case fe.PAL:h=Lt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[w]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Lt.ALPHA;break}break}N!==""&&f.append(N),w++}}static byteCompaction(s,o,l,f,h){let m=new Fd,w=0,C=0,N=!1;switch(s){case fe.BYTE_COMPACTION_MODE_LATCH:let k=new Int32Array(6),F=o[f++];for(;f<o[0]&&!N;)switch(k[w++]=F,C=900*C+F,F=o[f++],F){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:f--,N=!0;break;default:if(w%5===0&&w>0){for(let H=0;H<6;++H)m.write(Number(Xi(C)>>Xi(8*(5-H))));C=0,w=0}break}f===o[0]&&F<fe.TEXT_COMPACTION_MODE_LATCH&&(k[w++]=F);for(let H=0;H<w;H++)m.write(k[H]);break;case fe.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!N;){let H=o[f++];if(H<fe.TEXT_COMPACTION_MODE_LATCH)w++,C=900*C+H;else switch(H){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:f--,N=!0;break}if(w%5===0&&w>0){for(let Z=0;Z<6;++Z)m.write(Number(Xi(C)>>Xi(8*(5-Z))));C=0,w=0}}break}return h.append(ce.decode(m.toByteArray(),l)),f}static numericCompaction(s,o,l){let f=0,h=!1,m=new Int32Array(fe.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!h;){let w=s[o++];if(o===s[0]&&(h=!0),w<fe.TEXT_COMPACTION_MODE_LATCH)m[f]=w,f++;else switch(w){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:o--,h=!0;break}(f%fe.MAX_NUMERIC_CODEWORDS===0||w===fe.NUMERIC_COMPACTION_MODE_LATCH||h)&&f>0&&(l.append(fe.decodeBase900toBase10(m,f)),f=0)}return o}static decodeBase900toBase10(s,o){let l=Xi(0);for(let h=0;h<o;h++)l+=fe.EXP900[o-h-1]*Xi(s[h]);let f=l.toString();if(f.charAt(0)!=="1")throw new P;return f.substring(1)}}fe.TEXT_COMPACTION_MODE_LATCH=900,fe.BYTE_COMPACTION_MODE_LATCH=901,fe.NUMERIC_COMPACTION_MODE_LATCH=902,fe.BYTE_COMPACTION_MODE_LATCH_6=924,fe.ECI_USER_DEFINED=925,fe.ECI_GENERAL_PURPOSE=926,fe.ECI_CHARSET=927,fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,fe.MACRO_PDF417_TERMINATOR=922,fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,fe.MAX_NUMERIC_CODEWORDS=15,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,fe.PL=25,fe.LL=27,fe.AS=27,fe.ML=28,fe.AL=28,fe.PS=29,fe.PAL=29,fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",fe.EXP900=Mr()?Bd():[],fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ct{constructor(){}static decode(s,o,l,f,h,m,w){let C=new Ws(s,o,l,f,h),N=null,k=null,F;for(let U=!0;;U=!1){if(o!=null&&(N=ct.getRowIndicatorColumn(s,C,o,!0,m,w)),f!=null&&(k=ct.getRowIndicatorColumn(s,C,f,!1,m,w)),F=ct.merge(N,k),F==null)throw ee.getNotFoundInstance();let $=F.getBoundingBox();if(U&&$!=null&&($.getMinY()<C.getMinY()||$.getMaxY()>C.getMaxY()))C=$;else break}F.setBoundingBox(C);let H=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,N),F.setDetectionResultColumn(H,k);let Z=N!=null;for(let U=1;U<=H;U++){let $=Z?U:H-U;if(F.getDetectionResultColumn($)!==void 0)continue;let X;$===0||$===H?X=new Ld(C,$===0):X=new Co(C),F.setDetectionResultColumn($,X);let te=-1,pe=te;for(let xe=C.getMinY();xe<=C.getMaxY();xe++){if(te=ct.getStartColumn(F,$,xe,Z),te<0||te>C.getMaxX()){if(pe===-1)continue;te=pe}let we=ct.detectCodeword(s,C.getMinX(),C.getMaxX(),Z,te,xe,m,w);we!=null&&(X.setCodeword(xe,we),pe=te,m=Math.min(m,we.getWidth()),w=Math.max(w,we.getWidth()))}}return ct.createDecoderResult(F)}static merge(s,o){if(s==null&&o==null)return null;let l=ct.getBarcodeMetadata(s,o);if(l==null)return null;let f=Ws.merge(ct.adjustBoundingBox(s),ct.adjustBoundingBox(o));return new No(l,f)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let l=ct.getMax(o),f=0;for(let w of o)if(f+=l-w,w>0)break;let h=s.getCodewords();for(let w=0;f>0&&h[w]==null;w++)f--;let m=0;for(let w=o.length-1;w>=0&&(m+=l-o[w],!(o[w]>0));w--);for(let w=h.length-1;m>0&&h[w]==null;w--)m--;return s.getBoundingBox().addMissingRows(f,m,s.isLeft())}static getMax(s){let o=-1;for(let l of s)o=Math.max(o,l);return o}static getBarcodeMetadata(s,o){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==f.getColumnCount()&&l.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&l.getRowCount()!==f.getRowCount()?null:l}static getRowIndicatorColumn(s,o,l,f,h,m){let w=new Ld(o,f);for(let C=0;C<2;C++){let N=C===0?1:-1,k=Math.trunc(Math.trunc(l.getX()));for(let F=Math.trunc(Math.trunc(l.getY()));F<=o.getMaxY()&&F>=o.getMinY();F+=N){let H=ct.detectCodeword(s,0,s.getWidth(),f,k,F,h,m);H!=null&&(w.setCodeword(F,H),f?k=H.getStartX():k=H.getEndX())}}return w}static adjustCodewordCount(s,o){let l=o[0][1],f=l.getValue(),h=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-ct.getNumberOfECCodeWords(s.getBarcodeECLevel());if(f.length===0){if(h<1||h>Ke.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();l.setValue(h)}else f[0]!==h&&l.setValue(h)}static createDecoderResult(s){let o=ct.createBarcodeMatrix(s);ct.adjustCodewordCount(s,o);let l=new Array,f=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),h=[],m=new Array;for(let C=0;C<s.getBarcodeRowCount();C++)for(let N=0;N<s.getBarcodeColumnCount();N++){let k=o[C][N+1].getValue(),F=C*s.getBarcodeColumnCount()+N;k.length===0?l.push(F):k.length===1?f[F]=k[0]:(m.push(F),h.push(k))}let w=new Array(h.length);for(let C=0;C<w.length;C++)w[C]=h[C];return ct.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),f,Ke.toIntArray(l),Ke.toIntArray(m),w)}static createDecoderResultFromAmbiguousValues(s,o,l,f,h){let m=new Int32Array(f.length),w=100;for(;w-- >0;){for(let C=0;C<m.length;C++)o[f[C]]=h[C][m[C]];try{return ct.decodeCodewords(o,s,l)}catch(C){if(!(C instanceof T))throw C}if(m.length===0)throw T.getChecksumInstance();for(let C=0;C<m.length;C++)if(m[C]<h[C].length-1){m[C]++;break}else if(m[C]=0,C===m.length-1)throw T.getChecksumInstance()}throw T.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let h=0;h<o[f].length;h++)o[f][h]=new Eo;let l=0;for(let f of s.getDetectionResultColumns()){if(f!=null){for(let h of f.getCodewords())if(h!=null){let m=h.getRowNumber();if(m>=0){if(m>=o.length)continue;o[m][l].setValue(h.getValue())}}}l++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,l,f){let h=f?1:-1,m=null;if(ct.isValidBarcodeColumn(s,o-h)&&(m=s.getDetectionResultColumn(o-h).getCodeword(l)),m!=null)return f?m.getEndX():m.getStartX();if(m=s.getDetectionResultColumn(o).getCodewordNearby(l),m!=null)return f?m.getStartX():m.getEndX();if(ct.isValidBarcodeColumn(s,o-h)&&(m=s.getDetectionResultColumn(o-h).getCodewordNearby(l)),m!=null)return f?m.getEndX():m.getStartX();let w=0;for(;ct.isValidBarcodeColumn(s,o-h);){o-=h;for(let C of s.getDetectionResultColumn(o).getCodewords())if(C!=null)return(f?C.getEndX():C.getStartX())+h*w*(C.getEndX()-C.getStartX());w++}return f?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,l,f,h,m,w,C){h=ct.adjustCodewordStartColumn(s,o,l,f,h,m);let N=ct.getModuleBitCount(s,o,l,f,h,m);if(N==null)return null;let k,F=ot.sum(N);if(f)k=h+F;else{for(let U=0;U<N.length/2;U++){let $=N[U];N[U]=N[N.length-1-U],N[N.length-1-U]=$}k=h,h=k-F}if(!ct.checkCodewordSkew(F,w,C))return null;let H=Nr.getDecodedValue(N),Z=Ke.getCodeword(H);return Z===-1?null:new _o(h,k,ct.getCodewordBucketNumber(H),Z)}static getModuleBitCount(s,o,l,f,h,m){let w=h,C=new Int32Array(8),N=0,k=f?1:-1,F=f;for(;(f?w<l:w>=o)&&N<C.length;)s.get(w,m)===F?(C[N]++,w+=k):(N++,F=!F);return N===C.length||w===(f?l:o)&&N===C.length-1?C:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,l,f,h,m){let w=h,C=f?-1:1;for(let N=0;N<2;N++){for(;(f?w>=o:w<l)&&f===s.get(w,m);){if(Math.abs(h-w)>ct.CODEWORD_SKEW_SIZE)return h;w+=C}C=-C,f=!f}return w}static checkCodewordSkew(s,o,l){return o-ct.CODEWORD_SKEW_SIZE<=s&&s<=l+ct.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,l){if(s.length===0)throw P.getFormatInstance();let f=1<<o+1,h=ct.correctErrors(s,l,f);ct.verifyCodewordCount(s,f);let m=fe.decode(s,""+o);return m.setErrorsCorrected(h),m.setErasures(l.length),m}static correctErrors(s,o,l){if(o!=null&&o.length>l/2+ct.MAX_ERRORS||l<0||l>ct.MAX_EC_CODEWORDS)throw T.getChecksumInstance();return ct.errorCorrection.decode(s,l,o)}static verifyCodewordCount(s,o){if(s.length<4)throw P.getFormatInstance();let l=s[0];if(l>s.length)throw P.getFormatInstance();if(l===0)if(o<s.length)s[0]=s.length-o;else throw P.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),l=0,f=o.length-1;for(;!((s&1)!==l&&(l=s&1,f--,f<0));)o[f]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return ct.getCodewordBucketNumber(ct.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new Mt;for(let l=0;l<s.length;l++){o.format("Row %2d: ",l);for(let f=0;f<s[l].length;f++){let h=s[l][f];h.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}o.format("%n")}return o.toString()}}ct.CODEWORD_SKEW_SIZE=2,ct.MAX_ERRORS=3,ct.MAX_EC_CODEWORDS=512,ct.errorCorrection=new Md;class $n{decode(s,o=null){let l=$n.decode(s,o,!1);if(l==null||l.length===0||l[0]==null)throw ee.getNotFoundInstance();return l[0]}decodeMultiple(s,o=null){try{return $n.decode(s,o,!0)}catch(l){throw l instanceof P||l instanceof T?ee.getNotFoundInstance():l}}static decode(s,o,l){const f=new Array,h=at.detectMultiple(s,o,l);for(const m of h.getPoints()){const w=ct.decode(h.getBits(),m[4],m[5],m[6],m[7],$n.getMinCodewordWidth(m),$n.getMaxCodewordWidth(m)),C=new ft(w.getText(),w.getRawBytes(),void 0,m,De.PDF_417);C.putMetadata(We.ERROR_CORRECTION_LEVEL,w.getECLevel());const N=w.getOther();N!=null&&C.putMetadata(We.PDF417_EXTRA_METADATA,N),f.push(C)}return f.map(m=>m)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?j.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max($n.getMaxWidth(s[0],s[4]),$n.getMaxWidth(s[6],s[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.max($n.getMaxWidth(s[1],s[5]),$n.getMaxWidth(s[7],s[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min($n.getMinWidth(s[0],s[4]),$n.getMinWidth(s[6],s[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.min($n.getMinWidth(s[1],s[5]),$n.getMinWidth(s[7],s[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}reset(){}}class sr extends x{}sr.kind="ReaderException";class Ud{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!r(s)&&s.get(z.TRY_HARDER)===!0,l=r(s)?null:s.get(z.POSSIBLE_FORMATS),f=new Array;if(!r(l)){const h=l.some(m=>m===De.UPC_A||m===De.UPC_E||m===De.EAN_13||m===De.EAN_8||m===De.CODABAR||m===De.CODE_39||m===De.CODE_93||m===De.CODE_128||m===De.ITF||m===De.RSS_14||m===De.RSS_EXPANDED);h&&!o&&f.push(new zs(s,this.verbose)),l.includes(De.QR_CODE)&&f.push(new gs),l.includes(De.DATA_MATRIX)&&f.push(new li),l.includes(De.AZTEC)&&f.push(new _i),l.includes(De.PDF_417)&&f.push(new $n),h&&o&&f.push(new zs(s,this.verbose))}f.length===0&&(o||f.push(new zs(s,this.verbose)),f.push(new gs),f.push(new li),f.push(new _i),f.push(new $n),o&&f.push(new zs(s,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new sr("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(l){if(l instanceof sr)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class Gr extends fn{constructor(s=null,o=500){const l=new Ud;l.setHints(s),super(l,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class mp extends fn{constructor(s=500){super(new $n,s)}}class zd extends fn{constructor(s=500){super(new gs,s)}}var Di;(function(L){L[L.ERROR_CORRECTION=0]="ERROR_CORRECTION",L[L.CHARACTER_SET=1]="CHARACTER_SET",L[L.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",L[L.MIN_SIZE=3]="MIN_SIZE",L[L.MAX_SIZE=4]="MAX_SIZE",L[L.MARGIN=5]="MARGIN",L[L.PDF417_COMPACT=6]="PDF417_COMPACT",L[L.PDF417_COMPACTION=7]="PDF417_COMPACTION",L[L.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",L[L.AZTEC_LAYERS=9]="AZTEC_LAYERS",L[L.QR_VERSION=10]="QR_VERSION"})(Di||(Di={}));var gn=Di;class Ao{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Vt(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let l=o[o.length-1];const f=this.field;for(let h=o.length;h<=s;h++){const m=l.multiply(new Vt(f,Int32Array.from([1,f.exp(h-1+f.getGeneratorBase())])));o.push(m),l=m}}return o[s]}encode(s,o){if(o===0)throw new E("No error correction bytes");const l=s.length-o;if(l<=0)throw new E("No data bytes provided");const f=this.buildGenerator(o),h=new Int32Array(l);R.arraycopy(s,0,h,0,l);let m=new Vt(this.field,h);m=m.multiplyByMonomial(o,1);const C=m.divide(f)[1].getCoefficients(),N=o-C.length;for(let k=0;k<N;k++)s[l+k]=0;R.arraycopy(C,0,s,l+N,C.length)}}class it{constructor(){}static applyMaskPenaltyRule1(s){return it.applyMaskPenaltyRule1Internal(s,!0)+it.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const l=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let m=0;m<h-1;m++){const w=l[m];for(let C=0;C<f-1;C++){const N=w[C];N===w[C+1]&&N===l[m+1][C]&&N===l[m+1][C+1]&&o++}}return it.N2*o}static applyMaskPenaltyRule3(s){let o=0;const l=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let m=0;m<h;m++)for(let w=0;w<f;w++){const C=l[m];w+6<f&&C[w]===1&&C[w+1]===0&&C[w+2]===1&&C[w+3]===1&&C[w+4]===1&&C[w+5]===0&&C[w+6]===1&&(it.isWhiteHorizontal(C,w-4,w)||it.isWhiteHorizontal(C,w+7,w+11))&&o++,m+6<h&&l[m][w]===1&&l[m+1][w]===0&&l[m+2][w]===1&&l[m+3][w]===1&&l[m+4][w]===1&&l[m+5][w]===0&&l[m+6][w]===1&&(it.isWhiteVertical(l,w,m-4,m)||it.isWhiteVertical(l,w,m+7,m+11))&&o++}return o*it.N3}static isWhiteHorizontal(s,o,l){o=Math.max(o,0),l=Math.min(l,s.length);for(let f=o;f<l;f++)if(s[f]===1)return!1;return!0}static isWhiteVertical(s,o,l,f){l=Math.max(l,0),f=Math.min(f,s.length);for(let h=l;h<f;h++)if(s[h][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const l=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let C=0;C<h;C++){const N=l[C];for(let k=0;k<f;k++)N[k]===1&&o++}const m=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-m)*10/m)*it.N4}static getDataMaskBit(s,o,l){let f,h;switch(s){case 0:f=l+o&1;break;case 1:f=l&1;break;case 2:f=o%3;break;case 3:f=(l+o)%3;break;case 4:f=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:h=l*o,f=(h&1)+h%3;break;case 6:h=l*o,f=(h&1)+h%3&1;break;case 7:h=l*o,f=h%3+(l+o&1)&1;break;default:throw new E("Invalid mask pattern: "+s)}return f===0}static applyMaskPenaltyRule1Internal(s,o){let l=0;const f=o?s.getHeight():s.getWidth(),h=o?s.getWidth():s.getHeight(),m=s.getArray();for(let w=0;w<f;w++){let C=0,N=-1;for(let k=0;k<h;k++){const F=o?m[w][k]:m[k][w];F===N?C++:(C>=5&&(l+=it.N1+(C-5)),C=1,N=F)}C>=5&&(l+=it.N1+(C-5))}return l}}it.N1=3,it.N2=3,it.N3=40,it.N4=10;class ci{constructor(s,o){this.width=s,this.height=o;const l=new Array(o);for(let f=0;f!==o;f++)l[f]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,l){this.bytes[o][s]=l}setBoolean(s,o,l){this.bytes[o][s]=l?1:0}clear(s){for(const o of this.bytes)D.fill(o,s)}equals(s){if(!(s instanceof ci))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,f=this.height;l<f;++l){const h=this.bytes[l],m=o.bytes[l];for(let w=0,C=this.width;w<C;++w)if(h[w]!==m[w])return!1}return!0}toString(){const s=new ne;for(let o=0,l=this.height;o<l;++o){const f=this.bytes[o];for(let h=0,m=this.width;h<m;++h)switch(f[h]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Qi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new ne;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Qi.NUM_MASK_PATTERNS}}Qi.NUM_MASK_PATTERNS=8;class Xt extends x{}Xt.kind="WriterException";class Qe{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,l,f,h){Qe.clearMatrix(h),Qe.embedBasicPatterns(l,h),Qe.embedTypeInfo(o,f,h),Qe.maybeEmbedVersionInfo(l,h),Qe.embedDataBits(s,f,h)}static embedBasicPatterns(s,o){Qe.embedPositionDetectionPatternsAndSeparators(o),Qe.embedDarkDotAtLeftBottomCorner(o),Qe.maybeEmbedPositionAdjustmentPatterns(s,o),Qe.embedTimingPatterns(o)}static embedTypeInfo(s,o,l){const f=new q;Qe.makeTypeInfoBits(s,o,f);for(let h=0,m=f.getSize();h<m;++h){const w=f.get(f.getSize()-1-h),C=Qe.TYPE_INFO_COORDINATES[h],N=C[0],k=C[1];if(l.setBoolean(N,k,w),h<8){const F=l.getWidth()-h-1,H=8;l.setBoolean(F,H,w)}else{const H=l.getHeight()-7+(h-8);l.setBoolean(8,H,w)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const l=new q;Qe.makeVersionInfoBits(s,l);let f=6*3-1;for(let h=0;h<6;++h)for(let m=0;m<3;++m){const w=l.get(f);f--,o.setBoolean(h,o.getHeight()-11+m,w),o.setBoolean(o.getHeight()-11+m,h,w)}}static embedDataBits(s,o,l){let f=0,h=-1,m=l.getWidth()-1,w=l.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);w>=0&&w<l.getHeight();){for(let C=0;C<2;++C){const N=m-C;if(!Qe.isEmpty(l.get(N,w)))continue;let k;f<s.getSize()?(k=s.get(f),++f):k=!1,o!==255&&it.getDataMaskBit(o,N,w)&&(k=!k),l.setBoolean(N,w,k)}w+=h}h=-h,w+=h,m-=2}if(f!==s.getSize())throw new Xt("Not all bits consumed: "+f+"/"+s.getSize())}static findMSBSet(s){return 32-j.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new E("0 polynomial");const l=Qe.findMSBSet(o);for(s<<=l-1;Qe.findMSBSet(s)>=l;)s^=o<<Qe.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,o,l){if(!Qi.isValidMaskPattern(o))throw new Xt("Invalid mask pattern");const f=s.getBits()<<3|o;l.appendBits(f,5);const h=Qe.calculateBCHCode(f,Qe.TYPE_INFO_POLY);l.appendBits(h,10);const m=new q;if(m.appendBits(Qe.TYPE_INFO_MASK_PATTERN,15),l.xor(m),l.getSize()!==15)throw new Xt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const l=Qe.calculateBCHCode(s.getVersionNumber(),Qe.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new Xt("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const l=(o+1)%2;Qe.isEmpty(s.get(o,6))&&s.setNumber(o,6,l),Qe.isEmpty(s.get(6,o))&&s.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Xt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,l){for(let f=0;f<8;++f){if(!Qe.isEmpty(l.get(s+f,o)))throw new Xt;l.setNumber(s+f,o,0)}}static embedVerticalSeparationPattern(s,o,l){for(let f=0;f<7;++f){if(!Qe.isEmpty(l.get(s,o+f)))throw new Xt;l.setNumber(s,o+f,0)}}static embedPositionAdjustmentPattern(s,o,l){for(let f=0;f<5;++f){const h=Qe.POSITION_ADJUSTMENT_PATTERN[f];for(let m=0;m<5;++m)l.setNumber(s+m,o+f,h[m])}}static embedPositionDetectionPattern(s,o,l){for(let f=0;f<7;++f){const h=Qe.POSITION_DETECTION_PATTERN[f];for(let m=0;m<7;++m)l.setNumber(s+m,o+f,h[m])}}static embedPositionDetectionPatternsAndSeparators(s){const o=Qe.POSITION_DETECTION_PATTERN[0].length;Qe.embedPositionDetectionPattern(0,0,s),Qe.embedPositionDetectionPattern(s.getWidth()-o,0,s),Qe.embedPositionDetectionPattern(0,s.getWidth()-o,s);const l=8;Qe.embedHorizontalSeparationPattern(0,l-1,s),Qe.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),Qe.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const f=7;Qe.embedVerticalSeparationPattern(f,0,s),Qe.embedVerticalSeparationPattern(s.getHeight()-f-1,0,s),Qe.embedVerticalSeparationPattern(f,s.getHeight()-f,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,f=Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let h=0,m=f.length;h!==m;h++){const w=f[h];if(w>=0)for(let C=0;C!==m;C++){const N=f[C];N>=0&&Qe.isEmpty(o.get(N,w))&&Qe.embedPositionAdjustmentPattern(N-2,w-2,o)}}}}Qe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Qe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Qe.VERSION_INFO_POLY=7973,Qe.TYPE_INFO_POLY=1335,Qe.TYPE_INFO_MASK_PATTERN=21522;class gp{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class rn{constructor(){}static calculateMaskPenalty(s){return it.applyMaskPenaltyRule1(s)+it.applyMaskPenaltyRule2(s)+it.applyMaskPenaltyRule3(s)+it.applyMaskPenaltyRule4(s)}static encode(s,o,l=null){let f=rn.DEFAULT_BYTE_MODE_ENCODING;const h=l!==null&&l.get(gn.CHARACTER_SET)!==void 0;h&&(f=l.get(gn.CHARACTER_SET).toString());const m=this.chooseMode(s,f),w=new q;if(m===Xe.BYTE&&(h||rn.DEFAULT_BYTE_MODE_ENCODING!==f)){const xe=W.getCharacterSetECIByName(f);xe!==void 0&&this.appendECI(xe,w)}this.appendModeInfo(m,w);const C=new q;this.appendBytes(s,m,C,f);let N;if(l!==null&&l.get(gn.QR_VERSION)!==void 0){const xe=Number.parseInt(l.get(gn.QR_VERSION).toString(),10);N=$e.getVersionForNumber(xe);const we=this.calculateBitsNeeded(m,w,C,N);if(!this.willFit(we,N,o))throw new Xt("Data too big for requested version")}else N=this.recommendVersion(o,m,w,C);const k=new q;k.appendBitArray(w);const F=m===Xe.BYTE?C.getSizeInBytes():s.length;this.appendLengthInfo(F,N,m,k),k.appendBitArray(C);const H=N.getECBlocksForLevel(o),Z=N.getTotalCodewords()-H.getTotalECCodewords();this.terminateBits(Z,k);const U=this.interleaveWithECBytes(k,N.getTotalCodewords(),Z,H.getNumBlocks()),$=new Qi;$.setECLevel(o),$.setMode(m),$.setVersion(N);const X=N.getDimensionForVersion(),te=new ci(X,X),pe=this.chooseMaskPattern(U,o,N,te);return $.setMaskPattern(pe),Qe.buildMatrix(U,o,N,pe,te),$.setMatrix(te),$}static recommendVersion(s,o,l,f){const h=this.calculateBitsNeeded(o,l,f,$e.getVersionForNumber(1)),m=this.chooseVersion(h,s),w=this.calculateBitsNeeded(o,l,f,m);return this.chooseVersion(w,s)}static calculateBitsNeeded(s,o,l,f){return o.getSize()+s.getCharacterCountBits(f)+l.getSize()}static getAlphanumericCode(s){return s<rn.ALPHANUMERIC_TABLE.length?rn.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(W.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return Xe.KANJI;let l=!1,f=!1;for(let h=0,m=s.length;h<m;++h){const w=s.charAt(h);if(rn.isDigit(w))l=!0;else if(this.getAlphanumericCode(w.charCodeAt(0))!==-1)f=!0;else return Xe.BYTE}return f?Xe.ALPHANUMERIC:l?Xe.NUMERIC:Xe.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=ce.encode(s,W.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let f=0;f<l;f+=2){const h=o[f]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(s,o,l,f){let h=Number.MAX_SAFE_INTEGER,m=-1;for(let w=0;w<Qi.NUM_MASK_PATTERNS;w++){Qe.buildMatrix(s,o,l,w,f);let C=this.calculateMaskPenalty(f);C<h&&(h=C,m=w)}return m}static chooseVersion(s,o){for(let l=1;l<=40;l++){const f=$e.getVersionForNumber(l);if(rn.willFit(s,f,o))return f}throw new Xt("Data too big")}static willFit(s,o,l){const f=o.getTotalCodewords(),m=o.getECBlocksForLevel(l).getTotalECCodewords(),w=f-m,C=(s+7)/8;return w>=C}static terminateBits(s,o){const l=s*8;if(o.getSize()>l)throw new Xt("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let m=0;m<4&&o.getSize()<l;++m)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let m=f;m<8;m++)o.appendBit(!1);const h=s-o.getSizeInBytes();for(let m=0;m<h;++m)o.appendBits(m&1?17:236,8);if(o.getSize()!==l)throw new Xt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,l,f,h,m){if(f>=l)throw new Xt("Block ID too large");const w=s%l,C=l-w,N=Math.floor(s/l),k=N+1,F=Math.floor(o/l),H=F+1,Z=N-F,U=k-H;if(Z!==U)throw new Xt("EC bytes mismatch");if(l!==C+w)throw new Xt("RS blocks mismatch");if(s!==(F+Z)*C+(H+U)*w)throw new Xt("Total bytes mismatch");f<C?(h[0]=F,m[0]=Z):(h[0]=H,m[0]=U)}static interleaveWithECBytes(s,o,l,f){if(s.getSizeInBytes()!==l)throw new Xt("Number of bits and data bytes does not match");let h=0,m=0,w=0;const C=new Array;for(let k=0;k<f;++k){const F=new Int32Array(1),H=new Int32Array(1);rn.getNumDataBytesAndNumECBytesForBlockID(o,l,f,k,F,H);const Z=F[0],U=new Uint8Array(Z);s.toBytes(8*h,U,0,Z);const $=rn.generateECBytes(U,H[0]);C.push(new gp(U,$)),m=Math.max(m,Z),w=Math.max(w,$.length),h+=F[0]}if(l!==h)throw new Xt("Data bytes does not match offset");const N=new q;for(let k=0;k<m;++k)for(const F of C){const H=F.getDataBytes();k<H.length&&N.appendBits(H[k],8)}for(let k=0;k<w;++k)for(const F of C){const H=F.getErrorCorrectionBytes();k<H.length&&N.appendBits(H[k],8)}if(o!==N.getSizeInBytes())throw new Xt("Interleaving error: "+o+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(s,o){const l=s.length,f=new Int32Array(l+o);for(let m=0;m<l;m++)f[m]=s[m]&255;new Ao(Se.QR_CODE_FIELD_256).encode(f,o);const h=new Uint8Array(o);for(let m=0;m<o;m++)h[m]=f[l+m];return h}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,l,f){const h=l.getCharacterCountBits(o);if(s>=1<<h)throw new Xt(s+" is bigger than "+((1<<h)-1));f.appendBits(s,h)}static appendBytes(s,o,l,f){switch(o){case Xe.NUMERIC:rn.appendNumericBytes(s,l);break;case Xe.ALPHANUMERIC:rn.appendAlphanumericBytes(s,l);break;case Xe.BYTE:rn.append8BitBytes(s,l,f);break;case Xe.KANJI:rn.appendKanjiBytes(s,l);break;default:throw new Xt("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=rn.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const l=s.length;let f=0;for(;f<l;){const h=rn.getDigit(s.charAt(f));if(f+2<l){const m=rn.getDigit(s.charAt(f+1)),w=rn.getDigit(s.charAt(f+2));o.appendBits(h*100+m*10+w,10),f+=3}else if(f+1<l){const m=rn.getDigit(s.charAt(f+1));o.appendBits(h*10+m,7),f+=2}else o.appendBits(h,4),f++}}static appendAlphanumericBytes(s,o){const l=s.length;let f=0;for(;f<l;){const h=rn.getAlphanumericCode(s.charCodeAt(f));if(h===-1)throw new Xt;if(f+1<l){const m=rn.getAlphanumericCode(s.charCodeAt(f+1));if(m===-1)throw new Xt;o.appendBits(h*45+m,11),f+=2}else o.appendBits(h,6),f++}}static append8BitBytes(s,o,l){let f;try{f=ce.encode(s,l)}catch(h){throw new Xt(h)}for(let h=0,m=f.length;h!==m;h++){const w=f[h];o.appendBits(w,8)}}static appendKanjiBytes(s,o){let l;try{l=ce.encode(s,W.SJIS)}catch(h){throw new Xt(h)}const f=l.length;for(let h=0;h<f;h+=2){const m=l[h]&255,w=l[h+1]&255,C=m<<8&4294967295|w;let N=-1;if(C>=33088&&C<=40956?N=C-33088:C>=57408&&C<=60351&&(N=C-49472),N===-1)throw new Xt("Invalid byte sequence");const k=(N>>8)*192+(N&255);o.appendBits(k,13)}}static appendECI(s,o){o.appendBits(Xe.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}rn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),rn.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class qs{write(s,o,l,f=null){if(s.length===0)throw new E("Found empty contents");if(o<0||l<0)throw new E("Requested dimensions are too small: "+o+"x"+l);let h=Gt.L,m=qs.QUIET_ZONE_SIZE;f!==null&&(f.get(gn.ERROR_CORRECTION)!==void 0&&(h=Gt.fromString(f.get(gn.ERROR_CORRECTION).toString())),f.get(gn.MARGIN)!==void 0&&(m=Number.parseInt(f.get(gn.MARGIN).toString(),10)));const w=rn.encode(s,h,f);return this.renderResult(w,o,l,m)}writeToDom(s,o,l,f,h=null){typeof s=="string"&&(s=document.querySelector(s));const m=this.write(o,l,f,h);s&&s.appendChild(m)}renderResult(s,o,l,f){const h=s.getMatrix();if(h===null)throw new jt;const m=h.getWidth(),w=h.getHeight(),C=m+f*2,N=w+f*2,k=Math.max(o,C),F=Math.max(l,N),H=Math.min(Math.floor(k/C),Math.floor(F/N)),Z=Math.floor((k-m*H)/2),U=Math.floor((F-w*H)/2),$=this.createSVGElement(k,F);for(let X=0,te=U;X<w;X++,te+=H)for(let pe=0,xe=Z;pe<m;pe++,xe+=H)if(h.get(pe,X)===1){const we=this.createSvgRectElement(xe,te,H,H);$.appendChild(we)}return $}createSVGElement(s,o){const l=document.createElementNS(qs.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(s,o,l,f){const h=document.createElementNS(qs.SVG_NS,"rect");return h.setAttributeNS(null,"x",s.toString()),h.setAttributeNS(null,"y",o.toString()),h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",f.toString()),h.setAttributeNS(null,"fill","#000000"),h}}qs.QUIET_ZONE_SIZE=4,qs.SVG_NS="http://www.w3.org/2000/svg";class Vs{encode(s,o,l,f,h){if(s.length===0)throw new E("Found empty contents");if(o!==De.QR_CODE)throw new E("Can only encode QR_CODE, but got "+o);if(l<0||f<0)throw new E(`Requested dimensions are too small: ${l}x${f}`);let m=Gt.L,w=Vs.QUIET_ZONE_SIZE;h!==null&&(h.get(gn.ERROR_CORRECTION)!==void 0&&(m=Gt.fromString(h.get(gn.ERROR_CORRECTION).toString())),h.get(gn.MARGIN)!==void 0&&(w=Number.parseInt(h.get(gn.MARGIN).toString(),10)));const C=rn.encode(s,m,h);return Vs.renderResult(C,l,f,w)}static renderResult(s,o,l,f){const h=s.getMatrix();if(h===null)throw new jt;const m=h.getWidth(),w=h.getHeight(),C=m+f*2,N=w+f*2,k=Math.max(o,C),F=Math.max(l,N),H=Math.min(Math.floor(k/C),Math.floor(F/N)),Z=Math.floor((k-m*H)/2),U=Math.floor((F-w*H)/2),$=new he(k,F);for(let X=0,te=U;X<w;X++,te+=H)for(let pe=0,xe=Z;pe<m;pe++,xe+=H)h.get(pe,X)===1&&$.setRegion(xe,te,H,H);return $}}Vs.QUIET_ZONE_SIZE=4;class Nl{encode(s,o,l,f,h){let m;switch(o){case De.QR_CODE:m=new Vs;break;default:throw new E("No encoder available for format "+o)}return m.encode(s,o,l,f,h)}}class mr extends ue{constructor(s,o,l,f,h,m,w,C){if(super(m,w),this.yuvData=s,this.dataWidth=o,this.dataHeight=l,this.left=f,this.top=h,f+m>o||h+w>l)throw new E("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(m,w)}getRow(s,o){if(s<0||s>=this.getHeight())throw new E("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const f=(s+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,f,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=s*o,f=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return R.arraycopy(this.yuvData,h,f,0,l),f;for(let m=0;m<o;m++){const w=m*s;R.arraycopy(this.yuvData,h,f,w,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,l,f){return new mr(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,l,f,!1)}renderThumbnail(){const s=this.getWidth()/mr.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/mr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*o),f=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let m=0;m<o;m++){const w=m*s;for(let C=0;C<s;C++){const N=f[h+C*mr.THUMBNAIL_SCALE_FACTOR]&255;l[w+C]=4278190080|N*65793}h+=this.dataWidth*mr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/mr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/mr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const l=this.yuvData;for(let f=0,h=this.top*this.dataWidth+this.left;f<o;f++,h+=this.dataWidth){const m=h+s/2;for(let w=h,C=h+s-1;w<m;w++,C--){const N=l[w];l[w]=l[C],l[C]=N}}}invert(){return new _e(this)}}mr.THUMBNAIL_SCALE_FACTOR=2;class Yc extends ue{constructor(s,o,l,f,h,m,w){if(super(o,l),this.dataWidth=f,this.dataHeight=h,this.left=m,this.top=w,s.BYTES_PER_ELEMENT===4){const C=o*l,N=new Uint8ClampedArray(C);for(let k=0;k<C;k++){const F=s[k],H=F>>16&255,Z=F>>7&510,U=F&255;N[k]=(H+Z+U)/4&255}this.luminances=N}else this.luminances=s;if(f===void 0&&(this.dataWidth=o),h===void 0&&(this.dataHeight=l),m===void 0&&(this.left=0),w===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new E("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const f=(s+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,f,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=s*o,f=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return R.arraycopy(this.luminances,h,f,0,l),f;for(let m=0;m<o;m++){const w=m*s;R.arraycopy(this.luminances,h,f,w,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,l,f){return new Yc(this.luminances,l,f,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new _e(this)}}class $c extends W{static forName(s){return this.getCharacterSetECIByName(s)}}class _l{}_l.ISO_8859_1=W.ISO8859_1;class Sl{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Al{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class Wd{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Aa extends Wd{constructor(s,o,l){super(s),this.value=o,this.bitCount=l}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new Aa(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Aa(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+j.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class To extends Aa{constructor(s,o,l){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(s,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(s,o){return new To(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Gc(L,s,o){return new To(L,s,o)}function ko(L,s,o){return new Aa(L,s,o)}const Hd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Dn=0,Ta=1,ar=2,Xc=3,ui=4,xp=new Aa(null,0,0),Qc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function vp(L){for(let s of L)D.fill(s,-1);return L[Dn][ui]=0,L[Ta][ui]=0,L[Ta][Dn]=28,L[Xc][ui]=0,L[ar][ui]=0,L[ar][Dn]=15,L}const qd=vp(D.createInt32Array(6,6));class Ii{constructor(s,o,l,f){this.token=s,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let l=this.bitCount,f=this.token;if(s!==this.mode){let m=Qc[this.mode][s];f=ko(f,m&65535,m>>16),l+=m>>16}let h=s===ar?4:5;return f=ko(f,o,h),new Ii(f,s,0,l+h)}shiftAndAppend(s,o){let l=this.token,f=this.mode===ar?4:5;return l=ko(l,qd[this.mode][s],f),l=ko(l,o,5),new Ii(l,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(s){let o=this.token,l=this.mode,f=this.bitCount;if(this.mode===ui||this.mode===ar){let w=Qc[l][Dn];o=ko(o,w&65535,w>>16),f+=w>>16,l=Dn}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new Ii(o,l,this.binaryShiftByteCount+1,f+h);return m.binaryShiftByteCount===2047+31&&(m=m.endBinaryShift(s+1)),m}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Gc(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ii(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(Qc[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=Ii.calculateBinaryShiftCost(s)-Ii.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let f=this.endBinaryShift(s.length).token;f!==null;f=f.getPrevious())o.unshift(f);let l=new q;for(const f of o)f.appendTo(l,s);return l}toString(){return ae.format("%s bits=%d bytes=%d",Hd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Ii.INITIAL_STATE=new Ii(xp,Dn,0,0);function ka(L){const s=ae.getCharCode(" "),o=ae.getCharCode("."),l=ae.getCharCode(",");L[Dn][s]=1;const f=ae.getCharCode("Z"),h=ae.getCharCode("A");for(let H=h;H<=f;H++)L[Dn][H]=H-h+2;L[Ta][s]=1;const m=ae.getCharCode("z"),w=ae.getCharCode("a");for(let H=w;H<=m;H++)L[Ta][H]=H-w+2;L[ar][s]=1;const C=ae.getCharCode("9"),N=ae.getCharCode("0");for(let H=N;H<=C;H++)L[ar][H]=H-N+2;L[ar][l]=12,L[ar][o]=13;const k=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let H=0;H<k.length;H++)L[Xc][ae.getCharCode(k[H])]=H;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let H=0;H<F.length;H++)ae.getCharCode(F[H])>0&&(L[ui][ae.getCharCode(F[H])]=H);return L}const Kc=ka(D.createInt32Array(5,256));class Do{constructor(s){this.text=s}encode(){const s=ae.getCharCode(" "),o=ae.getCharCode(`
`);let l=Al.singletonList(Ii.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let m,w=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case ae.getCharCode("\r"):m=w===o?2:0;break;case ae.getCharCode("."):m=w===s?3:0;break;case ae.getCharCode(","):m=w===s?4:0;break;case ae.getCharCode(":"):m=w===s?5:0;break;default:m=0}m>0?(l=Do.updateStateListForPair(l,h,m),h++):l=this.updateStateListForChar(l,h)}return Al.min(l,(h,m)=>h.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const l=[];for(let f of s)this.updateStateForChar(f,o,l);return Do.simplifyStates(l)}updateStateForChar(s,o,l){let f=this.text[o]&255,h=Kc[s.getMode()][f]>0,m=null;for(let w=0;w<=ui;w++){let C=Kc[w][f];if(C>0){if(m==null&&(m=s.endBinaryShift(o)),!h||w===s.getMode()||w===ar){const N=m.latchAndAppend(w,C);l.push(N)}if(!h&&qd[s.getMode()][w]>=0){const N=m.shiftAndAppend(w,C);l.push(N)}}}if(s.getBinaryShiftByteCount()>0||Kc[s.getMode()][f]===0){let w=s.addBinaryShiftChar(o);l.push(w)}}static updateStateListForPair(s,o,l){const f=[];for(let h of s)this.updateStateForPair(h,o,l,f);return this.simplifyStates(f)}static updateStateForPair(s,o,l,f){let h=s.endBinaryShift(o);if(f.push(h.latchAndAppend(ui,l)),s.getMode()!==ui&&f.push(h.shiftAndAppend(ui,l)),l===3||l===4){let m=h.latchAndAppend(ar,16-l).latchAndAppend(ar,1);f.push(m)}if(s.getBinaryShiftByteCount()>0){let m=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(m)}}static simplifyStates(s){let o=[];for(const l of s){let f=!0;for(const h of o){if(h.isBetterThanOrEqualTo(l)){f=!1;break}l.isBetterThanOrEqualTo(h)&&(o=o.filter(m=>m!==h))}f&&o.push(l)}return o}}class xt{constructor(){}static encodeBytes(s){return xt.encode(s,xt.DEFAULT_EC_PERCENT,xt.DEFAULT_AZTEC_LAYERS)}static encode(s,o,l){let f=new Do(s).encode(),h=j.truncDivision(f.getSize()*o,100)+11,m=f.getSize()+h,w,C,N,k,F;if(l!==xt.DEFAULT_AZTEC_LAYERS){if(w=l<0,C=Math.abs(l),C>(w?xt.MAX_NB_BITS_COMPACT:xt.MAX_NB_BITS))throw new E(ae.format("Illegal value %s for layers",l));N=xt.totalBitsInLayer(C,w),k=xt.WORD_SIZE[C];let we=N-N%k;if(F=xt.stuffBits(f,k),F.getSize()+h>we)throw new E("Data to large for user specified layer");if(w&&F.getSize()>k*64)throw new E("Data to large for user specified layer")}else{k=0,F=null;for(let we=0;;we++){if(we>xt.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(w=we<=3,C=w?we+1:we,N=xt.totalBitsInLayer(C,w),m>N)continue;(F==null||k!==xt.WORD_SIZE[C])&&(k=xt.WORD_SIZE[C],F=xt.stuffBits(f,k));let He=N-N%k;if(!(w&&F.getSize()>k*64)&&F.getSize()+h<=He)break}}let H=xt.generateCheckWords(F,N,k),Z=F.getSize()/k,U=xt.generateModeMessage(w,C,Z),$=(w?11:14)+C*4,X=new Int32Array($),te;if(w){te=$;for(let we=0;we<X.length;we++)X[we]=we}else{te=$+1+2*j.truncDivision(j.truncDivision($,2)-1,15);let we=j.truncDivision($,2),He=j.truncDivision(te,2);for(let st=0;st<we;st++){let _r=st+j.truncDivision(st,15);X[we-st-1]=He-_r-1,X[we+st]=He+_r+1}}let pe=new he(te);for(let we=0,He=0;we<C;we++){let st=(C-we)*4+(w?9:12);for(let _r=0;_r<st;_r++){let xn=_r*2;for(let er=0;er<2;er++)H.get(He+xn+er)&&pe.set(X[we*2+er],X[we*2+_r]),H.get(He+st*2+xn+er)&&pe.set(X[we*2+_r],X[$-1-we*2-er]),H.get(He+st*4+xn+er)&&pe.set(X[$-1-we*2-er],X[$-1-we*2-_r]),H.get(He+st*6+xn+er)&&pe.set(X[$-1-we*2-_r],X[we*2+er])}He+=st*8}if(xt.drawModeMessage(pe,w,te,U),w)xt.drawBullsEye(pe,j.truncDivision(te,2),5);else{xt.drawBullsEye(pe,j.truncDivision(te,2),7);for(let we=0,He=0;we<j.truncDivision($,2)-1;we+=15,He+=16)for(let st=j.truncDivision(te,2)&1;st<te;st+=2)pe.set(j.truncDivision(te,2)-He,st),pe.set(j.truncDivision(te,2)+He,st),pe.set(st,j.truncDivision(te,2)-He),pe.set(st,j.truncDivision(te,2)+He)}let xe=new Sl;return xe.setCompact(w),xe.setSize(te),xe.setLayers(C),xe.setCodeWords(Z),xe.setMatrix(pe),xe}static drawBullsEye(s,o,l){for(let f=0;f<l;f+=2)for(let h=o-f;h<=o+f;h++)s.set(h,o-f),s.set(h,o+f),s.set(o-f,h),s.set(o+f,h);s.set(o-l,o-l),s.set(o-l+1,o-l),s.set(o-l,o-l+1),s.set(o+l,o-l),s.set(o+l,o-l+1),s.set(o+l,o+l-1)}static generateModeMessage(s,o,l){let f=new q;return s?(f.appendBits(o-1,2),f.appendBits(l-1,6),f=xt.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(l-1,11),f=xt.generateCheckWords(f,40,4)),f}static drawModeMessage(s,o,l,f){let h=j.truncDivision(l,2);if(o)for(let m=0;m<7;m++){let w=h-3+m;f.get(m)&&s.set(w,h-5),f.get(m+7)&&s.set(h+5,w),f.get(20-m)&&s.set(w,h+5),f.get(27-m)&&s.set(h-5,w)}else for(let m=0;m<10;m++){let w=h-5+m+j.truncDivision(m,5);f.get(m)&&s.set(w,h-7),f.get(m+10)&&s.set(h+7,w),f.get(29-m)&&s.set(w,h+7),f.get(39-m)&&s.set(h-7,w)}}static generateCheckWords(s,o,l){let f=s.getSize()/l,h=new Ao(xt.getGF(l)),m=j.truncDivision(o,l),w=xt.bitsToWords(s,l,m);h.encode(w,m-f);let C=o%l,N=new q;N.appendBits(0,C);for(const k of Array.from(w))N.appendBits(k,l);return N}static bitsToWords(s,o,l){let f=new Int32Array(l),h,m;for(h=0,m=s.getSize()/o;h<m;h++){let w=0;for(let C=0;C<o;C++)w|=s.get(h*o+C)?1<<o-C-1:0;f[h]=w}return f}static getGF(s){switch(s){case 4:return Se.AZTEC_PARAM;case 6:return Se.AZTEC_DATA_6;case 8:return Se.AZTEC_DATA_8;case 10:return Se.AZTEC_DATA_10;case 12:return Se.AZTEC_DATA_12;default:throw new E("Unsupported word size "+s)}}static stuffBits(s,o){let l=new q,f=s.getSize(),h=(1<<o)-2;for(let m=0;m<f;m+=o){let w=0;for(let C=0;C<o;C++)(m+C>=f||s.get(m+C))&&(w|=1<<o-1-C);(w&h)===h?(l.appendBits(w&h,o),m--):w&h?l.appendBits(w,o):(l.appendBits(w|1,o),m--)}return l}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}xt.DEFAULT_EC_PERCENT=33,xt.DEFAULT_AZTEC_LAYERS=0,xt.MAX_NB_BITS=32,xt.MAX_NB_BITS_COMPACT=4,xt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Io{encode(s,o,l,f){return this.encodeWithHints(s,o,l,f,null)}encodeWithHints(s,o,l,f,h){let m=_l.ISO_8859_1,w=xt.DEFAULT_EC_PERCENT,C=xt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(gn.CHARACTER_SET)&&(m=$c.forName(h.get(gn.CHARACTER_SET).toString())),h.has(gn.ERROR_CORRECTION)&&(w=j.parseInt(h.get(gn.ERROR_CORRECTION).toString())),h.has(gn.AZTEC_LAYERS)&&(C=j.parseInt(h.get(gn.AZTEC_LAYERS).toString()))),Io.encodeLayers(s,o,l,f,m,w,C)}static encodeLayers(s,o,l,f,h,m,w){if(o!==De.AZTEC)throw new E("Can only encode AZTEC, but got "+o);let C=xt.encode(ae.getBytes(s,h),m,w);return Io.renderResult(C,l,f)}static renderResult(s,o,l){let f=s.getMatrix();if(f==null)throw new jt;let h=f.getWidth(),m=f.getHeight(),w=Math.max(o,h),C=Math.max(l,m),N=Math.min(w/h,C/m),k=(w-h*N)/2,F=(C-m*N)/2,H=new he(w,C);for(let Z=0,U=F;Z<m;Z++,U+=N)for(let $=0,X=k;$<h;$++,X+=N)f.get($,Z)&&H.setRegion(X,U,N,N);return H}}t.AbstractExpandedDecoder=Fc,t.ArgumentException=y,t.ArithmeticException=pn,t.AztecCode=Sl,t.AztecCodeReader=_i,t.AztecCodeWriter=Io,t.AztecDecoder=Nt,t.AztecDetector=si,t.AztecDetectorResult=hr,t.AztecEncoder=xt,t.AztecHighLevelEncoder=Do,t.AztecPoint=on,t.BarcodeFormat=De,t.Binarizer=S,t.BinaryBitmap=_,t.BitArray=q,t.BitMatrix=he,t.BitSource=yl,t.BrowserAztecCodeReader=Fs,t.BrowserBarcodeReader=Rd,t.BrowserCodeReader=fn,t.BrowserDatamatrixCodeReader=jd,t.BrowserMultiFormatReader=Gr,t.BrowserPDF417Reader=mp,t.BrowserQRCodeReader=zd,t.BrowserQRCodeSvgWriter=qs,t.CharacterSetECI=W,t.ChecksumException=T,t.Code128Reader=Te,t.Code39Reader=tn,t.DataMatrixDecodedBitStreamParser=ki,t.DataMatrixReader=li,t.DecodeHintType=z,t.DecoderResult=qt,t.DefaultGridSampler=en,t.DetectorResult=Pn,t.EAN13Reader=ms,t.EncodeHintType=gn,t.Exception=x,t.FormatException=P,t.GenericGF=Se,t.GenericGFPoly=Vt,t.GlobalHistogramBinarizer=ve,t.GridSampler=Ge,t.GridSamplerInstance=Yt,t.HTMLCanvasElementLuminanceSource=Ie,t.HybridBinarizer=ge,t.ITFReader=_t,t.IllegalArgumentException=E,t.IllegalStateException=jt,t.InvertedLuminanceSource=_e,t.LuminanceSource=ue,t.MathUtils=ot,t.MultiFormatOneDReader=zs,t.MultiFormatReader=Ud,t.MultiFormatWriter=Nl,t.NotFoundException=ee,t.OneDReader=Jt,t.PDF417DecodedBitStreamParser=fe,t.PDF417DecoderErrorCorrection=Md,t.PDF417Reader=$n,t.PDF417ResultMetadata=qc,t.PerspectiveTransform=At,t.PlanarYUVLuminanceSource=mr,t.QRCodeByteMatrix=ci,t.QRCodeDataMask=Er,t.QRCodeDecodedBitStreamParser=sn,t.QRCodeDecoderErrorCorrectionLevel=Gt,t.QRCodeDecoderFormatInformation=Zn,t.QRCodeEncoder=rn,t.QRCodeEncoderQRCode=Qi,t.QRCodeMaskUtil=it,t.QRCodeMatrixUtil=Qe,t.QRCodeMode=Xe,t.QRCodeReader=gs,t.QRCodeVersion=$e,t.QRCodeWriter=Vs,t.RGBLuminanceSource=Yc,t.RSS14Reader=ln,t.RSSExpandedReader=Ce,t.ReaderException=sr,t.ReedSolomonDecoder=yr,t.ReedSolomonEncoder=Ao,t.ReedSolomonException=Ye,t.Result=ft,t.ResultMetadataType=We,t.ResultPoint=Ee,t.StringUtils=ae,t.UnsupportedOperationException=se,t.VideoInputDevice=qe,t.WhiteRectangleDetector=ke,t.WriterException=Xt,t.ZXingArrays=D,t.ZXingCharset=$c,t.ZXingInteger=j,t.ZXingStandardCharsets=_l,t.ZXingStringBuilder=ne,t.ZXingStringEncoding=ce,t.ZXingSystem=R,t.createAbstractExpandedDecoder=Id,Object.defineProperty(t,"__esModule",{value:!0})})})(bg,bg.exports);var un=bg.exports;const X9=yh(un),Q9=n3({__proto__:null,default:X9},[un]);var ab=function(){function e(n,t,r){if(this.formatMap=new Map([[Fe.QR_CODE,un.BarcodeFormat.QR_CODE],[Fe.AZTEC,un.BarcodeFormat.AZTEC],[Fe.CODABAR,un.BarcodeFormat.CODABAR],[Fe.CODE_39,un.BarcodeFormat.CODE_39],[Fe.CODE_93,un.BarcodeFormat.CODE_93],[Fe.CODE_128,un.BarcodeFormat.CODE_128],[Fe.DATA_MATRIX,un.BarcodeFormat.DATA_MATRIX],[Fe.MAXICODE,un.BarcodeFormat.MAXICODE],[Fe.ITF,un.BarcodeFormat.ITF],[Fe.EAN_13,un.BarcodeFormat.EAN_13],[Fe.EAN_8,un.BarcodeFormat.EAN_8],[Fe.PDF_417,un.BarcodeFormat.PDF_417],[Fe.RSS_14,un.BarcodeFormat.RSS_14],[Fe.RSS_EXPANDED,un.BarcodeFormat.RSS_EXPANDED],[Fe.UPC_A,un.BarcodeFormat.UPC_A],[Fe.UPC_E,un.BarcodeFormat.UPC_E],[Fe.UPC_EAN_EXTENSION,un.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Q9)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var i=this.createZXingFormats(n),a=new Map;a.set(un.DecodeHintType.POSSIBLE_FORMATS,i),a.set(un.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(n){var t=this;return new Promise(function(r,i){try{r(t.decode(n))}catch(a){i(a)}})},e.prototype.decode=function(n){var t=new un.MultiFormatReader(this.verbose,this.hints),r=new un.HTMLCanvasElementLuminanceSource(n),i=new un.BinaryBitmap(new un.HybridBinarizer(r)),a=t.decode(i);return{text:a.text,format:KE.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(t,r,i){n.set(t,r)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var t=[],r=0,i=n;r<i.length;r++){var a=i[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),K9=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(y){try{x(r.next(y))}catch(E){d(E)}}function v(y){try{x(r.throw(y))}catch(E){d(E)}}function x(y){y.done?a(y.value):i(y.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},Z9=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return v([x,y])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,i=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(y){x=[6,y],i=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},ob=function(){function e(n,t,r){if(this.formatMap=new Map([[Fe.QR_CODE,"qr_code"],[Fe.AZTEC,"aztec"],[Fe.CODABAR,"codabar"],[Fe.CODE_39,"code_39"],[Fe.CODE_93,"code_93"],[Fe.CODE_128,"code_128"],[Fe.DATA_MATRIX,"data_matrix"],[Fe.ITF,"itf"],[Fe.EAN_13,"ean_13"],[Fe.EAN_8,"ean_8"],[Fe.PDF_417,"pdf417"],[Fe.UPC_A,"upc_a"],[Fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var i=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return K9(this,void 0,void 0,function(){var t,r;return Z9(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(n)];case 1:if(t=i.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(t),[2,{text:r.rawValue,format:KE.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var t=null,r=0,i=0,a=n;i<a.length;i++){var d=a[i],g=d.boundingBox.width*d.boundingBox.height;g>r&&(r=g,t=d)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(n){for(var t=[],r=0,i=n;r<i.length;r++){var a=i[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(t,r,i){n.set(t,r)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),lb=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(y){try{x(r.next(y))}catch(E){d(E)}}function v(y){try{x(r.throw(y))}catch(E){d(E)}}function x(y){y.done?a(y.value):i(y.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},cb=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return v([x,y])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,i=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(y){x=[6,y],i=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},J9=function(){function e(n,t,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&ob.isSupported()?(this.primaryDecoder=new ob(n,r,i),this.secondaryDecoder=new ab(n,r,i)):this.primaryDecoder=new ab(n,r,i)}return e.prototype.decodeAsync=function(n){return lb(this,void 0,void 0,function(){var t;return cb(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return lb(this,void 0,void 0,function(){var t,r;return cb(this,function(i){switch(i.label){case 0:t=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var t=performance.now()-n;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,t=0,r=this.executionResults;t<r.length;t++){var i=r[t];n+=i}var a=n/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),e2=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lh=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(y){try{x(r.next(y))}catch(E){d(E)}}function v(y){try{x(r.throw(y))}catch(E){d(E)}}function x(y){y.done?a(y.value):i(y.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},ch=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return v([x,y])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,i=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(y){x=[6,y],i=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},JE=function(){function e(n,t){this.name=n,this.track=t}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var t={};t[this.name]=n;var r={advanced:[t]};return this.track.applyConstraints(r)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var t=n[this.name];return t}return null},e}(),eL=function(e){e2(n,e);function n(t,r){return e.call(this,t,r)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(t){var r={};r[this.name]=t;var i={advanced:[r]};return this.track.applyConstraints(i)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),r=t[this.name];return{min:r.min,max:r.max,step:r.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(JE),tL=function(e){e2(n,e);function n(t){return e.call(this,"zoom",t)||this}return n}(eL),nL=function(e){e2(n,e);function n(t){return e.call(this,"torch",t)||this}return n}(JE),rL=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new tL(this.track)},e.prototype.torchFeature=function(){return new nL(this.track)},e}(),iL=function(){function e(n,t,r){this.isClosed=!1,this.parentElement=n,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var t=document.createElement("video");return t.style.width="".concat(n,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=n.surface.clientWidth,i=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(r,i),n.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,t,r,i){return lh(this,void 0,void 0,function(){var a,d;return ch(this,function(g){switch(g.label){case 0:return a=new e(n,t,i),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:g.sent(),g.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var t=this,r=function(){setTimeout(n,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return lh(this,void 0,void 0,function(){return ch(this,function(t){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(t,r){var i=n.mediaStream.getVideoTracks(),a=i.length,d=0;n.mediaStream.getVideoTracks().forEach(function(g){n.mediaStream.removeTrack(g),g.stop(),++d,d>=a&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),t())})})},e.prototype.getCapabilities=function(){return new rL(this.getFirstTrackOrFail())},e}(),sL=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,t,r){return lh(this,void 0,void 0,function(){return ch(this,function(i){return[2,iL.create(n,this.mediaStream,t,r)]})})},e.create=function(n){return lh(this,void 0,void 0,function(){var t,r;return ch(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),ub=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(y){try{x(r.next(y))}catch(E){d(E)}}function v(y){try{x(r.throw(y))}catch(E){d(E)}}function x(y){y.done?a(y.value):i(y.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},db=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return v([x,y])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,i=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(y){x=[6,y],i=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},aL=function(){function e(){}return e.failIfNotSupported=function(){return ub(this,void 0,void 0,function(){return db(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return ub(this,void 0,void 0,function(){return db(this,function(t){return[2,sL.create(n)]})})},e}(),oL=globalThis&&globalThis.__awaiter||function(e,n,t,r){function i(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(y){try{x(r.next(y))}catch(E){d(E)}}function v(y){try{x(r.throw(y))}catch(E){d(E)}}function x(y){y.done?a(y.value):i(y.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},lL=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return v([x,y])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,i=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(y){x=[6,y],i=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},cL=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Zl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Zl.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return oL(this,void 0,void 0,function(){var n,t,r,i,a,d,g;return lL(this,function(v){switch(v.label){case 0:return n=function(x){for(var y=x.getVideoTracks(),E=0,_=y;E<_.length;E++){var T=_[E];T.enabled=!1,T.stop(),x.removeTrack(T)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=v.sent(),i=[],a=0,d=r;a<d.length;a++)g=d[a],g.kind==="videoinput"&&i.push({id:g.deviceId,label:g.label});return n(t),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,t){var r=function(a){for(var d=[],g=0,v=a;g<v.length;g++){var x=v[g];x.kind==="video"&&d.push({id:x.id,label:x.label})}n(d)},i=MediaStreamTrack;i.getSources(r)})},e}(),Rn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Rn||(Rn={}));var uL=function(){function e(){this.state=Rn.NOT_STARTED,this.onGoingTransactionNewState=Rn.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Rn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Rn.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Rn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Rn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Rn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case Rn.UNKNOWN:throw"Transition from unknown is not allowed";case Rn.NOT_STARTED:this.failIfNewStateIs(n,[Rn.PAUSED]);break;case Rn.SCANNING:break;case Rn.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,t){for(var r=0,i=t;r<i.length;r++){var a=i[r];if(n===a)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),dL=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Rn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Rn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Rn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Rn.PAUSED},e}(),fL=function(){function e(){}return e.create=function(){return new dL(new uL)},e}(),hL=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gi=function(e){hL(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(Y9),pL=function(){function e(n,t){this.logger=t,this.fps=gi.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=gi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ZE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!na(this.qrbox)},e.create=function(n,t){return new e(n,t)},e}(),mL=function(){function e(n,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var r;typeof t=="boolean"?this.verbose=t===!0:t&&(r=t,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new G9(this.verbose),this.qrcode=new J9(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=fL.create()}return e.prototype.start=function(n,t,r,i){var a=this;if(!n)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;i?d=i:d=this.verbose?this.logger.log:function(){};var g=pL.create(t,this.logger);this.clearElement();var v=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=v,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:gi.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var E=this,_=this.stateManagerProxy.startTransition(Rn.SCANNING);return new Promise(function(T,S){var R=x?g.videoConstraints:E.createVideoConstraints(n);if(!R){_.cancel(),S("videoConstraints should be defined");return}var O={};(!x||g.aspectRatio)&&(O.aspectRatio=g.aspectRatio);var I={onRenderSurfaceReady:function(D,j){E.setupUi(D,j,g),E.isScanning=!0,E.foreverScan(g,r,d)}};aL.failIfNotSupported().then(function(D){D.create(R).then(function(j){return j.render(a.element,O,I).then(function(q){E.renderedCamera=q,_.execute(),T(null)}).catch(function(q){_.cancel(),S(q)})}).catch(function(j){_.cancel(),S(Zl.errorGettingUserMedia(j))})}).catch(function(D){_.cancel(),S(Zl.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Rn.PAUSED),this.showPausedState(),(na(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,t=function(){n.stateManagerProxy.directTransition(Rn.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(Rn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(n.element){var a=document.getElementById(gi.SHADED_REGION_ELEMENT_ID);a&&n.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),t.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,t){return this.scanFileV2(n,t).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(n,t){var r=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(na(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(n);var d=new Image;d.onload=function(){var g=d.width,v=d.height,x=document.getElementById(r.elementId),y=x.clientWidth?x.clientWidth:gi.DEFAULT_WIDTH,E=Math.max(x.clientHeight?x.clientHeight:v,gi.FILE_SCAN_MIN_HEIGHT),_=r.computeCanvasDrawConfig(g,v,y,E);if(t){var T=r.createCanvasElement(y,E,"qr-canvas-visible");T.style.display="inline-block",x.appendChild(T);var S=T.getContext("2d");if(!S)throw"Unable to get 2d context from canvas";S.canvas.width=y,S.canvas.height=E,S.drawImage(d,0,0,g,v,_.x,_.y,_.width,_.height)}var R=gi.FILE_SCAN_HIDDEN_CANVAS_PADDING,O=Math.max(d.width,_.width),I=Math.max(d.height,_.height),D=O+2*R,j=I+2*R,q=r.createCanvasElement(D,j);x.appendChild(q);var Q=q.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=D,Q.canvas.height=j,Q.drawImage(d,0,0,g,v,R,R,O,I);try{r.qrcode.decodeRobustlyAsync(q).then(function(z){i(sb.createFromQrcodeResult(z))}).catch(a)}catch(z){a("QR code parse error, error = ".concat(z))}},d.onerror=a,d.onabort=a,d.onstalled=a,d.onsuspend=a,d.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return cL.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!ZE.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var t=[Fe.QR_CODE,Fe.AZTEC,Fe.CODABAR,Fe.CODE_39,Fe.CODE_93,Fe.CODE_128,Fe.DATA_MATRIX,Fe.MAXICODE,Fe.ITF,Fe.EAN_13,Fe.EAN_8,Fe.PDF_417,Fe.RSS_14,Fe.RSS_EXPANDED,Fe.UPC_A,Fe.UPC_E,Fe.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return t;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=n.formatsToSupport;i<a.length;i++){var d=a[i];V9(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(na(n))return!0;if(!na(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(na(n.experimentalFeatures))return!0;var t=n.experimentalFeatures;return na(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,t,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var d=this.toQrdimensions(n,t,a),g=function(x){if(x<gi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(gi.MIN_QR_BOX_SIZE,"px.")},v=function(x){return x>n&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=n),x};g(d.width),g(d.height),d.width=v(d.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,t,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(n,t)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(n,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(n,t,r);var i=na(r.qrbox)?{width:n,height:t}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(n,t,i);a.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&a.height<=t,g={x:0,y:0,width:n,height:t},v=d?this.getShadedRegionBounds(n,t,a):g,x=this.createCanvasElement(v.width,v.height),y={willReadFrequently:!0},E=x.getContext("2d",y);E.canvas.width=v.width,E.canvas.height=v.height,this.element.append(x),d&&this.possiblyInsertShadingElement(this.element,n,t,a),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=E,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(n){var t=document.createElement("div");t.innerText=Zl.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",n.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(n,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return n(i.text,sb.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=Zl.codeParseError(i);return t(a,$9.createFrom(a)),!1})},e.prototype.foreverScan=function(n,t,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),d=a.videoWidth/a.clientWidth,g=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*d,x=this.qrRegion.height*g,y=this.qrRegion.x*d,E=this.qrRegion.y*g;this.context.drawImage(a,y,E,v,x,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(n,t,r)},i.getTimeoutFps(n.fps))};this.scanContext(t,r).then(function(T){!T&&n.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(t,r).finally(function(){_()})):_()}).catch(function(T){i.logger.logError("Error happend while scanning context",T),_()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var t="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",d=function(S){if(S in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(S,"'")},g=Object.keys(n);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var v=Object.keys(n)[0];if(v!==t&&v!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(v===t){var x=n.facingMode;if(typeof x=="string"){if(d(x))return{facingMode:x}}else if(typeof x=="object")if(a in x){if(d(x["".concat(a)]))return{facingMode:{exact:x["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var y=typeof x;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var E=n.deviceId;if(typeof E=="string")return{deviceId:E};if(typeof E=="object"){if(a in E)return{deviceId:{exact:E["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var _=typeof E;throw"Invalid type of 'deviceId' = ".concat(_)}}}var T=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(T)},e.prototype.computeCanvasDrawConfig=function(n,t,r,i){if(n<=r&&t<=i){var a=(r-n)/2,d=(i-t)/2;return{x:a,y:d,width:n,height:t}}else{var g=n,v=t;return n>r&&(t=r/n*t,n=r),t>i&&(n=i/t*n,t=i),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(v)+" to ".concat(n,"X").concat(t,".")),this.computeCanvasDrawConfig(n,t,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=n?gi.BORDER_SHADER_MATCH_COLOR:gi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,t,r){var i=n,a=t,d=document.createElement("canvas");return d.style.width="".concat(i,"px"),d.style.height="".concat(a,"px"),d.style.display="none",d.id=na(r)?"qr-canvas":r,d},e.prototype.getShadedRegionBounds=function(n,t,r){if(r.width>n||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(n,t,r,i){if(!(t-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var d=(t-i.width)/2,g=(r-i.height)/2;if(a.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(gi.SHADED_REGION_ELEMENT_ID),t-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var v=5,x=40;this.insertShaderBorders(a,x,v,-v,null,0,!0),this.insertShaderBorders(a,x,v,-v,null,0,!1),this.insertShaderBorders(a,x,v,null,-v,0,!0),this.insertShaderBorders(a,x,v,null,-v,0,!1),this.insertShaderBorders(a,v,x+v,-v,null,-v,!0),this.insertShaderBorders(a,v,x+v,null,-v,-v,!0),this.insertShaderBorders(a,v,x+v,-v,null,-v,!1),this.insertShaderBorders(a,v,x+v,null,-v,-v,!1),this.hasBorderShaders=!0}n.append(a)}},e.prototype.insertShaderBorders=function(n,t,r,i,a,d,g){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=gi.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(t,"px"),v.style.height="".concat(r,"px"),i!==null&&(v.style.top="".concat(i,"px")),a!==null&&(v.style.bottom="".concat(a,"px")),g?v.style.left="".concat(d,"px"):v.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),n.appendChild(v)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var fb;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(fb||(fb={}));const eN=({onScan:e,onError:n=i=>console.error(i),isOpen:t,onClose:r})=>{const[i,a]=M.useState(!1),[d,g]=M.useState(""),v=M.useRef(null),x=M.useRef(null);M.useEffect(()=>(t&&!i&&y(),()=>{E()}),[t]);const y=async()=>{if(v.current)try{const T=new mL("scanner");x.current=T;const S={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[1,2,3,4,5,6,7,8,9,10,11,12]};await T.start({facingMode:"environment"},S,R=>{e(R),E(),r()},R=>{console.log(R)}),a(!0)}catch(T){console.error("Error starting scanner:",T);let S="",R="";T.name==="NotFoundError"||T.message&&T.message.includes("Requested device not found")?(S="No camera found. Please make sure your device has a camera and you have granted permission to use it.",R="No camera detected. You can manually enter the barcode value instead.",rt.error(R,{icon:"📷❌",toastId:"camera-not-found"})):T.name==="NotAllowedError"||T.message&&T.message.includes("Permission denied")?(S="Camera access denied. Please grant permission to use your camera.",R="Camera access denied. Please check your browser permissions.",rt.error(R,{icon:"🔒",toastId:"camera-permission-denied"})):(S=T&&T.message?T.message:"Failed to start scanner",rt.error("Failed to start barcode scanner. Please try again later.",{toastId:"scanner-error"})),g(S),n(S),r()}},E=async()=>{if(x.current&&i)try{await x.current.stop(),a(!1)}catch(T){console.error("Error stopping scanner:",T)}},_=()=>{E(),r()};return t?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg w-full max-w-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Scan Barcode"}),c.jsx("button",{onClick:_,className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"mb-4",children:c.jsx("div",{id:"scanner",ref:v,className:"w-full h-64 bg-gray-100 rounded flex items-center justify-center",children:d&&c.jsxs("div",{className:"text-center p-4",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-red-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c.jsx("p",{className:"text-red-600 font-medium",children:d}),c.jsx("p",{className:"text-gray-600 mt-2",children:"You can manually enter the barcode value instead."})]})})}),c.jsx("div",{className:"text-sm text-gray-500 mb-4",children:d?"To use the barcode scanner, you need a device with a camera and permission to access it.":"Position the barcode within the scanner area. The scanner will automatically detect and process the code."}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:_,className:"btn btn-outline",children:"Cancel"})})]})}):null};eN.propTypes={onScan:ie.func.isRequired,onError:ie.func,isOpen:ie.bool.isRequired,onClose:ie.func.isRequired};const tN=({id:e="",onScan:n,buttonText:t="",className:r=""})=>{const[i,a]=M.useState(!1),d=()=>{a(!0)},g=()=>{a(!1)},v=x=>{console.error("Scan error:",x)};return c.jsxs(c.Fragment,{children:[c.jsxs("button",{id:e,type:"button",onClick:d,className:`flex items-center justify-center px-3 py-1.5 text-sm font-medium rounded-md
          bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
          hover:border-primary-600 hover:shadow-sm transition-all ${r}`,title:"Scan Barcode",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),t&&c.jsx("span",{className:"ml-1 font-medium",children:t})]}),c.jsx(eN,{isOpen:i,onClose:g,onScan:n,onError:v})]})};tN.propTypes={id:ie.string,onScan:ie.func.isRequired,buttonText:ie.string,className:ie.string};const nN=({id:e,name:n,type:t="text",label:r,placeholder:i,value:a,onChange:d,onBlur:g,error:v,disabled:x=!1,required:y=!1,className:E="",onScan:_,...T})=>{const I=`
    rounded-l-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${v?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${x?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 px-3 text-sm
    w-full
    ${E}
  `,D=`barcode-scan-button-${e}`;return c.jsxs("div",{className:"w-full",children:[r&&c.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${v?"text-red-600":"text-slate-700"}`,children:[r,y&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"flex",style:{display:"flex",width:"100%"},children:[c.jsx("input",{id:e,name:n,type:t,value:a,onChange:d,onBlur:g,placeholder:i,disabled:x,required:y,className:I,style:{width:"calc(100% - 120px)"},...T}),c.jsxs("button",{type:"button",onClick:()=>{const j=document.getElementById(D);j&&j.click()},className:`w-[120px] bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
            hover:border-primary-600 hover:shadow-sm transition-all font-medium flex items-center
            justify-center rounded-r-md border-l-0`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Scan"]}),c.jsx("div",{style:{display:"none"},children:c.jsx(tN,{id:D,onScan:_})})]}),v&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:v})]})};nN.propTypes={id:ie.string.isRequired,name:ie.string.isRequired,type:ie.string,label:ie.string,placeholder:ie.string,value:ie.oneOfType([ie.string,ie.number]),onChange:ie.func,onBlur:ie.func,error:ie.string,disabled:ie.bool,required:ie.bool,className:ie.string,onScan:ie.func.isRequired};const wi=({id:e,name:n,label:t,value:r,onChange:i,onBlur:a,options:d=[],error:g,disabled:v=!1,required:x=!1,placeholder:y="Select an option",className:E="",..._})=>{const O=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none
    ${g?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900"}
    ${v?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 pl-3 pr-10 text-sm
    ${E}
  `;return c.jsxs("div",{className:"w-full",children:[t&&c.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${g?"text-red-600":"text-slate-700"}`,children:[t,x&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{id:e,name:n,value:r,onChange:i,onBlur:a,disabled:v,required:x,className:O,..._,children:[c.jsx("option",{value:"",children:y}),d.map(I=>c.jsx("option",{value:I.value||I,children:I.label||I},I.value||I))]}),c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:c.jsx("svg",{className:"h-5 w-5 text-slate-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),g&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:g})]})};wi.propTypes={id:ie.string.isRequired,name:ie.string.isRequired,label:ie.string,value:ie.string,onChange:ie.func,onBlur:ie.func,options:ie.arrayOf(ie.oneOfType([ie.string,ie.shape({value:ie.string.isRequired,label:ie.string.isRequired})])),error:ie.string,disabled:ie.bool,required:ie.bool,placeholder:ie.string,className:ie.string};const Ft=({children:e,className:n="",...t})=>c.jsx("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden ${n}`,...t,children:e}),rN=({children:e,className:n="",...t})=>c.jsx("div",{className:`px-6 py-4 border-b border-slate-200 ${n}`,...t,children:e}),iN=({children:e,className:n="",...t})=>c.jsx("h3",{className:`text-lg font-medium text-slate-800 ${n}`,...t,children:e}),sN=({children:e,className:n="",...t})=>c.jsx("div",{className:`p-6 ${n}`,...t,children:e}),aN=({children:e,className:n="",...t})=>c.jsx("div",{className:`px-6 py-4 bg-slate-50 border-t border-slate-200 ${n}`,...t,children:e});Ft.Header=rN;Ft.Title=iN;Ft.Body=sN;Ft.Footer=aN;Ft.propTypes={children:ie.node.isRequired,className:ie.string};rN.propTypes={children:ie.node.isRequired,className:ie.string};iN.propTypes={children:ie.node.isRequired,className:ie.string};sN.propTypes={children:ie.node.isRequired,className:ie.string};aN.propTypes={children:ie.node.isRequired,className:ie.string};const ss=({children:e,variant:n="primary",size:t="md",className:r="",...i})=>{const a="inline-flex items-center font-medium rounded-full",d={primary:"bg-primary-100 text-primary-800",secondary:"bg-slate-100 text-slate-800",success:"bg-green-100 text-green-800",danger:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",info:"bg-blue-100 text-blue-800"},g={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"},v=`
    ${a}
    ${d[n]||d.primary}
    ${g[t]||g.md}
    ${r}
  `;return c.jsx("span",{className:v,...i,children:e})};ss.propTypes={children:ie.node.isRequired,variant:ie.oneOf(["primary","secondary","success","danger","warning","info"]),size:ie.oneOf(["sm","md","lg"]),className:ie.string};function tp(){return typeof window<"u"}function Mc(e){return oN(e)?(e.nodeName||"").toLowerCase():"#document"}function bi(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Ps(e){var n;return(n=(oN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function oN(e){return tp()?e instanceof Node||e instanceof bi(e).Node:!1}function Hr(e){return tp()?e instanceof Element||e instanceof bi(e).Element:!1}function Ms(e){return tp()?e instanceof HTMLElement||e instanceof bi(e).HTMLElement:!1}function hb(e){return!tp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bi(e).ShadowRoot}function Cd(e){const{overflow:n,overflowX:t,overflowY:r,display:i}=$i(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!["inline","contents"].includes(i)}function gL(e){return["table","td","th"].includes(Mc(e))}function np(e){return[":popover-open",":modal"].some(n=>{try{return e.matches(n)}catch{return!1}})}function t2(e){const n=n2(),t=Hr(e)?$i(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function xL(e){let n=uo(e);for(;Ms(n)&&!bc(n);){if(t2(n))return n;if(np(n))return null;n=uo(n)}return null}function n2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bc(e){return["html","body","#document"].includes(Mc(e))}function $i(e){return bi(e).getComputedStyle(e)}function rp(e){return Hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function uo(e){if(Mc(e)==="html")return e;const n=e.assignedSlot||e.parentNode||hb(e)&&e.host||Ps(e);return hb(n)?n.host:n}function lN(e){const n=uo(e);return bc(n)?e.ownerDocument?e.ownerDocument.body:e.body:Ms(n)&&Cd(n)?n:lN(n)}function dd(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const i=lN(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),d=bi(i);if(a){const g=Cg(d);return n.concat(d,d.visualViewport||[],Cd(i)?i:[],g&&t?dd(g):[])}return n.concat(i,dd(i,[],t))}function Cg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Cc=Math.min,tl=Math.max,uh=Math.round,Vf=Math.floor,Os=e=>({x:e,y:e}),vL={left:"right",right:"left",bottom:"top",top:"bottom"},wL={start:"end",end:"start"};function yL(e,n,t){return tl(e,Cc(n,t))}function ip(e,n){return typeof e=="function"?e(n):e}function Ec(e){return e.split("-")[0]}function Ed(e){return e.split("-")[1]}function bL(e){return e==="x"?"y":"x"}function r2(e){return e==="y"?"height":"width"}function sc(e){return["top","bottom"].includes(Ec(e))?"y":"x"}function i2(e){return bL(sc(e))}function CL(e,n,t){t===void 0&&(t=!1);const r=Ed(e),i=i2(e),a=r2(i);let d=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(d=dh(d)),[d,dh(d)]}function EL(e){const n=dh(e);return[Eg(e),n,Eg(n)]}function Eg(e){return e.replace(/start|end/g,n=>wL[n])}function NL(e,n,t){const r=["left","right"],i=["right","left"],a=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return t?n?i:r:n?r:i;case"left":case"right":return n?a:d;default:return[]}}function _L(e,n,t,r){const i=Ed(e);let a=NL(Ec(e),t==="start",r);return i&&(a=a.map(d=>d+"-"+i),n&&(a=a.concat(a.map(Eg)))),a}function dh(e){return e.replace(/left|right|bottom|top/g,n=>vL[n])}function SL(e){return{top:0,right:0,bottom:0,left:0,...e}}function cN(e){return typeof e!="number"?SL(e):{top:e,right:e,bottom:e,left:e}}function fh(e){const{x:n,y:t,width:r,height:i}=e;return{width:r,height:i,top:t,left:n,right:n+r,bottom:t+i,x:n,y:t}}var hh=typeof document<"u"?M.useLayoutEffect:M.useEffect;const AL={...Fg},TL=AL.useInsertionEffect,kL=TL||(e=>e());function DL(e){const n=M.useRef(()=>{});return kL(()=>{n.current=e}),M.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.current==null?void 0:n.current(...r)},[])}function pb(e,n,t){let{reference:r,floating:i}=e;const a=sc(n),d=i2(n),g=r2(d),v=Ec(n),x=a==="y",y=r.x+r.width/2-i.width/2,E=r.y+r.height/2-i.height/2,_=r[g]/2-i[g]/2;let T;switch(v){case"top":T={x:y,y:r.y-i.height};break;case"bottom":T={x:y,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y:E};break;case"left":T={x:r.x-i.width,y:E};break;default:T={x:r.x,y:r.y}}switch(Ed(n)){case"start":T[d]-=_*(t&&x?-1:1);break;case"end":T[d]+=_*(t&&x?-1:1);break}return T}const IL=async(e,n,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:d}=t,g=a.filter(Boolean),v=await(d.isRTL==null?void 0:d.isRTL(n));let x=await d.getElementRects({reference:e,floating:n,strategy:i}),{x:y,y:E}=pb(x,r,v),_=r,T={},S=0;for(let R=0;R<g.length;R++){const{name:O,fn:I}=g[R],{x:D,y:j,data:q,reset:Q}=await I({x:y,y:E,initialPlacement:r,placement:_,strategy:i,middlewareData:T,rects:x,platform:d,elements:{reference:e,floating:n}});y=D??y,E=j??E,T={...T,[O]:{...T[O],...q}},Q&&S<=50&&(S++,typeof Q=="object"&&(Q.placement&&(_=Q.placement),Q.rects&&(x=Q.rects===!0?await d.getElementRects({reference:e,floating:n,strategy:i}):Q.rects),{x:y,y:E}=pb(x,_,v)),R=-1)}return{x:y,y:E,placement:_,strategy:i,middlewareData:T}};async function RL(e,n){var t;n===void 0&&(n={});const{x:r,y:i,platform:a,rects:d,elements:g,strategy:v}=e,{boundary:x="clippingAncestors",rootBoundary:y="viewport",elementContext:E="floating",altBoundary:_=!1,padding:T=0}=ip(n,e),S=cN(T),O=g[_?E==="floating"?"reference":"floating":E],I=fh(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(O)))==null||t?O:O.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(g.floating)),boundary:x,rootBoundary:y,strategy:v})),D=E==="floating"?{x:r,y:i,width:d.floating.width,height:d.floating.height}:d.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(g.floating)),q=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},Q=fh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:g,rect:D,offsetParent:j,strategy:v}):D);return{top:(I.top-Q.top+S.top)/q.y,bottom:(Q.bottom-I.bottom+S.bottom)/q.y,left:(I.left-Q.left+S.left)/q.x,right:(Q.right-I.right+S.right)/q.x}}const jL=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:i,rects:a,platform:d,elements:g,middlewareData:v}=n,{element:x,padding:y=0}=ip(e,n)||{};if(x==null)return{};const E=cN(y),_={x:t,y:r},T=i2(i),S=r2(T),R=await d.getDimensions(x),O=T==="y",I=O?"top":"left",D=O?"bottom":"right",j=O?"clientHeight":"clientWidth",q=a.reference[S]+a.reference[T]-_[T]-a.floating[S],Q=_[T]-a.reference[T],z=await(d.getOffsetParent==null?void 0:d.getOffsetParent(x));let P=z?z[j]:0;(!P||!await(d.isElement==null?void 0:d.isElement(z)))&&(P=g.floating[j]||a.floating[S]);const V=q/2-Q/2,W=P/2-R[S]/2-1,se=Cc(E[I],W),ce=Cc(E[D],W),ae=se,ne=P-R[S]-ce,he=P/2-R[S]/2+V,ee=yL(ae,he,ne),ve=!v.arrow&&Ed(i)!=null&&he!==ee&&a.reference[S]/2-(he<ae?se:ce)-R[S]/2<0,ge=ve?he<ae?he-ae:he-ne:0;return{[T]:_[T]+ge,data:{[T]:ee,centerOffset:he-ee-ge,...ve&&{alignmentOffset:ge}},reset:ve}}}),OL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:i,middlewareData:a,rects:d,initialPlacement:g,platform:v,elements:x}=n,{mainAxis:y=!0,crossAxis:E=!0,fallbackPlacements:_,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:R=!0,...O}=ip(e,n);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const I=Ec(i),D=sc(g),j=Ec(g)===g,q=await(v.isRTL==null?void 0:v.isRTL(x.floating)),Q=_||(j||!R?[dh(g)]:EL(g)),z=S!=="none";!_&&z&&Q.push(..._L(g,R,S,q));const P=[g,...Q],V=await RL(n,O),W=[];let se=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&W.push(V[I]),E){const ee=CL(i,d,q);W.push(V[ee[0]],V[ee[1]])}if(se=[...se,{placement:i,overflows:W}],!W.every(ee=>ee<=0)){var ce,ae;const ee=(((ce=a.flip)==null?void 0:ce.index)||0)+1,ve=P[ee];if(ve){var ne;const ue=E==="alignment"?D!==sc(ve):!1,_e=((ne=se[0])==null?void 0:ne.overflows[0])>0;if(!ue||_e)return{data:{index:ee,overflows:se},reset:{placement:ve}}}let ge=(ae=se.filter(ue=>ue.overflows[0]<=0).sort((ue,_e)=>ue.overflows[1]-_e.overflows[1])[0])==null?void 0:ae.placement;if(!ge)switch(T){case"bestFit":{var he;const ue=(he=se.filter(_e=>{if(z){const Ie=sc(_e.placement);return Ie===D||Ie==="y"}return!0}).map(_e=>[_e.placement,_e.overflows.filter(Ie=>Ie>0).reduce((Ie,qe)=>Ie+qe,0)]).sort((_e,Ie)=>_e[1]-Ie[1])[0])==null?void 0:he[0];ue&&(ge=ue);break}case"initialPlacement":ge=g;break}if(i!==ge)return{reset:{placement:ge}}}return{}}}};async function ML(e,n){const{placement:t,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),d=Ec(t),g=Ed(t),v=sc(t)==="y",x=["left","top"].includes(d)?-1:1,y=a&&v?-1:1,E=ip(n,e);let{mainAxis:_,crossAxis:T,alignmentAxis:S}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return g&&typeof S=="number"&&(T=g==="end"?S*-1:S),v?{x:T*y,y:_*x}:{x:_*x,y:T*y}}const LL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:i,y:a,placement:d,middlewareData:g}=n,v=await ML(n,e);return d===((t=g.offset)==null?void 0:t.placement)&&(r=g.arrow)!=null&&r.alignmentOffset?{}:{x:i+v.x,y:a+v.y,data:{...v,placement:d}}}}};function uN(e){const n=$i(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const i=Ms(e),a=i?e.offsetWidth:t,d=i?e.offsetHeight:r,g=uh(t)!==a||uh(r)!==d;return g&&(t=a,r=d),{width:t,height:r,$:g}}function s2(e){return Hr(e)?e:e.contextElement}function ac(e){const n=s2(e);if(!Ms(n))return Os(1);const t=n.getBoundingClientRect(),{width:r,height:i,$:a}=uN(n);let d=(a?uh(t.width):t.width)/r,g=(a?uh(t.height):t.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!g||!Number.isFinite(g))&&(g=1),{x:d,y:g}}const PL=Os(0);function dN(e){const n=bi(e);return!n2()||!n.visualViewport?PL:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function FL(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==bi(e)?!1:n}function dl(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const i=e.getBoundingClientRect(),a=s2(e);let d=Os(1);n&&(r?Hr(r)&&(d=ac(r)):d=ac(e));const g=FL(a,t,r)?dN(a):Os(0);let v=(i.left+g.x)/d.x,x=(i.top+g.y)/d.y,y=i.width/d.x,E=i.height/d.y;if(a){const _=bi(a),T=r&&Hr(r)?bi(r):r;let S=_,R=Cg(S);for(;R&&r&&T!==S;){const O=ac(R),I=R.getBoundingClientRect(),D=$i(R),j=I.left+(R.clientLeft+parseFloat(D.paddingLeft))*O.x,q=I.top+(R.clientTop+parseFloat(D.paddingTop))*O.y;v*=O.x,x*=O.y,y*=O.x,E*=O.y,v+=j,x+=q,S=bi(R),R=Cg(S)}}return fh({width:y,height:E,x:v,y:x})}function a2(e,n){const t=rp(e).scrollLeft;return n?n.left+t:dl(Ps(e)).left+t}function fN(e,n,t){t===void 0&&(t=!1);const r=e.getBoundingClientRect(),i=r.left+n.scrollLeft-(t?0:a2(e,r)),a=r.top+n.scrollTop;return{x:i,y:a}}function BL(e){let{elements:n,rect:t,offsetParent:r,strategy:i}=e;const a=i==="fixed",d=Ps(r),g=n?np(n.floating):!1;if(r===d||g&&a)return t;let v={scrollLeft:0,scrollTop:0},x=Os(1);const y=Os(0),E=Ms(r);if((E||!E&&!a)&&((Mc(r)!=="body"||Cd(d))&&(v=rp(r)),Ms(r))){const T=dl(r);x=ac(r),y.x=T.x+r.clientLeft,y.y=T.y+r.clientTop}const _=d&&!E&&!a?fN(d,v,!0):Os(0);return{width:t.width*x.x,height:t.height*x.y,x:t.x*x.x-v.scrollLeft*x.x+y.x+_.x,y:t.y*x.y-v.scrollTop*x.y+y.y+_.y}}function UL(e){return Array.from(e.getClientRects())}function zL(e){const n=Ps(e),t=rp(e),r=e.ownerDocument.body,i=tl(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),a=tl(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let d=-t.scrollLeft+a2(e);const g=-t.scrollTop;return $i(r).direction==="rtl"&&(d+=tl(n.clientWidth,r.clientWidth)-i),{width:i,height:a,x:d,y:g}}function WL(e,n){const t=bi(e),r=Ps(e),i=t.visualViewport;let a=r.clientWidth,d=r.clientHeight,g=0,v=0;if(i){a=i.width,d=i.height;const x=n2();(!x||x&&n==="fixed")&&(g=i.offsetLeft,v=i.offsetTop)}return{width:a,height:d,x:g,y:v}}function HL(e,n){const t=dl(e,!0,n==="fixed"),r=t.top+e.clientTop,i=t.left+e.clientLeft,a=Ms(e)?ac(e):Os(1),d=e.clientWidth*a.x,g=e.clientHeight*a.y,v=i*a.x,x=r*a.y;return{width:d,height:g,x:v,y:x}}function mb(e,n,t){let r;if(n==="viewport")r=WL(e,t);else if(n==="document")r=zL(Ps(e));else if(Hr(n))r=HL(n,t);else{const i=dN(e);r={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return fh(r)}function hN(e,n){const t=uo(e);return t===n||!Hr(t)||bc(t)?!1:$i(t).position==="fixed"||hN(t,n)}function qL(e,n){const t=n.get(e);if(t)return t;let r=dd(e,[],!1).filter(g=>Hr(g)&&Mc(g)!=="body"),i=null;const a=$i(e).position==="fixed";let d=a?uo(e):e;for(;Hr(d)&&!bc(d);){const g=$i(d),v=t2(d);!v&&g.position==="fixed"&&(i=null),(a?!v&&!i:!v&&g.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Cd(d)&&!v&&hN(e,d))?r=r.filter(y=>y!==d):i=g,d=uo(d)}return n.set(e,r),r}function VL(e){let{element:n,boundary:t,rootBoundary:r,strategy:i}=e;const d=[...t==="clippingAncestors"?np(n)?[]:qL(n,this._c):[].concat(t),r],g=d[0],v=d.reduce((x,y)=>{const E=mb(n,y,i);return x.top=tl(E.top,x.top),x.right=Cc(E.right,x.right),x.bottom=Cc(E.bottom,x.bottom),x.left=tl(E.left,x.left),x},mb(n,g,i));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function YL(e){const{width:n,height:t}=uN(e);return{width:n,height:t}}function $L(e,n,t){const r=Ms(n),i=Ps(n),a=t==="fixed",d=dl(e,!0,a,n);let g={scrollLeft:0,scrollTop:0};const v=Os(0);function x(){v.x=a2(i)}if(r||!r&&!a)if((Mc(n)!=="body"||Cd(i))&&(g=rp(n)),r){const T=dl(n,!0,a,n);v.x=T.x+n.clientLeft,v.y=T.y+n.clientTop}else i&&x();a&&!r&&i&&x();const y=i&&!r&&!a?fN(i,g):Os(0),E=d.left+g.scrollLeft-v.x-y.x,_=d.top+g.scrollTop-v.y-y.y;return{x:E,y:_,width:d.width,height:d.height}}function Y1(e){return $i(e).position==="static"}function gb(e,n){if(!Ms(e)||$i(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return Ps(e)===t&&(t=t.ownerDocument.body),t}function pN(e,n){const t=bi(e);if(np(e))return t;if(!Ms(e)){let i=uo(e);for(;i&&!bc(i);){if(Hr(i)&&!Y1(i))return i;i=uo(i)}return t}let r=gb(e,n);for(;r&&gL(r)&&Y1(r);)r=gb(r,n);return r&&bc(r)&&Y1(r)&&!t2(r)?t:r||xL(e)||t}const GL=async function(e){const n=this.getOffsetParent||pN,t=this.getDimensions,r=await t(e.floating);return{reference:$L(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function XL(e){return $i(e).direction==="rtl"}const QL={convertOffsetParentRelativeRectToViewportRelativeRect:BL,getDocumentElement:Ps,getClippingRect:VL,getOffsetParent:pN,getElementRects:GL,getClientRects:UL,getDimensions:YL,getScale:ac,isElement:Hr,isRTL:XL};function mN(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function KL(e,n){let t=null,r;const i=Ps(e);function a(){var g;clearTimeout(r),(g=t)==null||g.disconnect(),t=null}function d(g,v){g===void 0&&(g=!1),v===void 0&&(v=1),a();const x=e.getBoundingClientRect(),{left:y,top:E,width:_,height:T}=x;if(g||n(),!_||!T)return;const S=Vf(E),R=Vf(i.clientWidth-(y+_)),O=Vf(i.clientHeight-(E+T)),I=Vf(y),j={rootMargin:-S+"px "+-R+"px "+-O+"px "+-I+"px",threshold:tl(0,Cc(1,v))||1};let q=!0;function Q(z){const P=z[0].intersectionRatio;if(P!==v){if(!q)return d();P?d(!1,P):r=setTimeout(()=>{d(!1,1e-7)},1e3)}P===1&&!mN(x,e.getBoundingClientRect())&&d(),q=!1}try{t=new IntersectionObserver(Q,{...j,root:i.ownerDocument})}catch{t=new IntersectionObserver(Q,j)}t.observe(e)}return d(!0),a}function ZL(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:g=typeof IntersectionObserver=="function",animationFrame:v=!1}=r,x=s2(e),y=i||a?[...x?dd(x):[],...dd(n)]:[];y.forEach(I=>{i&&I.addEventListener("scroll",t,{passive:!0}),a&&I.addEventListener("resize",t)});const E=x&&g?KL(x,t):null;let _=-1,T=null;d&&(T=new ResizeObserver(I=>{let[D]=I;D&&D.target===x&&T&&(T.unobserve(n),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var j;(j=T)==null||j.observe(n)})),t()}),x&&!v&&T.observe(x),T.observe(n));let S,R=v?dl(e):null;v&&O();function O(){const I=dl(e);R&&!mN(R,I)&&t(),R=I,S=requestAnimationFrame(O)}return t(),()=>{var I;y.forEach(D=>{i&&D.removeEventListener("scroll",t),a&&D.removeEventListener("resize",t)}),E==null||E(),(I=T)==null||I.disconnect(),T=null,v&&cancelAnimationFrame(S)}}const JL=LL,eP=OL,xb=jL,tP=(e,n,t)=>{const r=new Map,i={platform:QL,...t},a={...i.platform,_c:r};return IL(e,n,{...i,platform:a})};var w0=typeof document<"u"?M.useLayoutEffect:M.useEffect;function ph(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,i;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!ph(e[r],n[r]))return!1;return!0}if(i=Object.keys(e),t=i.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!ph(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}function gN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vb(e,n){const t=gN(e);return Math.round(n*t)/t}function $1(e){const n=M.useRef(e);return w0(()=>{n.current=e}),n}function nP(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:d}={},transform:g=!0,whileElementsMounted:v,open:x}=e,[y,E]=M.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[_,T]=M.useState(r);ph(_,r)||T(r);const[S,R]=M.useState(null),[O,I]=M.useState(null),D=M.useCallback(ue=>{ue!==z.current&&(z.current=ue,R(ue))},[]),j=M.useCallback(ue=>{ue!==P.current&&(P.current=ue,I(ue))},[]),q=a||S,Q=d||O,z=M.useRef(null),P=M.useRef(null),V=M.useRef(y),W=v!=null,se=$1(v),ce=$1(i),ae=$1(x),ne=M.useCallback(()=>{if(!z.current||!P.current)return;const ue={placement:n,strategy:t,middleware:_};ce.current&&(ue.platform=ce.current),tP(z.current,P.current,ue).then(_e=>{const Ie={..._e,isPositioned:ae.current!==!1};he.current&&!ph(V.current,Ie)&&(V.current=Ie,kx.flushSync(()=>{E(Ie)}))})},[_,n,t,ce,ae]);w0(()=>{x===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,E(ue=>({...ue,isPositioned:!1})))},[x]);const he=M.useRef(!1);w0(()=>(he.current=!0,()=>{he.current=!1}),[]),w0(()=>{if(q&&(z.current=q),Q&&(P.current=Q),q&&Q){if(se.current)return se.current(q,Q,ne);ne()}},[q,Q,ne,se,W]);const ee=M.useMemo(()=>({reference:z,floating:P,setReference:D,setFloating:j}),[D,j]),ve=M.useMemo(()=>({reference:q,floating:Q}),[q,Q]),ge=M.useMemo(()=>{const ue={position:t,left:0,top:0};if(!ve.floating)return ue;const _e=vb(ve.floating,y.x),Ie=vb(ve.floating,y.y);return g?{...ue,transform:"translate("+_e+"px, "+Ie+"px)",...gN(ve.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:_e,top:Ie}},[t,g,ve.floating,y.x,y.y]);return M.useMemo(()=>({...y,update:ne,refs:ee,elements:ve,floatingStyles:ge}),[y,ne,ee,ve,ge])}const rP=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:i}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?xb({element:r.current,padding:i}).fn(t):{}:r?xb({element:r,padding:i}).fn(t):{}}}},iP=(e,n)=>({...JL(e),options:[e,n]}),sP=(e,n)=>({...eP(e),options:[e,n]}),aP=(e,n)=>({...rP(e),options:[e,n]}),oP={...Fg};let wb=!1,lP=0;const yb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lP++;function cP(){const[e,n]=M.useState(()=>wb?yb():void 0);return hh(()=>{e==null&&n(yb())},[]),M.useEffect(()=>{wb=!0},[]),e}const uP=oP.useId,xN=uP||cP,dP=M.forwardRef(function(n,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:a,shift:d}},width:g=14,height:v=7,tipRadius:x=0,strokeWidth:y=0,staticOffset:E,stroke:_,d:T,style:{transform:S,...R}={},...O}=n,I=xN(),[D,j]=M.useState(!1);if(hh(()=>{if(!i)return;$i(i).direction==="rtl"&&j(!0)},[i]),!i)return null;const[q,Q]=r.split("-"),z=q==="top"||q==="bottom";let P=E;(z&&d!=null&&d.x||!z&&d!=null&&d.y)&&(P=null);const V=y*2,W=V/2,se=g/2*(x/-8+1),ce=v/2*x/4,ae=!!T,ne=P&&Q==="end"?"bottom":"top";let he=P&&Q==="end"?"right":"left";P&&D&&(he=Q==="end"?"left":"right");const ee=(a==null?void 0:a.x)!=null?P||a.x:"",ve=(a==null?void 0:a.y)!=null?P||a.y:"",ge=T||"M0,0"+(" H"+g)+(" L"+(g-se)+","+(v-ce))+(" Q"+g/2+","+v+" "+se+","+(v-ce))+" Z",ue={top:ae?"rotate(180deg)":"",left:ae?"rotate(90deg)":"rotate(-90deg)",bottom:ae?"":"rotate(180deg)",right:ae?"rotate(-90deg)":"rotate(90deg)"}[q];return c.jsxs("svg",{...O,"aria-hidden":!0,ref:t,width:ae?g:g+V,height:g,viewBox:"0 0 "+g+" "+(v>g?v:g),style:{position:"absolute",pointerEvents:"none",[he]:ee,[ne]:ve,[q]:z||ae?"100%":"calc(100% - "+V/2+"px)",transform:[ue,S].filter(_e=>!!_e).join(" "),...R},children:[V>0&&c.jsx("path",{clipPath:"url(#"+I+")",fill:"none",stroke:_,strokeWidth:V+(T?0:1),d:ge}),c.jsx("path",{stroke:V&&!T?O.fill:"none",d:ge}),c.jsx("clipPath",{id:I,children:c.jsx("rect",{x:-W,y:W*(ae?-1:1),width:g+V,height:g})})]})});function fP(){const e=new Map;return{emit(n,t){var r;(r=e.get(n))==null||r.forEach(i=>i(t))},on(n,t){e.has(n)||e.set(n,new Set),e.get(n).add(t)},off(n,t){var r;(r=e.get(n))==null||r.delete(t)}}}const hP=M.createContext(null),pP=M.createContext(null),mP=()=>{var e;return((e=M.useContext(hP))==null?void 0:e.id)||null},gP=()=>M.useContext(pP);function xP(e){const{open:n=!1,onOpenChange:t,elements:r}=e,i=xN(),a=M.useRef({}),[d]=M.useState(()=>fP()),g=mP()!=null,[v,x]=M.useState(r.reference),y=DL((T,S,R)=>{a.current.openEvent=T?S:void 0,d.emit("openchange",{open:T,event:S,reason:R,nested:g}),t==null||t(T,S,R)}),E=M.useMemo(()=>({setPositionReference:x}),[]),_=M.useMemo(()=>({reference:v||r.reference||null,floating:r.floating||null,domReference:r.reference}),[v,r.reference,r.floating]);return M.useMemo(()=>({dataRef:a,open:n,onOpenChange:y,elements:_,events:d,floatingId:i,refs:E}),[n,y,_,d,i,E])}function vP(e){e===void 0&&(e={});const{nodeId:n}=e,t=xP({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,i=r.elements,[a,d]=M.useState(null),[g,v]=M.useState(null),y=(i==null?void 0:i.domReference)||a,E=M.useRef(null),_=gP();hh(()=>{y&&(E.current=y)},[y]);const T=nP({...e,elements:{...i,...g&&{reference:g}}}),S=M.useCallback(j=>{const q=Hr(j)?{getBoundingClientRect:()=>j.getBoundingClientRect(),getClientRects:()=>j.getClientRects(),contextElement:j}:j;v(q),T.refs.setReference(q)},[T.refs]),R=M.useCallback(j=>{(Hr(j)||j===null)&&(E.current=j,d(j)),(Hr(T.refs.reference.current)||T.refs.reference.current===null||j!==null&&!Hr(j))&&T.refs.setReference(j)},[T.refs]),O=M.useMemo(()=>({...T.refs,setReference:R,setPositionReference:S,domReference:E}),[T.refs,R,S]),I=M.useMemo(()=>({...T.elements,domReference:y}),[T.elements,y]),D=M.useMemo(()=>({...T,...r,refs:O,elements:I,nodeId:n}),[T,O,I,n,r]);return hh(()=>{r.dataRef.current.floatingContext=D;const j=_==null?void 0:_.nodesRef.current.find(q=>q.id===n);j&&(j.context=D)}),M.useMemo(()=>({...T,context:D,refs:O,elements:I}),[T,O,I,D])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Ng=function(n,t){return Ng=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},Ng(n,t)};function fr(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Ng(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var It=function(){return It=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(t[d]=r[d])}return t},It.apply(this,arguments)};function Is(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var wP=function(e){var n=e.showTimeSelectOnly,t=n===void 0?!1:n,r=e.showTime,i=r===void 0?!1:r,a=e.className,d=e.children,g=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return de.createElement("div",{className:a,role:"dialog","aria-label":g,"aria-modal":"true"},d)},yP=function(e,n){var t=M.useRef(null),r=M.useRef(e);r.current=e;var i=M.useCallback(function(a){var d,g=a.composed&&a.composedPath&&a.composedPath().find(function(v){return v instanceof Node})||a.target;t.current&&!t.current.contains(g)&&(n&&g instanceof HTMLElement&&g.classList.contains(n)||(d=r.current)===null||d===void 0||d.call(r,a))},[n]);return M.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},sp=function(e){var n=e.children,t=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,d=e.ignoreClass,g=yP(t,d);return de.createElement("div",{className:r,style:a,ref:function(v){g.current=v,i&&(i.current=v)}},n)},Me;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Me||(Me={}));function vN(){var e=typeof window<"u"?window:globalThis;return e}var Nd=12;function Wt(e){if(e==null)return new Date;var n=typeof e=="string"?y9(e):ze(e);return ap(n)?n:new Date}function G1(e,n,t,r,i){i===void 0&&(i=Wt());for(var a=Nc(t)||Nc(o2()),d=Array.isArray(n)?n:[n],g=0,v=d;g<v.length;g++){var x=v[g],y=p9(e,x,i,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(ap(y)&&(!r||e===bn(y,x,t)))return y}return null}function ap(e,n){return rh(e)&&!ul(e,new Date("1/1/1800"))}function bn(e,n,t){if(t==="en")return cd(e,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Nc(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Nc(o2()),cd(e,n,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Fi(e,n){var t=n.dateFormat,r=n.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return e&&bn(e,i,r)||""}var wN=" - ";function bP(e,n,t){if(!e)return"";var r=Fi(e,t),i=n?Fi(n,t):"";return"".concat(r).concat(wN).concat(i)}function CP(e,n){if(!(e!=null&&e.length))return"";var t=e[0]?Fi(e[0],n):"";if(e.length===1)return t;if(e.length===2&&e[1]){var r=Fi(e[1],n);return"".concat(t,", ").concat(r)}var i=e.length-1;return"".concat(t," (+").concat(i,")")}function X1(e,n){var t=n.hour,r=t===void 0?0:t,i=n.minute,a=i===void 0?0:i,d=n.second,g=d===void 0?0:d;return g0(x0(v0(e,g),a),r)}function EP(e){return Qx(e)}function NP(e,n){return bn(e,"ddd",n)}function y0(e){return cl(e)}function ao(e,n,t){var r=Nc(n||o2());return va(e,{locale:r,weekStartsOn:t})}function fa(e){return LE(e)}function ku(e){return ep(e)}function bb(e){return gg(e)}function Cb(){return cl(Wt())}function Eb(e){return $x(e)}function _P(e){return bO(e)}function SP(e){return Gx(e)}function Ss(e,n){return e&&n?v9(e,n):!e&&!n}function Ur(e,n){return e&&n?g9(e,n):!e&&!n}function mh(e,n){return e&&n?x9(e,n):!e&&!n}function Dt(e,n){return e&&n?pO(e,n):!e&&!n}function Xo(e,n){return e&&n?wM(e,n):!e&&!n}function Du(e,n,t){var r,i=cl(n),a=$x(t);try{r=ud(e,{start:i,end:a})}catch{r=!1}return r}function o2(){var e=vN();return e.__localeId__}function Nc(e){if(typeof e=="string"){var n=vN();return n.__localeData__?n.__localeData__[e]:void 0}else return e}function AP(e,n,t){return n(bn(e,"EEEE",t))}function TP(e,n){return bn(e,"EEEEEE",n)}function kP(e,n){return bn(e,"EEE",n)}function l2(e,n){return bn(Bi(Wt(),e),"LLLL",n)}function yN(e,n){return bn(Bi(Wt(),e),"LLL",n)}function DP(e,n){return bn(Fl(Wt(),e),"QQQ",n)}function Wi(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,d=t.excludeDateIntervals,g=t.includeDates,v=t.includeDateIntervals,x=t.filterDate;return _d(e,{minDate:r,maxDate:i})||a&&a.some(function(y){return y instanceof Date?Dt(e,y):Dt(e,y.date)})||d&&d.some(function(y){var E=y.start,_=y.end;return ud(e,{start:E,end:_})})||g&&!g.some(function(y){return Dt(e,y)})||v&&!v.some(function(y){var E=y.start,_=y.end;return ud(e,{start:E,end:_})})||x&&!x(Wt(e))||!1}function c2(e,n){var t=n===void 0?{}:n,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var d=a.start,g=a.end;return ud(e,{start:d,end:g})}):r&&r.some(function(a){var d;return a instanceof Date?Dt(e,a):Dt(e,(d=a.date)!==null&&d!==void 0?d:new Date)})||!1}function bN(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,d=t.includeDates,g=t.filterDate;return _d(e,{minDate:r?LE(r):void 0,maxDate:i?Gx(i):void 0})||(a==null?void 0:a.some(function(v){return Ur(e,v instanceof Date?v:v.date)}))||d&&!d.some(function(v){return Ur(e,v)})||g&&!g(Wt(e))||!1}function Yf(e,n,t,r){var i=mt(e),a=Rr(e),d=mt(n),g=Rr(n),v=mt(r);return i===d&&i===v?a<=t&&t<=g:i<d?v===i&&a<=t||v===d&&g>=t||v<d&&v>i:!1}function IP(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,d=t.includeDates;return _d(e,{minDate:r,maxDate:i})||a&&a.some(function(g){return Ur(g instanceof Date?g:g.date,e)})||d&&!d.some(function(g){return Ur(g,e)})||!1}function $f(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,d=t.includeDates,g=t.filterDate;return _d(e,{minDate:r,maxDate:i})||(a==null?void 0:a.some(function(v){return mh(e,v instanceof Date?v:v.date)}))||d&&!d.some(function(v){return mh(e,v)})||g&&!g(Wt(e))||!1}function Gf(e,n,t){if(!n||!t||!rh(n)||!rh(t))return!1;var r=mt(n),i=mt(t);return r<=e&&i>=e}function b0(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,d=t.includeDates,g=t.filterDate,v=new Date(e,0,1);return _d(v,{minDate:r?ep(r):void 0,maxDate:i?PE(i):void 0})||(a==null?void 0:a.some(function(x){return Ss(v,x instanceof Date?x:x.date)}))||d&&!d.some(function(x){return Ss(v,x)})||g&&!g(Wt(v))||!1}function Xf(e,n,t,r){var i=mt(e),a=Jo(e),d=mt(n),g=Jo(n),v=mt(r);return i===d&&i===v?a<=t&&t<=g:i<d?v===i&&a<=t||v===d&&g>=t||v<d&&v>i:!1}function _d(e,n){var t,r=n===void 0?{}:n,i=r.minDate,a=r.maxDate;return(t=i&&wc(e,i)<0||a&&wc(e,a)>0)!==null&&t!==void 0?t:!1}function Nb(e,n){return n.some(function(t){return ua(t)===ua(e)&&da(t)===da(e)&&so(t)===so(e)})}function _b(e,n){var t=n===void 0?{}:n,r=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return r&&Nb(e,r)||i&&!Nb(e,i)||a&&!a(e)||!1}function Sb(e,n){var t=n.minTime,r=n.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=Wt();i=g0(i,ua(e)),i=x0(i,da(e)),i=v0(i,so(e));var a=Wt();a=g0(a,ua(t)),a=x0(a,da(t)),a=v0(a,so(t));var d=Wt();d=g0(d,ua(r)),d=x0(d,da(r)),d=v0(d,so(r));var g;try{g=!ud(i,{start:a,end:d})}catch{g=!1}return g}function Ab(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=el(e,1);return r&&ld(r,a)>0||i&&i.every(function(d){return ld(d,a)>0})||!1}function Tb(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=ds(e,1);return r&&ld(a,r)>0||i&&i.every(function(d){return ld(a,d)>0})||!1}function RP(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=ep(e),d=$E(a,1);return r&&ih(r,d)>0||i&&i.every(function(g){return ih(g,d)>0})||!1}function jP(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=PE(e),d=Yx(a,1);return r&&ih(d,r)>0||i&&i.every(function(g){return ih(d,g)>0})||!1}function kb(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=yc(e,1);return r&&sh(r,a)>0||i&&i.every(function(d){return sh(d,a)>0})||!1}function OP(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.yearItemNumber,a=i===void 0?Nd:i,d=ku(yc(e,a)),g=Xa(d,a).endPeriod,v=r&&mt(r);return v&&v>g||!1}function Db(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=la(e,1);return r&&sh(a,r)>0||i&&i.every(function(d){return sh(a,d)>0})||!1}function MP(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.yearItemNumber,a=i===void 0?Nd:i,d=la(e,a),g=Xa(d,a).startPeriod,v=r&&mt(r);return v&&v<g||!1}function CN(e){var n=e.minDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return wc(i,n)>=0});return Xy(r)}else return t?Xy(t):n}function EN(e){var n=e.maxDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return wc(i,n)<=0});return Gy(r)}else return t?Gy(t):n}function Ib(e,n){var t;e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var d=e[i];if(ca(d)){var g=bn(d,"MM.dd.yyyy"),v=r.get(g)||[];v.includes(n)||(v.push(n),r.set(g,v))}else if(typeof d=="object"){var x=Object.keys(d),y=(t=x[0])!==null&&t!==void 0?t:"",E=d[y];if(typeof y=="string"&&Array.isArray(E))for(var _=0,T=E.length;_<T;_++){var S=E[_];if(S){var g=bn(S,"MM.dd.yyyy"),v=r.get(g)||[];v.includes(y)||(v.push(y),r.set(g,v))}}}}return r}function LP(e,n){return e.length!==n.length?!1:e.every(function(t,r){return t===n[r]})}function PP(e,n){e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(r){var i=r.date,a=r.holidayName;if(ca(i)){var d=bn(i,"MM.dd.yyyy"),g=t.get(d)||{className:"",holidayNames:[]};if(!("className"in g&&g.className===n&&LP(g.holidayNames,[a]))){g.className=n;var v=g.holidayNames;g.holidayNames=v?Is(Is([],v,!0),[a],!1):[a],t.set(d,g)}}}),t}function FP(e,n,t,r,i){for(var a=i.length,d=[],g=0;g<a;g++){var v=e,x=i[g];x&&(v=cO(v,ua(x)),v=mg(v,da(x)),v=fO(v,so(x)));var y=mg(e,(t+1)*r);co(v,n)&&ul(v,y)&&x!=null&&d.push(x)}return d}function Rb(e){return e<10?"0".concat(e):"".concat(e)}function Xa(e,n){n===void 0&&(n=Nd);var t=Math.ceil(mt(e)/n)*n,r=t-(n-1);return{startPeriod:r,endPeriod:t}}function BP(e){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+n)/36e5)}function jb(e){var n=e.getSeconds(),t=e.getMilliseconds();return ze(e.getTime()-n*1e3-t)}function UP(e,n){return jb(e).getTime()===jb(n).getTime()}function Ob(e){if(!ca(e))throw new Error("Invalid date");var n=new Date(e);return n.setHours(0,0,0,0),n}function Mb(e,n){if(!ca(e)||!ca(n))throw new Error("Invalid date received");var t=Ob(e),r=Ob(n);return ul(t,r)}function NN(e){return e.key===Me.Space}var zP=function(e){fr(n,e);function n(t){var r=e.call(this,t)||this;return r.inputRef=de.createRef(),r.onTimeChange=function(i){var a,d;r.setState({time:i});var g=r.props.date,v=g instanceof Date&&!isNaN(+g),x=v?g:new Date;if(i!=null&&i.includes(":")){var y=i.split(":"),E=y[0],_=y[1];x.setHours(Number(E)),x.setMinutes(Number(_))}(d=(a=r.props).onChange)===null||d===void 0||d.call(a,x)},r.renderTimeInput=function(){var i=r.state.time,a=r.props,d=a.date,g=a.timeString,v=a.customTimeInput;return v?M.cloneElement(v,{date:d,value:i,onChange:r.onTimeChange}):de.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var x;(x=r.inputRef.current)===null||x===void 0||x.focus()},required:!0,value:i,onChange:function(x){r.onTimeChange(x.target.value||g)}})},r.state={time:r.props.timeString},r}return n.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},n.prototype.render=function(){return de.createElement("div",{className:"react-datepicker__input-time-container"},de.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),de.createElement("div",{className:"react-datepicker-time__input-container"},de.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(M.Component),WP=function(e){fr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=M.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,a,d=r.key;d===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isSameDay=function(r){return Dt(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(d){return t.isSameDayOrWeek(d)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),Wi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return c2(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Dt(t.props.day,ao(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&Dt(r,ao(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,a=r.highlightDates;if(!a)return!1;var d=bn(i,"MM.dd.yyyy");return a.get(d)},t.getHolidaysClass=function(){var r,i=t.props,a=i.day,d=i.holidays;if(!d)return[void 0];var g=bn(a,"MM.dd.yyyy");return d.has(g)?[(r=d.get(g))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:Du(i,a,d)},t.isInSelectingRange=function(){var r,i=t.props,a=i.day,d=i.selectsStart,g=i.selectsEnd,v=i.selectsRange,x=i.selectsDisabledDaysInRange,y=i.startDate,E=i.endDate,_=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(d||g||v)||!_||!x&&t.isDisabled()?!1:d&&E&&(ul(_,E)||Xo(_,E))?Du(a,_,E):g&&y&&(co(_,y)||Xo(_,y))||v&&y&&!E&&(co(_,y)||Xo(_,y))?Du(a,y,_):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,d=i.startDate,g=i.selectsStart,v=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return g?Dt(a,v):Dt(a,d)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,d=i.endDate,g=i.selectsEnd,v=i.selectsRange,x=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return g||v?Dt(a,x):Dt(a,d)},t.isRangeStart=function(){var r=t.props,i=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:Dt(a,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:Dt(d,i)},t.isWeekend=function(){var r=mM(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Rr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Rr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Wt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return yn("react-datepicker__day",i,"react-datepicker__day--"+NP(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,a=r.ariaLabelPrefixWhenEnabled,d=a===void 0?"Choose":a,g=r.ariaLabelPrefixWhenDisabled,v=g===void 0?"Not available":g,x=t.isDisabled()||t.isExcluded()?v:d;return"".concat(x," ").concat(bn(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,a=r.holidays,d=a===void 0?new Map:a,g=r.excludeDates,v=bn(i,"MM.dd.yyyy"),x=[];return d.has(v)&&x.push.apply(x,d.get(v).holidayNames),t.isExcluded()&&x.push(g==null?void 0:g.filter(function(y){return y instanceof Date?Dt(y,i):Dt(y==null?void 0:y.date,i)}).map(function(y){if(!(y instanceof Date))return y==null?void 0:y.message})),x.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&Dt(i,r))?0:-1;return a},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(tb(t.props.day),t.props.day):tb(t.props.day)},t.render=function(){return de.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&de.createElement("span",{className:"overlay"},t.getTitle()))},t}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},n.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(M.Component),HP=function(e){fr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=M.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,a,d=r.key;d===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Dt(t.props.date,t.props.selected)&&Dt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Dt(t.props.date,t.props.selected)&&Dt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Dt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},n.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,d=a===void 0?n.defaultProps.ariaLabelPrefix:a,g=t.onClick,v={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!g&&!i,"react-datepicker__week-number--selected":!!g&&Dt(this.props.date,this.props.selected)};return de.createElement("div",{ref:this.weekNumberEl,className:yn(v),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},n}(M.Component),qP=function(e){fr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(r){return Wi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,a){for(var d,g,v,x=new Date(r),y=0;y<7;y++){var E=new Date(r);E.setDate(E.getDate()+y);var _=!t.isDisabled(E);if(_){x=E;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(x,i,a),t.props.showWeekPicker&&t.handleDayClick(x,a),((d=t.props.shouldCloseOnSelect)!==null&&d!==void 0?d:n.defaultProps.shouldCloseOnSelect)&&((v=(g=t.props).setOpen)===null||v===void 0||v.call(g,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):EP(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=cs(r,6),a=new Date(r);a<=i;){if(!t.isDisabled(a))return!1;a=cs(a,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],a=t.formatWeekNumber(r);if(t.props.showWeekNumber){var d=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,a):void 0;i.push(de.createElement(HP,It({key:"W"},n.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:d})))}return i.concat([0,1,2,3,4,5,6].map(function(g){var v=cs(r,g);return de.createElement(WP,It({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:v.valueOf(),day:v,onClick:t.handleDayClick.bind(t,v),onMouseEnter:t.handleDayMouseEnter.bind(t,v)}))}))},t.startOfWeek=function(){return ao(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Dt(t.startOfWeek(),t.props.selected)&&Dt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Dt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return de.createElement("div",{className:yn(t)},this.renderDays())},n}(M.Component),Nu,VP=6,oc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Q1=(Nu={},Nu[oc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Nu[oc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Nu[oc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Nu),Qf=1;function Lb(e,n){return e?oc.FOUR_COLUMNS:n?oc.TWO_COLUMNS:oc.THREE_COLUMNS}var YP=function(e){fr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Is([],Array(12),!0).map(function(){return M.createRef()}),t.QUARTER_REFS=Is([],Array(4),!0).map(function(){return M.createRef()}),t.isDisabled=function(r){return Wi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return c2(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var a,d;(d=(a=t.props).onDayClick)===null||d===void 0||d.call(a,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,a=i.day,d=i.startDate,g=i.endDate;return!d||!g?!1:Ur(Bi(a,r),d)},t.isRangeStartQuarter=function(r){var i=t.props,a=i.day,d=i.startDate,g=i.endDate;return!d||!g?!1:mh(Fl(a,r),d)},t.isRangeEndMonth=function(r){var i=t.props,a=i.day,d=i.startDate,g=i.endDate;return!d||!g?!1:Ur(Bi(a,r),g)},t.isRangeEndQuarter=function(r){var i=t.props,a=i.day,d=i.startDate,g=i.endDate;return!d||!g?!1:mh(Fl(a,r),g)},t.isInSelectingRangeMonth=function(r){var i,a=t.props,d=a.day,g=a.selectsStart,v=a.selectsEnd,x=a.selectsRange,y=a.startDate,E=a.endDate,_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(g||v||x)||!_?!1:g&&E?Yf(_,E,r,d):v&&y||x&&y&&!E?Yf(y,_,r,d):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,d=a.day,g=a.startDate,v=a.selectsStart,x=Bi(d,r),y=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return v?Ur(x,y):Ur(x,g)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,d=a.day,g=a.endDate,v=a.selectsEnd,x=a.selectsRange,y=Bi(d,r),E=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return v||x?Ur(y,E):Ur(y,g)},t.isInSelectingRangeQuarter=function(r){var i,a=t.props,d=a.day,g=a.selectsStart,v=a.selectsEnd,x=a.selectsRange,y=a.startDate,E=a.endDate,_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(g||v||x)||!_?!1:g&&E?Xf(_,E,r,d):v&&y||x&&y&&!E?Xf(y,_,r,d):!1},t.isWeekInMonth=function(r){var i=t.props.day,a=cs(r,6);return Ur(r,i)||Ur(a,i)},t.isCurrentMonth=function(r,i){return mt(r)===mt(Wt())&&i===Rr(Wt())},t.isCurrentQuarter=function(r,i){return mt(r)===mt(Wt())&&i===Jo(Wt())},t.isSelectedMonth=function(r,i,a){return Rr(a)===i&&mt(r)===mt(a)},t.isSelectMonthInList=function(r,i,a){return a.some(function(d){return t.isSelectedMonth(r,i,d)})},t.isSelectedQuarter=function(r,i,a){return Jo(r)===i&&mt(r)===mt(a)},t.isMonthSelected=function(){var r=t.props,i=r.day,a=r.selected,d=r.selectedDates,g=r.selectsMultiple,v=Rr(i);return g?d==null?void 0:d.some(function(x){return t.isSelectedMonth(i,v,x)}):!!a&&t.isSelectedMonth(i,v,a)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,a=0,d=!1,g=ao(fa(t.props.day),t.props.locale,t.props.calendarStartDay),v=function(S){return t.props.showWeekPicker?ao(S,t.props.locale,t.props.calendarStartDay):t.props.preSelection},x=function(S){return t.props.showWeekPicker?ao(S,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?x(t.props.selected):void 0,E=t.props.preSelection?v(t.props.preSelection):void 0;r.push(de.createElement(qP,It({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:g,month:Rr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:E,showWeekNumber:t.props.showWeekNumbers}))),!d;){a++,g=nh(g,1);var _=i&&a>=VP,T=!i&&!t.isWeekInMonth(g);if(_||T)if(t.props.peekNextMonth)d=!0;else break}return r},t.onMonthClick=function(r,i){var a=t.isMonthDisabledForLabelDate(i),d=a.isDisabled,g=a.labelDate;d||t.handleDayClick(fa(g),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),a=i.isDisabled,d=i.labelDate;a||t.handleDayMouseEnter(fa(d))},t.handleMonthNavigation=function(r,i){var a,d,g,v;(d=(a=t.props).setPreSelection)===null||d===void 0||d.call(a,i),(v=(g=t.MONTH_REFS[r])===null||g===void 0?void 0:g.current)===null||v===void 0||v.focus()},t.handleKeyboardNavigation=function(r,i,a){var d,g=t.props,v=g.selected,x=g.preSelection,y=g.setPreSelection,E=g.minDate,_=g.maxDate,T=g.showFourColumnMonthYearPicker,S=g.showTwoColumnMonthYearPicker;if(x){var R=Lb(T,S),O=t.getVerticalOffset(R),I=(d=Q1[R])===null||d===void 0?void 0:d.grid,D=function(P,V,W){var se,ce,ae=V,ne=W;switch(P){case Me.ArrowRight:ae=ds(V,Qf),ne=W===11?0:W+Qf;break;case Me.ArrowLeft:ae=el(V,Qf),ne=W===0?11:W-Qf;break;case Me.ArrowUp:ae=el(V,O),ne=!((se=I==null?void 0:I[0])===null||se===void 0)&&se.includes(W)?W+12-O:W-O;break;case Me.ArrowDown:ae=ds(V,O),ne=!((ce=I==null?void 0:I[I.length-1])===null||ce===void 0)&&ce.includes(W)?W-12+O:W+O;break}return{newCalculatedDate:ae,newCalculatedMonth:ne}},j=function(P,V,W){for(var se=40,ce=P,ae=!1,ne=0,he=D(ce,V,W),ee=he.newCalculatedDate,ve=he.newCalculatedMonth;!ae;){if(ne>=se){ee=V,ve=W;break}if(E&&ee<E){ce=Me.ArrowRight;var ge=D(ce,ee,ve);ee=ge.newCalculatedDate,ve=ge.newCalculatedMonth}if(_&&ee>_){ce=Me.ArrowLeft;var ge=D(ce,ee,ve);ee=ge.newCalculatedDate,ve=ge.newCalculatedMonth}if(IP(ee,t.props)){var ge=D(ce,ee,ve);ee=ge.newCalculatedDate,ve=ge.newCalculatedMonth}else ae=!0;ne++}return{newCalculatedDate:ee,newCalculatedMonth:ve}};if(i===Me.Enter){t.isMonthDisabled(a)||(t.onMonthClick(r,a),y==null||y(v));return}var q=j(i,x,a),Q=q.newCalculatedDate,z=q.newCalculatedMonth;switch(i){case Me.ArrowRight:case Me.ArrowLeft:case Me.ArrowUp:case Me.ArrowDown:t.handleMonthNavigation(z,Q);break}}},t.getVerticalOffset=function(r){var i,a;return(a=(i=Q1[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(r,i){var a=t.props,d=a.disabledKeyboardNavigation,g=a.handleOnMonthKeyDown,v=r.key;v!==Me.Tab&&r.preventDefault(),d||t.handleKeyboardNavigation(r,v,i),g&&g(r)},t.onQuarterClick=function(r,i){var a=Fl(t.props.day,i);$f(a,t.props)||t.handleDayClick(bb(a),r)},t.onQuarterMouseEnter=function(r){var i=Fl(t.props.day,r);$f(i,t.props)||t.handleDayMouseEnter(bb(i))},t.handleQuarterNavigation=function(r,i){var a,d,g,v;t.isDisabled(i)||t.isExcluded(i)||((d=(a=t.props).setPreSelection)===null||d===void 0||d.call(a,i),(v=(g=t.QUARTER_REFS[r-1])===null||g===void 0?void 0:g.current)===null||v===void 0||v.focus())},t.onQuarterKeyDown=function(r,i){var a,d,g=r.key;if(!t.props.disabledKeyboardNavigation)switch(g){case Me.Enter:t.onQuarterClick(r,i),(d=(a=t.props).setPreSelection)===null||d===void 0||d.call(a,t.props.selected);break;case Me.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,Yx(t.props.preSelection,1));break;case Me.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,$E(t.props.preSelection,1));break}},t.isMonthDisabledForLabelDate=function(r){var i,a=t.props,d=a.day,g=a.minDate,v=a.maxDate,x=a.excludeDates,y=a.includeDates,E=Bi(d,r);return{isDisabled:(i=(g||v||x||y)&&bN(E,t.props))!==null&&i!==void 0?i:!1,labelDate:E}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,a=i.day,d=i.startDate,g=i.endDate,v=i.preSelection,x=i.monthClassName,y=x?x(Bi(a,r)):void 0,E=t.getSelection();return yn("react-datepicker__month-text","react-datepicker__month-".concat(r),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":E?t.isSelectMonthInList(a,r,E):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&v&&t.isSelectedMonth(a,r,v)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":d&&g?Yf(d,g,r,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(a,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=Rr(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,d=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return d},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=Jo(t.props.preSelection),a=$f(t.props.day,t.props),d=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return d},t.getAriaLabel=function(r){var i=t.props,a=i.chooseDayAriaLabelPrefix,d=a===void 0?"Choose":a,g=i.disabledDayAriaLabelPrefix,v=g===void 0?"Not available":g,x=i.day,y=i.locale,E=Bi(x,r),_=t.isDisabled(E)||t.isExcluded(E)?v:d;return"".concat(_," ").concat(bn(E,"MMMM yyyy",y))},t.getQuarterClassNames=function(r){var i=t.props,a=i.day,d=i.startDate,g=i.endDate,v=i.selected,x=i.minDate,y=i.maxDate,E=i.excludeDates,_=i.includeDates,T=i.filterDate,S=i.preSelection,R=i.disabledKeyboardNavigation,O=(x||y||E||_||T)&&$f(Fl(a,r),t.props);return yn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":O,"react-datepicker__quarter-text--selected":v?t.isSelectedQuarter(a,r,v):void 0,"react-datepicker__quarter-text--keyboard-selected":!R&&S&&t.isSelectedQuarter(a,r,S)&&!O,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":d&&g?Xf(d,g,r,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(a,r)})},t.getMonthContent=function(r){var i=t.props,a=i.showFullMonthYearPicker,d=i.renderMonthContent,g=i.locale,v=i.day,x=yN(r,g),y=l2(r,g);return d?d(r,x,y,v):a?y:x},t.getQuarterContent=function(r){var i,a=t.props,d=a.renderQuarterContent,g=a.locale,v=DP(r,g);return(i=d==null?void 0:d(r,v))!==null&&i!==void 0?i:v},t.renderMonths=function(){var r,i=t.props,a=i.showTwoColumnMonthYearPicker,d=i.showFourColumnMonthYearPicker,g=i.day,v=i.selected,x=(r=Q1[Lb(d,a)])===null||r===void 0?void 0:r.grid;return x==null?void 0:x.map(function(y,E){return de.createElement("div",{className:"react-datepicker__month-wrapper",key:E},y.map(function(_,T){return de.createElement("div",{ref:t.MONTH_REFS[_],key:T,onClick:function(S){t.onMonthClick(S,_)},onKeyDown:function(S){NN(S)&&(S.preventDefault(),S.key=Me.Enter),t.onMonthKeyDown(S,_)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(_)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(_)}:void 0,tabIndex:Number(t.getTabIndex(_)),className:t.getMonthClassNames(_),"aria-disabled":t.isMonthDisabled(_),role:"option","aria-label":t.getAriaLabel(_),"aria-current":t.isCurrentMonth(g,_)?"date":void 0,"aria-selected":v?t.isSelectedMonth(g,_,v):void 0},t.getMonthContent(_))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,a=r.selected,d=[1,2,3,4];return de.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(g,v){return de.createElement("div",{key:v,ref:t.QUARTER_REFS[v],role:"option",onClick:function(x){t.onQuarterClick(x,g)},onKeyDown:function(x){t.onQuarterKeyDown(x,g)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(g)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(g)}:void 0,className:t.getQuarterClassNames(g),"aria-selected":a?t.isSelectedQuarter(i,g,a):void 0,tabIndex:Number(t.getQuarterTabIndex(g)),"aria-current":t.isCurrentQuarter(i,g)?"date":void 0},t.getQuarterContent(g))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,a=r.selectsStart,d=r.selectsEnd,g=r.showMonthYearPicker,v=r.showQuarterYearPicker,x=r.showWeekPicker;return yn("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||d)},{"react-datepicker__monthPicker":g},{"react-datepicker__quarterPicker":v},{"react-datepicker__weekPicker":x})},t}return n.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(r)return[r]},n.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,d=t.ariaLabelPrefix,g=d===void 0?"Month ":d,v=g?g.trim()+" ":"";return de.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(v).concat(bn(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},n}(M.Component),$P=function(e){fr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return de.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?de.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return n.prototype.render=function(){return de.createElement(sp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(M.Component),GP=function(e){fr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,a){return de.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(r){return de.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return de.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},de.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),de.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return de.createElement($P,It({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,r)];return i&&a.unshift(t.renderDropdown(r)),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return yN(a,t.props.locale)}:function(a){return l2(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return de.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},n}(M.Component);function XP(e,n){for(var t=[],r=fa(e),i=fa(n);!co(r,i);)t.push(Wt(r)),r=ds(r,1);return t}var QP=function(e){fr(n,e);function n(t){var r=e.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var a=wg(i),d=Ss(r.props.date,i)&&Ur(r.props.date,i);return de.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":d?"true":void 0},d?de.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",bn(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:XP(r.props.minDate,r.props.maxDate)},r}return n.prototype.render=function(){var t=yn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return de.createElement(sp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(M.Component),KP=function(e){fr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=fa(t.props.minDate),i=fa(t.props.maxDate),a=[];!co(r,i);){var d=wg(r);a.push(de.createElement("option",{key:d,value:d},bn(r,t.props.dateFormat,t.props.locale))),r=ds(r,1)}return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return de.createElement("select",{value:wg(fa(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=bn(t.props.date,t.props.dateFormat,t.props.locale);return de.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},de.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),de.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return de.createElement(QP,It({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=Wt(r);Ss(t.props.date,i)&&Ur(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return de.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(M.Component),ZP=function(e){fr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(r){var i,a;(t.props.minTime||t.props.maxTime)&&Sb(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&_b(r,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&UP(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&Sb(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&_b(r,t.props)},t.liClasses=function(r){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(ua(r)*3600+da(r)*60+so(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:n.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(r,i){var a,d;r.key===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(r.key===Me.ArrowUp||r.key===Me.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Me.ArrowDown||r.key===Me.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Me.Enter&&t.handleClick(i),(d=(a=t.props).handleOnKeyDown)===null||d===void 0||d.call(a,r)},t.renderTimes=function(){for(var r,i=[],a=typeof t.props.format=="string"?t.props.format:"p",d=(r=t.props.intervals)!==null&&r!==void 0?r:n.defaultProps.intervals,g=t.props.selected||t.props.openToDate||Wt(),v=y0(g),x=t.props.injectTimes&&t.props.injectTimes.sort(function(O,I){return O.getTime()-I.getTime()}),y=60*BP(g),E=y/d,_=0;_<E;_++){var T=mg(v,_*d);if(i.push(T),x){var S=FP(v,T,_,d,x);i=i.concat(S)}}var R=i.reduce(function(O,I){return I.getTime()<=g.getTime()?I:O},i[0]);return i.map(function(O){return de.createElement("li",{key:O.valueOf(),onClick:t.handleClick.bind(t,O),className:t.liClasses(O),ref:function(I){O===R&&(t.centerLi=I)},onKeyDown:function(I){t.handleOnKeyDown(I,O)},tabIndex:O===R?0:-1,role:"option","aria-selected":t.isSelectedTime(O)?"true":void 0,"aria-disabled":t.isDisabledTime(O)?"true":void 0},bn(O,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?de.createElement(de.Fragment,null):de.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},de.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},n.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},n.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},n.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var t=this,r,i=this.state.height;return de.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),de.createElement("div",{className:"react-datepicker__time"},de.createElement("div",{className:"react-datepicker__time-box"},de.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},n}(M.Component),Pb=3,JP=function(e){fr(n,e);function n(t){var r=e.call(this,t)||this;return r.YEAR_REFS=Is([],Array(r.props.yearItemNumber),!0).map(function(){return M.createRef()}),r.isDisabled=function(i){return Wi(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return c2(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var a=function(){var d,g;(g=(d=r.YEAR_REFS[i])===null||d===void 0?void 0:d.current)===null||g===void 0||g.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(i,a){r.props.onDayClick&&r.props.onDayClick(i,a)},r.handleYearNavigation=function(i,a){var d,g,v,x,y=r.props,E=y.date,_=y.yearItemNumber;if(!(E===void 0||_===void 0)){var T=Xa(E,_).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((g=(d=r.props).setPreSelection)===null||g===void 0||g.call(d,a),i-T<0?r.updateFocusOnPaginate(_-(T-i)):i-T>=_?r.updateFocusOnPaginate(Math.abs(_-(i-T))):(x=(v=r.YEAR_REFS[i-T])===null||v===void 0?void 0:v.current)===null||x===void 0||x.focus())}},r.isSameDay=function(i,a){return Dt(i,a)},r.isCurrentYear=function(i){return i===mt(Wt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Ss(_s(Wt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Ss(_s(Wt(),i),r.props.endDate)},r.isInRange=function(i){return Gf(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var a=r.props,d=a.selectsStart,g=a.selectsEnd,v=a.selectsRange,x=a.startDate,y=a.endDate;return!(d||g||v)||!r.selectingDate()?!1:d&&y?Gf(i,r.selectingDate(),y):g&&x||v&&x&&!y?Gf(i,x,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var a;if(!r.isInSelectingRange(i))return!1;var d=r.props,g=d.startDate,v=d.selectsStart,x=_s(Wt(),i);return v?Ss(x,(a=r.selectingDate())!==null&&a!==void 0?a:null):Ss(x,g??null)},r.isSelectingRangeEnd=function(i){var a;if(!r.isInSelectingRange(i))return!1;var d=r.props,g=d.endDate,v=d.selectsEnd,x=d.selectsRange,y=_s(Wt(),i);return v||x?Ss(y,(a=r.selectingDate())!==null&&a!==void 0?a:null):Ss(y,g??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,d=a.minDate,g=a.maxDate,v=a.excludeDates,x=a.includeDates,y=a.filterDate,E=ku(_s(r.props.date,i)),_=(d||g||v||x||y)&&b0(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Dt(E,ku(r.props.selected))&&Dt(E,ku(r.props.preSelection))&&!_}},r.isSelectedYear=function(i){var a=r.props,d=a.selectsMultiple,g=a.selected,v=a.selectedDates;return d?v==null?void 0:v.some(function(x){return i===mt(x)}):!!g&&i===mt(g)},r.onYearClick=function(i,a){var d=r.props.date;d!==void 0&&r.handleYearClick(ku(_s(d,a)),i)},r.onYearKeyDown=function(i,a){var d,g,v=i.key,x=r.props,y=x.date,E=x.yearItemNumber,_=x.handleOnKeyDown;if(v!==Me.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(v){case Me.Enter:if(r.props.selected==null)break;r.onYearClick(i,a),(g=(d=r.props).setPreSelection)===null||g===void 0||g.call(d,r.props.selected);break;case Me.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,la(r.props.preSelection,1));break;case Me.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,yc(r.props.preSelection,1));break;case Me.ArrowUp:{if(y===void 0||E===void 0||r.props.preSelection==null)break;var T=Xa(y,E).startPeriod,S=Pb,R=a-S;if(R<T){var O=E%S;a>=T&&a<T+O?S=O:S+=O,R=a-S}r.handleYearNavigation(R,yc(r.props.preSelection,S));break}case Me.ArrowDown:{if(y===void 0||E===void 0||r.props.preSelection==null)break;var I=Xa(y,E).endPeriod,S=Pb,R=a+S;if(R>I){var O=E%S;a<=I&&a>I-O?S=O:S+=O,R=a+S}r.handleYearNavigation(R,la(r.props.preSelection,S));break}}_&&_(i)},r.getYearClassNames=function(i){var a=r.props,d=a.date,g=a.minDate,v=a.maxDate,x=a.excludeDates,y=a.includeDates,E=a.filterDate,_=a.yearClassName;return yn("react-datepicker__year-text","react-datepicker__year-".concat(i),d?_==null?void 0:_(_s(d,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(g||v||x||y||E)&&b0(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=mt(r.props.preSelection),d=b0(i,r.props);return i===a&&!d?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return n.prototype.render=function(){var t=this,r=[],i=this.props,a=i.date,d=i.yearItemNumber,g=i.onYearMouseEnter,v=i.onYearMouseLeave;if(a===void 0)return null;for(var x=Xa(a,d),y=x.startPeriod,E=x.endPeriod,_=function(R){r.push(de.createElement("div",{ref:T.YEAR_REFS[R-y],onClick:function(O){t.onYearClick(O,R)},onKeyDown:function(O){NN(O)&&(O.preventDefault(),O.key=Me.Enter),t.onYearKeyDown(O,R)},tabIndex:Number(T.getYearTabIndex(R)),className:T.getYearClassNames(R),onMouseEnter:T.props.usePointerEvent?void 0:function(O){return g(O,R)},onPointerEnter:T.props.usePointerEvent?function(O){return g(O,R)}:void 0,onMouseLeave:T.props.usePointerEvent?void 0:function(O){return v(O,R)},onPointerLeave:T.props.usePointerEvent?function(O){return v(O,R)}:void 0,key:R,"aria-current":T.isCurrentYear(R)?"date":void 0},T.getYearContent(R)))},T=this,S=y;S<=E;S++)_(S);return de.createElement("div",{className:"react-datepicker__year"},de.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},n}(M.Component);function eF(e,n,t,r){for(var i=[],a=0;a<2*n+1;a++){var d=e+n-a,g=!0;t&&(g=mt(t)<=d),r&&g&&(g=mt(r)>=d),g&&i.push(d)}return i}var tF=function(e){fr(n,e);function n(t){var r=e.call(this,t)||this;r.renderOptions=function(){var g=r.props.year,v=r.state.yearsList.map(function(E){return de.createElement("div",{className:g===E?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:E,onClick:r.onChange.bind(r,E),"aria-selected":g===E?"true":void 0},g===E?de.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",E)}),x=r.props.minDate?mt(r.props.minDate):null,y=r.props.maxDate?mt(r.props.maxDate):null;return(!y||!r.state.yearsList.find(function(E){return E===y}))&&v.unshift(de.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},de.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!x||!r.state.yearsList.find(function(E){return E===x}))&&v.push(de.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},de.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),v},r.onChange=function(g){r.props.onChange(g)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(g){var v=r.state.yearsList.map(function(x){return x+g});r.setState({yearsList:v})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,d=i||(a?10:5);return r.state={yearsList:eF(r.props.year,d,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return n.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},n.prototype.render=function(){var t=yn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return de.createElement(sp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(M.Component),nF=function(e){fr(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?mt(t.props.minDate):1900,i=t.props.maxDate?mt(t.props.maxDate):2100,a=[],d=r;d<=i;d++)a.push(de.createElement("option",{key:d,value:d},d));return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return de.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return de.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},de.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),de.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return de.createElement(tF,It({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var a,d;(d=(a=t.props).onSelect)===null||d===void 0||d.call(a,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return de.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(M.Component),rF=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],iF=function(e){var n=(e.className||"").split(/\s+/);return rF.some(function(t){return n.indexOf(t)>=0})},sF=function(e){fr(n,e);function n(t){var r=e.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var a,d;iF(i.target)&&((d=(a=r.props).onDropdownFocus)===null||d===void 0||d.call(a,i))},r.getDateInView=function(){var i=r.props,a=i.preSelection,d=i.selected,g=i.openToDate,v=CN(r.props),x=EN(r.props),y=Wt(),E=g||d||a;return E||(v&&ul(y,v)?v:x&&co(y,x)?x:y)},r.increaseMonth=function(){r.setState(function(i){var a=i.date;return{date:ds(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var a=i.date;return{date:el(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,a,d){r.props.onSelect(i,a,d),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,a){r.setState({selectingDate:_s(Wt(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,a)},r.handleYearMouseLeave=function(i,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,a)},r.handleYearChange=function(i){var a,d,g,v;(d=(a=r.props).onYearChange)===null||d===void 0||d.call(a,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(v=(g=r.props).setOpen)===null||v===void 0||v.call(g,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Wi(i,r.props))return i;for(var a=fa(i),d=SP(i),g=mO(d,a),v=null,x=0;x<=g;x++){var y=cs(a,x);if(!Wi(y,r.props)){v=y;break}}return v},r.handleMonthChange=function(i){var a,d,g,v=(a=r.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;r.handleCustomMonthChange(v),r.props.adjustDateOnChange&&(r.props.onSelect(v),(g=(d=r.props).setOpen)===null||g===void 0||g.call(d,!0)),r.props.setPreSelection&&r.props.setPreSelection(v)},r.handleCustomMonthChange=function(i){var a,d;(d=(a=r.props).onMonthChange)===null||d===void 0||d.call(a,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(a){var d=a.date;return{date:_s(d,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(a){var d=a.date;return{date:Bi(d,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(a){var d=a.date;return{date:_s(Bi(d,Rr(i)),mt(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var a=ao(i,r.props.locale,r.props.calendarStartDay),d=[];return r.props.showWeekNumbers&&d.push(de.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(g){var v=cs(a,g),x=r.formatWeekday(v,r.props.locale),y=r.props.weekDayClassName?r.props.weekDayClassName(v):void 0;return de.createElement("div",{key:g,"aria-label":bn(v,"EEEE",r.props.locale),className:yn("react-datepicker__day-name",y)},x)}))},r.formatWeekday=function(i,a){return r.props.formatWeekDay?AP(i,r.props.formatWeekDay,a):r.props.useWeekdaysShort?kP(i,a):TP(i,a)},r.decreaseYear=function(){r.setState(function(i){var a,d=i.date;return{date:yc(d,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,a,d;if(!r.props.renderCustomHeader){var g=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,v=r.props.showPreviousMonths?g-1:0,x=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:v,y=el(r.state.date,x),E;switch(!0){case r.props.showMonthYearPicker:E=kb(r.state.date,r.props);break;case r.props.showYearPicker:E=OP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:E=RP(r.state.date,r.props);break;default:E=Ab(y,r.props);break}if(!(!((d=r.props.forceShowMonthNavigation)!==null&&d!==void 0?d:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&E||r.props.showTimeSelectOnly)){var _=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],T=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(S=r.decreaseYear),E&&r.props.showDisabledMonthNavigation&&(T.push("react-datepicker__navigation--previous--disabled"),S=void 0);var R=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,O=r.props,I=O.previousMonthButtonLabel,D=I===void 0?n.defaultProps.previousMonthButtonLabel:I,j=O.previousYearButtonLabel,q=j===void 0?n.defaultProps.previousYearButtonLabel:j,Q=r.props,z=Q.previousMonthAriaLabel,P=z===void 0?typeof D=="string"?D:"Previous Month":z,V=Q.previousYearAriaLabel,W=V===void 0?typeof q=="string"?q:"Previous Year":V;return de.createElement("button",{type:"button",className:T.join(" "),onClick:S,onKeyDown:r.props.handleOnKeyDown,"aria-label":R?W:P},de.createElement("span",{className:_.join(" ")},R?q:D))}}},r.increaseYear=function(){r.setState(function(i){var a,d=i.date;return{date:la(d,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=Db(r.state.date,r.props);break;case r.props.showYearPicker:a=MP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=jP(r.state.date,r.props);break;default:a=Tb(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var v=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(v=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),v=void 0);var x=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,y=r.props,E=y.nextMonthButtonLabel,_=E===void 0?n.defaultProps.nextMonthButtonLabel:E,T=y.nextYearButtonLabel,S=T===void 0?n.defaultProps.nextYearButtonLabel:T,R=r.props,O=R.nextMonthAriaLabel,I=O===void 0?typeof _=="string"?_:"Next Month":O,D=R.nextYearAriaLabel,j=D===void 0?typeof S=="string"?S:"Next Year":D;return de.createElement("button",{type:"button",className:d.join(" "),onClick:v,onKeyDown:r.props.handleOnKeyDown,"aria-label":x?j:I},de.createElement("span",{className:g.join(" ")},x?S:_))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),de.createElement("h2",{className:a.join(" ")},bn(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return de.createElement(nF,It({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:mt(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return de.createElement(GP,It({},n.defaultProps,r.props,{month:Rr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return de.createElement(KP,It({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(Cb(),i),r.props.setPreSelection&&r.props.setPreSelection(Cb())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return de.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var a=i.monthDate,d=i.i;return de.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),de.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(d!==0),r.renderMonthYearDropdown(d!==0),r.renderYearDropdown(d!==0)),de.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(i){var a,d,g=i.monthDate,v=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var x=Ab(r.state.date,r.props),y=Tb(r.state.date,r.props),E=kb(r.state.date,r.props),_=Db(r.state.date,r.props),T=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return de.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(d=(a=r.props).renderCustomHeader)===null||d===void 0?void 0:d.call(a,It(It({},r.state),{customHeaderCount:v,monthDate:g,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:x,nextMonthButtonDisabled:y,prevYearButtonDisabled:E,nextYearButtonDisabled:_})),T&&de.createElement("div",{className:"react-datepicker__day-names"},r.header(g)))},r.renderYearHeader=function(i){var a=i.monthDate,d=r.props,g=d.showYearPicker,v=d.yearItemNumber,x=v===void 0?n.defaultProps.yearItemNumber:v,y=Xa(a,x),E=y.startPeriod,_=y.endPeriod;return de.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},g?"".concat(E," - ").concat(_):mt(a))},r.renderHeader=function(i){var a=i.monthDate,d=i.i,g=d===void 0?0:d,v={monthDate:a,i:g};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(v);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(v);default:return r.renderDefaultHeader(v)}},r.renderMonths=function(){var i,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var d=[],g=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,v=r.props.showPreviousMonths?g-1:0,x=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?la(r.state.date,v):el(r.state.date,v),y=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:v,E=0;E<g;++E){var _=E-y+v,T=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?la(x,_):ds(x,_),S="month-".concat(E),R=E<g-1,O=E>0;d.push(de.createElement("div",{key:S,ref:function(I){r.monthContainer=I??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:T,i:E}),de.createElement(YP,It({},n.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:T,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:E,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:R,monthShowsDuplicateDaysStart:O}))))}return d}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return de.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),de.createElement(JP,It({},n.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return de.createElement(ZP,It({},n.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,a=i&&ap(i)&&!!r.props.selected,d=a?"".concat(Rb(i.getHours()),":").concat(Rb(i.getMinutes())):"";if(r.props.showTimeInput)return de.createElement(zP,It({},n.defaultProps,r.props,{date:i,timeString:d,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,a=Xa(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:n.defaultProps.yearItemNumber),d=a.startPeriod,g=a.endPeriod,v;return r.props.showYearPicker?v="".concat(d," - ").concat(g):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?v=mt(r.state.date):v="".concat(l2(Rr(r.state.date),r.props.locale)," ").concat(mt(r.state.date)),de.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&v)},r.renderChildren=function(){if(r.props.children)return de.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=M.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Nd}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},n.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!Dt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Ur(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Dt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var t=this.props.container||wP;return de.createElement(sp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},de.createElement("div",{style:{display:"contents"},ref:this.containerRef},de.createElement(t,{className:yn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},n}(M.Component),aF=function(e){var n=e.icon,t=e.className,r=t===void 0?"":t,i=e.onClick,a="react-datepicker__calendar-icon";if(typeof n=="string")return de.createElement("i",{className:"".concat(a," ").concat(n," ").concat(r),"aria-hidden":"true",onClick:i});if(de.isValidElement(n)){var d=n;return de.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(a," ").concat(r),onClick:function(g){typeof d.props.onClick=="function"&&d.props.onClick(g),typeof i=="function"&&i(g)}})}return de.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},de.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},_N=function(e){fr(n,e);function n(t){var r=e.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return ID.createPortal(this.props.children,this.el)},n}(M.Component),oF="[tabindex], a, button, input, select, textarea",lF=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},SN=function(e){fr(n,e);function n(t){var r=e.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(oF),1,-1).filter(lF)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=M.createRef(),r}return n.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:n.defaultProps.enableTabLoop)?de.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},de.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,de.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(M.Component);function cF(e){var n=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=M.useRef(null),d=vP(It({open:!i,whileElementsMounted:ZL,placement:t.popperPlacement,middleware:Is([sP({padding:15}),iP(10),aP({element:a})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),g=It(It({},t),{hidePopper:i,popperProps:It(It({},d),{arrowRef:a})});return de.createElement(e,It({},g))};return n}var uF=function(e){fr(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(n,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,a=t.hidePopper,d=a===void 0?n.defaultProps.hidePopper:a,g=t.popperComponent,v=t.targetComponent,x=t.enableTabLoop,y=t.popperOnKeyDown,E=t.portalId,_=t.portalHost,T=t.popperProps,S=t.showArrow,R=void 0;if(!d){var O=yn("react-datepicker-popper",r);R=de.createElement(SN,{enableTabLoop:x},de.createElement("div",{ref:T.refs.setFloating,style:T.floatingStyles,className:O,"data-placement":T.placement,onKeyDown:y},g,S&&de.createElement(dP,{ref:T.arrowRef,context:T.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(R=M.createElement(this.props.popperContainer,{},R)),E&&!d&&(R=de.createElement(_N,{portalId:E,portalHost:_},R));var I=yn("react-datepicker-wrapper",i);return de.createElement(de.Fragment,null,de.createElement("div",{ref:T.refs.setReference,className:I},v),R)},n}(M.Component),dF=cF(uF),Fb="react-datepicker-ignore-onclickoutside";function fF(e,n){return e&&n?Rr(e)!==Rr(n)||mt(e)!==mt(n):e!==n}var K1="Date input not valid.",AN=function(e){fr(n,e);function n(t){var r=e.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Wt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,d){var g=new Date(d.date);return ap(g)?Is(Is([],a,!0),[It(It({},d),{date:g})],!1):a},[])},r.calcInitialState=function(){var i,a=r.getPreSelection(),d=CN(r.props),g=EN(r.props),v=d&&ul(a,y0(d))?d:g&&co(a,Eb(g))?g:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:v,highlightDates:Ib(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(It(It({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(It(It({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},r.setBlur=function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,a){a===void 0&&(a=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Z1},function(){i||r.setState(function(d){return{focused:a?d.focused:!1}},function(){!a&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return ca(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var a,d,g=r.state.wasHidden,v=g?r.state.open:!0;g&&r.resetHiddenStatus(),r.state.preventFocus||((d=(a=r.props).onFocus)===null||d===void 0||d.call(a,i),v&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var a,d;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((d=(a=r.props).onBlur)===null||d===void 0||d.call(a,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var a,d;r.props.inline||r.setOpen(!1),(d=(a=r.props).onClickOutside)===null||d===void 0||d.call(a,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,a,d,g,v,x=[],y=0;y<arguments.length;y++)x[y]=arguments[y];var E=x[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,x),!E||typeof E.isDefaultPrevented!="function"||E.isDefaultPrevented()))){r.setState({inputValue:(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:null,lastPreSelectChange:hF});var _=r.props,T=_.selectsRange,S=_.startDate,R=_.endDate,O=(i=r.props.dateFormat)!==null&&i!==void 0?i:n.defaultProps.dateFormat,I=(a=r.props.strictParsing)!==null&&a!==void 0?a:n.defaultProps.strictParsing,D=(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:"";if(T){var j=D.split(O.includes("-")?wN:"-",2).map(function(ce){return ce.trim()}),q=j[0],Q=j[1],z=G1(q??"",O,r.props.locale,I),P=G1(Q??"",O,r.props.locale,I),V=(S==null?void 0:S.getTime())!==(z==null?void 0:z.getTime()),W=(R==null?void 0:R.getTime())!==(P==null?void 0:P.getTime());if(!V&&!W||z&&Wi(z,r.props)||P&&Wi(P,r.props))return;(g=(d=r.props).onChange)===null||g===void 0||g.call(d,[z,P],E)}else{var se=G1(D,O,r.props.locale,I,(v=r.props.selected)!==null&&v!==void 0?v:void 0);(se||!D)&&r.setSelected(se,E,!0)}}},r.handleSelect=function(i,a,d){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(i,a,!1,d),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var g=r.props,v=g.startDate,x=g.endDate;v&&!x&&(r.props.swapRange||!Mb(i,v))&&r.setOpen(!1)}}},r.setSelected=function(i,a,d,g){var v,x,y=i;if(r.props.showYearPicker){if(y!==null&&b0(mt(y),r.props))return}else if(r.props.showMonthYearPicker){if(y!==null&&bN(y,r.props))return}else if(y!==null&&Wi(y,r.props))return;var E=r.props,_=E.onChange,T=E.selectsRange,S=E.startDate,R=E.endDate,O=E.selectsMultiple,I=E.selectedDates,D=E.minTime,j=E.swapRange;if(!Xo(r.props.selected,y)||r.props.allowSameDay||T||O)if(y!==null&&(r.props.selected&&(!d||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(y=X1(y,{hour:ua(r.props.selected),minute:da(r.props.selected),second:so(r.props.selected)})),!d&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&D&&(y=X1(y,{hour:D.getHours(),minute:D.getMinutes(),second:D.getSeconds()})),r.props.inline||r.setState({preSelection:y}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:g})),T){var q=!S&&!R,Q=S&&!R,z=S&&R;q?_==null||_([y,null],a):Q&&(y===null?_==null||_([null,null],a):Mb(y,S)?j?_==null||_([y,S],a):_==null||_([y,null],a):_==null||_([S,y],a)),z&&(_==null||_([y,null],a))}else if(O){if(y!==null)if(!(I!=null&&I.length))_==null||_([y],a);else{var P=I.some(function(W){return Dt(W,y)});if(P){var V=I.filter(function(W){return!Dt(W,y)});_==null||_(V,a)}else _==null||_(Is(Is([],I,!0),[y],!1),a)}}else _==null||_(y,a);d||((x=(v=r.props).onSelect)===null||x===void 0||x.call(v,y,a),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var a=ca(r.props.minDate),d=ca(r.props.maxDate),g=!0;if(i){var v=y0(i);if(a&&d)g=Du(i,r.props.minDate,r.props.maxDate);else if(a){var x=y0(r.props.minDate);g=co(i,x)||Xo(v,x)}else if(d){var y=Eb(r.props.maxDate);g=ul(i,y)||Xo(v,y)}}g&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var a,d;if(!(r.props.selectsRange||r.props.selectsMultiple)){var g=r.props.selected?r.props.selected:r.getPreSelection(),v=r.props.selected?i:X1(g,{hour:ua(i),minute:da(i)});r.setState({preSelection:v}),(d=(a=r.props).onChange)===null||d===void 0||d.call(a,v),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(i=r.props).onInputClick)===null||a===void 0||a.call(i)},r.onInputKeyDown=function(i){var a,d,g,v,x,y;(d=(a=r.props).onKeyDown)===null||d===void 0||d.call(a,i);var E=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(E===Me.ArrowDown||E===Me.ArrowUp||E===Me.Enter)&&((g=r.onInputClick)===null||g===void 0||g.call(r));return}if(r.state.open){if(E===Me.ArrowDown||E===Me.ArrowUp){i.preventDefault();var _=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',T=((v=r.calendar)===null||v===void 0?void 0:v.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(_);T instanceof HTMLElement&&T.focus({preventScroll:!0});return}var S=Wt(r.state.preSelection);E===Me.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Z1?(r.handleSelect(S,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(S)):r.setOpen(!1)):E===Me.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):E===Me.Tab&&r.setOpen(!1),r.inputOk()||(y=(x=r.props).onInputError)===null||y===void 0||y.call(x,{code:1,msg:K1})}},r.onPortalKeyDown=function(i){var a=i.key;a===Me.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var a,d,g,v,x,y,E=r.props,_=E.minDate,T=E.maxDate,S=E.disabledKeyboardNavigation,R=E.showWeekPicker,O=E.shouldCloseOnSelect,I=E.locale,D=E.calendarStartDay,j=E.adjustDateOnChange,q=E.inline;if((d=(a=r.props).onKeyDown)===null||d===void 0||d.call(a,i),!S){var Q=i.key,z=i.shiftKey,P=Wt(r.state.preSelection),V=function(ee,ve){var ge=ve;switch(ee){case Me.ArrowRight:ge=R?nh(ve,1):cs(ve,1);break;case Me.ArrowLeft:ge=R?nb(ve,1):w9(ve,1);break;case Me.ArrowUp:ge=nb(ve,1);break;case Me.ArrowDown:ge=nh(ve,1);break;case Me.PageUp:ge=z?yc(ve,1):el(ve,1);break;case Me.PageDown:ge=z?la(ve,1):ds(ve,1);break;case Me.Home:ge=ao(ve,I,D);break;case Me.End:ge=_P(ve);break}return ge},W=function(ee,ve){for(var ge=40,ue=ee,_e=!1,Ie=0,qe=V(ee,ve);!_e;){if(Ie>=ge){qe=ve;break}_&&qe<_&&(ue=Me.ArrowRight,qe=Wi(_,r.props)?V(ue,qe):_),T&&qe>T&&(ue=Me.ArrowLeft,qe=Wi(T,r.props)?V(ue,qe):T),Wi(qe,r.props)?((ue===Me.PageUp||ue===Me.Home)&&(ue=Me.ArrowRight),(ue===Me.PageDown||ue===Me.End)&&(ue=Me.ArrowLeft),qe=V(ue,qe)):_e=!0,Ie++}return qe};if(Q===Me.Enter){i.preventDefault(),r.handleSelect(P,i),!O&&r.setPreSelection(P);return}else if(Q===Me.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(v=(g=r.props).onInputError)===null||v===void 0||v.call(g,{code:1,msg:K1});return}var se=null;switch(Q){case Me.ArrowLeft:case Me.ArrowRight:case Me.ArrowUp:case Me.ArrowDown:case Me.PageUp:case Me.PageDown:case Me.Home:case Me.End:se=W(Q,P);break}if(!se){(y=(x=r.props).onInputError)===null||y===void 0||y.call(x,{code:1,msg:K1});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Z1}),j&&r.setSelected(se),r.setPreSelection(se),q){var ce=Rr(P),ae=Rr(se),ne=mt(P),he=mt(se);ce!==ae||ne!==he?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var a=i.key;a===Me.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var a=r.props,d=a.selectsRange,g=a.onChange;d?g==null||g([null,null],i):g==null||g(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,a;return!r.props.inline&&!r.isCalendarOpen()?null:de.createElement(sF,It({showMonthYearDropdown:void 0,ref:function(d){r.calendar=d}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:n.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:PP(r.modifyHolidays()),outsideClickIgnoreClass:Fb,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:n.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,a=i.dateFormat,d=a===void 0?n.defaultProps.dateFormat:a,g=i.locale,v=r.props.showTimeInput||r.props.showTimeSelect,x=v?"PPPPp":"PPPP",y;return r.props.selectsRange?y="Selected start date: ".concat(Fi(r.props.startDate,{dateFormat:x,locale:g}),". ").concat(r.props.endDate?"End date: "+Fi(r.props.endDate,{dateFormat:x,locale:g}):""):r.props.showTimeSelectOnly?y="Selected time: ".concat(Fi(r.props.selected,{dateFormat:d,locale:g})):r.props.showYearPicker?y="Selected year: ".concat(Fi(r.props.selected,{dateFormat:"yyyy",locale:g})):r.props.showMonthYearPicker?y="Selected month: ".concat(Fi(r.props.selected,{dateFormat:"MMMM yyyy",locale:g})):r.props.showQuarterYearPicker?y="Selected quarter: ".concat(Fi(r.props.selected,{dateFormat:"yyyy, QQQ",locale:g})):y="Selected date: ".concat(Fi(r.props.selected,{dateFormat:x,locale:g})),de.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},y)},r.renderDateInput=function(){var i,a,d,g=yn(r.props.className,(i={},i[Fb]=r.state.open,i)),v=r.props.customInput||de.createElement("input",{type:"text"}),x=r.props.customInputRef||"ref",y=r.props,E=y.dateFormat,_=E===void 0?n.defaultProps.dateFormat:E,T=y.locale,S=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?bP(r.props.startDate,r.props.endDate,{dateFormat:_,locale:T}):r.props.selectsMultiple?CP((d=r.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:_,locale:T}):Fi(r.props.selected,{dateFormat:_,locale:T});return M.cloneElement(v,(a={},a[x]=function(R){r.input=R},a.value=S,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=yn(v.props.className,g),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var i=r.props,a=i.isClearable,d=i.disabled,g=i.selected,v=i.startDate,x=i.endDate,y=i.clearButtonTitle,E=i.clearButtonClassName,_=E===void 0?"":E,T=i.ariaLabelClose,S=T===void 0?"Close":T,R=i.selectedDates,O=i.readOnly;return a&&!O&&(g!=null||v!=null||x!=null||R!=null&&R.length)?de.createElement("button",{type:"button",className:yn("react-datepicker__close-icon",_,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":S,onClick:r.onClearClick,title:y,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Nd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(t,r){var i,a,d,g;t.inline&&fF(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Ib(this.props.highlightDates)}),!r.focused&&!Xo(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),r.open===!0&&this.state.open===!1&&((g=(d=this.props).onCalendarClose)===null||g===void 0||g.call(d)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,a=t.calendarIconClassname,d=t.calendarIconClassName,g=t.toggleCalendarOnIconClick,v=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),de.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&de.createElement(aF,It({icon:i,className:yn(d,!d&&a,v&&"react-datepicker-ignore-onclickoutside")},g?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?de.createElement(SN,{enableTabLoop:this.props.enableTabLoop},de.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=de.createElement(_N,It({portalId:this.props.portalId},this.props),r)),de.createElement("div",null,this.renderInputContainer(),r)}return de.createElement(dF,It({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(M.Component),hF="input",Z1="navigate";var gh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */gh.exports;(function(e,n){(function(){var t,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",g="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",x=500,y="__lodash_placeholder__",E=1,_=2,T=4,S=1,R=2,O=1,I=2,D=4,j=8,q=16,Q=32,z=64,P=128,V=256,W=512,se=30,ce="...",ae=800,ne=16,he=1,ee=2,ve=3,ge=1/0,ue=9007199254740991,_e=17976931348623157e292,Ie=0/0,qe=4294967295,nt=qe-1,fn=qe>>>1,ft=[["ary",P],["bind",O],["bindKey",I],["curry",j],["curryRight",q],["flip",W],["partial",Q],["partialRight",z],["rearg",V]],hn="[object Arguments]",De="[object Array]",je="[object AsyncFunction]",We="[object Boolean]",qt="[object Date]",Ln="[object DOMException]",Vt="[object Error]",pn="[object Function]",Se="[object GeneratorFunction]",Ye="[object Map]",jt="[object Number]",yr="[object Null]",yt="[object Object]",Nt="[object Promise]",ot="[object Proxy]",Re="[object RegExp]",Ee="[object Set]",Pn="[object String]",hr="[object Symbol]",ke="[object Undefined]",Ge="[object WeakMap]",At="[object WeakSet]",en="[object ArrayBuffer]",Yt="[object DataView]",on="[object Float32Array]",si="[object Float64Array]",_i="[object Int8Array]",Fs="[object Int16Array]",Jt="[object Int32Array]",Te="[object Uint8Array]",tn="[object Uint8ClampedArray]",_t="[object Uint16Array]",Ut="[object Uint32Array]",Gi=/\b__p \+= '';/g,vo=/\b(__p \+=) '' \+/g,Td=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tt=/&(?:amp|lt|gt|quot|#39);/g,ms=/[&<>"']/g,kd=RegExp(Tt.source),Dd=RegExp(ms.source),ai=/<%-([\s\S]+?)%>/g,Lc=/<%([\s\S]+?)%>/g,Kn=/<%=([\s\S]+?)%>/g,Ca=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xl=/^\w*$/,Si=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pc=/[\\^$.*+?()[\]{}|]/g,Bs=RegExp(Pc.source),wo=/^\s+/,br=/\s/,Us=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$r=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,Ea=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fc=/[()=,{}\[\]\/\s]/,Cr=/\\(\\)?/g,Na=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yo=/\w*$/,vl=/^[-+]0x[0-9a-f]+$/i,Ai=/^0b[01]+$/i,lp=/^\[object .+?Constructor\]$/,cp=/^0o[0-7]+$/i,Ti=/^(?:0|[1-9]\d*)$/,pr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$t=/($^)/,Id=/['\n\r\u2028\u2029\\]/g,oi="\\ud800-\\udfff",Bc="\\u0300-\\u036f",Ce="\\ufe20-\\ufe2f",up="\\u20d0-\\u20ff",ln=Bc+Ce+up,zs="\\u2700-\\u27bf",Rd="a-z\\xdf-\\xf6\\xf8-\\xff",Ot="\\xac\\xb1\\xd7\\xf7",kt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",gt="\\u2000-\\u206f",Uc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wl="A-Z\\xc0-\\xd6\\xd8-\\xde",yl="\\ufe0e\\ufe0f",Tn=Ot+kt+gt+Uc,ki="['’]",dp="["+oi+"]",mn="["+Tn+"]",li="["+ln+"]",jd="\\d+",_a="["+zs+"]",Gt="["+Rd+"]",Zn="[^"+oi+Tn+jd+zs+Rd+wl+"]",le="\\ud83c[\\udffb-\\udfff]",K="(?:"+li+"|"+le+")",$e="[^"+oi+"]",kn="(?:\\ud83c[\\udde6-\\uddff]){2}",Er="[\\ud800-\\udbff][\\udc00-\\udfff]",Sa="["+wl+"]",bl="\\u200d",Or="(?:"+Gt+"|"+Zn+")",Xe="(?:"+Sa+"|"+Zn+")",sn="(?:"+ki+"(?:d|ll|m|re|s|t|ve))?",zc="(?:"+ki+"(?:D|LL|M|RE|S|T|VE))?",Od=K+"?",Cl="["+yl+"]?",El="(?:"+bl+"(?:"+[$e,kn,Er].join("|")+")"+Cl+Od+")*",Wc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fn=Cl+Od+El,bo="(?:"+[_a,kn,Er].join("|")+")"+Fn,gs="(?:"+[$e+li+"?",li,kn,Er,dp].join("|")+")",Ke=RegExp(ki,"g"),hp=RegExp(li,"g"),at=RegExp(le+"(?="+le+")|"+gs+Fn,"g"),Jn=RegExp([Sa+"?"+Gt+"+"+sn+"(?="+[mn,Sa,"$"].join("|")+")",Xe+"+"+zc+"(?="+[mn,Sa+Or,"$"].join("|")+")",Sa+"?"+Or+"+"+sn,Sa+"+"+zc,fp,Wc,jd,bo].join("|"),"g"),pp=RegExp("["+bl+oi+ln+yl+"]"),Hc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Md=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ws=-1,nn={};nn[on]=nn[si]=nn[_i]=nn[Fs]=nn[Jt]=nn[Te]=nn[tn]=nn[_t]=nn[Ut]=!0,nn[hn]=nn[De]=nn[en]=nn[We]=nn[Yt]=nn[qt]=nn[Vt]=nn[pn]=nn[Ye]=nn[jt]=nn[yt]=nn[Re]=nn[Ee]=nn[Pn]=nn[Ge]=!1;var Mt={};Mt[hn]=Mt[De]=Mt[en]=Mt[Yt]=Mt[We]=Mt[qt]=Mt[on]=Mt[si]=Mt[_i]=Mt[Fs]=Mt[Jt]=Mt[Ye]=Mt[jt]=Mt[yt]=Mt[Re]=Mt[Ee]=Mt[Pn]=Mt[hr]=Mt[Te]=Mt[tn]=Mt[_t]=Mt[Ut]=!0,Mt[Vt]=Mt[pn]=Mt[Ge]=!1;var Co={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Eo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ld={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},No={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_o=parseFloat,Nr=parseInt,qc=typeof As=="object"&&As&&As.Object===Object&&As,Pd=typeof self=="object"&&self&&self.Object===Object&&self,Yn=qc||Pd||Function("return this")(),Vc=n&&!n.nodeType&&n,Hs=Vc&&!0&&e&&!e.nodeType&&e,Fd=Hs&&Hs.exports===Vc,Lt=Fd&&qc.process,Mr=function(){try{var U=Hs&&Hs.require&&Hs.require("util").types;return U||Lt&&Lt.binding&&Lt.binding("util")}catch{}}(),So=Mr&&Mr.isArrayBuffer,Xi=Mr&&Mr.isDate,Bd=Mr&&Mr.isMap,fe=Mr&&Mr.isRegExp,ct=Mr&&Mr.isSet,$n=Mr&&Mr.isTypedArray;function sr(U,$,X){switch(X.length){case 0:return U.call($);case 1:return U.call($,X[0]);case 2:return U.call($,X[0],X[1]);case 3:return U.call($,X[0],X[1],X[2])}return U.apply($,X)}function Ud(U,$,X,te){for(var pe=-1,xe=U==null?0:U.length;++pe<xe;){var we=U[pe];$(te,we,X(we),U)}return te}function Gr(U,$){for(var X=-1,te=U==null?0:U.length;++X<te&&$(U[X],X,U)!==!1;);return U}function mp(U,$){for(var X=U==null?0:U.length;X--&&$(U[X],X,U)!==!1;);return U}function zd(U,$){for(var X=-1,te=U==null?0:U.length;++X<te;)if(!$(U[X],X,U))return!1;return!0}function Di(U,$){for(var X=-1,te=U==null?0:U.length,pe=0,xe=[];++X<te;){var we=U[X];$(we,X,U)&&(xe[pe++]=we)}return xe}function gn(U,$){var X=U==null?0:U.length;return!!X&&mr(U,$,0)>-1}function Ao(U,$,X){for(var te=-1,pe=U==null?0:U.length;++te<pe;)if(X($,U[te]))return!0;return!1}function it(U,$){for(var X=-1,te=U==null?0:U.length,pe=Array(te);++X<te;)pe[X]=$(U[X],X,U);return pe}function ci(U,$){for(var X=-1,te=$.length,pe=U.length;++X<te;)U[pe+X]=$[X];return U}function Qi(U,$,X,te){var pe=-1,xe=U==null?0:U.length;for(te&&xe&&(X=U[++pe]);++pe<xe;)X=$(X,U[pe],pe,U);return X}function Xt(U,$,X,te){var pe=U==null?0:U.length;for(te&&pe&&(X=U[--pe]);pe--;)X=$(X,U[pe],pe,U);return X}function Qe(U,$){for(var X=-1,te=U==null?0:U.length;++X<te;)if($(U[X],X,U))return!0;return!1}var gp=Sl("length");function rn(U){return U.split("")}function qs(U){return U.match(Ea)||[]}function Vs(U,$,X){var te;return X(U,function(pe,xe,we){if($(pe,xe,we))return te=xe,!1}),te}function Nl(U,$,X,te){for(var pe=U.length,xe=X+(te?1:-1);te?xe--:++xe<pe;)if($(U[xe],xe,U))return xe;return-1}function mr(U,$,X){return $===$?l(U,$,X):Nl(U,$c,X)}function Yc(U,$,X,te){for(var pe=X-1,xe=U.length;++pe<xe;)if(te(U[pe],$))return pe;return-1}function $c(U){return U!==U}function _l(U,$){var X=U==null?0:U.length;return X?To(U,$)/X:Ie}function Sl(U){return function($){return $==null?t:$[U]}}function Al(U){return function($){return U==null?t:U[$]}}function Wd(U,$,X,te,pe){return pe(U,function(xe,we,He){X=te?(te=!1,xe):$(X,xe,we,He)}),X}function Aa(U,$){var X=U.length;for(U.sort($);X--;)U[X]=U[X].value;return U}function To(U,$){for(var X,te=-1,pe=U.length;++te<pe;){var xe=$(U[te]);xe!==t&&(X=X===t?xe:X+xe)}return X}function Gc(U,$){for(var X=-1,te=Array(U);++X<U;)te[X]=$(X);return te}function ko(U,$){return it($,function(X){return[X,U[X]]})}function Hd(U){return U&&U.slice(0,w(U)+1).replace(wo,"")}function Dn(U){return function($){return U($)}}function Ta(U,$){return it($,function(X){return U[X]})}function ar(U,$){return U.has($)}function Xc(U,$){for(var X=-1,te=U.length;++X<te&&mr($,U[X],0)>-1;);return X}function ui(U,$){for(var X=U.length;X--&&mr($,U[X],0)>-1;);return X}function xp(U,$){for(var X=U.length,te=0;X--;)U[X]===$&&++te;return te}var Qc=Al(Co),vp=Al(Eo);function qd(U){return"\\"+No[U]}function Ii(U,$){return U==null?t:U[$]}function ka(U){return pp.test(U)}function Kc(U){return Hc.test(U)}function Do(U){for(var $,X=[];!($=U.next()).done;)X.push($.value);return X}function xt(U){var $=-1,X=Array(U.size);return U.forEach(function(te,pe){X[++$]=[pe,te]}),X}function Io(U,$){return function(X){return U($(X))}}function L(U,$){for(var X=-1,te=U.length,pe=0,xe=[];++X<te;){var we=U[X];(we===$||we===y)&&(U[X]=y,xe[pe++]=X)}return xe}function s(U){var $=-1,X=Array(U.size);return U.forEach(function(te){X[++$]=te}),X}function o(U){var $=-1,X=Array(U.size);return U.forEach(function(te){X[++$]=[te,te]}),X}function l(U,$,X){for(var te=X-1,pe=U.length;++te<pe;)if(U[te]===$)return te;return-1}function f(U,$,X){for(var te=X+1;te--;)if(U[te]===$)return te;return te}function h(U){return ka(U)?N(U):gp(U)}function m(U){return ka(U)?k(U):rn(U)}function w(U){for(var $=U.length;$--&&br.test(U.charAt($)););return $}var C=Al(Ld);function N(U){for(var $=at.lastIndex=0;at.test(U);)++$;return $}function k(U){return U.match(at)||[]}function F(U){return U.match(Jn)||[]}var H=function U($){$=$==null?Yn:Z.defaults(Yn.Object(),$,Z.pick(Yn,Md));var X=$.Array,te=$.Date,pe=$.Error,xe=$.Function,we=$.Math,He=$.Object,st=$.RegExp,_r=$.String,xn=$.TypeError,er=X.prototype,Qt=xe.prototype,vn=He.prototype,or=$["__core-js_shared__"],Ki=Qt.toString,bt=vn.hasOwnProperty,wp=0,Vd=function(){var u=/[^.]+$/.exec(or&&or.keys&&or.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Yd=vn.toString,e_=Ki.call(He),t_=Yn._,n_=st("^"+Ki.call(bt).replace(Pc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$d=Fd?$.Buffer:t,Da=$.Symbol,Gd=$.Uint8Array,m2=$d?$d.allocUnsafe:t,Xd=Io(He.getPrototypeOf,He),g2=He.create,x2=vn.propertyIsEnumerable,Qd=er.splice,v2=Da?Da.isConcatSpreadable:t,Zc=Da?Da.iterator:t,Ro=Da?Da.toStringTag:t,Kd=function(){try{var u=Po(He,"defineProperty");return u({},"",{}),u}catch{}}(),r_=$.clearTimeout!==Yn.clearTimeout&&$.clearTimeout,i_=te&&te.now!==Yn.Date.now&&te.now,s_=$.setTimeout!==Yn.setTimeout&&$.setTimeout,Zd=we.ceil,Jd=we.floor,yp=He.getOwnPropertySymbols,a_=$d?$d.isBuffer:t,w2=$.isFinite,o_=er.join,l_=Io(He.keys,He),tr=we.max,Sr=we.min,c_=te.now,u_=$.parseInt,y2=we.random,d_=er.reverse,bp=Po($,"DataView"),Jc=Po($,"Map"),Cp=Po($,"Promise"),Tl=Po($,"Set"),eu=Po($,"WeakMap"),tu=Po(He,"create"),ef=eu&&new eu,kl={},f_=Fo(bp),h_=Fo(Jc),p_=Fo(Cp),m_=Fo(Tl),g_=Fo(eu),tf=Da?Da.prototype:t,nu=tf?tf.valueOf:t,b2=tf?tf.toString:t;function Y(u){if(In(u)&&!lt(u)&&!(u instanceof Ct)){if(u instanceof Ri)return u;if(bt.call(u,"__wrapped__"))return Cv(u)}return new Ri(u)}var Dl=function(){function u(){}return function(p){if(!Cn(p))return{};if(g2)return g2(p);u.prototype=p;var b=new u;return u.prototype=t,b}}();function nf(){}function Ri(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=t}Y.templateSettings={escape:ai,evaluate:Lc,interpolate:Kn,variable:"",imports:{_:Y}},Y.prototype=nf.prototype,Y.prototype.constructor=Y,Ri.prototype=Dl(nf.prototype),Ri.prototype.constructor=Ri;function Ct(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qe,this.__views__=[]}function x_(){var u=new Ct(this.__wrapped__);return u.__actions__=Xr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Xr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Xr(this.__views__),u}function v_(){if(this.__filtered__){var u=new Ct(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function w_(){var u=this.__wrapped__.value(),p=this.__dir__,b=lt(u),A=p<0,B=b?u.length:0,G=I5(0,B,this.__views__),J=G.start,re=G.end,oe=re-J,ye=A?re:J-1,be=this.__iteratees__,Ne=be.length,Oe=0,Ve=Sr(oe,this.__takeCount__);if(!b||!A&&B==oe&&Ve==oe)return V2(u,this.__actions__);var et=[];e:for(;oe--&&Oe<Ve;){ye+=p;for(var ht=-1,tt=u[ye];++ht<Ne;){var vt=be[ht],St=vt.iteratee,hi=vt.type,Fr=St(tt);if(hi==ee)tt=Fr;else if(!Fr){if(hi==he)continue e;break e}}et[Oe++]=tt}return et}Ct.prototype=Dl(nf.prototype),Ct.prototype.constructor=Ct;function jo(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var A=u[p];this.set(A[0],A[1])}}function y_(){this.__data__=tu?tu(null):{},this.size=0}function b_(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p}function C_(u){var p=this.__data__;if(tu){var b=p[u];return b===v?t:b}return bt.call(p,u)?p[u]:t}function E_(u){var p=this.__data__;return tu?p[u]!==t:bt.call(p,u)}function N_(u,p){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=tu&&p===t?v:p,this}jo.prototype.clear=y_,jo.prototype.delete=b_,jo.prototype.get=C_,jo.prototype.has=E_,jo.prototype.set=N_;function Ys(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var A=u[p];this.set(A[0],A[1])}}function __(){this.__data__=[],this.size=0}function S_(u){var p=this.__data__,b=rf(p,u);if(b<0)return!1;var A=p.length-1;return b==A?p.pop():Qd.call(p,b,1),--this.size,!0}function A_(u){var p=this.__data__,b=rf(p,u);return b<0?t:p[b][1]}function T_(u){return rf(this.__data__,u)>-1}function k_(u,p){var b=this.__data__,A=rf(b,u);return A<0?(++this.size,b.push([u,p])):b[A][1]=p,this}Ys.prototype.clear=__,Ys.prototype.delete=S_,Ys.prototype.get=A_,Ys.prototype.has=T_,Ys.prototype.set=k_;function $s(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var A=u[p];this.set(A[0],A[1])}}function D_(){this.size=0,this.__data__={hash:new jo,map:new(Jc||Ys),string:new jo}}function I_(u){var p=gf(this,u).delete(u);return this.size-=p?1:0,p}function R_(u){return gf(this,u).get(u)}function j_(u){return gf(this,u).has(u)}function O_(u,p){var b=gf(this,u),A=b.size;return b.set(u,p),this.size+=b.size==A?0:1,this}$s.prototype.clear=D_,$s.prototype.delete=I_,$s.prototype.get=R_,$s.prototype.has=j_,$s.prototype.set=O_;function Oo(u){var p=-1,b=u==null?0:u.length;for(this.__data__=new $s;++p<b;)this.add(u[p])}function M_(u){return this.__data__.set(u,v),this}function L_(u){return this.__data__.has(u)}Oo.prototype.add=Oo.prototype.push=M_,Oo.prototype.has=L_;function Zi(u){var p=this.__data__=new Ys(u);this.size=p.size}function P_(){this.__data__=new Ys,this.size=0}function F_(u){var p=this.__data__,b=p.delete(u);return this.size=p.size,b}function B_(u){return this.__data__.get(u)}function U_(u){return this.__data__.has(u)}function z_(u,p){var b=this.__data__;if(b instanceof Ys){var A=b.__data__;if(!Jc||A.length<i-1)return A.push([u,p]),this.size=++b.size,this;b=this.__data__=new $s(A)}return b.set(u,p),this.size=b.size,this}Zi.prototype.clear=P_,Zi.prototype.delete=F_,Zi.prototype.get=B_,Zi.prototype.has=U_,Zi.prototype.set=z_;function C2(u,p){var b=lt(u),A=!b&&Bo(u),B=!b&&!A&&Ma(u),G=!b&&!A&&!B&&Ol(u),J=b||A||B||G,re=J?Gc(u.length,_r):[],oe=re.length;for(var ye in u)(p||bt.call(u,ye))&&!(J&&(ye=="length"||B&&(ye=="offset"||ye=="parent")||G&&(ye=="buffer"||ye=="byteLength"||ye=="byteOffset")||Ks(ye,oe)))&&re.push(ye);return re}function E2(u){var p=u.length;return p?u[jp(0,p-1)]:t}function W_(u,p){return xf(Xr(u),Mo(p,0,u.length))}function H_(u){return xf(Xr(u))}function Ep(u,p,b){(b!==t&&!Ji(u[p],b)||b===t&&!(p in u))&&Gs(u,p,b)}function ru(u,p,b){var A=u[p];(!(bt.call(u,p)&&Ji(A,b))||b===t&&!(p in u))&&Gs(u,p,b)}function rf(u,p){for(var b=u.length;b--;)if(Ji(u[b][0],p))return b;return-1}function q_(u,p,b,A){return Ia(u,function(B,G,J){p(A,B,b(B),J)}),A}function N2(u,p){return u&&vs(p,lr(p),u)}function V_(u,p){return u&&vs(p,Kr(p),u)}function Gs(u,p,b){p=="__proto__"&&Kd?Kd(u,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[p]=b}function Np(u,p){for(var b=-1,A=p.length,B=X(A),G=u==null;++b<A;)B[b]=G?t:i1(u,p[b]);return B}function Mo(u,p,b){return u===u&&(b!==t&&(u=u<=b?u:b),p!==t&&(u=u>=p?u:p)),u}function ji(u,p,b,A,B,G){var J,re=p&E,oe=p&_,ye=p&T;if(b&&(J=B?b(u,A,B,G):b(u)),J!==t)return J;if(!Cn(u))return u;var be=lt(u);if(be){if(J=j5(u),!re)return Xr(u,J)}else{var Ne=Ar(u),Oe=Ne==pn||Ne==Se;if(Ma(u))return G2(u,re);if(Ne==yt||Ne==hn||Oe&&!B){if(J=oe||Oe?{}:hv(u),!re)return oe?C5(u,V_(J,u)):b5(u,N2(J,u))}else{if(!Mt[Ne])return B?u:{};J=O5(u,Ne,re)}}G||(G=new Zi);var Ve=G.get(u);if(Ve)return Ve;G.set(u,J),Wv(u)?u.forEach(function(tt){J.add(ji(tt,p,b,tt,u,G))}):Uv(u)&&u.forEach(function(tt,vt){J.set(vt,ji(tt,p,b,vt,u,G))});var et=ye?oe?qp:Hp:oe?Kr:lr,ht=be?t:et(u);return Gr(ht||u,function(tt,vt){ht&&(vt=tt,tt=u[vt]),ru(J,vt,ji(tt,p,b,vt,u,G))}),J}function Y_(u){var p=lr(u);return function(b){return _2(b,u,p)}}function _2(u,p,b){var A=b.length;if(u==null)return!A;for(u=He(u);A--;){var B=b[A],G=p[B],J=u[B];if(J===t&&!(B in u)||!G(J))return!1}return!0}function S2(u,p,b){if(typeof u!="function")throw new xn(d);return uu(function(){u.apply(t,b)},p)}function iu(u,p,b,A){var B=-1,G=gn,J=!0,re=u.length,oe=[],ye=p.length;if(!re)return oe;b&&(p=it(p,Dn(b))),A?(G=Ao,J=!1):p.length>=i&&(G=ar,J=!1,p=new Oo(p));e:for(;++B<re;){var be=u[B],Ne=b==null?be:b(be);if(be=A||be!==0?be:0,J&&Ne===Ne){for(var Oe=ye;Oe--;)if(p[Oe]===Ne)continue e;oe.push(be)}else G(p,Ne,A)||oe.push(be)}return oe}var Ia=J2(xs),A2=J2(Sp,!0);function $_(u,p){var b=!0;return Ia(u,function(A,B,G){return b=!!p(A,B,G),b}),b}function sf(u,p,b){for(var A=-1,B=u.length;++A<B;){var G=u[A],J=p(G);if(J!=null&&(re===t?J===J&&!fi(J):b(J,re)))var re=J,oe=G}return oe}function G_(u,p,b,A){var B=u.length;for(b=dt(b),b<0&&(b=-b>B?0:B+b),A=A===t||A>B?B:dt(A),A<0&&(A+=B),A=b>A?0:qv(A);b<A;)u[b++]=p;return u}function T2(u,p){var b=[];return Ia(u,function(A,B,G){p(A,B,G)&&b.push(A)}),b}function gr(u,p,b,A,B){var G=-1,J=u.length;for(b||(b=L5),B||(B=[]);++G<J;){var re=u[G];p>0&&b(re)?p>1?gr(re,p-1,b,A,B):ci(B,re):A||(B[B.length]=re)}return B}var _p=ev(),k2=ev(!0);function xs(u,p){return u&&_p(u,p,lr)}function Sp(u,p){return u&&k2(u,p,lr)}function af(u,p){return Di(p,function(b){return Zs(u[b])})}function Lo(u,p){p=ja(p,u);for(var b=0,A=p.length;u!=null&&b<A;)u=u[ws(p[b++])];return b&&b==A?u:t}function D2(u,p,b){var A=p(u);return lt(u)?A:ci(A,b(u))}function Lr(u){return u==null?u===t?ke:yr:Ro&&Ro in He(u)?D5(u):H5(u)}function Ap(u,p){return u>p}function X_(u,p){return u!=null&&bt.call(u,p)}function Q_(u,p){return u!=null&&p in He(u)}function K_(u,p,b){return u>=Sr(p,b)&&u<tr(p,b)}function Tp(u,p,b){for(var A=b?Ao:gn,B=u[0].length,G=u.length,J=G,re=X(G),oe=1/0,ye=[];J--;){var be=u[J];J&&p&&(be=it(be,Dn(p))),oe=Sr(be.length,oe),re[J]=!b&&(p||B>=120&&be.length>=120)?new Oo(J&&be):t}be=u[0];var Ne=-1,Oe=re[0];e:for(;++Ne<B&&ye.length<oe;){var Ve=be[Ne],et=p?p(Ve):Ve;if(Ve=b||Ve!==0?Ve:0,!(Oe?ar(Oe,et):A(ye,et,b))){for(J=G;--J;){var ht=re[J];if(!(ht?ar(ht,et):A(u[J],et,b)))continue e}Oe&&Oe.push(et),ye.push(Ve)}}return ye}function Z_(u,p,b,A){return xs(u,function(B,G,J){p(A,b(B),G,J)}),A}function su(u,p,b){p=ja(p,u),u=xv(u,p);var A=u==null?u:u[ws(Mi(p))];return A==null?t:sr(A,u,b)}function I2(u){return In(u)&&Lr(u)==hn}function J_(u){return In(u)&&Lr(u)==en}function e5(u){return In(u)&&Lr(u)==qt}function au(u,p,b,A,B){return u===p?!0:u==null||p==null||!In(u)&&!In(p)?u!==u&&p!==p:t5(u,p,b,A,au,B)}function t5(u,p,b,A,B,G){var J=lt(u),re=lt(p),oe=J?De:Ar(u),ye=re?De:Ar(p);oe=oe==hn?yt:oe,ye=ye==hn?yt:ye;var be=oe==yt,Ne=ye==yt,Oe=oe==ye;if(Oe&&Ma(u)){if(!Ma(p))return!1;J=!0,be=!1}if(Oe&&!be)return G||(G=new Zi),J||Ol(u)?uv(u,p,b,A,B,G):T5(u,p,oe,b,A,B,G);if(!(b&S)){var Ve=be&&bt.call(u,"__wrapped__"),et=Ne&&bt.call(p,"__wrapped__");if(Ve||et){var ht=Ve?u.value():u,tt=et?p.value():p;return G||(G=new Zi),B(ht,tt,b,A,G)}}return Oe?(G||(G=new Zi),k5(u,p,b,A,B,G)):!1}function n5(u){return In(u)&&Ar(u)==Ye}function kp(u,p,b,A){var B=b.length,G=B,J=!A;if(u==null)return!G;for(u=He(u);B--;){var re=b[B];if(J&&re[2]?re[1]!==u[re[0]]:!(re[0]in u))return!1}for(;++B<G;){re=b[B];var oe=re[0],ye=u[oe],be=re[1];if(J&&re[2]){if(ye===t&&!(oe in u))return!1}else{var Ne=new Zi;if(A)var Oe=A(ye,be,oe,u,p,Ne);if(!(Oe===t?au(be,ye,S|R,A,Ne):Oe))return!1}}return!0}function R2(u){if(!Cn(u)||F5(u))return!1;var p=Zs(u)?n_:lp;return p.test(Fo(u))}function r5(u){return In(u)&&Lr(u)==Re}function i5(u){return In(u)&&Ar(u)==Ee}function s5(u){return In(u)&&Ef(u.length)&&!!nn[Lr(u)]}function j2(u){return typeof u=="function"?u:u==null?Zr:typeof u=="object"?lt(u)?L2(u[0],u[1]):M2(u):tw(u)}function Dp(u){if(!cu(u))return l_(u);var p=[];for(var b in He(u))bt.call(u,b)&&b!="constructor"&&p.push(b);return p}function a5(u){if(!Cn(u))return W5(u);var p=cu(u),b=[];for(var A in u)A=="constructor"&&(p||!bt.call(u,A))||b.push(A);return b}function Ip(u,p){return u<p}function O2(u,p){var b=-1,A=Qr(u)?X(u.length):[];return Ia(u,function(B,G,J){A[++b]=p(B,G,J)}),A}function M2(u){var p=Yp(u);return p.length==1&&p[0][2]?mv(p[0][0],p[0][1]):function(b){return b===u||kp(b,u,p)}}function L2(u,p){return Gp(u)&&pv(p)?mv(ws(u),p):function(b){var A=i1(b,u);return A===t&&A===p?s1(b,u):au(p,A,S|R)}}function of(u,p,b,A,B){u!==p&&_p(p,function(G,J){if(B||(B=new Zi),Cn(G))o5(u,p,J,b,of,A,B);else{var re=A?A(Qp(u,J),G,J+"",u,p,B):t;re===t&&(re=G),Ep(u,J,re)}},Kr)}function o5(u,p,b,A,B,G,J){var re=Qp(u,b),oe=Qp(p,b),ye=J.get(oe);if(ye){Ep(u,b,ye);return}var be=G?G(re,oe,b+"",u,p,J):t,Ne=be===t;if(Ne){var Oe=lt(oe),Ve=!Oe&&Ma(oe),et=!Oe&&!Ve&&Ol(oe);be=oe,Oe||Ve||et?lt(re)?be=re:Bn(re)?be=Xr(re):Ve?(Ne=!1,be=G2(oe,!0)):et?(Ne=!1,be=X2(oe,!0)):be=[]:du(oe)||Bo(oe)?(be=re,Bo(re)?be=Vv(re):(!Cn(re)||Zs(re))&&(be=hv(oe))):Ne=!1}Ne&&(J.set(oe,be),B(be,oe,A,G,J),J.delete(oe)),Ep(u,b,be)}function P2(u,p){var b=u.length;if(b)return p+=p<0?b:0,Ks(p,b)?u[p]:t}function F2(u,p,b){p.length?p=it(p,function(G){return lt(G)?function(J){return Lo(J,G.length===1?G[0]:G)}:G}):p=[Zr];var A=-1;p=it(p,Dn(Ze()));var B=O2(u,function(G,J,re){var oe=it(p,function(ye){return ye(G)});return{criteria:oe,index:++A,value:G}});return Aa(B,function(G,J){return y5(G,J,b)})}function l5(u,p){return B2(u,p,function(b,A){return s1(u,A)})}function B2(u,p,b){for(var A=-1,B=p.length,G={};++A<B;){var J=p[A],re=Lo(u,J);b(re,J)&&ou(G,ja(J,u),re)}return G}function c5(u){return function(p){return Lo(p,u)}}function Rp(u,p,b,A){var B=A?Yc:mr,G=-1,J=p.length,re=u;for(u===p&&(p=Xr(p)),b&&(re=it(u,Dn(b)));++G<J;)for(var oe=0,ye=p[G],be=b?b(ye):ye;(oe=B(re,be,oe,A))>-1;)re!==u&&Qd.call(re,oe,1),Qd.call(u,oe,1);return u}function U2(u,p){for(var b=u?p.length:0,A=b-1;b--;){var B=p[b];if(b==A||B!==G){var G=B;Ks(B)?Qd.call(u,B,1):Lp(u,B)}}return u}function jp(u,p){return u+Jd(y2()*(p-u+1))}function u5(u,p,b,A){for(var B=-1,G=tr(Zd((p-u)/(b||1)),0),J=X(G);G--;)J[A?G:++B]=u,u+=b;return J}function Op(u,p){var b="";if(!u||p<1||p>ue)return b;do p%2&&(b+=u),p=Jd(p/2),p&&(u+=u);while(p);return b}function pt(u,p){return Kp(gv(u,p,Zr),u+"")}function d5(u){return E2(Ml(u))}function f5(u,p){var b=Ml(u);return xf(b,Mo(p,0,b.length))}function ou(u,p,b,A){if(!Cn(u))return u;p=ja(p,u);for(var B=-1,G=p.length,J=G-1,re=u;re!=null&&++B<G;){var oe=ws(p[B]),ye=b;if(oe==="__proto__"||oe==="constructor"||oe==="prototype")return u;if(B!=J){var be=re[oe];ye=A?A(be,oe,re):t,ye===t&&(ye=Cn(be)?be:Ks(p[B+1])?[]:{})}ru(re,oe,ye),re=re[oe]}return u}var z2=ef?function(u,p){return ef.set(u,p),u}:Zr,h5=Kd?function(u,p){return Kd(u,"toString",{configurable:!0,enumerable:!1,value:o1(p),writable:!0})}:Zr;function p5(u){return xf(Ml(u))}function Oi(u,p,b){var A=-1,B=u.length;p<0&&(p=-p>B?0:B+p),b=b>B?B:b,b<0&&(b+=B),B=p>b?0:b-p>>>0,p>>>=0;for(var G=X(B);++A<B;)G[A]=u[A+p];return G}function m5(u,p){var b;return Ia(u,function(A,B,G){return b=p(A,B,G),!b}),!!b}function lf(u,p,b){var A=0,B=u==null?A:u.length;if(typeof p=="number"&&p===p&&B<=fn){for(;A<B;){var G=A+B>>>1,J=u[G];J!==null&&!fi(J)&&(b?J<=p:J<p)?A=G+1:B=G}return B}return Mp(u,p,Zr,b)}function Mp(u,p,b,A){var B=0,G=u==null?0:u.length;if(G===0)return 0;p=b(p);for(var J=p!==p,re=p===null,oe=fi(p),ye=p===t;B<G;){var be=Jd((B+G)/2),Ne=b(u[be]),Oe=Ne!==t,Ve=Ne===null,et=Ne===Ne,ht=fi(Ne);if(J)var tt=A||et;else ye?tt=et&&(A||Oe):re?tt=et&&Oe&&(A||!Ve):oe?tt=et&&Oe&&!Ve&&(A||!ht):Ve||ht?tt=!1:tt=A?Ne<=p:Ne<p;tt?B=be+1:G=be}return Sr(G,nt)}function W2(u,p){for(var b=-1,A=u.length,B=0,G=[];++b<A;){var J=u[b],re=p?p(J):J;if(!b||!Ji(re,oe)){var oe=re;G[B++]=J===0?0:J}}return G}function H2(u){return typeof u=="number"?u:fi(u)?Ie:+u}function di(u){if(typeof u=="string")return u;if(lt(u))return it(u,di)+"";if(fi(u))return b2?b2.call(u):"";var p=u+"";return p=="0"&&1/u==-ge?"-0":p}function Ra(u,p,b){var A=-1,B=gn,G=u.length,J=!0,re=[],oe=re;if(b)J=!1,B=Ao;else if(G>=i){var ye=p?null:S5(u);if(ye)return s(ye);J=!1,B=ar,oe=new Oo}else oe=p?[]:re;e:for(;++A<G;){var be=u[A],Ne=p?p(be):be;if(be=b||be!==0?be:0,J&&Ne===Ne){for(var Oe=oe.length;Oe--;)if(oe[Oe]===Ne)continue e;p&&oe.push(Ne),re.push(be)}else B(oe,Ne,b)||(oe!==re&&oe.push(Ne),re.push(be))}return re}function Lp(u,p){return p=ja(p,u),u=xv(u,p),u==null||delete u[ws(Mi(p))]}function q2(u,p,b,A){return ou(u,p,b(Lo(u,p)),A)}function cf(u,p,b,A){for(var B=u.length,G=A?B:-1;(A?G--:++G<B)&&p(u[G],G,u););return b?Oi(u,A?0:G,A?G+1:B):Oi(u,A?G+1:0,A?B:G)}function V2(u,p){var b=u;return b instanceof Ct&&(b=b.value()),Qi(p,function(A,B){return B.func.apply(B.thisArg,ci([A],B.args))},b)}function Pp(u,p,b){var A=u.length;if(A<2)return A?Ra(u[0]):[];for(var B=-1,G=X(A);++B<A;)for(var J=u[B],re=-1;++re<A;)re!=B&&(G[B]=iu(G[B]||J,u[re],p,b));return Ra(gr(G,1),p,b)}function Y2(u,p,b){for(var A=-1,B=u.length,G=p.length,J={};++A<B;){var re=A<G?p[A]:t;b(J,u[A],re)}return J}function Fp(u){return Bn(u)?u:[]}function Bp(u){return typeof u=="function"?u:Zr}function ja(u,p){return lt(u)?u:Gp(u,p)?[u]:bv(zt(u))}var g5=pt;function Oa(u,p,b){var A=u.length;return b=b===t?A:b,!p&&b>=A?u:Oi(u,p,b)}var $2=r_||function(u){return Yn.clearTimeout(u)};function G2(u,p){if(p)return u.slice();var b=u.length,A=m2?m2(b):new u.constructor(b);return u.copy(A),A}function Up(u){var p=new u.constructor(u.byteLength);return new Gd(p).set(new Gd(u)),p}function x5(u,p){var b=p?Up(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function v5(u){var p=new u.constructor(u.source,yo.exec(u));return p.lastIndex=u.lastIndex,p}function w5(u){return nu?He(nu.call(u)):{}}function X2(u,p){var b=p?Up(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function Q2(u,p){if(u!==p){var b=u!==t,A=u===null,B=u===u,G=fi(u),J=p!==t,re=p===null,oe=p===p,ye=fi(p);if(!re&&!ye&&!G&&u>p||G&&J&&oe&&!re&&!ye||A&&J&&oe||!b&&oe||!B)return 1;if(!A&&!G&&!ye&&u<p||ye&&b&&B&&!A&&!G||re&&b&&B||!J&&B||!oe)return-1}return 0}function y5(u,p,b){for(var A=-1,B=u.criteria,G=p.criteria,J=B.length,re=b.length;++A<J;){var oe=Q2(B[A],G[A]);if(oe){if(A>=re)return oe;var ye=b[A];return oe*(ye=="desc"?-1:1)}}return u.index-p.index}function K2(u,p,b,A){for(var B=-1,G=u.length,J=b.length,re=-1,oe=p.length,ye=tr(G-J,0),be=X(oe+ye),Ne=!A;++re<oe;)be[re]=p[re];for(;++B<J;)(Ne||B<G)&&(be[b[B]]=u[B]);for(;ye--;)be[re++]=u[B++];return be}function Z2(u,p,b,A){for(var B=-1,G=u.length,J=-1,re=b.length,oe=-1,ye=p.length,be=tr(G-re,0),Ne=X(be+ye),Oe=!A;++B<be;)Ne[B]=u[B];for(var Ve=B;++oe<ye;)Ne[Ve+oe]=p[oe];for(;++J<re;)(Oe||B<G)&&(Ne[Ve+b[J]]=u[B++]);return Ne}function Xr(u,p){var b=-1,A=u.length;for(p||(p=X(A));++b<A;)p[b]=u[b];return p}function vs(u,p,b,A){var B=!b;b||(b={});for(var G=-1,J=p.length;++G<J;){var re=p[G],oe=A?A(b[re],u[re],re,b,u):t;oe===t&&(oe=u[re]),B?Gs(b,re,oe):ru(b,re,oe)}return b}function b5(u,p){return vs(u,$p(u),p)}function C5(u,p){return vs(u,dv(u),p)}function uf(u,p){return function(b,A){var B=lt(b)?Ud:q_,G=p?p():{};return B(b,u,Ze(A,2),G)}}function Il(u){return pt(function(p,b){var A=-1,B=b.length,G=B>1?b[B-1]:t,J=B>2?b[2]:t;for(G=u.length>3&&typeof G=="function"?(B--,G):t,J&&Pr(b[0],b[1],J)&&(G=B<3?t:G,B=1),p=He(p);++A<B;){var re=b[A];re&&u(p,re,A,G)}return p})}function J2(u,p){return function(b,A){if(b==null)return b;if(!Qr(b))return u(b,A);for(var B=b.length,G=p?B:-1,J=He(b);(p?G--:++G<B)&&A(J[G],G,J)!==!1;);return b}}function ev(u){return function(p,b,A){for(var B=-1,G=He(p),J=A(p),re=J.length;re--;){var oe=J[u?re:++B];if(b(G[oe],oe,G)===!1)break}return p}}function E5(u,p,b){var A=p&O,B=lu(u);function G(){var J=this&&this!==Yn&&this instanceof G?B:u;return J.apply(A?b:this,arguments)}return G}function tv(u){return function(p){p=zt(p);var b=ka(p)?m(p):t,A=b?b[0]:p.charAt(0),B=b?Oa(b,1).join(""):p.slice(1);return A[u]()+B}}function Rl(u){return function(p){return Qi(Jv(Zv(p).replace(Ke,"")),u,"")}}function lu(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=Dl(u.prototype),A=u.apply(b,p);return Cn(A)?A:b}}function N5(u,p,b){var A=lu(u);function B(){for(var G=arguments.length,J=X(G),re=G,oe=jl(B);re--;)J[re]=arguments[re];var ye=G<3&&J[0]!==oe&&J[G-1]!==oe?[]:L(J,oe);if(G-=ye.length,G<b)return av(u,p,df,B.placeholder,t,J,ye,t,t,b-G);var be=this&&this!==Yn&&this instanceof B?A:u;return sr(be,this,J)}return B}function nv(u){return function(p,b,A){var B=He(p);if(!Qr(p)){var G=Ze(b,3);p=lr(p),b=function(re){return G(B[re],re,B)}}var J=u(p,b,A);return J>-1?B[G?p[J]:J]:t}}function rv(u){return Qs(function(p){var b=p.length,A=b,B=Ri.prototype.thru;for(u&&p.reverse();A--;){var G=p[A];if(typeof G!="function")throw new xn(d);if(B&&!J&&mf(G)=="wrapper")var J=new Ri([],!0)}for(A=J?A:b;++A<b;){G=p[A];var re=mf(G),oe=re=="wrapper"?Vp(G):t;oe&&Xp(oe[0])&&oe[1]==(P|j|Q|V)&&!oe[4].length&&oe[9]==1?J=J[mf(oe[0])].apply(J,oe[3]):J=G.length==1&&Xp(G)?J[re]():J.thru(G)}return function(){var ye=arguments,be=ye[0];if(J&&ye.length==1&&lt(be))return J.plant(be).value();for(var Ne=0,Oe=b?p[Ne].apply(this,ye):be;++Ne<b;)Oe=p[Ne].call(this,Oe);return Oe}})}function df(u,p,b,A,B,G,J,re,oe,ye){var be=p&P,Ne=p&O,Oe=p&I,Ve=p&(j|q),et=p&W,ht=Oe?t:lu(u);function tt(){for(var vt=arguments.length,St=X(vt),hi=vt;hi--;)St[hi]=arguments[hi];if(Ve)var Fr=jl(tt),pi=xp(St,Fr);if(A&&(St=K2(St,A,B,Ve)),G&&(St=Z2(St,G,J,Ve)),vt-=pi,Ve&&vt<ye){var Un=L(St,Fr);return av(u,p,df,tt.placeholder,b,St,Un,re,oe,ye-vt)}var es=Ne?b:this,ea=Oe?es[u]:u;return vt=St.length,re?St=q5(St,re):et&&vt>1&&St.reverse(),be&&oe<vt&&(St.length=oe),this&&this!==Yn&&this instanceof tt&&(ea=ht||lu(ea)),ea.apply(es,St)}return tt}function iv(u,p){return function(b,A){return Z_(b,u,p(A),{})}}function ff(u,p){return function(b,A){var B;if(b===t&&A===t)return p;if(b!==t&&(B=b),A!==t){if(B===t)return A;typeof b=="string"||typeof A=="string"?(b=di(b),A=di(A)):(b=H2(b),A=H2(A)),B=u(b,A)}return B}}function zp(u){return Qs(function(p){return p=it(p,Dn(Ze())),pt(function(b){var A=this;return u(p,function(B){return sr(B,A,b)})})})}function hf(u,p){p=p===t?" ":di(p);var b=p.length;if(b<2)return b?Op(p,u):p;var A=Op(p,Zd(u/h(p)));return ka(p)?Oa(m(A),0,u).join(""):A.slice(0,u)}function _5(u,p,b,A){var B=p&O,G=lu(u);function J(){for(var re=-1,oe=arguments.length,ye=-1,be=A.length,Ne=X(be+oe),Oe=this&&this!==Yn&&this instanceof J?G:u;++ye<be;)Ne[ye]=A[ye];for(;oe--;)Ne[ye++]=arguments[++re];return sr(Oe,B?b:this,Ne)}return J}function sv(u){return function(p,b,A){return A&&typeof A!="number"&&Pr(p,b,A)&&(b=A=t),p=Js(p),b===t?(b=p,p=0):b=Js(b),A=A===t?p<b?1:-1:Js(A),u5(p,b,A,u)}}function pf(u){return function(p,b){return typeof p=="string"&&typeof b=="string"||(p=Li(p),b=Li(b)),u(p,b)}}function av(u,p,b,A,B,G,J,re,oe,ye){var be=p&j,Ne=be?J:t,Oe=be?t:J,Ve=be?G:t,et=be?t:G;p|=be?Q:z,p&=~(be?z:Q),p&D||(p&=~(O|I));var ht=[u,p,B,Ve,Ne,et,Oe,re,oe,ye],tt=b.apply(t,ht);return Xp(u)&&vv(tt,ht),tt.placeholder=A,wv(tt,u,p)}function Wp(u){var p=we[u];return function(b,A){if(b=Li(b),A=A==null?0:Sr(dt(A),292),A&&w2(b)){var B=(zt(b)+"e").split("e"),G=p(B[0]+"e"+(+B[1]+A));return B=(zt(G)+"e").split("e"),+(B[0]+"e"+(+B[1]-A))}return p(b)}}var S5=Tl&&1/s(new Tl([,-0]))[1]==ge?function(u){return new Tl(u)}:u1;function ov(u){return function(p){var b=Ar(p);return b==Ye?xt(p):b==Ee?o(p):ko(p,u(p))}}function Xs(u,p,b,A,B,G,J,re){var oe=p&I;if(!oe&&typeof u!="function")throw new xn(d);var ye=A?A.length:0;if(ye||(p&=~(Q|z),A=B=t),J=J===t?J:tr(dt(J),0),re=re===t?re:dt(re),ye-=B?B.length:0,p&z){var be=A,Ne=B;A=B=t}var Oe=oe?t:Vp(u),Ve=[u,p,b,A,B,be,Ne,G,J,re];if(Oe&&z5(Ve,Oe),u=Ve[0],p=Ve[1],b=Ve[2],A=Ve[3],B=Ve[4],re=Ve[9]=Ve[9]===t?oe?0:u.length:tr(Ve[9]-ye,0),!re&&p&(j|q)&&(p&=~(j|q)),!p||p==O)var et=E5(u,p,b);else p==j||p==q?et=N5(u,p,re):(p==Q||p==(O|Q))&&!B.length?et=_5(u,p,b,A):et=df.apply(t,Ve);var ht=Oe?z2:vv;return wv(ht(et,Ve),u,p)}function lv(u,p,b,A){return u===t||Ji(u,vn[b])&&!bt.call(A,b)?p:u}function cv(u,p,b,A,B,G){return Cn(u)&&Cn(p)&&(G.set(p,u),of(u,p,t,cv,G),G.delete(p)),u}function A5(u){return du(u)?t:u}function uv(u,p,b,A,B,G){var J=b&S,re=u.length,oe=p.length;if(re!=oe&&!(J&&oe>re))return!1;var ye=G.get(u),be=G.get(p);if(ye&&be)return ye==p&&be==u;var Ne=-1,Oe=!0,Ve=b&R?new Oo:t;for(G.set(u,p),G.set(p,u);++Ne<re;){var et=u[Ne],ht=p[Ne];if(A)var tt=J?A(ht,et,Ne,p,u,G):A(et,ht,Ne,u,p,G);if(tt!==t){if(tt)continue;Oe=!1;break}if(Ve){if(!Qe(p,function(vt,St){if(!ar(Ve,St)&&(et===vt||B(et,vt,b,A,G)))return Ve.push(St)})){Oe=!1;break}}else if(!(et===ht||B(et,ht,b,A,G))){Oe=!1;break}}return G.delete(u),G.delete(p),Oe}function T5(u,p,b,A,B,G,J){switch(b){case Yt:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case en:return!(u.byteLength!=p.byteLength||!G(new Gd(u),new Gd(p)));case We:case qt:case jt:return Ji(+u,+p);case Vt:return u.name==p.name&&u.message==p.message;case Re:case Pn:return u==p+"";case Ye:var re=xt;case Ee:var oe=A&S;if(re||(re=s),u.size!=p.size&&!oe)return!1;var ye=J.get(u);if(ye)return ye==p;A|=R,J.set(u,p);var be=uv(re(u),re(p),A,B,G,J);return J.delete(u),be;case hr:if(nu)return nu.call(u)==nu.call(p)}return!1}function k5(u,p,b,A,B,G){var J=b&S,re=Hp(u),oe=re.length,ye=Hp(p),be=ye.length;if(oe!=be&&!J)return!1;for(var Ne=oe;Ne--;){var Oe=re[Ne];if(!(J?Oe in p:bt.call(p,Oe)))return!1}var Ve=G.get(u),et=G.get(p);if(Ve&&et)return Ve==p&&et==u;var ht=!0;G.set(u,p),G.set(p,u);for(var tt=J;++Ne<oe;){Oe=re[Ne];var vt=u[Oe],St=p[Oe];if(A)var hi=J?A(St,vt,Oe,p,u,G):A(vt,St,Oe,u,p,G);if(!(hi===t?vt===St||B(vt,St,b,A,G):hi)){ht=!1;break}tt||(tt=Oe=="constructor")}if(ht&&!tt){var Fr=u.constructor,pi=p.constructor;Fr!=pi&&"constructor"in u&&"constructor"in p&&!(typeof Fr=="function"&&Fr instanceof Fr&&typeof pi=="function"&&pi instanceof pi)&&(ht=!1)}return G.delete(u),G.delete(p),ht}function Qs(u){return Kp(gv(u,t,_v),u+"")}function Hp(u){return D2(u,lr,$p)}function qp(u){return D2(u,Kr,dv)}var Vp=ef?function(u){return ef.get(u)}:u1;function mf(u){for(var p=u.name+"",b=kl[p],A=bt.call(kl,p)?b.length:0;A--;){var B=b[A],G=B.func;if(G==null||G==u)return B.name}return p}function jl(u){var p=bt.call(Y,"placeholder")?Y:u;return p.placeholder}function Ze(){var u=Y.iteratee||l1;return u=u===l1?j2:u,arguments.length?u(arguments[0],arguments[1]):u}function gf(u,p){var b=u.__data__;return P5(p)?b[typeof p=="string"?"string":"hash"]:b.map}function Yp(u){for(var p=lr(u),b=p.length;b--;){var A=p[b],B=u[A];p[b]=[A,B,pv(B)]}return p}function Po(u,p){var b=Ii(u,p);return R2(b)?b:t}function D5(u){var p=bt.call(u,Ro),b=u[Ro];try{u[Ro]=t;var A=!0}catch{}var B=Yd.call(u);return A&&(p?u[Ro]=b:delete u[Ro]),B}var $p=yp?function(u){return u==null?[]:(u=He(u),Di(yp(u),function(p){return x2.call(u,p)}))}:d1,dv=yp?function(u){for(var p=[];u;)ci(p,$p(u)),u=Xd(u);return p}:d1,Ar=Lr;(bp&&Ar(new bp(new ArrayBuffer(1)))!=Yt||Jc&&Ar(new Jc)!=Ye||Cp&&Ar(Cp.resolve())!=Nt||Tl&&Ar(new Tl)!=Ee||eu&&Ar(new eu)!=Ge)&&(Ar=function(u){var p=Lr(u),b=p==yt?u.constructor:t,A=b?Fo(b):"";if(A)switch(A){case f_:return Yt;case h_:return Ye;case p_:return Nt;case m_:return Ee;case g_:return Ge}return p});function I5(u,p,b){for(var A=-1,B=b.length;++A<B;){var G=b[A],J=G.size;switch(G.type){case"drop":u+=J;break;case"dropRight":p-=J;break;case"take":p=Sr(p,u+J);break;case"takeRight":u=tr(u,p-J);break}}return{start:u,end:p}}function R5(u){var p=u.match($r);return p?p[1].split(Le):[]}function fv(u,p,b){p=ja(p,u);for(var A=-1,B=p.length,G=!1;++A<B;){var J=ws(p[A]);if(!(G=u!=null&&b(u,J)))break;u=u[J]}return G||++A!=B?G:(B=u==null?0:u.length,!!B&&Ef(B)&&Ks(J,B)&&(lt(u)||Bo(u)))}function j5(u){var p=u.length,b=new u.constructor(p);return p&&typeof u[0]=="string"&&bt.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function hv(u){return typeof u.constructor=="function"&&!cu(u)?Dl(Xd(u)):{}}function O5(u,p,b){var A=u.constructor;switch(p){case en:return Up(u);case We:case qt:return new A(+u);case Yt:return x5(u,b);case on:case si:case _i:case Fs:case Jt:case Te:case tn:case _t:case Ut:return X2(u,b);case Ye:return new A;case jt:case Pn:return new A(u);case Re:return v5(u);case Ee:return new A;case hr:return w5(u)}}function M5(u,p){var b=p.length;if(!b)return u;var A=b-1;return p[A]=(b>1?"& ":"")+p[A],p=p.join(b>2?", ":" "),u.replace(Us,`{
/* [wrapped with `+p+`] */
`)}function L5(u){return lt(u)||Bo(u)||!!(v2&&u&&u[v2])}function Ks(u,p){var b=typeof u;return p=p??ue,!!p&&(b=="number"||b!="symbol"&&Ti.test(u))&&u>-1&&u%1==0&&u<p}function Pr(u,p,b){if(!Cn(b))return!1;var A=typeof p;return(A=="number"?Qr(b)&&Ks(p,b.length):A=="string"&&p in b)?Ji(b[p],u):!1}function Gp(u,p){if(lt(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||fi(u)?!0:xl.test(u)||!Ca.test(u)||p!=null&&u in He(p)}function P5(u){var p=typeof u;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?u!=="__proto__":u===null}function Xp(u){var p=mf(u),b=Y[p];if(typeof b!="function"||!(p in Ct.prototype))return!1;if(u===b)return!0;var A=Vp(b);return!!A&&u===A[0]}function F5(u){return!!Vd&&Vd in u}var B5=or?Zs:f1;function cu(u){var p=u&&u.constructor,b=typeof p=="function"&&p.prototype||vn;return u===b}function pv(u){return u===u&&!Cn(u)}function mv(u,p){return function(b){return b==null?!1:b[u]===p&&(p!==t||u in He(b))}}function U5(u){var p=bf(u,function(A){return b.size===x&&b.clear(),A}),b=p.cache;return p}function z5(u,p){var b=u[1],A=p[1],B=b|A,G=B<(O|I|P),J=A==P&&b==j||A==P&&b==V&&u[7].length<=p[8]||A==(P|V)&&p[7].length<=p[8]&&b==j;if(!(G||J))return u;A&O&&(u[2]=p[2],B|=b&O?0:D);var re=p[3];if(re){var oe=u[3];u[3]=oe?K2(oe,re,p[4]):re,u[4]=oe?L(u[3],y):p[4]}return re=p[5],re&&(oe=u[5],u[5]=oe?Z2(oe,re,p[6]):re,u[6]=oe?L(u[5],y):p[6]),re=p[7],re&&(u[7]=re),A&P&&(u[8]=u[8]==null?p[8]:Sr(u[8],p[8])),u[9]==null&&(u[9]=p[9]),u[0]=p[0],u[1]=B,u}function W5(u){var p=[];if(u!=null)for(var b in He(u))p.push(b);return p}function H5(u){return Yd.call(u)}function gv(u,p,b){return p=tr(p===t?u.length-1:p,0),function(){for(var A=arguments,B=-1,G=tr(A.length-p,0),J=X(G);++B<G;)J[B]=A[p+B];B=-1;for(var re=X(p+1);++B<p;)re[B]=A[B];return re[p]=b(J),sr(u,this,re)}}function xv(u,p){return p.length<2?u:Lo(u,Oi(p,0,-1))}function q5(u,p){for(var b=u.length,A=Sr(p.length,b),B=Xr(u);A--;){var G=p[A];u[A]=Ks(G,b)?B[G]:t}return u}function Qp(u,p){if(!(p==="constructor"&&typeof u[p]=="function")&&p!="__proto__")return u[p]}var vv=yv(z2),uu=s_||function(u,p){return Yn.setTimeout(u,p)},Kp=yv(h5);function wv(u,p,b){var A=p+"";return Kp(u,M5(A,V5(R5(A),b)))}function yv(u){var p=0,b=0;return function(){var A=c_(),B=ne-(A-b);if(b=A,B>0){if(++p>=ae)return arguments[0]}else p=0;return u.apply(t,arguments)}}function xf(u,p){var b=-1,A=u.length,B=A-1;for(p=p===t?A:p;++b<p;){var G=jp(b,B),J=u[G];u[G]=u[b],u[b]=J}return u.length=p,u}var bv=U5(function(u){var p=[];return u.charCodeAt(0)===46&&p.push(""),u.replace(Si,function(b,A,B,G){p.push(B?G.replace(Cr,"$1"):A||b)}),p});function ws(u){if(typeof u=="string"||fi(u))return u;var p=u+"";return p=="0"&&1/u==-ge?"-0":p}function Fo(u){if(u!=null){try{return Ki.call(u)}catch{}try{return u+""}catch{}}return""}function V5(u,p){return Gr(ft,function(b){var A="_."+b[0];p&b[1]&&!gn(u,A)&&u.push(A)}),u.sort()}function Cv(u){if(u instanceof Ct)return u.clone();var p=new Ri(u.__wrapped__,u.__chain__);return p.__actions__=Xr(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}function Y5(u,p,b){(b?Pr(u,p,b):p===t)?p=1:p=tr(dt(p),0);var A=u==null?0:u.length;if(!A||p<1)return[];for(var B=0,G=0,J=X(Zd(A/p));B<A;)J[G++]=Oi(u,B,B+=p);return J}function $5(u){for(var p=-1,b=u==null?0:u.length,A=0,B=[];++p<b;){var G=u[p];G&&(B[A++]=G)}return B}function G5(){var u=arguments.length;if(!u)return[];for(var p=X(u-1),b=arguments[0],A=u;A--;)p[A-1]=arguments[A];return ci(lt(b)?Xr(b):[b],gr(p,1))}var X5=pt(function(u,p){return Bn(u)?iu(u,gr(p,1,Bn,!0)):[]}),Q5=pt(function(u,p){var b=Mi(p);return Bn(b)&&(b=t),Bn(u)?iu(u,gr(p,1,Bn,!0),Ze(b,2)):[]}),K5=pt(function(u,p){var b=Mi(p);return Bn(b)&&(b=t),Bn(u)?iu(u,gr(p,1,Bn,!0),t,b):[]});function Z5(u,p,b){var A=u==null?0:u.length;return A?(p=b||p===t?1:dt(p),Oi(u,p<0?0:p,A)):[]}function J5(u,p,b){var A=u==null?0:u.length;return A?(p=b||p===t?1:dt(p),p=A-p,Oi(u,0,p<0?0:p)):[]}function e8(u,p){return u&&u.length?cf(u,Ze(p,3),!0,!0):[]}function t8(u,p){return u&&u.length?cf(u,Ze(p,3),!0):[]}function n8(u,p,b,A){var B=u==null?0:u.length;return B?(b&&typeof b!="number"&&Pr(u,p,b)&&(b=0,A=B),G_(u,p,b,A)):[]}function Ev(u,p,b){var A=u==null?0:u.length;if(!A)return-1;var B=b==null?0:dt(b);return B<0&&(B=tr(A+B,0)),Nl(u,Ze(p,3),B)}function Nv(u,p,b){var A=u==null?0:u.length;if(!A)return-1;var B=A-1;return b!==t&&(B=dt(b),B=b<0?tr(A+B,0):Sr(B,A-1)),Nl(u,Ze(p,3),B,!0)}function _v(u){var p=u==null?0:u.length;return p?gr(u,1):[]}function r8(u){var p=u==null?0:u.length;return p?gr(u,ge):[]}function i8(u,p){var b=u==null?0:u.length;return b?(p=p===t?1:dt(p),gr(u,p)):[]}function s8(u){for(var p=-1,b=u==null?0:u.length,A={};++p<b;){var B=u[p];A[B[0]]=B[1]}return A}function Sv(u){return u&&u.length?u[0]:t}function a8(u,p,b){var A=u==null?0:u.length;if(!A)return-1;var B=b==null?0:dt(b);return B<0&&(B=tr(A+B,0)),mr(u,p,B)}function o8(u){var p=u==null?0:u.length;return p?Oi(u,0,-1):[]}var l8=pt(function(u){var p=it(u,Fp);return p.length&&p[0]===u[0]?Tp(p):[]}),c8=pt(function(u){var p=Mi(u),b=it(u,Fp);return p===Mi(b)?p=t:b.pop(),b.length&&b[0]===u[0]?Tp(b,Ze(p,2)):[]}),u8=pt(function(u){var p=Mi(u),b=it(u,Fp);return p=typeof p=="function"?p:t,p&&b.pop(),b.length&&b[0]===u[0]?Tp(b,t,p):[]});function d8(u,p){return u==null?"":o_.call(u,p)}function Mi(u){var p=u==null?0:u.length;return p?u[p-1]:t}function f8(u,p,b){var A=u==null?0:u.length;if(!A)return-1;var B=A;return b!==t&&(B=dt(b),B=B<0?tr(A+B,0):Sr(B,A-1)),p===p?f(u,p,B):Nl(u,$c,B,!0)}function h8(u,p){return u&&u.length?P2(u,dt(p)):t}var p8=pt(Av);function Av(u,p){return u&&u.length&&p&&p.length?Rp(u,p):u}function m8(u,p,b){return u&&u.length&&p&&p.length?Rp(u,p,Ze(b,2)):u}function g8(u,p,b){return u&&u.length&&p&&p.length?Rp(u,p,t,b):u}var x8=Qs(function(u,p){var b=u==null?0:u.length,A=Np(u,p);return U2(u,it(p,function(B){return Ks(B,b)?+B:B}).sort(Q2)),A});function v8(u,p){var b=[];if(!(u&&u.length))return b;var A=-1,B=[],G=u.length;for(p=Ze(p,3);++A<G;){var J=u[A];p(J,A,u)&&(b.push(J),B.push(A))}return U2(u,B),b}function Zp(u){return u==null?u:d_.call(u)}function w8(u,p,b){var A=u==null?0:u.length;return A?(b&&typeof b!="number"&&Pr(u,p,b)?(p=0,b=A):(p=p==null?0:dt(p),b=b===t?A:dt(b)),Oi(u,p,b)):[]}function y8(u,p){return lf(u,p)}function b8(u,p,b){return Mp(u,p,Ze(b,2))}function C8(u,p){var b=u==null?0:u.length;if(b){var A=lf(u,p);if(A<b&&Ji(u[A],p))return A}return-1}function E8(u,p){return lf(u,p,!0)}function N8(u,p,b){return Mp(u,p,Ze(b,2),!0)}function _8(u,p){var b=u==null?0:u.length;if(b){var A=lf(u,p,!0)-1;if(Ji(u[A],p))return A}return-1}function S8(u){return u&&u.length?W2(u):[]}function A8(u,p){return u&&u.length?W2(u,Ze(p,2)):[]}function T8(u){var p=u==null?0:u.length;return p?Oi(u,1,p):[]}function k8(u,p,b){return u&&u.length?(p=b||p===t?1:dt(p),Oi(u,0,p<0?0:p)):[]}function D8(u,p,b){var A=u==null?0:u.length;return A?(p=b||p===t?1:dt(p),p=A-p,Oi(u,p<0?0:p,A)):[]}function I8(u,p){return u&&u.length?cf(u,Ze(p,3),!1,!0):[]}function R8(u,p){return u&&u.length?cf(u,Ze(p,3)):[]}var j8=pt(function(u){return Ra(gr(u,1,Bn,!0))}),O8=pt(function(u){var p=Mi(u);return Bn(p)&&(p=t),Ra(gr(u,1,Bn,!0),Ze(p,2))}),M8=pt(function(u){var p=Mi(u);return p=typeof p=="function"?p:t,Ra(gr(u,1,Bn,!0),t,p)});function L8(u){return u&&u.length?Ra(u):[]}function P8(u,p){return u&&u.length?Ra(u,Ze(p,2)):[]}function F8(u,p){return p=typeof p=="function"?p:t,u&&u.length?Ra(u,t,p):[]}function Jp(u){if(!(u&&u.length))return[];var p=0;return u=Di(u,function(b){if(Bn(b))return p=tr(b.length,p),!0}),Gc(p,function(b){return it(u,Sl(b))})}function Tv(u,p){if(!(u&&u.length))return[];var b=Jp(u);return p==null?b:it(b,function(A){return sr(p,t,A)})}var B8=pt(function(u,p){return Bn(u)?iu(u,p):[]}),U8=pt(function(u){return Pp(Di(u,Bn))}),z8=pt(function(u){var p=Mi(u);return Bn(p)&&(p=t),Pp(Di(u,Bn),Ze(p,2))}),W8=pt(function(u){var p=Mi(u);return p=typeof p=="function"?p:t,Pp(Di(u,Bn),t,p)}),H8=pt(Jp);function q8(u,p){return Y2(u||[],p||[],ru)}function V8(u,p){return Y2(u||[],p||[],ou)}var Y8=pt(function(u){var p=u.length,b=p>1?u[p-1]:t;return b=typeof b=="function"?(u.pop(),b):t,Tv(u,b)});function kv(u){var p=Y(u);return p.__chain__=!0,p}function $8(u,p){return p(u),u}function vf(u,p){return p(u)}var G8=Qs(function(u){var p=u.length,b=p?u[0]:0,A=this.__wrapped__,B=function(G){return Np(G,u)};return p>1||this.__actions__.length||!(A instanceof Ct)||!Ks(b)?this.thru(B):(A=A.slice(b,+b+(p?1:0)),A.__actions__.push({func:vf,args:[B],thisArg:t}),new Ri(A,this.__chain__).thru(function(G){return p&&!G.length&&G.push(t),G}))});function X8(){return kv(this)}function Q8(){return new Ri(this.value(),this.__chain__)}function K8(){this.__values__===t&&(this.__values__=Hv(this.value()));var u=this.__index__>=this.__values__.length,p=u?t:this.__values__[this.__index__++];return{done:u,value:p}}function Z8(){return this}function J8(u){for(var p,b=this;b instanceof nf;){var A=Cv(b);A.__index__=0,A.__values__=t,p?B.__wrapped__=A:p=A;var B=A;b=b.__wrapped__}return B.__wrapped__=u,p}function eS(){var u=this.__wrapped__;if(u instanceof Ct){var p=u;return this.__actions__.length&&(p=new Ct(this)),p=p.reverse(),p.__actions__.push({func:vf,args:[Zp],thisArg:t}),new Ri(p,this.__chain__)}return this.thru(Zp)}function tS(){return V2(this.__wrapped__,this.__actions__)}var nS=uf(function(u,p,b){bt.call(u,b)?++u[b]:Gs(u,b,1)});function rS(u,p,b){var A=lt(u)?zd:$_;return b&&Pr(u,p,b)&&(p=t),A(u,Ze(p,3))}function iS(u,p){var b=lt(u)?Di:T2;return b(u,Ze(p,3))}var sS=nv(Ev),aS=nv(Nv);function oS(u,p){return gr(wf(u,p),1)}function lS(u,p){return gr(wf(u,p),ge)}function cS(u,p,b){return b=b===t?1:dt(b),gr(wf(u,p),b)}function Dv(u,p){var b=lt(u)?Gr:Ia;return b(u,Ze(p,3))}function Iv(u,p){var b=lt(u)?mp:A2;return b(u,Ze(p,3))}var uS=uf(function(u,p,b){bt.call(u,b)?u[b].push(p):Gs(u,b,[p])});function dS(u,p,b,A){u=Qr(u)?u:Ml(u),b=b&&!A?dt(b):0;var B=u.length;return b<0&&(b=tr(B+b,0)),Nf(u)?b<=B&&u.indexOf(p,b)>-1:!!B&&mr(u,p,b)>-1}var fS=pt(function(u,p,b){var A=-1,B=typeof p=="function",G=Qr(u)?X(u.length):[];return Ia(u,function(J){G[++A]=B?sr(p,J,b):su(J,p,b)}),G}),hS=uf(function(u,p,b){Gs(u,b,p)});function wf(u,p){var b=lt(u)?it:O2;return b(u,Ze(p,3))}function pS(u,p,b,A){return u==null?[]:(lt(p)||(p=p==null?[]:[p]),b=A?t:b,lt(b)||(b=b==null?[]:[b]),F2(u,p,b))}var mS=uf(function(u,p,b){u[b?0:1].push(p)},function(){return[[],[]]});function gS(u,p,b){var A=lt(u)?Qi:Wd,B=arguments.length<3;return A(u,Ze(p,4),b,B,Ia)}function xS(u,p,b){var A=lt(u)?Xt:Wd,B=arguments.length<3;return A(u,Ze(p,4),b,B,A2)}function vS(u,p){var b=lt(u)?Di:T2;return b(u,Cf(Ze(p,3)))}function wS(u){var p=lt(u)?E2:d5;return p(u)}function yS(u,p,b){(b?Pr(u,p,b):p===t)?p=1:p=dt(p);var A=lt(u)?W_:f5;return A(u,p)}function bS(u){var p=lt(u)?H_:p5;return p(u)}function CS(u){if(u==null)return 0;if(Qr(u))return Nf(u)?h(u):u.length;var p=Ar(u);return p==Ye||p==Ee?u.size:Dp(u).length}function ES(u,p,b){var A=lt(u)?Qe:m5;return b&&Pr(u,p,b)&&(p=t),A(u,Ze(p,3))}var NS=pt(function(u,p){if(u==null)return[];var b=p.length;return b>1&&Pr(u,p[0],p[1])?p=[]:b>2&&Pr(p[0],p[1],p[2])&&(p=[p[0]]),F2(u,gr(p,1),[])}),yf=i_||function(){return Yn.Date.now()};function _S(u,p){if(typeof p!="function")throw new xn(d);return u=dt(u),function(){if(--u<1)return p.apply(this,arguments)}}function Rv(u,p,b){return p=b?t:p,p=u&&p==null?u.length:p,Xs(u,P,t,t,t,t,p)}function jv(u,p){var b;if(typeof p!="function")throw new xn(d);return u=dt(u),function(){return--u>0&&(b=p.apply(this,arguments)),u<=1&&(p=t),b}}var e1=pt(function(u,p,b){var A=O;if(b.length){var B=L(b,jl(e1));A|=Q}return Xs(u,A,p,b,B)}),Ov=pt(function(u,p,b){var A=O|I;if(b.length){var B=L(b,jl(Ov));A|=Q}return Xs(p,A,u,b,B)});function Mv(u,p,b){p=b?t:p;var A=Xs(u,j,t,t,t,t,t,p);return A.placeholder=Mv.placeholder,A}function Lv(u,p,b){p=b?t:p;var A=Xs(u,q,t,t,t,t,t,p);return A.placeholder=Lv.placeholder,A}function Pv(u,p,b){var A,B,G,J,re,oe,ye=0,be=!1,Ne=!1,Oe=!0;if(typeof u!="function")throw new xn(d);p=Li(p)||0,Cn(b)&&(be=!!b.leading,Ne="maxWait"in b,G=Ne?tr(Li(b.maxWait)||0,p):G,Oe="trailing"in b?!!b.trailing:Oe);function Ve(Un){var es=A,ea=B;return A=B=t,ye=Un,J=u.apply(ea,es),J}function et(Un){return ye=Un,re=uu(vt,p),be?Ve(Un):J}function ht(Un){var es=Un-oe,ea=Un-ye,nw=p-es;return Ne?Sr(nw,G-ea):nw}function tt(Un){var es=Un-oe,ea=Un-ye;return oe===t||es>=p||es<0||Ne&&ea>=G}function vt(){var Un=yf();if(tt(Un))return St(Un);re=uu(vt,ht(Un))}function St(Un){return re=t,Oe&&A?Ve(Un):(A=B=t,J)}function hi(){re!==t&&$2(re),ye=0,A=oe=B=re=t}function Fr(){return re===t?J:St(yf())}function pi(){var Un=yf(),es=tt(Un);if(A=arguments,B=this,oe=Un,es){if(re===t)return et(oe);if(Ne)return $2(re),re=uu(vt,p),Ve(oe)}return re===t&&(re=uu(vt,p)),J}return pi.cancel=hi,pi.flush=Fr,pi}var SS=pt(function(u,p){return S2(u,1,p)}),AS=pt(function(u,p,b){return S2(u,Li(p)||0,b)});function TS(u){return Xs(u,W)}function bf(u,p){if(typeof u!="function"||p!=null&&typeof p!="function")throw new xn(d);var b=function(){var A=arguments,B=p?p.apply(this,A):A[0],G=b.cache;if(G.has(B))return G.get(B);var J=u.apply(this,A);return b.cache=G.set(B,J)||G,J};return b.cache=new(bf.Cache||$s),b}bf.Cache=$s;function Cf(u){if(typeof u!="function")throw new xn(d);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}function kS(u){return jv(2,u)}var DS=g5(function(u,p){p=p.length==1&&lt(p[0])?it(p[0],Dn(Ze())):it(gr(p,1),Dn(Ze()));var b=p.length;return pt(function(A){for(var B=-1,G=Sr(A.length,b);++B<G;)A[B]=p[B].call(this,A[B]);return sr(u,this,A)})}),t1=pt(function(u,p){var b=L(p,jl(t1));return Xs(u,Q,t,p,b)}),Fv=pt(function(u,p){var b=L(p,jl(Fv));return Xs(u,z,t,p,b)}),IS=Qs(function(u,p){return Xs(u,V,t,t,t,p)});function RS(u,p){if(typeof u!="function")throw new xn(d);return p=p===t?p:dt(p),pt(u,p)}function jS(u,p){if(typeof u!="function")throw new xn(d);return p=p==null?0:tr(dt(p),0),pt(function(b){var A=b[p],B=Oa(b,0,p);return A&&ci(B,A),sr(u,this,B)})}function OS(u,p,b){var A=!0,B=!0;if(typeof u!="function")throw new xn(d);return Cn(b)&&(A="leading"in b?!!b.leading:A,B="trailing"in b?!!b.trailing:B),Pv(u,p,{leading:A,maxWait:p,trailing:B})}function MS(u){return Rv(u,1)}function LS(u,p){return t1(Bp(p),u)}function PS(){if(!arguments.length)return[];var u=arguments[0];return lt(u)?u:[u]}function FS(u){return ji(u,T)}function BS(u,p){return p=typeof p=="function"?p:t,ji(u,T,p)}function US(u){return ji(u,E|T)}function zS(u,p){return p=typeof p=="function"?p:t,ji(u,E|T,p)}function WS(u,p){return p==null||_2(u,p,lr(p))}function Ji(u,p){return u===p||u!==u&&p!==p}var HS=pf(Ap),qS=pf(function(u,p){return u>=p}),Bo=I2(function(){return arguments}())?I2:function(u){return In(u)&&bt.call(u,"callee")&&!x2.call(u,"callee")},lt=X.isArray,VS=So?Dn(So):J_;function Qr(u){return u!=null&&Ef(u.length)&&!Zs(u)}function Bn(u){return In(u)&&Qr(u)}function YS(u){return u===!0||u===!1||In(u)&&Lr(u)==We}var Ma=a_||f1,$S=Xi?Dn(Xi):e5;function GS(u){return In(u)&&u.nodeType===1&&!du(u)}function XS(u){if(u==null)return!0;if(Qr(u)&&(lt(u)||typeof u=="string"||typeof u.splice=="function"||Ma(u)||Ol(u)||Bo(u)))return!u.length;var p=Ar(u);if(p==Ye||p==Ee)return!u.size;if(cu(u))return!Dp(u).length;for(var b in u)if(bt.call(u,b))return!1;return!0}function QS(u,p){return au(u,p)}function KS(u,p,b){b=typeof b=="function"?b:t;var A=b?b(u,p):t;return A===t?au(u,p,t,b):!!A}function n1(u){if(!In(u))return!1;var p=Lr(u);return p==Vt||p==Ln||typeof u.message=="string"&&typeof u.name=="string"&&!du(u)}function ZS(u){return typeof u=="number"&&w2(u)}function Zs(u){if(!Cn(u))return!1;var p=Lr(u);return p==pn||p==Se||p==je||p==ot}function Bv(u){return typeof u=="number"&&u==dt(u)}function Ef(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ue}function Cn(u){var p=typeof u;return u!=null&&(p=="object"||p=="function")}function In(u){return u!=null&&typeof u=="object"}var Uv=Bd?Dn(Bd):n5;function JS(u,p){return u===p||kp(u,p,Yp(p))}function e6(u,p,b){return b=typeof b=="function"?b:t,kp(u,p,Yp(p),b)}function t6(u){return zv(u)&&u!=+u}function n6(u){if(B5(u))throw new pe(a);return R2(u)}function r6(u){return u===null}function i6(u){return u==null}function zv(u){return typeof u=="number"||In(u)&&Lr(u)==jt}function du(u){if(!In(u)||Lr(u)!=yt)return!1;var p=Xd(u);if(p===null)return!0;var b=bt.call(p,"constructor")&&p.constructor;return typeof b=="function"&&b instanceof b&&Ki.call(b)==e_}var r1=fe?Dn(fe):r5;function s6(u){return Bv(u)&&u>=-ue&&u<=ue}var Wv=ct?Dn(ct):i5;function Nf(u){return typeof u=="string"||!lt(u)&&In(u)&&Lr(u)==Pn}function fi(u){return typeof u=="symbol"||In(u)&&Lr(u)==hr}var Ol=$n?Dn($n):s5;function a6(u){return u===t}function o6(u){return In(u)&&Ar(u)==Ge}function l6(u){return In(u)&&Lr(u)==At}var c6=pf(Ip),u6=pf(function(u,p){return u<=p});function Hv(u){if(!u)return[];if(Qr(u))return Nf(u)?m(u):Xr(u);if(Zc&&u[Zc])return Do(u[Zc]());var p=Ar(u),b=p==Ye?xt:p==Ee?s:Ml;return b(u)}function Js(u){if(!u)return u===0?u:0;if(u=Li(u),u===ge||u===-ge){var p=u<0?-1:1;return p*_e}return u===u?u:0}function dt(u){var p=Js(u),b=p%1;return p===p?b?p-b:p:0}function qv(u){return u?Mo(dt(u),0,qe):0}function Li(u){if(typeof u=="number")return u;if(fi(u))return Ie;if(Cn(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=Cn(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=Hd(u);var b=Ai.test(u);return b||cp.test(u)?Nr(u.slice(2),b?2:8):vl.test(u)?Ie:+u}function Vv(u){return vs(u,Kr(u))}function d6(u){return u?Mo(dt(u),-ue,ue):u===0?u:0}function zt(u){return u==null?"":di(u)}var f6=Il(function(u,p){if(cu(p)||Qr(p)){vs(p,lr(p),u);return}for(var b in p)bt.call(p,b)&&ru(u,b,p[b])}),Yv=Il(function(u,p){vs(p,Kr(p),u)}),_f=Il(function(u,p,b,A){vs(p,Kr(p),u,A)}),h6=Il(function(u,p,b,A){vs(p,lr(p),u,A)}),p6=Qs(Np);function m6(u,p){var b=Dl(u);return p==null?b:N2(b,p)}var g6=pt(function(u,p){u=He(u);var b=-1,A=p.length,B=A>2?p[2]:t;for(B&&Pr(p[0],p[1],B)&&(A=1);++b<A;)for(var G=p[b],J=Kr(G),re=-1,oe=J.length;++re<oe;){var ye=J[re],be=u[ye];(be===t||Ji(be,vn[ye])&&!bt.call(u,ye))&&(u[ye]=G[ye])}return u}),x6=pt(function(u){return u.push(t,cv),sr($v,t,u)});function v6(u,p){return Vs(u,Ze(p,3),xs)}function w6(u,p){return Vs(u,Ze(p,3),Sp)}function y6(u,p){return u==null?u:_p(u,Ze(p,3),Kr)}function b6(u,p){return u==null?u:k2(u,Ze(p,3),Kr)}function C6(u,p){return u&&xs(u,Ze(p,3))}function E6(u,p){return u&&Sp(u,Ze(p,3))}function N6(u){return u==null?[]:af(u,lr(u))}function _6(u){return u==null?[]:af(u,Kr(u))}function i1(u,p,b){var A=u==null?t:Lo(u,p);return A===t?b:A}function S6(u,p){return u!=null&&fv(u,p,X_)}function s1(u,p){return u!=null&&fv(u,p,Q_)}var A6=iv(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Yd.call(p)),u[p]=b},o1(Zr)),T6=iv(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Yd.call(p)),bt.call(u,p)?u[p].push(b):u[p]=[b]},Ze),k6=pt(su);function lr(u){return Qr(u)?C2(u):Dp(u)}function Kr(u){return Qr(u)?C2(u,!0):a5(u)}function D6(u,p){var b={};return p=Ze(p,3),xs(u,function(A,B,G){Gs(b,p(A,B,G),A)}),b}function I6(u,p){var b={};return p=Ze(p,3),xs(u,function(A,B,G){Gs(b,B,p(A,B,G))}),b}var R6=Il(function(u,p,b){of(u,p,b)}),$v=Il(function(u,p,b,A){of(u,p,b,A)}),j6=Qs(function(u,p){var b={};if(u==null)return b;var A=!1;p=it(p,function(G){return G=ja(G,u),A||(A=G.length>1),G}),vs(u,qp(u),b),A&&(b=ji(b,E|_|T,A5));for(var B=p.length;B--;)Lp(b,p[B]);return b});function O6(u,p){return Gv(u,Cf(Ze(p)))}var M6=Qs(function(u,p){return u==null?{}:l5(u,p)});function Gv(u,p){if(u==null)return{};var b=it(qp(u),function(A){return[A]});return p=Ze(p),B2(u,b,function(A,B){return p(A,B[0])})}function L6(u,p,b){p=ja(p,u);var A=-1,B=p.length;for(B||(B=1,u=t);++A<B;){var G=u==null?t:u[ws(p[A])];G===t&&(A=B,G=b),u=Zs(G)?G.call(u):G}return u}function P6(u,p,b){return u==null?u:ou(u,p,b)}function F6(u,p,b,A){return A=typeof A=="function"?A:t,u==null?u:ou(u,p,b,A)}var Xv=ov(lr),Qv=ov(Kr);function B6(u,p,b){var A=lt(u),B=A||Ma(u)||Ol(u);if(p=Ze(p,4),b==null){var G=u&&u.constructor;B?b=A?new G:[]:Cn(u)?b=Zs(G)?Dl(Xd(u)):{}:b={}}return(B?Gr:xs)(u,function(J,re,oe){return p(b,J,re,oe)}),b}function U6(u,p){return u==null?!0:Lp(u,p)}function z6(u,p,b){return u==null?u:q2(u,p,Bp(b))}function W6(u,p,b,A){return A=typeof A=="function"?A:t,u==null?u:q2(u,p,Bp(b),A)}function Ml(u){return u==null?[]:Ta(u,lr(u))}function H6(u){return u==null?[]:Ta(u,Kr(u))}function q6(u,p,b){return b===t&&(b=p,p=t),b!==t&&(b=Li(b),b=b===b?b:0),p!==t&&(p=Li(p),p=p===p?p:0),Mo(Li(u),p,b)}function V6(u,p,b){return p=Js(p),b===t?(b=p,p=0):b=Js(b),u=Li(u),K_(u,p,b)}function Y6(u,p,b){if(b&&typeof b!="boolean"&&Pr(u,p,b)&&(p=b=t),b===t&&(typeof p=="boolean"?(b=p,p=t):typeof u=="boolean"&&(b=u,u=t)),u===t&&p===t?(u=0,p=1):(u=Js(u),p===t?(p=u,u=0):p=Js(p)),u>p){var A=u;u=p,p=A}if(b||u%1||p%1){var B=y2();return Sr(u+B*(p-u+_o("1e-"+((B+"").length-1))),p)}return jp(u,p)}var $6=Rl(function(u,p,b){return p=p.toLowerCase(),u+(b?Kv(p):p)});function Kv(u){return a1(zt(u).toLowerCase())}function Zv(u){return u=zt(u),u&&u.replace(pr,Qc).replace(hp,"")}function G6(u,p,b){u=zt(u),p=di(p);var A=u.length;b=b===t?A:Mo(dt(b),0,A);var B=b;return b-=p.length,b>=0&&u.slice(b,B)==p}function X6(u){return u=zt(u),u&&Dd.test(u)?u.replace(ms,vp):u}function Q6(u){return u=zt(u),u&&Bs.test(u)?u.replace(Pc,"\\$&"):u}var K6=Rl(function(u,p,b){return u+(b?"-":"")+p.toLowerCase()}),Z6=Rl(function(u,p,b){return u+(b?" ":"")+p.toLowerCase()}),J6=tv("toLowerCase");function eA(u,p,b){u=zt(u),p=dt(p);var A=p?h(u):0;if(!p||A>=p)return u;var B=(p-A)/2;return hf(Jd(B),b)+u+hf(Zd(B),b)}function tA(u,p,b){u=zt(u),p=dt(p);var A=p?h(u):0;return p&&A<p?u+hf(p-A,b):u}function nA(u,p,b){u=zt(u),p=dt(p);var A=p?h(u):0;return p&&A<p?hf(p-A,b)+u:u}function rA(u,p,b){return b||p==null?p=0:p&&(p=+p),u_(zt(u).replace(wo,""),p||0)}function iA(u,p,b){return(b?Pr(u,p,b):p===t)?p=1:p=dt(p),Op(zt(u),p)}function sA(){var u=arguments,p=zt(u[0]);return u.length<3?p:p.replace(u[1],u[2])}var aA=Rl(function(u,p,b){return u+(b?"_":"")+p.toLowerCase()});function oA(u,p,b){return b&&typeof b!="number"&&Pr(u,p,b)&&(p=b=t),b=b===t?qe:b>>>0,b?(u=zt(u),u&&(typeof p=="string"||p!=null&&!r1(p))&&(p=di(p),!p&&ka(u))?Oa(m(u),0,b):u.split(p,b)):[]}var lA=Rl(function(u,p,b){return u+(b?" ":"")+a1(p)});function cA(u,p,b){return u=zt(u),b=b==null?0:Mo(dt(b),0,u.length),p=di(p),u.slice(b,b+p.length)==p}function uA(u,p,b){var A=Y.templateSettings;b&&Pr(u,p,b)&&(p=t),u=zt(u),p=_f({},p,A,lv);var B=_f({},p.imports,A.imports,lv),G=lr(B),J=Ta(B,G),re,oe,ye=0,be=p.interpolate||$t,Ne="__p += '",Oe=st((p.escape||$t).source+"|"+be.source+"|"+(be===Kn?Na:$t).source+"|"+(p.evaluate||$t).source+"|$","g"),Ve="//# sourceURL="+(bt.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ws+"]")+`
`;u.replace(Oe,function(tt,vt,St,hi,Fr,pi){return St||(St=hi),Ne+=u.slice(ye,pi).replace(Id,qd),vt&&(re=!0,Ne+=`' +
__e(`+vt+`) +
'`),Fr&&(oe=!0,Ne+=`';
`+Fr+`;
__p += '`),St&&(Ne+=`' +
((__t = (`+St+`)) == null ? '' : __t) +
'`),ye=pi+tt.length,tt}),Ne+=`';
`;var et=bt.call(p,"variable")&&p.variable;if(!et)Ne=`with (obj) {
`+Ne+`
}
`;else if(Fc.test(et))throw new pe(g);Ne=(oe?Ne.replace(Gi,""):Ne).replace(vo,"$1").replace(Td,"$1;"),Ne="function("+(et||"obj")+`) {
`+(et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(re?", __e = _.escape":"")+(oe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ne+`return __p
}`;var ht=ew(function(){return xe(G,Ve+"return "+Ne).apply(t,J)});if(ht.source=Ne,n1(ht))throw ht;return ht}function dA(u){return zt(u).toLowerCase()}function fA(u){return zt(u).toUpperCase()}function hA(u,p,b){if(u=zt(u),u&&(b||p===t))return Hd(u);if(!u||!(p=di(p)))return u;var A=m(u),B=m(p),G=Xc(A,B),J=ui(A,B)+1;return Oa(A,G,J).join("")}function pA(u,p,b){if(u=zt(u),u&&(b||p===t))return u.slice(0,w(u)+1);if(!u||!(p=di(p)))return u;var A=m(u),B=ui(A,m(p))+1;return Oa(A,0,B).join("")}function mA(u,p,b){if(u=zt(u),u&&(b||p===t))return u.replace(wo,"");if(!u||!(p=di(p)))return u;var A=m(u),B=Xc(A,m(p));return Oa(A,B).join("")}function gA(u,p){var b=se,A=ce;if(Cn(p)){var B="separator"in p?p.separator:B;b="length"in p?dt(p.length):b,A="omission"in p?di(p.omission):A}u=zt(u);var G=u.length;if(ka(u)){var J=m(u);G=J.length}if(b>=G)return u;var re=b-h(A);if(re<1)return A;var oe=J?Oa(J,0,re).join(""):u.slice(0,re);if(B===t)return oe+A;if(J&&(re+=oe.length-re),r1(B)){if(u.slice(re).search(B)){var ye,be=oe;for(B.global||(B=st(B.source,zt(yo.exec(B))+"g")),B.lastIndex=0;ye=B.exec(be);)var Ne=ye.index;oe=oe.slice(0,Ne===t?re:Ne)}}else if(u.indexOf(di(B),re)!=re){var Oe=oe.lastIndexOf(B);Oe>-1&&(oe=oe.slice(0,Oe))}return oe+A}function xA(u){return u=zt(u),u&&kd.test(u)?u.replace(Tt,C):u}var vA=Rl(function(u,p,b){return u+(b?" ":"")+p.toUpperCase()}),a1=tv("toUpperCase");function Jv(u,p,b){return u=zt(u),p=b?t:p,p===t?Kc(u)?F(u):qs(u):u.match(p)||[]}var ew=pt(function(u,p){try{return sr(u,t,p)}catch(b){return n1(b)?b:new pe(b)}}),wA=Qs(function(u,p){return Gr(p,function(b){b=ws(b),Gs(u,b,e1(u[b],u))}),u});function yA(u){var p=u==null?0:u.length,b=Ze();return u=p?it(u,function(A){if(typeof A[1]!="function")throw new xn(d);return[b(A[0]),A[1]]}):[],pt(function(A){for(var B=-1;++B<p;){var G=u[B];if(sr(G[0],this,A))return sr(G[1],this,A)}})}function bA(u){return Y_(ji(u,E))}function o1(u){return function(){return u}}function CA(u,p){return u==null||u!==u?p:u}var EA=rv(),NA=rv(!0);function Zr(u){return u}function l1(u){return j2(typeof u=="function"?u:ji(u,E))}function _A(u){return M2(ji(u,E))}function SA(u,p){return L2(u,ji(p,E))}var AA=pt(function(u,p){return function(b){return su(b,u,p)}}),TA=pt(function(u,p){return function(b){return su(u,b,p)}});function c1(u,p,b){var A=lr(p),B=af(p,A);b==null&&!(Cn(p)&&(B.length||!A.length))&&(b=p,p=u,u=this,B=af(p,lr(p)));var G=!(Cn(b)&&"chain"in b)||!!b.chain,J=Zs(u);return Gr(B,function(re){var oe=p[re];u[re]=oe,J&&(u.prototype[re]=function(){var ye=this.__chain__;if(G||ye){var be=u(this.__wrapped__),Ne=be.__actions__=Xr(this.__actions__);return Ne.push({func:oe,args:arguments,thisArg:u}),be.__chain__=ye,be}return oe.apply(u,ci([this.value()],arguments))})}),u}function kA(){return Yn._===this&&(Yn._=t_),this}function u1(){}function DA(u){return u=dt(u),pt(function(p){return P2(p,u)})}var IA=zp(it),RA=zp(zd),jA=zp(Qe);function tw(u){return Gp(u)?Sl(ws(u)):c5(u)}function OA(u){return function(p){return u==null?t:Lo(u,p)}}var MA=sv(),LA=sv(!0);function d1(){return[]}function f1(){return!1}function PA(){return{}}function FA(){return""}function BA(){return!0}function UA(u,p){if(u=dt(u),u<1||u>ue)return[];var b=qe,A=Sr(u,qe);p=Ze(p),u-=qe;for(var B=Gc(A,p);++b<u;)p(b);return B}function zA(u){return lt(u)?it(u,ws):fi(u)?[u]:Xr(bv(zt(u)))}function WA(u){var p=++wp;return zt(u)+p}var HA=ff(function(u,p){return u+p},0),qA=Wp("ceil"),VA=ff(function(u,p){return u/p},1),YA=Wp("floor");function $A(u){return u&&u.length?sf(u,Zr,Ap):t}function GA(u,p){return u&&u.length?sf(u,Ze(p,2),Ap):t}function XA(u){return _l(u,Zr)}function QA(u,p){return _l(u,Ze(p,2))}function KA(u){return u&&u.length?sf(u,Zr,Ip):t}function ZA(u,p){return u&&u.length?sf(u,Ze(p,2),Ip):t}var JA=ff(function(u,p){return u*p},1),eT=Wp("round"),tT=ff(function(u,p){return u-p},0);function nT(u){return u&&u.length?To(u,Zr):0}function rT(u,p){return u&&u.length?To(u,Ze(p,2)):0}return Y.after=_S,Y.ary=Rv,Y.assign=f6,Y.assignIn=Yv,Y.assignInWith=_f,Y.assignWith=h6,Y.at=p6,Y.before=jv,Y.bind=e1,Y.bindAll=wA,Y.bindKey=Ov,Y.castArray=PS,Y.chain=kv,Y.chunk=Y5,Y.compact=$5,Y.concat=G5,Y.cond=yA,Y.conforms=bA,Y.constant=o1,Y.countBy=nS,Y.create=m6,Y.curry=Mv,Y.curryRight=Lv,Y.debounce=Pv,Y.defaults=g6,Y.defaultsDeep=x6,Y.defer=SS,Y.delay=AS,Y.difference=X5,Y.differenceBy=Q5,Y.differenceWith=K5,Y.drop=Z5,Y.dropRight=J5,Y.dropRightWhile=e8,Y.dropWhile=t8,Y.fill=n8,Y.filter=iS,Y.flatMap=oS,Y.flatMapDeep=lS,Y.flatMapDepth=cS,Y.flatten=_v,Y.flattenDeep=r8,Y.flattenDepth=i8,Y.flip=TS,Y.flow=EA,Y.flowRight=NA,Y.fromPairs=s8,Y.functions=N6,Y.functionsIn=_6,Y.groupBy=uS,Y.initial=o8,Y.intersection=l8,Y.intersectionBy=c8,Y.intersectionWith=u8,Y.invert=A6,Y.invertBy=T6,Y.invokeMap=fS,Y.iteratee=l1,Y.keyBy=hS,Y.keys=lr,Y.keysIn=Kr,Y.map=wf,Y.mapKeys=D6,Y.mapValues=I6,Y.matches=_A,Y.matchesProperty=SA,Y.memoize=bf,Y.merge=R6,Y.mergeWith=$v,Y.method=AA,Y.methodOf=TA,Y.mixin=c1,Y.negate=Cf,Y.nthArg=DA,Y.omit=j6,Y.omitBy=O6,Y.once=kS,Y.orderBy=pS,Y.over=IA,Y.overArgs=DS,Y.overEvery=RA,Y.overSome=jA,Y.partial=t1,Y.partialRight=Fv,Y.partition=mS,Y.pick=M6,Y.pickBy=Gv,Y.property=tw,Y.propertyOf=OA,Y.pull=p8,Y.pullAll=Av,Y.pullAllBy=m8,Y.pullAllWith=g8,Y.pullAt=x8,Y.range=MA,Y.rangeRight=LA,Y.rearg=IS,Y.reject=vS,Y.remove=v8,Y.rest=RS,Y.reverse=Zp,Y.sampleSize=yS,Y.set=P6,Y.setWith=F6,Y.shuffle=bS,Y.slice=w8,Y.sortBy=NS,Y.sortedUniq=S8,Y.sortedUniqBy=A8,Y.split=oA,Y.spread=jS,Y.tail=T8,Y.take=k8,Y.takeRight=D8,Y.takeRightWhile=I8,Y.takeWhile=R8,Y.tap=$8,Y.throttle=OS,Y.thru=vf,Y.toArray=Hv,Y.toPairs=Xv,Y.toPairsIn=Qv,Y.toPath=zA,Y.toPlainObject=Vv,Y.transform=B6,Y.unary=MS,Y.union=j8,Y.unionBy=O8,Y.unionWith=M8,Y.uniq=L8,Y.uniqBy=P8,Y.uniqWith=F8,Y.unset=U6,Y.unzip=Jp,Y.unzipWith=Tv,Y.update=z6,Y.updateWith=W6,Y.values=Ml,Y.valuesIn=H6,Y.without=B8,Y.words=Jv,Y.wrap=LS,Y.xor=U8,Y.xorBy=z8,Y.xorWith=W8,Y.zip=H8,Y.zipObject=q8,Y.zipObjectDeep=V8,Y.zipWith=Y8,Y.entries=Xv,Y.entriesIn=Qv,Y.extend=Yv,Y.extendWith=_f,c1(Y,Y),Y.add=HA,Y.attempt=ew,Y.camelCase=$6,Y.capitalize=Kv,Y.ceil=qA,Y.clamp=q6,Y.clone=FS,Y.cloneDeep=US,Y.cloneDeepWith=zS,Y.cloneWith=BS,Y.conformsTo=WS,Y.deburr=Zv,Y.defaultTo=CA,Y.divide=VA,Y.endsWith=G6,Y.eq=Ji,Y.escape=X6,Y.escapeRegExp=Q6,Y.every=rS,Y.find=sS,Y.findIndex=Ev,Y.findKey=v6,Y.findLast=aS,Y.findLastIndex=Nv,Y.findLastKey=w6,Y.floor=YA,Y.forEach=Dv,Y.forEachRight=Iv,Y.forIn=y6,Y.forInRight=b6,Y.forOwn=C6,Y.forOwnRight=E6,Y.get=i1,Y.gt=HS,Y.gte=qS,Y.has=S6,Y.hasIn=s1,Y.head=Sv,Y.identity=Zr,Y.includes=dS,Y.indexOf=a8,Y.inRange=V6,Y.invoke=k6,Y.isArguments=Bo,Y.isArray=lt,Y.isArrayBuffer=VS,Y.isArrayLike=Qr,Y.isArrayLikeObject=Bn,Y.isBoolean=YS,Y.isBuffer=Ma,Y.isDate=$S,Y.isElement=GS,Y.isEmpty=XS,Y.isEqual=QS,Y.isEqualWith=KS,Y.isError=n1,Y.isFinite=ZS,Y.isFunction=Zs,Y.isInteger=Bv,Y.isLength=Ef,Y.isMap=Uv,Y.isMatch=JS,Y.isMatchWith=e6,Y.isNaN=t6,Y.isNative=n6,Y.isNil=i6,Y.isNull=r6,Y.isNumber=zv,Y.isObject=Cn,Y.isObjectLike=In,Y.isPlainObject=du,Y.isRegExp=r1,Y.isSafeInteger=s6,Y.isSet=Wv,Y.isString=Nf,Y.isSymbol=fi,Y.isTypedArray=Ol,Y.isUndefined=a6,Y.isWeakMap=o6,Y.isWeakSet=l6,Y.join=d8,Y.kebabCase=K6,Y.last=Mi,Y.lastIndexOf=f8,Y.lowerCase=Z6,Y.lowerFirst=J6,Y.lt=c6,Y.lte=u6,Y.max=$A,Y.maxBy=GA,Y.mean=XA,Y.meanBy=QA,Y.min=KA,Y.minBy=ZA,Y.stubArray=d1,Y.stubFalse=f1,Y.stubObject=PA,Y.stubString=FA,Y.stubTrue=BA,Y.multiply=JA,Y.nth=h8,Y.noConflict=kA,Y.noop=u1,Y.now=yf,Y.pad=eA,Y.padEnd=tA,Y.padStart=nA,Y.parseInt=rA,Y.random=Y6,Y.reduce=gS,Y.reduceRight=xS,Y.repeat=iA,Y.replace=sA,Y.result=L6,Y.round=eT,Y.runInContext=U,Y.sample=wS,Y.size=CS,Y.snakeCase=aA,Y.some=ES,Y.sortedIndex=y8,Y.sortedIndexBy=b8,Y.sortedIndexOf=C8,Y.sortedLastIndex=E8,Y.sortedLastIndexBy=N8,Y.sortedLastIndexOf=_8,Y.startCase=lA,Y.startsWith=cA,Y.subtract=tT,Y.sum=nT,Y.sumBy=rT,Y.template=uA,Y.times=UA,Y.toFinite=Js,Y.toInteger=dt,Y.toLength=qv,Y.toLower=dA,Y.toNumber=Li,Y.toSafeInteger=d6,Y.toString=zt,Y.toUpper=fA,Y.trim=hA,Y.trimEnd=pA,Y.trimStart=mA,Y.truncate=gA,Y.unescape=xA,Y.uniqueId=WA,Y.upperCase=vA,Y.upperFirst=a1,Y.each=Dv,Y.eachRight=Iv,Y.first=Sv,c1(Y,function(){var u={};return xs(Y,function(p,b){bt.call(Y.prototype,b)||(u[b]=p)}),u}(),{chain:!1}),Y.VERSION=r,Gr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Y[u].placeholder=Y}),Gr(["drop","take"],function(u,p){Ct.prototype[u]=function(b){b=b===t?1:tr(dt(b),0);var A=this.__filtered__&&!p?new Ct(this):this.clone();return A.__filtered__?A.__takeCount__=Sr(b,A.__takeCount__):A.__views__.push({size:Sr(b,qe),type:u+(A.__dir__<0?"Right":"")}),A},Ct.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),Gr(["filter","map","takeWhile"],function(u,p){var b=p+1,A=b==he||b==ve;Ct.prototype[u]=function(B){var G=this.clone();return G.__iteratees__.push({iteratee:Ze(B,3),type:b}),G.__filtered__=G.__filtered__||A,G}}),Gr(["head","last"],function(u,p){var b="take"+(p?"Right":"");Ct.prototype[u]=function(){return this[b](1).value()[0]}}),Gr(["initial","tail"],function(u,p){var b="drop"+(p?"":"Right");Ct.prototype[u]=function(){return this.__filtered__?new Ct(this):this[b](1)}}),Ct.prototype.compact=function(){return this.filter(Zr)},Ct.prototype.find=function(u){return this.filter(u).head()},Ct.prototype.findLast=function(u){return this.reverse().find(u)},Ct.prototype.invokeMap=pt(function(u,p){return typeof u=="function"?new Ct(this):this.map(function(b){return su(b,u,p)})}),Ct.prototype.reject=function(u){return this.filter(Cf(Ze(u)))},Ct.prototype.slice=function(u,p){u=dt(u);var b=this;return b.__filtered__&&(u>0||p<0)?new Ct(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),p!==t&&(p=dt(p),b=p<0?b.dropRight(-p):b.take(p-u)),b)},Ct.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Ct.prototype.toArray=function(){return this.take(qe)},xs(Ct.prototype,function(u,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),A=/^(?:head|last)$/.test(p),B=Y[A?"take"+(p=="last"?"Right":""):p],G=A||/^find/.test(p);B&&(Y.prototype[p]=function(){var J=this.__wrapped__,re=A?[1]:arguments,oe=J instanceof Ct,ye=re[0],be=oe||lt(J),Ne=function(vt){var St=B.apply(Y,ci([vt],re));return A&&Oe?St[0]:St};be&&b&&typeof ye=="function"&&ye.length!=1&&(oe=be=!1);var Oe=this.__chain__,Ve=!!this.__actions__.length,et=G&&!Oe,ht=oe&&!Ve;if(!G&&be){J=ht?J:new Ct(this);var tt=u.apply(J,re);return tt.__actions__.push({func:vf,args:[Ne],thisArg:t}),new Ri(tt,Oe)}return et&&ht?u.apply(this,re):(tt=this.thru(Ne),et?A?tt.value()[0]:tt.value():tt)})}),Gr(["pop","push","shift","sort","splice","unshift"],function(u){var p=er[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",A=/^(?:pop|shift)$/.test(u);Y.prototype[u]=function(){var B=arguments;if(A&&!this.__chain__){var G=this.value();return p.apply(lt(G)?G:[],B)}return this[b](function(J){return p.apply(lt(J)?J:[],B)})}}),xs(Ct.prototype,function(u,p){var b=Y[p];if(b){var A=b.name+"";bt.call(kl,A)||(kl[A]=[]),kl[A].push({name:p,func:b})}}),kl[df(t,I).name]=[{name:"wrapper",func:t}],Ct.prototype.clone=x_,Ct.prototype.reverse=v_,Ct.prototype.value=w_,Y.prototype.at=G8,Y.prototype.chain=X8,Y.prototype.commit=Q8,Y.prototype.next=K8,Y.prototype.plant=J8,Y.prototype.reverse=eS,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=tS,Y.prototype.first=Y.prototype.head,Zc&&(Y.prototype[Zc]=Z8),Y},Z=H();Hs?((Hs.exports=Z)._=Z,Vc._=Z):Yn._=Z}).call(As)})(gh,gh.exports);var TN=gh.exports;const pF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),mF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),gF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})}),xF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),vF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),wF=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),c.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),yF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),J1=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),Bb=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),bF=({equipmentData:e,onFilterChange:n,currentFilters:t,isLoading:r})=>{const a=(()=>{if(!e||e.length===0)return{status:{},categories:{},types:{},locations:{},brands:{},models:{}};const S={status:{},categories:{},types:{},locations:{},brands:{},models:{}};return e.forEach(R=>{const O=R.status||"unknown";S.status[O]=(S.status[O]||0)+1;const I=R.category||"Uncategorized";S.categories[I]=(S.categories[I]||0)+1;const D=R.type||"Unknown";S.types[D]=(S.types[D]||0)+1;const j=R.location||"No Location";S.locations[j]=(S.locations[j]||0)+1;const q=R.brand||"Unknown";S.brands[q]=(S.brands[q]||0)+1;const Q=R.model||"Unknown";S.models[Q]=(S.models[Q]||0)+1}),S})(),d=S=>{switch(S){case"available":return"text-green-700 bg-green-100 border-green-200";case"in-use":return"text-yellow-700 bg-yellow-100 border-yellow-200";case"maintenance":return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},g=(S,R)=>{switch(S){case"status":return t.status===R;case"category":return t.category===R;case"type":return t.type===R;case"location":return t.location===R;case"brand":return t.brand===R;case"model":return t.model===R;default:return!1}},v=(S,R)=>{const O={};g(S,R)?O[S]="":O[S]=R,n(O)},x=(S,R,O,I)=>{const D=Object.entries(R).sort((j,q)=>q[1]-j[1]);return D.length===0?null:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[c.jsx("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200",children:c.jsxs("h3",{className:"text-sm font-semibold text-slate-800 flex items-center gap-2",children:[I,S]})}),c.jsx("div",{className:"divide-y divide-slate-100",children:D.map(([j,q])=>{const Q=g(O,j);return c.jsx("button",{onClick:()=>v(O,j),className:`w-full px-4 py-3 text-left hover:bg-slate-50 transition-colors ${Q?"bg-blue-50 border-l-4 border-blue-500":""}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[O==="status"&&c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${d(j)}`,children:j}),O!=="status"&&c.jsx("span",{className:"text-sm font-medium text-slate-800 capitalize",children:j})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`text-sm font-semibold ${Q?"text-blue-700":"text-slate-600"}`,children:q}),Q&&c.jsx("svg",{className:"h-4 w-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})]})},j)})})]})};if(r)return c.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(S=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-3"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-3 bg-slate-200 rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2"}),c.jsx("div",{className:"h-3 bg-slate-200 rounded w-2/3"})]})]})},S))});const E=(()=>!e||e.length===0?[]:e.filter(S=>!(t.status&&S.status!==t.status||t.category&&S.category!==t.category||t.type&&S.type!==t.type||t.location&&S.location!==t.location||t.brand&&S.brand!==t.brand||t.model&&S.model!==t.model||t.search&&!`${S.brand} ${S.model} ${S.serial_number} ${S.type} ${S.category}`.toLowerCase().includes(t.search.toLowerCase()))))(),_=Object.values(t).some(S=>S&&(typeof S=="string"?S.trim()!=="":!0)),T=()=>!_||E.length===0?null:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 px-4 py-3 border-b border-slate-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[c.jsx("svg",{className:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v6a2 2 0 002 2h2m0-8h2m-2 0V3m0 2v2m2-2h2a2 2 0 012 2v6a2 2 0 01-2 2h-2m0 0v2a2 2 0 01-2 2H9a2 2 0 01-2-2v-2m2 0h2"})}),"Filtered Equipment (",E.length," items)"]}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(t).map(([S,R])=>!R||S==="dateRange"||typeof R=="string"&&R.trim()===""?null:c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[c.jsxs("span",{className:"capitalize",children:[S,":"]}),c.jsx("span",{className:"font-medium",children:R}),c.jsx("button",{onClick:O=>{O.stopPropagation(),n({[S]:""})},className:"ml-1 hover:bg-blue-200 rounded-full p-0.5",children:c.jsx("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},S))})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-sm text-slate-600",children:[E.length," of ",e.length," total"]}),c.jsx("p",{className:"text-xs text-slate-500",children:"Click items to view details"})]})]})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:c.jsx("div",{className:"divide-y divide-slate-100",children:E.map((S,R)=>c.jsx("div",{className:"p-4 hover:bg-slate-50 cursor-pointer transition-colors",onClick:()=>window.location.href=`/equipment/${S.id}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:S.images&&S.images.length>0?c.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:`${{}.VITE_API_URL}/uploads/${S.images[0]}`,alt:`${S.brand} ${S.model}`}):c.jsx("div",{className:"h-12 w-12 rounded-lg bg-slate-200 flex items-center justify-center",children:c.jsx("svg",{className:"h-6 w-6 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),c.jsxs("div",{children:[c.jsxs("h4",{className:"font-semibold text-slate-800",children:[S.brand," ",S.model]}),c.jsxs("p",{className:"text-sm text-slate-600",children:[S.type," • SN: ",S.serial_number]}),S.location&&c.jsxs("p",{className:"text-xs text-slate-500",children:["📍 ",S.location]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${d(S.status)}`,children:S.status}),c.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},S.id))})}),E.length>10&&c.jsx("div",{className:"bg-slate-50 px-4 py-2 text-center",children:c.jsxs("p",{className:"text-xs text-slate-500",children:["Showing ",Math.min(10,E.length)," of ",E.length," items"]})})]});return c.jsxs("div",{className:"space-y-6",children:[T(),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-lg font-semibold text-blue-800 mb-2 flex items-center gap-2",children:[c.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filter Summary View"]}),c.jsx("p",{className:"text-sm text-blue-700",children:"Click on any item below to filter the equipment list. Active filters are highlighted."})]}),_&&c.jsxs("button",{onClick:()=>n({status:"",category:"",type:"",location:"",brand:"",model:"",search:"",dateRange:{startDate:null,endDate:null}}),className:"px-4 py-2 bg-white border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 transition-colors flex items-center gap-2 text-sm font-medium",children:[c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear All Filters"]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[x("Status",a.status,"status",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})),x("Categories",a.categories,"category",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})),x("Types",a.types,"type",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.99 1.99 0 013 12V7a4 4 0 014-4z"})})),x("Locations",a.locations,"location",c.jsxs("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})),x("Brands",a.brands,"brand",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})),x("Models",a.models,"model",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v6a2 2 0 002 2h2m0-8h2m-2 0V3m0 2v2m2-2h2a2 2 0 012 2v6a2 2 0 01-2 2h-2m0 0v2a2 2 0 01-2 2H9a2 2 0 01-2-2v-2m2 0h2"})}))]})]})},CF=({equipmentData:e,onFilterChange:n,currentFilters:t,isLoading:r})=>{const a=(()=>{if(!e||e.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const v={total:e.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},x=new Date;return x.setDate(x.getDate()-7),e.forEach(y=>{y.status==="available"?v.available++:y.status==="in-use"?v.inUse++:y.status==="maintenance"&&v.maintenance++;const E=y.category||"Uncategorized";v.categories[E]=(v.categories[E]||0)+1;const _=y.type||"Unknown";v.types[_]=(v.types[_]||0)+1;const T=y.location||"No Location";v.locations[T]=(v.locations[T]||0)+1;const S=y.brand||"Unknown";v.brands[S]=(v.brands[S]||0)+1,new Date(y.created_at)>x&&v.recentlyAdded++}),v})(),d=[{title:"Total Equipment",value:a.total,icon:c.jsx(Bb,{}),color:"blue",filter:{status:""},description:"All equipment in system"},{title:"Available",value:a.available,icon:c.jsx(J1,{}),color:"green",filter:{status:"available"},description:"Ready for use"},{title:"In Use",value:a.inUse,icon:c.jsx(J1,{}),color:"yellow",filter:{status:"in-use"},description:"Currently deployed"},{title:"Maintenance",value:a.maintenance,icon:c.jsx(J1,{}),color:"red",filter:{status:"maintenance"},description:"Under repair"}],g=(v,x=!1)=>{const y={blue:{bg:x?"bg-blue-100 border-blue-500":"bg-blue-50 hover:bg-blue-100",text:"text-blue-700",border:"border-l-4 border-blue-500",icon:"text-blue-600"},green:{bg:x?"bg-green-100 border-green-500":"bg-green-50 hover:bg-green-100",text:"text-green-700",border:"border-l-4 border-green-500",icon:"text-green-600"},yellow:{bg:x?"bg-yellow-100 border-yellow-500":"bg-yellow-50 hover:bg-yellow-100",text:"text-yellow-700",border:"border-l-4 border-yellow-500",icon:"text-yellow-600"},red:{bg:x?"bg-red-100 border-red-500":"bg-red-50 hover:bg-red-100",text:"text-red-700",border:"border-l-4 border-red-500",icon:"text-red-600"}};return y[v]||y.blue};return c.jsxs("div",{className:"space-y-6 mb-6",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[c.jsx(Bb,{}),"Equipment Analytics"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map((v,x)=>{const y=t.status===v.filter.status,E=g(v.color,y);return c.jsx("button",{onClick:()=>n(v.filter),className:`${E.bg} ${E.border} p-4 rounded-lg transition-all duration-200 hover:shadow-md cursor-pointer text-left group ${y?"ring-2 ring-offset-2 ring-blue-500":""}`,title:`Filter by ${v.title.toLowerCase()}: ${v.description}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:`text-sm font-medium ${E.text} mb-1`,children:v.title}),c.jsx("p",{className:`text-2xl font-bold ${E.text}`,children:r?"...":v.value.toLocaleString()}),c.jsx("p",{className:`text-xs ${E.text} opacity-75 mt-1`,children:v.description})]}),c.jsx("div",{className:`${E.icon} group-hover:scale-110 transition-transform`,children:v.icon})]})},x)})})]}),c.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-4",children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.brands).length}),c.jsx("p",{className:"text-sm text-primary-600",children:"Brands"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.types).length}),c.jsx("p",{className:"text-sm text-primary-600",children:"Types"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.locations).length}),c.jsx("p",{className:"text-sm text-primary-600",children:"Locations"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-green-700",children:a.recentlyAdded}),c.jsx("p",{className:"text-sm text-green-600",children:"Added This Week"})]})]})})]})},EF=({equipment:e,canEdit:n,searchTerm:t})=>{const[r,i]=M.useState(!1);let a=null;if(e.reference_image_id)a=gc(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const v=e.files.find(x=>x.file_type==="image");v&&(a=gc(v.id,!0))}const d=v=>{switch(v){case"available":return c.jsx(ss,{variant:"success",children:v});case"in-use":return c.jsx(ss,{variant:"info",children:v});case"maintenance":return c.jsx(ss,{variant:"warning",children:v});default:return c.jsx(ss,{children:v})}},g=(v,x)=>{if(!x||!v)return v;const y=new RegExp(`(${x})`,"gi");return v.split(y).map((_,T)=>y.test(_)?c.jsx("span",{className:"bg-yellow-200 font-medium",children:_},T):_)};return c.jsxs(Ft,{className:"h-full transition-all duration-300 hover:shadow-lg hover:scale-[1.02] relative",children:[c.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[a?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:c.jsx("img",{src:a,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):c.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:c.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})}),r&&c.jsxs("div",{className:"absolute inset-0 bg-slate-900 bg-opacity-80 p-4 text-white overflow-y-auto",children:[c.jsxs("h4",{className:"font-medium",children:[e.brand," ",e.model]}),c.jsx("p",{className:"text-sm mt-1",children:e.description||"No description available"}),c.jsxs("p",{className:"text-sm mt-2",children:["Serial: ",e.serial_number]}),c.jsxs("p",{className:"text-sm",children:["Location: ",e.location||"Not specified"]})]})]}),c.jsxs(Ft.Body,{children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&c.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),d(e.status)]}),c.jsx("h2",{className:"text-lg font-semibold mb-1",children:t?c.jsxs(c.Fragment,{children:[g(e.brand,t)," ",g(e.model,t)]}):`${e.brand} ${e.model}`}),c.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",t?g(e.serial_number,t):e.serial_number]}),c.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[c.jsxs(ur,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[c.jsx(wF,{})," View"]}),n&&c.jsxs(ur,{to:`/equipment/${e.id}/edit`,className:"text-slate-600 hover:text-slate-800 flex items-center gap-1",children:[c.jsx(vF,{})," Edit"]})]})]})]})},NF=()=>c.jsxs("div",{className:"bg-white rounded-lg shadow-soft overflow-hidden h-full animate-pulse",children:[c.jsx("div",{className:"h-40 bg-slate-200"}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"})]}),c.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2 mb-4"}),c.jsxs("div",{className:"border-t border-slate-100 pt-2 flex justify-between",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]})]}),_F=({search:e,onApply:n,onDelete:t})=>c.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[c.jsx("button",{onClick:()=>n(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),c.jsx("button",{onClick:()=>t(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:c.jsx(xF,{className:"w-4 h-4"})})]}),Ub=()=>{var qt,Ln,Vt,pn;const{user:e,canEditEquipment:n}=ir(),t=Qn(),r=M.useRef(null),[i,a]=M.useState({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[d,g]=M.useState(""),[v,x]=M.useState(!1),[y,E]=M.useState(!1),[_,T]=M.useState("updated_at"),[S,R]=M.useState("desc"),[O,I]=M.useState("list"),[D,j]=M.useState(""),[q,Q]=M.useState(!1),{data:z,fetchNextPage:P,hasNextPage:V,isFetchingNextPage:W,isLoading:se,isError:ce,error:ae}=Px(["equipment",i,_,S],async({pageParam:Se=1})=>{const Ye={page:Se,limit:20,...i,sortBy:_,sortOrder:S};return i.dateRange&&i.dateRange.startDate&&i.dateRange.endDate&&(Ye.startDate=i.dateRange.startDate.toISOString(),Ye.endDate=i.dateRange.endDate.toISOString()),Zo(Ye)},{getNextPageParam:Se=>{if(Se.page<Se.totalPages)return Se.page+1},keepPreviousData:!0}),{data:ne,isLoading:he}=Et(["equipment-suggestions",d],()=>Zo({search:d,limit:5}),{enabled:!!d&&d.length>2,keepPreviousData:!0}),{data:ee}=Et(["saved-searches"],GE,{enabled:n()}),{data:ve=[]}=Et({queryKey:["equipmentTypes"],queryFn:Ls}),{data:ge=[]}=Et({queryKey:["categories"],queryFn:pl}),{data:ue}=Et(["equipment-analytics"],()=>Zo({limit:1e4}),{keepPreviousData:!0}),_e=M.useCallback(TN.debounce(Se=>{g(Se)},300),[]),Ie=Se=>{const Ye=Se.target.value;a(jt=>({...jt,search:Ye})),_e(Ye),Ye.length>2?x(!0):x(!1)},qe=Se=>{const{name:Ye,value:jt}=Se.target;a(yr=>({...yr,[Ye]:jt}))},nt=Se=>{const[Ye,jt]=Se;a(yr=>({...yr,dateRange:{startDate:Ye,endDate:jt}}))},fn=()=>{a({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),g(""),x(!1)},ft=Se=>{a(Ye=>({...Ye,...Se,dateRange:Ye.dateRange||{startDate:null,endDate:null}}))},hn=async()=>{if(!D.trim()){rt.error("Please enter a name for your saved search");return}try{await XE({name:D,filters:JSON.stringify(i),sortBy:_,sortOrder:S}),t.invalidateQueries(["saved-searches"]),j(""),Q(!1),rt.success("Search saved successfully")}catch(Se){rt.error("Failed to save search"),console.error("Save search error:",Se)}},De=Se=>{try{const Ye=JSON.parse(Se.filters);a(Ye),T(Se.sortBy||"updated_at"),R(Se.sortOrder||"desc"),rt.info(`Applied saved search: ${Se.name}`)}catch(Ye){rt.error("Failed to apply saved search"),console.error("Apply saved search error:",Ye)}},je=async Se=>{try{await QE(Se),t.invalidateQueries(["saved-searches"]),rt.success("Search deleted successfully")}catch(Ye){rt.error("Failed to delete search"),console.error("Delete saved search error:",Ye)}};M.useEffect(()=>{const Se=new IntersectionObserver(jt=>{jt[0].isIntersecting&&V&&!W&&P()},{threshold:.5}),Ye=r.current;return Ye&&Se.observe(Ye),()=>{Ye&&Se.unobserve(Ye)}},[r,P,V,W]);const We=(z==null?void 0:z.pages.flatMap(Se=>Se.equipment))||[];return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Qh,{position:"top-right",autoClose:3e3}),c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Dashboard"})}),c.jsx(CF,{equipmentData:(ue==null?void 0:ue.equipment)||[],onFilterChange:ft,currentFilters:i,isLoading:se}),c.jsx("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:c.jsxs("div",{className:"relative",children:[c.jsx(Pt,{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:i.search,onChange:Ie,icon:c.jsx(pF,{}),className:"rounded-full shadow-md","aria-label":"Search equipment catalog"}),v&&((qt=ne==null?void 0:ne.equipment)==null?void 0:qt.length)>0&&c.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:ne.equipment.map(Se=>c.jsxs(ur,{to:`/equipment/${Se.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[c.jsxs("div",{className:"font-medium",children:[Se.brand," ",Se.model]}),c.jsxs("div",{className:"text-sm text-slate-500",children:[Se.type," • SN: ",Se.serial_number]})]},Se.id))}),c.jsxs("div",{className:"flex mt-2 gap-2",children:[c.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>E(!y),className:"flex items-center gap-1","aria-expanded":y,"aria-controls":"filter-panel",children:[c.jsx(mF,{}),c.jsx("span",{children:y?"Hide Filters":"Show Filters"})]}),Object.values(i).some(Se=>Se&&(typeof Se=="string"?Se.trim()!=="":!0))&&c.jsxs(Ue,{variant:"outline",size:"sm",onClick:fn,className:"flex items-center gap-1 text-slate-600",children:[c.jsx(yF,{}),c.jsx("span",{children:"Clear Filters"})]}),c.jsx("div",{className:"ml-auto",children:c.jsx(wi,{id:"sort",name:"sort",value:`${_}-${S}`,onChange:Se=>{const[Ye,jt]=Se.target.value.split("-");T(Ye),R(jt)},options:[{value:"updated_at-desc",label:"Newest First"},{value:"updated_at-asc",label:"Oldest First"},{value:"brand-asc",label:"Brand (A-Z)"},{value:"brand-desc",label:"Brand (Z-A)"},{value:"model-asc",label:"Model (A-Z)"},{value:"model-desc",label:"Model (Z-A)"}],className:"w-40"})})]})]})}),n()&&c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),q?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Pt,{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:D,onChange:Se=>j(Se.target.value),className:"w-48"}),c.jsx(Ue,{variant:"primary",size:"sm",onClick:hn,children:"Save"}),c.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>{Q(!1),j("")},children:"Cancel"})]}):c.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>Q(!0),className:"flex items-center gap-1",children:[c.jsx(gF,{}),c.jsx("span",{children:"Save Current Search"})]})]}),c.jsx("div",{className:"flex flex-wrap",children:((Ln=ee==null?void 0:ee.searches)==null?void 0:Ln.length)>0?ee.searches.map(Se=>c.jsx(_F,{search:Se,onApply:De,onDelete:je},Se.id)):c.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),c.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${y?"max-h-96 opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:c.jsxs("div",{className:"p-4",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(wi,{id:"category",name:"category",label:"Category",value:i.category,onChange:qe,options:[{value:"",label:"All Categories"},...(ge||[]).map(Se=>({value:Se.name,label:Se.name}))]}),c.jsx(wi,{id:"type",name:"type",label:"Equipment Type",value:i.type,onChange:qe,options:[{value:"",label:"All Types"},...(ve||[]).map(Se=>({value:Se.name,label:Se.name}))]}),c.jsx(wi,{id:"status",name:"status",label:"Status",value:i.status,onChange:qe,options:[{value:"",label:"All Statuses"},{value:"available",label:"Available"},{value:"in-use",label:"In Use"},{value:"maintenance",label:"Maintenance"}]}),c.jsx(Pt,{id:"location",name:"location",label:"Location",placeholder:"Filter by location",value:i.location,onChange:qe}),c.jsxs("div",{className:"md:col-span-3",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),c.jsx(AN,{selectsRange:!0,startDate:((Vt=i.dateRange)==null?void 0:Vt.startDate)||null,endDate:((pn=i.dateRange)==null?void 0:pn.endDate)||null,onChange:nt,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-4 mb-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Equipment Results"}),c.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[We.length," items found"]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden",children:[c.jsx("button",{onClick:()=>I("list"),className:`px-3 py-2 text-sm font-medium transition-all ${O==="list"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Filter Summary view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),c.jsx("button",{onClick:()=>I("card"),className:`px-3 py-2 text-sm font-medium transition-all ${O==="card"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]})})]})}),"      ",c.jsx("div",{children:se?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((Se,Ye)=>c.jsx(NF,{},Ye))}):ce?c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:(ae==null?void 0:ae.message)||"Failed to load equipment data. Please try again."})})]})]})}):We.length===0?c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[c.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No equipment found"}),c.jsx("p",{className:"mt-2 text-slate-500",children:"Try adjusting your search or filter criteria to find what you're looking for."}),c.jsx(Ue,{variant:"outline",className:"mt-4",onClick:fn,children:"Clear All Filters"})]}):c.jsxs(c.Fragment,{children:[O==="card"&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:We.map(Se=>c.jsx(EF,{equipment:Se,canEdit:n(),searchTerm:i.search},Se.id))}),O==="list"&&c.jsx(bF,{equipmentData:(ue==null?void 0:ue.equipment)||[],onFilterChange:ft,currentFilters:i,isLoading:se}),"            ",c.jsx("div",{ref:r,className:"py-4 text-center",children:W?c.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),c.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):V?c.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):c.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})})]})},SF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),AF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),TF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})}),kF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),DF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),IF=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),c.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),RF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),jF=({equipment:e,canEdit:n,searchTerm:t})=>{const[r,i]=M.useState(!1);let a=null;if(e.reference_image_id)a=gc(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const v=e.files.find(x=>x.file_type==="image");v&&(a=gc(v.id,!0))}const d=v=>{switch(v){case"available":return c.jsx(ss,{variant:"success",children:v});case"in-use":return c.jsx(ss,{variant:"info",children:v});case"maintenance":return c.jsx(ss,{variant:"warning",children:v});default:return c.jsx(ss,{children:v})}},g=(v,x)=>{if(!x||!v)return v;const y=new RegExp(`(${x})`,"gi");return v.split(y).map((_,T)=>y.test(_)?c.jsx("span",{className:"bg-yellow-200 font-medium",children:_},T):_)};return c.jsxs(Ft,{className:"h-full transition-all duration-300 hover:shadow-lg hover:scale-[1.02] relative",children:[c.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[a?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:c.jsx("img",{src:a,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):c.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:c.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})}),r&&c.jsxs("div",{className:"absolute inset-0 bg-slate-900 bg-opacity-80 p-4 text-white overflow-y-auto",children:[c.jsxs("h4",{className:"font-medium",children:[e.brand," ",e.model]}),c.jsx("p",{className:"text-sm mt-1",children:e.description||"No description available"}),c.jsxs("p",{className:"text-sm mt-2",children:["Serial: ",e.serial_number]}),c.jsxs("p",{className:"text-sm",children:["Location: ",e.location||"Not specified"]})]})]}),c.jsxs(Ft.Body,{children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&c.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),d(e.status)]}),c.jsx("h2",{className:"text-lg font-semibold mb-1",children:t?c.jsxs(c.Fragment,{children:[g(e.brand,t)," ",g(e.model,t)]}):`${e.brand} ${e.model}`}),c.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",t?g(e.serial_number,t):e.serial_number]}),c.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[c.jsxs(ur,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[c.jsx(IF,{})," View"]}),n&&c.jsxs(ur,{to:`/equipment/${e.id}/edit`,className:"text-slate-600 hover:text-slate-800 flex items-center gap-1",children:[c.jsx(DF,{})," Edit"]})]})]})]})},OF=()=>c.jsxs("div",{className:"bg-white rounded-lg shadow-soft overflow-hidden h-full animate-pulse",children:[c.jsx("div",{className:"h-40 bg-slate-200"}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"})]}),c.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2 mb-4"}),c.jsxs("div",{className:"border-t border-slate-100 pt-2 flex justify-between",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]})]}),MF=({search:e,onApply:n,onDelete:t})=>c.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[c.jsx("button",{onClick:()=>n(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),c.jsx("button",{onClick:()=>t(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:c.jsx(kF,{className:"w-4 h-4"})})]}),LF=()=>{var hn,De;const{user:e,canEditEquipment:n}=ir(),t=Qn(),r=M.useRef(null),[i,a]=M.useState({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[d,g]=M.useState(""),[v,x]=M.useState(!1),[y,E]=M.useState(!1),[_,T]=M.useState("updated_at"),[S,R]=M.useState("desc"),[O,I]=M.useState(""),[D,j]=M.useState(!1),{data:q,fetchNextPage:Q,hasNextPage:z,isFetchingNextPage:P,isLoading:V,isError:W,error:se}=Px(["equipment",i,_,S],async({pageParam:je=1})=>{const We={page:je,limit:20,...i,sortBy:_,sortOrder:S};return i.dateRange.startDate&&i.dateRange.endDate&&(We.startDate=i.dateRange.startDate.toISOString(),We.endDate=i.dateRange.endDate.toISOString()),Zo(We)},{getNextPageParam:je=>{if(je.page<je.totalPages)return je.page+1},keepPreviousData:!0}),{data:ce,isLoading:ae}=Et(["equipment-suggestions",d],()=>Zo({search:d,limit:5}),{enabled:!!d&&d.length>2,keepPreviousData:!0}),{data:ne}=Et(["saved-searches"],GE,{enabled:n()}),{data:he=[]}=Et({queryKey:["equipmentTypes"],queryFn:Ls}),{data:ee=[]}=Et({queryKey:["categories"],queryFn:pl}),ve=M.useCallback(TN.debounce(je=>{g(je)},300),[]),ge=je=>{const We=je.target.value;a(qt=>({...qt,search:We})),ve(We),We.length>2?x(!0):x(!1)},ue=je=>{const{name:We,value:qt}=je.target;a(Ln=>({...Ln,[We]:qt}))},_e=je=>{const[We,qt]=je;a(Ln=>({...Ln,dateRange:{startDate:We,endDate:qt}}))},Ie=()=>{a({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),g(""),x(!1)},qe=async()=>{if(!O.trim()){rt.error("Please enter a name for your saved search");return}try{await XE({name:O,filters:JSON.stringify(i),sortBy:_,sortOrder:S}),t.invalidateQueries(["saved-searches"]),I(""),j(!1),rt.success("Search saved successfully")}catch(je){rt.error("Failed to save search"),console.error("Save search error:",je)}},nt=je=>{try{const We=JSON.parse(je.filters);a(We),T(je.sortBy||"updated_at"),R(je.sortOrder||"desc"),rt.info(`Applied saved search: ${je.name}`)}catch(We){rt.error("Failed to apply saved search"),console.error("Apply saved search error:",We)}},fn=async je=>{try{await QE(je),t.invalidateQueries(["saved-searches"]),rt.success("Search deleted successfully")}catch(We){rt.error("Failed to delete search"),console.error("Delete saved search error:",We)}};M.useEffect(()=>{const je=new IntersectionObserver(qt=>{qt[0].isIntersecting&&z&&!P&&Q()},{threshold:.5}),We=r.current;return We&&je.observe(We),()=>{We&&je.unobserve(We)}},[r,Q,z,P]);const ft=(q==null?void 0:q.pages.flatMap(je=>je.equipment))||[];return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Qh,{position:"top-right",autoClose:3e3}),c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Dashboard"})}),c.jsx("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:c.jsxs("div",{className:"relative",children:[c.jsx(Pt,{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:i.search,onChange:ge,icon:c.jsx(SF,{}),className:"rounded-full shadow-md","aria-label":"Search equipment catalog"}),v&&((hn=ce==null?void 0:ce.equipment)==null?void 0:hn.length)>0&&c.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:ce.equipment.map(je=>c.jsxs(ur,{to:`/equipment/${je.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[c.jsxs("div",{className:"font-medium",children:[je.brand," ",je.model]}),c.jsxs("div",{className:"text-sm text-slate-500",children:[je.type," • SN: ",je.serial_number]})]},je.id))}),c.jsxs("div",{className:"flex mt-2 gap-2",children:[c.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>E(!y),className:"flex items-center gap-1","aria-expanded":y,"aria-controls":"filter-panel",children:[c.jsx(AF,{}),c.jsx("span",{children:y?"Hide Filters":"Show Filters"})]}),Object.values(i).some(je=>je&&(typeof je=="string"?je.trim()!=="":!0))&&c.jsxs(Ue,{variant:"outline",size:"sm",onClick:Ie,className:"flex items-center gap-1 text-slate-600",children:[c.jsx(RF,{}),c.jsx("span",{children:"Clear Filters"})]}),c.jsx("div",{className:"ml-auto",children:c.jsx(wi,{id:"sort",name:"sort",value:`${_}-${S}`,onChange:je=>{const[We,qt]=je.target.value.split("-");T(We),R(qt)},options:[{value:"updated_at-desc",label:"Newest First"},{value:"updated_at-asc",label:"Oldest First"},{value:"brand-asc",label:"Brand (A-Z)"},{value:"brand-desc",label:"Brand (Z-A)"},{value:"model-asc",label:"Model (A-Z)"},{value:"model-desc",label:"Model (Z-A)"}],className:"w-40"})})]})]})}),n()&&c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),D?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Pt,{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:O,onChange:je=>I(je.target.value),className:"w-48"}),c.jsx(Ue,{variant:"primary",size:"sm",onClick:qe,children:"Save"}),c.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>{j(!1),I("")},children:"Cancel"})]}):c.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>j(!0),className:"flex items-center gap-1",children:[c.jsx(TF,{}),c.jsx("span",{children:"Save Current Search"})]})]}),c.jsx("div",{className:"flex flex-wrap",children:((De=ne==null?void 0:ne.searches)==null?void 0:De.length)>0?ne.searches.map(je=>c.jsx(MF,{search:je,onApply:nt,onDelete:fn},je.id)):c.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),c.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${y?"max-h-96 opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:c.jsxs("div",{className:"p-4",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(wi,{id:"category",name:"category",label:"Category",value:i.category,onChange:ue,options:[{value:"",label:"All Categories"},...(ee||[]).map(je=>({value:je.name,label:je.name}))]}),c.jsx(wi,{id:"type",name:"type",label:"Equipment Type",value:i.type,onChange:ue,options:[{value:"",label:"All Types"},...(he||[]).map(je=>({value:je.name,label:je.name}))]}),c.jsx(wi,{id:"status",name:"status",label:"Status",value:i.status,onChange:ue,options:[{value:"",label:"All Statuses"},{value:"available",label:"Available"},{value:"in-use",label:"In Use"},{value:"maintenance",label:"Maintenance"}]}),c.jsx(Pt,{id:"location",name:"location",label:"Location",placeholder:"Filter by location",value:i.location,onChange:ue}),c.jsxs("div",{className:"md:col-span-3",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),c.jsx(AN,{selectsRange:!0,startDate:i.dateRange.startDate,endDate:i.dateRange.endDate,onChange:_e,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]})]})]})}),c.jsx("div",{children:V?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((je,We)=>c.jsx(OF,{},We))}):W?c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:(se==null?void 0:se.message)||"Failed to load equipment data. Please try again."})})]})]})}):ft.length===0?c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[c.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No equipment found"}),c.jsx("p",{className:"mt-2 text-slate-500",children:"Try adjusting your search or filter criteria to find what you're looking for."}),c.jsx(Ue,{variant:"outline",className:"mt-4",onClick:Ie,children:"Clear All Filters"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ft.map(je=>c.jsx(jF,{equipment:je,canEdit:n(),searchTerm:i.search},je.id))}),c.jsx("div",{ref:r,className:"py-4 text-center",children:P?c.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),c.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):z?c.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):c.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})})]})},PF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),FF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),BF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),UF=()=>{const{isAdmin:e}=ir(),n=Qn(),[t,r]=M.useState(""),[i,a]=M.useState(null),[d,g]=M.useState(""),[v,x]=M.useState(""),{data:y,isLoading:E,isError:_}=Et({queryKey:["equipmentTypes"],queryFn:Ls}),T=Vn({mutationFn:Vj,onSuccess:()=>{n.invalidateQueries(["equipmentTypes"]),r(""),x("")},onError:Q=>{var z,P;x(((P=(z=Q.response)==null?void 0:z.data)==null?void 0:P.message)||"Failed to create equipment type")}}),S=Vn({mutationFn:({id:Q,name:z})=>Yj(Q,z),onSuccess:()=>{n.invalidateQueries(["equipmentTypes"]),a(null),g(""),x("")},onError:Q=>{var z,P;x(((P=(z=Q.response)==null?void 0:z.data)==null?void 0:P.message)||"Failed to update equipment type")}}),R=Vn({mutationFn:$j,onSuccess:()=>{n.invalidateQueries(["equipmentTypes"]),x("")},onError:Q=>{var z,P;x(((P=(z=Q.response)==null?void 0:z.data)==null?void 0:P.message)||"Failed to delete equipment type")}}),O=Q=>{if(Q.preventDefault(),!t.trim()){x("Type name is required");return}T.mutate(t),document.getElementById("addTypeModal").style.display="none"},I=Q=>{a(Q),g(Q.name)},D=()=>{if(!d.trim()){x("Type name is required");return}S.mutate({id:i.id,name:d})},j=()=>{a(null),g("")},q=Q=>{window.confirm("Are you sure you want to delete this equipment type?")&&R.mutate(Q)};return e()?c.jsxs("div",{className:"space-y-6",children:[v&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:c.jsx("span",{children:v})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Types"}),c.jsxs(Ue,{variant:"primary",onClick:()=>{r(""),document.getElementById("addTypeModal").style.display="block"},className:"flex items-center gap-2",children:[c.jsx(BF,{}),"Add Type"]})]}),c.jsx(Ft,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Name"}),c.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:E?c.jsx("tr",{children:c.jsx("td",{colSpan:"2",className:"table-cell text-center py-4",children:c.jsx("div",{className:"flex justify-center items-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):_?c.jsx("tr",{children:c.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-red-600",children:"Error loading equipment types. Please try again."})}):y&&y.length>0?y.map(Q=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:Q.name}),c.jsx("td",{className:"table-cell text-right",children:c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsxs(Ue,{onClick:()=>I(Q),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[c.jsx(PF,{}),"Edit"]}),c.jsxs(Ue,{onClick:()=>q(Q.id),variant:"danger",size:"sm",disabled:R.isLoading&&R.variables===Q.id,className:"flex items-center gap-1",children:[c.jsx(FF,{}),R.isLoading&&R.variables===Q.id?"Deleting...":"Delete"]})]})})]},Q.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-slate-500",children:"No equipment types found"})})})]})})}),c.jsx("div",{className:"modal-backdrop",id:"addTypeModal",style:{display:"none"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Add Equipment Type"}),c.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"×"})]}),c.jsxs("form",{onSubmit:O,children:[c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"space-y-4",children:c.jsx(Pt,{id:"newTypeName",name:"newTypeName",type:"text",label:"Type Name",value:t,onChange:Q=>r(Q.target.value),placeholder:"Enter equipment type name",required:!0})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ue,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"Cancel"}),c.jsx(Ue,{type:"submit",variant:"primary",disabled:T.isLoading,className:"flex items-center gap-2",children:T.isLoading?"Adding...":"Add Type"})]})]})]})}),i&&c.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Edit Equipment Type"}),c.jsx("button",{className:"modal-close",onClick:j,children:"×"})]}),c.jsxs("form",{onSubmit:Q=>{Q.preventDefault(),D()},children:[c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"space-y-4",children:c.jsx(Pt,{id:"editTypeName",name:"editTypeName",type:"text",label:"Type Name",value:d,onChange:Q=>g(Q.target.value),required:!0})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ue,{type:"button",variant:"secondary",onClick:j,children:"Cancel"}),c.jsx(Ue,{type:"submit",variant:"primary",disabled:S.isLoading,className:"flex items-center gap-2",children:S.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4 rounded",children:c.jsx("p",{children:"Only administrators can manage equipment types."})})},zF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),WF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),HF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),qF=()=>{const{isAdmin:e}=ir(),n=Qn(),[t,r]=M.useState(""),[i,a]=M.useState(""),[d,g]=M.useState(null),[v,x]=M.useState(""),[y,E]=M.useState(""),[_,T]=M.useState(""),{data:S,isLoading:R,isError:O}=Et({queryKey:["categories"],queryFn:pl}),I=Vn({mutationFn:({name:W,description:se})=>W9(W,se),onSuccess:()=>{n.invalidateQueries(["categories"]),r(""),a(""),T("")},onError:W=>{var se,ce;T(((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||"Failed to create category")}}),D=Vn({mutationFn:({id:W,name:se,description:ce})=>H9(W,se,ce),onSuccess:()=>{n.invalidateQueries(["categories"]),g(null),x(""),E(""),T("")},onError:W=>{var se,ce;T(((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||"Failed to update category")}}),j=Vn({mutationFn:q9,onSuccess:()=>{n.invalidateQueries(["categories"]),T("")},onError:W=>{var se,ce;T(((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||"Failed to delete category")}}),q=W=>{if(W.preventDefault(),!t.trim()){T("Category name is required");return}I.mutate({name:t,description:i}),document.getElementById("addCategoryModal").style.display="none"},Q=W=>{g(W),x(W.name),E(W.description||"")},z=()=>{if(!v.trim()){T("Category name is required");return}D.mutate({id:d.id,name:v,description:y})},P=()=>{g(null),x(""),E("")},V=W=>{window.confirm("Are you sure you want to delete this category?")&&j.mutate(W)};return e()?c.jsxs("div",{className:"space-y-6",children:[_&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:c.jsx("p",{children:_})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Categories"}),c.jsxs(Ue,{variant:"primary",onClick:()=>{r(""),a(""),document.getElementById("addCategoryModal").style.display="block"},className:"flex items-center gap-2",children:[c.jsx(HF,{}),"Add Category"]})]}),c.jsx(Ft,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Name"}),c.jsx("th",{className:"table-header-cell",children:"Description"}),c.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:R?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center py-4",children:c.jsx("div",{className:"flex justify-center items-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):O?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-red-600",children:"Error loading categories. Please try again."})}):S&&S.length>0?S.map(W=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:W.name}),c.jsx("td",{className:"table-cell",children:W.description||"-"}),c.jsx("td",{className:"table-cell text-right",children:c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsxs(Ue,{onClick:()=>Q(W),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[c.jsx(zF,{}),"Edit"]}),c.jsxs(Ue,{onClick:()=>V(W.id),variant:"danger",size:"sm",disabled:j.isLoading&&j.variables===W.id,className:"flex items-center gap-1",children:[c.jsx(WF,{}),j.isLoading&&j.variables===W.id?"Deleting...":"Delete"]})]})})]},W.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-slate-500",children:"No categories found"})})})]})})}),c.jsx("div",{className:"modal-backdrop",id:"addCategoryModal",style:{display:"none"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Add Category"}),c.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"×"})]}),c.jsxs("form",{onSubmit:q,children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pt,{id:"newCategoryName",name:"newCategoryName",type:"text",label:"Category Name",value:t,onChange:W=>r(W.target.value),placeholder:"Enter category name",required:!0}),c.jsx(Pt,{id:"newCategoryDescription",name:"newCategoryDescription",type:"text",label:"Description (optional)",value:i,onChange:W=>a(W.target.value),placeholder:"Enter category description"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ue,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"Cancel"}),c.jsx(Ue,{type:"submit",variant:"primary",disabled:I.isLoading,className:"flex items-center gap-2",children:I.isLoading?"Adding...":"Add Category"})]})]})]})}),d&&c.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Edit Category"}),c.jsx("button",{className:"modal-close",onClick:P,children:"×"})]}),c.jsxs("form",{onSubmit:W=>{W.preventDefault(),z()},children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pt,{id:"editCategoryName",name:"editCategoryName",type:"text",label:"Category Name",value:v,onChange:W=>x(W.target.value),required:!0}),c.jsx(Pt,{id:"editCategoryDescription",name:"editCategoryDescription",type:"text",label:"Description (optional)",value:y,onChange:W=>E(W.target.value),placeholder:"Enter category description"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ue,{type:"button",variant:"secondary",onClick:P,children:"Cancel"}),c.jsx(Ue,{type:"submit",variant:"primary",disabled:D.isLoading,className:"flex items-center gap-2",children:D.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):c.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",children:c.jsx("p",{children:"Only administrators can manage equipment categories."})})},ml=async()=>(await Je.get("/api/locations")).data,VF=async e=>(await Je.post("/api/locations",e)).data,YF=async(e,n)=>(await Je.put(`/api/locations/${e}`,n)).data,$F=async e=>(await Je.delete(`/api/locations/${e}`)).data,GF=()=>{var V;const{isAdmin:e}=ir(),n=Qn(),[t,r]=M.useState(!1),[i,a]=M.useState(!1),[d,g]=M.useState(!1),[v,x]=M.useState(null),[y,E]=M.useState({name:"",street:"",postal_code:"",city:"",region:"",country:""}),{data:_,isLoading:T,isError:S}=Et(["locations"],ml),R=Vn(VF,{onSuccess:()=>{n.invalidateQueries(["locations"]),r(!1),E({name:"",street:"",postal_code:"",city:"",region:"",country:""}),alert("Location created successfully")},onError:W=>{var se,ce;alert(`Error creating location: ${((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||W.message}`)}}),O=Vn(W=>YF(W.id,W.locationData),{onSuccess:()=>{n.invalidateQueries(["locations"]),a(!1),x(null),alert("Location updated successfully")},onError:W=>{var se,ce;alert(`Error updating location: ${((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||W.message}`)}}),I=Vn($F,{onSuccess:()=>{n.invalidateQueries(["locations"]),g(!1),x(null),alert("Location deleted successfully")},onError:W=>{var se,ce;alert(`Error deleting location: ${((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||W.message}`)}}),D=W=>{const{name:se,value:ce}=W.target;E(ae=>({...ae,[se]:ce}))},j=W=>{W.preventDefault(),R.mutate(y)},q=W=>{W.preventDefault(),O.mutate({id:v.id,locationData:y})},Q=()=>{I.mutate(v.id)},z=W=>{x(W),E({name:W.name,street:W.street||"",postal_code:W.postal_code||"",city:W.city||"",region:W.region||"",country:W.country||""}),a(!0)},P=W=>{x(W),g(!0)};return T?c.jsx("div",{className:"text-center py-4",children:"Loading locations..."}):S?c.jsx("div",{className:"text-center py-4 text-red-600",children:"Error loading locations"}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Locations"}),e()&&c.jsx(Ue,{variant:"primary",onClick:()=>{E({name:"",street:"",postal_code:"",city:"",region:"",country:""}),r(!0)},children:"Add Location"})]}),c.jsx(Ft,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Name"}),c.jsx("th",{className:"table-header-cell",children:"Street"}),c.jsx("th",{className:"table-header-cell",children:"Postal Code"}),c.jsx("th",{className:"table-header-cell",children:"City"}),c.jsx("th",{className:"table-header-cell",children:"Region"}),c.jsx("th",{className:"table-header-cell",children:"Country"}),e()&&c.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:((V=_==null?void 0:_.locations)==null?void 0:V.length)>0?_.locations.map(W=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:W.name}),c.jsx("td",{className:"table-cell",children:W.street||"-"}),c.jsx("td",{className:"table-cell",children:W.postal_code||"-"}),c.jsx("td",{className:"table-cell",children:W.city||"-"}),c.jsx("td",{className:"table-cell",children:W.region||"-"}),c.jsx("td",{className:"table-cell",children:W.country||"-"}),e()&&c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>z(W),children:"Edit"}),c.jsx(Ue,{variant:"danger",size:"sm",onClick:()=>P(W),children:"Delete"})]})})]},W.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:e()?7:6,className:"table-cell text-center py-4 text-slate-500",children:"No locations found"})})})]})})}),t&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Add Location"}),c.jsx("button",{className:"modal-close",onClick:()=>r(!1),children:"×"})]}),c.jsxs("form",{onSubmit:j,children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pt,{id:"name",name:"name",label:"Location Name",value:y.name,onChange:D,placeholder:"Enter location name",required:!0}),c.jsx(Pt,{id:"street",name:"street",label:"Street",value:y.street,onChange:D,placeholder:"Enter street (optional)"}),c.jsx(Pt,{id:"postal_code",name:"postal_code",label:"Postal Code",value:y.postal_code,onChange:D,placeholder:"Enter postal code (optional)"}),c.jsx(Pt,{id:"city",name:"city",label:"City",value:y.city,onChange:D,placeholder:"Enter city (optional)"}),c.jsx(Pt,{id:"region",name:"region",label:"Region/State",value:y.region,onChange:D,placeholder:"Enter region or state (optional)"}),c.jsx(Pt,{id:"country",name:"country",label:"Country",value:y.country,onChange:D,placeholder:"Enter country (optional)"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ue,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),c.jsx(Ue,{type:"submit",variant:"primary",disabled:R.isLoading,children:R.isLoading?"Adding...":"Add Location"})]})]})]})}),i&&v&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Edit Location"}),c.jsx("button",{className:"modal-close",onClick:()=>a(!1),children:"×"})]}),c.jsxs("form",{onSubmit:q,children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pt,{id:"edit-name",name:"name",label:"Location Name",value:y.name,onChange:D,placeholder:"Enter location name",required:!0}),c.jsx(Pt,{id:"edit-street",name:"street",label:"Street",value:y.street,onChange:D,placeholder:"Enter street (optional)"}),c.jsx(Pt,{id:"edit-postal_code",name:"postal_code",label:"Postal Code",value:y.postal_code,onChange:D,placeholder:"Enter postal code (optional)"}),c.jsx(Pt,{id:"edit-city",name:"city",label:"City",value:y.city,onChange:D,placeholder:"Enter city (optional)"}),c.jsx(Pt,{id:"edit-region",name:"region",label:"Region/State",value:y.region,onChange:D,placeholder:"Enter region or state (optional)"}),c.jsx(Pt,{id:"edit-country",name:"country",label:"Country",value:y.country,onChange:D,placeholder:"Enter country (optional)"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ue,{type:"button",variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),c.jsx(Ue,{type:"submit",variant:"primary",disabled:O.isLoading,children:O.isLoading?"Saving...":"Save Changes"})]})]})]})}),d&&v&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Delete Location"}),c.jsx("button",{className:"modal-close",onClick:()=>g(!1),children:"×"})]}),c.jsxs("div",{className:"modal-body",children:[c.jsxs("p",{children:['Are you sure you want to delete the location "',v.name,'"? This action cannot be undone.']}),c.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Note: You cannot delete a location that is currently assigned to equipment."})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(Ue,{type:"button",variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),c.jsx(Ue,{type:"button",variant:"danger",onClick:Q,disabled:I.isLoading,children:I.isLoading?"Deleting...":"Delete Location"})]})]})})]})},XF=()=>{const[e,n]=M.useState(""),[t,r]=M.useState(null),{data:i,isLoading:a}=Et({queryKey:["database-tables"],queryFn:async()=>(await Je.get("/api/database/tables")).data}),d=async g=>{try{const v=await Je.get(`/api/database/table/${g}`);r(v.data),n(g)}catch(v){console.error("Error fetching table data:",v)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ft,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Database Browser"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Database Tables:"}),a?c.jsx("p",{children:"Loading tables..."}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:i==null?void 0:i.map(g=>c.jsx(Ue,{onClick:()=>d(g),variant:e===g?"default":"outline",size:"sm",className:"text-left",children:g},g))})]}),t&&c.jsxs("div",{className:"mt-6",children:[c.jsxs("h4",{className:"font-medium mb-2",children:["Table: ",e," (",t.length," rows)"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full border border-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsx("tr",{children:t.length>0&&Object.keys(t[0]).map(g=>c.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700 border-b",children:g},g))})}),c.jsx("tbody",{children:t.map((g,v)=>c.jsx("tr",{className:"hover:bg-gray-50",children:Object.values(g).map((x,y)=>c.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 border-b",children:x!==null?String(x):"NULL"},y))},v))})]})})]})]}),c.jsxs(Ft,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Database Information"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Host:"})," Sevalla MySQL (Internal)"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Database:"})," substantial-gray-unicorn"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Connection:"})," Secure (SSL)"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Access:"})," Application Only"]})]}),c.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[c.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"External Database Tools"}),c.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"To access your database with external tools like phpMyAdmin, MySQL Workbench, or TablePlus:"}),c.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:"Contact Sevalla support for database access credentials"}),c.jsx("li",{children:"Request SSH tunnel or direct database access"}),c.jsx("li",{children:"Use the provided connection details in your preferred tool"})]})]})]})]})},QF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),KF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),zb=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),ZF=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"}),c.jsx("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"}),c.jsx("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"})]}),JF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),eB=()=>{const{user:e}=ir(),[n,t]=M.useState("profile"),[r,i]=M.useState(""),[a,d]=M.useState(""),[g,v]=M.useState(""),[x,y]=M.useState(""),[E,_]=M.useState(""),T=[{id:"profile",label:"Profile",icon:c.jsx(QF,{})},{id:"security",label:"Security",icon:c.jsx(KF,{})}];(e==null?void 0:e.role)==="admin"&&(T.push({id:"equipmentTypes",label:"Equipment Types",icon:c.jsx(zb,{})}),T.push({id:"categories",label:"Categories",icon:c.jsx(zb,{})}),T.push({id:"locations",label:"Locations",icon:c.jsx(JF,{})}),T.push({id:"database",label:"Database",icon:c.jsx(ZF,{})}));const S=R=>{if(R.preventDefault(),y(""),_(""),!r){y("Current password is required");return}if(!a){y("New password is required");return}if(a!==g){y("New passwords do not match");return}if(a.length<8){y("New password must be at least 8 characters");return}_("Password changed successfully"),i(""),d(""),v("")};return c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-8",children:"User Settings"}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsx("div",{className:"w-full md:w-64",children:c.jsx(Ft,{children:c.jsx(Ft.Body,{className:"p-0",children:c.jsx("nav",{children:c.jsx("ul",{className:"divide-y divide-slate-100",children:T.map(R=>c.jsx("li",{children:c.jsxs("button",{onClick:()=>t(R.id),className:`w-full text-left px-4 py-3 flex items-center transition-colors ${n===R.id?"bg-primary-50 text-primary-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,"aria-current":n===R.id?"page":void 0,children:[c.jsx("span",{className:"mr-3 text-slate-500",children:R.icon}),R.label]})},R.id))})})})})}),c.jsx("div",{className:"flex-1",children:c.jsx(Ft,{children:c.jsxs(Ft.Body,{children:[n==="profile"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Profile Settings"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),c.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200",children:e==null?void 0:e.username})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),c.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200 capitalize",children:e==null?void 0:e.role})]})]})]}),n==="security"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Security Settings"}),x&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),E&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:E}),c.jsxs("form",{onSubmit:S,className:"space-y-4",children:[c.jsx(Pt,{type:"password",id:"current-password",label:"Current Password",value:r,onChange:R=>i(R.target.value),placeholder:"Enter your current password"}),c.jsx(Pt,{type:"password",id:"new-password",label:"New Password",value:a,onChange:R=>d(R.target.value),placeholder:"Enter your new password"}),c.jsx(Pt,{type:"password",id:"confirm-password",label:"Confirm New Password",value:g,onChange:R=>v(R.target.value),placeholder:"Confirm your new password"}),c.jsx("div",{children:c.jsx(Ue,{type:"submit",variant:"primary",children:"Change Password"})})]})]}),n==="equipmentTypes"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Types"}),c.jsx(UF,{})]}),n==="categories"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Categories"}),c.jsx(qF,{})]}),n==="locations"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Locations"}),c.jsx(GF,{})]}),n==="database"&&(e==null?void 0:e.role)==="admin"&&c.jsx("div",{children:c.jsx(XF,{})})]})})})]})]})},tB=({isOpen:e,onClose:n,equipmentId:t})=>{const r=Qn(),[i,a]=M.useState(""),[d,g]=M.useState(null),[v,x]=M.useState(!1),[y,E]=M.useState(null);M.useEffect(()=>{e&&t&&(x(!0),Kh(t).then(S=>{g(S),a(`${S.serial_number}-COPY`),x(!1)}).catch(S=>{console.error("Error fetching equipment details:",S),E("Failed to load equipment details"),x(!1)}))},[e,t]);const _=Vn({mutationFn:async()=>{if(!d)return null;console.log("Original equipment data:",d);const S={type_id:d.type_id||1,brand:d.brand,model:d.model,serial_number:i,status:d.status||"available",location:d.location||"",description:d.description||""};return console.log("Duplicate data being sent:",S),qx(S)},onSuccess:S=>{console.log("Successfully duplicated equipment:",S),r.invalidateQueries(["equipment"]),n()},onError:S=>{var R,O;console.error("Error duplicating equipment:",S),(O=(R=S.response)==null?void 0:R.data)!=null&&O.message?E(S.response.data.message):E("Failed to duplicate equipment. Please check all required fields.")}}),T=S=>{if(S.preventDefault(),!i.trim()){E("Serial number is required");return}_.mutate()};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Duplicate Equipment"}),v?c.jsx("div",{className:"text-center py-4",children:"Loading..."}):y?c.jsx("div",{className:"text-red-600 mb-4",children:y}):c.jsxs("form",{onSubmit:T,children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("p",{className:"text-gray-600 mb-2",children:["You are about to duplicate: ",c.jsxs("span",{className:"font-medium",children:[d==null?void 0:d.brand," ",d==null?void 0:d.model]})]}),c.jsx("label",{htmlFor:"serialNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),c.jsx("input",{type:"text",id:"serialNumber",value:i,onChange:S=>a(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,autoFocus:!0}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please provide a unique serial number for the duplicated equipment."})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:n,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                  hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                  hover:shadow-sm transition-all`,children:"Cancel"}),c.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                  hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                  hover:shadow-sm transition-all focus:outline-none focus:ring-1 focus:ring-primary-500`,disabled:_.isLoading,children:_.isLoading?"Duplicating...":"Duplicate"})]})]})]})}):null},nB=({isOpen:e,onClose:n,equipmentId:t,selectedItems:r=[]})=>{var W,se,ce;const i=r.length>0?r:t?[t]:[],a=Qn(),[d,g]=M.useState(2),[v,x]=M.useState(""),[y,E]=M.useState([]),[_,T]=M.useState([]),[S,R]=M.useState(!1),[O,I]=M.useState(null),[D,j]=M.useState(0),[q,Q]=M.useState(!1);M.useEffect(()=>{if(e&&i.length>0){R(!0),T([]);const ae=i.map(ne=>Kh(ne));Promise.all(ae).then(ne=>{if(T(ne),ne.length===1){const he=`${ne[0].serial_number}-{n}`;x(he)}else x("BATCH-{n}");R(!1)}).catch(ne=>{console.error("Error fetching equipment details:",ne),I("Failed to load equipment details"),R(!1)})}},[e,i]),M.useEffect(()=>{if(v&&d>0){const ae=[];for(let ne=1;ne<=Math.min(d,5);ne++)ae.push(z(v,ne));d>5&&(ae.push("..."),ae.push(z(v,d))),E(ae)}},[v,d]);const z=(ae,ne)=>ae.replace("{n}",ne),P=Vn({mutationFn:async({equipmentData:ae,serialNumber:ne})=>{if(!ae)return null;const he={type:ae.type,type_id:ae.type_id||1,category:ae.category||"",...ae.category_id?{category_id:ae.category_id}:{},brand:ae.brand,model:ae.model,serial_number:ne,status:ae.status||"available",location:ae.location||"",...ae.location_id?{location_id:ae.location_id}:{},description:ae.description||"",...ae.reference_image_id?{reference_image_id:ae.reference_image_id}:{}};return qx(he)}}),V=async()=>{var ae,ne;if(_.length!==0){Q(!0),j(0);try{const he=_.length*d;let ee=0;for(const ve of _)for(let ge=1;ge<=d;ge++){let ue;_.length===1?ue=z(v,ge):ue=z(v.replace("{n}",`${ve.id}-{n}`),ge),console.log(`Creating duplicate ${ge} for equipment ID ${ve.id} with serial number ${ue}`),console.log("Original equipment data:",JSON.stringify(ve,null,2));try{await P.mutateAsync({equipmentData:ve,serialNumber:ue}),console.log(`Successfully created duplicate ${ge} for equipment ID ${ve.id}`)}catch(_e){throw console.error(`Error creating duplicate ${ge} for equipment ID ${ve.id}:`,_e),_e}ee++,j(Math.floor(ee/he*100))}a.invalidateQueries(["equipment"]),n()}catch(he){console.error("Error in batch duplication:",he);let ee="Failed to duplicate equipment";(ne=(ae=he.response)==null?void 0:ae.data)!=null&&ne.message?ee=he.response.data.message:he.message&&(ee=he.message),I(ee)}finally{Q(!1)}}};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Batch Duplicate Equipment"}),S?c.jsx("div",{className:"text-center py-4",children:"Loading..."}):O?c.jsx("div",{className:"text-red-600 mb-4",children:O}):c.jsxs("div",{children:[c.jsxs("div",{className:"text-gray-600 mb-4",children:[c.jsxs("p",{children:["You are about to duplicate ",_.length," item",_.length!==1?"s":"",":"]}),_.length===1?c.jsxs("p",{className:"font-medium mt-1",children:[(W=_[0])==null?void 0:W.brand," ",(se=_[0])==null?void 0:se.model," (SN: ",(ce=_[0])==null?void 0:ce.serial_number,")"]}):c.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border border-gray-200 rounded-md p-2",children:c.jsx("ul",{className:"text-sm",children:_.map((ae,ne)=>c.jsxs("li",{className:"mb-1",children:[ae.brand," ",ae.model," (SN: ",ae.serial_number,")"]},ne))})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"count",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Copies"}),c.jsx("input",{type:"number",id:"count",min:"1",max:"50",value:d,onChange:ae=>g(Math.min(50,Math.max(1,parseInt(ae.target.value)||1))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"serialNumberPattern",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Pattern"}),c.jsx("input",{type:"text",id:"serialNumberPattern",value:v,onChange:ae=>x(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Use {n} for the copy number"}),c.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Use ","{n}"," as a placeholder for the copy number."]})]}),y.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Preview"}),c.jsx("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200",children:c.jsx("ul",{className:"text-sm text-gray-600",children:y.map((ae,ne)=>c.jsx("li",{children:ae},ne))})})]}),q&&c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${D}%`}})}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1 text-center",children:[D,"% Complete"]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(Ue,{variant:"outline",onClick:n,disabled:q,children:"Cancel"}),c.jsx(Ue,{variant:"primary",onClick:V,disabled:q||!v.includes("{n}"),children:q?"Processing...":"Create Copies"})]})]})]})}):null},kN=({isOpen:e,onClose:n,equipmentId:t,selectedItems:r=[]})=>{const i=r.length>0?r:t?[t]:[],[a,d]=M.useState("available");M.useState(1);const[g,v]=M.useState(!1),[x,y]=M.useState(""),[E,_]=M.useState(""),T=Qn(),S=["available","in-use","maintenance"],R=Vn({mutationFn:async I=>{const D=I.equipmentIds.map(j=>Uj(j,I.status));return Promise.all(D)},onSuccess:()=>{T.invalidateQueries(["equipment"]),_(`Status successfully updated to ${a} for ${i.length} item${i.length!==1?"s":""}`),v(!1),setTimeout(()=>{n(),_("")},2e3)},onError:I=>{var D,j;console.error("Error updating status:",I),y(((j=(D=I.response)==null?void 0:D.data)==null?void 0:j.message)||"Failed to update status"),v(!1)}}),O=I=>{if(I.preventDefault(),i.length===0){y("No equipment items selected");return}v(!0),y(""),_(""),R.mutate({equipmentIds:i,status:a})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Status"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the status of ",i.length," item",i.length!==1?"s":"","."]})}),x&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),E&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:E}),c.jsxs("form",{onSubmit:O,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Status"}),c.jsx("select",{id:"status",value:a,onChange:I=>d(I.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:S.map(I=>c.jsx("option",{value:I,children:I.charAt(0).toUpperCase()+I.slice(1)},I))})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:n,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:g,children:"Cancel"}),c.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:g,children:g?"Updating...":"Update Status"})]})]})]})}):null};kN.propTypes={isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,equipmentId:ie.oneOfType([ie.string,ie.number]),selectedItems:ie.array};const DN=({isOpen:e,onClose:n,equipmentId:t,selectedItems:r=[]})=>{var z;const i=r.length>0?r:t?[t]:[],[a,d]=M.useState(""),[g,v]=M.useState(""),[x,y]=M.useState(!1),[E,_]=M.useState(!1),[T,S]=M.useState(""),[R,O]=M.useState(""),I=Qn(),{data:D}=Et({queryKey:["locations"],queryFn:ml,staleTime:3e5}),j=Vn({mutationFn:async P=>{const V=P.equipmentIds.map(W=>zj(W,P.locationData));return Promise.all(V)},onSuccess:()=>{var V;I.invalidateQueries(["equipment"]);const P=x?g:((V=D==null?void 0:D.locations.find(W=>W.id.toString()===a))==null?void 0:V.name)||"selected location";O(`Location successfully updated to ${P} for ${i.length} item${i.length!==1?"s":""}`),_(!1),setTimeout(()=>{n(),O("")},2e3)},onError:P=>{var V,W;console.error("Error updating location:",P),S(((W=(V=P.response)==null?void 0:V.data)==null?void 0:W.message)||"Failed to update location"),_(!1)}}),q=P=>{if(P.preventDefault(),i.length===0){S("No equipment items selected");return}_(!0),S(""),O("");const V=x?{location:g}:{location_id:a};j.mutate({equipmentIds:i,locationData:V})},Q=()=>{y(!x),d(""),v("")};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Location"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the location of ",i.length," item",i.length!==1?"s":"","."]})}),T&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:T}),R&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:R}),c.jsxs("form",{onSubmit:q,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"flex items-center mb-3",children:c.jsx("button",{type:"button",onClick:Q,className:"text-sm text-primary-600 hover:text-primary-800",children:x?"Select from existing locations":"Enter custom location"})}),x?c.jsxs("div",{children:[c.jsx("label",{htmlFor:"customLocation",className:"block text-sm font-medium text-slate-700 mb-1",children:"Custom Location"}),c.jsx("input",{type:"text",id:"customLocation",value:g,onChange:P=>v(P.target.value),className:"w-full p-2 border border-slate-300 rounded-md",placeholder:"Enter location name",required:!0})]}):c.jsxs("div",{children:[c.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),c.jsxs("select",{id:"locationId",value:a,onChange:P=>d(P.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[c.jsx("option",{value:"",children:"Select a location"}),(z=D==null?void 0:D.locations)==null?void 0:z.map(P=>c.jsx("option",{value:P.id.toString(),children:P.name},P.id))]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:n,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:E,children:"Cancel"}),c.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:E||!a&&!g,children:E?"Updating...":"Update Location"})]})]})]})}):null};DN.propTypes={isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,equipmentId:ie.oneOfType([ie.string,ie.number]),selectedItems:ie.array};const IN=({isOpen:e,onClose:n,selectedItems:t=[]})=>{const[r,i]=M.useState(""),[a,d]=M.useState(!1),[g,v]=M.useState(""),[x,y]=M.useState(""),E=Qn(),{data:_,isLoading:T}=Et({queryKey:["equipmentTypes"],queryFn:Ls,staleTime:3e5});M.useEffect(()=>{_!=null&&_.types&&_.types.length>0&&!r&&i(_.types[0].id.toString())},[_,r]);const S=Vn({mutationFn:async O=>{const I=O.equipmentIds.map(D=>Wj(D,O.typeId));return Promise.all(I)},onSuccess:()=>{var I;E.invalidateQueries(["equipment"]);const O=((I=_==null?void 0:_.types.find(D=>D.id.toString()===r))==null?void 0:I.name)||"selected type";y(`Type successfully updated to ${O} for ${t.length} item${t.length!==1?"s":""}`),d(!1),setTimeout(()=>{n(),y("")},2e3)},onError:O=>{var I,D;console.error("Error updating type:",O),v(((D=(I=O.response)==null?void 0:I.data)==null?void 0:D.message)||"Failed to update type"),d(!1)}}),R=O=>{if(O.preventDefault(),t.length===0){v("No equipment items selected");return}if(!r){v("Please select a type");return}d(!0),v(""),y(""),S.mutate({equipmentIds:t,typeId:r})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Type"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the type of ",t.length," item",t.length!==1?"s":"","."]})}),g&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:g}),x&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:x}),c.jsxs("form",{onSubmit:R,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Type"}),c.jsxs("select",{id:"type",value:r,onChange:O=>i(O.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[c.jsx("option",{value:"",children:"Select a type"}),_!=null&&_.types&&_.types.length>0?_.types.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(Ue,{variant:"outline",onClick:n,disabled:a,children:"Cancel"}),c.jsx(Ue,{variant:"primary",type:"submit",disabled:a||!r,children:a?"Updating...":"Update Type"})]})]})]})}):null};IN.propTypes={isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,selectedItems:ie.array};const RN=({isOpen:e,onClose:n,selectedItems:t=[]})=>{const[r,i]=M.useState(""),[a,d]=M.useState(!1),[g,v]=M.useState(""),[x,y]=M.useState(""),E=Qn(),{data:_,isLoading:T}=Et({queryKey:["categories"],queryFn:pl,staleTime:3e5});M.useEffect(()=>{_!=null&&_.categories&&_.categories.length>0&&!r&&i(_.categories[0].id.toString())},[_,r]);const S=Vn({mutationFn:async O=>{const I=O.equipmentIds.map(D=>Hj(D,O.categoryId));return Promise.all(I)},onSuccess:()=>{var I;E.invalidateQueries(["equipment"]);const O=((I=_==null?void 0:_.categories.find(D=>D.id.toString()===r))==null?void 0:I.name)||"selected category";y(`Category successfully updated to ${O} for ${t.length} item${t.length!==1?"s":""}`),d(!1),setTimeout(()=>{n(),y("")},2e3)},onError:O=>{var I,D;console.error("Error updating category:",O),v(((D=(I=O.response)==null?void 0:I.data)==null?void 0:D.message)||"Failed to update category"),d(!1)}}),R=O=>{if(O.preventDefault(),t.length===0){v("No equipment items selected");return}d(!0),v(""),y(""),S.mutate({equipmentIds:t,categoryId:r||null})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Category"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the category of ",t.length," item",t.length!==1?"s":"","."]})}),g&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:g}),x&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:x}),c.jsxs("form",{onSubmit:R,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Category"}),c.jsxs("select",{id:"category",value:r,onChange:O=>i(O.target.value),className:"w-full p-2 border border-slate-300 rounded-md",children:[c.jsx("option",{value:"",children:"None (Remove Category)"}),_!=null&&_.categories&&_.categories.length>0?_.categories.map(O=>c.jsx("option",{value:O.id,children:O.name},O.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading categories..."})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(Ue,{variant:"outline",onClick:n,disabled:a,children:"Cancel"}),c.jsx(Ue,{variant:"primary",type:"submit",disabled:a,children:a?"Updating...":"Update Category"})]})]})]})}):null};RN.propTypes={isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,selectedItems:ie.array};const jN=({isOpen:e,onClose:n,selectedItems:t=[]})=>{const[r,i]=M.useState(""),[a,d]=M.useState(""),[g,v]=M.useState(!0),[x,y]=M.useState(!0),[E,_]=M.useState(!1),[T,S]=M.useState(""),[R,O]=M.useState(""),I=Qn(),D=Vn({mutationFn:async q=>{const Q=q.equipmentIds.map(z=>qj(z,q.updateData));return Promise.all(Q)},onSuccess:()=>{I.invalidateQueries(["equipment"]);let q="Successfully updated ";g&&x?q+=`brand to "${r}" and model to "${a}"`:g?q+=`brand to "${r}"`:x&&(q+=`model to "${a}"`),O(`${q} for ${t.length} item${t.length!==1?"s":""}`),_(!1),setTimeout(()=>{n(),O("")},2e3)},onError:q=>{var Q,z;console.error("Error updating brand/model:",q),S(((z=(Q=q.response)==null?void 0:Q.data)==null?void 0:z.message)||"Failed to update brand/model"),_(!1)}}),j=q=>{if(q.preventDefault(),t.length===0){S("No equipment items selected");return}if(!g&&!x){S("Please select at least one field to update");return}if(g&&!r||x&&!a){S("Please fill in all selected fields");return}_(!0),S(""),O("");const Q={};g&&(Q.brand=r),x&&(Q.model=a),D.mutate({equipmentIds:t,updateData:Q})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Brand & Model"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating ",t.length," item",t.length!==1?"s":"","."]})}),T&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:T}),R&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:R}),c.jsxs("form",{onSubmit:j,children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx("input",{type:"checkbox",id:"updateBrand",checked:g,onChange:q=>v(q.target.checked),className:"mr-2"}),c.jsx("label",{htmlFor:"updateBrand",className:"text-sm font-medium text-slate-700",children:"Update Brand"})]}),c.jsx("input",{type:"text",id:"brand",value:r,onChange:q=>i(q.target.value),disabled:!g,className:`w-full p-2 border border-slate-300 rounded-md ${g?"":"bg-slate-100"}`,placeholder:"Enter new brand"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx("input",{type:"checkbox",id:"updateModel",checked:x,onChange:q=>y(q.target.checked),className:"mr-2"}),c.jsx("label",{htmlFor:"updateModel",className:"text-sm font-medium text-slate-700",children:"Update Model"})]}),c.jsx("input",{type:"text",id:"model",value:a,onChange:q=>d(q.target.value),disabled:!x,className:`w-full p-2 border border-slate-300 rounded-md ${x?"":"bg-slate-100"}`,placeholder:"Enter new model"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(Ue,{variant:"outline",onClick:n,disabled:E,children:"Cancel"}),c.jsx(Ue,{variant:"primary",type:"submit",disabled:E||!g&&!x||g&&!r||x&&!a,children:E?"Updating...":"Update"})]})]})]})}):null};jN.propTypes={isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,selectedItems:ie.array};const u2=({onBatchDuplicate:e,onBatchStatusUpdate:n,onBatchLocationChange:t,equipmentId:r})=>{const[i,a]=M.useState(!1),d=M.useRef(null),g=fs();M.useEffect(()=>{const S=R=>{d.current&&!d.current.contains(R.target)&&a(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const v=()=>{a(!i)},x=()=>{a(!1),g(`/equipment/${r}`)},y=()=>{a(!1),g(`/equipment/${r}/edit`)},E=()=>{a(!1),e(r)},_=()=>{a(!1),n&&n(r)},T=()=>{a(!1),t&&t(r)};return c.jsxs("div",{className:"relative",ref:d,children:[c.jsx("button",{onClick:v,className:"p-1 rounded-md hover:bg-slate-100 border border-slate-200",title:"Actions","aria-label":"Actions menu",children:c.jsx(RE,{className:"w-4 h-4 text-slate-600"})}),i&&c.jsx("div",{className:"dropdown-menu",children:c.jsxs("div",{className:"py-0.5",children:[c.jsxs("button",{onClick:x,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(eO,{className:"w-3.5 h-3.5 mr-1.5"}),"View Details"]}),c.jsxs("button",{onClick:y,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(kE,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit"]}),c.jsxs("button",{onClick:E,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(Vx,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),c.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"⟳"}),"Update Status"]}),c.jsxs("button",{onClick:T,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📍"}),"Change Location"]})]})})]})};u2.propTypes={onBatchDuplicate:ie.func.isRequired,onBatchStatusUpdate:ie.func,onBatchLocationChange:ie.func,equipmentId:ie.oneOfType([ie.string,ie.number]).isRequired};const ON=({selectedItems:e,onBatchDuplicate:n,onBatchStatusUpdate:t,onBatchLocationChange:r,onBatchTypeChange:i,onBatchCategoryChange:a,onBatchBrandModelChange:d,onClearSelection:g})=>{const[v,x]=M.useState(!1),y=M.useRef(null);Et({queryKey:["equipmentTypes"],queryFn:Ls,staleTime:3e5}),Et({queryKey:["locations"],queryFn:ml,staleTime:3e5}),Et({queryKey:["categories"],queryFn:pl,staleTime:3e5}),M.useEffect(()=>{const D=j=>{y.current&&!y.current.contains(j.target)&&x(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]);const E=()=>{x(!v)},_=()=>{x(!1),n()},T=()=>{x(!1),t()},S=()=>{x(!1),r()},R=()=>{x(!1),i()},O=()=>{x(!1),a()},I=()=>{x(!1),d()};return c.jsxs("div",{className:"relative",ref:y,children:[c.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-2 py-1 rounded-md border border-blue-100",children:[c.jsxs("span",{className:"text-xs font-medium text-blue-700",children:[e.length," item",e.length!==1?"s":""," selected"]}),c.jsx(Ue,{variant:"outline",size:"sm",onClick:g,className:"text-xs py-0.5 px-2 bg-white",children:"Clear"}),c.jsxs(Ue,{variant:"outline",size:"sm",onClick:E,className:"flex items-center text-xs py-0.5 px-2 bg-white",children:["Actions ",c.jsx(RE,{className:"w-3 h-3 ml-1"})]})]}),v&&c.jsx("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white rounded-md shadow-lg border border-slate-200 w-48",children:c.jsxs("div",{className:"py-0.5",children:[c.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(Vx,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),c.jsxs("button",{onClick:T,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"⟳"}),"Update Status"]}),c.jsxs("button",{onClick:S,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📍"}),"Change Location"]}),c.jsxs("button",{onClick:R,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"🏷️"}),"Change Type"]}),c.jsxs("button",{onClick:O,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📂"}),"Change Category"]}),c.jsxs("button",{onClick:I,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"🔖"}),"Update Brand/Model"]})]})})]})};ON.propTypes={selectedItems:ie.array.isRequired,onBatchDuplicate:ie.func.isRequired,onBatchStatusUpdate:ie.func.isRequired,onBatchLocationChange:ie.func.isRequired,onBatchTypeChange:ie.func,onBatchCategoryChange:ie.func,onBatchBrandModelChange:ie.func,onClearSelection:ie.func.isRequired};const MN=({equipment:e,onDuplicate:n,onSelect:t,isSelected:r})=>{const i=fs();ir();const[a,d]=M.useState(!1);let g=null;if(e.reference_image_id)g=gc(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const y=e.files.find(E=>E.file_type==="image");y&&(g=gc(y.id,!0))}const v=y=>{switch(y){case"available":return"badge-success";case"in-use":return"badge-info";case"maintenance":return"badge-warning";default:return"badge-secondary"}},x=y=>{y.target.type==="checkbox"||y.target.closest("button")||y.target.closest("a")||y.target.closest(".btn-icon")||i(`/equipment/${e.id}`)};return c.jsxs("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden h-full ${r?"bg-blue-50 border-2 border-blue-300":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:x,children:[c.jsx("div",{className:"absolute top-2 left-2 z-10",children:c.jsx("input",{type:"checkbox",checked:r,onChange:()=>t&&t(e.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})}),c.jsx("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:g?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:c.jsx("img",{src:g,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):c.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:c.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})})}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&c.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),c.jsx("span",{className:`badge ${v(e.status)}`,children:e.status})]}),c.jsxs("h2",{className:"text-lg font-semibold mb-1",children:[e.brand," ",e.model]}),c.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",e.serial_number]}),e.location&&c.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Location: ",e.location]}),c.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[c.jsx(ur,{to:`/equipment/${e.id}/edit`,className:"btn-icon text-slate-600 hover:text-slate-800 hover:bg-slate-50",title:"Edit equipment",children:c.jsx(kE,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>n(e.id),className:"btn-icon text-green-600 hover:text-green-800 hover:bg-green-50",title:"Duplicate equipment",children:c.jsx(Vx,{className:"w-5 h-5"})}),c.jsx(u2,{equipmentId:e.id,onBatchDuplicate:()=>{const y=new CustomEvent("batchDuplicate",{detail:{id:e.id}});document.dispatchEvent(y)},onBatchStatusUpdate:()=>{const y=new CustomEvent("batchStatusUpdate",{detail:{id:e.id}});document.dispatchEvent(y)},onBatchLocationChange:()=>{const y=new CustomEvent("batchLocationChange",{detail:{id:e.id}});document.dispatchEvent(y)}})]})]})]})};MN.propTypes={equipment:ie.object.isRequired,onDuplicate:ie.func.isRequired,onSelect:ie.func,isSelected:ie.bool};const Ba=({field:e,label:n,currentSortField:t,currentSortOrder:r,onSort:i,className:a=""})=>{const d=t===e;return c.jsx("th",{className:`table-header-cell cursor-pointer select-none ${a}`,onClick:()=>i(e),children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{children:n}),c.jsx("div",{className:"flex flex-col h-4 justify-center",children:d?r==="asc"?c.jsx(Vy,{className:"w-3 h-3 text-primary-600"}):c.jsx(rO,{className:"w-3 h-3 text-primary-600"}):c.jsx("div",{className:"w-3 h-3 opacity-60",children:c.jsx(Vy,{className:"w-3 h-3 text-gray-500"})})})]})})};Ba.propTypes={field:ie.string.isRequired,label:ie.string.isRequired,currentSortField:ie.string.isRequired,currentSortOrder:ie.string.isRequired,onSort:ie.func.isRequired,className:ie.string};function gl(e,n,t,r){function i(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(y){try{x(r.next(y))}catch(E){d(E)}}function v(y){try{x(r.throw(y))}catch(E){d(E)}}function x(y){y.done?a(y.value):i(y.value).then(g,v)}x((r=r.apply(e,n||[])).next())})}const rB=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function _c(e,n,t){const r=iB(e),{webkitRelativePath:i}=e,a=typeof n=="string"?n:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&Wb(r,"path",a),t!==void 0&&Object.defineProperty(r,"handle",{value:t,writable:!1,configurable:!1,enumerable:!0}),Wb(r,"relativePath",a),r}function iB(e){const{name:n}=e;if(n&&n.lastIndexOf(".")!==-1&&!e.type){const r=n.split(".").pop().toLowerCase(),i=rB.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function Wb(e,n,t){Object.defineProperty(e,n,{value:t,writable:!1,configurable:!1,enumerable:!0})}const sB=[".DS_Store","Thumbs.db"];function aB(e){return gl(this,void 0,void 0,function*(){return xh(e)&&oB(e.dataTransfer)?dB(e.dataTransfer,e.type):lB(e)?cB(e):Array.isArray(e)&&e.every(n=>"getFile"in n&&typeof n.getFile=="function")?uB(e):[]})}function oB(e){return xh(e)}function lB(e){return xh(e)&&xh(e.target)}function xh(e){return typeof e=="object"&&e!==null}function cB(e){return _g(e.target.files).map(n=>_c(n))}function uB(e){return gl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(t=>t.getFile()))).map(t=>_c(t))})}function dB(e,n){return gl(this,void 0,void 0,function*(){if(e.items){const t=_g(e.items).filter(i=>i.kind==="file");if(n!=="drop")return t;const r=yield Promise.all(t.map(fB));return Hb(LN(r))}return Hb(_g(e.files).map(t=>_c(t)))})}function Hb(e){return e.filter(n=>sB.indexOf(n.name)===-1)}function _g(e){if(e===null)return[];const n=[];for(let t=0;t<e.length;t++){const r=e[t];n.push(r)}return n}function fB(e){if(typeof e.webkitGetAsEntry!="function")return qb(e);const n=e.webkitGetAsEntry();return n&&n.isDirectory?PN(n):qb(e,n)}function LN(e){return e.reduce((n,t)=>[...n,...Array.isArray(t)?LN(t):[t]],[])}function qb(e,n){return gl(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const a=yield e.getAsFileSystemHandle();if(a===null)throw new Error(`${e} is not a File`);if(a!==void 0){const d=yield a.getFile();return d.handle=a,_c(d)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return _c(r,(t=n==null?void 0:n.fullPath)!==null&&t!==void 0?t:void 0)})}function hB(e){return gl(this,void 0,void 0,function*(){return e.isDirectory?PN(e):pB(e)})}function PN(e){const n=e.createReader();return new Promise((t,r)=>{const i=[];function a(){n.readEntries(d=>gl(this,void 0,void 0,function*(){if(d.length){const g=Promise.all(d.map(hB));i.push(g),a()}else try{const g=yield Promise.all(i);t(g)}catch(g){r(g)}}),d=>{r(d)})}a()})}function pB(e){return gl(this,void 0,void 0,function*(){return new Promise((n,t)=>{e.file(r=>{const i=_c(r,e.fullPath);n(i)},r=>{t(r)})})})}var em=function(e,n){if(e&&n){var t=Array.isArray(n)?n:n.split(",");if(t.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return t.some(function(d){var g=d.trim().toLowerCase();return g.charAt(0)==="."?r.toLowerCase().endsWith(g):g.endsWith("/*")?a===g.replace(/\/.*$/,""):i===g})}return!0};function Vb(e){return xB(e)||gB(e)||BN(e)||mB()}function mB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xB(e){if(Array.isArray(e))return Sg(e)}function Yb(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function $b(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Yb(Object(t),!0).forEach(function(r){FN(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yb(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function FN(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function fd(e,n){return yB(e)||wB(e,n)||BN(e,n)||vB()}function vB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BN(e,n){if(e){if(typeof e=="string")return Sg(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sg(e,n)}}function Sg(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function wB(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,a=!1,d,g;try{for(t=t.call(e);!(i=(d=t.next()).done)&&(r.push(d.value),!(n&&r.length===n));i=!0);}catch(v){a=!0,g=v}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw g}}return r}}function yB(e){if(Array.isArray(e))return e}var bB=typeof em=="function"?em:em.default,CB="file-invalid-type",EB="file-too-large",NB="file-too-small",_B="too-many-files",SB=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=n.split(","),r=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:CB,message:"File type must be ".concat(r)}},Gb=function(n){return{code:EB,message:"File is larger than ".concat(n," ").concat(n===1?"byte":"bytes")}},Xb=function(n){return{code:NB,message:"File is smaller than ".concat(n," ").concat(n===1?"byte":"bytes")}},AB={code:_B,message:"Too many files"};function UN(e,n){var t=e.type==="application/x-moz-file"||bB(e,n);return[t,t?null:SB(n)]}function zN(e,n,t){if(Ho(e.size))if(Ho(n)&&Ho(t)){if(e.size>t)return[!1,Gb(t)];if(e.size<n)return[!1,Xb(n)]}else{if(Ho(n)&&e.size<n)return[!1,Xb(n)];if(Ho(t)&&e.size>t)return[!1,Gb(t)]}return[!0,null]}function Ho(e){return e!=null}function TB(e){var n=e.files,t=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,d=e.maxFiles,g=e.validator;return!a&&n.length>1||a&&d>=1&&n.length>d?!1:n.every(function(v){var x=UN(v,t),y=fd(x,1),E=y[0],_=zN(v,r,i),T=fd(_,1),S=T[0],R=g?g(v):null;return E&&S&&!R})}function vh(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Kf(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(n){return n==="Files"||n==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Qb(e){e.preventDefault()}function kB(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function DB(e){return e.indexOf("Edge/")!==-1}function IB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return kB(e)||DB(e)}function Cs(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),d=1;d<i;d++)a[d-1]=arguments[d];return n.some(function(g){return!vh(r)&&g&&g.apply(void 0,[r].concat(a)),vh(r)})}}function RB(){return"showOpenFilePicker"in window}function jB(e){if(Ho(e)){var n=Object.entries(e).filter(function(t){var r=fd(t,2),i=r[0],a=r[1],d=!0;return WN(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(a)||!a.every(HN))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(t,r){var i=fd(r,2),a=i[0],d=i[1];return $b($b({},t),{},FN({},a,d))},{});return[{description:"Files",accept:n}]}return e}function OB(e){if(Ho(e))return Object.entries(e).reduce(function(n,t){var r=fd(t,2),i=r[0],a=r[1];return[].concat(Vb(n),[i],Vb(a))},[]).filter(function(n){return WN(n)||HN(n)}).join(",")}function MB(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function LB(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function WN(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function HN(e){return/^.*\.[\w]+$/.test(e)}var PB=["children"],FB=["open"],BB=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],UB=["refKey","onChange","onClick"];function zB(e){return qB(e)||HB(e)||qN(e)||WB()}function WB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qB(e){if(Array.isArray(e))return Ag(e)}function tm(e,n){return $B(e)||YB(e,n)||qN(e,n)||VB()}function VB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qN(e,n){if(e){if(typeof e=="string")return Ag(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ag(e,n)}}function Ag(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function YB(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,a=!1,d,g;try{for(t=t.call(e);!(i=(d=t.next()).done)&&(r.push(d.value),!(n&&r.length===n));i=!0);}catch(v){a=!0,g=v}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw g}}return r}}function $B(e){if(Array.isArray(e))return e}function Kb(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function En(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Kb(Object(t),!0).forEach(function(r){Tg(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Kb(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Tg(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function wh(e,n){if(e==null)return{};var t=GB(e,n),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function GB(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}var d2=M.forwardRef(function(e,n){var t=e.children,r=wh(e,PB),i=Sd(r),a=i.open,d=wh(i,FB);return M.useImperativeHandle(n,function(){return{open:a}},[a]),de.createElement(M.Fragment,null,t(En(En({},d),{},{open:a})))});d2.displayName="Dropzone";var VN={disabled:!1,getFilesFromEvent:aB,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};d2.defaultProps=VN;d2.propTypes={children:ie.func,accept:ie.objectOf(ie.arrayOf(ie.string)),multiple:ie.bool,preventDropOnDocument:ie.bool,noClick:ie.bool,noKeyboard:ie.bool,noDrag:ie.bool,noDragEventsBubbling:ie.bool,minSize:ie.number,maxSize:ie.number,maxFiles:ie.number,disabled:ie.bool,getFilesFromEvent:ie.func,onFileDialogCancel:ie.func,onFileDialogOpen:ie.func,useFsAccessApi:ie.bool,autoFocus:ie.bool,onDragEnter:ie.func,onDragLeave:ie.func,onDragOver:ie.func,onDrop:ie.func,onDropAccepted:ie.func,onDropRejected:ie.func,onError:ie.func,validator:ie.func};var kg={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Sd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=En(En({},VN),e),t=n.accept,r=n.disabled,i=n.getFilesFromEvent,a=n.maxSize,d=n.minSize,g=n.multiple,v=n.maxFiles,x=n.onDragEnter,y=n.onDragLeave,E=n.onDragOver,_=n.onDrop,T=n.onDropAccepted,S=n.onDropRejected,R=n.onFileDialogCancel,O=n.onFileDialogOpen,I=n.useFsAccessApi,D=n.autoFocus,j=n.preventDropOnDocument,q=n.noClick,Q=n.noKeyboard,z=n.noDrag,P=n.noDragEventsBubbling,V=n.onError,W=n.validator,se=M.useMemo(function(){return OB(t)},[t]),ce=M.useMemo(function(){return jB(t)},[t]),ae=M.useMemo(function(){return typeof O=="function"?O:Zb},[O]),ne=M.useMemo(function(){return typeof R=="function"?R:Zb},[R]),he=M.useRef(null),ee=M.useRef(null),ve=M.useReducer(XB,kg),ge=tm(ve,2),ue=ge[0],_e=ge[1],Ie=ue.isFocused,qe=ue.isFileDialogActive,nt=M.useRef(typeof window<"u"&&window.isSecureContext&&I&&RB()),fn=function(){!nt.current&&qe&&setTimeout(function(){if(ee.current){var Ge=ee.current.files;Ge.length||(_e({type:"closeDialog"}),ne())}},300)};M.useEffect(function(){return window.addEventListener("focus",fn,!1),function(){window.removeEventListener("focus",fn,!1)}},[ee,qe,ne,nt]);var ft=M.useRef([]),hn=function(Ge){he.current&&he.current.contains(Ge.target)||(Ge.preventDefault(),ft.current=[])};M.useEffect(function(){return j&&(document.addEventListener("dragover",Qb,!1),document.addEventListener("drop",hn,!1)),function(){j&&(document.removeEventListener("dragover",Qb),document.removeEventListener("drop",hn))}},[he,j]),M.useEffect(function(){return!r&&D&&he.current&&he.current.focus(),function(){}},[he,D,r]);var De=M.useCallback(function(ke){V?V(ke):console.error(ke)},[V]),je=M.useCallback(function(ke){ke.preventDefault(),ke.persist(),Re(ke),ft.current=[].concat(zB(ft.current),[ke.target]),Kf(ke)&&Promise.resolve(i(ke)).then(function(Ge){if(!(vh(ke)&&!P)){var At=Ge.length,en=At>0&&TB({files:Ge,accept:se,minSize:d,maxSize:a,multiple:g,maxFiles:v,validator:W}),Yt=At>0&&!en;_e({isDragAccept:en,isDragReject:Yt,isDragActive:!0,type:"setDraggedFiles"}),x&&x(ke)}}).catch(function(Ge){return De(Ge)})},[i,x,De,P,se,d,a,g,v,W]),We=M.useCallback(function(ke){ke.preventDefault(),ke.persist(),Re(ke);var Ge=Kf(ke);if(Ge&&ke.dataTransfer)try{ke.dataTransfer.dropEffect="copy"}catch{}return Ge&&E&&E(ke),!1},[E,P]),qt=M.useCallback(function(ke){ke.preventDefault(),ke.persist(),Re(ke);var Ge=ft.current.filter(function(en){return he.current&&he.current.contains(en)}),At=Ge.indexOf(ke.target);At!==-1&&Ge.splice(At,1),ft.current=Ge,!(Ge.length>0)&&(_e({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Kf(ke)&&y&&y(ke))},[he,y,P]),Ln=M.useCallback(function(ke,Ge){var At=[],en=[];ke.forEach(function(Yt){var on=UN(Yt,se),si=tm(on,2),_i=si[0],Fs=si[1],Jt=zN(Yt,d,a),Te=tm(Jt,2),tn=Te[0],_t=Te[1],Ut=W?W(Yt):null;if(_i&&tn&&!Ut)At.push(Yt);else{var Gi=[Fs,_t];Ut&&(Gi=Gi.concat(Ut)),en.push({file:Yt,errors:Gi.filter(function(vo){return vo})})}}),(!g&&At.length>1||g&&v>=1&&At.length>v)&&(At.forEach(function(Yt){en.push({file:Yt,errors:[AB]})}),At.splice(0)),_e({acceptedFiles:At,fileRejections:en,isDragReject:en.length>0,type:"setFiles"}),_&&_(At,en,Ge),en.length>0&&S&&S(en,Ge),At.length>0&&T&&T(At,Ge)},[_e,g,se,d,a,v,_,T,S,W]),Vt=M.useCallback(function(ke){ke.preventDefault(),ke.persist(),Re(ke),ft.current=[],Kf(ke)&&Promise.resolve(i(ke)).then(function(Ge){vh(ke)&&!P||Ln(Ge,ke)}).catch(function(Ge){return De(Ge)}),_e({type:"reset"})},[i,Ln,De,P]),pn=M.useCallback(function(){if(nt.current){_e({type:"openDialog"}),ae();var ke={multiple:g,types:ce};window.showOpenFilePicker(ke).then(function(Ge){return i(Ge)}).then(function(Ge){Ln(Ge,null),_e({type:"closeDialog"})}).catch(function(Ge){MB(Ge)?(ne(Ge),_e({type:"closeDialog"})):LB(Ge)?(nt.current=!1,ee.current?(ee.current.value=null,ee.current.click()):De(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):De(Ge)});return}ee.current&&(_e({type:"openDialog"}),ae(),ee.current.value=null,ee.current.click())},[_e,ae,ne,I,Ln,De,ce,g]),Se=M.useCallback(function(ke){!he.current||!he.current.isEqualNode(ke.target)||(ke.key===" "||ke.key==="Enter"||ke.keyCode===32||ke.keyCode===13)&&(ke.preventDefault(),pn())},[he,pn]),Ye=M.useCallback(function(){_e({type:"focus"})},[]),jt=M.useCallback(function(){_e({type:"blur"})},[]),yr=M.useCallback(function(){q||(IB()?setTimeout(pn,0):pn())},[q,pn]),yt=function(Ge){return r?null:Ge},Nt=function(Ge){return Q?null:yt(Ge)},ot=function(Ge){return z?null:yt(Ge)},Re=function(Ge){P&&Ge.stopPropagation()},Ee=M.useMemo(function(){return function(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ge=ke.refKey,At=Ge===void 0?"ref":Ge,en=ke.role,Yt=ke.onKeyDown,on=ke.onFocus,si=ke.onBlur,_i=ke.onClick,Fs=ke.onDragEnter,Jt=ke.onDragOver,Te=ke.onDragLeave,tn=ke.onDrop,_t=wh(ke,BB);return En(En(Tg({onKeyDown:Nt(Cs(Yt,Se)),onFocus:Nt(Cs(on,Ye)),onBlur:Nt(Cs(si,jt)),onClick:yt(Cs(_i,yr)),onDragEnter:ot(Cs(Fs,je)),onDragOver:ot(Cs(Jt,We)),onDragLeave:ot(Cs(Te,qt)),onDrop:ot(Cs(tn,Vt)),role:typeof en=="string"&&en!==""?en:"presentation"},At,he),!r&&!Q?{tabIndex:0}:{}),_t)}},[he,Se,Ye,jt,yr,je,We,qt,Vt,Q,z,r]),Pn=M.useCallback(function(ke){ke.stopPropagation()},[]),hr=M.useMemo(function(){return function(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ge=ke.refKey,At=Ge===void 0?"ref":Ge,en=ke.onChange,Yt=ke.onClick,on=wh(ke,UB),si=Tg({accept:se,multiple:g,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:yt(Cs(en,Vt)),onClick:yt(Cs(Yt,Pn)),tabIndex:-1},At,ee);return En(En({},si),on)}},[ee,t,g,Vt,r]);return En(En({},ue),{},{isFocused:Ie&&!r,getRootProps:Ee,getInputProps:hr,rootRef:he,inputRef:ee,open:yt(pn)})}function XB(e,n){switch(n.type){case"focus":return En(En({},e),{},{isFocused:!0});case"blur":return En(En({},e),{},{isFocused:!1});case"openDialog":return En(En({},kg),{},{isFileDialogActive:!0});case"closeDialog":return En(En({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return En(En({},e),{},{isDragActive:n.isDragActive,isDragAccept:n.isDragAccept,isDragReject:n.isDragReject});case"setFiles":return En(En({},e),{},{acceptedFiles:n.acceptedFiles,fileRejections:n.fileRejections,isDragReject:n.isDragReject});case"reset":return En({},kg);default:return e}}function Zb(){}const QB=async(e="csv",n={})=>{try{const t={format:e};return Object.entries(n).forEach(([i,a])=>{i==="selectedIds"&&Array.isArray(a)&&a.length>0?t.selectedIds=JSON.stringify(a):t[i]=a}),console.log("Export params:",t),(await Je.get("/api/import-export/export",{params:t,responseType:"blob"})).data}catch(t){throw console.error("Error exporting equipment:",t),t}},KB=async(e,n={})=>{try{const t=new FormData;return t.append("file",e),Object.entries(n).forEach(([i,a])=>{t.append(i,a)}),(await Je.post("/api/import-export/import",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error importing equipment:",t),t}},ZB=(e,n)=>{const t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=n,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(t),document.body.removeChild(r)},JB=({isOpen:e,onClose:n,filters:t={},selectedItems:r=[]})=>{const[i,a]=M.useState("export"),[d,g]=M.useState("csv"),[v,x]=M.useState(!1),[y,E]=M.useState(!1),[_,T]=M.useState(null),[S,R]=M.useState(!0),[O,I]=M.useState(null),[D,j]=M.useState(""),{user:q}=ir(),Q=Qn(),z=q&&(q.role==="admin"||q.role==="advanced"),{getRootProps:P,getInputProps:V,isDragActive:W}=Sd({onDrop:ae=>{ae.length>0&&(T(ae[0]),j(""))},accept:{"text/csv":[".csv"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/json":[".json"]},maxFiles:1}),se=async()=>{try{E(!0),j("");const ae=new Date().toISOString().split("T")[0],ne={...t};v&&r.length>0&&(ne.selectedIds=r);const he=await QB(d,ne);let ee;const ve=v&&r.length>0?`equipment_selected_${r.length}_items_${ae}`:`equipment_export_${ae}`;switch(d){case"csv":ee=`${ve}.csv`;break;case"xlsx":ee=`${ve}.xlsx`;break;case"json":ee=`${ve}.json`;break;default:ee=ve}ZB(he,ee),E(!1)}catch(ae){console.error("Export error:",ae),j("Failed to export data. Please try again."),E(!1)}},ce=async()=>{if(!_){j("Please select a file to import");return}try{E(!0),j(""),I(null);const ae=await KB(_,{updateExisting:S});I(ae.results),Q.invalidateQueries(["equipment"]),E(!1),T(null),ae.results.errors.length===0&&setTimeout(()=>{n()},3e3)}catch(ae){console.error("Import error:",ae),j("Failed to import data. Please check your file and try again."),E(!1)}};return!e||!z?null:c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Import/Export Equipment"}),c.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"flex border-b",children:[c.jsx("button",{className:`px-4 py-2 ${i==="export"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("export"),children:"Export"}),c.jsx("button",{className:`px-4 py-2 ${i==="import"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("import"),children:"Import"})]}),c.jsx("div",{className:"p-4",children:i==="export"?c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Format"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"csv",checked:d==="csv",onChange:()=>g("csv")}),c.jsx("span",{className:"ml-2",children:"CSV"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"xlsx",checked:d==="xlsx",onChange:()=>g("xlsx")}),c.jsx("span",{className:"ml-2",children:"Excel (XLSX)"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"json",checked:d==="json",onChange:()=>g("json")}),c.jsx("span",{className:"ml-2",children:"JSON"})]})]})]}),r.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Scope"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:!v,onChange:()=>x(!1)}),c.jsx("span",{className:"ml-2",children:"All equipment (with filters)"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:v,onChange:()=>x(!0)}),c.jsxs("span",{className:"ml-2",children:["Selected items only (",r.length,")"]})]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsx("p",{className:"text-sm text-gray-600",children:v&&r.length>0?`This will export ${r.length} selected equipment items.`:"This will export all equipment data based on your current filters."})}),D&&c.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:D}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:n,disabled:y,className:"btn btn-secondary",children:"Cancel"}),c.jsx("button",{onClick:se,disabled:y,className:`btn ${y?"bg-blue-400":"btn-primary"}`,children:y?c.jsxs("div",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):"Export"})]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload File"}),c.jsxs("div",{...P(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${W?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[c.jsx("input",{...V()}),_?c.jsxs("div",{children:[c.jsxs("p",{className:"text-green-600",children:["File selected: ",_.name]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(_.size/1024).toFixed(2)," KB"]})]}):W?c.jsx("p",{className:"text-blue-500",children:"Drop the file here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop a file here, or click to select a file"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Accepted file types: CSV, XLSX, JSON"})]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"checkbox",className:"form-checkbox",checked:S,onChange:ae=>R(ae.target.checked)}),c.jsx("span",{className:"ml-2",children:"Update existing equipment if found"})]})}),D&&c.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:D}),O&&c.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded",children:[c.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Import Results"}),c.jsxs("ul",{className:"text-sm text-green-700",children:[c.jsxs("li",{children:["Total records processed: ",O.total]}),c.jsxs("li",{children:["New records created: ",O.created]}),c.jsxs("li",{children:["Existing records updated: ",O.updated]}),c.jsxs("li",{children:["Errors: ",O.errors.length]})]}),O.errors.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsx("h4",{className:"font-medium text-red-800",children:"Errors:"}),c.jsx("ul",{className:"text-sm text-red-700 mt-1 max-h-32 overflow-y-auto",children:O.errors.map((ae,ne)=>c.jsxs("li",{children:[ae.record.serial_number||ae.record.id||`Row ${ne+1}`,": ",ae.error]},ne))})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:n,disabled:y,className:"btn btn-secondary",children:"Cancel"}),c.jsx("button",{onClick:ce,disabled:y||!_,className:`btn ${y?"bg-blue-400":"btn-primary"}`,children:y?c.jsxs("div",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):"Import"})]})]})})]})})},eU=()=>{var ot;const e=fs(),n=M.useRef(null),[t]=M.useState(20),[r,i]=M.useState({type:"",brand:"",status:"",location_id:"",search:""}),[a,d]=M.useState([]),[g,v]=M.useState(!1),[x,y]=M.useState("updated_at"),[E,_]=M.useState("desc"),[T,S]=M.useState("list"),[R,O]=M.useState(!1);M.useEffect(()=>{const Re=localStorage.getItem("equipmentViewMode");Re&&S(Re);const Ee=localStorage.getItem("equipmentShowThumbnails");Ee!==null&&O(Ee==="true")},[]),M.useEffect(()=>{localStorage.setItem("equipmentViewMode",T)},[T]),M.useEffect(()=>{localStorage.setItem("equipmentShowThumbnails",R.toString())},[R]);const[I,D]=M.useState(!1),[j,q]=M.useState(!1),[Q,z]=M.useState(!1),[P,V]=M.useState(!1),[W,se]=M.useState(!1),[ce,ae]=M.useState(!1),[ne,he]=M.useState(!1),[ee,ve]=M.useState(!1),[ge,ue]=M.useState(null);M.useEffect(()=>{const Re=hr=>{const{id:ke}=hr.detail;ue(ke),q(!0)},Ee=hr=>{const{id:ke}=hr.detail;ue(ke),z(!0)},Pn=hr=>{const{id:ke}=hr.detail;ue(ke),V(!0)};return document.addEventListener("batchDuplicate",Re),document.addEventListener("batchStatusUpdate",Ee),document.addEventListener("batchLocationChange",Pn),()=>{document.removeEventListener("batchDuplicate",Re),document.removeEventListener("batchStatusUpdate",Ee),document.removeEventListener("batchLocationChange",Pn)}},[]);const{data:_e,fetchNextPage:Ie,hasNextPage:qe,isFetchingNextPage:nt,isLoading:fn,isError:ft,error:hn}=Px(["equipment",r,x,E],async({pageParam:Re=1})=>{const Ee={page:Re,limit:t,...r,sortBy:x,sortOrder:E};return Zo(Ee)},{getNextPageParam:Re=>{if(Re.page<Re.totalPages)return Re.page+1},keepPreviousData:!0}),{data:De}=Et({queryKey:["equipmentTypes"],queryFn:Ls,staleTime:3e5}),{data:je}=Et(["locations"],ml),We=(_e==null?void 0:_e.pages.flatMap(Re=>Re.equipment))||[];M.useEffect(()=>{const Re=new IntersectionObserver(Ee=>{Ee[0].isIntersecting&&qe&&!nt&&Ie()},{threshold:.5});return n.current&&Re.observe(n.current),()=>{n.current&&Re.unobserve(n.current)}},[n,Ie,qe,nt]);const qt=Re=>{ue(Re),D(!0)},Ln=()=>{D(!1),ue(null)},Vt=()=>{q(!1),ue(null)},pn=Re=>{const{name:Ee,value:Pn}=Re.target;i(hr=>({...hr,[Ee]:Pn}))},Se=Re=>{Re.preventDefault()},Ye=Re=>{x===Re?_(Ee=>Ee==="asc"?"desc":"asc"):(y(Re),_("desc"))},jt=Re=>{d(Ee=>Ee.includes(Re)?Ee.filter(Pn=>Pn!==Re):[...Ee,Re])},yr=()=>{if(g)d([]);else{const Re=We.map(Ee=>Ee.id);d(Re)}v(!g)},yt=()=>{d([]),v(!1)},Nt=(Re,Ee)=>{Ee.target.type==="checkbox"||Ee.target.closest("button")||Ee.target.closest("a")||Ee.target.closest(".btn-icon")||e(`/equipment/${Re}`)};return fn?c.jsx("div",{className:"text-center py-10",children:"Loading..."}):ft?c.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",hn.message||"Failed to load equipment"]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(tB,{isOpen:I,onClose:Ln,equipmentId:ge}),c.jsx(nB,{isOpen:j,onClose:Vt,equipmentId:ge,selectedItems:a}),c.jsx(kN,{isOpen:Q,onClose:()=>z(!1),equipmentId:ge,selectedItems:a}),c.jsx(DN,{isOpen:P,onClose:()=>V(!1),equipmentId:ge,selectedItems:a}),c.jsx(IN,{isOpen:W,onClose:()=>se(!1),selectedItems:a}),c.jsx(RN,{isOpen:ce,onClose:()=>ae(!1),selectedItems:a}),c.jsx(jN,{isOpen:ne,onClose:()=>he(!1),selectedItems:a}),c.jsx(JB,{isOpen:ee,onClose:()=>ve(!1),filters:r,selectedItems:a}),c.jsx("div",{className:"card",children:c.jsxs("form",{onSubmit:Se,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),c.jsxs("div",{className:"input-group",children:[c.jsx(DE,{className:"input-icon w-4 h-4"}),c.jsx("input",{type:"text",id:"search",name:"search",value:r.search,onChange:pn,placeholder:"Search equipment...",className:"input input-with-icon"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"type",className:"label",children:"Type"}),c.jsxs("select",{id:"type",name:"type",value:r.type,onChange:pn,className:"input",children:[c.jsx("option",{value:"",children:"All Types"}),De!=null&&De.types&&De.types.length>0?De.types.map(Re=>c.jsx("option",{value:Re.name.toLowerCase(),children:Re.name},Re.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"status",className:"label",children:"Status"}),c.jsxs("select",{id:"status",name:"status",value:r.status,onChange:pn,className:"input",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"available",children:"Available"}),c.jsx("option",{value:"in-use",children:"In Use"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),c.jsxs("select",{id:"location_id",name:"location_id",value:r.location_id,onChange:pn,className:"input",children:[c.jsx("option",{value:"",children:"All Locations"}),(ot=je==null?void 0:je.locations)==null?void 0:ot.map(Re=>c.jsx("option",{value:Re.id.toString(),children:Re.name},Re.id))]})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{type:"button",onClick:()=>{i({type:"",brand:"",status:"",location_id:"",search:""})},className:"btn btn-outline w-full",children:"Clear All Filters"})}),c.jsx("div",{className:"flex items-end",children:c.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[c.jsx(IE,{className:"w-4 h-4"}),c.jsx("span",{children:"Apply Filters"})]})})]})}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"flex flex-col space-y-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mr-4",children:"Equipment List"}),c.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden mr-2",children:[c.jsx("button",{onClick:()=>S("list"),className:`px-2 py-1 text-xs font-medium transition-all ${T==="list"?"bg-white text-primary-600 border-r border-slate-200 hover:bg-primary-50":"bg-white text-slate-600 border-r border-slate-200 hover:bg-slate-50"}`,title:"List view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),c.jsx("button",{onClick:()=>S("card"),className:`px-2 py-1 text-xs font-medium transition-all ${T==="card"?"bg-white text-primary-600 hover:bg-primary-50":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]}),a.length>0&&c.jsx("div",{className:"ml-2",children:c.jsx(ON,{selectedItems:a,onBatchDuplicate:()=>q(!0),onBatchStatusUpdate:()=>z(!0),onBatchLocationChange:()=>V(!0),onBatchTypeChange:()=>se(!0),onBatchCategoryChange:()=>ae(!0),onBatchBrandModelChange:()=>he(!0),onClearSelection:yt})})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>ve(!0),className:"btn btn-secondary btn-sm",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(sO,{className:"w-4 h-4 mr-1"}),c.jsx(aO,{className:"w-4 h-4 mr-1"}),c.jsx("span",{children:"Import/Export"})]})}),c.jsxs(ur,{to:"/equipment/new",className:"btn btn-primary btn-sm",children:[c.jsx(TE,{className:"w-4 h-4"}),c.jsx("span",{children:"Add New Equipment"})]})]})]})}),T==="card"&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:We.length>0?We.map(Re=>c.jsx(MN,{equipment:Re,onDuplicate:qt,onSelect:jt,isSelected:a.includes(Re.id)},Re.id)):c.jsx("div",{className:"col-span-3 py-8 text-center text-gray-500",children:"No equipment found"})}),T==="list"&&c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell w-10",children:c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("input",{type:"checkbox",checked:g,onChange:yr,className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),c.jsx(Ba,{field:"type",label:"Type",currentSortField:x,currentSortOrder:E,onSort:Ye}),c.jsx(Ba,{field:"category",label:"Category",currentSortField:x,currentSortOrder:E,onSort:Ye}),c.jsx(Ba,{field:"brand",label:"Brand",currentSortField:x,currentSortOrder:E,onSort:Ye}),c.jsx(Ba,{field:"model",label:"Model",currentSortField:x,currentSortOrder:E,onSort:Ye}),c.jsx(Ba,{field:"serial_number",label:"Serial Number",currentSortField:x,currentSortOrder:E,onSort:Ye}),c.jsx(Ba,{field:"status",label:"Status",currentSortField:x,currentSortOrder:E,onSort:Ye}),c.jsx(Ba,{field:"location",label:"Location",currentSortField:x,currentSortOrder:E,onSort:Ye}),c.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:We.length>0?We.map(Re=>{var Ee;return c.jsxs("tr",{className:`table-row ${a.includes(Re.id)?"bg-blue-50":""} cursor-pointer hover:bg-slate-50`,onClick:Pn=>Nt(Re.id,Pn),children:[c.jsx("td",{className:"table-cell",children:c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("input",{type:"checkbox",checked:a.includes(Re.id),onChange:()=>jt(Re.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),c.jsx("td",{className:"table-cell",children:Re.type}),c.jsx("td",{className:"table-cell",children:Re.category||"-"}),c.jsx("td",{className:"table-cell",children:Re.brand}),c.jsx("td",{className:"table-cell",children:Re.model}),c.jsx("td",{className:"table-cell",children:Re.serial_number}),c.jsx("td",{className:"table-cell",children:c.jsx("span",{className:`badge ${Re.status==="available"?"badge-success":Re.status==="in-use"?"badge-info":"badge-warning"}`,children:Re.status})}),c.jsx("td",{className:"table-cell",children:((Ee=Re.locationDetails)==null?void 0:Ee.name)||Re.location||"-"}),c.jsx("td",{className:"table-cell",children:c.jsx("div",{className:"flex items-center justify-end",children:c.jsx(u2,{equipmentId:Re.id,onBatchDuplicate:()=>{ue(Re.id),q(!0)},onBatchStatusUpdate:()=>{ue(Re.id),z(!0)},onBatchLocationChange:()=>{ue(Re.id),V(!0)}})})})]},Re.id)}):c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"px-6 py-4 text-center text-gray-500",children:"No equipment found"})})})]})}),c.jsx("div",{ref:n,className:"py-4 text-center",children:nt?c.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),c.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):qe?c.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):c.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})]})},tU=async({page:e=1,limit:n=20,equipmentId:t,userId:r,actionType:i,search:a,type:d,status:g,location_id:v,sortBy:x="created_at",sortOrder:y="desc"})=>{const E={page:e,limit:n};return t&&(E.equipmentId=t),r&&(E.userId=r),i&&(E.actionType=i),a&&(E.search=a),d&&(E.type=d),g&&(E.status=g),v&&(E.location_id=v),x&&(E.sortBy=x),y&&(E.sortOrder=y),(await Je.get("/api/equipment-logs",{params:E})).data},nU=async(e,{page:n=1,limit:t=20}={})=>{const r={page:n,limit:t};return(await Je.get(`/api/equipment-logs/equipment/${e}`,{params:r})).data},rU=({equipmentId:e})=>{var y;const[n,t]=M.useState(1),[r]=M.useState(10),{data:i,isLoading:a,isError:d,error:g}=Et(["equipmentLogs",e,n,r],()=>nU(e,{page:n,limit:r}),{keepPreviousData:!0,enabled:!!e}),v=E=>E.split("_").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" "),x=E=>{t(E)};return a?c.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[c.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{className:"text-slate-600",children:"Loading movement history..."})]}):d?c.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[c.jsx("div",{className:"bg-red-100 p-3 rounded-full mb-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("p",{className:"text-red-600 font-medium mb-1",children:"Error Loading Movement History"}),c.jsx("p",{className:"text-slate-500 text-sm",children:g.message||"Failed to load equipment logs"})]}):(y=i==null?void 0:i.logs)!=null&&y.length?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[c.jsx("thead",{className:"bg-slate-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Date"]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"User"]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Action"]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Details"]})})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:i.logs.map((E,_)=>{var T,S,R;return c.jsxs("tr",{className:`hover:bg-slate-50 ${_%2===0?"bg-white":"bg-slate-50/50"}`,children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium",children:cd(new Date(E.created_at),"MMM d, yyyy")}),c.jsx("span",{className:"ml-2 text-slate-500",children:cd(new Date(E.created_at),"h:mm a")})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 font-medium",children:(T=E.user)!=null&&T.username?E.user.username.charAt(0).toUpperCase():"?"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("div",{className:"text-sm font-medium text-slate-800",children:((S=E.user)==null?void 0:S.username)||"Unknown"}),c.jsx("div",{className:"text-xs text-slate-500 capitalize",children:((R=E.user)==null?void 0:R.role)||""})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("span",{className:`px-2.5 py-1.5 inline-flex text-xs leading-5 font-semibold rounded-full
                    ${E.action_type==="created"?"bg-green-100 text-green-800":E.action_type==="updated"?"bg-blue-100 text-blue-800":E.action_type==="deleted"?"bg-red-100 text-red-800":E.action_type==="status_change"?"bg-yellow-100 text-yellow-800":E.action_type==="location_change"?"bg-indigo-100 text-indigo-800":"bg-slate-100 text-slate-800"}`,children:[E.action_type==="created"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),E.action_type==="updated"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),E.action_type==="deleted"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),E.action_type==="status_change"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),E.action_type==="location_change"&&c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),v(E.action_type)]})}),c.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[E.action_type==="status_change"&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"font-medium text-slate-700",children:"Status:"}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:E.previous_status}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:E.new_status})]}),E.action_type==="location_change"&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"font-medium text-slate-700",children:"Location:"}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:E.previous_location||"None"}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:E.new_location||"None"})]}),E.details&&c.jsx("div",{className:"mt-2 text-slate-600",children:E.details})]})]},E.id)})})]})}),i.totalPages>1&&c.jsxs("div",{className:"flex justify-between items-center mt-4 px-2",children:[c.jsxs("div",{className:"text-sm text-slate-600 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Showing ",c.jsx("span",{className:"font-medium text-slate-800 mx-1",children:(n-1)*r+1})," to"," ",c.jsx("span",{className:"font-medium text-slate-800 mx-1",children:Math.min(n*r,i.total)})," of"," ",c.jsx("span",{className:"font-medium text-slate-800 mx-1",children:i.total})," logs"]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:()=>x(n-1),disabled:n===1,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${n===1?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-1 ${n===1?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),c.jsxs("button",{onClick:()=>x(n+1),disabled:n===i.totalPages,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${n===i.totalPages?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:["Next",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ml-1 ${n===i.totalPages?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}):c.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[c.jsx("div",{className:"bg-slate-100 p-3 rounded-full mb-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("p",{className:"text-slate-600 font-medium",children:"No movement history found"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"This equipment has no recorded movements or status changes"})]})},YN=({isOpen:e,title:n="Confirm Action",message:t="Are you sure you want to proceed?",confirmText:r="Confirm",cancelText:i="Cancel",onConfirm:a,onCancel:d,isDestructive:g=!1})=>e?c.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-soft max-w-md w-full p-6 animate-fade-in",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:n}),c.jsx("p",{className:"text-slate-600 mb-6",children:t}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx(Ue,{variant:"secondary",onClick:d,children:i}),c.jsx(Ue,{variant:g?"danger":"primary",onClick:a,children:r})]})]})}):null;YN.propTypes={isOpen:ie.bool.isRequired,title:ie.string,message:ie.string,confirmText:ie.string,cancelText:ie.string,onConfirm:ie.func.isRequired,onCancel:ie.func.isRequired,isDestructive:ie.bool};const f2=({onImageSelect:e,existingImage:n=null,onImageDelete:t})=>{const[r,i]=M.useState(null),[a,d]=M.useState(null);M.useEffect(()=>{d(n?`/api/files/${n.id}?thumbnail=true`:null)},[n]),M.useEffect(()=>()=>{a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a)},[a]);const g=M.useCallback(T=>{if(T.length>0){const S=T[0];if(S.size>10*1024*1024){alert("Image is too large. Maximum size is 10MB.");return}i(S),d(URL.createObjectURL(S)),e(S)}},[e]),v=()=>{i(null),a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a),d(null),e(null)},x=()=>{t&&n&&(t(n.id),d(null))},{getRootProps:y,getInputProps:E,isDragActive:_}=Sd({onDrop:g,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},maxFiles:1,multiple:!1});return c.jsx("div",{children:a?c.jsx("div",{className:"mt-4",children:c.jsxs("div",{className:"bg-slate-50 p-4 rounded-md border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-sm font-medium",children:n?n.file_name:(r==null?void 0:r.name)||"Reference Image"})]}),c.jsx("button",{type:"button",onClick:n?x:v,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsx("div",{className:"mt-2 flex justify-center",style:{height:"200px"},children:c.jsx("div",{className:"relative w-full h-full flex items-center justify-center overflow-hidden bg-slate-100 rounded-md",children:c.jsx("img",{src:a,alt:"Reference Image Preview",className:"rounded-md max-h-full max-w-full",style:{objectFit:"contain",objectPosition:"center"},onError:T=>{console.error("Error loading image:",T),T.target.src="/placeholder-image.png",T.target.onerror=null}})})})]})}):c.jsxs("div",{...y(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${_?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[c.jsx("input",{...E()}),_?c.jsx("p",{className:"text-primary-500",children:"Drop the image here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop a reference image here, or click to select"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Accepted file types: JPEG, PNG (Max: 10MB)"})]})]})})};f2.propTypes={onImageSelect:ie.func.isRequired,existingImage:ie.object,onImageDelete:ie.func};const $N=({isOpen:e,onClose:n,equipmentId:t,existingImage:r=null})=>{const[i,a]=M.useState(null),[d,g]=M.useState(!1),[v,x]=M.useState(""),y=Qn(),E=R=>{a(R)},_=Vn({mutationFn:async R=>NE(t,{},[],[],R.referenceImageFile,R.removeReferenceImage),onSuccess:()=>{y.invalidateQueries(["equipment",t]),n()},onError:R=>{var O,I;console.error("Error updating reference image:",R),x(((I=(O=R.response)==null?void 0:O.data)==null?void 0:I.message)||"Failed to update reference image"),g(!1)}}),T=R=>{if(R.preventDefault(),!i){x("Please select an image file");return}g(!0),x(""),_.mutate({referenceImageFile:i})},S=()=>{g(!0),x(""),_.mutate({referenceImageFile:null,removeReferenceImage:!0})};return e?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-slate-500 opacity-75"})}),c.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),c.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:c.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[c.jsxs("h3",{className:"text-lg leading-6 font-medium text-slate-900 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Change Reference Image"]}),c.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"This image will be displayed prominently on the equipment details page and in search results."}),c.jsxs("div",{className:"mt-4",children:[v&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:c.jsx("p",{className:"text-red-700",children:v})}),c.jsxs("form",{onSubmit:T,children:[c.jsx("div",{className:"mb-4",children:c.jsx(f2,{onImageSelect:E,existingImage:r})}),c.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[c.jsx(Ue,{type:"submit",variant:"primary",disabled:d||!i,className:"w-full sm:ml-3 sm:w-auto",children:d?"Saving...":"Save Changes"}),c.jsx(Ue,{type:"button",variant:"secondary",onClick:n,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"}),r&&c.jsx(Ue,{type:"button",variant:"danger",onClick:S,className:"mt-3 w-full sm:mt-0 sm:mr-auto sm:w-auto",children:"Remove Image"})]})]})]})]})})})})]})}):null};$N.propTypes={isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,equipmentId:ie.string.isRequired,existingImage:ie.object};const Dg=({fileType:e,fileUrl:n,fileName:t,className:r="",style:i={},showFileName:a=!0,size:d="medium",interactive:g=!0,useThumbnail:v=!0})=>{const[x,y]=M.useState(!0),[E,_]=M.useState(null),[T,S]=M.useState(!1),R=()=>{switch(d){case"small":return"h-24";case"large":return"h-48";case"medium":default:return"h-32"}},O=()=>{console.log("Image loaded successfully"),y(!1)},I=()=>{console.error("Image failed to load completely"),y(!1),_("Failed to load image")};M.useEffect(()=>{if(x&&e==="image"){const Q=setTimeout(()=>{console.log("Loading timeout reached, resetting loading state"),y(!1)},5e3);return()=>clearTimeout(Q)}},[x,e]),M.useEffect(()=>{!n&&e==="image"&&(console.log("No file URL provided, showing error state"),y(!1),_("No image available"))},[n,e]);const D=()=>{g&&e==="image"&&S(!T)},j=()=>{switch(e){case"image":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"pdf":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},q=()=>{if(x&&e==="image")return c.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("span",{className:"text-slate-400 text-xs",children:"Loading..."})]})});if(E)return c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-red-50",children:c.jsxs("div",{className:"flex flex-col items-center p-2",children:[c.jsx("svg",{className:"w-8 h-8 text-red-500 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c.jsx("span",{className:"text-red-500 text-xs text-center",children:E})]})});switch(e){case"image":if(!n)return console.error("No file URL provided for image"),c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-100",children:c.jsxs("div",{className:"flex flex-col items-center p-2",children:[c.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c.jsx("span",{className:"text-slate-400 text-xs text-center",children:"No image"})]})});const Q=new Date().getTime();let z=n;return z.includes("t=")||(z+=(z.includes("?")?"&":"?")+`t=${Q}`),c.jsx("div",{className:`w-full h-full flex items-center justify-center overflow-hidden ${g?"cursor-pointer":""}`,onClick:D,children:c.jsx("img",{src:z,alt:t||"Image preview",className:`max-h-full max-w-full object-contain transition-transform duration-300 ${T?"scale-150":""}`,onLoad:P=>{console.log("Image loaded successfully:",z),O()},onError:P=>{console.error("Image failed to load:",z);const V=P.target;if(n.includes("thumbnail=true")){console.log("Thumbnail failed to load, trying original image");const se=`${n.split("?")[0]}?t=${new Date().getTime()}`;console.log("Trying with URL:",se),V.src=se}else{console.log("Original image failed to load, trying with new cache busting");const W=n.includes("?")?`${n.split("?")[0]}?t=${new Date().getTime()}`:`${n}?t=${new Date().getTime()}`;console.log("Trying with URL:",W),V.src=W,V.dataset.retried?(console.error("Multiple load attempts failed, showing error"),I()):V.dataset.retried="true"}}},`img-${z}`)});case"audio":return c.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:[c.jsx("div",{className:"mb-2",children:j()}),g?c.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[c.jsx("source",{src:n,type:"audio/mpeg"}),"Your browser does not support the audio element."]}):c.jsx("div",{className:"text-sm text-slate-500",children:"Audio file"})]});case"pdf":return c.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[c.jsx("div",{className:"mb-2",children:j()}),g?c.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800 text-sm underline",children:"View PDF"}):c.jsx("div",{className:"text-sm text-slate-500",children:"PDF document"})]});default:return c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:j()})}};return c.jsxs("div",{className:`bg-slate-100 rounded-md overflow-hidden ${R()} ${r}`,style:i,children:[q(),a&&t&&c.jsx("div",{className:"bg-slate-800 bg-opacity-70 text-white text-xs py-1 px-2 absolute bottom-0 left-0 right-0 truncate",children:t})]})};Dg.propTypes={fileType:ie.oneOf(["image","audio","pdf"]).isRequired,fileUrl:ie.string.isRequired,fileName:ie.string,className:ie.string,style:ie.object,showFileName:ie.bool,size:ie.oneOf(["small","medium","large"]),interactive:ie.bool,useThumbnail:ie.bool};const GN=({files:e=[],onFileDelete:n,canDelete:t=!1,showDownload:r=!0,layout:i="grid",size:a="medium"})=>{const[d,g]=M.useState(null),v=S=>{g(S)},x=()=>{g(null)},y=(S,R=!1,O=!1)=>{let I=`/api/files/${S}`;const D=[];return R&&D.push("download=true"),O&&D.push("thumbnail=true"),D.length>0&&(I+=`?${D.join("&")}`),I},E=()=>d?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:x,children:c.jsxs("div",{className:"bg-white rounded-lg overflow-hidden max-w-3xl w-full max-h-[90vh] flex flex-col",onClick:S=>S.stopPropagation(),children:[c.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-900",children:d.file_name}),c.jsx("button",{type:"button",onClick:x,className:"text-slate-400 hover:text-slate-500",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center",children:d.file_type==="image"?c.jsx("img",{src:y(d.id),alt:d.file_name,className:"max-w-full max-h-[70vh] object-contain",onError:S=>{console.error("Error loading image in modal:",S),S.target.src=`${y(d.id)}?t=${new Date().getTime()}`}}):d.file_type==="audio"?c.jsxs("div",{className:"w-full max-w-md p-4",children:[c.jsx("div",{className:"mb-4 text-center",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})})}),c.jsxs("audio",{controls:!0,className:"w-full",children:[c.jsx("source",{src:y(d.id),type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):d.file_type==="pdf"?c.jsx("div",{className:"w-full h-[70vh]",children:c.jsx("iframe",{src:`${y(d.id)}#view=FitH`,title:d.file_name,className:"w-full h-full"})}):c.jsx("div",{className:"text-center p-4",children:c.jsx("p",{children:"This file type cannot be previewed."})})}),c.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end space-x-2",children:[c.jsx("a",{href:y(d.id,!0),download:!0,className:"btn btn-secondary",children:"Download"}),t&&c.jsx("button",{type:"button",onClick:()=>{n(d.id),x()},className:"btn btn-danger",children:"Delete"})]})]})}):null,_=()=>c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(S=>c.jsxs("div",{className:"relative group",children:[c.jsxs("div",{className:"cursor-pointer rounded-lg overflow-hidden border border-slate-200 bg-white shadow-sm hover:shadow-md transition-shadow",onClick:()=>v(S),children:[c.jsx(Dg,{fileType:S.file_type,fileUrl:y(S.id,!1,S.file_type==="image"),fileName:S.file_name,size:a,interactive:!1,useThumbnail:S.file_type==="image"}),c.jsxs("div",{className:"p-2",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:S.file_name,children:S.file_name}),c.jsx("p",{className:"text-xs text-slate-500 capitalize",children:S.file_type})]})]}),c.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[r&&c.jsx("a",{href:y(S.id,!0),download:!0,onClick:R=>R.stopPropagation(),className:"bg-white p-1.5 rounded-full shadow-md text-primary-600 hover:text-primary-800",title:"Download file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),t&&c.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),n(S.id)},className:"bg-white p-1.5 rounded-full shadow-md text-red-600 hover:text-red-800",title:"Delete file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},S.id))}),T=()=>c.jsx("div",{className:"divide-y divide-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:e.map(S=>c.jsxs("div",{className:"flex items-center p-3 hover:bg-slate-50 cursor-pointer",onClick:()=>v(S),children:[c.jsx("div",{className:"flex-shrink-0 mr-3 w-12 h-12 relative",children:c.jsx(Dg,{fileType:S.file_type,fileUrl:y(S.id,!1,S.file_type==="image"),fileName:S.file_name,size:"small",showFileName:!1,interactive:!1,useThumbnail:S.file_type==="image"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:S.file_name,children:S.file_name}),c.jsx("p",{className:"text-xs text-slate-500 capitalize",children:S.file_type})]}),c.jsxs("div",{className:"flex space-x-2 ml-2",children:[r&&c.jsx("a",{href:y(S.id,!0),download:!0,onClick:R=>R.stopPropagation(),className:"text-primary-600 hover:text-primary-800 p-1.5",title:"Download file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),t&&c.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),n(S.id)},className:"text-red-600 hover:text-red-800 p-1.5",title:"Delete file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},S.id))});return e.length===0?c.jsx("p",{className:"text-slate-500 italic",children:"No files available"}):c.jsxs("div",{children:[i==="grid"?_():T(),E()]})};GN.propTypes={files:ie.arrayOf(ie.shape({id:ie.number.isRequired,file_type:ie.string.isRequired,file_name:ie.string.isRequired})).isRequired,onFileDelete:ie.func,canDelete:ie.bool,showDownload:ie.bool,layout:ie.oneOf(["grid","list"]),size:ie.oneOf(["small","medium","large"])};const iU=async(e,n,t)=>{try{const r=new FormData;for(const a of n)r.append("files",a);return(await Je.post(`/api/files/upload/${e}`,r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t?a=>{const d=Math.round(a.loaded*100/a.total);t(d)}:void 0})).data}catch(r){throw console.error("Error uploading files:",r),r}};let sU={data:""},aU=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||sU,oU=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,lU=/\/\*[^]*?\*\/|  +/g,Jb=/\n+/g,Va=(e,n)=>{let t="",r="",i="";for(let a in e){let d=e[a];a[0]=="@"?a[1]=="i"?t=a+" "+d+";":r+=a[1]=="f"?Va(d,a):a+"{"+Va(d,a[1]=="k"?"":n)+"}":typeof d=="object"?r+=Va(d,n?n.replace(/([^,])+/g,g=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,v=>/&/.test(v)?v.replace(/&/g,g):g?g+" "+v:v)):a):d!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Va.p?Va.p(a,d):a+":"+d+";")}return t+(n&&i?n+"{"+i+"}":i)+r},ta={},XN=e=>{if(typeof e=="object"){let n="";for(let t in e)n+=t+XN(e[t]);return n}return e},cU=(e,n,t,r,i)=>{let a=XN(e),d=ta[a]||(ta[a]=(v=>{let x=0,y=11;for(;x<v.length;)y=101*y+v.charCodeAt(x++)>>>0;return"go"+y})(a));if(!ta[d]){let v=a!==e?e:(x=>{let y,E,_=[{}];for(;y=oU.exec(x.replace(lU,""));)y[4]?_.shift():y[3]?(E=y[3].replace(Jb," ").trim(),_.unshift(_[0][E]=_[0][E]||{})):_[0][y[1]]=y[2].replace(Jb," ").trim();return _[0]})(e);ta[d]=Va(i?{["@keyframes "+d]:v}:v,t?"":"."+d)}let g=t&&ta.g?ta.g:null;return t&&(ta.g=ta[d]),((v,x,y,E)=>{E?x.data=x.data.replace(E,v):x.data.indexOf(v)===-1&&(x.data=y?v+x.data:x.data+v)})(ta[d],n,r,g),d},uU=(e,n,t)=>e.reduce((r,i,a)=>{let d=n[a];if(d&&d.call){let g=d(t),v=g&&g.props&&g.props.className||/^go/.test(g)&&g;d=v?"."+v:g&&typeof g=="object"?g.props?"":Va(g,""):g===!1?"":g}return r+i+(d??"")},"");function op(e){let n=this||{},t=e.call?e(n.p):e;return cU(t.unshift?t.raw?uU(t,[].slice.call(arguments,1),n.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(n.p):i),{}):t,aU(n.target),n.g,n.o,n.k)}let QN,Ig,Rg;op.bind({g:1});let wa=op.bind({k:1});function dU(e,n,t,r){Va.p=n,QN=e,Ig=t,Rg=r}function xo(e,n){let t=this||{};return function(){let r=arguments;function i(a,d){let g=Object.assign({},a),v=g.className||i.className;t.p=Object.assign({theme:Ig&&Ig()},g),t.o=/ *go\d+/.test(v),g.className=op.apply(t,r)+(v?" "+v:""),n&&(g.ref=d);let x=e;return e[0]&&(x=g.as||e,delete g.as),Rg&&x[0]&&Rg(g),QN(x,g)}return n?n(i):i}}var fU=e=>typeof e=="function",jg=(e,n)=>fU(e)?e(n):e,hU=(()=>{let e=0;return()=>(++e).toString()})(),pU=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");e=!n||n.matches}return e}})(),mU=20,KN=(e,n)=>{switch(n.type){case 0:return{...e,toasts:[n.toast,...e.toasts].slice(0,mU)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===n.toast.id?{...a,...n.toast}:a)};case 2:let{toast:t}=n;return KN(e,{type:e.toasts.find(a=>a.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=n;return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return n.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==n.toastId)};case 5:return{...e,pausedAt:n.time};case 6:let i=n.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},gU=[],nm={toasts:[],pausedAt:void 0},h2=e=>{nm=KN(nm,e),gU.forEach(n=>{n(nm)})},xU=(e,n="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...t,id:(t==null?void 0:t.id)||hU()}),Ad=e=>(n,t)=>{let r=xU(n,e,t);return h2({type:2,toast:r}),r.id},zr=(e,n)=>Ad("blank")(e,n);zr.error=Ad("error");zr.success=Ad("success");zr.loading=Ad("loading");zr.custom=Ad("custom");zr.dismiss=e=>{h2({type:3,toastId:e})};zr.remove=e=>h2({type:4,toastId:e});zr.promise=(e,n,t)=>{let r=zr.loading(n.loading,{...t,...t==null?void 0:t.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=n.success?jg(n.success,i):void 0;return a?zr.success(a,{id:r,...t,...t==null?void 0:t.success}):zr.dismiss(r),i}).catch(i=>{let a=n.error?jg(n.error,i):void 0;a?zr.error(a,{id:r,...t,...t==null?void 0:t.error}):zr.dismiss(r)}),e};var vU=wa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,wU=wa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yU=wa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bU=xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${wU} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${yU} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,CU=wa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,EU=xo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${CU} 1s linear infinite;
`,NU=wa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_U=wa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,SU=xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${NU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_U} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,AU=xo("div")`
  position: absolute;
`,TU=xo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,kU=wa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DU=xo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${kU} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,IU=({toast:e})=>{let{icon:n,type:t,iconTheme:r}=e;return n!==void 0?typeof n=="string"?M.createElement(DU,null,n):n:t==="blank"?null:M.createElement(TU,null,M.createElement(EU,{...r}),t!=="loading"&&M.createElement(AU,null,t==="error"?M.createElement(bU,{...r}):M.createElement(SU,{...r})))},RU=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jU=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,OU="0%{opacity:0;} 100%{opacity:1;}",MU="0%{opacity:1;} 100%{opacity:0;}",LU=xo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,PU=xo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,FU=(e,n)=>{let t=e.includes("top")?1:-1,[r,i]=pU()?[OU,MU]:[RU(t),jU(t)];return{animation:n?`${wa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};M.memo(({toast:e,position:n,style:t,children:r})=>{let i=e.height?FU(e.position||n||"top-center",e.visible):{opacity:0},a=M.createElement(IU,{toast:e}),d=M.createElement(PU,{...e.ariaProps},jg(e.message,e));return M.createElement(LU,{className:e.className,style:{...i,...t,...e.style}},typeof r=="function"?r({icon:a,message:d}):M.createElement(M.Fragment,null,a,d))});dU(M.createElement);op`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const ZN=({equipmentId:e,isOpen:n,onClose:t,onSuccess:r})=>{const[i,a]=M.useState([]),[d,g]=M.useState(!1),[v,x]=M.useState(0),[y,E]=M.useState([]),_=50*1024*1024,T=5,S=M.useCallback((z,P)=>{a(W=>[...W,...z]);const V=P.map(W=>W.file.size>_?`${W.file.name} is too large. Maximum file size is 50MB.`:`${W.file.name} is not a supported file type.`);V.length>0&&E(W=>[...W,...V])},[]),{getRootProps:R,getInputProps:O,isDragActive:I}=Sd({onDrop:S,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:T,maxSize:_}),D=z=>{a(P=>P.filter((V,W)=>W!==z))},j=()=>{a([]),E([])},q=z=>{switch(z){case"image/jpeg":case"image/png":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},Q=async()=>{if(i.length===0){zr.error("Please select at least one file to upload");return}g(!0),x(0);try{const z=await iU(e,i,P=>x(P));zr.success(`Successfully uploaded ${z.files.length} files`),a([]),E([]),r&&r(z.files),t()}catch(z){console.error("Error uploading files:",z),zr.error("Failed to upload files. Please try again.")}finally{g(!1)}};return n?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),c.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[c.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[c.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Upload Documents"}),c.jsxs("div",{...R(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer mb-4 ${I?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[c.jsx("input",{...O()}),I?c.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",T," files, ",Math.round(_/(1024*1024)),"MB each)"]})]})]}),y.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-sm font-medium text-red-500 mb-1",children:"Errors:"}),c.jsx("ul",{className:"text-sm text-red-500 list-disc pl-5",children:y.map((z,P)=>c.jsx("li",{children:z},P))})]}),i.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Selected Files:"}),c.jsx("button",{type:"button",onClick:j,className:"text-sm text-red-500 hover:text-red-700",children:"Clear All"})]}),c.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-md overflow-hidden",children:i.map((z,P)=>c.jsxs("li",{className:"flex items-center justify-between p-3 hover:bg-slate-50",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"mr-2",children:q(z.type)}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium truncate max-w-xs",title:z.name,children:z.name}),c.jsxs("p",{className:"text-xs text-slate-500",children:[(z.size/1024).toFixed(1)," KB"]})]})]}),c.jsx("button",{type:"button",onClick:()=>D(P),className:"text-red-500 hover:text-red-700",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},P))})]}),d&&c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${v}%`}})}),c.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",v,"%"]})]})]})})}),c.jsxs("div",{className:"bg-slate-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[c.jsx(Ue,{variant:"primary",size:"sm",onClick:Q,disabled:d||i.length===0,className:"w-full sm:w-auto sm:ml-3",children:d?"Uploading...":"Upload"}),c.jsx(Ue,{variant:"outline",size:"sm",onClick:t,disabled:d,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"})]})]})]})}):null};ZN.propTypes={equipmentId:ie.number.isRequired,isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,onSuccess:ie.func};const e3=(e,n=!1)=>`/api/files/${e}${n?"?thumbnail=true":""}`,BU=()=>{var ae,ne;const{id:e}=bC(),n=fs(),t=Qn(),{user:r}=ir(),[i,a]=M.useState(!1),[d,g]=M.useState(!1),[v,x]=M.useState(!1),[y,E]=M.useState("details"),[_,T]=M.useState("grid"),{data:S,isLoading:R,isError:O,error:I}=Et({queryKey:["equipment",e],queryFn:()=>Kh(e)}),D=Vn({mutationFn:()=>Bj(e),onSuccess:()=>{t.invalidateQueries(["equipment"]),n("/equipment")}}),j=()=>{n(`/equipment/${e}/edit`)},q=he=>{t.invalidateQueries(["equipment",e]),rt.success(`Successfully uploaded ${he.length} file(s)`)},Q=()=>{a(!0)},z=()=>{D.mutate(),a(!1)},P=()=>{a(!1)},V=()=>{n("/equipment")};if(R)return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(O)return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:(I==null?void 0:I.message)||"Failed to load equipment details"})}),c.jsx("div",{className:"mt-4",children:c.jsx(Ue,{variant:"outline",size:"sm",onClick:V,children:"Back to Equipment List"})})]})]})})]});const W=he=>{switch(he){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";default:return"secondary"}};console.log("[EQUIPMENT DETAILS] Equipment data:",S),console.log("[EQUIPMENT DETAILS] reference_image_id:",S.reference_image_id),console.log("[EQUIPMENT DETAILS] files:",S.files),console.log("[EQUIPMENT DETAILS] files count:",((ae=S.files)==null?void 0:ae.length)||0);const se=S.reference_image_id?parseInt(S.reference_image_id):null,ce=(ne=S.files)==null?void 0:ne.find(he=>he.id===se);return console.log("[EQUIPMENT DETAILS] refImageId:",se),console.log("[EQUIPMENT DETAILS] referenceImage found:",ce?"Yes":"No"),ce&&console.log("[EQUIPMENT DETAILS] referenceImage:",ce),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"}),c.jsxs("p",{className:"text-slate-500 text-sm",children:[S.brand," ",S.model," • ",S.serial_number]})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs(Ue,{variant:"outline",onClick:V,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to List"]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs(Ue,{variant:"primary",onClick:j,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(r==null?void 0:r.role)==="admin"&&c.jsxs(Ue,{variant:"danger",onClick:Q,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[c.jsx("div",{className:"border-b border-gray-200",children:c.jsxs("nav",{className:"flex -mb-px",children:[c.jsxs("button",{type:"button",onClick:()=>E("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${y==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${y==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),c.jsxs("button",{type:"button",onClick:()=>E("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${y==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${y==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]}),c.jsxs("button",{type:"button",onClick:()=>E("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${y==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${y==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]})]})}),c.jsxs("div",{className:"p-6",children:[y==="details"&&c.jsx("div",{children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:c.jsx("div",{className:"md:col-span-1",children:c.jsxs(Ft,{className:"h-full",children:[c.jsx(Ft.Header,{className:"bg-slate-50",children:c.jsxs(Ft.Title,{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),c.jsxs(Ft.Body,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Category"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.category||"Not specified"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Type"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.type})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Brand"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.brand})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Model"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.model})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Serial Number"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.serial_number})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Status"}),c.jsx("div",{className:"mt-1",children:S.status&&c.jsx(ss,{variant:W(S.status),size:"md",children:S.status.charAt(0).toUpperCase()+S.status.slice(1).replace("-"," ")})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Location"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.location||"Not specified"})]})]}),S.description&&c.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),c.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Description"})]}),c.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:c.jsx("p",{className:"text-base text-slate-800 whitespace-pre-line",children:S.description})})]})]})]})})})}),y==="documents"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs(Ue,{variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>x(!0),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),S.files&&S.files.filter(he=>!ce||he.id!==ce.id).length>0?c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[S.files.filter(he=>!ce||he.id!==ce.id).length,S.files.filter(he=>!ce||he.id!==ce.id).length===1?" file":" files"," attached"]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>T("grid"),children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),c.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>T("list"),children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]}),c.jsx(GN,{files:S.files.filter(he=>!ce||he.id!==ce.id),layout:_,size:"medium",showDownload:!0,canDelete:!1})]}):c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsx("div",{className:"mt-4",children:c.jsxs(Ue,{variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>x(!0),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),y==="history"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[c.jsxs("div",{className:"mb-4 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),c.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),c.jsx(rU,{equipmentId:e})]})]})]})]})}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),c.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:ce?c.jsxs("div",{className:"w-full",children:[c.jsxs("div",{className:"relative pb-4",children:[c.jsx("img",{src:e3(ce.id,!0),alt:`${S.brand} ${S.model}`,className:"w-full h-auto object-contain rounded-md",onError:he=>{console.error("Error loading thumbnail, falling back to original image"),he.target.src=e3(ce.id),he.target.onerror=null}}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsx("button",{onClick:()=>g(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),c.jsx("div",{className:"text-sm text-gray-500 text-center",children:ce.file_name})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs("button",{onClick:()=>g(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[c.jsx("div",{className:"p-4 border-b border-slate-200",children:c.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info"]})}),c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.category||"Not specified"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.type})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),c.jsx("div",{children:S.status&&c.jsx(ss,{variant:W(S.status),size:"md",children:S.status.charAt(0).toUpperCase()+S.status.slice(1).replace("-"," ")})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.location||"Not specified"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.serial_number})]})]})]})}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs(Ft,{className:"h-full",children:[c.jsx(Ft.Header,{className:"bg-slate-50",children:c.jsxs(Ft.Title,{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),c.jsx(Ft.Body,{children:c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:S.created_by||"Unknown"})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:S.created_at?new Date(S.created_at).toLocaleString():"Unknown"})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:S.updated_at?new Date(S.updated_at).toLocaleString():"Never"})]})]}),S.locationDetails&&c.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[c.jsxs("h4",{className:"text-sm font-medium text-slate-700 mb-3 flex items-center",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Location Details"]}),c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-sm",children:[c.jsx("p",{className:"font-medium text-slate-800",children:S.locationDetails.name}),S.locationDetails.street&&c.jsx("p",{className:"text-slate-600 mt-1",children:S.locationDetails.street}),(S.locationDetails.postal_code||S.locationDetails.city)&&c.jsxs("p",{className:"text-slate-600",children:[S.locationDetails.postal_code&&`${S.locationDetails.postal_code} `,S.locationDetails.city]}),(S.locationDetails.region||S.locationDetails.country)&&c.jsxs("p",{className:"text-slate-600",children:[S.locationDetails.region&&`${S.locationDetails.region}, `,S.locationDetails.country]})]})]})]})})]})})]}),i&&c.jsx(YN,{isOpen:i,title:"Delete Equipment",message:"Are you sure you want to delete this equipment? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:z,onCancel:P,isDestructive:!0}),c.jsx($N,{isOpen:d,onClose:()=>g(!1),equipmentId:e,existingImage:ce}),c.jsx(ZN,{equipmentId:parseInt(e),isOpen:v,onClose:()=>x(!1),onSuccess:q})]})},UU=({onFileSelect:e,uploadProgress:n=0,existingFiles:t=[],onFileDelete:r,multiple:i=!1,maxFiles:a=5,maxFileSize:d=50*1024*1024})=>{const[g,v]=M.useState([]),[x,y]=M.useState({}),[E,_]=M.useState([]);M.useEffect(()=>{Object.values(x).forEach(P=>{P&&P.startsWith("blob:")&&URL.revokeObjectURL(P)});const z={};return g.forEach((P,V)=>{P.type.startsWith("image/")&&(z[`new-${V}`]=URL.createObjectURL(P))}),t.forEach(P=>{P.file_type==="image"&&(z[`existing-${P.id}`]=`/api/files/${P.id}`)}),y(z),()=>{Object.values(z).forEach(P=>{P&&P.startsWith("blob:")&&URL.revokeObjectURL(P)})}},[g,t]);const T=z=>{const P=[],V=[];return z.forEach(W=>{if(W.size>d){P.push(`${W.name} exceeds the maximum file size of ${Math.round(d/(1024*1024))}MB`);return}if(!["image/jpeg","image/png","audio/mpeg","application/pdf"].includes(W.type)){P.push(`${W.name} has an unsupported file type. Only JPEG, PNG, MP3, and PDF files are allowed.`);return}V.push(W)}),{validFiles:V,errors:P}},S=M.useCallback((z,P)=>{if(P&&P.length>0){const se=P.map(ce=>`${ce.file.name}: ${ce.errors.map(ae=>ae.message).join(", ")}`);_(se)}else _([]);const{validFiles:V,errors:W}=T(z);if(W.length>0&&_(se=>[...se,...W]),i&&g.length+V.length>a){_(ce=>[...ce,`You can only upload a maximum of ${a} files.`]);const se=a-g.length;if(se>0){const ce=V.slice(0,se);v(ae=>[...ae,...ce]),e(ce)}}else v(i?se=>[...se,...V]:V),e(V)},[e,g,i,a,d]),R=z=>{const P=[...g];P.splice(z,1),v(P),e(i?P:P.length>0?[P[0]]:[]),_([])},O=z=>{if(r){console.log(`FileUpload: Deleting file with ID ${z}`);try{r(z)}catch(P){console.error(`Error deleting file with ID ${z}:`,P)}}else console.warn(`FileUpload: No onFileDelete handler provided for file ID ${z}`)},{getRootProps:I,getInputProps:D,isDragActive:j,fileRejections:q}=Sd({onDrop:S,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:i?a:1,multiple:i,maxSize:d}),Q=z=>{switch(z){case"image/jpeg":case"image/png":case"image":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":case"audio":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":case"pdf":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}};return c.jsxs("div",{children:[c.jsxs("div",{...I(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${j?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[c.jsx("input",{...D()}),j?c.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",a," files, ",Math.round(d/(1024*1024)),"MB each)"]})]})]}),E.length>0&&c.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"File validation errors:"}),c.jsx("ul",{className:"list-disc pl-5 text-xs text-red-700",children:E.map((z,P)=>c.jsx("li",{children:z},P))})]}),g.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Files to upload:"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:g.map((z,P)=>c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[z.type.startsWith("image/")?c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:x[`new-${P}`]?c.jsx("img",{src:x[`new-${P}`],alt:z.name,className:"max-h-full max-w-full object-contain"}):c.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:c.jsx("div",{className:"text-4xl",children:Q(z.type)})}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:z.name,children:z.name}),c.jsxs("p",{className:"text-xs text-slate-500",children:[(z.size/(1024*1024)).toFixed(2)," MB"]})]}),c.jsx("button",{type:"button",onClick:()=>R(P),className:"ml-2 text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Remove ${z.name}`,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})]},P))})]}),t.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Existing files:"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:t.map(z=>c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[z.file_type==="image"?c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:x[`existing-${z.id}`]?c.jsx("img",{src:x[`existing-${z.id}`],alt:z.file_name,className:"max-h-full max-w-full object-contain"}):c.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):z.file_type==="audio"?c.jsxs("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex flex-col items-center justify-center p-2",children:[c.jsx("div",{className:"text-4xl mb-2",children:Q(z.file_type)}),c.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[c.jsx("source",{src:`/api/files/${z.id}`,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:c.jsx("div",{className:"text-4xl",children:Q(z.file_type)})}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:z.file_name,children:z.file_name}),c.jsx("p",{className:"text-xs text-slate-500 capitalize",children:z.file_type})]}),c.jsxs("div",{className:"flex space-x-1",children:[c.jsx("a",{href:`/api/files/${z.id}?download=true`,download:!0,className:"text-primary-600 hover:text-primary-800 p-1 rounded-full hover:bg-primary-50","aria-label":`Download ${z.file_name}`,onClick:P=>{P.stopPropagation(),console.log(`Downloading file: ${z.id}`)},children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),r&&c.jsx("button",{type:"button",onClick:P=>{P.stopPropagation(),console.log(`Deleting file: ${z.id}`),O(z.id)},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Delete ${z.file_name}`,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})]},z.id))})]}),n>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${n}%`}})}),c.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",n,"%"]})]})]})},p2=({formData:e,equipmentTypes:n,categoriesData:t,statusOptions:r,handleInputChange:i,handleFileChange:a,handleSubmit:d,handleCancel:g,isLoading:v,error:x,isEditing:y=!1,files:E=[],uploadProgress:_=0,existingFiles:T=[],handleFileDelete:S,handleSetReferenceImage:R,handleReferenceImageSelect:O})=>{const[I,D]=M.useState(null),[j,q]=M.useState(null),{data:Q}=Et(["locations"],ml,{staleTime:3e5});M.useEffect(()=>{if(T&&T.length>0&&e.reference_image_id){const V=T.find(W=>W.id.toString()===e.reference_image_id);if(V){D(V);return}}D(null)},[T,e.reference_image_id]);const z=V=>{q(V),O&&O(V),i(V?{target:{name:"reference_image_id",value:"new"}}:{target:{name:"reference_image_id",value:""}})},P=V=>{D(null),i({target:{name:"reference_image_id",value:""}}),S&&S(V)};return c.jsxs(Ft,{children:[x&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 m-6 mt-0",children:c.jsx("p",{className:"text-red-700",children:x})}),c.jsxs("form",{onSubmit:d,children:[c.jsxs(Ft.Body,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(wi,{id:"category_id",name:"category_id",label:"Category",value:e.category_id||"",onChange:i,options:[{value:"",label:"Select Category"},...(t||[]).map(V=>({value:V.id.toString(),label:V.name}))]}),c.jsx(wi,{id:"type_id",name:"type_id",label:"Type",value:e.type_id||"",onChange:i,options:[{value:"",label:"Select Type"},...n.map(V=>({value:V.id.toString(),label:V.name}))],required:!0}),c.jsx(Pt,{id:"brand",name:"brand",label:"Brand",value:e.brand,onChange:i,placeholder:"Enter brand",required:!0}),c.jsx(Pt,{id:"model",name:"model",label:"Model",value:e.model,onChange:i,placeholder:"Enter model",required:!0}),c.jsx(nN,{id:"serial_number",name:"serial_number",label:"Serial Number",value:e.serial_number,onChange:i,placeholder:"Enter serial number",required:!0,onScan:V=>{i({target:{name:"serial_number",value:V}})}}),c.jsx(wi,{id:"status",name:"status",label:"Status",value:e.status,onChange:i,options:r.map(V=>({value:V,label:V.charAt(0).toUpperCase()+V.slice(1).replace("-"," ")})),required:!0}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(wi,{id:"location_id",name:"location_id",label:"Location",value:e.location_id?e.location_id.toString():"",onChange:i,options:[{value:"",label:"Select Location"},...((Q==null?void 0:Q.locations)||[]).map(V=>{let W=V.name;const se=[];return V.city&&se.push(V.city),V.region&&se.push(V.region),V.country&&se.push(V.country),se.length>0&&(W+=` (${se.join(", ")})`),{value:V.id.toString(),label:W}})]}),c.jsx(Pt,{id:"location",name:"location",label:"Custom Location (if not in list)",value:e.location||"",onChange:i,placeholder:"Enter custom location"})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),c.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:i,rows:"4",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]}),c.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-100 rounded-lg",children:[c.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]}),c.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Upload a ",c.jsx("strong",{children:"single reference image"})," that best represents this equipment. This image will be displayed prominently on the equipment details page and in search results."]}),c.jsx(f2,{onImageSelect:z,existingImage:I,onImageDelete:P})]}),c.jsxs("div",{className:"mt-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[c.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Documents & Attachments"]}),c.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Upload additional documents and images related to this equipment (manuals, invoices, additional photos, etc.). These will be shown in the Documents tab."}),c.jsx(UU,{onFileSelect:a,uploadProgress:_,existingFiles:T,onFileDelete:S,multiple:!0,maxFiles:5})]})]}),c.jsxs(Ft.Footer,{className:"flex justify-end space-x-3",children:[c.jsx(Ue,{type:"button",variant:"secondary",onClick:g,children:"Cancel"}),c.jsx(Ue,{type:"submit",variant:"primary",disabled:v,children:v?"Saving...":y?"Save Changes":"Create Equipment"})]})]})]})};p2.propTypes={formData:ie.object.isRequired,equipmentTypes:ie.array.isRequired,categoriesData:ie.array,statusOptions:ie.array.isRequired,locationsData:ie.object,handleInputChange:ie.func.isRequired,handleFileChange:ie.func.isRequired,handleSubmit:ie.func.isRequired,handleCancel:ie.func.isRequired,isLoading:ie.bool,error:ie.string,isEditing:ie.bool,files:ie.array,uploadProgress:ie.number,existingFiles:ie.array,handleFileDelete:ie.func,handleSetReferenceImage:ie.func,handleReferenceImageSelect:ie.func};const zU=()=>{const[e,n]=M.useState(""),[t,r]=M.useState(""),[i,a]=M.useState(!1),[d,g]=M.useState(""),v=async()=>{var x,y;if(!e){g("Please enter a file ID");return}a(!0),g(""),r("");try{console.log(`Attempting to delete file with ID: ${e}`);const E=await _E(e);console.log("Delete response:",E),r(`File deleted successfully: ${JSON.stringify(E)}`)}catch(E){console.error("Error deleting file:",E),g(`Error: ${((y=(x=E.response)==null?void 0:x.data)==null?void 0:y.message)||E.message}`)}finally{a(!1)}};return c.jsxs("div",{className:"p-4 border rounded-lg shadow-sm bg-white",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"File Deletion Test"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"fileId",className:"block text-sm font-medium text-gray-700 mb-1",children:"File ID"}),c.jsx("input",{type:"text",id:"fileId",value:e,onChange:x=>n(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter file ID"})]}),c.jsx("button",{onClick:v,disabled:i,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50",children:i?"Deleting...":"Delete File"}),t&&c.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded text-green-800",children:t}),d&&c.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded text-red-800",children:d})]})},WU=()=>{const{id:e}=bC(),n=fs(),t=Qn(),{user:r}=ir(),[i,a]=M.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:""}),[d,g]=M.useState([]),[v,x]=M.useState([]),[y,E]=M.useState(0),[_,T]=M.useState(""),{data:S}=Et({queryKey:["equipmentTypes"],queryFn:Ls,staleTime:3e5}),{data:R}=Et({queryKey:["categories"],queryFn:pl,staleTime:3e5}),O=["available","in-use","maintenance"],{data:I,isLoading:D,isError:j,error:q}=Et({queryKey:["equipment",e],queryFn:()=>Kh(e),onSuccess:ne=>{console.log("Equipment data loaded:",ne),console.log("Location ID:",ne.location_id,typeof ne.location_id),a({type_id:ne.type_id?ne.type_id.toString():"",category_id:ne.category_id?ne.category_id.toString():"",category:ne.category||"",brand:ne.brand||"",model:ne.model||"",serial_number:ne.serial_number||"",status:ne.status||"available",location:ne.location||"",location_id:ne.location_id?ne.location_id.toString():"",description:ne.description||"",reference_image_id:ne.reference_image_id?ne.reference_image_id.toString():""}),ne.locationDetails&&console.log("Location details:",ne.locationDetails)}}),Q=Vn({mutationFn:async ne=>{const he=Object.fromEntries(Object.entries(ne.equipment).filter(([ee,ve])=>ve!=null));return NE(e,he,ne.filesToUpload,ne.filesToDelete)},onSuccess:()=>{t.invalidateQueries(["equipment"]),n(`/equipment/${e}`)},onError:ne=>{var he,ee;console.error("Error updating equipment:",ne),T(((ee=(he=ne.response)==null?void 0:he.data)==null?void 0:ee.message)||"Failed to update equipment")}}),z=ne=>{const{name:he,value:ee}=ne.target;let ve={...i,[he]:ee};if(he==="category_id"&&ee&&(R!=null&&R.categories)){const ge=R.categories.find(ue=>ue.id.toString()===ee);ge&&(console.log("Selected category:",ge),ve={...ve,category_id:ee,category:ge.name})}if(he==="location_id"&&ee){const ge=locationsData==null?void 0:locationsData.locations.find(ue=>ue.id.toString()===ee);ge&&(console.log("Selected location:",ge),ve={...ve,location_id:ee,location:ge.name},ge.name.toLowerCase()==="lager"?(ve.status="available",console.log('Setting status to "available" because location is Lager')):ve.status==="available"&&(ve.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${ge.name})`)))}else he==="location"&&ee&&(ve={...ve,location:ee,location_id:""},ee.toLowerCase()==="lager"?(ve.status="available",console.log('Setting status to "available" because custom location is Lager')):ve.status==="available"&&(ve.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${ee})`)));he==="status"&&(console.log(`User manually changed status to: ${ee}`),(i.location||"").toLowerCase()==="lager"&&ee!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),ve.status="available")),a(ve)},P=ne=>{g(ne)},V=ne=>{i.reference_image_id===ne.toString()&&a({...i,reference_image_id:""}),x(he=>[...he,ne])},W=ne=>{a({...i,reference_image_id:ne.toString()})},se=ne=>{if(ne.preventDefault(),!i.type_id||!i.brand||!i.model||!i.serial_number){T("Type, brand, model, and serial number are required");return}const he=d.find((ge,ue)=>i.reference_image_id==="new"),ee=he?d.filter(ge=>ge!==he):d,ve=i.reference_image_id==="";Q.mutate({equipment:{...i,reference_image_id:i.reference_image_id==="new"?"new":i.reference_image_id},filesToUpload:ee,filesToDelete:v,referenceImageFile:he||null,removeReferenceImage:ve})},ce=()=>{n(`/equipment/${e}`)};if(D)return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(j)return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:(q==null?void 0:q.message)||"Failed to load equipment details"})}),c.jsx("div",{className:"mt-4",children:c.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>n("/equipment"),children:"Back to Equipment List"})})]})]})})]});const ae=async ne=>{var he,ee;try{console.log(`Directly deleting file with ID: ${ne}`),await _E(ne),console.log("File deleted successfully"),t.invalidateQueries(["equipment",e])}catch(ve){console.error("Error directly deleting file:",ve),T(`Error deleting file: ${((ee=(he=ve.response)==null?void 0:he.data)==null?void 0:ee.message)||ve.message}`)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),(r==null?void 0:r.role)==="admin"&&c.jsx("div",{className:"mb-6",children:c.jsx(zU,{})}),c.jsx(p2,{formData:i,equipmentTypes:(S==null?void 0:S.types)||[],categoriesData:(R==null?void 0:R.categories)||[],statusOptions:O,handleInputChange:z,handleFileChange:P,handleSubmit:se,handleCancel:ce,isLoading:Q.isLoading,error:_,isEditing:!0,uploadProgress:y,existingFiles:(I==null?void 0:I.files)||[],handleFileDelete:V,handleSetReferenceImage:W}),(r==null?void 0:r.role)==="admin"&&(I==null?void 0:I.files)&&I.files.length>0&&c.jsxs("div",{className:"mt-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Direct File Deletion Test"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.files.map(ne=>c.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:ne.file_name}),c.jsxs("p",{className:"text-sm text-slate-500",children:["ID: ",ne.id]}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Type: ",ne.file_type]})]}),c.jsx("button",{onClick:()=>ae(ne.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm",children:"Delete Directly"})]})},ne.id))})]})]})},HU=()=>{const e=fs(),n=Qn(),{user:t}=ir(),[r,i]=M.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:""}),[a,d]=M.useState([]),[g,v]=M.useState(null),[x,y]=M.useState(""),[E,_]=M.useState(0),{data:T}=Et({queryKey:["equipmentTypes"],queryFn:Ls,staleTime:3e5}),{data:S}=Et({queryKey:["categories"],queryFn:pl,staleTime:3e5}),{data:R}=Et({queryKey:["locations"],queryFn:ml,staleTime:3e5}),O=["available","in-use","maintenance"],I=Vn({mutationFn:async W=>qx(W.equipment,W.files,W.referenceImageFile),onSuccess:()=>{n.invalidateQueries(["equipment"]),e("/equipment")},onError:W=>{var se,ce;console.error("Error creating equipment:",W),y(((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||"Failed to create equipment")}}),D=W=>{const{name:se,value:ce}=W.target;let ae={...r,[se]:ce};if(se==="category_id"&&ce&&S){const ne=S.find(he=>he.id.toString()===ce);ne&&(console.log("Selected category:",ne),ae={...ae,category_id:ce,category:ne.name})}else if(se==="location_id"&&ce){const ne=R==null?void 0:R.locations.find(he=>he.id.toString()===ce);ne&&(console.log("Selected location:",ne),ae={...ae,location_id:ce,location:ne.name},ne.name.toLowerCase()==="lager"?(ae.status="available",console.log('Setting status to "available" because location is Lager')):ae.status==="available"&&(ae.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${ne.name})`)))}else se==="location"&&ce?(ae={...ae,location:ce,location_id:""},ce.toLowerCase()==="lager"?(ae.status="available",console.log('Setting status to "available" because custom location is Lager')):ae.status==="available"&&(ae.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${ce})`))):se==="status"&&(console.log(`User manually changed status to: ${ce}`),(r.location||"").toLowerCase()==="lager"&&ce!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),ae.status="available"));i(ae)},j=W=>{d(W)},q=W=>{i({...r,reference_image_id:W.toString()})},Q=W=>{v(W)},z=W=>{const se=[...a];r.reference_image_id===W.toString()&&i({...r,reference_image_id:""}),se.splice(W,1),d(se)},P=W=>{if(W.preventDefault(),!r.type_id||!r.brand||!r.model||!r.serial_number){y("Type, brand, model, and serial number are required");return}const se=r.reference_image_id==="new"?g:null,ce=se?a.filter(ae=>ae!==se):a;I.mutate({equipment:{...r},files:ce,referenceImageFile:se})},V=()=>{e("/equipment")};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Add New Equipment"})}),c.jsx(p2,{formData:r,equipmentTypes:T||[],categoriesData:S||[],statusOptions:O,locationsData:R,handleInputChange:D,handleFileChange:j,handleSubmit:P,handleCancel:V,isLoading:I.isLoading,error:x,files:a,uploadProgress:E,handleSetReferenceImage:q,handleReferenceImageSelect:Q,handleFileDelete:z}),(t==null?void 0:t.role)==="admin"&&c.jsx(Ft,{className:"mt-6",children:c.jsxs(Ft.Body,{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"flex-shrink-0 text-primary-500",children:c.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-800",children:"Equipment Type Management"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"You can manage equipment types in the Settings page."}),c.jsx("div",{className:"mt-3",children:c.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>e("/settings"),children:"Go to Settings"})})]})]})})]})},qU=()=>{const{isAdmin:e,getUsers:n,impersonateUser:t,register:r,user:i}=ir(),a=fs(),d=Qn(),[g,v]=M.useState(null),[x,y]=M.useState(!1),[E,_]=M.useState(!1),[T,S]=M.useState({username:"",password:"",role:"basic"}),[R,O]=M.useState({});M.useEffect(()=>{e()||a("/")},[e,a]);const{data:I,isLoading:D,isError:j,error:q,refetch:Q}=Et({queryKey:["users"],queryFn:n,enabled:e()}),z=Vn({mutationFn:r,onSuccess:()=>{d.invalidateQueries(["users"]),_(!1),S({username:"",password:"",role:"basic"}),rt.success("User created successfully")},onError:ne=>{var he,ee;rt.error(((ee=(he=ne.response)==null?void 0:he.data)==null?void 0:ee.message)||"Failed to create user")}}),P=ne=>{const{name:he,value:ee}=ne.target;S(ve=>({...ve,[he]:ee})),R[he]&&O(ve=>({...ve,[he]:""}))},V=()=>{const ne={};return T.username.trim()||(ne.username="Username is required"),T.password.trim()?T.password.length<6&&(ne.password="Password must be at least 6 characters"):ne.password="Password is required",O(ne),Object.keys(ne).length===0},W=ne=>{ne.preventDefault(),V()&&z.mutate(T)},se=async()=>{if(g)try{await t(g.id),y(!1),rt.info(`You are now impersonating ${g.username}`),a("/")}catch(ne){rt.error("Failed to impersonate user"),console.error("Failed to impersonate user:",ne)}},ce=ne=>new Date(ne).toLocaleString(),ae=ne=>{switch(ne){case"admin":return"bg-red-100 text-red-800";case"advanced":return"bg-blue-100 text-blue-800";case"basic":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e()?D?c.jsx("div",{className:"flex justify-center items-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):j?c.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative my-6",role:"alert",children:[c.jsx("strong",{className:"font-bold",children:"Error!"}),c.jsxs("span",{className:"block sm:inline",children:[" ",(q==null?void 0:q.message)||"Failed to load users."]}),c.jsx("button",{onClick:Q,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Retry"})]}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx(Qh,{position:"top-right",autoClose:3e3}),c.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:[c.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"User Management"}),c.jsxs("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create User"]})]}),c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[c.jsx("thead",{className:"bg-slate-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Username"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created At"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:I==null?void 0:I.map(ne=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:[ne.username,ne.id===i.id&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"You"})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ae(ne.role)}`,children:ne.role})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:ce(ne.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:ne.id!==i.id&&c.jsx("button",{onClick:()=>{v(ne),y(!0)},className:"text-indigo-600 hover:text-indigo-900","aria-label":`Impersonate ${ne.username}`,children:"Impersonate"})})]},ne.id))})]})})})]}),E&&c.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Create New User"}),c.jsxs("form",{onSubmit:W,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),c.jsx("input",{type:"text",id:"username",name:"username",value:T.username,onChange:P,className:`w-full px-3 py-2 border ${R.username?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),R.username&&c.jsx("p",{className:"mt-1 text-sm text-red-500",children:R.username})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),c.jsx("input",{type:"password",id:"password",name:"password",value:T.password,onChange:P,className:`w-full px-3 py-2 border ${R.password?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),R.password&&c.jsx("p",{className:"mt-1 text-sm text-red-500",children:R.password})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),c.jsxs("select",{id:"role",name:"role",value:T.role,onChange:P,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"basic",children:"Basic"}),c.jsx("option",{value:"advanced",children:"Advanced"}),c.jsx("option",{value:"admin",children:"Admin"})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:z.isLoading,children:z.isLoading?"Creating...":"Create User"})]})]})]})}),x&&g&&c.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Confirm Impersonation"}),c.jsxs("p",{className:"text-slate-500 mb-4",children:["You are about to impersonate ",c.jsx("strong",{children:g.username})," with role ",c.jsx("strong",{children:g.role}),". You will have the same permissions as this user until you end the impersonation."]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),c.jsx("button",{onClick:se,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Impersonate"})]})]})})]}):c.jsx("div",{className:"text-center py-10",children:"Access denied. Admin privileges required."})},VU=()=>{var q,Q;const[e,n]=M.useState(1),[t]=M.useState(20),[r,i]=M.useState("created_at"),[a,d]=M.useState("desc"),[g,v]=M.useState({equipmentId:"",actionType:"",search:"",type:"",status:"",location_id:""}),{data:x}=Et({queryKey:["equipment-types"],queryFn:Ls,staleTime:3e5}),{data:y}=Et(["locations"],ml),{data:E,isLoading:_,isError:T,error:S}=Et(["allEquipmentLogs",e,t,g,r,a],()=>tU({page:e,limit:t,equipmentId:g.equipmentId||void 0,actionType:g.actionType||void 0,search:g.search||void 0,type:g.type||void 0,status:g.status||void 0,location_id:g.location_id||void 0,sortBy:r,sortOrder:a}),{keepPreviousData:!0}),R=z=>{switch(z){case"created":return"badge-success";case"updated":return"badge-info";case"deleted":return"badge-danger";case"status_change":return"badge-warning";case"location_change":return"badge-primary";default:return"badge-secondary"}},O=z=>z.split("_").map(P=>P.charAt(0).toUpperCase()+P.slice(1)).join(" "),I=z=>{const{name:P,value:V}=z.target;v(W=>({...W,[P]:V})),n(1)},D=z=>{z.preventDefault()},j=z=>{n(z)};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Movement Logs"})}),c.jsx("div",{className:"card",children:c.jsxs("form",{onSubmit:D,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),c.jsxs("div",{className:"input-group",children:[c.jsx(DE,{className:"input-icon w-4 h-4"}),c.jsx("input",{type:"text",id:"search",name:"search",value:g.search,onChange:I,placeholder:"Search logs...",className:"input input-with-icon"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"type",className:"label",children:"Equipment Type"}),c.jsxs("select",{id:"type",name:"type",value:g.type,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Types"}),x!=null&&x.types&&x.types.length>0?x.types.map(z=>c.jsx("option",{value:z.name.toLowerCase(),children:z.name},z.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"status",className:"label",children:"Equipment Status"}),c.jsxs("select",{id:"status",name:"status",value:g.status,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"available",children:"Available"}),c.jsx("option",{value:"in-use",children:"In Use"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),c.jsxs("select",{id:"location_id",name:"location_id",value:g.location_id,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Locations"}),(q=y==null?void 0:y.locations)==null?void 0:q.map(z=>c.jsx("option",{value:z.id.toString(),children:z.name},z.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"actionType",className:"label",children:"Action Type"}),c.jsxs("select",{id:"actionType",name:"actionType",value:g.actionType,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Actions"}),c.jsx("option",{value:"created",children:"Created"}),c.jsx("option",{value:"updated",children:"Updated"}),c.jsx("option",{value:"deleted",children:"Deleted"}),c.jsx("option",{value:"status_change",children:"Status Change"}),c.jsx("option",{value:"location_change",children:"Location Change"})]})]}),c.jsx("div",{className:"flex items-end",children:c.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[c.jsx(IE,{className:"w-4 h-4"}),c.jsx("span",{children:"Apply Filters"})]})})]})}),c.jsxs("div",{className:"card",children:[_?c.jsx("div",{className:"text-center py-10",children:"Loading..."}):T?c.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",S.message||"Failed to load equipment logs"]}):(Q=E==null?void 0:E.logs)!=null&&Q.length?c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Equipment"}),c.jsx("th",{className:"table-header-cell",children:"User"}),c.jsx("th",{className:"table-header-cell",children:"Action"}),c.jsx("th",{className:"table-header-cell",children:"Details"})]})}),c.jsx("tbody",{className:"table-body",children:E.logs.map(z=>{var P,V;return c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell whitespace-nowrap",children:cd(new Date(z.created_at),"MMM d, yyyy h:mm a")}),c.jsx("td",{className:"table-cell",children:z.equipment?c.jsxs(ur,{to:`/equipment/${z.equipment.id}`,className:"text-primary-600 hover:text-primary-800",children:[z.equipment.brand," ",z.equipment.model,c.jsxs("span",{className:"text-xs text-slate-500 block",children:["SN: ",z.equipment.serial_number]})]}):c.jsx("span",{className:"text-slate-400",children:"Deleted equipment"})}),c.jsxs("td",{className:"table-cell",children:[((P=z.user)==null?void 0:P.username)||"Unknown",c.jsx("span",{className:"text-xs text-slate-500 block",children:((V=z.user)==null?void 0:V.role)||""})]}),c.jsx("td",{className:"table-cell",children:c.jsx("span",{className:`badge ${R(z.action_type)}`,children:O(z.action_type)})}),c.jsxs("td",{className:"table-cell",children:[z.action_type==="status_change"&&c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Status:"})," ",c.jsx("span",{className:"badge badge-outline-secondary",children:z.previous_status})," ",c.jsx("span",{className:"text-slate-400",children:"→"})," ",c.jsx("span",{className:"badge badge-outline-primary",children:z.new_status})]}),z.action_type==="location_change"&&c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Location:"})," ",c.jsx("span",{className:"badge badge-outline-secondary",children:z.previous_location||"None"})," ",c.jsx("span",{className:"text-slate-400",children:"→"})," ",c.jsx("span",{className:"badge badge-outline-primary",children:z.new_location||"None"})]}),z.details&&c.jsx("div",{className:"text-sm mt-1",children:z.details})]})]},z.id)})})]})}):c.jsx("div",{className:"text-center py-10 text-slate-500",children:g.search||g.equipmentId||g.actionType?"No logs found matching your search criteria.":"No logs found."}),(E==null?void 0:E.totalPages)>1&&c.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-slate-200",children:[c.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",c.jsx("span",{className:"font-medium text-slate-800",children:(e-1)*t+1})," to"," ",c.jsx("span",{className:"font-medium text-slate-800",children:Math.min(e*t,E.total)})," of"," ",c.jsx("span",{className:"font-medium text-slate-800",children:E.total})," logs"]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>j(e-1),disabled:e===1,className:`btn ${e===1?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Previous"}),c.jsx("button",{onClick:()=>j(e+1),disabled:e===E.totalPages,className:`btn ${e===E.totalPages?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Next"})]})]})]})]})},YU=new YI({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),Fa=({children:e})=>{const{user:n,loading:t}=ir();return t?c.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):n?e:c.jsx(G0,{to:"/login"})},t3=({children:e})=>{const{user:n,loading:t,isAdmin:r}=ir();return t?c.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):n?r()?e:c.jsx(G0,{to:"/dashboard"}):c.jsx(G0,{to:"/login"})},Es=({children:e})=>{const[n,t]=M.useState(!0),[r,i]=M.useState(!1);return c.jsxs("div",{className:"min-h-screen bg-slate-50",children:[c.jsx(U9,{}),c.jsx(P9,{}),c.jsx(B9,{isOpen:n,isCollapsed:r,toggleSidebar:t,toggleCollapse:i}),c.jsx("main",{className:`main-content pt-16 ${n?r?"main-content-with-sidebar-collapsed":"main-content-with-sidebar":""}`,children:c.jsx("div",{className:"container-app",children:c.jsx("div",{className:"space-y-6",children:e})})})]})},$U=()=>c.jsx(TI,{children:c.jsxs(bI,{children:[c.jsx(mi,{path:"/login",element:c.jsx(z9,{})}),c.jsx(mi,{path:"/",element:c.jsx(Fa,{children:c.jsx(Es,{children:c.jsx(Ub,{})})})}),c.jsx(mi,{path:"/dashboard",element:c.jsx(Fa,{children:c.jsx(Es,{children:c.jsx(Ub,{})})})}),c.jsx(mi,{path:"/advanced-dashboard",element:c.jsx(Fa,{children:c.jsx(Es,{children:c.jsx(LF,{})})})}),c.jsx(mi,{path:"/equipment/new",element:c.jsx(Fa,{children:c.jsx(Es,{children:c.jsx(HU,{})})})}),c.jsx(mi,{path:"/equipment/:id/edit",element:c.jsx(Fa,{children:c.jsx(Es,{children:c.jsx(WU,{})})})}),c.jsx(mi,{path:"/equipment/:id",element:c.jsx(Fa,{children:c.jsx(Es,{children:c.jsx(BU,{})})})}),c.jsx(mi,{path:"/equipment",element:c.jsx(Fa,{children:c.jsx(Es,{children:c.jsx(eU,{})})})}),c.jsx(mi,{path:"/admin",element:c.jsx(t3,{children:c.jsx(Es,{children:c.jsx(qU,{})})})}),c.jsx(mi,{path:"/equipment-logs",element:c.jsx(t3,{children:c.jsx(Es,{children:c.jsx(VU,{})})})}),c.jsx(mi,{path:"/settings",element:c.jsx(Fa,{children:c.jsx(Es,{children:c.jsx(eB,{})})})}),c.jsx(mi,{path:"*",element:c.jsx(G0,{to:"/"})})]})}),GU=()=>c.jsx(o7,{client:YU,children:c.jsx(JR,{children:c.jsxs(AE,{children:[c.jsx(Qh,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),c.jsx($U,{})]})})});const XU=async()=>{try{return(await Je.get("/api/csrf-token",{withCredentials:!0})).data.csrfToken}catch(e){return console.error("Failed to fetch CSRF token:",e),null}},QU=async()=>{Je.defaults.withCredentials=!0;const e=localStorage.getItem("token");e&&(Je.defaults.headers.common.Authorization=`Bearer ${e}`),Je.interceptors.response.use(n=>n,async n=>{var r;const t=n.config;if(t&&(t.url.includes("/files/")||t.url.includes("/public-files/")))return console.log("File access error:",n),Promise.reject(n);if(((r=n.response)==null?void 0:r.status)===401&&!t._retry){t._retry=!0;try{return window.location.pathname!=="/login"&&(localStorage.removeItem("token"),delete Je.defaults.headers.common.Authorization,alert("Your session has expired. Please log in again."),window.location.href="/login"),Promise.reject(n)}catch(i){return Promise.reject(i)}}return Promise.reject(n)});{const n=await XU();n&&Je.interceptors.request.use(async t=>(t.method!=="get"&&(t.headers["CSRF-Token"]=n),t),t=>Promise.reject(t))}return Je};console.log("API URL:",{}.VITE_API_URL);const KU=()=>({}).VITE_API_URL?{}.VITE_API_URL:window.location.origin,JN=KU();Je.defaults.baseURL=JN;console.log("Setting axios baseURL to:",JN);console.log("Environment mode:","production");console.log("Is production:",!0);const ZU=async()=>{await QU(),rm.createRoot(document.getElementById("root")).render(c.jsx(de.StrictMode,{children:c.jsx(GU,{})}))};ZU();
//# sourceMappingURL=index-59d4b493.js.map
