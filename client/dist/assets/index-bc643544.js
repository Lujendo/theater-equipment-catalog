var mj=Object.defineProperty;var xj=(e,t,n)=>t in e?mj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var He=(e,t,n)=>(xj(e,typeof t!="symbol"?t+"":t,n),n);function w3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ah(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var b3={exports:{}},jh={},C3={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md=Symbol.for("react.element"),gj=Symbol.for("react.portal"),vj=Symbol.for("react.fragment"),yj=Symbol.for("react.strict_mode"),wj=Symbol.for("react.profiler"),bj=Symbol.for("react.provider"),Cj=Symbol.for("react.context"),Nj=Symbol.for("react.forward_ref"),Ej=Symbol.for("react.suspense"),_j=Symbol.for("react.memo"),Sj=Symbol.for("react.lazy"),vy=Symbol.iterator;function Aj(e){return e===null||typeof e!="object"?null:(e=vy&&e[vy]||e["@@iterator"],typeof e=="function"?e:null)}var N3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E3=Object.assign,_3={};function Ac(e,t,n){this.props=e,this.context=t,this.refs=_3,this.updater=n||N3}Ac.prototype.isReactComponent={};Ac.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ac.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function S3(){}S3.prototype=Ac.prototype;function qx(e,t,n){this.props=e,this.context=t,this.refs=_3,this.updater=n||N3}var Vx=qx.prototype=new S3;Vx.constructor=qx;E3(Vx,Ac.prototype);Vx.isPureReactComponent=!0;var yy=Array.isArray,A3=Object.prototype.hasOwnProperty,Yx={current:null},j3={key:!0,ref:!0,__self:!0,__source:!0};function k3(e,t,n){var r,i={},o=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(o=""+t.key),t)A3.call(t,r)&&!j3.hasOwnProperty(r)&&(i[r]=t[r]);var x=arguments.length-2;if(x===1)i.children=n;else if(1<x){for(var g=Array(x),v=0;v<x;v++)g[v]=arguments[v+2];i.children=g}if(e&&e.defaultProps)for(r in x=e.defaultProps,x)i[r]===void 0&&(i[r]=x[r]);return{$$typeof:md,type:e,key:o,ref:d,props:i,_owner:Yx.current}}function jj(e,t){return{$$typeof:md,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $x(e){return typeof e=="object"&&e!==null&&e.$$typeof===md}function kj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wy=/\/+/g;function b1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kj(""+e.key):t.toString(36)}function n0(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(o){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case md:case gj:d=!0}}if(d)return d=e,i=i(d),e=r===""?"."+b1(d,0):r,yy(i)?(n="",e!=null&&(n=e.replace(wy,"$&/")+"/"),n0(i,t,n,"",function(v){return v})):i!=null&&($x(i)&&(i=jj(i,n+(!i.key||d&&d.key===i.key?"":(""+i.key).replace(wy,"$&/")+"/")+e)),t.push(i)),1;if(d=0,r=r===""?".":r+":",yy(e))for(var x=0;x<e.length;x++){o=e[x];var g=r+b1(o,x);d+=n0(o,t,n,g,i)}else if(g=Aj(e),typeof g=="function")for(e=g.call(e),x=0;!(o=e.next()).done;)o=o.value,g=r+b1(o,x++),d+=n0(o,t,n,g,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Tf(e,t,n){if(e==null)return e;var r=[],i=0;return n0(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Tj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vr={current:null},r0={transition:null},Dj={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:r0,ReactCurrentOwner:Yx};function T3(){throw Error("act(...) is not supported in production builds of React.")}At.Children={map:Tf,forEach:function(e,t,n){Tf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tf(e,function(){t++}),t},toArray:function(e){return Tf(e,function(t){return t})||[]},only:function(e){if(!$x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};At.Component=Ac;At.Fragment=vj;At.Profiler=wj;At.PureComponent=qx;At.StrictMode=yj;At.Suspense=Ej;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dj;At.act=T3;At.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=E3({},e.props),i=e.key,o=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,d=Yx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(g in t)A3.call(t,g)&&!j3.hasOwnProperty(g)&&(r[g]=t[g]===void 0&&x!==void 0?x[g]:t[g])}var g=arguments.length-2;if(g===1)r.children=n;else if(1<g){x=Array(g);for(var v=0;v<g;v++)x[v]=arguments[v+2];r.children=x}return{$$typeof:md,type:e.type,key:i,ref:o,props:r,_owner:d}};At.createContext=function(e){return e={$$typeof:Cj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bj,_context:e},e.Consumer=e};At.createElement=k3;At.createFactory=function(e){var t=k3.bind(null,e);return t.type=e,t};At.createRef=function(){return{current:null}};At.forwardRef=function(e){return{$$typeof:Nj,render:e}};At.isValidElement=$x;At.lazy=function(e){return{$$typeof:Sj,_payload:{_status:-1,_result:e},_init:Tj}};At.memo=function(e,t){return{$$typeof:_j,type:e,compare:t===void 0?null:t}};At.startTransition=function(e){var t=r0.transition;r0.transition={};try{e()}finally{r0.transition=t}};At.unstable_act=T3;At.useCallback=function(e,t){return Vr.current.useCallback(e,t)};At.useContext=function(e){return Vr.current.useContext(e)};At.useDebugValue=function(){};At.useDeferredValue=function(e){return Vr.current.useDeferredValue(e)};At.useEffect=function(e,t){return Vr.current.useEffect(e,t)};At.useId=function(){return Vr.current.useId()};At.useImperativeHandle=function(e,t,n){return Vr.current.useImperativeHandle(e,t,n)};At.useInsertionEffect=function(e,t){return Vr.current.useInsertionEffect(e,t)};At.useLayoutEffect=function(e,t){return Vr.current.useLayoutEffect(e,t)};At.useMemo=function(e,t){return Vr.current.useMemo(e,t)};At.useReducer=function(e,t,n){return Vr.current.useReducer(e,t,n)};At.useRef=function(e){return Vr.current.useRef(e)};At.useState=function(e){return Vr.current.useState(e)};At.useSyncExternalStore=function(e,t,n){return Vr.current.useSyncExternalStore(e,t,n)};At.useTransition=function(){return Vr.current.useTransition()};At.version="18.3.1";C3.exports=At;var M=C3.exports;const de=Ah(M),Gx=w3({__proto__:null,default:de},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ij=M,Rj=Symbol.for("react.element"),Oj=Symbol.for("react.fragment"),Mj=Object.prototype.hasOwnProperty,Lj=Ij.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pj={key:!0,ref:!0,__self:!0,__source:!0};function D3(e,t,n){var r,i={},o=null,d=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)Mj.call(t,r)&&!Pj.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Rj,type:e,key:o,ref:d,props:i,_owner:Lj.current}}jh.Fragment=Oj;jh.jsx=D3;jh.jsxs=D3;b3.exports=jh;var a=b3.exports,fm={},I3={exports:{}},Es={},R3={exports:{}},O3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ue,xe){var Me=ue.length;ue.push(xe);e:for(;0<Me;){var Ve=Me-1>>>1,nt=ue[Ve];if(0<i(nt,xe))ue[Ve]=xe,ue[Me]=nt,Me=Ve;else break e}}function n(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var xe=ue[0],Me=ue.pop();if(Me!==xe){ue[0]=Me;e:for(var Ve=0,nt=ue.length,Ae=nt>>>1;Ve<Ae;){var Xe=2*(Ve+1)-1,it=ue[Xe],_e=Xe+1,De=ue[_e];if(0>i(it,Me))_e<nt&&0>i(De,it)?(ue[Ve]=De,ue[_e]=Me,Ve=_e):(ue[Ve]=it,ue[Xe]=Me,Ve=Xe);else if(_e<nt&&0>i(De,Me))ue[Ve]=De,ue[_e]=Me,Ve=_e;else break e}}return xe}function i(ue,xe){var Me=ue.sortIndex-xe.sortIndex;return Me!==0?Me:ue.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var d=Date,x=d.now();e.unstable_now=function(){return d.now()-x}}var g=[],v=[],w=1,N=null,_=3,k=!1,A=!1,O=!1,L=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ue){for(var xe=n(v);xe!==null;){if(xe.callback===null)r(v);else if(xe.startTime<=ue)r(v),xe.sortIndex=xe.expirationTime,t(g,xe);else break;xe=n(v)}}function W(ue){if(O=!1,I(ue),!A)if(n(g)!==null)A=!0,Ee(Q);else{var xe=n(v);xe!==null&&ge(W,xe.startTime-ue)}}function Q(ue,xe){A=!1,O&&(O=!1,D(q),q=-1),k=!0;var Me=_;try{for(I(xe),N=n(g);N!==null&&(!(N.expirationTime>xe)||ue&&!ce());){var Ve=N.callback;if(typeof Ve=="function"){N.callback=null,_=N.priorityLevel;var nt=Ve(N.expirationTime<=xe);xe=e.unstable_now(),typeof nt=="function"?N.callback=nt:N===n(g)&&r(g),I(xe)}else r(g);N=n(g)}if(N!==null)var Ae=!0;else{var Xe=n(v);Xe!==null&&ge(W,Xe.startTime-xe),Ae=!1}return Ae}finally{N=null,_=Me,k=!1}}var B=!1,R=null,q=-1,V=5,te=-1;function ce(){return!(e.unstable_now()-te<V)}function J(){if(R!==null){var ue=e.unstable_now();te=ue;var xe=!0;try{xe=R(!0,ue)}finally{xe?oe():(B=!1,R=null)}}else B=!1}var oe;if(typeof j=="function")oe=function(){j(J)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,se=ke.port2;ke.port1.onmessage=J,oe=function(){se.postMessage(null)}}else oe=function(){L(J,0)};function Ee(ue){R=ue,B||(B=!0,oe())}function ge(ue,xe){q=L(function(){ue(e.unstable_now())},xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ue){ue.callback=null},e.unstable_continueExecution=function(){A||k||(A=!0,Ee(Q))},e.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ue?Math.floor(1e3/ue):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(g)},e.unstable_next=function(ue){switch(_){case 1:case 2:case 3:var xe=3;break;default:xe=_}var Me=_;_=xe;try{return ue()}finally{_=Me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ue,xe){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Me=_;_=ue;try{return xe()}finally{_=Me}},e.unstable_scheduleCallback=function(ue,xe,Me){var Ve=e.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?Ve+Me:Ve):Me=Ve,ue){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=Me+nt,ue={id:w++,callback:xe,priorityLevel:ue,startTime:Me,expirationTime:nt,sortIndex:-1},Me>Ve?(ue.sortIndex=Me,t(v,ue),n(g)===null&&ue===n(v)&&(O?(D(q),q=-1):O=!0,ge(W,Me-Ve))):(ue.sortIndex=nt,t(g,ue),A||k||(A=!0,Ee(Q))),ue},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(ue){var xe=_;return function(){var Me=_;_=xe;try{return ue.apply(this,arguments)}finally{_=Me}}}})(O3);R3.exports=O3;var Fj=R3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bj=M,Ns=Fj;function Ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M3=new Set,Wu={};function pl(e,t){uc(e,t),uc(e+"Capture",t)}function uc(e,t){for(Wu[e]=t,e=0;e<t.length;e++)M3.add(t[e])}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hm=Object.prototype.hasOwnProperty,Uj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,by={},Cy={};function zj(e){return hm.call(Cy,e)?!0:hm.call(by,e)?!1:Uj.test(e)?Cy[e]=!0:(by[e]=!0,!1)}function Wj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hj(e,t,n,r){if(t===null||typeof t>"u"||Wj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Yr(e,t,n,r,i,o,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=d}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){br[e]=new Yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];br[t]=new Yr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){br[e]=new Yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){br[e]=new Yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){br[e]=new Yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){br[e]=new Yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){br[e]=new Yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){br[e]=new Yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){br[e]=new Yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xx=/[\-:]([a-z])/g;function Qx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xx,Qx);br[t]=new Yr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xx,Qx);br[t]=new Yr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xx,Qx);br[t]=new Yr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){br[e]=new Yr(e,1,!1,e.toLowerCase(),null,!1,!1)});br.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){br[e]=new Yr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kx(e,t,n,r){var i=br.hasOwnProperty(t)?br[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hj(t,n,i,r)&&(n=null),r||i===null?zj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Na=Bj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Df=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),zl=Symbol.for("react.fragment"),Zx=Symbol.for("react.strict_mode"),pm=Symbol.for("react.profiler"),L3=Symbol.for("react.provider"),P3=Symbol.for("react.context"),Jx=Symbol.for("react.forward_ref"),mm=Symbol.for("react.suspense"),xm=Symbol.for("react.suspense_list"),eg=Symbol.for("react.memo"),Wa=Symbol.for("react.lazy"),F3=Symbol.for("react.offscreen"),Ny=Symbol.iterator;function hu(e){return e===null||typeof e!="object"?null:(e=Ny&&e[Ny]||e["@@iterator"],typeof e=="function"?e:null)}var Dn=Object.assign,C1;function Su(e){if(C1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);C1=t&&t[1]||""}return`
`+C1+e}var N1=!1;function E1(e,t){if(!e||N1)return"";N1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var i=v.stack.split(`
`),o=r.stack.split(`
`),d=i.length-1,x=o.length-1;1<=d&&0<=x&&i[d]!==o[x];)x--;for(;1<=d&&0<=x;d--,x--)if(i[d]!==o[x]){if(d!==1||x!==1)do if(d--,x--,0>x||i[d]!==o[x]){var g=`
`+i[d].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=d&&0<=x);break}}}finally{N1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Su(e):""}function qj(e){switch(e.tag){case 5:return Su(e.type);case 16:return Su("Lazy");case 13:return Su("Suspense");case 19:return Su("SuspenseList");case 0:case 2:case 15:return e=E1(e.type,!1),e;case 11:return e=E1(e.type.render,!1),e;case 1:return e=E1(e.type,!0),e;default:return""}}function gm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zl:return"Fragment";case Ul:return"Portal";case pm:return"Profiler";case Zx:return"StrictMode";case mm:return"Suspense";case xm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case P3:return(e.displayName||"Context")+".Consumer";case L3:return(e._context.displayName||"Context")+".Provider";case Jx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eg:return t=e.displayName||null,t!==null?t:gm(e.type)||"Memo";case Wa:t=e._payload,e=e._init;try{return gm(e(t))}catch{}}return null}function Vj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gm(t);case 8:return t===Zx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function co(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function B3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yj(e){var t=B3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(d){r=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function If(e){e._valueTracker||(e._valueTracker=Yj(e))}function U3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=B3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function S0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vm(e,t){var n=t.checked;return Dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ey(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=co(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function z3(e,t){t=t.checked,t!=null&&Kx(e,"checked",t,!1)}function ym(e,t){z3(e,t);var n=co(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wm(e,t.type,n):t.hasOwnProperty("defaultValue")&&wm(e,t.type,co(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _y(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wm(e,t,n){(t!=="number"||S0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Au=Array.isArray;function ec(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+co(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function bm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return Dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ie(92));if(Au(n)){if(1<n.length)throw Error(Ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:co(n)}}function W3(e,t){var n=co(t.value),r=co(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ay(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function H3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rf,q3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rf=Rf||document.createElement("div"),Rf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$j=["Webkit","ms","Moz","O"];Object.keys(Iu).forEach(function(e){$j.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Iu[t]=Iu[e]})});function V3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Iu.hasOwnProperty(e)&&Iu[e]?(""+t).trim():t+"px"}function Y3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=V3(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Gj=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nm(e,t){if(t){if(Gj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ie(62))}}function Em(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=null;function tg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sm=null,tc=null,nc=null;function jy(e){if(e=vd(e)){if(typeof Sm!="function")throw Error(Ie(280));var t=e.stateNode;t&&(t=Rh(t),Sm(e.stateNode,e.type,t))}}function $3(e){tc?nc?nc.push(e):nc=[e]:tc=e}function G3(){if(tc){var e=tc,t=nc;if(nc=tc=null,jy(e),t)for(e=0;e<t.length;e++)jy(t[e])}}function X3(e,t){return e(t)}function Q3(){}var _1=!1;function K3(e,t,n){if(_1)return e(t,n);_1=!0;try{return X3(e,t,n)}finally{_1=!1,(tc!==null||nc!==null)&&(Q3(),G3())}}function qu(e,t){var n=e.stateNode;if(n===null)return null;var r=Rh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ie(231,t,typeof n));return n}var Am=!1;if(ma)try{var pu={};Object.defineProperty(pu,"passive",{get:function(){Am=!0}}),window.addEventListener("test",pu,pu),window.removeEventListener("test",pu,pu)}catch{Am=!1}function Xj(e,t,n,r,i,o,d,x,g){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(w){this.onError(w)}}var Ru=!1,A0=null,j0=!1,jm=null,Qj={onError:function(e){Ru=!0,A0=e}};function Kj(e,t,n,r,i,o,d,x,g){Ru=!1,A0=null,Xj.apply(Qj,arguments)}function Zj(e,t,n,r,i,o,d,x,g){if(Kj.apply(this,arguments),Ru){if(Ru){var v=A0;Ru=!1,A0=null}else throw Error(Ie(198));j0||(j0=!0,jm=v)}}function ml(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Z3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ky(e){if(ml(e)!==e)throw Error(Ie(188))}function Jj(e){var t=e.alternate;if(!t){if(t=ml(e),t===null)throw Error(Ie(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ky(i),e;if(o===r)return ky(i),t;o=o.sibling}throw Error(Ie(188))}if(n.return!==r.return)n=i,r=o;else{for(var d=!1,x=i.child;x;){if(x===n){d=!0,n=i,r=o;break}if(x===r){d=!0,r=i,n=o;break}x=x.sibling}if(!d){for(x=o.child;x;){if(x===n){d=!0,n=o,r=i;break}if(x===r){d=!0,r=o,n=i;break}x=x.sibling}if(!d)throw Error(Ie(189))}}if(n.alternate!==r)throw Error(Ie(190))}if(n.tag!==3)throw Error(Ie(188));return n.stateNode.current===n?e:t}function J3(e){return e=Jj(e),e!==null?e4(e):null}function e4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=e4(e);if(t!==null)return t;e=e.sibling}return null}var t4=Ns.unstable_scheduleCallback,Ty=Ns.unstable_cancelCallback,ek=Ns.unstable_shouldYield,tk=Ns.unstable_requestPaint,Yn=Ns.unstable_now,nk=Ns.unstable_getCurrentPriorityLevel,ng=Ns.unstable_ImmediatePriority,n4=Ns.unstable_UserBlockingPriority,k0=Ns.unstable_NormalPriority,rk=Ns.unstable_LowPriority,r4=Ns.unstable_IdlePriority,kh=null,Ii=null;function sk(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(kh,e,void 0,(e.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:ok,ik=Math.log,ak=Math.LN2;function ok(e){return e>>>=0,e===0?32:31-(ik(e)/ak|0)|0}var Of=64,Mf=4194304;function ju(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function T0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,d=n&268435455;if(d!==0){var x=d&~i;x!==0?r=ju(x):(o&=d,o!==0&&(r=ju(o)))}else d=n&~i,d!==0?r=ju(d):o!==0&&(r=ju(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-li(t),i=1<<n,r|=e[n],t&=~i;return r}function lk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ck(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var d=31-li(o),x=1<<d,g=i[d];g===-1?(!(x&n)||x&r)&&(i[d]=lk(x,t)):g<=t&&(e.expiredLanes|=x),o&=~x}}function km(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function s4(){var e=Of;return Of<<=1,!(Of&4194240)&&(Of=64),e}function S1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-li(t),e[t]=n}function uk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-li(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function rg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-li(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var rn=0;function i4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var a4,sg,o4,l4,c4,Tm=!1,Lf=[],Za=null,Ja=null,eo=null,Vu=new Map,Yu=new Map,Va=[],dk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dy(e,t){switch(e){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":Vu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yu.delete(t.pointerId)}}function mu(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=vd(t),t!==null&&sg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fk(e,t,n,r,i){switch(t){case"focusin":return Za=mu(Za,e,t,n,r,i),!0;case"dragenter":return Ja=mu(Ja,e,t,n,r,i),!0;case"mouseover":return eo=mu(eo,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Vu.set(o,mu(Vu.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yu.set(o,mu(Yu.get(o)||null,e,t,n,r,i)),!0}return!1}function u4(e){var t=$o(e.target);if(t!==null){var n=ml(t);if(n!==null){if(t=n.tag,t===13){if(t=Z3(n),t!==null){e.blockedOn=t,c4(e.priority,function(){o4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function s0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_m=r,n.target.dispatchEvent(r),_m=null}else return t=vd(n),t!==null&&sg(t),e.blockedOn=n,!1;t.shift()}return!0}function Iy(e,t,n){s0(e)&&n.delete(t)}function hk(){Tm=!1,Za!==null&&s0(Za)&&(Za=null),Ja!==null&&s0(Ja)&&(Ja=null),eo!==null&&s0(eo)&&(eo=null),Vu.forEach(Iy),Yu.forEach(Iy)}function xu(e,t){e.blockedOn===t&&(e.blockedOn=null,Tm||(Tm=!0,Ns.unstable_scheduleCallback(Ns.unstable_NormalPriority,hk)))}function $u(e){function t(i){return xu(i,e)}if(0<Lf.length){xu(Lf[0],e);for(var n=1;n<Lf.length;n++){var r=Lf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Za!==null&&xu(Za,e),Ja!==null&&xu(Ja,e),eo!==null&&xu(eo,e),Vu.forEach(t),Yu.forEach(t),n=0;n<Va.length;n++)r=Va[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Va.length&&(n=Va[0],n.blockedOn===null);)u4(n),n.blockedOn===null&&Va.shift()}var rc=Na.ReactCurrentBatchConfig,D0=!0;function pk(e,t,n,r){var i=rn,o=rc.transition;rc.transition=null;try{rn=1,ig(e,t,n,r)}finally{rn=i,rc.transition=o}}function mk(e,t,n,r){var i=rn,o=rc.transition;rc.transition=null;try{rn=4,ig(e,t,n,r)}finally{rn=i,rc.transition=o}}function ig(e,t,n,r){if(D0){var i=Dm(e,t,n,r);if(i===null)L1(e,t,r,I0,n),Dy(e,r);else if(fk(i,e,t,n,r))r.stopPropagation();else if(Dy(e,r),t&4&&-1<dk.indexOf(e)){for(;i!==null;){var o=vd(i);if(o!==null&&a4(o),o=Dm(e,t,n,r),o===null&&L1(e,t,r,I0,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else L1(e,t,r,null,n)}}var I0=null;function Dm(e,t,n,r){if(I0=null,e=tg(r),e=$o(e),e!==null)if(t=ml(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Z3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return I0=e,null}function d4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nk()){case ng:return 1;case n4:return 4;case k0:case rk:return 16;case r4:return 536870912;default:return 16}default:return 16}}var Ga=null,ag=null,i0=null;function f4(){if(i0)return i0;var e,t=ag,n=t.length,r,i="value"in Ga?Ga.value:Ga.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===i[o-r];r++);return i0=i.slice(e,1<r?1-r:void 0)}function a0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pf(){return!0}function Ry(){return!1}function _s(e){function t(n,r,i,o,d){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(o):o[x]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pf:Ry,this.isPropagationStopped=Ry,this}return Dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pf)},persist:function(){},isPersistent:Pf}),t}var jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},og=_s(jc),gd=Dn({},jc,{view:0,detail:0}),xk=_s(gd),A1,j1,gu,Th=Dn({},gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gu&&(gu&&e.type==="mousemove"?(A1=e.screenX-gu.screenX,j1=e.screenY-gu.screenY):j1=A1=0,gu=e),A1)},movementY:function(e){return"movementY"in e?e.movementY:j1}}),Oy=_s(Th),gk=Dn({},Th,{dataTransfer:0}),vk=_s(gk),yk=Dn({},gd,{relatedTarget:0}),k1=_s(yk),wk=Dn({},jc,{animationName:0,elapsedTime:0,pseudoElement:0}),bk=_s(wk),Ck=Dn({},jc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nk=_s(Ck),Ek=Dn({},jc,{data:0}),My=_s(Ek),_k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ak={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ak[e])?!!t[e]:!1}function lg(){return jk}var kk=Dn({},gd,{key:function(e){if(e.key){var t=_k[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=a0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lg,charCode:function(e){return e.type==="keypress"?a0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?a0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tk=_s(kk),Dk=Dn({},Th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ly=_s(Dk),Ik=Dn({},gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lg}),Rk=_s(Ik),Ok=Dn({},jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mk=_s(Ok),Lk=Dn({},Th,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pk=_s(Lk),Fk=[9,13,27,32],cg=ma&&"CompositionEvent"in window,Ou=null;ma&&"documentMode"in document&&(Ou=document.documentMode);var Bk=ma&&"TextEvent"in window&&!Ou,h4=ma&&(!cg||Ou&&8<Ou&&11>=Ou),Py=String.fromCharCode(32),Fy=!1;function p4(e,t){switch(e){case"keyup":return Fk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wl=!1;function Uk(e,t){switch(e){case"compositionend":return m4(t);case"keypress":return t.which!==32?null:(Fy=!0,Py);case"textInput":return e=t.data,e===Py&&Fy?null:e;default:return null}}function zk(e,t){if(Wl)return e==="compositionend"||!cg&&p4(e,t)?(e=f4(),i0=ag=Ga=null,Wl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return h4&&t.locale!=="ko"?null:t.data;default:return null}}var Wk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wk[e.type]:t==="textarea"}function x4(e,t,n,r){$3(r),t=R0(t,"onChange"),0<t.length&&(n=new og("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mu=null,Gu=null;function Hk(e){A4(e,0)}function Dh(e){var t=Vl(e);if(U3(t))return e}function qk(e,t){if(e==="change")return t}var g4=!1;if(ma){var T1;if(ma){var D1="oninput"in document;if(!D1){var Uy=document.createElement("div");Uy.setAttribute("oninput","return;"),D1=typeof Uy.oninput=="function"}T1=D1}else T1=!1;g4=T1&&(!document.documentMode||9<document.documentMode)}function zy(){Mu&&(Mu.detachEvent("onpropertychange",v4),Gu=Mu=null)}function v4(e){if(e.propertyName==="value"&&Dh(Gu)){var t=[];x4(t,Gu,e,tg(e)),K3(Hk,t)}}function Vk(e,t,n){e==="focusin"?(zy(),Mu=t,Gu=n,Mu.attachEvent("onpropertychange",v4)):e==="focusout"&&zy()}function Yk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dh(Gu)}function $k(e,t){if(e==="click")return Dh(t)}function Gk(e,t){if(e==="input"||e==="change")return Dh(t)}function Xk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fi=typeof Object.is=="function"?Object.is:Xk;function Xu(e,t){if(fi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hm.call(t,i)||!fi(e[i],t[i]))return!1}return!0}function Wy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hy(e,t){var n=Wy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wy(n)}}function y4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?y4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function w4(){for(var e=window,t=S0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=S0(e.document)}return t}function ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qk(e){var t=w4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&y4(n.ownerDocument.documentElement,n)){if(r!==null&&ug(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Hy(n,o);var d=Hy(n,r);i&&d&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kk=ma&&"documentMode"in document&&11>=document.documentMode,Hl=null,Im=null,Lu=null,Rm=!1;function qy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rm||Hl==null||Hl!==S0(r)||(r=Hl,"selectionStart"in r&&ug(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lu&&Xu(Lu,r)||(Lu=r,r=R0(Im,"onSelect"),0<r.length&&(t=new og("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hl)))}function Ff(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ql={animationend:Ff("Animation","AnimationEnd"),animationiteration:Ff("Animation","AnimationIteration"),animationstart:Ff("Animation","AnimationStart"),transitionend:Ff("Transition","TransitionEnd")},I1={},b4={};ma&&(b4=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function Ih(e){if(I1[e])return I1[e];if(!ql[e])return e;var t=ql[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in b4)return I1[e]=t[n];return e}var C4=Ih("animationend"),N4=Ih("animationiteration"),E4=Ih("animationstart"),_4=Ih("transitionend"),S4=new Map,Vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(e,t){S4.set(e,t),pl(t,[e])}for(var R1=0;R1<Vy.length;R1++){var O1=Vy[R1],Zk=O1.toLowerCase(),Jk=O1[0].toUpperCase()+O1.slice(1);po(Zk,"on"+Jk)}po(C4,"onAnimationEnd");po(N4,"onAnimationIteration");po(E4,"onAnimationStart");po("dblclick","onDoubleClick");po("focusin","onFocus");po("focusout","onBlur");po(_4,"onTransitionEnd");uc("onMouseEnter",["mouseout","mouseover"]);uc("onMouseLeave",["mouseout","mouseover"]);uc("onPointerEnter",["pointerout","pointerover"]);uc("onPointerLeave",["pointerout","pointerover"]);pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ku));function Yy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Zj(r,t,void 0,e),e.currentTarget=null}function A4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var d=r.length-1;0<=d;d--){var x=r[d],g=x.instance,v=x.currentTarget;if(x=x.listener,g!==o&&i.isPropagationStopped())break e;Yy(i,x,v),o=g}else for(d=0;d<r.length;d++){if(x=r[d],g=x.instance,v=x.currentTarget,x=x.listener,g!==o&&i.isPropagationStopped())break e;Yy(i,x,v),o=g}}}if(j0)throw e=jm,j0=!1,jm=null,e}function mn(e,t){var n=t[Fm];n===void 0&&(n=t[Fm]=new Set);var r=e+"__bubble";n.has(r)||(j4(t,e,2,!1),n.add(r))}function M1(e,t,n){var r=0;t&&(r|=4),j4(n,e,r,t)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function Qu(e){if(!e[Bf]){e[Bf]=!0,M3.forEach(function(n){n!=="selectionchange"&&(eT.has(n)||M1(n,!1,e),M1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bf]||(t[Bf]=!0,M1("selectionchange",!1,t))}}function j4(e,t,n,r){switch(d4(t)){case 1:var i=pk;break;case 4:i=mk;break;default:i=ig}n=i.bind(null,t,n,e),i=void 0,!Am||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function L1(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var x=r.stateNode.containerInfo;if(x===i||x.nodeType===8&&x.parentNode===i)break;if(d===4)for(d=r.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===i||g.nodeType===8&&g.parentNode===i))return;d=d.return}for(;x!==null;){if(d=$o(x),d===null)return;if(g=d.tag,g===5||g===6){r=o=d;continue e}x=x.parentNode}}r=r.return}K3(function(){var v=o,w=tg(n),N=[];e:{var _=S4.get(e);if(_!==void 0){var k=og,A=e;switch(e){case"keypress":if(a0(n)===0)break e;case"keydown":case"keyup":k=Tk;break;case"focusin":A="focus",k=k1;break;case"focusout":A="blur",k=k1;break;case"beforeblur":case"afterblur":k=k1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Rk;break;case C4:case N4:case E4:k=bk;break;case _4:k=Mk;break;case"scroll":k=xk;break;case"wheel":k=Pk;break;case"copy":case"cut":case"paste":k=Nk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ly}var O=(t&4)!==0,L=!O&&e==="scroll",D=O?_!==null?_+"Capture":null:_;O=[];for(var j=v,I;j!==null;){I=j;var W=I.stateNode;if(I.tag===5&&W!==null&&(I=W,D!==null&&(W=qu(j,D),W!=null&&O.push(Ku(j,W,I)))),L)break;j=j.return}0<O.length&&(_=new k(_,A,null,n,w),N.push({event:_,listeners:O}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",_&&n!==_m&&(A=n.relatedTarget||n.fromElement)&&($o(A)||A[xa]))break e;if((k||_)&&(_=w.window===w?w:(_=w.ownerDocument)?_.defaultView||_.parentWindow:window,k?(A=n.relatedTarget||n.toElement,k=v,A=A?$o(A):null,A!==null&&(L=ml(A),A!==L||A.tag!==5&&A.tag!==6)&&(A=null)):(k=null,A=v),k!==A)){if(O=Oy,W="onMouseLeave",D="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(O=Ly,W="onPointerLeave",D="onPointerEnter",j="pointer"),L=k==null?_:Vl(k),I=A==null?_:Vl(A),_=new O(W,j+"leave",k,n,w),_.target=L,_.relatedTarget=I,W=null,$o(w)===v&&(O=new O(D,j+"enter",A,n,w),O.target=I,O.relatedTarget=L,W=O),L=W,k&&A)t:{for(O=k,D=A,j=0,I=O;I;I=Pl(I))j++;for(I=0,W=D;W;W=Pl(W))I++;for(;0<j-I;)O=Pl(O),j--;for(;0<I-j;)D=Pl(D),I--;for(;j--;){if(O===D||D!==null&&O===D.alternate)break t;O=Pl(O),D=Pl(D)}O=null}else O=null;k!==null&&$y(N,_,k,O,!1),A!==null&&L!==null&&$y(N,L,A,O,!0)}}e:{if(_=v?Vl(v):window,k=_.nodeName&&_.nodeName.toLowerCase(),k==="select"||k==="input"&&_.type==="file")var Q=qk;else if(By(_))if(g4)Q=Gk;else{Q=Yk;var B=Vk}else(k=_.nodeName)&&k.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(Q=$k);if(Q&&(Q=Q(e,v))){x4(N,Q,n,w);break e}B&&B(e,_,v),e==="focusout"&&(B=_._wrapperState)&&B.controlled&&_.type==="number"&&wm(_,"number",_.value)}switch(B=v?Vl(v):window,e){case"focusin":(By(B)||B.contentEditable==="true")&&(Hl=B,Im=v,Lu=null);break;case"focusout":Lu=Im=Hl=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,qy(N,n,w);break;case"selectionchange":if(Kk)break;case"keydown":case"keyup":qy(N,n,w)}var R;if(cg)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Wl?p4(e,n)&&(q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(h4&&n.locale!=="ko"&&(Wl||q!=="onCompositionStart"?q==="onCompositionEnd"&&Wl&&(R=f4()):(Ga=w,ag="value"in Ga?Ga.value:Ga.textContent,Wl=!0)),B=R0(v,q),0<B.length&&(q=new My(q,e,null,n,w),N.push({event:q,listeners:B}),R?q.data=R:(R=m4(n),R!==null&&(q.data=R)))),(R=Bk?Uk(e,n):zk(e,n))&&(v=R0(v,"onBeforeInput"),0<v.length&&(w=new My("onBeforeInput","beforeinput",null,n,w),N.push({event:w,listeners:v}),w.data=R))}A4(N,t)})}function Ku(e,t,n){return{instance:e,listener:t,currentTarget:n}}function R0(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qu(e,n),o!=null&&r.unshift(Ku(e,o,i)),o=qu(e,t),o!=null&&r.push(Ku(e,o,i))),e=e.return}return r}function Pl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $y(e,t,n,r,i){for(var o=t._reactName,d=[];n!==null&&n!==r;){var x=n,g=x.alternate,v=x.stateNode;if(g!==null&&g===r)break;x.tag===5&&v!==null&&(x=v,i?(g=qu(n,o),g!=null&&d.unshift(Ku(n,g,x))):i||(g=qu(n,o),g!=null&&d.push(Ku(n,g,x)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var tT=/\r\n?/g,nT=/\u0000|\uFFFD/g;function Gy(e){return(typeof e=="string"?e:""+e).replace(tT,`
`).replace(nT,"")}function Uf(e,t,n){if(t=Gy(t),Gy(e)!==t&&n)throw Error(Ie(425))}function O0(){}var Om=null,Mm=null;function Lm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pm=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,sT=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(iT)}:Pm;function iT(e){setTimeout(function(){throw e})}function P1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),$u(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$u(t)}function to(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kc=Math.random().toString(36).slice(2),ji="__reactFiber$"+kc,Zu="__reactProps$"+kc,xa="__reactContainer$"+kc,Fm="__reactEvents$"+kc,aT="__reactListeners$"+kc,oT="__reactHandles$"+kc;function $o(e){var t=e[ji];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xa]||n[ji]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qy(e);e!==null;){if(n=e[ji])return n;e=Qy(e)}return t}e=n,n=e.parentNode}return null}function vd(e){return e=e[ji]||e[xa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ie(33))}function Rh(e){return e[Zu]||null}var Bm=[],Yl=-1;function mo(e){return{current:e}}function gn(e){0>Yl||(e.current=Bm[Yl],Bm[Yl]=null,Yl--)}function dn(e,t){Yl++,Bm[Yl]=e.current,e.current=t}var uo={},Or=mo(uo),ns=mo(!1),sl=uo;function dc(e,t){var n=e.type.contextTypes;if(!n)return uo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function rs(e){return e=e.childContextTypes,e!=null}function M0(){gn(ns),gn(Or)}function Ky(e,t,n){if(Or.current!==uo)throw Error(Ie(168));dn(Or,t),dn(ns,n)}function k4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ie(108,Vj(e)||"Unknown",i));return Dn({},n,r)}function L0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||uo,sl=Or.current,dn(Or,e),dn(ns,ns.current),!0}function Zy(e,t,n){var r=e.stateNode;if(!r)throw Error(Ie(169));n?(e=k4(e,t,sl),r.__reactInternalMemoizedMergedChildContext=e,gn(ns),gn(Or),dn(Or,e)):gn(ns),dn(ns,n)}var ia=null,Oh=!1,F1=!1;function T4(e){ia===null?ia=[e]:ia.push(e)}function lT(e){Oh=!0,T4(e)}function xo(){if(!F1&&ia!==null){F1=!0;var e=0,t=rn;try{var n=ia;for(rn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ia=null,Oh=!1}catch(i){throw ia!==null&&(ia=ia.slice(e+1)),t4(ng,xo),i}finally{rn=t,F1=!1}}return null}var $l=[],Gl=0,P0=null,F0=0,zs=[],Ws=0,il=null,aa=1,oa="";function Ho(e,t){$l[Gl++]=F0,$l[Gl++]=P0,P0=e,F0=t}function D4(e,t,n){zs[Ws++]=aa,zs[Ws++]=oa,zs[Ws++]=il,il=e;var r=aa;e=oa;var i=32-li(r)-1;r&=~(1<<i),n+=1;var o=32-li(t)+i;if(30<o){var d=i-i%5;o=(r&(1<<d)-1).toString(32),r>>=d,i-=d,aa=1<<32-li(t)+i|n<<i|r,oa=o+e}else aa=1<<o|n<<i|r,oa=e}function dg(e){e.return!==null&&(Ho(e,1),D4(e,1,0))}function fg(e){for(;e===P0;)P0=$l[--Gl],$l[Gl]=null,F0=$l[--Gl],$l[Gl]=null;for(;e===il;)il=zs[--Ws],zs[Ws]=null,oa=zs[--Ws],zs[Ws]=null,aa=zs[--Ws],zs[Ws]=null}var bs=null,ys=null,Nn=!1,oi=null;function I4(e,t){var n=qs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bs=e,ys=to(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bs=e,ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=il!==null?{id:aa,overflow:oa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bs=e,ys=null,!0):!1;default:return!1}}function Um(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zm(e){if(Nn){var t=ys;if(t){var n=t;if(!Jy(e,t)){if(Um(e))throw Error(Ie(418));t=to(n.nextSibling);var r=bs;t&&Jy(e,t)?I4(r,n):(e.flags=e.flags&-4097|2,Nn=!1,bs=e)}}else{if(Um(e))throw Error(Ie(418));e.flags=e.flags&-4097|2,Nn=!1,bs=e}}}function ew(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bs=e}function zf(e){if(e!==bs)return!1;if(!Nn)return ew(e),Nn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lm(e.type,e.memoizedProps)),t&&(t=ys)){if(Um(e))throw R4(),Error(Ie(418));for(;t;)I4(e,t),t=to(t.nextSibling)}if(ew(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ys=to(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ys=null}}else ys=bs?to(e.stateNode.nextSibling):null;return!0}function R4(){for(var e=ys;e;)e=to(e.nextSibling)}function fc(){ys=bs=null,Nn=!1}function hg(e){oi===null?oi=[e]:oi.push(e)}var cT=Na.ReactCurrentBatchConfig;function vu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ie(309));var r=n.stateNode}if(!r)throw Error(Ie(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(d){var x=i.refs;d===null?delete x[o]:x[o]=d},t._stringRef=o,t)}if(typeof e!="string")throw Error(Ie(284));if(!n._owner)throw Error(Ie(290,e))}return e}function Wf(e,t){throw e=Object.prototype.toString.call(t),Error(Ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tw(e){var t=e._init;return t(e._payload)}function O4(e){function t(D,j){if(e){var I=D.deletions;I===null?(D.deletions=[j],D.flags|=16):I.push(j)}}function n(D,j){if(!e)return null;for(;j!==null;)t(D,j),j=j.sibling;return null}function r(D,j){for(D=new Map;j!==null;)j.key!==null?D.set(j.key,j):D.set(j.index,j),j=j.sibling;return D}function i(D,j){return D=io(D,j),D.index=0,D.sibling=null,D}function o(D,j,I){return D.index=I,e?(I=D.alternate,I!==null?(I=I.index,I<j?(D.flags|=2,j):I):(D.flags|=2,j)):(D.flags|=1048576,j)}function d(D){return e&&D.alternate===null&&(D.flags|=2),D}function x(D,j,I,W){return j===null||j.tag!==6?(j=V1(I,D.mode,W),j.return=D,j):(j=i(j,I),j.return=D,j)}function g(D,j,I,W){var Q=I.type;return Q===zl?w(D,j,I.props.children,W,I.key):j!==null&&(j.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Wa&&tw(Q)===j.type)?(W=i(j,I.props),W.ref=vu(D,j,I),W.return=D,W):(W=h0(I.type,I.key,I.props,null,D.mode,W),W.ref=vu(D,j,I),W.return=D,W)}function v(D,j,I,W){return j===null||j.tag!==4||j.stateNode.containerInfo!==I.containerInfo||j.stateNode.implementation!==I.implementation?(j=Y1(I,D.mode,W),j.return=D,j):(j=i(j,I.children||[]),j.return=D,j)}function w(D,j,I,W,Q){return j===null||j.tag!==7?(j=el(I,D.mode,W,Q),j.return=D,j):(j=i(j,I),j.return=D,j)}function N(D,j,I){if(typeof j=="string"&&j!==""||typeof j=="number")return j=V1(""+j,D.mode,I),j.return=D,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Df:return I=h0(j.type,j.key,j.props,null,D.mode,I),I.ref=vu(D,null,j),I.return=D,I;case Ul:return j=Y1(j,D.mode,I),j.return=D,j;case Wa:var W=j._init;return N(D,W(j._payload),I)}if(Au(j)||hu(j))return j=el(j,D.mode,I,null),j.return=D,j;Wf(D,j)}return null}function _(D,j,I,W){var Q=j!==null?j.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return Q!==null?null:x(D,j,""+I,W);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Df:return I.key===Q?g(D,j,I,W):null;case Ul:return I.key===Q?v(D,j,I,W):null;case Wa:return Q=I._init,_(D,j,Q(I._payload),W)}if(Au(I)||hu(I))return Q!==null?null:w(D,j,I,W,null);Wf(D,I)}return null}function k(D,j,I,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number")return D=D.get(I)||null,x(j,D,""+W,Q);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Df:return D=D.get(W.key===null?I:W.key)||null,g(j,D,W,Q);case Ul:return D=D.get(W.key===null?I:W.key)||null,v(j,D,W,Q);case Wa:var B=W._init;return k(D,j,I,B(W._payload),Q)}if(Au(W)||hu(W))return D=D.get(I)||null,w(j,D,W,Q,null);Wf(j,W)}return null}function A(D,j,I,W){for(var Q=null,B=null,R=j,q=j=0,V=null;R!==null&&q<I.length;q++){R.index>q?(V=R,R=null):V=R.sibling;var te=_(D,R,I[q],W);if(te===null){R===null&&(R=V);break}e&&R&&te.alternate===null&&t(D,R),j=o(te,j,q),B===null?Q=te:B.sibling=te,B=te,R=V}if(q===I.length)return n(D,R),Nn&&Ho(D,q),Q;if(R===null){for(;q<I.length;q++)R=N(D,I[q],W),R!==null&&(j=o(R,j,q),B===null?Q=R:B.sibling=R,B=R);return Nn&&Ho(D,q),Q}for(R=r(D,R);q<I.length;q++)V=k(R,D,q,I[q],W),V!==null&&(e&&V.alternate!==null&&R.delete(V.key===null?q:V.key),j=o(V,j,q),B===null?Q=V:B.sibling=V,B=V);return e&&R.forEach(function(ce){return t(D,ce)}),Nn&&Ho(D,q),Q}function O(D,j,I,W){var Q=hu(I);if(typeof Q!="function")throw Error(Ie(150));if(I=Q.call(I),I==null)throw Error(Ie(151));for(var B=Q=null,R=j,q=j=0,V=null,te=I.next();R!==null&&!te.done;q++,te=I.next()){R.index>q?(V=R,R=null):V=R.sibling;var ce=_(D,R,te.value,W);if(ce===null){R===null&&(R=V);break}e&&R&&ce.alternate===null&&t(D,R),j=o(ce,j,q),B===null?Q=ce:B.sibling=ce,B=ce,R=V}if(te.done)return n(D,R),Nn&&Ho(D,q),Q;if(R===null){for(;!te.done;q++,te=I.next())te=N(D,te.value,W),te!==null&&(j=o(te,j,q),B===null?Q=te:B.sibling=te,B=te);return Nn&&Ho(D,q),Q}for(R=r(D,R);!te.done;q++,te=I.next())te=k(R,D,q,te.value,W),te!==null&&(e&&te.alternate!==null&&R.delete(te.key===null?q:te.key),j=o(te,j,q),B===null?Q=te:B.sibling=te,B=te);return e&&R.forEach(function(J){return t(D,J)}),Nn&&Ho(D,q),Q}function L(D,j,I,W){if(typeof I=="object"&&I!==null&&I.type===zl&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Df:e:{for(var Q=I.key,B=j;B!==null;){if(B.key===Q){if(Q=I.type,Q===zl){if(B.tag===7){n(D,B.sibling),j=i(B,I.props.children),j.return=D,D=j;break e}}else if(B.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Wa&&tw(Q)===B.type){n(D,B.sibling),j=i(B,I.props),j.ref=vu(D,B,I),j.return=D,D=j;break e}n(D,B);break}else t(D,B);B=B.sibling}I.type===zl?(j=el(I.props.children,D.mode,W,I.key),j.return=D,D=j):(W=h0(I.type,I.key,I.props,null,D.mode,W),W.ref=vu(D,j,I),W.return=D,D=W)}return d(D);case Ul:e:{for(B=I.key;j!==null;){if(j.key===B)if(j.tag===4&&j.stateNode.containerInfo===I.containerInfo&&j.stateNode.implementation===I.implementation){n(D,j.sibling),j=i(j,I.children||[]),j.return=D,D=j;break e}else{n(D,j);break}else t(D,j);j=j.sibling}j=Y1(I,D.mode,W),j.return=D,D=j}return d(D);case Wa:return B=I._init,L(D,j,B(I._payload),W)}if(Au(I))return A(D,j,I,W);if(hu(I))return O(D,j,I,W);Wf(D,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,j!==null&&j.tag===6?(n(D,j.sibling),j=i(j,I),j.return=D,D=j):(n(D,j),j=V1(I,D.mode,W),j.return=D,D=j),d(D)):n(D,j)}return L}var hc=O4(!0),M4=O4(!1),B0=mo(null),U0=null,Xl=null,pg=null;function mg(){pg=Xl=U0=null}function xg(e){var t=B0.current;gn(B0),e._currentValue=t}function Wm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sc(e,t){U0=e,pg=Xl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ts=!0),e.firstContext=null)}function Ys(e){var t=e._currentValue;if(pg!==e)if(e={context:e,memoizedValue:t,next:null},Xl===null){if(U0===null)throw Error(Ie(308));Xl=e,U0.dependencies={lanes:0,firstContext:e}}else Xl=Xl.next=e;return t}var Go=null;function gg(e){Go===null?Go=[e]:Go.push(e)}function L4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,gg(t)):(n.next=i.next,i.next=n),t.interleaved=n,ga(e,r)}function ga(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ha=!1;function vg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function no(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ft&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ga(e,n)}return i=r.interleaved,i===null?(t.next=t,gg(r)):(t.next=i.next,i.next=t),r.interleaved=t,ga(e,n)}function o0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rg(e,n)}}function nw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=d:o=o.next=d,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function z0(e,t,n,r){var i=e.updateQueue;Ha=!1;var o=i.firstBaseUpdate,d=i.lastBaseUpdate,x=i.shared.pending;if(x!==null){i.shared.pending=null;var g=x,v=g.next;g.next=null,d===null?o=v:d.next=v,d=g;var w=e.alternate;w!==null&&(w=w.updateQueue,x=w.lastBaseUpdate,x!==d&&(x===null?w.firstBaseUpdate=v:x.next=v,w.lastBaseUpdate=g))}if(o!==null){var N=i.baseState;d=0,w=v=g=null,x=o;do{var _=x.lane,k=x.eventTime;if((r&_)===_){w!==null&&(w=w.next={eventTime:k,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var A=e,O=x;switch(_=t,k=n,O.tag){case 1:if(A=O.payload,typeof A=="function"){N=A.call(k,N,_);break e}N=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=O.payload,_=typeof A=="function"?A.call(k,N,_):A,_==null)break e;N=Dn({},N,_);break e;case 2:Ha=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[x]:_.push(x))}else k={eventTime:k,lane:_,tag:x.tag,payload:x.payload,callback:x.callback,next:null},w===null?(v=w=k,g=N):w=w.next=k,d|=_;if(x=x.next,x===null){if(x=i.shared.pending,x===null)break;_=x,x=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(1);if(w===null&&(g=N),i.baseState=g,i.firstBaseUpdate=v,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do d|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ol|=d,e.lanes=d,e.memoizedState=N}}function rw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ie(191,i));i.call(r)}}}var yd={},Ri=mo(yd),Ju=mo(yd),ed=mo(yd);function Xo(e){if(e===yd)throw Error(Ie(174));return e}function yg(e,t){switch(dn(ed,t),dn(Ju,e),dn(Ri,yd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cm(t,e)}gn(Ri),dn(Ri,t)}function pc(){gn(Ri),gn(Ju),gn(ed)}function F4(e){Xo(ed.current);var t=Xo(Ri.current),n=Cm(t,e.type);t!==n&&(dn(Ju,e),dn(Ri,n))}function wg(e){Ju.current===e&&(gn(Ri),gn(Ju))}var jn=mo(0);function W0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var B1=[];function bg(){for(var e=0;e<B1.length;e++)B1[e]._workInProgressVersionPrimary=null;B1.length=0}var l0=Na.ReactCurrentDispatcher,U1=Na.ReactCurrentBatchConfig,al=0,Tn=null,ar=null,hr=null,H0=!1,Pu=!1,td=0,uT=0;function kr(){throw Error(Ie(321))}function Cg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fi(e[n],t[n]))return!1;return!0}function Ng(e,t,n,r,i,o){if(al=o,Tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,l0.current=e===null||e.memoizedState===null?pT:mT,e=n(r,i),Pu){o=0;do{if(Pu=!1,td=0,25<=o)throw Error(Ie(301));o+=1,hr=ar=null,t.updateQueue=null,l0.current=xT,e=n(r,i)}while(Pu)}if(l0.current=q0,t=ar!==null&&ar.next!==null,al=0,hr=ar=Tn=null,H0=!1,t)throw Error(Ie(300));return e}function Eg(){var e=td!==0;return td=0,e}function Ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Tn.memoizedState=hr=e:hr=hr.next=e,hr}function $s(){if(ar===null){var e=Tn.alternate;e=e!==null?e.memoizedState:null}else e=ar.next;var t=hr===null?Tn.memoizedState:hr.next;if(t!==null)hr=t,ar=e;else{if(e===null)throw Error(Ie(310));ar=e,e={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},hr===null?Tn.memoizedState=hr=e:hr=hr.next=e}return hr}function nd(e,t){return typeof t=="function"?t(e):t}function z1(e){var t=$s(),n=t.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=e;var r=ar,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var d=i.next;i.next=o.next,o.next=d}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var x=d=null,g=null,v=o;do{var w=v.lane;if((al&w)===w)g!==null&&(g=g.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var N={lane:w,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};g===null?(x=g=N,d=r):g=g.next=N,Tn.lanes|=w,ol|=w}v=v.next}while(v!==null&&v!==o);g===null?d=r:g.next=x,fi(r,t.memoizedState)||(ts=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=g,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Tn.lanes|=o,ol|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function W1(e){var t=$s(),n=t.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var d=i=i.next;do o=e(o,d.action),d=d.next;while(d!==i);fi(o,t.memoizedState)||(ts=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function B4(){}function U4(e,t){var n=Tn,r=$s(),i=t(),o=!fi(r.memoizedState,i);if(o&&(r.memoizedState=i,ts=!0),r=r.queue,_g(H4.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||hr!==null&&hr.memoizedState.tag&1){if(n.flags|=2048,rd(9,W4.bind(null,n,r,i,t),void 0,null),pr===null)throw Error(Ie(349));al&30||z4(n,t,i)}return i}function z4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Tn.updateQueue,t===null?(t={lastEffect:null,stores:null},Tn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function W4(e,t,n,r){t.value=n,t.getSnapshot=r,q4(t)&&V4(e)}function H4(e,t,n){return n(function(){q4(t)&&V4(e)})}function q4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fi(e,n)}catch{return!0}}function V4(e){var t=ga(e,1);t!==null&&ci(t,e,1,-1)}function sw(e){var t=Ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nd,lastRenderedState:e},t.queue=e,e=e.dispatch=hT.bind(null,Tn,e),[t.memoizedState,e]}function rd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Tn.updateQueue,t===null?(t={lastEffect:null,stores:null},Tn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Y4(){return $s().memoizedState}function c0(e,t,n,r){var i=Ei();Tn.flags|=e,i.memoizedState=rd(1|t,n,void 0,r===void 0?null:r)}function Mh(e,t,n,r){var i=$s();r=r===void 0?null:r;var o=void 0;if(ar!==null){var d=ar.memoizedState;if(o=d.destroy,r!==null&&Cg(r,d.deps)){i.memoizedState=rd(t,n,o,r);return}}Tn.flags|=e,i.memoizedState=rd(1|t,n,o,r)}function iw(e,t){return c0(8390656,8,e,t)}function _g(e,t){return Mh(2048,8,e,t)}function $4(e,t){return Mh(4,2,e,t)}function G4(e,t){return Mh(4,4,e,t)}function X4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Q4(e,t,n){return n=n!=null?n.concat([e]):null,Mh(4,4,X4.bind(null,t,e),n)}function Sg(){}function K4(e,t){var n=$s();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Z4(e,t){var n=$s();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function J4(e,t,n){return al&21?(fi(n,t)||(n=s4(),Tn.lanes|=n,ol|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ts=!0),e.memoizedState=n)}function dT(e,t){var n=rn;rn=n!==0&&4>n?n:4,e(!0);var r=U1.transition;U1.transition={};try{e(!1),t()}finally{rn=n,U1.transition=r}}function eC(){return $s().memoizedState}function fT(e,t,n){var r=so(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tC(e))nC(t,n);else if(n=L4(e,t,n,r),n!==null){var i=qr();ci(n,e,r,i),rC(n,t,r)}}function hT(e,t,n){var r=so(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tC(e))nC(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,x=o(d,n);if(i.hasEagerState=!0,i.eagerState=x,fi(x,d)){var g=t.interleaved;g===null?(i.next=i,gg(t)):(i.next=g.next,g.next=i),t.interleaved=i;return}}catch{}finally{}n=L4(e,t,i,r),n!==null&&(i=qr(),ci(n,e,r,i),rC(n,t,r))}}function tC(e){var t=e.alternate;return e===Tn||t!==null&&t===Tn}function nC(e,t){Pu=H0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rg(e,n)}}var q0={readContext:Ys,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},pT={readContext:Ys,useCallback:function(e,t){return Ei().memoizedState=[e,t===void 0?null:t],e},useContext:Ys,useEffect:iw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,c0(4194308,4,X4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return c0(4194308,4,e,t)},useInsertionEffect:function(e,t){return c0(4,2,e,t)},useMemo:function(e,t){var n=Ei();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ei();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fT.bind(null,Tn,e),[r.memoizedState,e]},useRef:function(e){var t=Ei();return e={current:e},t.memoizedState=e},useState:sw,useDebugValue:Sg,useDeferredValue:function(e){return Ei().memoizedState=e},useTransition:function(){var e=sw(!1),t=e[0];return e=dT.bind(null,e[1]),Ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Tn,i=Ei();if(Nn){if(n===void 0)throw Error(Ie(407));n=n()}else{if(n=t(),pr===null)throw Error(Ie(349));al&30||z4(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,iw(H4.bind(null,r,o,e),[e]),r.flags|=2048,rd(9,W4.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ei(),t=pr.identifierPrefix;if(Nn){var n=oa,r=aa;n=(r&~(1<<32-li(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=td++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mT={readContext:Ys,useCallback:K4,useContext:Ys,useEffect:_g,useImperativeHandle:Q4,useInsertionEffect:$4,useLayoutEffect:G4,useMemo:Z4,useReducer:z1,useRef:Y4,useState:function(){return z1(nd)},useDebugValue:Sg,useDeferredValue:function(e){var t=$s();return J4(t,ar.memoizedState,e)},useTransition:function(){var e=z1(nd)[0],t=$s().memoizedState;return[e,t]},useMutableSource:B4,useSyncExternalStore:U4,useId:eC,unstable_isNewReconciler:!1},xT={readContext:Ys,useCallback:K4,useContext:Ys,useEffect:_g,useImperativeHandle:Q4,useInsertionEffect:$4,useLayoutEffect:G4,useMemo:Z4,useReducer:W1,useRef:Y4,useState:function(){return W1(nd)},useDebugValue:Sg,useDeferredValue:function(e){var t=$s();return ar===null?t.memoizedState=e:J4(t,ar.memoizedState,e)},useTransition:function(){var e=W1(nd)[0],t=$s().memoizedState;return[e,t]},useMutableSource:B4,useSyncExternalStore:U4,useId:eC,unstable_isNewReconciler:!1};function ii(e,t){if(e&&e.defaultProps){t=Dn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Dn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Lh={isMounted:function(e){return(e=e._reactInternals)?ml(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qr(),i=so(e),o=ca(r,i);o.payload=t,n!=null&&(o.callback=n),t=no(e,o,i),t!==null&&(ci(t,e,i,r),o0(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qr(),i=so(e),o=ca(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=no(e,o,i),t!==null&&(ci(t,e,i,r),o0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qr(),r=so(e),i=ca(n,r);i.tag=2,t!=null&&(i.callback=t),t=no(e,i,r),t!==null&&(ci(t,e,r,n),o0(t,e,r))}};function aw(e,t,n,r,i,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,d):t.prototype&&t.prototype.isPureReactComponent?!Xu(n,r)||!Xu(i,o):!0}function sC(e,t,n){var r=!1,i=uo,o=t.contextType;return typeof o=="object"&&o!==null?o=Ys(o):(i=rs(t)?sl:Or.current,r=t.contextTypes,o=(r=r!=null)?dc(e,i):uo),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ow(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Lh.enqueueReplaceState(t,t.state,null)}function qm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},vg(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ys(o):(o=rs(t)?sl:Or.current,i.context=dc(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Hm(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Lh.enqueueReplaceState(i,i.state,null),z0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function mc(e,t){try{var n="",r=t;do n+=qj(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function H1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gT=typeof WeakMap=="function"?WeakMap:Map;function iC(e,t,n){n=ca(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Y0||(Y0=!0,tx=r),Vm(e,t)},n}function aC(e,t,n){n=ca(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Vm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Vm(e,t),typeof r!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function lw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gT;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=DT.bind(null,e,t,n),t.then(e,e))}function cw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ca(-1,1),t.tag=2,no(n,t,1))),n.lanes|=1),e)}var vT=Na.ReactCurrentOwner,ts=!1;function Ur(e,t,n,r){t.child=e===null?M4(t,null,n,r):hc(t,e.child,n,r)}function dw(e,t,n,r,i){n=n.render;var o=t.ref;return sc(t,i),r=Ng(e,t,n,r,o,i),n=Eg(),e!==null&&!ts?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,va(e,t,i)):(Nn&&n&&dg(t),t.flags|=1,Ur(e,t,r,i),t.child)}function fw(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Og(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,oC(e,t,o,r,i)):(e=h0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var d=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xu,n(d,r)&&e.ref===t.ref)return va(e,t,i)}return t.flags|=1,e=io(o,r),e.ref=t.ref,e.return=t,t.child=e}function oC(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Xu(o,r)&&e.ref===t.ref)if(ts=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(ts=!0);else return t.lanes=e.lanes,va(e,t,i)}return Ym(e,t,n,r,i)}function lC(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dn(Kl,gs),gs|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dn(Kl,gs),gs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,dn(Kl,gs),gs|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,dn(Kl,gs),gs|=r;return Ur(e,t,i,n),t.child}function cC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ym(e,t,n,r,i){var o=rs(n)?sl:Or.current;return o=dc(t,o),sc(t,i),n=Ng(e,t,n,r,o,i),r=Eg(),e!==null&&!ts?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,va(e,t,i)):(Nn&&r&&dg(t),t.flags|=1,Ur(e,t,n,i),t.child)}function hw(e,t,n,r,i){if(rs(n)){var o=!0;L0(t)}else o=!1;if(sc(t,i),t.stateNode===null)u0(e,t),sC(t,n,r),qm(t,n,r,i),r=!0;else if(e===null){var d=t.stateNode,x=t.memoizedProps;d.props=x;var g=d.context,v=n.contextType;typeof v=="object"&&v!==null?v=Ys(v):(v=rs(n)?sl:Or.current,v=dc(t,v));var w=n.getDerivedStateFromProps,N=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function";N||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==r||g!==v)&&ow(t,d,r,v),Ha=!1;var _=t.memoizedState;d.state=_,z0(t,r,d,i),g=t.memoizedState,x!==r||_!==g||ns.current||Ha?(typeof w=="function"&&(Hm(t,n,w,r),g=t.memoizedState),(x=Ha||aw(t,n,x,r,_,g,v))?(N||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=g),d.props=r,d.state=g,d.context=v,r=x):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,P4(e,t),x=t.memoizedProps,v=t.type===t.elementType?x:ii(t.type,x),d.props=v,N=t.pendingProps,_=d.context,g=n.contextType,typeof g=="object"&&g!==null?g=Ys(g):(g=rs(n)?sl:Or.current,g=dc(t,g));var k=n.getDerivedStateFromProps;(w=typeof k=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==N||_!==g)&&ow(t,d,r,g),Ha=!1,_=t.memoizedState,d.state=_,z0(t,r,d,i);var A=t.memoizedState;x!==N||_!==A||ns.current||Ha?(typeof k=="function"&&(Hm(t,n,k,r),A=t.memoizedState),(v=Ha||aw(t,n,v,r,_,A,g)||!1)?(w||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,A,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,A,g)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),d.props=r,d.state=A,d.context=g,r=v):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return $m(e,t,n,r,o,i)}function $m(e,t,n,r,i,o){cC(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return i&&Zy(t,n,!1),va(e,t,o);r=t.stateNode,vT.current=t;var x=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=hc(t,e.child,null,o),t.child=hc(t,null,x,o)):Ur(e,t,x,o),t.memoizedState=r.state,i&&Zy(t,n,!0),t.child}function uC(e){var t=e.stateNode;t.pendingContext?Ky(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ky(e,t.context,!1),yg(e,t.containerInfo)}function pw(e,t,n,r,i){return fc(),hg(i),t.flags|=256,Ur(e,t,n,r),t.child}var Gm={dehydrated:null,treeContext:null,retryLane:0};function Xm(e){return{baseLanes:e,cachePool:null,transitions:null}}function dC(e,t,n){var r=t.pendingProps,i=jn.current,o=!1,d=(t.flags&128)!==0,x;if((x=d)||(x=e!==null&&e.memoizedState===null?!1:(i&2)!==0),x?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),dn(jn,i&1),e===null)return zm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=r.children,e=r.fallback,o?(r=t.mode,o=t.child,d={mode:"hidden",children:d},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=d):o=Bh(d,r,0,null),e=el(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Xm(n),t.memoizedState=Gm,e):Ag(t,d));if(i=e.memoizedState,i!==null&&(x=i.dehydrated,x!==null))return yT(e,t,d,r,x,i,n);if(o){o=r.fallback,d=t.mode,i=e.child,x=i.sibling;var g={mode:"hidden",children:r.children};return!(d&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=g,t.deletions=null):(r=io(i,g),r.subtreeFlags=i.subtreeFlags&14680064),x!==null?o=io(x,o):(o=el(o,d,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,d=e.child.memoizedState,d=d===null?Xm(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},o.memoizedState=d,o.childLanes=e.childLanes&~n,t.memoizedState=Gm,r}return o=e.child,e=o.sibling,r=io(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ag(e,t){return t=Bh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hf(e,t,n,r){return r!==null&&hg(r),hc(t,e.child,null,n),e=Ag(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yT(e,t,n,r,i,o,d){if(n)return t.flags&256?(t.flags&=-257,r=H1(Error(Ie(422))),Hf(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Bh({mode:"visible",children:r.children},i,0,null),o=el(o,i,d,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&hc(t,e.child,null,d),t.child.memoizedState=Xm(d),t.memoizedState=Gm,o);if(!(t.mode&1))return Hf(e,t,d,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var x=r.dgst;return r=x,o=Error(Ie(419)),r=H1(o,r,void 0),Hf(e,t,d,r)}if(x=(d&e.childLanes)!==0,ts||x){if(r=pr,r!==null){switch(d&-d){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|d)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ga(e,i),ci(r,e,i,-1))}return Rg(),r=H1(Error(Ie(421))),Hf(e,t,d,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=IT.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ys=to(i.nextSibling),bs=t,Nn=!0,oi=null,e!==null&&(zs[Ws++]=aa,zs[Ws++]=oa,zs[Ws++]=il,aa=e.id,oa=e.overflow,il=t),t=Ag(t,r.children),t.flags|=4096,t)}function mw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wm(e.return,t,n)}function q1(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function fC(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ur(e,t,r.children,n),r=jn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mw(e,n,t);else if(e.tag===19)mw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(dn(jn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&W0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),q1(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&W0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}q1(t,!0,n,null,o);break;case"together":q1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function u0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function va(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ol|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ie(153));if(t.child!==null){for(e=t.child,n=io(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=io(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wT(e,t,n){switch(t.tag){case 3:uC(t),fc();break;case 5:F4(t);break;case 1:rs(t.type)&&L0(t);break;case 4:yg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;dn(B0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(dn(jn,jn.current&1),t.flags|=128,null):n&t.child.childLanes?dC(e,t,n):(dn(jn,jn.current&1),e=va(e,t,n),e!==null?e.sibling:null);dn(jn,jn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dn(jn,jn.current),r)break;return null;case 22:case 23:return t.lanes=0,lC(e,t,n)}return va(e,t,n)}var hC,Qm,pC,mC;hC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qm=function(){};pC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(Ri.current);var o=null;switch(n){case"input":i=vm(e,i),r=vm(e,r),o=[];break;case"select":i=Dn({},i,{value:void 0}),r=Dn({},r,{value:void 0}),o=[];break;case"textarea":i=bm(e,i),r=bm(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=O0)}Nm(n,r);var d;n=null;for(v in i)if(!r.hasOwnProperty(v)&&i.hasOwnProperty(v)&&i[v]!=null)if(v==="style"){var x=i[v];for(d in x)x.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Wu.hasOwnProperty(v)?o||(o=[]):(o=o||[]).push(v,null));for(v in r){var g=r[v];if(x=i!=null?i[v]:void 0,r.hasOwnProperty(v)&&g!==x&&(g!=null||x!=null))if(v==="style")if(x){for(d in x)!x.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in g)g.hasOwnProperty(d)&&x[d]!==g[d]&&(n||(n={}),n[d]=g[d])}else n||(o||(o=[]),o.push(v,n)),n=g;else v==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,x=x?x.__html:void 0,g!=null&&x!==g&&(o=o||[]).push(v,g)):v==="children"?typeof g!="string"&&typeof g!="number"||(o=o||[]).push(v,""+g):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Wu.hasOwnProperty(v)?(g!=null&&v==="onScroll"&&mn("scroll",e),o||x===g||(o=[])):(o=o||[]).push(v,g))}n&&(o=o||[]).push("style",n);var v=o;(t.updateQueue=v)&&(t.flags|=4)}};mC=function(e,t,n,r){n!==r&&(t.flags|=4)};function yu(e,t){if(!Nn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bT(e,t,n){var r=t.pendingProps;switch(fg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(t),null;case 1:return rs(t.type)&&M0(),Tr(t),null;case 3:return r=t.stateNode,pc(),gn(ns),gn(Or),bg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,oi!==null&&(sx(oi),oi=null))),Qm(e,t),Tr(t),null;case 5:wg(t);var i=Xo(ed.current);if(n=t.type,e!==null&&t.stateNode!=null)pC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ie(166));return Tr(t),null}if(e=Xo(Ri.current),zf(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ji]=t,r[Zu]=o,e=(t.mode&1)!==0,n){case"dialog":mn("cancel",r),mn("close",r);break;case"iframe":case"object":case"embed":mn("load",r);break;case"video":case"audio":for(i=0;i<ku.length;i++)mn(ku[i],r);break;case"source":mn("error",r);break;case"img":case"image":case"link":mn("error",r),mn("load",r);break;case"details":mn("toggle",r);break;case"input":Ey(r,o),mn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},mn("invalid",r);break;case"textarea":Sy(r,o),mn("invalid",r)}Nm(n,o),i=null;for(var d in o)if(o.hasOwnProperty(d)){var x=o[d];d==="children"?typeof x=="string"?r.textContent!==x&&(o.suppressHydrationWarning!==!0&&Uf(r.textContent,x,e),i=["children",x]):typeof x=="number"&&r.textContent!==""+x&&(o.suppressHydrationWarning!==!0&&Uf(r.textContent,x,e),i=["children",""+x]):Wu.hasOwnProperty(d)&&x!=null&&d==="onScroll"&&mn("scroll",r)}switch(n){case"input":If(r),_y(r,o,!0);break;case"textarea":If(r),Ay(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=O0)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=H3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[ji]=t,e[Zu]=r,hC(e,t,!1,!1),t.stateNode=e;e:{switch(d=Em(n,r),n){case"dialog":mn("cancel",e),mn("close",e),i=r;break;case"iframe":case"object":case"embed":mn("load",e),i=r;break;case"video":case"audio":for(i=0;i<ku.length;i++)mn(ku[i],e);i=r;break;case"source":mn("error",e),i=r;break;case"img":case"image":case"link":mn("error",e),mn("load",e),i=r;break;case"details":mn("toggle",e),i=r;break;case"input":Ey(e,r),i=vm(e,r),mn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Dn({},r,{value:void 0}),mn("invalid",e);break;case"textarea":Sy(e,r),i=bm(e,r),mn("invalid",e);break;default:i=r}Nm(n,i),x=i;for(o in x)if(x.hasOwnProperty(o)){var g=x[o];o==="style"?Y3(e,g):o==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&q3(e,g)):o==="children"?typeof g=="string"?(n!=="textarea"||g!=="")&&Hu(e,g):typeof g=="number"&&Hu(e,""+g):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Wu.hasOwnProperty(o)?g!=null&&o==="onScroll"&&mn("scroll",e):g!=null&&Kx(e,o,g,d))}switch(n){case"input":If(e),_y(e,r,!1);break;case"textarea":If(e),Ay(e);break;case"option":r.value!=null&&e.setAttribute("value",""+co(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ec(e,!!r.multiple,o,!1):r.defaultValue!=null&&ec(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=O0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tr(t),null;case 6:if(e&&t.stateNode!=null)mC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ie(166));if(n=Xo(ed.current),Xo(Ri.current),zf(t)){if(r=t.stateNode,n=t.memoizedProps,r[ji]=t,(o=r.nodeValue!==n)&&(e=bs,e!==null))switch(e.tag){case 3:Uf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uf(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ji]=t,t.stateNode=r}return Tr(t),null;case 13:if(gn(jn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Nn&&ys!==null&&t.mode&1&&!(t.flags&128))R4(),fc(),t.flags|=98560,o=!1;else if(o=zf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Ie(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ie(317));o[ji]=t}else fc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tr(t),o=!1}else oi!==null&&(sx(oi),oi=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||jn.current&1?or===0&&(or=3):Rg())),t.updateQueue!==null&&(t.flags|=4),Tr(t),null);case 4:return pc(),Qm(e,t),e===null&&Qu(t.stateNode.containerInfo),Tr(t),null;case 10:return xg(t.type._context),Tr(t),null;case 17:return rs(t.type)&&M0(),Tr(t),null;case 19:if(gn(jn),o=t.memoizedState,o===null)return Tr(t),null;if(r=(t.flags&128)!==0,d=o.rendering,d===null)if(r)yu(o,!1);else{if(or!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=W0(e),d!==null){for(t.flags|=128,yu(o,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,d=o.alternate,d===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,e=d.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return dn(jn,jn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Yn()>xc&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304)}else{if(!r)if(e=W0(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Nn)return Tr(t),null}else 2*Yn()-o.renderingStartTime>xc&&n!==1073741824&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(n=o.last,n!==null?n.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yn(),t.sibling=null,n=jn.current,dn(jn,r?n&1|2:n&1),t):(Tr(t),null);case 22:case 23:return Ig(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gs&1073741824&&(Tr(t),t.subtreeFlags&6&&(t.flags|=8192)):Tr(t),null;case 24:return null;case 25:return null}throw Error(Ie(156,t.tag))}function CT(e,t){switch(fg(t),t.tag){case 1:return rs(t.type)&&M0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pc(),gn(ns),gn(Or),bg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wg(t),null;case 13:if(gn(jn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ie(340));fc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return gn(jn),null;case 4:return pc(),null;case 10:return xg(t.type._context),null;case 22:case 23:return Ig(),null;case 24:return null;default:return null}}var qf=!1,Dr=!1,NT=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Ql(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pn(e,t,r)}else n.current=null}function Km(e,t,n){try{n()}catch(r){Pn(e,t,r)}}var xw=!1;function ET(e,t){if(Om=D0,e=w4(),ug(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var d=0,x=-1,g=-1,v=0,w=0,N=e,_=null;t:for(;;){for(var k;N!==n||i!==0&&N.nodeType!==3||(x=d+i),N!==o||r!==0&&N.nodeType!==3||(g=d+r),N.nodeType===3&&(d+=N.nodeValue.length),(k=N.firstChild)!==null;)_=N,N=k;for(;;){if(N===e)break t;if(_===n&&++v===i&&(x=d),_===o&&++w===r&&(g=d),(k=N.nextSibling)!==null)break;N=_,_=N.parentNode}N=k}n=x===-1||g===-1?null:{start:x,end:g}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mm={focusedElem:e,selectionRange:n},D0=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){t=Ye;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var O=A.memoizedProps,L=A.memoizedState,D=t.stateNode,j=D.getSnapshotBeforeUpdate(t.elementType===t.type?O:ii(t.type,O),L);D.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(W){Pn(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}return A=xw,xw=!1,A}function Fu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Km(t,n,o)}i=i.next}while(i!==r)}}function Ph(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xC(e){var t=e.alternate;t!==null&&(e.alternate=null,xC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ji],delete t[Zu],delete t[Fm],delete t[aT],delete t[oT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gC(e){return e.tag===5||e.tag===3||e.tag===4}function gw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=O0));else if(r!==4&&(e=e.child,e!==null))for(Jm(e,t,n),e=e.sibling;e!==null;)Jm(e,t,n),e=e.sibling}function ex(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ex(e,t,n),e=e.sibling;e!==null;)ex(e,t,n),e=e.sibling}var yr=null,ai=!1;function Ba(e,t,n){for(n=n.child;n!==null;)vC(e,t,n),n=n.sibling}function vC(e,t,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(kh,n)}catch{}switch(n.tag){case 5:Dr||Ql(n,t);case 6:var r=yr,i=ai;yr=null,Ba(e,t,n),yr=r,ai=i,yr!==null&&(ai?(e=yr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):yr.removeChild(n.stateNode));break;case 18:yr!==null&&(ai?(e=yr,n=n.stateNode,e.nodeType===8?P1(e.parentNode,n):e.nodeType===1&&P1(e,n),$u(e)):P1(yr,n.stateNode));break;case 4:r=yr,i=ai,yr=n.stateNode.containerInfo,ai=!0,Ba(e,t,n),yr=r,ai=i;break;case 0:case 11:case 14:case 15:if(!Dr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,d=o.destroy;o=o.tag,d!==void 0&&(o&2||o&4)&&Km(n,t,d),i=i.next}while(i!==r)}Ba(e,t,n);break;case 1:if(!Dr&&(Ql(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(x){Pn(n,t,x)}Ba(e,t,n);break;case 21:Ba(e,t,n);break;case 22:n.mode&1?(Dr=(r=Dr)||n.memoizedState!==null,Ba(e,t,n),Dr=r):Ba(e,t,n);break;default:Ba(e,t,n)}}function vw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new NT),t.forEach(function(r){var i=RT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ri(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,d=t,x=d;e:for(;x!==null;){switch(x.tag){case 5:yr=x.stateNode,ai=!1;break e;case 3:yr=x.stateNode.containerInfo,ai=!0;break e;case 4:yr=x.stateNode.containerInfo,ai=!0;break e}x=x.return}if(yr===null)throw Error(Ie(160));vC(o,d,i),yr=null,ai=!1;var g=i.alternate;g!==null&&(g.return=null),i.return=null}catch(v){Pn(i,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yC(t,e),t=t.sibling}function yC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ri(t,e),bi(e),r&4){try{Fu(3,e,e.return),Ph(3,e)}catch(O){Pn(e,e.return,O)}try{Fu(5,e,e.return)}catch(O){Pn(e,e.return,O)}}break;case 1:ri(t,e),bi(e),r&512&&n!==null&&Ql(n,n.return);break;case 5:if(ri(t,e),bi(e),r&512&&n!==null&&Ql(n,n.return),e.flags&32){var i=e.stateNode;try{Hu(i,"")}catch(O){Pn(e,e.return,O)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,d=n!==null?n.memoizedProps:o,x=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{x==="input"&&o.type==="radio"&&o.name!=null&&z3(i,o),Em(x,d);var v=Em(x,o);for(d=0;d<g.length;d+=2){var w=g[d],N=g[d+1];w==="style"?Y3(i,N):w==="dangerouslySetInnerHTML"?q3(i,N):w==="children"?Hu(i,N):Kx(i,w,N,v)}switch(x){case"input":ym(i,o);break;case"textarea":W3(i,o);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var k=o.value;k!=null?ec(i,!!o.multiple,k,!1):_!==!!o.multiple&&(o.defaultValue!=null?ec(i,!!o.multiple,o.defaultValue,!0):ec(i,!!o.multiple,o.multiple?[]:"",!1))}i[Zu]=o}catch(O){Pn(e,e.return,O)}}break;case 6:if(ri(t,e),bi(e),r&4){if(e.stateNode===null)throw Error(Ie(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(O){Pn(e,e.return,O)}}break;case 3:if(ri(t,e),bi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$u(t.containerInfo)}catch(O){Pn(e,e.return,O)}break;case 4:ri(t,e),bi(e);break;case 13:ri(t,e),bi(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Tg=Yn())),r&4&&vw(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(Dr=(v=Dr)||w,ri(t,e),Dr=v):ri(t,e),bi(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!w&&e.mode&1)for(Ye=e,w=e.child;w!==null;){for(N=Ye=w;Ye!==null;){switch(_=Ye,k=_.child,_.tag){case 0:case 11:case 14:case 15:Fu(4,_,_.return);break;case 1:Ql(_,_.return);var A=_.stateNode;if(typeof A.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(O){Pn(r,n,O)}}break;case 5:Ql(_,_.return);break;case 22:if(_.memoizedState!==null){ww(N);continue}}k!==null?(k.return=_,Ye=k):ww(N)}w=w.sibling}e:for(w=null,N=e;;){if(N.tag===5){if(w===null){w=N;try{i=N.stateNode,v?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(x=N.stateNode,g=N.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,x.style.display=V3("display",d))}catch(O){Pn(e,e.return,O)}}}else if(N.tag===6){if(w===null)try{N.stateNode.nodeValue=v?"":N.memoizedProps}catch(O){Pn(e,e.return,O)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;w===N&&(w=null),N=N.return}w===N&&(w=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:ri(t,e),bi(e),r&4&&vw(e);break;case 21:break;default:ri(t,e),bi(e)}}function bi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gC(n)){var r=n;break e}n=n.return}throw Error(Ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Hu(i,""),r.flags&=-33);var o=gw(e);ex(e,o,i);break;case 3:case 4:var d=r.stateNode.containerInfo,x=gw(e);Jm(e,x,d);break;default:throw Error(Ie(161))}}catch(g){Pn(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _T(e,t,n){Ye=e,wC(e)}function wC(e,t,n){for(var r=(e.mode&1)!==0;Ye!==null;){var i=Ye,o=i.child;if(i.tag===22&&r){var d=i.memoizedState!==null||qf;if(!d){var x=i.alternate,g=x!==null&&x.memoizedState!==null||Dr;x=qf;var v=Dr;if(qf=d,(Dr=g)&&!v)for(Ye=i;Ye!==null;)d=Ye,g=d.child,d.tag===22&&d.memoizedState!==null?bw(i):g!==null?(g.return=d,Ye=g):bw(i);for(;o!==null;)Ye=o,wC(o),o=o.sibling;Ye=i,qf=x,Dr=v}yw(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ye=o):yw(e)}}function yw(e){for(;Ye!==null;){var t=Ye;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dr||Ph(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Dr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ii(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&rw(t,o,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rw(t,d,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&n.focus();break;case"img":g.src&&(n.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var w=v.memoizedState;if(w!==null){var N=w.dehydrated;N!==null&&$u(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}Dr||t.flags&512&&Zm(t)}catch(_){Pn(t,t.return,_)}}if(t===e){Ye=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function ww(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function bw(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ph(4,t)}catch(g){Pn(t,n,g)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(g){Pn(t,i,g)}}var o=t.return;try{Zm(t)}catch(g){Pn(t,o,g)}break;case 5:var d=t.return;try{Zm(t)}catch(g){Pn(t,d,g)}}}catch(g){Pn(t,t.return,g)}if(t===e){Ye=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Ye=x;break}Ye=t.return}}var ST=Math.ceil,V0=Na.ReactCurrentDispatcher,jg=Na.ReactCurrentOwner,Vs=Na.ReactCurrentBatchConfig,Ft=0,pr=null,Jn=null,wr=0,gs=0,Kl=mo(0),or=0,sd=null,ol=0,Fh=0,kg=0,Bu=null,es=null,Tg=0,xc=1/0,sa=null,Y0=!1,tx=null,ro=null,Vf=!1,Xa=null,$0=0,Uu=0,nx=null,d0=-1,f0=0;function qr(){return Ft&6?Yn():d0!==-1?d0:d0=Yn()}function so(e){return e.mode&1?Ft&2&&wr!==0?wr&-wr:cT.transition!==null?(f0===0&&(f0=s4()),f0):(e=rn,e!==0||(e=window.event,e=e===void 0?16:d4(e.type)),e):1}function ci(e,t,n,r){if(50<Uu)throw Uu=0,nx=null,Error(Ie(185));xd(e,n,r),(!(Ft&2)||e!==pr)&&(e===pr&&(!(Ft&2)&&(Fh|=n),or===4&&Ya(e,wr)),ss(e,r),n===1&&Ft===0&&!(t.mode&1)&&(xc=Yn()+500,Oh&&xo()))}function ss(e,t){var n=e.callbackNode;ck(e,t);var r=T0(e,e===pr?wr:0);if(r===0)n!==null&&Ty(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ty(n),t===1)e.tag===0?lT(Cw.bind(null,e)):T4(Cw.bind(null,e)),sT(function(){!(Ft&6)&&xo()}),n=null;else{switch(i4(r)){case 1:n=ng;break;case 4:n=n4;break;case 16:n=k0;break;case 536870912:n=r4;break;default:n=k0}n=jC(n,bC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bC(e,t){if(d0=-1,f0=0,Ft&6)throw Error(Ie(327));var n=e.callbackNode;if(ic()&&e.callbackNode!==n)return null;var r=T0(e,e===pr?wr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=G0(e,r);else{t=r;var i=Ft;Ft|=2;var o=NC();(pr!==e||wr!==t)&&(sa=null,xc=Yn()+500,Jo(e,t));do try{kT();break}catch(x){CC(e,x)}while(1);mg(),V0.current=o,Ft=i,Jn!==null?t=0:(pr=null,wr=0,t=or)}if(t!==0){if(t===2&&(i=km(e),i!==0&&(r=i,t=rx(e,i))),t===1)throw n=sd,Jo(e,0),Ya(e,r),ss(e,Yn()),n;if(t===6)Ya(e,r);else{if(i=e.current.alternate,!(r&30)&&!AT(i)&&(t=G0(e,r),t===2&&(o=km(e),o!==0&&(r=o,t=rx(e,o))),t===1))throw n=sd,Jo(e,0),Ya(e,r),ss(e,Yn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ie(345));case 2:qo(e,es,sa);break;case 3:if(Ya(e,r),(r&130023424)===r&&(t=Tg+500-Yn(),10<t)){if(T0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){qr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Pm(qo.bind(null,e,es,sa),t);break}qo(e,es,sa);break;case 4:if(Ya(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var d=31-li(r);o=1<<d,d=t[d],d>i&&(i=d),r&=~o}if(r=i,r=Yn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ST(r/1960))-r,10<r){e.timeoutHandle=Pm(qo.bind(null,e,es,sa),r);break}qo(e,es,sa);break;case 5:qo(e,es,sa);break;default:throw Error(Ie(329))}}}return ss(e,Yn()),e.callbackNode===n?bC.bind(null,e):null}function rx(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(Jo(e,t).flags|=256),e=G0(e,t),e!==2&&(t=es,es=n,t!==null&&sx(t)),e}function sx(e){es===null?es=e:es.push.apply(es,e)}function AT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!fi(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ya(e,t){for(t&=~kg,t&=~Fh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-li(t),r=1<<n;e[n]=-1,t&=~r}}function Cw(e){if(Ft&6)throw Error(Ie(327));ic();var t=T0(e,0);if(!(t&1))return ss(e,Yn()),null;var n=G0(e,t);if(e.tag!==0&&n===2){var r=km(e);r!==0&&(t=r,n=rx(e,r))}if(n===1)throw n=sd,Jo(e,0),Ya(e,t),ss(e,Yn()),n;if(n===6)throw Error(Ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qo(e,es,sa),ss(e,Yn()),null}function Dg(e,t){var n=Ft;Ft|=1;try{return e(t)}finally{Ft=n,Ft===0&&(xc=Yn()+500,Oh&&xo())}}function ll(e){Xa!==null&&Xa.tag===0&&!(Ft&6)&&ic();var t=Ft;Ft|=1;var n=Vs.transition,r=rn;try{if(Vs.transition=null,rn=1,e)return e()}finally{rn=r,Vs.transition=n,Ft=t,!(Ft&6)&&xo()}}function Ig(){gs=Kl.current,gn(Kl)}function Jo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rT(n)),Jn!==null)for(n=Jn.return;n!==null;){var r=n;switch(fg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&M0();break;case 3:pc(),gn(ns),gn(Or),bg();break;case 5:wg(r);break;case 4:pc();break;case 13:gn(jn);break;case 19:gn(jn);break;case 10:xg(r.type._context);break;case 22:case 23:Ig()}n=n.return}if(pr=e,Jn=e=io(e.current,null),wr=gs=t,or=0,sd=null,kg=Fh=ol=0,es=Bu=null,Go!==null){for(t=0;t<Go.length;t++)if(n=Go[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var d=o.next;o.next=i,r.next=d}n.pending=r}Go=null}return e}function CC(e,t){do{var n=Jn;try{if(mg(),l0.current=q0,H0){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}H0=!1}if(al=0,hr=ar=Tn=null,Pu=!1,td=0,jg.current=null,n===null||n.return===null){or=1,sd=t,Jn=null;break}e:{var o=e,d=n.return,x=n,g=t;if(t=wr,x.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var v=g,w=x,N=w.tag;if(!(w.mode&1)&&(N===0||N===11||N===15)){var _=w.alternate;_?(w.updateQueue=_.updateQueue,w.memoizedState=_.memoizedState,w.lanes=_.lanes):(w.updateQueue=null,w.memoizedState=null)}var k=cw(d);if(k!==null){k.flags&=-257,uw(k,d,x,o,t),k.mode&1&&lw(o,v,t),t=k,g=v;var A=t.updateQueue;if(A===null){var O=new Set;O.add(g),t.updateQueue=O}else A.add(g);break e}else{if(!(t&1)){lw(o,v,t),Rg();break e}g=Error(Ie(426))}}else if(Nn&&x.mode&1){var L=cw(d);if(L!==null){!(L.flags&65536)&&(L.flags|=256),uw(L,d,x,o,t),hg(mc(g,x));break e}}o=g=mc(g,x),or!==4&&(or=2),Bu===null?Bu=[o]:Bu.push(o),o=d;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var D=iC(o,g,t);nw(o,D);break e;case 1:x=g;var j=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof j.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(ro===null||!ro.has(I)))){o.flags|=65536,t&=-t,o.lanes|=t;var W=aC(o,x,t);nw(o,W);break e}}o=o.return}while(o!==null)}_C(n)}catch(Q){t=Q,Jn===n&&n!==null&&(Jn=n=n.return);continue}break}while(1)}function NC(){var e=V0.current;return V0.current=q0,e===null?q0:e}function Rg(){(or===0||or===3||or===2)&&(or=4),pr===null||!(ol&268435455)&&!(Fh&268435455)||Ya(pr,wr)}function G0(e,t){var n=Ft;Ft|=2;var r=NC();(pr!==e||wr!==t)&&(sa=null,Jo(e,t));do try{jT();break}catch(i){CC(e,i)}while(1);if(mg(),Ft=n,V0.current=r,Jn!==null)throw Error(Ie(261));return pr=null,wr=0,or}function jT(){for(;Jn!==null;)EC(Jn)}function kT(){for(;Jn!==null&&!ek();)EC(Jn)}function EC(e){var t=AC(e.alternate,e,gs);e.memoizedProps=e.pendingProps,t===null?_C(e):Jn=t,jg.current=null}function _C(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CT(n,t),n!==null){n.flags&=32767,Jn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{or=6,Jn=null;return}}else if(n=bT(n,t,gs),n!==null){Jn=n;return}if(t=t.sibling,t!==null){Jn=t;return}Jn=t=e}while(t!==null);or===0&&(or=5)}function qo(e,t,n){var r=rn,i=Vs.transition;try{Vs.transition=null,rn=1,TT(e,t,n,r)}finally{Vs.transition=i,rn=r}return null}function TT(e,t,n,r){do ic();while(Xa!==null);if(Ft&6)throw Error(Ie(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ie(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(uk(e,o),e===pr&&(Jn=pr=null,wr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vf||(Vf=!0,jC(k0,function(){return ic(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Vs.transition,Vs.transition=null;var d=rn;rn=1;var x=Ft;Ft|=4,jg.current=null,ET(e,n),yC(n,e),Qk(Mm),D0=!!Om,Mm=Om=null,e.current=n,_T(n),tk(),Ft=x,rn=d,Vs.transition=o}else e.current=n;if(Vf&&(Vf=!1,Xa=e,$0=i),o=e.pendingLanes,o===0&&(ro=null),sk(n.stateNode),ss(e,Yn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Y0)throw Y0=!1,e=tx,tx=null,e;return $0&1&&e.tag!==0&&ic(),o=e.pendingLanes,o&1?e===nx?Uu++:(Uu=0,nx=e):Uu=0,xo(),null}function ic(){if(Xa!==null){var e=i4($0),t=Vs.transition,n=rn;try{if(Vs.transition=null,rn=16>e?16:e,Xa===null)var r=!1;else{if(e=Xa,Xa=null,$0=0,Ft&6)throw Error(Ie(331));var i=Ft;for(Ft|=4,Ye=e.current;Ye!==null;){var o=Ye,d=o.child;if(Ye.flags&16){var x=o.deletions;if(x!==null){for(var g=0;g<x.length;g++){var v=x[g];for(Ye=v;Ye!==null;){var w=Ye;switch(w.tag){case 0:case 11:case 15:Fu(8,w,o)}var N=w.child;if(N!==null)N.return=w,Ye=N;else for(;Ye!==null;){w=Ye;var _=w.sibling,k=w.return;if(xC(w),w===v){Ye=null;break}if(_!==null){_.return=k,Ye=_;break}Ye=k}}}var A=o.alternate;if(A!==null){var O=A.child;if(O!==null){A.child=null;do{var L=O.sibling;O.sibling=null,O=L}while(O!==null)}}Ye=o}}if(o.subtreeFlags&2064&&d!==null)d.return=o,Ye=d;else e:for(;Ye!==null;){if(o=Ye,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fu(9,o,o.return)}var D=o.sibling;if(D!==null){D.return=o.return,Ye=D;break e}Ye=o.return}}var j=e.current;for(Ye=j;Ye!==null;){d=Ye;var I=d.child;if(d.subtreeFlags&2064&&I!==null)I.return=d,Ye=I;else e:for(d=j;Ye!==null;){if(x=Ye,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Ph(9,x)}}catch(Q){Pn(x,x.return,Q)}if(x===d){Ye=null;break e}var W=x.sibling;if(W!==null){W.return=x.return,Ye=W;break e}Ye=x.return}}if(Ft=i,xo(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(kh,e)}catch{}r=!0}return r}finally{rn=n,Vs.transition=t}}return!1}function Nw(e,t,n){t=mc(n,t),t=iC(e,t,1),e=no(e,t,1),t=qr(),e!==null&&(xd(e,1,t),ss(e,t))}function Pn(e,t,n){if(e.tag===3)Nw(e,e,n);else for(;t!==null;){if(t.tag===3){Nw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ro===null||!ro.has(r))){e=mc(n,e),e=aC(t,e,1),t=no(t,e,1),e=qr(),t!==null&&(xd(t,1,e),ss(t,e));break}}t=t.return}}function DT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qr(),e.pingedLanes|=e.suspendedLanes&n,pr===e&&(wr&n)===n&&(or===4||or===3&&(wr&130023424)===wr&&500>Yn()-Tg?Jo(e,0):kg|=n),ss(e,t)}function SC(e,t){t===0&&(e.mode&1?(t=Mf,Mf<<=1,!(Mf&130023424)&&(Mf=4194304)):t=1);var n=qr();e=ga(e,t),e!==null&&(xd(e,t,n),ss(e,n))}function IT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),SC(e,n)}function RT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ie(314))}r!==null&&r.delete(t),SC(e,n)}var AC;AC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ns.current)ts=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ts=!1,wT(e,t,n);ts=!!(e.flags&131072)}else ts=!1,Nn&&t.flags&1048576&&D4(t,F0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;u0(e,t),e=t.pendingProps;var i=dc(t,Or.current);sc(t,n),i=Ng(null,t,r,e,i,n);var o=Eg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rs(r)?(o=!0,L0(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vg(t),i.updater=Lh,t.stateNode=i,i._reactInternals=t,qm(t,r,e,n),t=$m(null,t,r,!0,o,n)):(t.tag=0,Nn&&o&&dg(t),Ur(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(u0(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=MT(r),e=ii(r,e),i){case 0:t=Ym(null,t,r,e,n);break e;case 1:t=hw(null,t,r,e,n);break e;case 11:t=dw(null,t,r,e,n);break e;case 14:t=fw(null,t,r,ii(r.type,e),n);break e}throw Error(Ie(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ii(r,i),Ym(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ii(r,i),hw(e,t,r,i,n);case 3:e:{if(uC(t),e===null)throw Error(Ie(387));r=t.pendingProps,o=t.memoizedState,i=o.element,P4(e,t),z0(t,r,null,n);var d=t.memoizedState;if(r=d.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=mc(Error(Ie(423)),t),t=pw(e,t,r,n,i);break e}else if(r!==i){i=mc(Error(Ie(424)),t),t=pw(e,t,r,n,i);break e}else for(ys=to(t.stateNode.containerInfo.firstChild),bs=t,Nn=!0,oi=null,n=M4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fc(),r===i){t=va(e,t,n);break e}Ur(e,t,r,n)}t=t.child}return t;case 5:return F4(t),e===null&&zm(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,d=i.children,Lm(r,i)?d=null:o!==null&&Lm(r,o)&&(t.flags|=32),cC(e,t),Ur(e,t,d,n),t.child;case 6:return e===null&&zm(t),null;case 13:return dC(e,t,n);case 4:return yg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hc(t,null,r,n):Ur(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ii(r,i),dw(e,t,r,i,n);case 7:return Ur(e,t,t.pendingProps,n),t.child;case 8:return Ur(e,t,t.pendingProps.children,n),t.child;case 12:return Ur(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,d=i.value,dn(B0,r._currentValue),r._currentValue=d,o!==null)if(fi(o.value,d)){if(o.children===i.children&&!ns.current){t=va(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var x=o.dependencies;if(x!==null){d=o.child;for(var g=x.firstContext;g!==null;){if(g.context===r){if(o.tag===1){g=ca(-1,n&-n),g.tag=2;var v=o.updateQueue;if(v!==null){v=v.shared;var w=v.pending;w===null?g.next=g:(g.next=w.next,w.next=g),v.pending=g}}o.lanes|=n,g=o.alternate,g!==null&&(g.lanes|=n),Wm(o.return,n,t),x.lanes|=n;break}g=g.next}}else if(o.tag===10)d=o.type===t.type?null:o.child;else if(o.tag===18){if(d=o.return,d===null)throw Error(Ie(341));d.lanes|=n,x=d.alternate,x!==null&&(x.lanes|=n),Wm(d,n,t),d=o.sibling}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===t){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}Ur(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,sc(t,n),i=Ys(i),r=r(i),t.flags|=1,Ur(e,t,r,n),t.child;case 14:return r=t.type,i=ii(r,t.pendingProps),i=ii(r.type,i),fw(e,t,r,i,n);case 15:return oC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ii(r,i),u0(e,t),t.tag=1,rs(r)?(e=!0,L0(t)):e=!1,sc(t,n),sC(t,r,i),qm(t,r,i,n),$m(null,t,r,!0,e,n);case 19:return fC(e,t,n);case 22:return lC(e,t,n)}throw Error(Ie(156,t.tag))};function jC(e,t){return t4(e,t)}function OT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(e,t,n,r){return new OT(e,t,n,r)}function Og(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MT(e){if(typeof e=="function")return Og(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jx)return 11;if(e===eg)return 14}return 2}function io(e,t){var n=e.alternate;return n===null?(n=qs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function h0(e,t,n,r,i,o){var d=2;if(r=e,typeof e=="function")Og(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case zl:return el(n.children,i,o,t);case Zx:d=8,i|=8;break;case pm:return e=qs(12,n,t,i|2),e.elementType=pm,e.lanes=o,e;case mm:return e=qs(13,n,t,i),e.elementType=mm,e.lanes=o,e;case xm:return e=qs(19,n,t,i),e.elementType=xm,e.lanes=o,e;case F3:return Bh(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L3:d=10;break e;case P3:d=9;break e;case Jx:d=11;break e;case eg:d=14;break e;case Wa:d=16,r=null;break e}throw Error(Ie(130,e==null?e:typeof e,""))}return t=qs(d,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function el(e,t,n,r){return e=qs(7,e,r,t),e.lanes=n,e}function Bh(e,t,n,r){return e=qs(22,e,r,t),e.elementType=F3,e.lanes=n,e.stateNode={isHidden:!1},e}function V1(e,t,n){return e=qs(6,e,null,t),e.lanes=n,e}function Y1(e,t,n){return t=qs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=S1(0),this.expirationTimes=S1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mg(e,t,n,r,i,o,d,x,g){return e=new LT(e,t,n,x,g),t===1?(t=1,o===!0&&(t|=8)):t=0,o=qs(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vg(o),e}function PT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kC(e){if(!e)return uo;e=e._reactInternals;e:{if(ml(e)!==e||e.tag!==1)throw Error(Ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ie(171))}if(e.tag===1){var n=e.type;if(rs(n))return k4(e,n,t)}return t}function TC(e,t,n,r,i,o,d,x,g){return e=Mg(n,r,!0,e,i,o,d,x,g),e.context=kC(null),n=e.current,r=qr(),i=so(n),o=ca(r,i),o.callback=t??null,no(n,o,i),e.current.lanes=i,xd(e,i,r),ss(e,r),e}function Uh(e,t,n,r){var i=t.current,o=qr(),d=so(i);return n=kC(n),t.context===null?t.context=n:t.pendingContext=n,t=ca(o,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=no(i,t,d),e!==null&&(ci(e,i,d,o),o0(e,i,d)),d}function X0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ew(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lg(e,t){Ew(e,t),(e=e.alternate)&&Ew(e,t)}function FT(){return null}var DC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pg(e){this._internalRoot=e}zh.prototype.render=Pg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ie(409));Uh(e,t,null,null)};zh.prototype.unmount=Pg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ll(function(){Uh(null,e,null,null)}),t[xa]=null}};function zh(e){this._internalRoot=e}zh.prototype.unstable_scheduleHydration=function(e){if(e){var t=l4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Va.length&&t!==0&&t<Va[n].priority;n++);Va.splice(n,0,e),n===0&&u4(e)}};function Fg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _w(){}function BT(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var v=X0(d);o.call(v)}}var d=TC(t,r,e,0,null,!1,!1,"",_w);return e._reactRootContainer=d,e[xa]=d.current,Qu(e.nodeType===8?e.parentNode:e),ll(),d}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var x=r;r=function(){var v=X0(g);x.call(v)}}var g=Mg(e,0,!1,null,null,!1,!1,"",_w);return e._reactRootContainer=g,e[xa]=g.current,Qu(e.nodeType===8?e.parentNode:e),ll(function(){Uh(t,g,n,r)}),g}function Hh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var d=o;if(typeof i=="function"){var x=i;i=function(){var g=X0(d);x.call(g)}}Uh(t,d,e,i)}else d=BT(n,t,e,i,r);return X0(d)}a4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ju(t.pendingLanes);n!==0&&(rg(t,n|1),ss(t,Yn()),!(Ft&6)&&(xc=Yn()+500,xo()))}break;case 13:ll(function(){var r=ga(e,1);if(r!==null){var i=qr();ci(r,e,1,i)}}),Lg(e,1)}};sg=function(e){if(e.tag===13){var t=ga(e,134217728);if(t!==null){var n=qr();ci(t,e,134217728,n)}Lg(e,134217728)}};o4=function(e){if(e.tag===13){var t=so(e),n=ga(e,t);if(n!==null){var r=qr();ci(n,e,t,r)}Lg(e,t)}};l4=function(){return rn};c4=function(e,t){var n=rn;try{return rn=e,t()}finally{rn=n}};Sm=function(e,t,n){switch(t){case"input":if(ym(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Rh(r);if(!i)throw Error(Ie(90));U3(r),ym(r,i)}}}break;case"textarea":W3(e,n);break;case"select":t=n.value,t!=null&&ec(e,!!n.multiple,t,!1)}};X3=Dg;Q3=ll;var UT={usingClientEntryPoint:!1,Events:[vd,Vl,Rh,$3,G3,Dg]},wu={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zT={bundleType:wu.bundleType,version:wu.version,rendererPackageName:wu.rendererPackageName,rendererConfig:wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Na.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=J3(e),e===null?null:e.stateNode},findFiberByHostInstance:wu.findFiberByHostInstance||FT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{kh=Yf.inject(zT),Ii=Yf}catch{}}Es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UT;Es.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fg(t))throw Error(Ie(200));return PT(e,t,null,n)};Es.createRoot=function(e,t){if(!Fg(e))throw Error(Ie(299));var n=!1,r="",i=DC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mg(e,1,!1,null,null,n,!1,r,i),e[xa]=t.current,Qu(e.nodeType===8?e.parentNode:e),new Pg(t)};Es.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ie(188)):(e=Object.keys(e).join(","),Error(Ie(268,e)));return e=J3(t),e=e===null?null:e.stateNode,e};Es.flushSync=function(e){return ll(e)};Es.hydrate=function(e,t,n){if(!Wh(t))throw Error(Ie(200));return Hh(null,e,t,!0,n)};Es.hydrateRoot=function(e,t,n){if(!Fg(e))throw Error(Ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",d=DC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=TC(t,null,e,1,n??null,i,!1,o,d),e[xa]=t.current,Qu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new zh(t)};Es.render=function(e,t,n){if(!Wh(t))throw Error(Ie(200));return Hh(null,e,t,!1,n)};Es.unmountComponentAtNode=function(e){if(!Wh(e))throw Error(Ie(40));return e._reactRootContainer?(ll(function(){Hh(null,null,e,!1,function(){e._reactRootContainer=null,e[xa]=null})}),!0):!1};Es.unstable_batchedUpdates=Dg;Es.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wh(n))throw Error(Ie(200));if(e==null||e._reactInternals===void 0)throw Error(Ie(38));return Hh(e,t,n,!1,r)};Es.version="18.3.1-next-f1338f8080-20240426";function IC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IC)}catch(e){console.error(e)}}IC(),I3.exports=Es;var Bg=I3.exports;const WT=Ah(Bg);var Sw=Bg;fm.createRoot=Sw.createRoot,fm.hydrateRoot=Sw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},id.apply(this,arguments)}var Qa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qa||(Qa={}));const Aw="popstate";function HT(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:d,hash:x}=r.location;return ix("",{pathname:o,search:d,hash:x},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Q0(i)}return VT(t,n,null,e)}function Xn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qT(){return Math.random().toString(36).substr(2,8)}function jw(e,t){return{usr:e.state,key:e.key,idx:t}}function ix(e,t,n,r){return n===void 0&&(n=null),id({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tc(t):t,{state:n,key:t&&t.key||r||qT()})}function Q0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Tc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function VT(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,d=i.history,x=Qa.Pop,g=null,v=w();v==null&&(v=0,d.replaceState(id({},d.state,{idx:v}),""));function w(){return(d.state||{idx:null}).idx}function N(){x=Qa.Pop;let L=w(),D=L==null?null:L-v;v=L,g&&g({action:x,location:O.location,delta:D})}function _(L,D){x=Qa.Push;let j=ix(O.location,L,D);n&&n(j,L),v=w()+1;let I=jw(j,v),W=O.createHref(j);try{d.pushState(I,"",W)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(W)}o&&g&&g({action:x,location:O.location,delta:1})}function k(L,D){x=Qa.Replace;let j=ix(O.location,L,D);n&&n(j,L),v=w();let I=jw(j,v),W=O.createHref(j);d.replaceState(I,"",W),o&&g&&g({action:x,location:O.location,delta:0})}function A(L){let D=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof L=="string"?L:Q0(L);return j=j.replace(/ $/,"%20"),Xn(D,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,D)}let O={get action(){return x},get location(){return e(i,d)},listen(L){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(Aw,N),g=L,()=>{i.removeEventListener(Aw,N),g=null}},createHref(L){return t(i,L)},createURL:A,encodeLocation(L){let D=A(L);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:k,go(L){return d.go(L)}};return O}var kw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kw||(kw={}));function YT(e,t,n){return n===void 0&&(n="/"),$T(e,t,n,!1)}function $T(e,t,n,r){let i=typeof t=="string"?Tc(t):t,o=Ug(i.pathname||"/",n);if(o==null)return null;let d=OC(e);GT(d);let x=null;for(let g=0;x==null&&g<d.length;++g){let v=iD(o);x=rD(d[g],v,r)}return x}function OC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,d,x)=>{let g={relativePath:x===void 0?o.path||"":x,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};g.relativePath.startsWith("/")&&(Xn(g.relativePath.startsWith(r),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(r.length));let v=ao([r,g.relativePath]),w=n.concat(g);o.children&&o.children.length>0&&(Xn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),OC(o.children,t,w,v)),!(o.path==null&&!o.index)&&t.push({path:v,score:tD(v,o.index),routesMeta:w})};return e.forEach((o,d)=>{var x;if(o.path===""||!((x=o.path)!=null&&x.includes("?")))i(o,d);else for(let g of MC(o.path))i(o,d,g)}),t}function MC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let d=MC(r.join("/")),x=[];return x.push(...d.map(g=>g===""?o:[o,g].join("/"))),i&&x.push(...d),x.map(g=>e.startsWith("/")&&g===""?"/":g)}function GT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XT=/^:[\w-]+$/,QT=3,KT=2,ZT=1,JT=10,eD=-2,Tw=e=>e==="*";function tD(e,t){let n=e.split("/"),r=n.length;return n.some(Tw)&&(r+=eD),t&&(r+=KT),n.filter(i=>!Tw(i)).reduce((i,o)=>i+(XT.test(o)?QT:o===""?ZT:JT),r)}function nD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function rD(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},o="/",d=[];for(let x=0;x<r.length;++x){let g=r[x],v=x===r.length-1,w=o==="/"?t:t.slice(o.length)||"/",N=Dw({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),_=g.route;if(!N&&v&&n&&!r[r.length-1].route.index&&(N=Dw({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!N)return null;Object.assign(i,N.params),d.push({params:i,pathname:ao([o,N.pathname]),pathnameBase:cD(ao([o,N.pathnameBase])),route:_}),N.pathnameBase!=="/"&&(o=ao([o,N.pathnameBase]))}return d}function Dw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=sD(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],d=o.replace(/(.)\/+$/,"$1"),x=i.slice(1);return{params:r.reduce((v,w,N)=>{let{paramName:_,isOptional:k}=w;if(_==="*"){let O=x[N]||"";d=o.slice(0,o.length-O.length).replace(/(.)\/+$/,"$1")}const A=x[N];return k&&!A?v[_]=void 0:v[_]=(A||"").replace(/%2F/g,"/"),v},{}),pathname:o,pathnameBase:d,pattern:e}}function sD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),RC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,x,g)=>(r.push({paramName:x,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function iD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return RC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ug(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function aD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Tc(e):e;return{pathname:n?n.startsWith("/")?n:oD(n,t):t,search:uD(r),hash:dD(i)}}function oD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $1(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function zg(e,t){let n=lD(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wg(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Tc(e):(i=id({},e),Xn(!i.pathname||!i.pathname.includes("?"),$1("?","pathname","search",i)),Xn(!i.pathname||!i.pathname.includes("#"),$1("#","pathname","hash",i)),Xn(!i.search||!i.search.includes("#"),$1("#","search","hash",i)));let o=e===""||i.pathname==="",d=o?"/":i.pathname,x;if(d==null)x=n;else{let N=t.length-1;if(!r&&d.startsWith("..")){let _=d.split("/");for(;_[0]==="..";)_.shift(),N-=1;i.pathname=_.join("/")}x=N>=0?t[N]:"/"}let g=aD(i,x),v=d&&d!=="/"&&d.endsWith("/"),w=(o||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}const ao=e=>e.join("/").replace(/\/\/+/g,"/"),cD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const LC=["post","put","patch","delete"];new Set(LC);const hD=["get",...LC];new Set(hD);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ad.apply(this,arguments)}const Hg=M.createContext(null),pD=M.createContext(null),go=M.createContext(null),qh=M.createContext(null),Ea=M.createContext({outlet:null,matches:[],isDataRoute:!1}),PC=M.createContext(null);function mD(e,t){let{relative:n}=t===void 0?{}:t;Dc()||Xn(!1);let{basename:r,navigator:i}=M.useContext(go),{hash:o,pathname:d,search:x}=UC(e,{relative:n}),g=d;return r!=="/"&&(g=d==="/"?r:ao([r,d])),i.createHref({pathname:g,search:x,hash:o})}function Dc(){return M.useContext(qh)!=null}function Ic(){return Dc()||Xn(!1),M.useContext(qh).location}function FC(e){M.useContext(go).static||M.useLayoutEffect(e)}function Xs(){let{isDataRoute:e}=M.useContext(Ea);return e?jD():xD()}function xD(){Dc()||Xn(!1);let e=M.useContext(Hg),{basename:t,future:n,navigator:r}=M.useContext(go),{matches:i}=M.useContext(Ea),{pathname:o}=Ic(),d=JSON.stringify(zg(i,n.v7_relativeSplatPath)),x=M.useRef(!1);return FC(()=>{x.current=!0}),M.useCallback(function(v,w){if(w===void 0&&(w={}),!x.current)return;if(typeof v=="number"){r.go(v);return}let N=Wg(v,JSON.parse(d),o,w.relative==="path");e==null&&t!=="/"&&(N.pathname=N.pathname==="/"?t:ao([t,N.pathname])),(w.replace?r.replace:r.push)(N,w.state,w)},[t,r,d,o,e])}function BC(){let{matches:e}=M.useContext(Ea),t=e[e.length-1];return t?t.params:{}}function UC(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=M.useContext(go),{matches:i}=M.useContext(Ea),{pathname:o}=Ic(),d=JSON.stringify(zg(i,r.v7_relativeSplatPath));return M.useMemo(()=>Wg(e,JSON.parse(d),o,n==="path"),[e,d,o,n])}function gD(e,t){return vD(e,t)}function vD(e,t,n,r){Dc()||Xn(!1);let{navigator:i,static:o}=M.useContext(go),{matches:d}=M.useContext(Ea),x=d[d.length-1],g=x?x.params:{};x&&x.pathname;let v=x?x.pathnameBase:"/";x&&x.route;let w=Ic(),N;if(t){var _;let D=typeof t=="string"?Tc(t):t;v==="/"||(_=D.pathname)!=null&&_.startsWith(v)||Xn(!1),N=D}else N=w;let k=N.pathname||"/",A=k;if(v!=="/"){let D=v.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(D.length).join("/")}let O=!o&&n&&n.matches&&n.matches.length>0?n.matches:YT(e,{pathname:A}),L=ND(O&&O.map(D=>Object.assign({},D,{params:Object.assign({},g,D.params),pathname:ao([v,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:ao([v,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),d,n,r);return t&&L?M.createElement(qh.Provider,{value:{location:ad({pathname:"/",search:"",hash:"",state:null,key:"default"},N),navigationType:Qa.Pop}},L):L}function yD(){let e=AD(),t=fD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:i},n):null,o)}const wD=M.createElement(yD,null);class bD extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?M.createElement(Ea.Provider,{value:this.props.routeContext},M.createElement(PC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CD(e){let{routeContext:t,match:n,children:r}=e,i=M.useContext(Hg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Ea.Provider,{value:t},r)}function ND(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let d=e,x=(i=n)==null?void 0:i.errors;if(x!=null){let w=d.findIndex(N=>N.route.id&&(x==null?void 0:x[N.route.id])!==void 0);w>=0||Xn(!1),d=d.slice(0,Math.min(d.length,w+1))}let g=!1,v=-1;if(n&&r&&r.v7_partialHydration)for(let w=0;w<d.length;w++){let N=d[w];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(v=w),N.route.id){let{loaderData:_,errors:k}=n,A=N.route.loader&&_[N.route.id]===void 0&&(!k||k[N.route.id]===void 0);if(N.route.lazy||A){g=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((w,N,_)=>{let k,A=!1,O=null,L=null;n&&(k=x&&N.route.id?x[N.route.id]:void 0,O=N.route.errorElement||wD,g&&(v<0&&_===0?(kD("route-fallback",!1),A=!0,L=null):v===_&&(A=!0,L=N.route.hydrateFallbackElement||null)));let D=t.concat(d.slice(0,_+1)),j=()=>{let I;return k?I=O:A?I=L:N.route.Component?I=M.createElement(N.route.Component,null):N.route.element?I=N.route.element:I=w,M.createElement(CD,{match:N,routeContext:{outlet:w,matches:D,isDataRoute:n!=null},children:I})};return n&&(N.route.ErrorBoundary||N.route.errorElement||_===0)?M.createElement(bD,{location:n.location,revalidation:n.revalidation,component:O,error:k,children:j(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):j()},null)}var zC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zC||{}),K0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(K0||{});function ED(e){let t=M.useContext(Hg);return t||Xn(!1),t}function _D(e){let t=M.useContext(pD);return t||Xn(!1),t}function SD(e){let t=M.useContext(Ea);return t||Xn(!1),t}function WC(e){let t=SD(),n=t.matches[t.matches.length-1];return n.route.id||Xn(!1),n.route.id}function AD(){var e;let t=M.useContext(PC),n=_D(K0.UseRouteError),r=WC(K0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function jD(){let{router:e}=ED(zC.UseNavigateStable),t=WC(K0.UseNavigateStable),n=M.useRef(!1);return FC(()=>{n.current=!0}),M.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ad({fromRouteId:t},o)))},[e,t])}const Iw={};function kD(e,t,n){!t&&!Iw[e]&&(Iw[e]=!0)}function TD(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Z0(e){let{to:t,replace:n,state:r,relative:i}=e;Dc()||Xn(!1);let{future:o,static:d}=M.useContext(go),{matches:x}=M.useContext(Ea),{pathname:g}=Ic(),v=Xs(),w=Wg(t,zg(x,o.v7_relativeSplatPath),g,i==="path"),N=JSON.stringify(w);return M.useEffect(()=>v(JSON.parse(N),{replace:n,state:r,relative:i}),[v,N,i,n,r]),null}function Jr(e){Xn(!1)}function DD(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Qa.Pop,navigator:o,static:d=!1,future:x}=e;Dc()&&Xn(!1);let g=t.replace(/^\/*/,"/"),v=M.useMemo(()=>({basename:g,navigator:o,static:d,future:ad({v7_relativeSplatPath:!1},x)}),[g,x,o,d]);typeof r=="string"&&(r=Tc(r));let{pathname:w="/",search:N="",hash:_="",state:k=null,key:A="default"}=r,O=M.useMemo(()=>{let L=Ug(w,g);return L==null?null:{location:{pathname:L,search:N,hash:_,state:k,key:A},navigationType:i}},[g,w,N,_,k,A,i]);return O==null?null:M.createElement(go.Provider,{value:v},M.createElement(qh.Provider,{children:n,value:O}))}function ID(e){let{children:t,location:n}=e;return gD(ax(t),n)}new Promise(()=>{});function ax(e,t){t===void 0&&(t=[]);let n=[];return M.Children.forEach(e,(r,i)=>{if(!M.isValidElement(r))return;let o=[...t,i];if(r.type===M.Fragment){n.push.apply(n,ax(r.props.children,o));return}r.type!==Jr&&Xn(!1),!r.props.index||!r.props.children||Xn(!1);let d={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=ax(r.props.children,o)),n.push(d)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ox.apply(this,arguments)}function RD(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function OD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MD(e,t){return e.button===0&&(!t||t==="_self")&&!OD(e)}const LD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PD="6";try{window.__reactRouterVersion=PD}catch{}const FD="startTransition",Rw=Gx[FD];function BD(e){let{basename:t,children:n,future:r,window:i}=e,o=M.useRef();o.current==null&&(o.current=HT({window:i,v5Compat:!0}));let d=o.current,[x,g]=M.useState({action:d.action,location:d.location}),{v7_startTransition:v}=r||{},w=M.useCallback(N=>{v&&Rw?Rw(()=>g(N)):g(N)},[g,v]);return M.useLayoutEffect(()=>d.listen(w),[d,w]),M.useEffect(()=>TD(r),[r]),M.createElement(DD,{basename:t,children:n,location:x.location,navigationType:x.action,navigator:d,future:r})}const UD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fn=M.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:d,state:x,target:g,to:v,preventScrollReset:w,viewTransition:N}=t,_=RD(t,LD),{basename:k}=M.useContext(go),A,O=!1;if(typeof v=="string"&&zD.test(v)&&(A=v,UD))try{let I=new URL(window.location.href),W=v.startsWith("//")?new URL(I.protocol+v):new URL(v),Q=Ug(W.pathname,k);W.origin===I.origin&&Q!=null?v=Q+W.search+W.hash:O=!0}catch{}let L=mD(v,{relative:i}),D=WD(v,{replace:d,state:x,target:g,preventScrollReset:w,relative:i,viewTransition:N});function j(I){r&&r(I),I.defaultPrevented||D(I)}return M.createElement("a",ox({},_,{href:A||L,onClick:O||o?r:j,ref:n,target:g}))});var Ow;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ow||(Ow={}));var Mw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Mw||(Mw={}));function WD(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:d,viewTransition:x}=t===void 0?{}:t,g=Xs(),v=Ic(),w=UC(e,{relative:d});return M.useCallback(N=>{if(MD(N,n)){N.preventDefault();let _=r!==void 0?r:Q0(v)===Q0(w);g(e,{replace:_,state:i,preventScrollReset:o,relative:d,viewTransition:x})}},[v,g,w,r,i,n,e,o,d,x])}class Rc{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const n={listener:t};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const od=typeof window>"u"||"Deno"in window;function Fs(){}function HD(e,t){return typeof e=="function"?e(t):e}function lx(e){return typeof e=="number"&&e>=0&&e!==1/0}function HC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zl(e,t,n){return wd(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function qD(e,t,n){return wd(e)?typeof t=="function"?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function qa(e,t,n){return wd(e)?[{...t,queryKey:e},n]:[e||{},t]}function Lw(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:d,stale:x}=e;if(wd(d)){if(r){if(t.queryHash!==qg(d,t.options))return!1}else if(!J0(t.queryKey,d))return!1}if(n!=="all"){const g=t.isActive();if(n==="active"&&!g||n==="inactive"&&g)return!1}return!(typeof x=="boolean"&&t.isStale()!==x||typeof i<"u"&&i!==t.state.fetchStatus||o&&!o(t))}function Pw(e,t){const{exact:n,fetching:r,predicate:i,mutationKey:o}=e;if(wd(o)){if(!t.options.mutationKey)return!1;if(n){if(Qo(t.options.mutationKey)!==Qo(o))return!1}else if(!J0(t.options.mutationKey,o))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function qg(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qo)(e)}function Qo(e){return JSON.stringify(e,(t,n)=>cx(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function J0(e,t){return qC(e,t)}function qC(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!qC(e[n],t[n])):!1}function VC(e,t){if(e===t)return e;const n=Fw(e)&&Fw(t);if(n||cx(e)&&cx(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),o=i.length,d=n?[]:{};let x=0;for(let g=0;g<o;g++){const v=n?g:i[g];d[v]=VC(e[v],t[v]),d[v]===e[v]&&x++}return r===o&&x===r?e:d}return t}function eh(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Fw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function cx(e){if(!Bw(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Bw(n)||!n.hasOwnProperty("isPrototypeOf"))}function Bw(e){return Object.prototype.toString.call(e)==="[object Object]"}function wd(e){return Array.isArray(e)}function YC(e){return new Promise(t=>{setTimeout(t,e)})}function Uw(e){YC(0).then(e)}function VD(){if(typeof AbortController=="function")return new AbortController}function ux(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?VC(e,t):t}class YD extends Rc{constructor(){super(),this.setup=t=>{if(!od&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const th=new YD,zw=["online","offline"];class $D extends Rc{constructor(){super(),this.setup=t=>{if(!od&&window.addEventListener){const n=()=>t();return zw.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{zw.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const nh=new $D;function GD(e){return Math.min(1e3*2**e,3e4)}function Vh(e){return(e??"online")==="online"?nh.isOnline():!0}class $C{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function p0(e){return e instanceof $C}function GC(e){let t=!1,n=0,r=!1,i,o,d;const x=new Promise((L,D)=>{o=L,d=D}),g=L=>{r||(k(new $C(L)),e.abort==null||e.abort())},v=()=>{t=!0},w=()=>{t=!1},N=()=>!th.isFocused()||e.networkMode!=="always"&&!nh.isOnline(),_=L=>{r||(r=!0,e.onSuccess==null||e.onSuccess(L),i==null||i(),o(L))},k=L=>{r||(r=!0,e.onError==null||e.onError(L),i==null||i(),d(L))},A=()=>new Promise(L=>{i=D=>{const j=r||!N();return j&&L(D),j},e.onPause==null||e.onPause()}).then(()=>{i=void 0,r||e.onContinue==null||e.onContinue()}),O=()=>{if(r)return;let L;try{L=e.fn()}catch(D){L=Promise.reject(D)}Promise.resolve(L).then(_).catch(D=>{var j,I;if(r)return;const W=(j=e.retry)!=null?j:3,Q=(I=e.retryDelay)!=null?I:GD,B=typeof Q=="function"?Q(n,D):Q,R=W===!0||typeof W=="number"&&n<W||typeof W=="function"&&W(n,D);if(t||!R){k(D);return}n++,e.onFail==null||e.onFail(n,D),YC(B).then(()=>{if(N())return A()}).then(()=>{t?k(D):O()})})};return Vh(e.networkMode)?O():A().then(O),{promise:x,cancel:g,continue:()=>(i==null?void 0:i())?x:Promise.resolve(),cancelRetry:v,continueRetry:w}}const Vg=console;function XD(){let e=[],t=0,n=w=>{w()},r=w=>{w()};const i=w=>{let N;t++;try{N=w()}finally{t--,t||x()}return N},o=w=>{t?e.push(w):Uw(()=>{n(w)})},d=w=>(...N)=>{o(()=>{w(...N)})},x=()=>{const w=e;e=[],w.length&&Uw(()=>{r(()=>{w.forEach(N=>{n(N)})})})};return{batch:i,batchCalls:d,schedule:o,setNotifyFunction:w=>{n=w},setBatchNotifyFunction:w=>{r=w}}}const Un=XD();class XC{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lx(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(od?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class QD extends XC{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||Vg,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||KD(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=ux(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(Fs).catch(Fs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!HC(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var o;return(o=this.retryer)==null||o.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const k=this.observers.find(A=>A.options.queryFn);k&&this.setOptions(k.options)}const d=VD(),x={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},g=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{if(d)return this.abortSignalConsumed=!0,d.signal}})};g(x);const v=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(x)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),w={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:v};if(g(w),(r=this.options.behavior)==null||r.onFetch(w),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=w.fetchOptions)==null?void 0:i.meta)){var N;this.dispatch({type:"fetch",meta:(N=w.fetchOptions)==null?void 0:N.meta})}const _=k=>{if(p0(k)&&k.silent||this.dispatch({type:"error",error:k}),!p0(k)){var A,O,L,D;(A=(O=this.cache.config).onError)==null||A.call(O,k,this),(L=(D=this.cache.config).onSettled)==null||L.call(D,this.state.data,k,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=GC({fn:w.fetchFn,abort:d==null?void 0:d.abort.bind(d),onSuccess:k=>{var A,O,L,D;if(typeof k>"u"){_(new Error(this.queryHash+" data is undefined"));return}this.setData(k),(A=(O=this.cache.config).onSuccess)==null||A.call(O,k,this),(L=(D=this.cache.config).onSettled)==null||L.call(D,k,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:_,onFail:(k,A)=>{this.dispatch({type:"failed",failureCount:k,error:A})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:w.options.retry,retryDelay:w.options.retryDelay,networkMode:w.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var i,o;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:Vh(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=t.dataUpdatedAt)!=null?o:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const d=t.error;return p0(d)&&d.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:d,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function KD(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class ZD extends Rc{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var i;const o=n.queryKey,d=(i=n.queryHash)!=null?i:qg(o,n);let x=this.get(d);return x||(x=new QD({cache:this,logger:t.getLogger(),queryKey:o,queryHash:d,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(x)),x}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){Un.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=qa(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>Lw(r,i))}findAll(t,n){const[r]=qa(t,n);return Object.keys(r).length>0?this.queries.filter(i=>Lw(r,i)):this.queries}notify(t){Un.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}onFocus(){Un.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){Un.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class JD extends XC{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||Vg,this.observers=[],this.state=t.state||QC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var R;return this.retryer=GC({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(q,V)=>{this.dispatch({type:"failed",failureCount:q,error:V})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(R=this.options.retry)!=null?R:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,o,d,x,g,v,w;if(!n){var N,_,k,A;this.dispatch({type:"loading",variables:this.options.variables}),await((N=(_=this.mutationCache.config).onMutate)==null?void 0:N.call(_,this.state.variables,this));const q=await((k=(A=this.options).onMutate)==null?void 0:k.call(A,this.state.variables));q!==this.state.context&&this.dispatch({type:"loading",context:q,variables:this.state.variables})}const R=await t();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,R,this.state.variables,this.state.context,this)),await((o=(d=this.options).onSuccess)==null?void 0:o.call(d,R,this.state.variables,this.state.context)),await((x=(g=this.mutationCache.config).onSettled)==null?void 0:x.call(g,R,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,R,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:R}),R}catch(R){try{var O,L,D,j,I,W,Q,B;throw await((O=(L=this.mutationCache.config).onError)==null?void 0:O.call(L,R,this.state.variables,this.state.context,this)),await((D=(j=this.options).onError)==null?void 0:D.call(j,R,this.state.variables,this.state.context)),await((I=(W=this.mutationCache.config).onSettled)==null?void 0:I.call(W,void 0,R,this.state.variables,this.state.context,this)),await((Q=(B=this.options).onSettled)==null?void 0:Q.call(B,void 0,R,this.state.variables,this.state.context)),R}finally{this.dispatch({type:"error",error:R})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Vh(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),Un.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function QC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class e7 extends Rc{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const i=new JD({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){Un.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>Pw(t,n))}findAll(t){return this.mutations.filter(n=>Pw(t,n))}notify(t){Un.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return Un.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Fs)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function dx(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,i,o,d;const x=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,g=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,v=g==null?void 0:g.pageParam,w=(g==null?void 0:g.direction)==="forward",N=(g==null?void 0:g.direction)==="backward",_=((o=e.state.data)==null?void 0:o.pages)||[],k=((d=e.state.data)==null?void 0:d.pageParams)||[];let A=k,O=!1;const L=B=>{Object.defineProperty(B,"signal",{enumerable:!0,get:()=>{var R;if((R=e.signal)!=null&&R.aborted)O=!0;else{var q;(q=e.signal)==null||q.addEventListener("abort",()=>{O=!0})}return e.signal}})},D=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),j=(B,R,q,V)=>(A=V?[R,...A]:[...A,R],V?[q,...B]:[...B,q]),I=(B,R,q,V)=>{if(O)return Promise.reject("Cancelled");if(typeof q>"u"&&!R&&B.length)return Promise.resolve(B);const te={queryKey:e.queryKey,pageParam:q,meta:e.options.meta};L(te);const ce=D(te);return Promise.resolve(ce).then(oe=>j(B,q,oe,V))};let W;if(!_.length)W=I([]);else if(w){const B=typeof v<"u",R=B?v:fx(e.options,_);W=I(_,B,R)}else if(N){const B=typeof v<"u",R=B?v:KC(e.options,_);W=I(_,B,R,!0)}else{A=[];const B=typeof e.options.getNextPageParam>"u";W=(x&&_[0]?x(_[0],0,_):!0)?I([],B,k[0]):Promise.resolve(j([],k[0],_[0]));for(let q=1;q<_.length;q++)W=W.then(V=>{if(x&&_[q]?x(_[q],q,_):!0){const ce=B?k[q]:fx(e.options,V);return I(V,B,ce)}return Promise.resolve(j(V,k[q],_[q]))})}return W.then(B=>({pages:B,pageParams:A}))}}}}function fx(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function KC(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}function t7(e,t){if(e.getNextPageParam&&Array.isArray(t)){const n=fx(e,t);return typeof n<"u"&&n!==null&&n!==!1}}function n7(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){const n=KC(e,t);return typeof n<"u"&&n!==null&&n!==!1}}class r7{constructor(t={}){this.queryCache=t.queryCache||new ZD,this.mutationCache=t.mutationCache||new e7,this.logger=t.logger||Vg,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=th.subscribe(()=>{th.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=nh.subscribe(()=>{nh.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=qa(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const i=Zl(t,n,r),o=this.getQueryData(i.queryKey);return o?Promise.resolve(o):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.queryCache.find(t),o=i==null?void 0:i.state.data,d=HD(n,o);if(typeof d>"u")return;const x=Zl(t),g=this.defaultQueryOptions(x);return this.queryCache.build(this,g).setData(d,{...r,manual:!0})}setQueriesData(t,n,r){return Un.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=qa(t,n),i=this.queryCache;Un.batch(()=>{i.findAll(r).forEach(o=>{i.remove(o)})})}resetQueries(t,n,r){const[i,o]=qa(t,n,r),d=this.queryCache,x={type:"active",...i};return Un.batch(()=>(d.findAll(i).forEach(g=>{g.reset()}),this.refetchQueries(x,o)))}cancelQueries(t,n,r){const[i,o={}]=qa(t,n,r);typeof o.revert>"u"&&(o.revert=!0);const d=Un.batch(()=>this.queryCache.findAll(i).map(x=>x.cancel(o)));return Promise.all(d).then(Fs).catch(Fs)}invalidateQueries(t,n,r){const[i,o]=qa(t,n,r);return Un.batch(()=>{var d,x;if(this.queryCache.findAll(i).forEach(v=>{v.invalidate()}),i.refetchType==="none")return Promise.resolve();const g={...i,type:(d=(x=i.refetchType)!=null?x:i.type)!=null?d:"active"};return this.refetchQueries(g,o)})}refetchQueries(t,n,r){const[i,o]=qa(t,n,r),d=Un.batch(()=>this.queryCache.findAll(i).filter(g=>!g.isDisabled()).map(g=>{var v;return g.fetch(void 0,{...o,cancelRefetch:(v=o==null?void 0:o.cancelRefetch)!=null?v:!0,meta:{refetchPage:i.refetchPage}})}));let x=Promise.all(d).then(Fs);return o!=null&&o.throwOnError||(x=x.catch(Fs)),x}fetchQuery(t,n,r){const i=Zl(t,n,r),o=this.defaultQueryOptions(i);typeof o.retry>"u"&&(o.retry=!1);const d=this.queryCache.build(this,o);return d.isStaleByTime(o.staleTime)?d.fetch(o):Promise.resolve(d.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(Fs).catch(Fs)}fetchInfiniteQuery(t,n,r){const i=Zl(t,n,r);return i.behavior=dx(),this.fetchQuery(i)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(Fs).catch(Fs)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(i=>Qo(t)===Qo(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>J0(t,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(i=>Qo(t)===Qo(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>J0(t,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=qg(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class ZC extends Rc{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Ww(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hx(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hx(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),eh(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const o=this.hasListeners();o&&Hw(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),o&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const d=this.computeRefetchInterval();o&&(this.currentQuery!==i||this.options.enabled!==r.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t),r=this.createResult(n,t);return i7(this,r,t)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Fs)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),od||this.currentResult.isStale||!lx(this.options.staleTime))return;const n=HC(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(od||this.options.enabled===!1||!lx(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||th.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const r=this.currentQuery,i=this.options,o=this.currentResult,d=this.currentResultState,x=this.currentResultOptions,g=t!==r,v=g?t.state:this.currentQueryInitialState,w=g?this.currentResult:this.previousQueryResult,{state:N}=t;let{dataUpdatedAt:_,error:k,errorUpdatedAt:A,fetchStatus:O,status:L}=N,D=!1,j=!1,I;if(n._optimisticResults){const q=this.hasListeners(),V=!q&&Ww(t,n),te=q&&Hw(t,r,n,i);(V||te)&&(O=Vh(t.options.networkMode)?"fetching":"paused",_||(L="loading")),n._optimisticResults==="isRestoring"&&(O="idle")}if(n.keepPreviousData&&!N.dataUpdatedAt&&w!=null&&w.isSuccess&&L!=="error")I=w.data,_=w.dataUpdatedAt,L=w.status,D=!0;else if(n.select&&typeof N.data<"u")if(o&&N.data===(d==null?void 0:d.data)&&n.select===this.selectFn)I=this.selectResult;else try{this.selectFn=n.select,I=n.select(N.data),I=ux(o==null?void 0:o.data,I,n),this.selectResult=I,this.selectError=null}catch(q){this.selectError=q}else I=N.data;if(typeof n.placeholderData<"u"&&typeof I>"u"&&L==="loading"){let q;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(x==null?void 0:x.placeholderData))q=o.data;else if(q=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof q<"u")try{q=n.select(q),this.selectError=null}catch(V){this.selectError=V}typeof q<"u"&&(L="success",I=ux(o==null?void 0:o.data,q,n),j=!0)}this.selectError&&(k=this.selectError,I=this.selectResult,A=Date.now(),L="error");const W=O==="fetching",Q=L==="loading",B=L==="error";return{status:L,fetchStatus:O,isLoading:Q,isSuccess:L==="success",isError:B,isInitialLoading:Q&&W,data:I,dataUpdatedAt:_,error:k,errorUpdatedAt:A,failureCount:N.fetchFailureCount,failureReason:N.fetchFailureReason,errorUpdateCount:N.errorUpdateCount,isFetched:N.dataUpdateCount>0||N.errorUpdateCount>0,isFetchedAfterMount:N.dataUpdateCount>v.dataUpdateCount||N.errorUpdateCount>v.errorUpdateCount,isFetching:W,isRefetching:W&&!Q,isLoadingError:B&&N.dataUpdatedAt===0,isPaused:O==="paused",isPlaceholderData:j,isPreviousData:D,isRefetchError:B&&N.dataUpdatedAt!==0,isStale:Yg(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,eh(r,n))return;this.currentResult=r;const i={cache:!0},o=()=>{if(!n)return!0;const{notifyOnChangeProps:d}=this.options,x=typeof d=="function"?d():d;if(x==="all"||!x&&!this.trackedProps.size)return!0;const g=new Set(x??this.trackedProps);return this.options.useErrorBoundary&&g.add("error"),Object.keys(this.currentResult).some(v=>{const w=v;return this.currentResult[w]!==n[w]&&g.has(w)})};(t==null?void 0:t.listeners)!==!1&&o()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!p0(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){Un.batch(()=>{if(t.onSuccess){var n,r,i,o;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(o=this.options).onSettled)==null||i.call(o,this.currentResult.data,null)}else if(t.onError){var d,x,g,v;(d=(x=this.options).onError)==null||d.call(x,this.currentResult.error),(g=(v=this.options).onSettled)==null||g.call(v,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(({listener:w})=>{w(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function s7(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ww(e,t){return s7(e,t)||e.state.dataUpdatedAt>0&&hx(e,t,t.refetchOnMount)}function hx(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Yg(e,t)}return!1}function Hw(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&Yg(e,n)}function Yg(e,t){return e.isStaleByTime(t.staleTime)}function i7(e,t,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?t.isPlaceholderData:!eh(e.getCurrentResult(),t)}class a7 extends ZC{constructor(t,n){super(t,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,n){super.setOptions({...t,behavior:dx()},n)}getOptimisticResult(t){return t.behavior=dx(),super.getOptimisticResult(t)}fetchNextPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"forward",pageParam:t}}})}fetchPreviousPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"backward",pageParam:t}}})}createResult(t,n){var r,i,o,d,x,g;const{state:v}=t,w=super.createResult(t,n),{isFetching:N,isRefetching:_}=w,k=N&&((r=v.fetchMeta)==null||(i=r.fetchMore)==null?void 0:i.direction)==="forward",A=N&&((o=v.fetchMeta)==null||(d=o.fetchMore)==null?void 0:d.direction)==="backward";return{...w,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:t7(n,(x=v.data)==null?void 0:x.pages),hasPreviousPage:n7(n,(g=v.data)==null?void 0:g.pages),isFetchingNextPage:k,isFetchingPreviousPage:A,isRefetching:_&&!k&&!A}}}let o7=class extends Rc{constructor(t,n){super(),this.client=t,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=this.client.defaultMutationOptions(t),eh(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const n={listeners:!0};t.type==="success"?n.onSuccess=!0:t.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:QC(),n={...t,isLoading:t.status==="loading",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(t){Un.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var n,r,i,o;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(o=this.mutateOptions).onSettled)==null||i.call(o,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var d,x,g,v;(d=(x=this.mutateOptions).onError)==null||d.call(x,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(g=(v=this.mutateOptions).onSettled)==null||g.call(v,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(({listener:w})=>{w(this.currentResult)})})}};var JC={exports:{}},eN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=M;function l7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c7=typeof Object.is=="function"?Object.is:l7,u7=gc.useState,d7=gc.useEffect,f7=gc.useLayoutEffect,h7=gc.useDebugValue;function p7(e,t){var n=t(),r=u7({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return f7(function(){i.value=n,i.getSnapshot=t,G1(i)&&o({inst:i})},[e,n,t]),d7(function(){return G1(i)&&o({inst:i}),e(function(){G1(i)&&o({inst:i})})},[e]),h7(n),n}function G1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!c7(e,n)}catch{return!0}}function m7(e,t){return t()}var x7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m7:p7;eN.useSyncExternalStore=gc.useSyncExternalStore!==void 0?gc.useSyncExternalStore:x7;JC.exports=eN;var g7=JC.exports;const tN=g7.useSyncExternalStore,qw=M.createContext(void 0),nN=M.createContext(!1);function rN(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=qw),window.ReactQueryClientContext):qw)}const Wn=({context:e}={})=>{const t=M.useContext(rN(e,M.useContext(nN)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},v7=({client:e,children:t,context:n,contextSharing:r=!1})=>{M.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=rN(n,r);return M.createElement(nN.Provider,{value:!n&&r},M.createElement(i.Provider,{value:e},t))},sN=M.createContext(!1),y7=()=>M.useContext(sN);sN.Provider;function w7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const b7=M.createContext(w7()),C7=()=>M.useContext(b7);function iN(e,t){return typeof e=="function"?e(...t):!!e}const N7=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},E7=e=>{M.useEffect(()=>{e.clearReset()},[e])},_7=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&iN(n,[e.error,r]),S7=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},A7=(e,t)=>e.isLoading&&e.isFetching&&!t,j7=(e,t,n)=>(e==null?void 0:e.suspense)&&A7(t,n),k7=(e,t,n)=>t.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{n.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function aN(e,t){const n=Wn({context:e.context}),r=y7(),i=C7(),o=n.defaultQueryOptions(e);o._optimisticResults=r?"isRestoring":"optimistic",o.onError&&(o.onError=Un.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=Un.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=Un.batchCalls(o.onSettled)),S7(o),N7(o,i),E7(i);const[d]=M.useState(()=>new t(n,o)),x=d.getOptimisticResult(o);if(tN(M.useCallback(g=>{const v=r?()=>{}:d.subscribe(Un.batchCalls(g));return d.updateResult(),v},[d,r]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),M.useEffect(()=>{d.setOptions(o,{listeners:!1})},[o,d]),j7(o,x,r))throw k7(o,d,i);if(_7({result:x,errorResetBoundary:i,useErrorBoundary:o.useErrorBoundary,query:d.getCurrentQuery()}))throw x.error;return o.notifyOnChangeProps?x:d.trackResult(x)}function gt(e,t,n){const r=Zl(e,t,n);return aN(r,ZC)}function fn(e,t,n){const r=qD(e,t,n),i=Wn({context:r.context}),[o]=M.useState(()=>new o7(i,r));M.useEffect(()=>{o.setOptions(r)},[o,r]);const d=tN(M.useCallback(g=>o.subscribe(Un.batchCalls(g)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x=M.useCallback((g,v)=>{o.mutate(g,v).catch(T7)},[o]);if(d.error&&iN(o.options.useErrorBoundary,[d.error]))throw d.error;return{...d,mutate:x,mutateAsync:d.mutate}}function T7(){}function $g(e,t,n){const r=Zl(e,t,n);return aN(r,a7)}function oN(e,t){return function(){return e.apply(t,arguments)}}const{toString:D7}=Object.prototype,{getPrototypeOf:Gg}=Object,{iterator:Yh,toStringTag:lN}=Symbol,$h=(e=>t=>{const n=D7.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pi=e=>(e=e.toLowerCase(),t=>$h(t)===e),Gh=e=>t=>typeof t===e,{isArray:Oc}=Array,ld=Gh("undefined");function I7(e){return e!==null&&!ld(e)&&e.constructor!==null&&!ld(e.constructor)&&is(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const cN=pi("ArrayBuffer");function R7(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&cN(e.buffer),t}const O7=Gh("string"),is=Gh("function"),uN=Gh("number"),Xh=e=>e!==null&&typeof e=="object",M7=e=>e===!0||e===!1,m0=e=>{if($h(e)!=="object")return!1;const t=Gg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(lN in e)&&!(Yh in e)},L7=pi("Date"),P7=pi("File"),F7=pi("Blob"),B7=pi("FileList"),U7=e=>Xh(e)&&is(e.pipe),z7=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||is(e.append)&&((t=$h(e))==="formdata"||t==="object"&&is(e.toString)&&e.toString()==="[object FormData]"))},W7=pi("URLSearchParams"),[H7,q7,V7,Y7]=["ReadableStream","Request","Response","Headers"].map(pi),$7=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bd(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Oc(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),d=o.length;let x;for(r=0;r<d;r++)x=o[r],t.call(null,e[x],x,e)}}function dN(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Ko=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),fN=e=>!ld(e)&&e!==Ko;function px(){const{caseless:e}=fN(this)&&this||{},t={},n=(r,i)=>{const o=e&&dN(t,i)||i;m0(t[o])&&m0(r)?t[o]=px(t[o],r):m0(r)?t[o]=px({},r):Oc(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&bd(arguments[r],n);return t}const G7=(e,t,n,{allOwnKeys:r}={})=>(bd(t,(i,o)=>{n&&is(i)?e[o]=oN(i,n):e[o]=i},{allOwnKeys:r}),e),X7=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Q7=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},K7=(e,t,n,r)=>{let i,o,d;const x={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)d=i[o],(!r||r(d,e,t))&&!x[d]&&(t[d]=e[d],x[d]=!0);e=n!==!1&&Gg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Z7=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},J7=e=>{if(!e)return null;if(Oc(e))return e;let t=e.length;if(!uN(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},eI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Gg(Uint8Array)),tI=(e,t)=>{const r=(e&&e[Yh]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},nI=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},rI=pi("HTMLFormElement"),sI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Vw=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),iI=pi("RegExp"),hN=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};bd(n,(i,o)=>{let d;(d=t(i,o,e))!==!1&&(r[o]=d||i)}),Object.defineProperties(e,r)},aI=e=>{hN(e,(t,n)=>{if(is(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(is(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oI=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Oc(e)?r(e):r(String(e).split(t)),n},lI=()=>{},cI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function uI(e){return!!(e&&is(e.append)&&e[lN]==="FormData"&&e[Yh])}const dI=e=>{const t=new Array(10),n=(r,i)=>{if(Xh(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=Oc(r)?[]:{};return bd(r,(d,x)=>{const g=n(d,i+1);!ld(g)&&(o[x]=g)}),t[i]=void 0,o}}return r};return n(e,0)},fI=pi("AsyncFunction"),hI=e=>e&&(Xh(e)||is(e))&&is(e.then)&&is(e.catch),pN=((e,t)=>e?setImmediate:t?((n,r)=>(Ko.addEventListener("message",({source:i,data:o})=>{i===Ko&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ko.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",is(Ko.postMessage)),pI=typeof queueMicrotask<"u"?queueMicrotask.bind(Ko):typeof process<"u"&&process.nextTick||pN,mI=e=>e!=null&&is(e[Yh]),pe={isArray:Oc,isArrayBuffer:cN,isBuffer:I7,isFormData:z7,isArrayBufferView:R7,isString:O7,isNumber:uN,isBoolean:M7,isObject:Xh,isPlainObject:m0,isReadableStream:H7,isRequest:q7,isResponse:V7,isHeaders:Y7,isUndefined:ld,isDate:L7,isFile:P7,isBlob:F7,isRegExp:iI,isFunction:is,isStream:U7,isURLSearchParams:W7,isTypedArray:eI,isFileList:B7,forEach:bd,merge:px,extend:G7,trim:$7,stripBOM:X7,inherits:Q7,toFlatObject:K7,kindOf:$h,kindOfTest:pi,endsWith:Z7,toArray:J7,forEachEntry:tI,matchAll:nI,isHTMLForm:rI,hasOwnProperty:Vw,hasOwnProp:Vw,reduceDescriptors:hN,freezeMethods:aI,toObjectSet:oI,toCamelCase:sI,noop:lI,toFiniteNumber:cI,findKey:dN,global:Ko,isContextDefined:fN,isSpecCompliantForm:uI,toJSONObject:dI,isAsyncFn:fI,isThenable:hI,setImmediate:pN,asap:pI,isIterable:mI};function yt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}pe.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const mN=yt.prototype,xN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xN[e]={value:e}});Object.defineProperties(yt,xN);Object.defineProperty(mN,"isAxiosError",{value:!0});yt.from=(e,t,n,r,i,o)=>{const d=Object.create(mN);return pe.toFlatObject(e,d,function(g){return g!==Error.prototype},x=>x!=="isAxiosError"),yt.call(d,e.message,t,n,r,i),d.cause=e,d.name=e.name,o&&Object.assign(d,o),d};const xI=null;function mx(e){return pe.isPlainObject(e)||pe.isArray(e)}function gN(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function Yw(e,t,n){return e?e.concat(t).map(function(i,o){return i=gN(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function gI(e){return pe.isArray(e)&&!e.some(mx)}const vI=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function Qh(e,t,n){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,L){return!pe.isUndefined(L[O])});const r=n.metaTokens,i=n.visitor||w,o=n.dots,d=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(i))throw new TypeError("visitor must be a function");function v(A){if(A===null)return"";if(pe.isDate(A))return A.toISOString();if(!g&&pe.isBlob(A))throw new yt("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(A)||pe.isTypedArray(A)?g&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function w(A,O,L){let D=A;if(A&&!L&&typeof A=="object"){if(pe.endsWith(O,"{}"))O=r?O:O.slice(0,-2),A=JSON.stringify(A);else if(pe.isArray(A)&&gI(A)||(pe.isFileList(A)||pe.endsWith(O,"[]"))&&(D=pe.toArray(A)))return O=gN(O),D.forEach(function(I,W){!(pe.isUndefined(I)||I===null)&&t.append(d===!0?Yw([O],W,o):d===null?O:O+"[]",v(I))}),!1}return mx(A)?!0:(t.append(Yw(L,O,o),v(A)),!1)}const N=[],_=Object.assign(vI,{defaultVisitor:w,convertValue:v,isVisitable:mx});function k(A,O){if(!pe.isUndefined(A)){if(N.indexOf(A)!==-1)throw Error("Circular reference detected in "+O.join("."));N.push(A),pe.forEach(A,function(D,j){(!(pe.isUndefined(D)||D===null)&&i.call(t,D,pe.isString(j)?j.trim():j,O,_))===!0&&k(D,O?O.concat(j):[j])}),N.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return k(e),t}function $w(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Xg(e,t){this._pairs=[],e&&Qh(e,this,t)}const vN=Xg.prototype;vN.append=function(t,n){this._pairs.push([t,n])};vN.toString=function(t){const n=t?function(r){return t.call(this,r,$w)}:$w;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function yI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yN(e,t,n){if(!t)return e;const r=n&&n.encode||yI;pe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=pe.isURLSearchParams(t)?t.toString():new Xg(t,n).toString(r),o){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class wI{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Gw=wI,wN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bI=typeof URLSearchParams<"u"?URLSearchParams:Xg,CI=typeof FormData<"u"?FormData:null,NI=typeof Blob<"u"?Blob:null,EI={isBrowser:!0,classes:{URLSearchParams:bI,FormData:CI,Blob:NI},protocols:["http","https","file","blob","url","data"]},Qg=typeof window<"u"&&typeof document<"u",xx=typeof navigator=="object"&&navigator||void 0,_I=Qg&&(!xx||["ReactNative","NativeScript","NS"].indexOf(xx.product)<0),SI=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),AI=Qg&&window.location.href||"http://localhost",jI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qg,hasStandardBrowserEnv:_I,hasStandardBrowserWebWorkerEnv:SI,navigator:xx,origin:AI},Symbol.toStringTag,{value:"Module"})),Ir={...jI,...EI};function kI(e,t){return Qh(e,new Ir.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Ir.isNode&&pe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function TI(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function DI(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function bN(e){function t(n,r,i,o){let d=n[o++];if(d==="__proto__")return!0;const x=Number.isFinite(+d),g=o>=n.length;return d=!d&&pe.isArray(i)?i.length:d,g?(pe.hasOwnProp(i,d)?i[d]=[i[d],r]:i[d]=r,!x):((!i[d]||!pe.isObject(i[d]))&&(i[d]=[]),t(n,r,i[d],o)&&pe.isArray(i[d])&&(i[d]=DI(i[d])),!x)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const n={};return pe.forEachEntry(e,(r,i)=>{t(TI(r),i,n,0)}),n}return null}function II(e,t,n){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Kg={transitional:wN,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=pe.isObject(t);if(o&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return i?JSON.stringify(bN(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)||pe.isReadableStream(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let x;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return kI(t,this.formSerializer).toString();if((x=pe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Qh(x?{"files[]":t}:t,g&&new g,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),II(t)):t}],transformResponse:[function(t){const n=this.transitional||Kg.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(pe.isResponse(t)||pe.isReadableStream(t))return t;if(t&&pe.isString(t)&&(r&&!this.responseType||i)){const d=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(x){if(d)throw x.name==="SyntaxError"?yt.from(x,yt.ERR_BAD_RESPONSE,this,null,this.response):x}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ir.classes.FormData,Blob:Ir.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{Kg.headers[e]={}});const Zg=Kg,RI=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OI=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(d){i=d.indexOf(":"),n=d.substring(0,i).trim().toLowerCase(),r=d.substring(i+1).trim(),!(!n||t[n]&&RI[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Xw=Symbol("internals");function bu(e){return e&&String(e).trim().toLowerCase()}function x0(e){return e===!1||e==null?e:pe.isArray(e)?e.map(x0):String(e)}function MI(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const LI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function X1(e,t,n,r,i){if(pe.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!pe.isString(t)){if(pe.isString(r))return t.indexOf(r)!==-1;if(pe.isRegExp(r))return r.test(t)}}function PI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function FI(e,t){const n=pe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,d){return this[r].call(this,t,i,o,d)},configurable:!0})})}class Kh{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(x,g,v){const w=bu(g);if(!w)throw new Error("header name must be a non-empty string");const N=pe.findKey(i,w);(!N||i[N]===void 0||v===!0||v===void 0&&i[N]!==!1)&&(i[N||g]=x0(x))}const d=(x,g)=>pe.forEach(x,(v,w)=>o(v,w,g));if(pe.isPlainObject(t)||t instanceof this.constructor)d(t,n);else if(pe.isString(t)&&(t=t.trim())&&!LI(t))d(OI(t),n);else if(pe.isObject(t)&&pe.isIterable(t)){let x={},g,v;for(const w of t){if(!pe.isArray(w))throw TypeError("Object iterator must return a key-value pair");x[v=w[0]]=(g=x[v])?pe.isArray(g)?[...g,w[1]]:[g,w[1]]:w[1]}d(x,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=bu(t),t){const r=pe.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return MI(i);if(pe.isFunction(n))return n.call(this,i,r);if(pe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=bu(t),t){const r=pe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||X1(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(d){if(d=bu(d),d){const x=pe.findKey(r,d);x&&(!n||X1(r,r[x],x,n))&&(delete r[x],i=!0)}}return pe.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||X1(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return pe.forEach(this,(i,o)=>{const d=pe.findKey(r,o);if(d){n[d]=x0(i),delete n[o];return}const x=t?PI(o):String(o).trim();x!==o&&delete n[o],n[x]=x0(i),r[x]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return pe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&pe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Xw]=this[Xw]={accessors:{}}).accessors,i=this.prototype;function o(d){const x=bu(d);r[x]||(FI(i,d),r[x]=!0)}return pe.isArray(t)?t.forEach(o):o(t),this}}Kh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(Kh.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});pe.freezeMethods(Kh);const ui=Kh;function Q1(e,t){const n=this||Zg,r=t||n,i=ui.from(r.headers);let o=r.data;return pe.forEach(e,function(x){o=x.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function CN(e){return!!(e&&e.__CANCEL__)}function Mc(e,t,n){yt.call(this,e??"canceled",yt.ERR_CANCELED,t,n),this.name="CanceledError"}pe.inherits(Mc,yt,{__CANCEL__:!0});function NN(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new yt("Request failed with status code "+n.status,[yt.ERR_BAD_REQUEST,yt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function BI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function UI(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,d;return t=t!==void 0?t:1e3,function(g){const v=Date.now(),w=r[o];d||(d=v),n[i]=g,r[i]=v;let N=o,_=0;for(;N!==i;)_+=n[N++],N=N%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),v-d<t)return;const k=w&&v-w;return k?Math.round(_*1e3/k):void 0}}function zI(e,t){let n=0,r=1e3/t,i,o;const d=(v,w=Date.now())=>{n=w,i=null,o&&(clearTimeout(o),o=null),e.apply(null,v)};return[(...v)=>{const w=Date.now(),N=w-n;N>=r?d(v,w):(i=v,o||(o=setTimeout(()=>{o=null,d(i)},r-N)))},()=>i&&d(i)]}const rh=(e,t,n=3)=>{let r=0;const i=UI(50,250);return zI(o=>{const d=o.loaded,x=o.lengthComputable?o.total:void 0,g=d-r,v=i(g),w=d<=x;r=d;const N={loaded:d,total:x,progress:x?d/x:void 0,bytes:g,rate:v||void 0,estimated:v&&x&&w?(x-d)/v:void 0,event:o,lengthComputable:x!=null,[t?"download":"upload"]:!0};e(N)},n)},Qw=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Kw=e=>(...t)=>pe.asap(()=>e(...t)),WI=Ir.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ir.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ir.origin),Ir.navigator&&/(msie|trident)/i.test(Ir.navigator.userAgent)):()=>!0,HI=Ir.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const d=[e+"="+encodeURIComponent(t)];pe.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),pe.isString(r)&&d.push("path="+r),pe.isString(i)&&d.push("domain="+i),o===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function VI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function EN(e,t,n){let r=!qI(t);return e&&(r||n==!1)?VI(e,t):t}const Zw=e=>e instanceof ui?{...e}:e;function cl(e,t){t=t||{};const n={};function r(v,w,N,_){return pe.isPlainObject(v)&&pe.isPlainObject(w)?pe.merge.call({caseless:_},v,w):pe.isPlainObject(w)?pe.merge({},w):pe.isArray(w)?w.slice():w}function i(v,w,N,_){if(pe.isUndefined(w)){if(!pe.isUndefined(v))return r(void 0,v,N,_)}else return r(v,w,N,_)}function o(v,w){if(!pe.isUndefined(w))return r(void 0,w)}function d(v,w){if(pe.isUndefined(w)){if(!pe.isUndefined(v))return r(void 0,v)}else return r(void 0,w)}function x(v,w,N){if(N in t)return r(v,w);if(N in e)return r(void 0,v)}const g={url:o,method:o,data:o,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:x,headers:(v,w,N)=>i(Zw(v),Zw(w),N,!0)};return pe.forEach(Object.keys(Object.assign({},e,t)),function(w){const N=g[w]||i,_=N(e[w],t[w],w);pe.isUndefined(_)&&N!==x||(n[w]=_)}),n}const _N=e=>{const t=cl({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:d,auth:x}=t;t.headers=d=ui.from(d),t.url=yN(EN(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),x&&d.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):"")));let g;if(pe.isFormData(n)){if(Ir.hasStandardBrowserEnv||Ir.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((g=d.getContentType())!==!1){const[v,...w]=g?g.split(";").map(N=>N.trim()).filter(Boolean):[];d.setContentType([v||"multipart/form-data",...w].join("; "))}}if(Ir.hasStandardBrowserEnv&&(r&&pe.isFunction(r)&&(r=r(t)),r||r!==!1&&WI(t.url))){const v=i&&o&&HI.read(o);v&&d.set(i,v)}return t},YI=typeof XMLHttpRequest<"u",$I=YI&&function(e){return new Promise(function(n,r){const i=_N(e);let o=i.data;const d=ui.from(i.headers).normalize();let{responseType:x,onUploadProgress:g,onDownloadProgress:v}=i,w,N,_,k,A;function O(){k&&k(),A&&A(),i.cancelToken&&i.cancelToken.unsubscribe(w),i.signal&&i.signal.removeEventListener("abort",w)}let L=new XMLHttpRequest;L.open(i.method.toUpperCase(),i.url,!0),L.timeout=i.timeout;function D(){if(!L)return;const I=ui.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),Q={data:!x||x==="text"||x==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:I,config:e,request:L};NN(function(R){n(R),O()},function(R){r(R),O()},Q),L=null}"onloadend"in L?L.onloadend=D:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(D)},L.onabort=function(){L&&(r(new yt("Request aborted",yt.ECONNABORTED,e,L)),L=null)},L.onerror=function(){r(new yt("Network Error",yt.ERR_NETWORK,e,L)),L=null},L.ontimeout=function(){let W=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Q=i.transitional||wN;i.timeoutErrorMessage&&(W=i.timeoutErrorMessage),r(new yt(W,Q.clarifyTimeoutError?yt.ETIMEDOUT:yt.ECONNABORTED,e,L)),L=null},o===void 0&&d.setContentType(null),"setRequestHeader"in L&&pe.forEach(d.toJSON(),function(W,Q){L.setRequestHeader(Q,W)}),pe.isUndefined(i.withCredentials)||(L.withCredentials=!!i.withCredentials),x&&x!=="json"&&(L.responseType=i.responseType),v&&([_,A]=rh(v,!0),L.addEventListener("progress",_)),g&&L.upload&&([N,k]=rh(g),L.upload.addEventListener("progress",N),L.upload.addEventListener("loadend",k)),(i.cancelToken||i.signal)&&(w=I=>{L&&(r(!I||I.type?new Mc(null,e,L):I),L.abort(),L=null)},i.cancelToken&&i.cancelToken.subscribe(w),i.signal&&(i.signal.aborted?w():i.signal.addEventListener("abort",w)));const j=BI(i.url);if(j&&Ir.protocols.indexOf(j)===-1){r(new yt("Unsupported protocol "+j+":",yt.ERR_BAD_REQUEST,e));return}L.send(o||null)})},GI=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(v){if(!i){i=!0,x();const w=v instanceof Error?v:this.reason;r.abort(w instanceof yt?w:new Mc(w instanceof Error?w.message:w))}};let d=t&&setTimeout(()=>{d=null,o(new yt(`timeout ${t} of ms exceeded`,yt.ETIMEDOUT))},t);const x=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(v=>{v.unsubscribe?v.unsubscribe(o):v.removeEventListener("abort",o)}),e=null)};e.forEach(v=>v.addEventListener("abort",o));const{signal:g}=r;return g.unsubscribe=()=>pe.asap(x),g}},XI=GI,QI=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},KI=async function*(e,t){for await(const n of ZI(e))yield*QI(n,t)},ZI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Jw=(e,t,n,r)=>{const i=KI(e,t);let o=0,d,x=g=>{d||(d=!0,r&&r(g))};return new ReadableStream({async pull(g){try{const{done:v,value:w}=await i.next();if(v){x(),g.close();return}let N=w.byteLength;if(n){let _=o+=N;n(_)}g.enqueue(new Uint8Array(w))}catch(v){throw x(v),v}},cancel(g){return x(g),i.return()}},{highWaterMark:2})},Zh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",SN=Zh&&typeof ReadableStream=="function",JI=Zh&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),AN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},eR=SN&&AN(()=>{let e=!1;const t=new Request(Ir.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),eb=64*1024,gx=SN&&AN(()=>pe.isReadableStream(new Response("").body)),sh={stream:gx&&(e=>e.body)};Zh&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!sh[t]&&(sh[t]=pe.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new yt(`Response type '${t}' is not supported`,yt.ERR_NOT_SUPPORT,r)})})})(new Response);const tR=async e=>{if(e==null)return 0;if(pe.isBlob(e))return e.size;if(pe.isSpecCompliantForm(e))return(await new Request(Ir.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(e)||pe.isArrayBuffer(e))return e.byteLength;if(pe.isURLSearchParams(e)&&(e=e+""),pe.isString(e))return(await JI(e)).byteLength},nR=async(e,t)=>{const n=pe.toFiniteNumber(e.getContentLength());return n??tR(t)},rR=Zh&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:d,onDownloadProgress:x,onUploadProgress:g,responseType:v,headers:w,withCredentials:N="same-origin",fetchOptions:_}=_N(e);v=v?(v+"").toLowerCase():"text";let k=XI([i,o&&o.toAbortSignal()],d),A;const O=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let L;try{if(g&&eR&&n!=="get"&&n!=="head"&&(L=await nR(w,r))!==0){let Q=new Request(t,{method:"POST",body:r,duplex:"half"}),B;if(pe.isFormData(r)&&(B=Q.headers.get("content-type"))&&w.setContentType(B),Q.body){const[R,q]=Qw(L,rh(Kw(g)));r=Jw(Q.body,eb,R,q)}}pe.isString(N)||(N=N?"include":"omit");const D="credentials"in Request.prototype;A=new Request(t,{..._,signal:k,method:n.toUpperCase(),headers:w.normalize().toJSON(),body:r,duplex:"half",credentials:D?N:void 0});let j=await fetch(A);const I=gx&&(v==="stream"||v==="response");if(gx&&(x||I&&O)){const Q={};["status","statusText","headers"].forEach(V=>{Q[V]=j[V]});const B=pe.toFiniteNumber(j.headers.get("content-length")),[R,q]=x&&Qw(B,rh(Kw(x),!0))||[];j=new Response(Jw(j.body,eb,R,()=>{q&&q(),O&&O()}),Q)}v=v||"text";let W=await sh[pe.findKey(sh,v)||"text"](j,e);return!I&&O&&O(),await new Promise((Q,B)=>{NN(Q,B,{data:W,headers:ui.from(j.headers),status:j.status,statusText:j.statusText,config:e,request:A})})}catch(D){throw O&&O(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new yt("Network Error",yt.ERR_NETWORK,e,A),{cause:D.cause||D}):yt.from(D,D&&D.code,e,A)}}),vx={http:xI,xhr:$I,fetch:rR};pe.forEach(vx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const tb=e=>`- ${e}`,sR=e=>pe.isFunction(e)||e===null||e===!1,jN={getAdapter:e=>{e=pe.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let d;if(r=n,!sR(n)&&(r=vx[(d=String(n)).toLowerCase()],r===void 0))throw new yt(`Unknown adapter '${d}'`);if(r)break;i[d||"#"+o]=r}if(!r){const o=Object.entries(i).map(([x,g])=>`adapter ${x} `+(g===!1?"is not supported by the environment":"is not available in the build"));let d=t?o.length>1?`since :
`+o.map(tb).join(`
`):" "+tb(o[0]):"as no adapter specified";throw new yt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:vx};function K1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mc(null,e)}function nb(e){return K1(e),e.headers=ui.from(e.headers),e.data=Q1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jN.getAdapter(e.adapter||Zg.adapter)(e).then(function(r){return K1(e),r.data=Q1.call(e,e.transformResponse,r),r.headers=ui.from(r.headers),r},function(r){return CN(r)||(K1(e),r&&r.response&&(r.response.data=Q1.call(e,e.transformResponse,r.response),r.response.headers=ui.from(r.response.headers))),Promise.reject(r)})}const kN="1.9.0",Jh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Jh[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const rb={};Jh.transitional=function(t,n,r){function i(o,d){return"[Axios v"+kN+"] Transitional option '"+o+"'"+d+(r?". "+r:"")}return(o,d,x)=>{if(t===!1)throw new yt(i(d," has been removed"+(n?" in "+n:"")),yt.ERR_DEPRECATED);return n&&!rb[d]&&(rb[d]=!0,console.warn(i(d," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,d,x):!0}};Jh.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function iR(e,t,n){if(typeof e!="object")throw new yt("options must be an object",yt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],d=t[o];if(d){const x=e[o],g=x===void 0||d(x,o,e);if(g!==!0)throw new yt("option "+o+" must be "+g,yt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new yt("Unknown option "+o,yt.ERR_BAD_OPTION)}}const g0={assertOptions:iR,validators:Jh},Ci=g0.validators;class ih{constructor(t){this.defaults=t||{},this.interceptors={request:new Gw,response:new Gw}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=cl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&g0.assertOptions(r,{silentJSONParsing:Ci.transitional(Ci.boolean),forcedJSONParsing:Ci.transitional(Ci.boolean),clarifyTimeoutError:Ci.transitional(Ci.boolean)},!1),i!=null&&(pe.isFunction(i)?n.paramsSerializer={serialize:i}:g0.assertOptions(i,{encode:Ci.function,serialize:Ci.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),g0.assertOptions(n,{baseUrl:Ci.spelling("baseURL"),withXsrfToken:Ci.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=o&&pe.merge(o.common,o[n.method]);o&&pe.forEach(["delete","get","head","post","put","patch","common"],A=>{delete o[A]}),n.headers=ui.concat(d,o);const x=[];let g=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(n)===!1||(g=g&&O.synchronous,x.unshift(O.fulfilled,O.rejected))});const v=[];this.interceptors.response.forEach(function(O){v.push(O.fulfilled,O.rejected)});let w,N=0,_;if(!g){const A=[nb.bind(this),void 0];for(A.unshift.apply(A,x),A.push.apply(A,v),_=A.length,w=Promise.resolve(n);N<_;)w=w.then(A[N++],A[N++]);return w}_=x.length;let k=n;for(N=0;N<_;){const A=x[N++],O=x[N++];try{k=A(k)}catch(L){O.call(this,L);break}}try{w=nb.call(this,k)}catch(A){return Promise.reject(A)}for(N=0,_=v.length;N<_;)w=w.then(v[N++],v[N++]);return w}getUri(t){t=cl(this.defaults,t);const n=EN(t.baseURL,t.url,t.allowAbsoluteUrls);return yN(n,t.params,t.paramsSerializer)}}pe.forEach(["delete","get","head","options"],function(t){ih.prototype[t]=function(n,r){return this.request(cl(r||{},{method:t,url:n,data:(r||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function n(r){return function(o,d,x){return this.request(cl(x||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:d}))}}ih.prototype[t]=n(),ih.prototype[t+"Form"]=n(!0)});const v0=ih;class Jg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const d=new Promise(x=>{r.subscribe(x),o=x}).then(i);return d.cancel=function(){r.unsubscribe(o)},d},t(function(o,d,x){r.reason||(r.reason=new Mc(o,d,x),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Jg(function(i){t=i}),cancel:t}}}const aR=Jg;function oR(e){return function(n){return e.apply(null,n)}}function lR(e){return pe.isObject(e)&&e.isAxiosError===!0}const yx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yx).forEach(([e,t])=>{yx[t]=e});const cR=yx;function TN(e){const t=new v0(e),n=oN(v0.prototype.request,t);return pe.extend(n,v0.prototype,t,{allOwnKeys:!0}),pe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return TN(cl(e,i))},n}const er=TN(Zg);er.Axios=v0;er.CanceledError=Mc;er.CancelToken=aR;er.isCancel=CN;er.VERSION=kN;er.toFormData=Qh;er.AxiosError=yt;er.Cancel=er.CanceledError;er.all=function(t){return Promise.all(t)};er.spread=oR;er.isAxiosError=lR;er.mergeConfig=cl;er.AxiosHeaders=ui;er.formToJSON=e=>bN(pe.isHTMLForm(e)?new FormData(e):e);er.getAdapter=jN.getAdapter;er.HttpStatusCode=cR;er.default=er;const ft=er,DN=M.createContext(),lr=()=>M.useContext(DN),uR=({children:e})=>{const[t,n]=M.useState(null),[r,i]=M.useState(localStorage.getItem("token")),[o,d]=M.useState(!0),[x,g]=M.useState(null);M.useEffect(()=>{r?ft.defaults.headers.common.Authorization=`Bearer ${r}`:delete ft.defaults.headers.common.Authorization},[r]),M.useEffect(()=>{const W=async()=>{if(!r){d(!1);return}try{const B=await ft.get("/api/auth/me");n(B.data.user),g(null)}catch(B){console.error("Token verification failed:",B),B.response&&B.response.status===401?(w(),g("Session expired. Please log in again.")):g("Error verifying session. Please try again.")}finally{d(!1)}};W();const Q=setInterval(()=>{r&&W()},60*60*1e3);return()=>{clearInterval(Q)}},[r]);const v=async(W,Q)=>{var B,R;try{d(!0);const q=await ft.post("/api/auth/login",{username:W,password:Q}),{token:V,user:te}=q.data;return localStorage.setItem("token",V),ft.defaults.headers.common.Authorization=`Bearer ${V}`,i(V),n(te),g(null),te}catch(q){throw console.error("Login error:",q),g(((R=(B=q.response)==null?void 0:B.data)==null?void 0:R.message)||"Login failed"),q}finally{d(!1)}},w=()=>{localStorage.removeItem("token"),i(null),n(null),delete ft.defaults.headers.common.Authorization},I={user:t,token:r,loading:o,error:x,login:v,logout:w,register:async W=>{var Q,B;try{return d(!0),(await ft.post("/api/auth/register",W)).data}catch(R){throw console.error("Register error:",R),g(((B=(Q=R.response)==null?void 0:Q.data)==null?void 0:B.message)||"Registration failed"),R}finally{d(!1)}},isAdmin:()=>(t==null?void 0:t.role)==="admin",isAdvanced:()=>(t==null?void 0:t.role)==="advanced",isBasic:()=>(t==null?void 0:t.role)==="basic",canEditEquipment:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="advanced",isImpersonating:()=>!!(t!=null&&t.impersonated),impersonateUser:async W=>{var Q,B;try{d(!0);const R=await ft.post(`/api/auth/impersonate/${W}`),{token:q,user:V}=R.data;return localStorage.setItem("token",q),i(q),n(V),g(null),V}catch(R){throw console.error("Impersonation error:",R),g(((B=(Q=R.response)==null?void 0:Q.data)==null?void 0:B.message)||"Impersonation failed"),R}finally{d(!1)}},getUsers:async()=>{var W,Q;try{return(await ft.get("/api/auth/users")).data.users}catch(B){throw console.error("Get users error:",B),g(((Q=(W=B.response)==null?void 0:W.data)==null?void 0:Q.message)||"Failed to get users"),B}}};return a.jsx(DN.Provider,{value:I,children:e})};function IN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=IN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function En(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=IN(e))&&(r&&(r+=" "),r+=t);return r}function dR(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}dR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Cd=e=>typeof e=="number"&&!isNaN(e),ul=e=>typeof e=="string",ya=e=>typeof e=="function",fR=e=>ul(e)||Cd(e),wx=e=>ul(e)||ya(e)?e:null,hR=(e,t)=>e===!1||Cd(e)&&e>0?e:t,bx=e=>M.isValidElement(e)||ul(e)||ya(e)||Cd(e);function pR(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function mR({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:o,position:d,preventExitTransition:x,done:g,nodeRef:v,isIn:w,playToast:N}){let _=n?`${e}--${d}`:e,k=n?`${t}--${d}`:t,A=M.useRef(0);return M.useLayoutEffect(()=>{let O=v.current,L=_.split(" "),D=j=>{j.target===v.current&&(N(),O.removeEventListener("animationend",D),O.removeEventListener("animationcancel",D),A.current===0&&j.type!=="animationcancel"&&O.classList.remove(...L))};O.classList.add(...L),O.addEventListener("animationend",D),O.addEventListener("animationcancel",D)},[]),M.useEffect(()=>{let O=v.current,L=()=>{O.removeEventListener("animationend",L),r?pR(O,g,i):g()};w||(x?L():(A.current=1,O.className+=` ${k}`,O.addEventListener("animationend",L)))},[w]),de.createElement(de.Fragment,null,o)}}function sb(e,t){return{content:RN(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function RN(e,t,n=!1){return M.isValidElement(e)&&!ul(e.type)?M.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):ya(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function xR({closeToast:e,theme:t,ariaLabel:n="close"}){return de.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},de.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},de.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gR({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:o,controlledProgress:d,progress:x,rtl:g,isIn:v,theme:w}){let N=i||d&&x===0,_={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};d&&(_.transform=`scaleX(${x})`);let k=En("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${w}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":g}),A=ya(o)?o({rtl:g,type:r,defaultClassName:k}):En(k,o),O={[d&&x>=1?"onTransitionEnd":"onAnimationEnd"]:d&&x<1?null:()=>{v&&n()}};return de.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":N},de.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${w} Toastify__progress-bar--${r}`}),de.createElement("div",{role:"progressbar","aria-hidden":N?"true":"false","aria-label":"notification timer",className:A,style:_,...O}))}var vR=1,ON=()=>`${vR++}`;function yR(e,t,n){let r=1,i=0,o=[],d=[],x=t,g=new Map,v=new Set,w=j=>(v.add(j),()=>v.delete(j)),N=()=>{d=Array.from(g.values()),v.forEach(j=>j())},_=({containerId:j,toastId:I,updateId:W})=>{let Q=j?j!==e:e!==1,B=g.has(I)&&W==null;return Q||B},k=(j,I)=>{g.forEach(W=>{var Q;(I==null||I===W.props.toastId)&&((Q=W.toggle)==null||Q.call(W,j))})},A=j=>{var I,W;(W=(I=j.props)==null?void 0:I.onClose)==null||W.call(I,j.removalReason),j.isActive=!1},O=j=>{if(j==null)g.forEach(A);else{let I=g.get(j);I&&A(I)}N()},L=()=>{i-=o.length,o=[]},D=j=>{var I,W;let{toastId:Q,updateId:B}=j.props,R=B==null;j.staleId&&g.delete(j.staleId),j.isActive=!0,g.set(Q,j),N(),n(sb(j,R?"added":"updated")),R&&((W=(I=j.props).onOpen)==null||W.call(I))};return{id:e,props:x,observe:w,toggle:k,removeToast:O,toasts:g,clearQueue:L,buildToast:(j,I)=>{if(_(I))return;let{toastId:W,updateId:Q,data:B,staleId:R,delay:q}=I,V=Q==null;V&&i++;let te={...x,style:x.toastStyle,key:r++,...Object.fromEntries(Object.entries(I).filter(([J,oe])=>oe!=null)),toastId:W,updateId:Q,data:B,isIn:!1,className:wx(I.className||x.toastClassName),progressClassName:wx(I.progressClassName||x.progressClassName),autoClose:I.isLoading?!1:hR(I.autoClose,x.autoClose),closeToast(J){g.get(W).removalReason=J,O(W)},deleteToast(){let J=g.get(W);if(J!=null){if(n(sb(J,"removed")),g.delete(W),i--,i<0&&(i=0),o.length>0){D(o.shift());return}N()}}};te.closeButton=x.closeButton,I.closeButton===!1||bx(I.closeButton)?te.closeButton=I.closeButton:I.closeButton===!0&&(te.closeButton=bx(x.closeButton)?x.closeButton:!0);let ce={content:j,props:te,staleId:R};x.limit&&x.limit>0&&i>x.limit&&V?o.push(ce):Cd(q)?setTimeout(()=>{D(ce)},q):D(ce)},setProps(j){x=j},setToggle:(j,I)=>{let W=g.get(j);W&&(W.toggle=I)},isToastActive:j=>{var I;return(I=g.get(j))==null?void 0:I.isActive},getSnapshot:()=>d}}var Wr=new Map,cd=[],Cx=new Set,wR=e=>Cx.forEach(t=>t(e)),MN=()=>Wr.size>0;function bR(){cd.forEach(e=>PN(e.content,e.options)),cd=[]}var CR=(e,{containerId:t})=>{var n;return(n=Wr.get(t||1))==null?void 0:n.toasts.get(e)};function LN(e,t){var n;if(t)return!!((n=Wr.get(t))!=null&&n.isToastActive(e));let r=!1;return Wr.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function NR(e){if(!MN()){cd=cd.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||fR(e))Wr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Wr.get(e.containerId);t?t.removeToast(e.id):Wr.forEach(n=>{n.removeToast(e.id)})}}var ER=(e={})=>{Wr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function PN(e,t){bx(e)&&(MN()||cd.push({content:e,options:t}),Wr.forEach(n=>{n.buildToast(e,t)}))}function _R(e){var t;(t=Wr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function FN(e,t){Wr.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function SR(e){let t=e.containerId||1;return{subscribe(n){let r=yR(t,e,wR);Wr.set(t,r);let i=r.observe(n);return bR(),()=>{i(),Wr.delete(t)}},setProps(n){var r;(r=Wr.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Wr.get(t))==null?void 0:n.getSnapshot()}}}function AR(e){return Cx.add(e),()=>{Cx.delete(e)}}function jR(e){return e&&(ul(e.toastId)||Cd(e.toastId))?e.toastId:ON()}function Nd(e,t){return PN(e,t),t.toastId}function ep(e,t){return{...t,type:t&&t.type||e,toastId:jR(t)}}function tp(e){return(t,n)=>Nd(t,ep(e,n))}function tt(e,t){return Nd(e,ep("default",t))}tt.loading=(e,t)=>Nd(e,ep("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function kR(e,{pending:t,error:n,success:r},i){let o;t&&(o=ul(t)?tt.loading(t,i):tt.loading(t.render,{...i,...t}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},x=(v,w,N)=>{if(w==null){tt.dismiss(o);return}let _={type:v,...d,...i,data:N},k=ul(w)?{render:w}:w;return o?tt.update(o,{..._,...k}):tt(k.render,{..._,...k}),N},g=ya(e)?e():e;return g.then(v=>x("success",r,v)).catch(v=>x("error",n,v)),g}tt.promise=kR;tt.success=tp("success");tt.info=tp("info");tt.error=tp("error");tt.warning=tp("warning");tt.warn=tt.warning;tt.dark=(e,t)=>Nd(e,ep("default",{theme:"dark",...t}));function TR(e){NR(e)}tt.dismiss=TR;tt.clearWaitingQueue=ER;tt.isActive=LN;tt.update=(e,t={})=>{let n=CR(e,t);if(n){let{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:ON()};o.toastId!==e&&(o.staleId=e);let d=o.render||i;delete o.render,Nd(d,o)}};tt.done=e=>{tt.update(e,{progress:1})};tt.onChange=AR;tt.play=e=>FN(!0,e);tt.pause=e=>FN(!1,e);function DR(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=M.useRef(SR(e)).current;i(e);let o=(t=M.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function d(x){if(!o)return[];let g=new Map;return e.newestOnTop&&o.reverse(),o.forEach(v=>{let{position:w}=v.props;g.has(w)||g.set(w,[]),g.get(w).push(v)}),Array.from(g,v=>x(v[0],v[1]))}return{getToastToRender:d,isToastActive:LN,count:o==null?void 0:o.length}}function IR(e){let[t,n]=M.useState(!1),[r,i]=M.useState(!1),o=M.useRef(null),d=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:x,pauseOnHover:g,closeToast:v,onClick:w,closeOnClick:N}=e;_R({id:e.toastId,containerId:e.containerId,fn:n}),M.useEffect(()=>{if(e.pauseOnFocusLoss)return _(),()=>{k()}},[e.pauseOnFocusLoss]);function _(){document.hasFocus()||D(),window.addEventListener("focus",L),window.addEventListener("blur",D)}function k(){window.removeEventListener("focus",L),window.removeEventListener("blur",D)}function A(R){if(e.draggable===!0||e.draggable===R.pointerType){j();let q=o.current;d.canCloseOnClick=!0,d.canDrag=!0,q.style.transition="none",e.draggableDirection==="x"?(d.start=R.clientX,d.removalDistance=q.offsetWidth*(e.draggablePercent/100)):(d.start=R.clientY,d.removalDistance=q.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function O(R){let{top:q,bottom:V,left:te,right:ce}=o.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&e.pauseOnHover&&R.clientX>=te&&R.clientX<=ce&&R.clientY>=q&&R.clientY<=V?D():L()}function L(){n(!0)}function D(){n(!1)}function j(){d.didMove=!1,document.addEventListener("pointermove",W),document.addEventListener("pointerup",Q)}function I(){document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",Q)}function W(R){let q=o.current;if(d.canDrag&&q){d.didMove=!0,t&&D(),e.draggableDirection==="x"?d.delta=R.clientX-d.start:d.delta=R.clientY-d.start,d.start!==R.clientX&&(d.canCloseOnClick=!1);let V=e.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;q.style.transform=`translate3d(${V},0)`,q.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function Q(){I();let R=o.current;if(d.canDrag&&d.didMove&&R){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let B={onPointerDown:A,onPointerUp:O};return x&&g&&(B.onMouseEnter=D,e.stacked||(B.onMouseLeave=L)),N&&(B.onClick=R=>{w&&w(R),d.canCloseOnClick&&v(!0)}),{playToast:L,pauseToast:D,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:B}}var RR=typeof window<"u"?M.useLayoutEffect:M.useEffect,np=({theme:e,type:t,isLoading:n,...r})=>de.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function OR(e){return de.createElement(np,{...e},de.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function MR(e){return de.createElement(np,{...e},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function LR(e){return de.createElement(np,{...e},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function PR(e){return de.createElement(np,{...e},de.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function FR(){return de.createElement("div",{className:"Toastify__spinner"})}var Nx={info:MR,warning:OR,success:LR,error:PR,spinner:FR},BR=e=>e in Nx;function UR({theme:e,type:t,isLoading:n,icon:r}){let i=null,o={theme:e,type:t};return r===!1||(ya(r)?i=r({...o,isLoading:n}):M.isValidElement(r)?i=M.cloneElement(r,o):n?i=Nx.spinner():BR(t)&&(i=Nx[t](o))),i}var zR=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:o}=IR(e),{closeButton:d,children:x,autoClose:g,onClick:v,type:w,hideProgressBar:N,closeToast:_,transition:k,position:A,className:O,style:L,progressClassName:D,updateId:j,role:I,progress:W,rtl:Q,toastId:B,deleteToast:R,isIn:q,isLoading:V,closeOnClick:te,theme:ce,ariaLabel:J}=e,oe=En("Toastify__toast",`Toastify__toast-theme--${ce}`,`Toastify__toast--${w}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":te}),ke=ya(O)?O({rtl:Q,position:A,type:w,defaultClassName:oe}):En(oe,O),se=UR(e),Ee=!!W||!g,ge={closeToast:_,type:w,theme:ce},ue=null;return d===!1||(ya(d)?ue=d(ge):M.isValidElement(d)?ue=M.cloneElement(d,ge):ue=xR(ge)),de.createElement(k,{isIn:q,done:R,position:A,preventExitTransition:n,nodeRef:r,playToast:o},de.createElement("div",{id:B,tabIndex:0,onClick:v,"data-in":q,className:ke,...i,style:L,ref:r,...q&&{role:I,"aria-label":J}},se!=null&&de.createElement("div",{className:En("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},se),RN(x,e,!t),ue,!e.customProgressBar&&de.createElement(gR,{...j&&!Ee?{key:`p-${j}`}:{},rtl:Q,theme:ce,delay:g,isRunning:t,isIn:q,closeToast:_,hide:N,type:w,className:D,controlledProgress:Ee,progress:W||0})))},WR=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),HR=mR(WR("bounce",!0)),qR={position:"top-right",transition:HR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function rp(e){let t={...qR,...e},n=e.stacked,[r,i]=M.useState(!0),o=M.useRef(null),{getToastToRender:d,isToastActive:x,count:g}=DR(t),{className:v,style:w,rtl:N,containerId:_,hotKeys:k}=t;function A(L){let D=En("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":N});return ya(v)?v({position:L,rtl:N,defaultClassName:D}):En(D,wx(v))}function O(){n&&(i(!0),tt.play())}return RR(()=>{var L;if(n){let D=o.current.querySelectorAll('[data-in="true"]'),j=12,I=(L=t.position)==null?void 0:L.includes("top"),W=0,Q=0;Array.from(D).reverse().forEach((B,R)=>{let q=B;q.classList.add("Toastify__toast--stacked"),R>0&&(q.dataset.collapsed=`${r}`),q.dataset.pos||(q.dataset.pos=I?"top":"bot");let V=W*(r?.2:1)+(r?0:j*R);q.style.setProperty("--y",`${I?V:V*-1}px`),q.style.setProperty("--g",`${j}`),q.style.setProperty("--s",`${1-(r?Q:0)}`),W+=q.offsetHeight,Q+=.025})}},[r,g,n]),M.useEffect(()=>{function L(D){var j;let I=o.current;k(D)&&((j=I.querySelector('[tabIndex="0"]'))==null||j.focus(),i(!1),tt.pause()),D.key==="Escape"&&(document.activeElement===I||I!=null&&I.contains(document.activeElement))&&(i(!0),tt.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[k]),de.createElement("section",{ref:o,className:"Toastify",id:_,onMouseEnter:()=>{n&&(i(!1),tt.pause())},onMouseLeave:O,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},d((L,D)=>{let j=D.length?{...w}:{...w,pointerEvents:"none"};return de.createElement("div",{tabIndex:-1,className:A(L),"data-stacked":n,style:j,key:`c-${L}`},D.map(({content:I,props:W})=>de.createElement(zR,{...W,stacked:n,collapseAll:O,isIn:x(W.toastId,W.containerId),key:`t-${W.key}`},I)))}))}var BN={exports:{}},VR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YR=VR,$R=YR;function UN(){}function zN(){}zN.resetWarningCache=UN;var GR=function(){function e(r,i,o,d,x,g){if(g!==$R){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zN,resetWarningCache:UN};return n.PropTypes=n,n};BN.exports=GR();var XR=BN.exports;const ie=Ah(XR),la=async({page:e=1,limit:t=10,type:n,brand:r,status:i,location_id:o,search:d,sortBy:x="updated_at",sortOrder:g="desc",startDate:v,endDate:w})=>{const N={page:e,limit:t};return n&&(N.type=n),r&&(N.brand=r),i&&(N.status=i),o&&(N.location_id=o),d&&(N.search=d),x&&(N.sortBy=x),g&&(N.sortOrder=g),v&&(N.startDate=v),w&&(N.endDate=w),(await ft.get("/api/equipment",{params:N})).data},sp=async e=>(await ft.get(`/api/equipment/${e}`)).data,e2=async(e,t=[],n=null)=>{const r=new FormData;if(!e.type_id)throw console.error("Missing required field: type_id"),new Error("Equipment type is required");if(!e.brand)throw console.error("Missing required field: brand"),new Error("Brand is required");if(!e.model)throw console.error("Missing required field: model"),new Error("Model is required");if(!e.serial_number)throw console.error("Missing required field: serial_number"),new Error("Serial number is required");const i=Object.fromEntries(Object.entries(e).filter(([o,d])=>d!==void 0));console.log("Creating equipment with data:",i),Object.keys(i).forEach(o=>{o==="type_id"&&typeof i[o]=="string"?r.append(o,parseInt(i[o],10)):r.append(o,i[o])}),n&&r.append("referenceImage",n),t&&t.length>0&&t.forEach(o=>{r.append("files",o)});try{return(await ft.post("/api/equipment",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(o){throw console.error("Error in createEquipment:",o),o}},WN=async(e,t,n=[],r=[],i=null,o=!1)=>{try{const d=new FormData,x=Object.fromEntries(Object.entries(t).filter(([w,N])=>N!==void 0));console.log("Full equipment data:",t);const g=["location_id","type_id"];return Object.keys(x).forEach(w=>{w!=="reference_image_id"&&(g.includes(w)&&(x[w]===""||x[w]==="0")?(d.append(w,""),d.append(`${w}_is_null`,"true")):d.append(w,x[w]))}),i&&d.append("referenceImage",i),o&&d.append("removeReferenceImage","true"),n&&n.length>0&&n.forEach(w=>{d.append("files",w)}),r&&r.length>0&&d.append("filesToDelete",JSON.stringify(r)),console.log("Updating equipment with data:",x),console.log("Files to delete:",r),console.log("Reference image file:",i?i.name:"None"),console.log("Remove reference image:",o),(await ft.put(`/api/equipment/${e}`,d,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(d){throw console.error("Error in updateEquipment:",d),d}},QR=async e=>(await ft.delete(`/api/equipment/${e}`)).data,ah=(e,t=!1,n=!0)=>{if(!e)return null;const r=`/api/files/${e}`;let i=t?`${r}?thumbnail=true`:r;return n&&(i+=(i.includes("?")?"&":"?")+`t=${new Date().getTime()}`),i},KR=async(e,t)=>{try{return console.log(`Updating equipment ${e} status to ${t}`),(await ft.patch(`/api/equipment/${e}/status`,{status:t})).data}catch(n){throw console.error("Error updating equipment status:",n),n}},ZR=async(e,t)=>{try{return console.log(`Updating equipment ${e} location:`,t),(await ft.patch(`/api/equipment/${e}/location`,t)).data}catch(n){throw console.error("Error updating equipment location:",n),n}},JR=async(e,t)=>{try{return console.log(`Updating equipment ${e} type to ${t}`),(await ft.patch(`/api/equipment/${e}/type`,{type_id:t})).data}catch(n){throw console.error("Error updating equipment type:",n),n}},eO=async(e,t)=>{try{return console.log(`Updating equipment ${e} category to ${t}`),(await ft.patch(`/api/equipment/${e}/category`,{category_id:t})).data}catch(n){throw console.error("Error updating equipment category:",n),n}},tO=async(e,t)=>{try{return console.log(`Updating equipment ${e} brand/model:`,t),(await ft.patch(`/api/equipment/${e}/brand-model`,t)).data}catch(n){throw console.error("Error updating equipment brand/model:",n),n}},Li=async()=>{try{return(await ft.get("/api/equipment-types")).data}catch(e){throw console.error("Error fetching equipment types:",e),e}},nO=async e=>(await ft.post("/api/equipment-types",{name:e})).data,rO=async(e,t)=>(await ft.put(`/api/equipment-types/${e}`,{name:t})).data,sO=async e=>(await ft.delete(`/api/equipment-types/${e}`)).data,HN=M.createContext(),iO=3,qN=({children:e})=>{const[t,n]=M.useState([]),{user:r}=lr(),i=(r==null?void 0:r.role)==="admin",{data:o}=gt(["equipment",{limit:1e3}],()=>la({limit:1e3}),{enabled:i,refetchInterval:5*60*1e3,staleTime:4*60*1e3}),{data:d}=gt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5,enabled:i});M.useEffect(()=>{if(!i||!(o!=null&&o.equipment)||!(d!=null&&d.types))return;const A=o.equipment,O=d.types,L={};A.forEach(j=>{j.type&&(L[j.type]||(L[j.type]=[]),L[j.type].push(j))});const D=[];Object.entries(L).forEach(([j,I])=>{const W=I.filter(Q=>Q.status==="available");if(W.length<=iO){const Q=O.find(B=>B.name.toLowerCase()===j.toLowerCase());D.push({id:`low-stock-${j}`,type:"warning",title:"Low Stock Alert",message:`Only ${W.length} ${j} ${W.length===1?"item is":"items are"} available.`,timestamp:new Date,read:!1,typeId:Q==null?void 0:Q.id})}}),D.length>0&&n(j=>[...j.filter(W=>!W.id.startsWith("low-stock-")),...D])},[o,d,i]);const x=A=>{n(O=>[...O,{id:A.id||`notification-${Date.now()}`,timestamp:new Date,read:!1,...A}])},g=A=>{n(O=>O.map(L=>L.id===A?{...L,read:!0}:L))},v=()=>{n(A=>A.map(O=>({...O,read:!0})))},w=A=>{n(O=>O.filter(L=>L.id!==A))},N=()=>{n([])},_=t.filter(A=>!A.read).length,k={notifications:t,unreadCount:_,addNotification:x,markAsRead:g,markAllAsRead:v,removeNotification:w,clearNotifications:N};return a.jsx(HN.Provider,{value:k,children:e})};qN.propTypes={children:ie.node.isRequired};const aO=()=>{const e=M.useContext(HN);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},oO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),lO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})}),cO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),t2=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),uO=({className:e="w-5 h-5"})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),ib=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})}),oh=({className:e="w-5 h-5"})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),ac=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125"})}),n2=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),r2=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})}),dO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),fO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),Ed=({className:e="w-4 h-4"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),_d=({className:e="w-4 h-4"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),s2=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),ab=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),hO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})}),pO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75a2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),ob=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),VN=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),mO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),xO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),Ex=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),YN=6048e5,gO=864e5,ip=6e4,ap=36e5,vO=1e3,$f=43200,lb=1440,cb=Symbol.for("constructDateFrom");function Xt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&cb in e?e[cb](t):e instanceof Date?new e.constructor(t):new Date(t)}function $e(e,t){return Xt(t||e,e)}function di(e,t,n){const r=$e(e,n==null?void 0:n.in);return isNaN(t)?Xt((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function hi(e,t,n){const r=$e(e,n==null?void 0:n.in);if(isNaN(t))return Xt((n==null?void 0:n.in)||e,NaN);if(!t)return r;const i=r.getDate(),o=Xt((n==null?void 0:n.in)||e,r.getTime());o.setMonth(r.getMonth()+t+1,0);const d=o.getDate();return i>=d?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function $N(e,t,n){return Xt((n==null?void 0:n.in)||e,+$e(e)+t)}function yO(e,t,n){return $N(e,t*ap,n)}let wO={};function vo(){return wO}function wa(e,t){var x,g,v,w;const n=vo(),r=(t==null?void 0:t.weekStartsOn)??((g=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,i=$e(e,t==null?void 0:t.in),o=i.getDay(),d=(o<r?7:0)+o-r;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function vc(e,t){return wa(e,{...t,weekStartsOn:1})}function GN(e,t){const n=$e(e,t==null?void 0:t.in),r=n.getFullYear(),i=Xt(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=vc(i),d=Xt(n,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const x=vc(d);return n.getTime()>=o.getTime()?r+1:n.getTime()>=x.getTime()?r:r-1}function yc(e){const t=$e(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function mi(e,...t){const n=Xt.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function dl(e,t){const n=$e(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function wc(e,t,n){const[r,i]=mi(n==null?void 0:n.in,e,t),o=dl(r),d=dl(i),x=+o-yc(o),g=+d-yc(d);return Math.round((x-g)/gO)}function bO(e,t){const n=GN(e,t),r=Xt((t==null?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),vc(r)}function _x(e,t,n){const r=$e(e,n==null?void 0:n.in);return r.setTime(r.getTime()+t*ip),r}function i2(e,t,n){return hi(e,t*3,n)}function CO(e,t,n){return $N(e,t*1e3,n)}function lh(e,t,n){return di(e,t*7,n)}function ua(e,t,n){return hi(e,t*12,n)}function ub(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Xt.bind(null,i));const o=$e(i,r);(!n||n<o||isNaN(+o))&&(n=o)}),Xt(r,n||NaN)}function db(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Xt.bind(null,i));const o=$e(i,r);(!n||n>o||isNaN(+o))&&(n=o)}),Xt(r,n||NaN)}function y0(e,t){const n=+$e(e)-+$e(t);return n<0?-1:n>0?1:n}function NO(e){return Xt(e,Date.now())}function EO(e,t,n){const[r,i]=mi(n==null?void 0:n.in,e,t);return+dl(r)==+dl(i)}function da(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ch(e){return!(!da(e)&&typeof e!="number"||isNaN(+$e(e)))}function ud(e,t,n){const[r,i]=mi(n==null?void 0:n.in,e,t),o=r.getFullYear()-i.getFullYear(),d=r.getMonth()-i.getMonth();return o*12+d}function tl(e,t){const n=$e(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function uh(e,t,n){const[r,i]=mi(n==null?void 0:n.in,e,t),o=r.getFullYear()-i.getFullYear(),d=tl(r)-tl(i);return o*4+d}function dh(e,t,n){const[r,i]=mi(n==null?void 0:n.in,e,t);return r.getFullYear()-i.getFullYear()}function _O(e,t,n){const[r,i]=mi(n==null?void 0:n.in,e,t),o=fb(r,i),d=Math.abs(wc(r,i));r.setDate(r.getDate()-o*d);const x=+(fb(r,i)===-o),g=o*(d-x);return g===0?0:g}function fb(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function SO(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function AO(e,t){return+$e(e)-+$e(t)}function a2(e,t){const n=$e(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function o2(e,t){const n=$e(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function jO(e,t){const n=$e(e,t==null?void 0:t.in);return+a2(n,t)==+o2(n,t)}function kO(e,t,n){const[r,i,o]=mi(n==null?void 0:n.in,e,e,t),d=y0(i,o),x=Math.abs(ud(i,o));if(x<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-d*x);let g=y0(i,o)===-d;jO(r)&&x===1&&y0(r,o)===1&&(g=!1);const v=d*(x-+g);return v===0?0:v}function TO(e,t,n){const r=AO(e,t)/1e3;return SO(n==null?void 0:n.roundingMethod)(r)}function Sx(e,t){const n=$e(e,t==null?void 0:t.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function XN(e,t){const n=$e(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function QN(e,t){const n=$e(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function op(e,t){const n=$e(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function DO(e,t){var x,g,v,w;const n=vo(),r=(t==null?void 0:t.weekStartsOn)??((g=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,i=$e(e,t==null?void 0:t.in),o=i.getDay(),d=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}const IO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},RO=(e,t,n)=>{let r;const i=IO[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Z1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const OO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},LO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PO={date:Z1({formats:OO,defaultWidth:"full"}),time:Z1({formats:MO,defaultWidth:"full"}),dateTime:Z1({formats:LO,defaultWidth:"full"})},FO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},BO=(e,t,n,r)=>FO[e];function Cu(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,x=n!=null&&n.width?String(n.width):d;i=e.formattingValues[x]||e.formattingValues[d]}else{const d=e.defaultWidth,x=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[x]||e.values[d]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const UO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YO=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$O={ordinalNumber:YO,era:Cu({values:UO,defaultWidth:"wide"}),quarter:Cu({values:zO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Cu({values:WO,defaultWidth:"wide"}),day:Cu({values:HO,defaultWidth:"wide"}),dayPeriod:Cu({values:qO,defaultWidth:"wide",formattingValues:VO,defaultFormattingWidth:"wide"})};function Nu(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const d=o[0],x=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(x)?XO(x,N=>N.test(d)):GO(x,N=>N.test(d));let v;v=e.valueCallback?e.valueCallback(g):g,v=n.valueCallback?n.valueCallback(v):v;const w=t.slice(d.length);return{value:v,rest:w}}}function GO(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function XO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function QO(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let d=e.valueCallback?e.valueCallback(o[0]):o[0];d=n.valueCallback?n.valueCallback(d):d;const x=t.slice(i.length);return{value:d,rest:x}}}const KO=/^(\d+)(th|st|nd|rd)?/i,ZO=/\d+/i,JO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eM={any:[/^b/i,/^(a|c)/i]},tM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nM={any:[/1/i,/2/i,/3/i,/4/i]},rM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cM={ordinalNumber:QO({matchPattern:KO,parsePattern:ZO,valueCallback:e=>parseInt(e,10)}),era:Nu({matchPatterns:JO,defaultMatchWidth:"wide",parsePatterns:eM,defaultParseWidth:"any"}),quarter:Nu({matchPatterns:tM,defaultMatchWidth:"wide",parsePatterns:nM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Nu({matchPatterns:rM,defaultMatchWidth:"wide",parsePatterns:sM,defaultParseWidth:"any"}),day:Nu({matchPatterns:iM,defaultMatchWidth:"wide",parsePatterns:aM,defaultParseWidth:"any"}),dayPeriod:Nu({matchPatterns:oM,defaultMatchWidth:"any",parsePatterns:lM,defaultParseWidth:"any"})},l2={code:"en-US",formatDistance:RO,formatLong:PO,formatRelative:BO,localize:$O,match:cM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uM(e,t){const n=$e(e,t==null?void 0:t.in);return wc(n,op(n))+1}function c2(e,t){const n=$e(e,t==null?void 0:t.in),r=+vc(n)-+bO(n);return Math.round(r/YN)+1}function u2(e,t){var w,N,_,k;const n=$e(e,t==null?void 0:t.in),r=n.getFullYear(),i=vo(),o=(t==null?void 0:t.firstWeekContainsDate)??((N=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:N.firstWeekContainsDate)??i.firstWeekContainsDate??((k=(_=i.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=Xt((t==null?void 0:t.in)||e,0);d.setFullYear(r+1,0,o),d.setHours(0,0,0,0);const x=wa(d,t),g=Xt((t==null?void 0:t.in)||e,0);g.setFullYear(r,0,o),g.setHours(0,0,0,0);const v=wa(g,t);return+n>=+x?r+1:+n>=+v?r:r-1}function dM(e,t){var x,g,v,w;const n=vo(),r=(t==null?void 0:t.firstWeekContainsDate)??((g=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,i=u2(e,t),o=Xt((t==null?void 0:t.in)||e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),wa(o,t)}function KN(e,t){const n=$e(e,t==null?void 0:t.in),r=+wa(n,t)-+dM(n,t);return Math.round(r/YN)+1}function nn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ua={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return nn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):nn(n+1,2)},d(e,t){return nn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return nn(e.getHours()%12||12,t.length)},H(e,t){return nn(e.getHours(),t.length)},m(e,t){return nn(e.getMinutes(),t.length)},s(e,t){return nn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return nn(i,t.length)}},Fl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hb={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ua.y(e,t)},Y:function(e,t,n,r){const i=u2(e,r),o=i>0?i:1-i;if(t==="YY"){const d=o%100;return nn(d,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):nn(o,t.length)},R:function(e,t){const n=GN(e);return nn(n,t.length)},u:function(e,t){const n=e.getFullYear();return nn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return nn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return nn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ua.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return nn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=KN(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):nn(i,t.length)},I:function(e,t,n){const r=c2(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):nn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ua.d(e,t)},D:function(e,t,n){const r=uM(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):nn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return nn(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return nn(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return nn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Fl.noon:r===0?i=Fl.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Fl.evening:r>=12?i=Fl.afternoon:r>=4?i=Fl.morning:i=Fl.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ua.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ua.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):nn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):nn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ua.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ua.s(e,t)},S:function(e,t){return Ua.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return mb(r);case"XXXX":case"XX":return Vo(r);case"XXXXX":case"XXX":default:return Vo(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return mb(r);case"xxxx":case"xx":return Vo(r);case"xxxxx":case"xxx":default:return Vo(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pb(r,":");case"OOOO":default:return"GMT"+Vo(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pb(r,":");case"zzzz":default:return"GMT"+Vo(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return nn(r,t.length)},T:function(e,t,n){return nn(+e,t.length)}};function pb(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+nn(o,2)}function mb(e,t){return e%60===0?(e>0?"-":"+")+nn(Math.abs(e)/60,2):Vo(e,t)}function Vo(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=nn(Math.trunc(r/60),2),o=nn(r%60,2);return n+i+t+o}const xb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ZN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},fM=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return xb(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",xb(r,t)).replace("{{time}}",ZN(i,t))},Ax={p:ZN,P:fM},hM=/^D+$/,pM=/^Y+$/,mM=["D","DD","YY","YYYY"];function JN(e){return hM.test(e)}function eE(e){return pM.test(e)}function jx(e,t,n){const r=xM(e,t,n);if(console.warn(r),mM.includes(e))throw new RangeError(r)}function xM(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yM=/^'([^]*?)'?$/,wM=/''/g,bM=/[a-zA-Z]/;function dd(e,t,n){var w,N,_,k,A,O,L,D;const r=vo(),i=(n==null?void 0:n.locale)??r.locale??l2,o=(n==null?void 0:n.firstWeekContainsDate)??((N=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:N.firstWeekContainsDate)??r.firstWeekContainsDate??((k=(_=r.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((O=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:O.weekStartsOn)??r.weekStartsOn??((D=(L=r.locale)==null?void 0:L.options)==null?void 0:D.weekStartsOn)??0,x=$e(e,n==null?void 0:n.in);if(!ch(x))throw new RangeError("Invalid time value");let g=t.match(vM).map(j=>{const I=j[0];if(I==="p"||I==="P"){const W=Ax[I];return W(j,i.formatLong)}return j}).join("").match(gM).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const I=j[0];if(I==="'")return{isToken:!1,value:CM(j)};if(hb[I])return{isToken:!0,value:j};if(I.match(bM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(g=i.localize.preprocessor(x,g));const v={firstWeekContainsDate:o,weekStartsOn:d,locale:i};return g.map(j=>{if(!j.isToken)return j.value;const I=j.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&eE(I)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&JN(I))&&jx(I,t,String(e));const W=hb[I[0]];return W(x,I,i.localize,v)}).join("")}function CM(e){const t=e.match(yM);return t?t[1].replace(wM,"'"):e}function NM(e,t,n){const r=vo(),i=(n==null?void 0:n.locale)??r.locale??l2,o=2520,d=y0(e,t);if(isNaN(d))throw new RangeError("Invalid time value");const x=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:d}),[g,v]=mi(n==null?void 0:n.in,...d>0?[t,e]:[e,t]),w=TO(v,g),N=(yc(v)-yc(g))/1e3,_=Math.round((w-N)/60);let k;if(_<2)return n!=null&&n.includeSeconds?w<5?i.formatDistance("lessThanXSeconds",5,x):w<10?i.formatDistance("lessThanXSeconds",10,x):w<20?i.formatDistance("lessThanXSeconds",20,x):w<40?i.formatDistance("halfAMinute",0,x):w<60?i.formatDistance("lessThanXMinutes",1,x):i.formatDistance("xMinutes",1,x):_===0?i.formatDistance("lessThanXMinutes",1,x):i.formatDistance("xMinutes",_,x);if(_<45)return i.formatDistance("xMinutes",_,x);if(_<90)return i.formatDistance("aboutXHours",1,x);if(_<lb){const A=Math.round(_/60);return i.formatDistance("aboutXHours",A,x)}else{if(_<o)return i.formatDistance("xDays",1,x);if(_<$f){const A=Math.round(_/lb);return i.formatDistance("xDays",A,x)}else if(_<$f*2)return k=Math.round(_/$f),i.formatDistance("aboutXMonths",k,x)}if(k=kO(v,g),k<12){const A=Math.round(_/$f);return i.formatDistance("xMonths",A,x)}else{const A=k%12,O=Math.trunc(k/12);return A<3?i.formatDistance("aboutXYears",O,x):A<9?i.formatDistance("overXYears",O,x):i.formatDistance("almostXYears",O+1,x)}}function EM(e,t){return NM(e,NO(e),t)}function gb(e,t){return $e(e,t==null?void 0:t.in).getDate()}function _M(e,t){return $e(e,t==null?void 0:t.in).getDay()}function SM(e,t){const n=$e(e,t==null?void 0:t.in),r=n.getFullYear(),i=n.getMonth(),o=Xt(n,0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function AM(){return Object.assign({},vo())}function fa(e,t){return $e(e,t==null?void 0:t.in).getHours()}function jM(e,t){const n=$e(e,t==null?void 0:t.in).getDay();return n===0?7:n}function ha(e,t){return $e(e,t==null?void 0:t.in).getMinutes()}function Rr(e,t){return $e(e,t==null?void 0:t.in).getMonth()}function oo(e){return $e(e).getSeconds()}function kx(e){return+$e(e)}function Nt(e,t){return $e(e,t==null?void 0:t.in).getFullYear()}function fo(e,t){return+$e(e)>+$e(t)}function fl(e,t){return+$e(e)<+$e(t)}function kM(e,t){return+$e(e)==+$e(t)}function TM(e,t){const n=DM(t)?new t(0):Xt(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function DM(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const IM=10;class tE{constructor(){He(this,"subPriority",0)}validate(t,n){return!0}}class RM extends tE{constructor(t,n,r,i,o){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class OM extends tE{constructor(n,r){super();He(this,"priority",IM);He(this,"subPriority",-1);this.context=n||(i=>Xt(r,i))}set(n,r){return r.timestampIsSet?n:Xt(n,TM(n,this.context))}}class Ht{run(t,n,r,i){const o=this.parse(t,n,r,i);return o?{setter:new RM(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,n,r){return!0}}class MM extends Ht{constructor(){super(...arguments);He(this,"priority",140);He(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const $n={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ki={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Gn(e,t){return e&&{value:t(e.value),rest:e.rest}}function kn(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Ti(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,d=n[5]?parseInt(n[5],10):0;return{value:r*(i*ap+o*ip+d*vO),rest:t.slice(n[0].length)}}function nE(e){return kn($n.anyDigitsSigned,e)}function zn(e,t){switch(e){case 1:return kn($n.singleDigit,t);case 2:return kn($n.twoDigits,t);case 3:return kn($n.threeDigits,t);case 4:return kn($n.fourDigits,t);default:return kn(new RegExp("^\\d{1,"+e+"}"),t)}}function fh(e,t){switch(e){case 1:return kn($n.singleDigitSigned,t);case 2:return kn($n.twoDigitsSigned,t);case 3:return kn($n.threeDigitsSigned,t);case 4:return kn($n.fourDigitsSigned,t);default:return kn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function d2(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function rE(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const o=r+50,d=Math.trunc(o/100)*100,x=e>=o%100;i=e+d-(x?100:0)}return n?i:1-i}function sE(e){return e%400===0||e%4===0&&e%100!==0}class LM extends Ht{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=d=>({year:d,isTwoDigitYear:r==="yy"});switch(r){case"y":return Gn(zn(4,n),o);case"yo":return Gn(i.ordinalNumber(n,{unit:"year"}),o);default:return Gn(zn(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const x=rE(i.year,o);return n.setFullYear(x,0,1),n.setHours(0,0,0,0),n}const d=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(d,0,1),n.setHours(0,0,0,0),n}}class PM extends Ht{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=d=>({year:d,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Gn(zn(4,n),o);case"Yo":return Gn(i.ordinalNumber(n,{unit:"year"}),o);default:return Gn(zn(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const d=u2(n,o);if(i.isTwoDigitYear){const g=rE(i.year,d);return n.setFullYear(g,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),wa(n,o)}const x=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(x,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),wa(n,o)}}class FM extends Ht{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return fh(r==="R"?4:r.length,n)}set(n,r,i){const o=Xt(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),vc(o)}}class BM extends Ht{constructor(){super(...arguments);He(this,"priority",130);He(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return fh(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class UM extends Ht{constructor(){super(...arguments);He(this,"priority",120);He(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return zn(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class zM extends Ht{constructor(){super(...arguments);He(this,"priority",120);He(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return zn(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class WM extends Ht{constructor(){super(...arguments);He(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);He(this,"priority",110)}parse(n,r,i){const o=d=>d-1;switch(r){case"M":return Gn(kn($n.month,n),o);case"MM":return Gn(zn(2,n),o);case"Mo":return Gn(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class HM extends Ht{constructor(){super(...arguments);He(this,"priority",110);He(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=d=>d-1;switch(r){case"L":return Gn(kn($n.month,n),o);case"LL":return Gn(zn(2,n),o);case"Lo":return Gn(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function qM(e,t,n){const r=$e(e,n==null?void 0:n.in),i=KN(r,n)-t;return r.setDate(r.getDate()-i*7),$e(r,n==null?void 0:n.in)}class VM extends Ht{constructor(){super(...arguments);He(this,"priority",100);He(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return kn($n.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return zn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return wa(qM(n,i,o),o)}}function YM(e,t,n){const r=$e(e,n==null?void 0:n.in),i=c2(r,n)-t;return r.setDate(r.getDate()-i*7),r}class $M extends Ht{constructor(){super(...arguments);He(this,"priority",100);He(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return kn($n.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return zn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return vc(YM(n,i))}}const GM=[31,28,31,30,31,30,31,31,30,31,30,31],XM=[31,29,31,30,31,30,31,31,30,31,30,31];class QM extends Ht{constructor(){super(...arguments);He(this,"priority",90);He(this,"subPriority",1);He(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return kn($n.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return zn(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=sE(i),d=n.getMonth();return o?r>=1&&r<=XM[d]:r>=1&&r<=GM[d]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class KM extends Ht{constructor(){super(...arguments);He(this,"priority",90);He(this,"subpriority",1);He(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return kn($n.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return zn(r.length,n)}}validate(n,r){const i=n.getFullYear();return sE(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function f2(e,t,n){var N,_,k,A;const r=vo(),i=(n==null?void 0:n.weekStartsOn)??((_=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((A=(k=r.locale)==null?void 0:k.options)==null?void 0:A.weekStartsOn)??0,o=$e(e,n==null?void 0:n.in),d=o.getDay(),g=(t%7+7)%7,v=7-i,w=t<0||t>6?t-(d+v)%7:(g+v)%7-(d+v)%7;return di(o,w,n)}class ZM extends Ht{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=f2(n,i,o),n.setHours(0,0,0,0),n}}class JM extends Ht{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const d=x=>{const g=Math.floor((x-1)/7)*7;return(x+o.weekStartsOn+6)%7+g};switch(r){case"e":case"ee":return Gn(zn(r.length,n),d);case"eo":return Gn(i.ordinalNumber(n,{unit:"day"}),d);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=f2(n,i,o),n.setHours(0,0,0,0),n}}class e9 extends Ht{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const d=x=>{const g=Math.floor((x-1)/7)*7;return(x+o.weekStartsOn+6)%7+g};switch(r){case"c":case"cc":return Gn(zn(r.length,n),d);case"co":return Gn(i.ordinalNumber(n,{unit:"day"}),d);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=f2(n,i,o),n.setHours(0,0,0,0),n}}function t9(e,t,n){const r=$e(e,n==null?void 0:n.in),i=jM(r,n),o=t-i;return di(r,o,n)}class n9 extends Ht{constructor(){super(...arguments);He(this,"priority",90);He(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=d=>d===0?7:d;switch(r){case"i":case"ii":return zn(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Gn(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return Gn(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Gn(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Gn(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=t9(n,i),n.setHours(0,0,0,0),n}}class r9 extends Ht{constructor(){super(...arguments);He(this,"priority",80);He(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(d2(i),0,0,0),n}}class s9 extends Ht{constructor(){super(...arguments);He(this,"priority",80);He(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(d2(i),0,0,0),n}}class i9 extends Ht{constructor(){super(...arguments);He(this,"priority",80);He(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(d2(i),0,0,0),n}}class a9 extends Ht{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return kn($n.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return zn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class o9 extends Ht{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return kn($n.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return zn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class l9 extends Ht{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return kn($n.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return zn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class c9 extends Ht{constructor(){super(...arguments);He(this,"priority",70);He(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return kn($n.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return zn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class u9 extends Ht{constructor(){super(...arguments);He(this,"priority",60);He(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return kn($n.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return zn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class d9 extends Ht{constructor(){super(...arguments);He(this,"priority",50);He(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return kn($n.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return zn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class f9 extends Ht{constructor(){super(...arguments);He(this,"priority",30);He(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Gn(zn(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class h9 extends Ht{constructor(){super(...arguments);He(this,"priority",10);He(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Ti(ki.basicOptionalMinutes,n);case"XX":return Ti(ki.basic,n);case"XXXX":return Ti(ki.basicOptionalSeconds,n);case"XXXXX":return Ti(ki.extendedOptionalSeconds,n);case"XXX":default:return Ti(ki.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Xt(n,n.getTime()-yc(n)-i)}}class p9 extends Ht{constructor(){super(...arguments);He(this,"priority",10);He(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Ti(ki.basicOptionalMinutes,n);case"xx":return Ti(ki.basic,n);case"xxxx":return Ti(ki.basicOptionalSeconds,n);case"xxxxx":return Ti(ki.extendedOptionalSeconds,n);case"xxx":default:return Ti(ki.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Xt(n,n.getTime()-yc(n)-i)}}class m9 extends Ht{constructor(){super(...arguments);He(this,"priority",40);He(this,"incompatibleTokens","*")}parse(n){return nE(n)}set(n,r,i){return[Xt(n,i*1e3),{timestampIsSet:!0}]}}class x9 extends Ht{constructor(){super(...arguments);He(this,"priority",20);He(this,"incompatibleTokens","*")}parse(n){return nE(n)}set(n,r,i){return[Xt(n,i),{timestampIsSet:!0}]}}const g9={G:new MM,y:new LM,Y:new PM,R:new FM,u:new BM,Q:new UM,q:new zM,M:new WM,L:new HM,w:new VM,I:new $M,d:new QM,D:new KM,E:new ZM,e:new JM,c:new e9,i:new n9,a:new r9,b:new s9,B:new i9,h:new a9,H:new o9,K:new l9,k:new c9,m:new u9,s:new d9,S:new f9,X:new h9,x:new p9,t:new m9,T:new x9},v9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w9=/^'([^]*?)'?$/,b9=/''/g,C9=/\S/,N9=/[a-zA-Z]/;function E9(e,t,n,r){var L,D,j,I,W,Q,B,R;const i=()=>Xt((r==null?void 0:r.in)||n,NaN),o=AM(),d=(r==null?void 0:r.locale)??o.locale??l2,x=(r==null?void 0:r.firstWeekContainsDate)??((D=(L=r==null?void 0:r.locale)==null?void 0:L.options)==null?void 0:D.firstWeekContainsDate)??o.firstWeekContainsDate??((I=(j=o.locale)==null?void 0:j.options)==null?void 0:I.firstWeekContainsDate)??1,g=(r==null?void 0:r.weekStartsOn)??((Q=(W=r==null?void 0:r.locale)==null?void 0:W.options)==null?void 0:Q.weekStartsOn)??o.weekStartsOn??((R=(B=o.locale)==null?void 0:B.options)==null?void 0:R.weekStartsOn)??0;if(!t)return e?i():$e(n,r==null?void 0:r.in);const v={firstWeekContainsDate:x,weekStartsOn:g,locale:d},w=[new OM(r==null?void 0:r.in,n)],N=t.match(y9).map(q=>{const V=q[0];if(V in Ax){const te=Ax[V];return te(q,d.formatLong)}return q}).join("").match(v9),_=[];for(let q of N){!(r!=null&&r.useAdditionalWeekYearTokens)&&eE(q)&&jx(q,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&JN(q)&&jx(q,t,e);const V=q[0],te=g9[V];if(te){const{incompatibleTokens:ce}=te;if(Array.isArray(ce)){const oe=_.find(ke=>ce.includes(ke.token)||ke.token===V);if(oe)throw new RangeError(`The format string mustn't contain \`${oe.fullToken}\` and \`${q}\` at the same time`)}else if(te.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${q}\` and any other token at the same time`);_.push({token:V,fullToken:q});const J=te.run(e,q,d.match,v);if(!J)return i();w.push(J.setter),e=J.rest}else{if(V.match(N9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");if(q==="''"?q="'":V==="'"&&(q=_9(q)),e.indexOf(q)===0)e=e.slice(q.length);else return i()}}if(e.length>0&&C9.test(e))return i();const k=w.map(q=>q.priority).sort((q,V)=>V-q).filter((q,V,te)=>te.indexOf(q)===V).map(q=>w.filter(V=>V.priority===q).sort((V,te)=>te.subPriority-V.subPriority)).map(q=>q[0]);let A=$e(n,r==null?void 0:r.in);if(isNaN(+A))return i();const O={};for(const q of k){if(!q.validate(A,v))return i();const V=q.set(A,O,v);Array.isArray(V)?(A=V[0],Object.assign(O,V[1])):A=V}return A}function _9(e){return e.match(w9)[1].replace(b9,"'")}function S9(e,t,n){const[r,i]=mi(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function A9(e,t,n){const[r,i]=mi(n==null?void 0:n.in,e,t);return+Sx(r)==+Sx(i)}function j9(e,t,n){const[r,i]=mi(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()}function fd(e,t,n){const r=+$e(e,n==null?void 0:n.in),[i,o]=[+$e(t.start,n==null?void 0:n.in),+$e(t.end,n==null?void 0:n.in)].sort((d,x)=>d-x);return r>=i&&r<=o}function k9(e,t,n){return di(e,-t,n)}function T9(e,t){const n=()=>Xt(t==null?void 0:t.in,NaN),r=(t==null?void 0:t.additionalDigits)??2,i=O9(e);let o;if(i.date){const v=M9(i.date,r);o=L9(v.restDateString,v.year)}if(!o||isNaN(+o))return n();const d=+o;let x=0,g;if(i.time&&(x=P9(i.time),isNaN(x)))return n();if(i.timezone){if(g=F9(i.timezone),isNaN(g))return n()}else{const v=new Date(d+x),w=$e(0,t==null?void 0:t.in);return w.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),w.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),w}return $e(d+x+g,t==null?void 0:t.in)}const Gf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},D9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,I9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,R9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function O9(e){const t={},n=e.split(Gf.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Gf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Gf.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=Gf.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function M9(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function L9(e,t){if(t===null)return new Date(NaN);const n=e.match(D9);if(!n)return new Date(NaN);const r=!!n[4],i=Eu(n[1]),o=Eu(n[2])-1,d=Eu(n[3]),x=Eu(n[4]),g=Eu(n[5])-1;if(r)return H9(t,x,g)?B9(t,x,g):new Date(NaN);{const v=new Date(0);return!z9(t,o,d)||!W9(t,i)?new Date(NaN):(v.setUTCFullYear(t,o,Math.max(i,d)),v)}}function Eu(e){return e?parseInt(e):1}function P9(e){const t=e.match(I9);if(!t)return NaN;const n=J1(t[1]),r=J1(t[2]),i=J1(t[3]);return q9(n,r,i)?n*ap+r*ip+i*1e3:NaN}function J1(e){return e&&parseFloat(e.replace(",","."))||0}function F9(e){if(e==="Z")return 0;const t=e.match(R9);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return V9(r,i)?n*(r*ap+i*ip):NaN}function B9(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,o=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const U9=[31,null,31,30,31,30,31,31,30,31,30,31];function iE(e){return e%400===0||e%4===0&&e%100!==0}function z9(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(U9[t]||(iE(e)?29:28))}function W9(e,t){return t>=1&&t<=(iE(e)?366:365)}function H9(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function q9(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function V9(e,t){return t>=0&&t<=59}function Us(e,t,n){const r=$e(e,n==null?void 0:n.in),i=r.getFullYear(),o=r.getDate(),d=Xt((n==null?void 0:n.in)||e,0);d.setFullYear(i,t,15),d.setHours(0,0,0,0);const x=SM(d);return r.setMonth(t,Math.min(o,x)),r}function w0(e,t,n){const r=$e(e,n==null?void 0:n.in);return r.setHours(t),r}function b0(e,t,n){const r=$e(e,n==null?void 0:n.in);return r.setMinutes(t),r}function Bl(e,t,n){const r=$e(e,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,o=t-i;return Us(r,r.getMonth()+o*3)}function C0(e,t,n){const r=$e(e,n==null?void 0:n.in);return r.setSeconds(t),r}function _i(e,t,n){const r=$e(e,n==null?void 0:n.in);return isNaN(+r)?Xt((n==null?void 0:n.in)||e,NaN):(r.setFullYear(t),r)}function nl(e,t,n){return hi(e,-t,n)}function aE(e,t,n){return i2(e,-t,n)}function vb(e,t,n){return lh(e,-t,n)}function bc(e,t,n){return ua(e,-t,n)}const Y9=()=>{const[e,t]=M.useState(!1),n=M.useRef(null),{notifications:r,unreadCount:i,markAsRead:o,markAllAsRead:d,clearNotifications:x}=aO();M.useEffect(()=>{const N=_=>{n.current&&!n.current.contains(_.target)&&t(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const g=()=>{t(!e)},v=N=>{o(N.id),t(!1)},w=N=>{switch(N){case"warning":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"success":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});default:return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}};return a.jsxs("div",{className:"relative",ref:n,children:[a.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-800 focus:outline-none",onClick:g,"aria-label":`Notifications ${i>0?`(${i} unread)`:""}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),i>0&&a.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:i})]}),e&&a.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsxs("div",{className:"px-4 py-2 bg-gray-100 flex justify-between items-center",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Notifications"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:d,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"}),a.jsx("button",{onClick:x,className:"text-xs text-red-600 hover:text-red-800",children:"Clear all"})]})]}),a.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.length===0?a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No notifications"}):r.map(N=>a.jsx("div",{className:`px-4 py-3 border-b border-gray-100 ${N.read?"":"bg-blue-50"}`,onClick:()=>v(N),children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:w(N.type)}),a.jsxs("div",{className:"ml-3 w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.title}),a.jsx("p",{className:"text-sm text-gray-600",children:N.message}),N.typeId&&a.jsx(Fn,{to:`/equipment?type=${N.typeId}`,className:"text-xs text-blue-600 hover:text-blue-800 mt-1 inline-block",onClick:_=>_.stopPropagation(),children:"View equipment"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:EM(new Date(N.timestamp),{addSuffix:!0})})]})]})},N.id))})]})})]})},$9=({toggleSidebar:e})=>{const{user:t,logout:n,isImpersonating:r}=lr(),i=Xs(),o=()=>{n(),i("/login")};return a.jsx("nav",{className:"bg-white text-slate-800 shadow-soft sticky top-0 z-30 border-b border-slate-200 h-16",children:a.jsx("div",{className:"container-app py-0",children:a.jsxs("div",{className:"flex justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs(Fn,{to:"/",className:"flex-shrink-0 flex items-center gap-2",children:[a.jsx("img",{src:"/bird-logo.svg",alt:"Theater Equipment Logo",className:"w-8 h-8"}),a.jsx("span",{className:"text-xl font-bold text-slate-800",children:"Ton Equipment Inventory"})]})}),t?a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"flex items-center gap-3",children:[t.role==="admin"&&a.jsx(Y9,{}),a.jsxs("div",{className:"px-3 py-1 rounded-full bg-slate-100 text-slate-700 text-sm flex items-center",children:[a.jsx("span",{className:"font-medium",children:t.username}),a.jsx("span",{className:"ml-1 text-xs px-1.5 py-0.5 bg-primary-100 text-primary-700 rounded-full",children:t.role}),r()&&a.jsx("span",{className:"ml-1 text-xs bg-yellow-100 text-yellow-700 px-1.5 py-0.5 rounded-full border border-yellow-200",children:"Impersonating"})]}),a.jsxs("button",{onClick:o,className:"nav-link text-slate-600 hover:text-red-600","aria-label":"Logout",children:[a.jsx(ib,{}),a.jsx("span",{className:"hidden md:inline",children:r()?"End Impersonation":"Logout"})]})]})}):a.jsx("div",{className:"flex items-center",children:a.jsxs(Fn,{to:"/login",className:"btn btn-primary",children:[a.jsx(ib,{className:"rotate-180"}),a.jsx("span",{children:"Login"})]})})]})})})},G9=({className:e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:a.jsx("polyline",{points:"9 18 15 12 9 6"})}),X9=({isOpen:e,isCollapsed:t,toggleSidebar:n,toggleCollapse:r})=>{const{isAdmin:i,isAdvanced:o}=lr(),d=Ic();M.useEffect(()=>{const g=()=>{window.innerWidth<768&&e&&n(!1)};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[e,n]);const x=g=>d.pathname===g;return a.jsxs(a.Fragment,{children:[e&&a.jsx("div",{className:"sidebar-overlay",onClick:()=>n(!1),style:{opacity:e?1:0}}),a.jsxs("aside",{className:`sidebar ${e?"":"sidebar-hidden"} ${t?"sidebar-collapsed":"sidebar-expanded"}`,children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2",children:[!t&&a.jsx("span",{className:"text-lg font-semibold text-slate-800",children:"Navigation"}),a.jsxs("div",{className:"flex",children:[a.jsx("button",{onClick:()=>r(!t),className:"sidebar-collapse-btn","aria-label":t?"Expand sidebar":"Collapse sidebar",children:t?a.jsx(G9,{className:"w-4 h-4"}):a.jsx(fO,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>n(!e),className:"sidebar-toggle-btn md:hidden","aria-label":e?"Hide sidebar":"Show sidebar",children:a.jsx(dO,{className:"w-4 h-4"})})]})]}),a.jsxs("nav",{className:"sidebar-nav",children:[a.jsxs(Fn,{to:"/dashboard",className:`sidebar-nav-item ${x("/dashboard")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Dashboard",children:[a.jsx(oO,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Dashboard"})]}),a.jsxs(Fn,{to:"/equipment",className:`sidebar-nav-item ${x("/equipment")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Equipment",children:[a.jsx(lO,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Equipment"})]}),a.jsxs(Fn,{to:"/show-list",className:`sidebar-nav-item ${x("/show-list")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Show List",children:[a.jsx(Ex,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Show List"})]}),(i()||o())&&a.jsxs(Fn,{to:"/equipment/new",className:`sidebar-nav-item ${x("/equipment/new")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Add Equipment",children:[a.jsx(t2,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Add Equipment"})]}),i()&&a.jsxs(Fn,{to:"/equipment-logs",className:`sidebar-nav-item ${x("/equipment-logs")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Equipment Logs",children:[a.jsx(pO,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Equipment Logs"})]}),i()&&a.jsxs(Fn,{to:"/admin",className:`sidebar-nav-item ${x("/admin")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Admin",children:[a.jsx(cO,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Admin"})]}),a.jsxs(Fn,{to:"/settings",className:`sidebar-nav-item ${x("/settings")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Settings",children:[a.jsx(uO,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Settings"})]})]})]})]})},Q9=()=>{const{user:e,isImpersonating:t,logout:n}=lr();return t()?a.jsx("div",{className:"bg-yellow-500 text-white py-2",children:a.jsxs("div",{className:"container-app py-0 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Impersonation Mode:"})," You are currently viewing the application as ",e.username," (",e.role,")"]}),a.jsx("button",{onClick:n,className:"bg-white text-yellow-700 px-3 py-1 rounded-md text-sm font-medium hover:bg-yellow-100",children:"End Impersonation"})]})}):null},K9=()=>{const[e,t]=M.useState(""),[n,r]=M.useState(""),[i,o]=M.useState(""),[d,x]=M.useState(!1),{login:g}=lr(),v=Xs(),w=async N=>{var _,k;if(N.preventDefault(),!e||!n){o("Username and password are required");return}try{x(!0),o(""),await g(e,n),v("/dashboard")}catch(A){o(((k=(_=A.response)==null?void 0:_.data)==null?void 0:k.message)||"Login failed")}finally{x(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Theater Equipment Catalog"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[i&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:a.jsx("p",{className:"text-red-700",children:i})}),a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),a.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:N=>t(N.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:N=>r(N.target.value)})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:d,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${d?"opacity-70 cursor-not-allowed":""}`,children:d?"Signing in...":"Sign in"})}),a.jsx("div",{className:"text-sm text-center",children:a.jsx("p",{className:"text-gray-600",children:"Insert the credentials the admin provided to you"})})]})]})})},xl=async()=>{try{return{categories:(await ft.get("/api/categories")).data}}catch(e){return console.error("Error fetching categories:",e),{categories:[]}}},Z9=async(e,t="")=>(await ft.post("/api/categories",{name:e,description:t})).data,J9=async(e,t,n="")=>(await ft.put(`/api/categories/${e}`,{name:t,description:n})).data,eL=async e=>(await ft.delete(`/api/categories/${e}`)).data,oE=async()=>{try{return{searches:(await ft.get("/api/saved-searches")).data||[]}}catch(e){return console.error("Error fetching saved searches:",e),{searches:[]}}},lE=async e=>{try{return(await ft.post("/api/saved-searches",e)).data}catch(t){throw console.error("Error saving search:",t),t}},cE=async e=>{try{return(await ft.delete(`/api/saved-searches/${e}`)).data}catch(t){throw console.error("Error deleting saved search:",t),t}},Re=({children:e,variant:t="primary",size:n="md",type:r="button",fullWidth:i=!1,disabled:o=!1,onClick:d,className:x="",as:g="button",...v})=>{const w="inline-flex items-center justify-center font-medium transition-all duration-200 rounded-md focus:outline-none focus:ring-1 focus:ring-offset-1",N={primary:"bg-white text-primary-600 hover:bg-primary-50 focus:ring-primary-500 border border-primary-500 hover:border-primary-600 hover:shadow-sm transition-all",secondary:"bg-white text-slate-600 hover:bg-slate-50 focus:ring-slate-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",outline:"bg-white hover:bg-slate-50 text-slate-700 focus:ring-primary-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",danger:"bg-white text-red-600 hover:bg-red-50 focus:ring-red-500 border border-red-500 hover:border-red-600 hover:shadow-sm transition-all",success:"bg-white text-green-600 hover:bg-green-50 focus:ring-green-500 border border-green-500 hover:border-green-600 hover:shadow-sm transition-all",ghost:"bg-transparent hover:bg-slate-100 text-slate-700 focus:ring-slate-500 border border-transparent hover:shadow-sm transition-all"},_={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-sm"},k=o?"opacity-60 cursor-not-allowed":"cursor-pointer",A=i?"w-full":"",O=`
    ${w}
    ${N[t]||N.primary}
    ${_[n]||_.md}
    ${k}
    ${A}
    ${x}
  `,L=g==="button"?{type:r,...v}:v;return a.jsx(g,{className:O,disabled:o,onClick:d,...L,children:e})};Re.propTypes={children:ie.node.isRequired,variant:ie.oneOf(["primary","secondary","outline","danger","success","ghost"]),size:ie.oneOf(["sm","md","lg"]),type:ie.oneOf(["button","submit","reset"]),fullWidth:ie.bool,disabled:ie.bool,onClick:ie.func,className:ie.string,as:ie.elementType};const xt=({id:e,name:t,type:n="text",label:r,placeholder:i,value:o,onChange:d,onBlur:x,error:g,icon:v,disabled:w=!1,required:N=!1,className:_="",...k})=>{const j=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${g?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${w?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    ${v?"pl-10":"pl-3"}
    py-2 pr-3 text-sm
    ${_}
  `;return a.jsxs("div",{className:"w-full",children:[r&&a.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${g?"text-red-600":"text-slate-700"}`,children:[r,N&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[v&&a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:v}),a.jsx("input",{id:e,name:t,type:n,value:o,onChange:d,onBlur:x,placeholder:i,disabled:w,required:N,className:j,...k})]}),g&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:g})]})};xt.propTypes={id:ie.string.isRequired,name:ie.string.isRequired,type:ie.string,label:ie.string,placeholder:ie.string,value:ie.oneOfType([ie.string,ie.number]),onChange:ie.func,onBlur:ie.func,error:ie.string,icon:ie.node,disabled:ie.bool,required:ie.bool,className:ie.string};var qe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(qe||(qe={}));var yb=new Map([[qe.QR_CODE,"QR_CODE"],[qe.AZTEC,"AZTEC"],[qe.CODABAR,"CODABAR"],[qe.CODE_39,"CODE_39"],[qe.CODE_93,"CODE_93"],[qe.CODE_128,"CODE_128"],[qe.DATA_MATRIX,"DATA_MATRIX"],[qe.MAXICODE,"MAXICODE"],[qe.ITF,"ITF"],[qe.EAN_13,"EAN_13"],[qe.EAN_8,"EAN_8"],[qe.PDF_417,"PDF_417"],[qe.RSS_14,"RSS_14"],[qe.RSS_EXPANDED,"RSS_EXPANDED"],[qe.UPC_A,"UPC_A"],[qe.UPC_E,"UPC_E"],[qe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),wb;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(wb||(wb={}));function tL(e){return Object.values(qe).includes(e)}var hh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(hh||(hh={}));var nL=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[hh.SCAN_TYPE_CAMERA,hh.SCAN_TYPE_FILE],e}(),uE=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!yb.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,yb.get(t))},e}(),bb=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Tx;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Tx||(Tx={}));var rL=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Tx.UNKWOWN_ERROR}},e}(),sL=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ra(e){return typeof e>"u"||e===null}var Jl=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),dE=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(i),d=Object.keys(t),x=0,g=d;x<g.length;x++){var v=g[x];if(o.has(v))return n.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},e}(),Dx={exports:{}};(function(e,t){(function(n,r){r(t)})(Ai,function(n){function r(P){return P==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,s){P.__proto__=s}||function(P,s){for(var l in s)s.hasOwnProperty(l)&&(P[l]=s[l])};function o(P,s){i(P,s);function l(){this.constructor=P}P.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}function d(P,s){var l=Object.setPrototypeOf;l?l(P,s):P.__proto__=s}function x(P,s){s===void 0&&(s=P.constructor);var l=Error.captureStackTrace;l&&l(P,s)}var g=function(P){o(s,P);function s(l){var c=this.constructor,f=P.call(this,l)||this;return Object.defineProperty(f,"name",{value:c.name,enumerable:!1}),d(f,c.prototype),x(f),f}return s}(Error);class v extends g{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}v.kind="Exception";class w extends v{}w.kind="ArgumentException";class N extends v{}N.kind="IllegalArgumentException";class _{constructor(s){if(this.binarizer=s,s===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,l){return this.binarizer.getBlackRow(s,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,l,c,f){const h=this.binarizer.getLuminanceSource().crop(s,l,c,f);return new _(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends v{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class A{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(s,l,c,f,h){for(;h--;)c[f++]=s[l++]}static currentTimeMillis(){return Date.now()}}class L extends v{}L.kind="IndexOutOfBoundsException";class D extends L{constructor(s=void 0,l=void 0){super(l),this.index=s,this.message=l}}D.kind="ArrayIndexOutOfBoundsException";class j{static fill(s,l){for(let c=0,f=s.length;c<f;c++)s[c]=l}static fillWithin(s,l,c,f){j.rangeCheck(s.length,l,c);for(let h=l;h<c;h++)s[h]=f}static rangeCheck(s,l,c){if(l>c)throw new N("fromIndex("+l+") > toIndex("+c+")");if(l<0)throw new D(l);if(c>s)throw new D(c)}static asList(...s){return s}static create(s,l,c){return Array.from({length:s}).map(h=>Array.from({length:l}).fill(c))}static createInt32Array(s,l,c){return Array.from({length:s}).map(h=>Int32Array.from({length:l}).fill(c))}static equals(s,l){if(!s||!l||!s.length||!l.length||s.length!==l.length)return!1;for(let c=0,f=s.length;c<f;c++)if(s[c]!==l[c])return!1;return!0}static hashCode(s){if(s===null)return 0;let l=1;for(const c of s)l=31*l+c;return l}static fillUint8Array(s,l){for(let c=0;c!==s.length;c++)s[c]=l}static copyOf(s,l){return s.slice(0,l)}static copyOfUint8Array(s,l){if(s.length<=l){const c=new Uint8Array(l);return c.set(s),c}return s.slice(0,l)}static copyOfRange(s,l,c){const f=c-l,h=new Int32Array(f);return O.arraycopy(s,l,h,0,f),h}static binarySearch(s,l,c){c===void 0&&(c=j.numberComparator);let f=0,h=s.length-1;for(;f<=h;){const m=h+f>>1,y=c(l,s[m]);if(y>0)f=m+1;else if(y<0)h=m-1;else return m}return-f-1}static numberComparator(s,l){return s-l}}class I{static numberOfTrailingZeros(s){let l;if(s===0)return 32;let c=31;return l=s<<16,l!==0&&(c-=16,s=l),l=s<<8,l!==0&&(c-=8,s=l),l=s<<4,l!==0&&(c-=4,s=l),l=s<<2,l!==0&&(c-=2,s=l),c-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let l=1;return s>>>16||(l+=16,s<<=16),s>>>24||(l+=8,s<<=8),s>>>28||(l+=4,s<<=4),s>>>30||(l+=2,s<<=2),l-=s>>>31,l}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,l){return Math.trunc(s/l)}static parseInt(s,l=void 0){return parseInt(s,l)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class W{constructor(s,l){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,l==null?this.bits=W.makeArray(s):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const l=W.makeArray(s);O.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const l=this.size;if(s>=l)return l;const c=this.bits;let f=Math.floor(s/32),h=c[f];h&=~((1<<(s&31))-1);const m=c.length;for(;h===0;){if(++f===m)return l;h=c[f]}const y=f*32+I.numberOfTrailingZeros(h);return y>l?l:y}getNextUnset(s){const l=this.size;if(s>=l)return l;const c=this.bits;let f=Math.floor(s/32),h=~c[f];h&=~((1<<(s&31))-1);const m=c.length;for(;h===0;){if(++f===m)return l;h=~c[f]}const y=f*32+I.numberOfTrailingZeros(h);return y>l?l:y}setBulk(s,l){this.bits[Math.floor(s/32)]=l}setRange(s,l){if(l<s||s<0||l>this.size)throw new N;if(l===s)return;l--;const c=Math.floor(s/32),f=Math.floor(l/32),h=this.bits;for(let m=c;m<=f;m++){const y=m>c?0:s&31,E=(2<<(m<f?31:l&31))-(1<<y);h[m]|=E}}clear(){const s=this.bits.length,l=this.bits;for(let c=0;c<s;c++)l[c]=0}isRange(s,l,c){if(l<s||s<0||l>this.size)throw new N;if(l===s)return!0;l--;const f=Math.floor(s/32),h=Math.floor(l/32),m=this.bits;for(let y=f;y<=h;y++){const C=y>f?0:s&31,T=(2<<(y<h?31:l&31))-(1<<C)&4294967295;if((m[y]&T)!==(c?T:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,l){if(l<0||l>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let c=l;c>0;c--)this.appendBit((s>>c-1&1)===1)}appendBitArray(s){const l=s.size;this.ensureCapacity(this.size+l);for(let c=0;c<l;c++)this.appendBit(s.get(c))}xor(s){if(this.size!==s.size)throw new N("Sizes don't match");const l=this.bits;for(let c=0,f=l.length;c<f;c++)l[c]^=s.bits[c]}toBytes(s,l,c,f){for(let h=0;h<f;h++){let m=0;for(let y=0;y<8;y++)this.get(s)&&(m|=1<<7-y),s++;l[c+h]=m}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),c=l+1,f=this.bits;for(let h=0;h<c;h++){let m=f[h];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,s[l-h]=m}if(this.size!==c*32){const h=c*32-this.size;let m=s[0]>>>h;for(let y=1;y<c;y++){const C=s[y];m|=C<<32-h,s[y-1]=m,m=C>>>h}s[c-1]=m}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof W))return!1;const l=s;return this.size===l.size&&j.equals(this.bits,l.bits)}hashCode(){return 31*this.size+j.hashCode(this.bits)}toString(){let s="";for(let l=0,c=this.size;l<c;l++)l&7||(s+=" "),s+=this.get(l)?"X":".";return s}clone(){return new W(this.size,this.bits.slice())}}var Q;(function(P){P[P.OTHER=0]="OTHER",P[P.PURE_BARCODE=1]="PURE_BARCODE",P[P.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",P[P.TRY_HARDER=3]="TRY_HARDER",P[P.CHARACTER_SET=4]="CHARACTER_SET",P[P.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",P[P.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",P[P.ASSUME_GS1=7]="ASSUME_GS1",P[P.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",P[P.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",P[P.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var B=Q;class R extends v{static getFormatInstance(){return new R}}R.kind="FormatException";var q;(function(P){P[P.Cp437=0]="Cp437",P[P.ISO8859_1=1]="ISO8859_1",P[P.ISO8859_2=2]="ISO8859_2",P[P.ISO8859_3=3]="ISO8859_3",P[P.ISO8859_4=4]="ISO8859_4",P[P.ISO8859_5=5]="ISO8859_5",P[P.ISO8859_6=6]="ISO8859_6",P[P.ISO8859_7=7]="ISO8859_7",P[P.ISO8859_8=8]="ISO8859_8",P[P.ISO8859_9=9]="ISO8859_9",P[P.ISO8859_10=10]="ISO8859_10",P[P.ISO8859_11=11]="ISO8859_11",P[P.ISO8859_13=12]="ISO8859_13",P[P.ISO8859_14=13]="ISO8859_14",P[P.ISO8859_15=14]="ISO8859_15",P[P.ISO8859_16=15]="ISO8859_16",P[P.SJIS=16]="SJIS",P[P.Cp1250=17]="Cp1250",P[P.Cp1251=18]="Cp1251",P[P.Cp1252=19]="Cp1252",P[P.Cp1256=20]="Cp1256",P[P.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",P[P.UTF8=22]="UTF8",P[P.ASCII=23]="ASCII",P[P.Big5=24]="Big5",P[P.GB18030=25]="GB18030",P[P.EUC_KR=26]="EUC_KR"})(q||(q={}));class V{constructor(s,l,c,...f){this.valueIdentifier=s,this.name=c,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=f,V.VALUE_IDENTIFIER_TO_ECI.set(s,this),V.NAME_TO_ECI.set(c,this);const h=this.values;for(let m=0,y=h.length;m!==y;m++){const C=h[m];V.VALUES_TO_ECI.set(C,this)}for(const m of f)V.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new R("incorect value");const l=V.VALUES_TO_ECI.get(s);if(l===void 0)throw new R("incorect value");return l}static getCharacterSetECIByName(s){const l=V.NAME_TO_ECI.get(s);if(l===void 0)throw new R("incorect value");return l}equals(s){if(!(s instanceof V))return!1;const l=s;return this.getName()===l.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(q.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(q.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(q.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(q.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(q.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(q.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(q.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(q.Big5,28,"Big5"),V.GB18030=new V(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(q.EUC_KR,30,"EUC_KR","EUC-KR");class te extends v{}te.kind="UnsupportedOperationException";class ce{static decode(s,l){const c=this.encodingName(l);return this.customDecoder?this.customDecoder(s,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(s,c):new TextDecoder(c).decode(s)}static shouldDecodeOnFallback(s){return!ce.isBrowser()&&s==="ISO-8859-1"}static encode(s,l){const c=this.encodingName(l);return this.customEncoder?this.customEncoder(s,c):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof V?s:V.getCharacterSetECIByName(s)}static decodeFallback(s,l){const c=this.encodingCharacterSet(l);if(ce.isDecodeFallbackSupported(c)){let f="";for(let h=0,m=s.length;h<m;h++){let y=s[h].toString(16);y.length<2&&(y="0"+y),f+="%"+y}return decodeURIComponent(f)}if(c.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new te(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(V.UTF8)||s.equals(V.ISO8859_1)||s.equals(V.ASCII)}static encodeFallback(s){const c=btoa(unescape(encodeURIComponent(s))).split(""),f=[];for(let h=0;h<c.length;h++)f.push(c[h].charCodeAt(0));return new Uint8Array(f)}}class J{static castAsNonUtf8Char(s,l=null){const c=l?l.getName():this.ISO88591;return ce.decode(new Uint8Array([s]),c)}static guessEncoding(s,l){if(l!=null&&l.get(B.CHARACTER_SET)!==void 0)return l.get(B.CHARACTER_SET).toString();const c=s.length;let f=!0,h=!0,m=!0,y=0,C=0,E=0,T=0,F=0,H=0,Z=0,z=0,$=0,X=0,ne=0;const he=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let me=0;me<c&&(f||h||m);me++){const ve=s[me]&255;m&&(y>0?ve&128?y--:m=!1:ve&128&&(ve&64?(y++,ve&32?(y++,ve&16?(y++,ve&8?m=!1:T++):E++):C++):m=!1)),f&&(ve>127&&ve<160?f=!1:ve>159&&(ve<192||ve===215||ve===247)&&ne++),h&&(F>0?ve<64||ve===127||ve>252?h=!1:F--:ve===128||ve===160||ve>239?h=!1:ve>160&&ve<224?(H++,z=0,Z++,Z>$&&($=Z)):ve>127?(F++,Z=0,z++,z>X&&(X=z)):(Z=0,z=0))}return m&&y>0&&(m=!1),h&&F>0&&(h=!1),m&&(he||C+E+T>0)?J.UTF8:h&&(J.ASSUME_SHIFT_JIS||$>=3||X>=3)?J.SHIFT_JIS:f&&h?$===2&&H===2||ne*10>=c?J.SHIFT_JIS:J.ISO88591:f?J.ISO88591:h?J.SHIFT_JIS:m?J.UTF8:J.PLATFORM_DEFAULT_ENCODING}static format(s,...l){let c=-1;function f(m,y,C,E,T,F){if(m==="%%")return"%";if(l[++c]===void 0)return;m=E?parseInt(E.substr(1)):void 0;let H=T?parseInt(T.substr(1)):void 0,Z;switch(F){case"s":Z=l[c];break;case"c":Z=l[c][0];break;case"f":Z=parseFloat(l[c]).toFixed(m);break;case"p":Z=parseFloat(l[c]).toPrecision(m);break;case"e":Z=parseFloat(l[c]).toExponential(m);break;case"x":Z=parseInt(l[c]).toString(H||16);break;case"d":Z=parseFloat(parseInt(l[c],H||10).toPrecision(m)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(H);let z=parseInt(C),$=C&&C[0]+""=="0"?"0":" ";for(;Z.length<z;)Z=y!==void 0?Z+$:$+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}static getBytes(s,l){return ce.encode(s,l)}static getCharCode(s,l=0){return s.charCodeAt(l)}static getCharAt(s){return String.fromCharCode(s)}}J.SHIFT_JIS=V.SJIS.getName(),J.GB2312="GB2312",J.ISO88591=V.ISO8859_1.getName(),J.EUC_JP="EUC_JP",J.UTF8=V.UTF8.getName(),J.PLATFORM_DEFAULT_ENCODING=J.UTF8,J.ASSUME_SHIFT_JIS=!1;class oe{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=J.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,l,c){for(let f=l;l<l+c;f++)this.append(s[f]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+1)}substring(s,l){return this.value.substring(s,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+l.length)}}class ke{constructor(s,l,c,f){if(this.width=s,this.height=l,this.rowSize=c,this.bits=f,l==null&&(l=s),this.height=l,s<1||l<1)throw new N("Both dimensions must be greater than 0");c==null&&(c=Math.floor((s+31)/32)),this.rowSize=c,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const l=s.length,c=s[0].length,f=new ke(c,l);for(let h=0;h<l;h++){const m=s[h];for(let y=0;y<c;y++)m[y]&&f.set(y,h)}return f}static parseFromString(s,l,c){if(s===null)throw new N("stringRepresentation cannot be null");const f=new Array(s.length);let h=0,m=0,y=-1,C=0,E=0;for(;E<s.length;)if(s.charAt(E)===`
`||s.charAt(E)==="\r"){if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new N("row lengths do not match");m=h,C++}E++}else if(s.substring(E,E+l.length)===l)E+=l.length,f[h]=!0,h++;else if(s.substring(E,E+c.length)===c)E+=c.length,f[h]=!1,h++;else throw new N("illegal character encountered: "+s.substring(E));if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new N("row lengths do not match");C++}const T=new ke(y,C);for(let F=0;F<h;F++)f[F]&&T.set(Math.floor(F%y),Math.floor(F/y));return T}get(s,l){const c=l*this.rowSize+Math.floor(s/32);return(this.bits[c]>>>(s&31)&1)!==0}set(s,l){const c=l*this.rowSize+Math.floor(s/32);this.bits[c]|=1<<(s&31)&4294967295}unset(s,l){const c=l*this.rowSize+Math.floor(s/32);this.bits[c]&=~(1<<(s&31)&4294967295)}flip(s,l){const c=l*this.rowSize+Math.floor(s/32);this.bits[c]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new N("input matrix dimensions do not match");const l=new W(Math.floor(this.width/32)+1),c=this.rowSize,f=this.bits;for(let h=0,m=this.height;h<m;h++){const y=h*c,C=s.getRow(h,l).getBitArray();for(let E=0;E<c;E++)f[y+E]^=C[E]}}clear(){const s=this.bits,l=s.length;for(let c=0;c<l;c++)s[c]=0}setRegion(s,l,c,f){if(l<0||s<0)throw new N("Left and top must be nonnegative");if(f<1||c<1)throw new N("Height and width must be at least 1");const h=s+c,m=l+f;if(m>this.height||h>this.width)throw new N("The region must fit inside the matrix");const y=this.rowSize,C=this.bits;for(let E=l;E<m;E++){const T=E*y;for(let F=s;F<h;F++)C[T+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(s,l){l==null||l.getSize()<this.width?l=new W(this.width):l.clear();const c=this.rowSize,f=this.bits,h=s*c;for(let m=0;m<c;m++)l.setBulk(m*32,f[h+m]);return l}setRow(s,l){O.arraycopy(l.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),l=this.getHeight();let c=new W(s),f=new W(s);for(let h=0,m=Math.floor((l+1)/2);h<m;h++)c=this.getRow(h,c),f=this.getRow(l-1-h,f),c.reverse(),f.reverse(),this.setRow(h,f),this.setRow(l-1-h,c)}getEnclosingRectangle(){const s=this.width,l=this.height,c=this.rowSize,f=this.bits;let h=s,m=l,y=-1,C=-1;for(let E=0;E<l;E++)for(let T=0;T<c;T++){const F=f[E*c+T];if(F!==0){if(E<m&&(m=E),E>C&&(C=E),T*32<h){let H=0;for(;!(F<<31-H&4294967295);)H++;T*32+H<h&&(h=T*32+H)}if(T*32+31>y){let H=31;for(;!(F>>>H);)H--;T*32+H>y&&(y=T*32+H)}}}return y<h||C<m?null:Int32Array.from([h,m,y-h+1,C-m+1])}getTopLeftOnBit(){const s=this.rowSize,l=this.bits;let c=0;for(;c<l.length&&l[c]===0;)c++;if(c===l.length)return null;const f=c/s;let h=c%s*32;const m=l[c];let y=0;for(;!(m<<31-y&4294967295);)y++;return h+=y,Int32Array.from([h,f])}getBottomRightOnBit(){const s=this.rowSize,l=this.bits;let c=l.length-1;for(;c>=0&&l[c]===0;)c--;if(c<0)return null;const f=Math.floor(c/s);let h=Math.floor(c%s)*32;const m=l[c];let y=31;for(;!(m>>>y);)y--;return h+=y,Int32Array.from([h,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof ke))return!1;const l=s;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&j.equals(this.bits,l.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+j.hashCode(this.bits),s}toString(s="X ",l="  ",c=`
`){return this.buildToString(s,l,c)}buildToString(s,l,c){let f=new oe;for(let h=0,m=this.height;h<m;h++){for(let y=0,C=this.width;y<C;y++)f.append(this.get(y,h)?s:l);f.append(c)}return f.toString()}clone(){return new ke(this.width,this.height,this.rowSize,this.bits.slice())}}class se extends v{static getNotFoundInstance(){return new se}}se.kind="NotFoundException";class Ee extends A{constructor(s){super(s),this.luminances=Ee.EMPTY,this.buckets=new Int32Array(Ee.LUMINANCE_BUCKETS)}getBlackRow(s,l){const c=this.getLuminanceSource(),f=c.getWidth();l==null||l.getSize()<f?l=new W(f):l.clear(),this.initArrays(f);const h=c.getRow(s,this.luminances),m=this.buckets;for(let C=0;C<f;C++)m[(h[C]&255)>>Ee.LUMINANCE_SHIFT]++;const y=Ee.estimateBlackPoint(m);if(f<3)for(let C=0;C<f;C++)(h[C]&255)<y&&l.set(C);else{let C=h[0]&255,E=h[1]&255;for(let T=1;T<f-1;T++){const F=h[T+1]&255;(E*4-C-F)/2<y&&l.set(T),C=E,E=F}}return l}getBlackMatrix(){const s=this.getLuminanceSource(),l=s.getWidth(),c=s.getHeight(),f=new ke(l,c);this.initArrays(l);const h=this.buckets;for(let C=1;C<5;C++){const E=Math.floor(c*C/5),T=s.getRow(E,this.luminances),F=Math.floor(l*4/5);for(let H=Math.floor(l/5);H<F;H++){const Z=T[H]&255;h[Z>>Ee.LUMINANCE_SHIFT]++}}const m=Ee.estimateBlackPoint(h),y=s.getMatrix();for(let C=0;C<c;C++){const E=C*l;for(let T=0;T<l;T++)(y[E+T]&255)<m&&f.set(T,C)}return f}createBinarizer(s){return new Ee(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const l=this.buckets;for(let c=0;c<Ee.LUMINANCE_BUCKETS;c++)l[c]=0}static estimateBlackPoint(s){const l=s.length;let c=0,f=0,h=0;for(let T=0;T<l;T++)s[T]>h&&(f=T,h=s[T]),s[T]>c&&(c=s[T]);let m=0,y=0;for(let T=0;T<l;T++){const F=T-f,H=s[T]*F*F;H>y&&(m=T,y=H)}if(f>m){const T=f;f=m,m=T}if(m-f<=l/16)throw new se;let C=m-1,E=-1;for(let T=m-1;T>f;T--){const F=T-f,H=F*F*(m-T)*(c-s[T]);H>E&&(C=T,E=H)}return C<<Ee.LUMINANCE_SHIFT}}Ee.LUMINANCE_BITS=5,Ee.LUMINANCE_SHIFT=8-Ee.LUMINANCE_BITS,Ee.LUMINANCE_BUCKETS=1<<Ee.LUMINANCE_BITS,Ee.EMPTY=Uint8ClampedArray.from([0]);class ge extends Ee{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),l=s.getWidth(),c=s.getHeight();if(l>=ge.MINIMUM_DIMENSION&&c>=ge.MINIMUM_DIMENSION){const f=s.getMatrix();let h=l>>ge.BLOCK_SIZE_POWER;l&ge.BLOCK_SIZE_MASK&&h++;let m=c>>ge.BLOCK_SIZE_POWER;c&ge.BLOCK_SIZE_MASK&&m++;const y=ge.calculateBlackPoints(f,h,m,l,c),C=new ke(l,c);ge.calculateThresholdForBlock(f,h,m,l,c,y,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ge(s)}static calculateThresholdForBlock(s,l,c,f,h,m,y){const C=h-ge.BLOCK_SIZE,E=f-ge.BLOCK_SIZE;for(let T=0;T<c;T++){let F=T<<ge.BLOCK_SIZE_POWER;F>C&&(F=C);const H=ge.cap(T,2,c-3);for(let Z=0;Z<l;Z++){let z=Z<<ge.BLOCK_SIZE_POWER;z>E&&(z=E);const $=ge.cap(Z,2,l-3);let X=0;for(let he=-2;he<=2;he++){const me=m[H+he];X+=me[$-2]+me[$-1]+me[$]+me[$+1]+me[$+2]}const ne=X/25;ge.thresholdBlock(s,z,F,ne,f,y)}}}static cap(s,l,c){return s<l?l:s>c?c:s}static thresholdBlock(s,l,c,f,h,m){for(let y=0,C=c*h+l;y<ge.BLOCK_SIZE;y++,C+=h)for(let E=0;E<ge.BLOCK_SIZE;E++)(s[C+E]&255)<=f&&m.set(l+E,c+y)}static calculateBlackPoints(s,l,c,f,h){const m=h-ge.BLOCK_SIZE,y=f-ge.BLOCK_SIZE,C=new Array(c);for(let E=0;E<c;E++){C[E]=new Int32Array(l);let T=E<<ge.BLOCK_SIZE_POWER;T>m&&(T=m);for(let F=0;F<l;F++){let H=F<<ge.BLOCK_SIZE_POWER;H>y&&(H=y);let Z=0,z=255,$=0;for(let ne=0,he=T*f+H;ne<ge.BLOCK_SIZE;ne++,he+=f){for(let me=0;me<ge.BLOCK_SIZE;me++){const ve=s[he+me]&255;Z+=ve,ve<z&&(z=ve),ve>$&&($=ve)}if($-z>ge.MIN_DYNAMIC_RANGE)for(ne++,he+=f;ne<ge.BLOCK_SIZE;ne++,he+=f)for(let me=0;me<ge.BLOCK_SIZE;me++)Z+=s[he+me]&255}let X=Z>>ge.BLOCK_SIZE_POWER*2;if($-z<=ge.MIN_DYNAMIC_RANGE&&(X=z/2,E>0&&F>0)){const ne=(C[E-1][F]+2*C[E][F-1]+C[E-1][F-1])/4;z<ne&&(X=ne)}C[E][F]=X}}return C}}ge.BLOCK_SIZE_POWER=3,ge.BLOCK_SIZE=1<<ge.BLOCK_SIZE_POWER,ge.BLOCK_SIZE_MASK=ge.BLOCK_SIZE-1,ge.MINIMUM_DIMENSION=ge.BLOCK_SIZE*5,ge.MIN_DYNAMIC_RANGE=24;class ue{constructor(s,l){this.width=s,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,l,c,f){throw new te("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new te("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new te("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let l=new oe;for(let c=0;c<this.height;c++){const f=this.getRow(c,s);for(let h=0;h<this.width;h++){const m=f[h]&255;let y;m<64?y="#":m<128?y="+":m<192?y=".":y=" ",l.append(y)}l.append(`
`)}return l.toString()}}class xe extends ue{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,l){const c=this.delegate.getRow(s,l),f=this.getWidth();for(let h=0;h<f;h++)c[h]=255-(c[h]&255);return c}getMatrix(){const s=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(l);for(let f=0;f<l;f++)c[f]=255-(s[f]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(s,l,c,f){return new xe(this.delegate.crop(s,l,c,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new xe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new xe(this.delegate.rotateCounterClockwise45())}}class Me extends ue{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=Me.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const l=s.getContext("2d").getImageData(0,0,s.width,s.height);return Me.toGrayscaleBuffer(l.data,s.width,s.height)}static toGrayscaleBuffer(s,l,c){const f=new Uint8ClampedArray(l*c);for(let h=0,m=0,y=s.length;h<y;h+=4,m++){let C;if(s[h+3]===0)C=255;else{const T=s[h],F=s[h+1],H=s[h+2];C=306*T+601*F+117*H+512>>10}f[m]=C}return f}getRow(s,l){if(s<0||s>=this.getHeight())throw new N("Requested row is outside the image: "+s);const c=this.getWidth(),f=s*c;return l===null?l=this.buffer.slice(f,f+c):(l.length<c&&(l=new Uint8ClampedArray(c)),l.set(this.buffer.slice(f,f+c))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,l,c,f){return super.crop(s,l,c,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const l=this.getTempCanvasElement(),c=l.getContext("2d"),f=s*Me.DEGREE_TO_RADIANS,h=this.canvas.width,m=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(f))*h+Math.abs(Math.sin(f))*m),C=Math.ceil(Math.abs(Math.sin(f))*h+Math.abs(Math.cos(f))*m);return l.width=y,l.height=C,c.translate(y/2,C/2),c.rotate(f),c.drawImage(this.canvas,h/-2,m/-2),this.buffer=Me.makeBufferFromCanvasImageData(l),this}invert(){return new xe(this)}}Me.DEGREE_TO_RADIANS=Math.PI/180;class Ve{constructor(s,l,c){this.deviceId=s,this.label=l,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var nt=(globalThis||Ai||self||window||void 0)&&(globalThis||Ai||self||window||void 0).__awaiter||function(P,s,l,c){function f(h){return h instanceof l?h:new l(function(m){m(h)})}return new(l||(l=Promise))(function(h,m){function y(T){try{E(c.next(T))}catch(F){m(F)}}function C(T){try{E(c.throw(T))}catch(F){m(F)}}function E(T){T.done?h(T.value):f(T.value).then(y,C)}E((c=c.apply(P,s||[])).next())})};class Ae{constructor(s,l=500,c){this.reader=s,this.timeBetweenScansMillis=l,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return nt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const c of s){const f=c.kind==="video"?"videoinput":c.kind;if(f!=="videoinput")continue;const h=c.deviceId||c.id,m=c.label||`Video device ${l.length+1}`,y=c.groupId,C={deviceId:h,label:m,kind:f,groupId:y};l.push(C)}return l})}getVideoInputDevices(){return nt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new Ve(l.deviceId,l.label))})}findDeviceById(s){return nt(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(c=>c.deviceId===s):null})}decodeFromInputVideoDevice(s,l){return nt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,l)})}decodeOnceFromVideoDevice(s,l){return nt(this,void 0,void 0,function*(){this.reset();let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeOnceFromConstraints(f,l)})}decodeOnceFromConstraints(s,l){return nt(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(c,l)})}decodeOnceFromStream(s,l){return nt(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,l);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(s,l,c){return nt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,l,c)})}decodeFromVideoDevice(s,l,c){return nt(this,void 0,void 0,function*(){let f;s?f={deviceId:{exact:s}}:f={facingMode:"environment"};const h={video:f};return yield this.decodeFromConstraints(h,l,c)})}decodeFromConstraints(s,l,c){return nt(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(f,l,c)})}decodeFromStream(s,l,c){return nt(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(s,l);return yield this.decodeContinuously(f,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,l){return nt(this,void 0,void 0,function*(){const c=this.prepareVideoElement(l);return this.addVideoSource(c,s),this.videoElement=c,this.stream=s,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(s){return new Promise((l,c)=>this.playVideoOnLoad(s,()=>l()))}playVideoOnLoad(s,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",l),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return nt(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,l){const c=document.getElementById(s);if(!c)throw new w(`element with id '${s}' not found`);if(c.nodeName.toLowerCase()!==l.toLowerCase())throw new w(`element with id '${s}' must be an ${l} element`);return c}decodeFromImage(s,l){if(!s&&!l)throw new w("either imageElement with a src set or an url must be provided");return l&&!s?this.decodeFromImageUrl(l):this.decodeFromImageElement(s)}decodeFromVideo(s,l){if(!s&&!l)throw new w("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,l,c){if(s===void 0&&l===void 0)throw new w("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrlContinuously(l,c):this.decodeFromVideoElementContinuously(s,c)}decodeFromImageElement(s){if(!s)throw new w("An image element must be provided.");this.reset();const l=this.prepareImageElement(s);this.imageElement=l;let c;return this.isImageLoaded(l)?c=this.decodeOnce(l,!1,!0):c=this._decodeOnLoadImage(l),c}decodeFromVideoElement(s){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(s,l){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(c,l)}_decodeFromVideoElementSetup(s){if(!s)throw new w("A video element must be provided.");this.reset();const l=this.prepareVideoElement(s);return this.videoElement=l,l}decodeFromImageUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const c=this._decodeOnLoadImage(l);return l.src=s,c}decodeFromVideoUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElement(l);return l.src=s,c}decodeFromVideoUrlContinuously(s,l){if(!s)throw new w("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(c,l);return c.src=s,f}_decodeOnLoadImage(s){return new Promise((l,c)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(l,c),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return nt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,l){return nt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,l)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let l;return typeof s>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(l=s),l}prepareVideoElement(s){let l;return!s&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(l=s),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(s,l=!0,c=!0){this._stopAsyncDecode=!1;const f=(h,m)=>{if(this._stopAsyncDecode){m(new se("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(s);h(y)}catch(y){const C=l&&y instanceof se,T=(y instanceof k||y instanceof R)&&c;if(C||T)return setTimeout(f,this._timeBetweenDecodingAttempts,h,m);m(y)}};return new Promise((h,m)=>f(h,m))}decodeContinuously(s,l){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(s);l(f,null),setTimeout(c,this.timeBetweenScansMillis)}catch(f){l(null,f);const h=f instanceof k||f instanceof R,m=f instanceof se;(h||m)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(s){const l=this.createBinaryBitmap(s);return this.decodeBitmap(l)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,l,c){l||(l={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(s,l,c=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const l=this.getCaptureCanvas(s),c=new Me(l),f=new ge(c);return new _(f)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const l=this.createCaptureCanvas(s);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let c,f;return typeof s<"u"&&(s instanceof HTMLVideoElement?(c=s.videoWidth,f=s.videoHeight):s instanceof HTMLImageElement&&(c=s.naturalWidth||s.width,f=s.naturalHeight||s.height)),l.style.width=c+"px",l.style.height=f+"px",l.width=c,l.height=f,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,l){try{s.srcObject=l}catch{s.src=URL.createObjectURL(l)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Xe{constructor(s,l,c=l==null?0:8*l.length,f,h,m=O.currentTimeMillis()){this.text=s,this.rawBytes=l,this.numBits=c,this.resultPoints=f,this.format=h,this.timestamp=m,this.text=s,this.rawBytes=l,c==null?this.numBits=l==null?0:8*l.length:this.numBits=c,this.resultPoints=f,this.format=h,this.resultMetadata=null,m==null?this.timestamp=O.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,l)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const l=this.resultPoints;if(l===null)this.resultPoints=s;else if(s!==null&&s.length>0){const c=new Array(l.length+s.length);O.arraycopy(l,0,c,0,l.length),O.arraycopy(s,0,c,l.length,s.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var it;(function(P){P[P.AZTEC=0]="AZTEC",P[P.CODABAR=1]="CODABAR",P[P.CODE_39=2]="CODE_39",P[P.CODE_93=3]="CODE_93",P[P.CODE_128=4]="CODE_128",P[P.DATA_MATRIX=5]="DATA_MATRIX",P[P.EAN_8=6]="EAN_8",P[P.EAN_13=7]="EAN_13",P[P.ITF=8]="ITF",P[P.MAXICODE=9]="MAXICODE",P[P.PDF_417=10]="PDF_417",P[P.QR_CODE=11]="QR_CODE",P[P.RSS_14=12]="RSS_14",P[P.RSS_EXPANDED=13]="RSS_EXPANDED",P[P.UPC_A=14]="UPC_A",P[P.UPC_E=15]="UPC_E",P[P.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(it||(it={}));var _e=it,De;(function(P){P[P.OTHER=0]="OTHER",P[P.ORIENTATION=1]="ORIENTATION",P[P.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",P[P.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",P[P.ISSUE_NUMBER=4]="ISSUE_NUMBER",P[P.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",P[P.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",P[P.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",P[P.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",P[P.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",P[P.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(De||(De={}));var at=De;class qt{constructor(s,l,c,f,h=-1,m=-1){this.rawBytes=s,this.text=l,this.byteSegments=c,this.ecLevel=f,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=m,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Qt{exp(s){return this.expTable[s]}log(s){if(s===0)throw new N;return this.logTable[s]}static addOrSubtract(s,l){return s^l}}class Vt{constructor(s,l){if(l.length===0)throw new N;this.field=s;const c=l.length;if(c>1&&l[0]===0){let f=1;for(;f<c&&l[f]===0;)f++;f===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-f),O.arraycopy(l,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const l=this.coefficients;let c;if(s===1){c=0;for(let m=0,y=l.length;m!==y;m++){const C=l[m];c=Qt.addOrSubtract(c,C)}return c}c=l[0];const f=l.length,h=this.field;for(let m=1;m<f;m++)c=Qt.addOrSubtract(h.multiply(s,c),l[m]);return c}addOrSubtract(s){if(!this.field.equals(s.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,c=s.coefficients;if(l.length>c.length){const m=l;l=c,c=m}let f=new Int32Array(c.length);const h=c.length-l.length;O.arraycopy(c,0,f,0,h);for(let m=h;m<c.length;m++)f[m]=Qt.addOrSubtract(l[m-h],c[m]);return new Vt(this.field,f)}multiply(s){if(!this.field.equals(s.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const l=this.coefficients,c=l.length,f=s.coefficients,h=f.length,m=new Int32Array(c+h-1),y=this.field;for(let C=0;C<c;C++){const E=l[C];for(let T=0;T<h;T++)m[C+T]=Qt.addOrSubtract(m[C+T],y.multiply(E,f[T]))}return new Vt(y,m)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const l=this.coefficients.length,c=this.field,f=new Int32Array(l),h=this.coefficients;for(let m=0;m<l;m++)f[m]=c.multiply(h[m],s);return new Vt(c,f)}multiplyByMonomial(s,l){if(s<0)throw new N;if(l===0)return this.field.getZero();const c=this.coefficients,f=c.length,h=new Int32Array(f+s),m=this.field;for(let y=0;y<f;y++)h[y]=m.multiply(c[y],l);return new Vt(m,h)}divide(s){if(!this.field.equals(s.field))throw new N("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new N("Divide by 0");const l=this.field;let c=l.getZero(),f=this;const h=s.getCoefficient(s.getDegree()),m=l.inverse(h);for(;f.getDegree()>=s.getDegree()&&!f.isZero();){const y=f.getDegree()-s.getDegree(),C=l.multiply(f.getCoefficient(f.getDegree()),m),E=s.multiplyByMonomial(y,C),T=l.buildMonomial(y,C);c=c.addOrSubtract(T),f=f.addOrSubtract(E)}return[c,f]}toString(){let s="";for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);if(c!==0){if(c<0?(s+=" - ",c=-c):s.length>0&&(s+=" + "),l===0||c!==1){const f=this.field.log(c);f===0?s+="1":f===1?s+="a":(s+="a^",s+=f)}l!==0&&(l===1?s+="x":(s+="x^",s+=l))}}return s}}class Wt extends v{}Wt.kind="ArithmeticException";class Ce extends Qt{constructor(s,l,c){super(),this.primitive=s,this.size=l,this.generatorBase=c;const f=new Int32Array(l);let h=1;for(let y=0;y<l;y++)f[y]=h,h*=2,h>=l&&(h^=s,h&=l-1);this.expTable=f;const m=new Int32Array(l);for(let y=0;y<l-1;y++)m[f[y]]=y;this.logTable=m,this.zero=new Vt(this,Int32Array.from([0])),this.one=new Vt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new N;if(l===0)return this.zero;const c=new Int32Array(s+1);return c[0]=l,new Vt(this,c)}inverse(s){if(s===0)throw new Wt;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Ce.AZTEC_DATA_12=new Ce(4201,4096,1),Ce.AZTEC_DATA_10=new Ce(1033,1024,1),Ce.AZTEC_DATA_6=new Ce(67,64,1),Ce.AZTEC_PARAM=new Ce(19,16,1),Ce.QR_CODE_FIELD_256=new Ce(285,256,0),Ce.DATA_MATRIX_FIELD_256=new Ce(301,256,1),Ce.AZTEC_DATA_8=Ce.DATA_MATRIX_FIELD_256,Ce.MAXICODE_FIELD_64=Ce.AZTEC_DATA_6;class Ke extends v{}Ke.kind="ReedSolomonException";class It extends v{}It.kind="IllegalStateException";class ye{constructor(s){this.field=s}decode(s,l){const c=this.field,f=new Vt(c,s),h=new Int32Array(l);let m=!0;for(let Z=0;Z<l;Z++){const z=f.evaluateAt(c.exp(Z+c.getGeneratorBase()));h[h.length-1-Z]=z,z!==0&&(m=!1)}if(m)return;const y=new Vt(c,h),C=this.runEuclideanAlgorithm(c.buildMonomial(l,1),y,l),E=C[0],T=C[1],F=this.findErrorLocations(E),H=this.findErrorMagnitudes(T,F);for(let Z=0;Z<F.length;Z++){const z=s.length-1-c.log(F[Z]);if(z<0)throw new Ke("Bad error location");s[z]=Ce.addOrSubtract(s[z],H[Z])}}runEuclideanAlgorithm(s,l,c){if(s.getDegree()<l.getDegree()){const Z=s;s=l,l=Z}const f=this.field;let h=s,m=l,y=f.getZero(),C=f.getOne();for(;m.getDegree()>=(c/2|0);){let Z=h,z=y;if(h=m,y=C,h.isZero())throw new Ke("r_{i-1} was zero");m=Z;let $=f.getZero();const X=h.getCoefficient(h.getDegree()),ne=f.inverse(X);for(;m.getDegree()>=h.getDegree()&&!m.isZero();){const he=m.getDegree()-h.getDegree(),me=f.multiply(m.getCoefficient(m.getDegree()),ne);$=$.addOrSubtract(f.buildMonomial(he,me)),m=m.addOrSubtract(h.multiplyByMonomial(he,me))}if(C=$.multiply(y).addOrSubtract(z),m.getDegree()>=h.getDegree())throw new It("Division algorithm failed to reduce polynomial?")}const E=C.getCoefficient(0);if(E===0)throw new Ke("sigmaTilde(0) was zero");const T=f.inverse(E),F=C.multiplyScalar(T),H=m.multiplyScalar(T);return[F,H]}findErrorLocations(s){const l=s.getDegree();if(l===1)return Int32Array.from([s.getCoefficient(1)]);const c=new Int32Array(l);let f=0;const h=this.field;for(let m=1;m<h.getSize()&&f<l;m++)s.evaluateAt(m)===0&&(c[f]=h.inverse(m),f++);if(f!==l)throw new Ke("Error locator degree does not match number of roots");return c}findErrorMagnitudes(s,l){const c=l.length,f=new Int32Array(c),h=this.field;for(let m=0;m<c;m++){const y=h.inverse(l[m]);let C=1;for(let E=0;E<c;E++)if(m!==E){const T=h.multiply(l[E],y),F=T&1?T&-2:T|1;C=h.multiply(C,F)}f[m]=h.multiply(s.evaluateAt(y),h.inverse(C)),h.getGeneratorBase()!==0&&(f[m]=h.multiply(f[m],y))}return f}}var Se;(function(P){P[P.UPPER=0]="UPPER",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.DIGIT=3]="DIGIT",P[P.PUNCT=4]="PUNCT",P[P.BINARY=5]="BINARY"})(Se||(Se={}));class ze{decode(s){this.ddata=s;let l=s.getBits(),c=this.extractBits(l),f=this.correctBits(c),h=ze.convertBoolArrayToByteArray(f),m=ze.getEncodedData(f),y=new qt(h,m,null,null);return y.setNumBits(f.length),y}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let l=s.length,c=Se.UPPER,f=Se.UPPER,h="",m=0;for(;m<l;)if(f===Se.BINARY){if(l-m<5)break;let y=ze.readCode(s,m,5);if(m+=5,y===0){if(l-m<11)break;y=ze.readCode(s,m,11)+31,m+=11}for(let C=0;C<y;C++){if(l-m<8){m=l;break}const E=ze.readCode(s,m,8);h+=J.castAsNonUtf8Char(E),m+=8}f=c}else{let y=f===Se.DIGIT?4:5;if(l-m<y)break;let C=ze.readCode(s,m,y);m+=y;let E=ze.getCharacter(f,C);E.startsWith("CTRL_")?(c=f,f=ze.getTable(E.charAt(5)),E.charAt(6)==="L"&&(c=f)):(h+=E,f=c)}return h}static getTable(s){switch(s){case"L":return Se.LOWER;case"P":return Se.PUNCT;case"M":return Se.MIXED;case"D":return Se.DIGIT;case"B":return Se.BINARY;case"U":default:return Se.UPPER}}static getCharacter(s,l){switch(s){case Se.UPPER:return ze.UPPER_TABLE[l];case Se.LOWER:return ze.LOWER_TABLE[l];case Se.MIXED:return ze.MIXED_TABLE[l];case Se.PUNCT:return ze.PUNCT_TABLE[l];case Se.DIGIT:return ze.DIGIT_TABLE[l];default:throw new It("Bad table")}}correctBits(s){let l,c;this.ddata.getNbLayers()<=2?(c=6,l=Ce.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,l=Ce.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,l=Ce.AZTEC_DATA_10):(c=12,l=Ce.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),h=s.length/c;if(h<f)throw new R;let m=s.length%c,y=new Int32Array(h);for(let H=0;H<h;H++,m+=c)y[H]=ze.readCode(s,m,c);try{new ye(l).decode(y,h-f)}catch(H){throw new R(H)}let C=(1<<c)-1,E=0;for(let H=0;H<f;H++){let Z=y[H];if(Z===0||Z===C)throw new R;(Z===1||Z===C-1)&&E++}let T=new Array(f*c-E),F=0;for(let H=0;H<f;H++){let Z=y[H];if(Z===1||Z===C-1)T.fill(Z>1,F,F+c-1),F+=c-1;else for(let z=c-1;z>=0;--z)T[F++]=(Z&1<<z)!==0}return T}extractBits(s){let l=this.ddata.isCompact(),c=this.ddata.getNbLayers(),f=(l?11:14)+c*4,h=new Int32Array(f),m=new Array(this.totalBitsInLayer(c,l));if(l)for(let y=0;y<h.length;y++)h[y]=y;else{let y=f+1+2*I.truncDivision(I.truncDivision(f,2)-1,15),C=f/2,E=I.truncDivision(y,2);for(let T=0;T<C;T++){let F=T+I.truncDivision(T,15);h[C-T-1]=E-F-1,h[C+T]=E+F+1}}for(let y=0,C=0;y<c;y++){let E=(c-y)*4+(l?9:12),T=y*2,F=f-1-T;for(let H=0;H<E;H++){let Z=H*2;for(let z=0;z<2;z++)m[C+Z+z]=s.get(h[T+z],h[T+H]),m[C+2*E+Z+z]=s.get(h[T+H],h[F-z]),m[C+4*E+Z+z]=s.get(h[F-z],h[F-H]),m[C+6*E+Z+z]=s.get(h[F-H],h[T+z])}C+=E*8}return m}static readCode(s,l,c){let f=0;for(let h=l;h<l+c;h++)f<<=1,s[h]&&(f|=1);return f}static readByte(s,l){let c=s.length-l;return c>=8?ze.readCode(s,l,8):ze.readCode(s,l,c)<<8-c}static convertBoolArrayToByteArray(s){let l=new Uint8Array((s.length+7)/8);for(let c=0;c<l.length;c++)l[c]=ze.readByte(s,8*c);return l}totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Qe{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,l,c,f){const h=s-c,m=l-f;return Math.sqrt(h*h+m*m)}static sum(s){let l=0;for(let c=0,f=s.length;c!==f;c++){const h=s[c];l+=h}return l}}class Pe{static floatToIntBits(s){return s}}Pe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class je{constructor(s,l){this.x=s,this.y=l}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof je){const l=s;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*Pe.floatToIntBits(this.x)+Pe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const l=this.distance(s[0],s[1]),c=this.distance(s[1],s[2]),f=this.distance(s[0],s[2]);let h,m,y;if(c>=l&&c>=f?(m=s[0],h=s[1],y=s[2]):f>=c&&f>=l?(m=s[1],h=s[0],y=s[2]):(m=s[2],h=s[0],y=s[1]),this.crossProductZ(h,m,y)<0){const C=h;h=y,y=C}s[0]=h,s[1]=m,s[2]=y}static distance(s,l){return Qe.distance(s.x,s.y,l.x,l.y)}static crossProductZ(s,l,c){const f=l.x,h=l.y;return(c.x-f)*(s.y-h)-(c.y-h)*(s.x-f)}}class vn{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Qn extends vn{constructor(s,l,c,f,h){super(s,l),this.compact=c,this.nbDatablocks=f,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Le{constructor(s,l,c,f){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),l==null&&(l=Le.INIT_SIZE),c==null&&(c=s.getWidth()/2|0),f==null&&(f=s.getHeight()/2|0);const h=l/2|0;if(this.leftInit=c-h,this.rightInit=c+h,this.upInit=f-h,this.downInit=f+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new se}detect(){let s=this.leftInit,l=this.rightInit,c=this.upInit,f=this.downInit,h=!1,m=!0,y=!1,C=!1,E=!1,T=!1,F=!1;const H=this.width,Z=this.height;for(;m;){m=!1;let z=!0;for(;(z||!C)&&l<H;)z=this.containsBlackPoint(c,f,l,!1),z?(l++,m=!0,C=!0):C||l++;if(l>=H){h=!0;break}let $=!0;for(;($||!E)&&f<Z;)$=this.containsBlackPoint(s,l,f,!0),$?(f++,m=!0,E=!0):E||f++;if(f>=Z){h=!0;break}let X=!0;for(;(X||!T)&&s>=0;)X=this.containsBlackPoint(c,f,s,!1),X?(s--,m=!0,T=!0):T||s--;if(s<0){h=!0;break}let ne=!0;for(;(ne||!F)&&c>=0;)ne=this.containsBlackPoint(s,l,c,!0),ne?(c--,m=!0,F=!0):F||c--;if(c<0){h=!0;break}m&&(y=!0)}if(!h&&y){const z=l-s;let $=null;for(let me=1;$===null&&me<z;me++)$=this.getBlackPointOnSegment(s,f-me,s+me,f);if($==null)throw new se;let X=null;for(let me=1;X===null&&me<z;me++)X=this.getBlackPointOnSegment(s,c+me,s+me,c);if(X==null)throw new se;let ne=null;for(let me=1;ne===null&&me<z;me++)ne=this.getBlackPointOnSegment(l,c+me,l-me,c);if(ne==null)throw new se;let he=null;for(let me=1;he===null&&me<z;me++)he=this.getBlackPointOnSegment(l,f-me,l-me,f);if(he==null)throw new se;return this.centerEdges(he,$,ne,X)}else throw new se}getBlackPointOnSegment(s,l,c,f){const h=Qe.round(Qe.distance(s,l,c,f)),m=(c-s)/h,y=(f-l)/h,C=this.image;for(let E=0;E<h;E++){const T=Qe.round(s+E*m),F=Qe.round(l+E*y);if(C.get(T,F))return new je(T,F)}return null}centerEdges(s,l,c,f){const h=s.getX(),m=s.getY(),y=l.getX(),C=l.getY(),E=c.getX(),T=c.getY(),F=f.getX(),H=f.getY(),Z=Le.CORR;return h<this.width/2?[new je(F-Z,H+Z),new je(y+Z,C+Z),new je(E-Z,T-Z),new je(h+Z,m-Z)]:[new je(F+Z,H+Z),new je(y+Z,C-Z),new je(E-Z,T+Z),new je(h-Z,m-Z)]}containsBlackPoint(s,l,c,f){const h=this.image;if(f){for(let m=s;m<=l;m++)if(h.get(m,c))return!0}else for(let m=s;m<=l;m++)if(h.get(c,m))return!0;return!1}}Le.INIT_SIZE=10,Le.CORR=1;class et{static checkAndNudgePoints(s,l){const c=s.getWidth(),f=s.getHeight();let h=!0;for(let m=0;m<l.length&&h;m+=2){const y=Math.floor(l[m]),C=Math.floor(l[m+1]);if(y<-1||y>c||C<-1||C>f)throw new se;h=!1,y===-1?(l[m]=0,h=!0):y===c&&(l[m]=c-1,h=!0),C===-1?(l[m+1]=0,h=!0):C===f&&(l[m+1]=f-1,h=!0)}h=!0;for(let m=l.length-2;m>=0&&h;m-=2){const y=Math.floor(l[m]),C=Math.floor(l[m+1]);if(y<-1||y>c||C<-1||C>f)throw new se;h=!1,y===-1?(l[m]=0,h=!0):y===c&&(l[m]=c-1,h=!0),C===-1?(l[m+1]=0,h=!0):C===f&&(l[m+1]=f-1,h=!0)}}}class Rt{constructor(s,l,c,f,h,m,y,C,E){this.a11=s,this.a21=l,this.a31=c,this.a12=f,this.a22=h,this.a32=m,this.a13=y,this.a23=C,this.a33=E}static quadrilateralToQuadrilateral(s,l,c,f,h,m,y,C,E,T,F,H,Z,z,$,X){const ne=Rt.quadrilateralToSquare(s,l,c,f,h,m,y,C);return Rt.squareToQuadrilateral(E,T,F,H,Z,z,$,X).times(ne)}transformPoints(s){const l=s.length,c=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,C=this.a23,E=this.a31,T=this.a32,F=this.a33;for(let H=0;H<l;H+=2){const Z=s[H],z=s[H+1],$=h*Z+C*z+F;s[H]=(c*Z+m*z+E)/$,s[H+1]=(f*Z+y*z+T)/$}}transformPointsWithValues(s,l){const c=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,C=this.a23,E=this.a31,T=this.a32,F=this.a33,H=s.length;for(let Z=0;Z<H;Z++){const z=s[Z],$=l[Z],X=h*z+C*$+F;s[Z]=(c*z+m*$+E)/X,l[Z]=(f*z+y*$+T)/X}}static squareToQuadrilateral(s,l,c,f,h,m,y,C){const E=s-c+h-y,T=l-f+m-C;if(E===0&&T===0)return new Rt(c-s,h-c,s,f-l,m-f,l,0,0,1);{const F=c-h,H=y-h,Z=f-m,z=C-m,$=F*z-H*Z,X=(E*z-H*T)/$,ne=(F*T-E*Z)/$;return new Rt(c-s+X*c,y-s+ne*y,s,f-l+X*f,C-l+ne*C,l,X,ne,1)}}static quadrilateralToSquare(s,l,c,f,h,m,y,C){return Rt.squareToQuadrilateral(s,l,c,f,h,m,y,C).buildAdjoint()}buildAdjoint(){return new Rt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Rt(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class an extends et{sampleGrid(s,l,c,f,h,m,y,C,E,T,F,H,Z,z,$,X,ne,he,me){const ve=Rt.quadrilateralToQuadrilateral(f,h,m,y,C,E,T,F,H,Z,z,$,X,ne,he,me);return this.sampleGridWithTransform(s,l,c,ve)}sampleGridWithTransform(s,l,c,f){if(l<=0||c<=0)throw new se;const h=new ke(l,c),m=new Float32Array(2*l);for(let y=0;y<c;y++){const C=m.length,E=y+.5;for(let T=0;T<C;T+=2)m[T]=T/2+.5,m[T+1]=E;f.transformPoints(m),et.checkAndNudgePoints(s,m);try{for(let T=0;T<C;T+=2)s.get(Math.floor(m[T]),Math.floor(m[T+1]))&&h.set(T/2,y)}catch{throw new se}}return h}}class Kt{static setGridSampler(s){Kt.gridSampler=s}static getInstance(){return Kt.gridSampler}}Kt.gridSampler=new an;class hn{constructor(s,l){this.x=s,this.y=l}toResultPoint(){return new je(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class as{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let l=this.getMatrixCenter(),c=this.getBullsEyeCorners(l);if(s){let m=c[0];c[0]=c[2],c[2]=m}this.extractParameters(c);let f=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),h=this.getMatrixCornerPoints(c);return new Qn(f,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new se;let l=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(s[0],s[1],l),this.sampleLine(s[1],s[2],l),this.sampleLine(s[2],s[3],l),this.sampleLine(s[3],s[0],l)]);this.shift=this.getRotation(c,l);let f=0;for(let m=0;m<4;m++){let y=c[(this.shift+m)%4];this.compact?(f<<=7,f+=y>>1&127):(f<<=10,f+=(y>>2&992)+(y>>1&31))}let h=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(s,l){let c=0;s.forEach((f,h,m)=>{let y=(f>>l-2<<1)+(f&1);c=(c<<3)+y}),c=((c&1)<<11)+(c>>1);for(let f=0;f<4;f++)if(I.bitCount(c^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new se}getCorrectedParameterData(s,l){let c,f;l?(c=7,f=2):(c=10,f=4);let h=c-f,m=new Int32Array(c);for(let C=c-1;C>=0;--C)m[C]=s&15,s>>=4;try{new ye(Ce.AZTEC_PARAM).decode(m,h)}catch{throw new se}let y=0;for(let C=0;C<f;C++)y=(y<<4)+m[C];return y}getBullsEyeCorners(s){let l=s,c=s,f=s,h=s,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(l,m,1,-1),H=this.getFirstDifferent(c,m,1,1),Z=this.getFirstDifferent(f,m,-1,1),z=this.getFirstDifferent(h,m,-1,-1);if(this.nbCenterLayers>2){let $=this.distancePoint(z,F)*this.nbCenterLayers/(this.distancePoint(h,l)*(this.nbCenterLayers+2));if($<.75||$>1.25||!this.isWhiteOrBlackRectangle(F,H,Z,z))break}l=F,c=H,f=Z,h=z,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new se;this.compact=this.nbCenterLayers===5;let y=new je(l.getX()+.5,l.getY()-.5),C=new je(c.getX()+.5,c.getY()+.5),E=new je(f.getX()-.5,f.getY()+.5),T=new je(h.getX()-.5,h.getY()-.5);return this.expandSquare([y,C,E,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,l,c,f;try{let y=new Le(this.image).detect();s=y[0],l=y[1],c=y[2],f=y[3]}catch{let C=this.image.getWidth()/2,E=this.image.getHeight()/2;s=this.getFirstDifferent(new hn(C+7,E-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new hn(C+7,E+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new hn(C-7,E+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new hn(C-7,E-7),!1,-1,-1).toResultPoint()}let h=Qe.round((s.getX()+f.getX()+l.getX()+c.getX())/4),m=Qe.round((s.getY()+f.getY()+l.getY()+c.getY())/4);try{let y=new Le(this.image,15,h,m).detect();s=y[0],l=y[1],c=y[2],f=y[3]}catch{s=this.getFirstDifferent(new hn(h+7,m-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new hn(h+7,m+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new hn(h-7,m+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new hn(h-7,m-7),!1,-1,-1).toResultPoint()}return h=Qe.round((s.getX()+f.getX()+l.getX()+c.getX())/4),m=Qe.round((s.getY()+f.getY()+l.getY()+c.getY())/4),new hn(h,m)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,l,c,f,h){let m=Kt.getInstance(),y=this.getDimension(),C=y/2-this.nbCenterLayers,E=y/2+this.nbCenterLayers;return m.sampleGrid(s,y,y,C,C,E,C,E,E,C,E,l.getX(),l.getY(),c.getX(),c.getY(),f.getX(),f.getY(),h.getX(),h.getY())}sampleLine(s,l,c){let f=0,h=this.distanceResultPoint(s,l),m=h/c,y=s.getX(),C=s.getY(),E=m*(l.getX()-s.getX())/h,T=m*(l.getY()-s.getY())/h;for(let F=0;F<c;F++)this.image.get(Qe.round(y+F*E),Qe.round(C+F*T))&&(f|=1<<c-F-1);return f}isWhiteOrBlackRectangle(s,l,c,f){let h=3;s=new hn(s.getX()-h,s.getY()+h),l=new hn(l.getX()-h,l.getY()-h),c=new hn(c.getX()+h,c.getY()-h),f=new hn(f.getX()+h,f.getY()+h);let m=this.getColor(f,s);if(m===0)return!1;let y=this.getColor(s,l);return y!==m||(y=this.getColor(l,c),y!==m)?!1:(y=this.getColor(c,f),y===m)}getColor(s,l){let c=this.distancePoint(s,l),f=(l.getX()-s.getX())/c,h=(l.getY()-s.getY())/c,m=0,y=s.getX(),C=s.getY(),E=this.image.get(s.getX(),s.getY()),T=Math.ceil(c);for(let H=0;H<T;H++)y+=f,C+=h,this.image.get(Qe.round(y),Qe.round(C))!==E&&m++;let F=m/c;return F>.1&&F<.9?0:F<=.1===E?1:-1}getFirstDifferent(s,l,c,f){let h=s.getX()+c,m=s.getY()+f;for(;this.isValid(h,m)&&this.image.get(h,m)===l;)h+=c,m+=f;for(h-=c,m-=f;this.isValid(h,m)&&this.image.get(h,m)===l;)h+=c;for(h-=c;this.isValid(h,m)&&this.image.get(h,m)===l;)m+=f;return m-=f,new hn(h,m)}expandSquare(s,l,c){let f=c/(2*l),h=s[0].getX()-s[2].getX(),m=s[0].getY()-s[2].getY(),y=(s[0].getX()+s[2].getX())/2,C=(s[0].getY()+s[2].getY())/2,E=new je(y+f*h,C+f*m),T=new je(y-f*h,C-f*m);h=s[1].getX()-s[3].getX(),m=s[1].getY()-s[3].getY(),y=(s[1].getX()+s[3].getX())/2,C=(s[1].getY()+s[3].getY())/2;let F=new je(y+f*h,C+f*m),H=new je(y-f*h,C-f*m);return[E,F,T,H]}isValid(s,l){return s>=0&&s<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(s){let l=Qe.round(s.getX()),c=Qe.round(s.getY());return this.isValid(l,c)}distancePoint(s,l){return Qe.distance(s.getX(),s.getY(),l.getX(),l.getY())}distanceResultPoint(s,l){return Qe.distance(s.getX(),s.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class Ss{decode(s,l=null){let c=null,f=new as(s.getBlackMatrix()),h=null,m=null;try{let T=f.detectMirror(!1);h=T.getPoints(),this.reportFoundResultPoints(l,h),m=new ze().decode(T)}catch(T){c=T}if(m==null)try{let T=f.detectMirror(!0);h=T.getPoints(),this.reportFoundResultPoints(l,h),m=new ze().decode(T)}catch(T){throw c??T}let y=new Xe(m.getText(),m.getRawBytes(),m.getNumBits(),h,_e.AZTEC,O.currentTimeMillis()),C=m.getByteSegments();C!=null&&y.putMetadata(at.BYTE_SEGMENTS,C);let E=m.getECLevel();return E!=null&&y.putMetadata(at.ERROR_CORRECTION_LEVEL,E),y}reportFoundResultPoints(s,l){if(s!=null){let c=s.get(B.NEED_RESULT_POINT_CALLBACK);c!=null&&l.forEach((f,h,m)=>{c.foundPossibleResultPoint(f)})}}reset(){}}class Fi extends Ae{constructor(s=500){super(new Ss,s)}}class sn{decode(s,l){try{return this.doDecode(s,l)}catch{if(l&&l.get(B.TRY_HARDER)===!0&&s.isRotateSupported()){const h=s.rotateCounterClockwise(),m=this.doDecode(h,l),y=m.getResultMetadata();let C=270;y!==null&&y.get(at.ORIENTATION)===!0&&(C=C+y.get(at.ORIENTATION)%360),m.putMetadata(at.ORIENTATION,C);const E=m.getResultPoints();if(E!==null){const T=h.getHeight();for(let F=0;F<E.length;F++)E[F]=new je(T-E[F].getY()-1,E[F].getX())}return m}else throw new se}}reset(){}doDecode(s,l){const c=s.getWidth(),f=s.getHeight();let h=new W(c);const m=l&&l.get(B.TRY_HARDER)===!0,y=Math.max(1,f>>(m?8:5));let C;m?C=f:C=15;const E=Math.trunc(f/2);for(let T=0;T<C;T++){const F=Math.trunc((T+1)/2),H=(T&1)===0,Z=E+y*(H?F:-F);if(Z<0||Z>=f)break;try{h=s.getBlackRow(Z,h)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(h.reverse(),l&&l.get(B.NEED_RESULT_POINT_CALLBACK)===!0)){const $=new Map;l.forEach((X,ne)=>$.set(ne,X)),$.delete(B.NEED_RESULT_POINT_CALLBACK),l=$}try{const $=this.decodeRow(Z,h,l);if(z===1){$.putMetadata(at.ORIENTATION,180);const X=$.getResultPoints();X!==null&&(X[0]=new je(c-X[0].getX()-1,X[0].getY()),X[1]=new je(c-X[1].getX()-1,X[1].getY()))}return $}catch{}}}throw new se}static recordPattern(s,l,c){const f=c.length;for(let E=0;E<f;E++)c[E]=0;const h=s.getSize();if(l>=h)throw new se;let m=!s.get(l),y=0,C=l;for(;C<h;){if(s.get(C)!==m)c[y]++;else{if(++y===f)break;c[y]=1,m=!m}C++}if(!(y===f||y===f-1&&C===h))throw new se}static recordPatternInReverse(s,l,c){let f=c.length,h=s.get(l);for(;l>0&&f>=0;)s.get(--l)!==h&&(f--,h=!h);if(f>=0)throw new se;sn.recordPattern(s,l+1,c)}static patternMatchVariance(s,l,c){const f=s.length;let h=0,m=0;for(let E=0;E<f;E++)h+=s[E],m+=l[E];if(h<m)return Number.POSITIVE_INFINITY;const y=h/m;c*=y;let C=0;for(let E=0;E<f;E++){const T=s[E],F=l[E]*y,H=T>F?T-F:F-T;if(H>c)return Number.POSITIVE_INFINITY;C+=H}return C/h}}class Oe extends sn{static findStartPattern(s){const l=s.getSize(),c=s.getNextSet(0);let f=0,h=Int32Array.from([0,0,0,0,0,0]),m=c,y=!1;const C=6;for(let E=c;E<l;E++)if(s.get(E)!==y)h[f]++;else{if(f===C-1){let T=Oe.MAX_AVG_VARIANCE,F=-1;for(let H=Oe.CODE_START_A;H<=Oe.CODE_START_C;H++){const Z=sn.patternMatchVariance(h,Oe.CODE_PATTERNS[H],Oe.MAX_INDIVIDUAL_VARIANCE);Z<T&&(T=Z,F=H)}if(F>=0&&s.isRange(Math.max(0,m-(E-m)/2),m,!1))return Int32Array.from([m,E,F]);m+=h[0]+h[1],h=h.slice(2,h.length-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,y=!y}throw new se}static decodeCode(s,l,c){sn.recordPattern(s,c,l);let f=Oe.MAX_AVG_VARIANCE,h=-1;for(let m=0;m<Oe.CODE_PATTERNS.length;m++){const y=Oe.CODE_PATTERNS[m],C=this.patternMatchVariance(l,y,Oe.MAX_INDIVIDUAL_VARIANCE);C<f&&(f=C,h=m)}if(h>=0)return h;throw new se}decodeRow(s,l,c){const f=c&&c.get(B.ASSUME_GS1)===!0,h=Oe.findStartPattern(l),m=h[2];let y=0;const C=new Uint8Array(20);C[y++]=m;let E;switch(m){case Oe.CODE_START_A:E=Oe.CODE_CODE_A;break;case Oe.CODE_START_B:E=Oe.CODE_CODE_B;break;case Oe.CODE_START_C:E=Oe.CODE_CODE_C;break;default:throw new R}let T=!1,F=!1,H="",Z=h[0],z=h[1];const $=Int32Array.from([0,0,0,0,0,0]);let X=0,ne=0,he=m,me=0,ve=!0,Ge=!1,ht=!1;for(;!T;){const jt=F;switch(F=!1,X=ne,ne=Oe.decodeCode(l,$,z),C[y++]=ne,ne!==Oe.CODE_STOP&&(ve=!0),ne!==Oe.CODE_STOP&&(me++,he+=me*ne),Z=z,z+=$.reduce((Ap,Xd)=>Ap+Xd,0),ne){case Oe.CODE_START_A:case Oe.CODE_START_B:case Oe.CODE_START_C:throw new R}switch(E){case Oe.CODE_CODE_A:if(ne<64)ht===Ge?H+=String.fromCharCode(" ".charCodeAt(0)+ne):H+=String.fromCharCode(" ".charCodeAt(0)+ne+128),ht=!1;else if(ne<96)ht===Ge?H+=String.fromCharCode(ne-64):H+=String.fromCharCode(ne+64),ht=!1;else switch(ne!==Oe.CODE_STOP&&(ve=!1),ne){case Oe.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_A:!Ge&&ht?(Ge=!0,ht=!1):Ge&&ht?(Ge=!1,ht=!1):ht=!0;break;case Oe.CODE_SHIFT:F=!0,E=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_B:E=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_C:E=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:T=!0;break}break;case Oe.CODE_CODE_B:if(ne<96)ht===Ge?H+=String.fromCharCode(" ".charCodeAt(0)+ne):H+=String.fromCharCode(" ".charCodeAt(0)+ne+128),ht=!1;else switch(ne!==Oe.CODE_STOP&&(ve=!1),ne){case Oe.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_B:!Ge&&ht?(Ge=!0,ht=!1):Ge&&ht?(Ge=!1,ht=!1):ht=!0;break;case Oe.CODE_SHIFT:F=!0,E=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_A:E=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_C:E=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:T=!0;break}break;case Oe.CODE_CODE_C:if(ne<100)ne<10&&(H+="0"),H+=ne;else switch(ne!==Oe.CODE_STOP&&(ve=!1),ne){case Oe.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Oe.CODE_CODE_A:E=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_B:E=Oe.CODE_CODE_B;break;case Oe.CODE_STOP:T=!0;break}break}jt&&(E=E===Oe.CODE_CODE_A?Oe.CODE_CODE_B:Oe.CODE_CODE_A)}const Sr=z-Z;if(z=l.getNextUnset(z),!l.isRange(z,Math.min(l.getSize(),z+(z-Z)/2),!1))throw new se;if(he-=me*X,he%103!==X)throw new k;const bn=H.length;if(bn===0)throw new se;bn>0&&ve&&(E===Oe.CODE_CODE_C?H=H.substring(0,bn-2):H=H.substring(0,bn-1));const sr=(h[1]+h[0])/2,tn=Z+Sr/2,Cn=C.length,dr=new Uint8Array(Cn);for(let jt=0;jt<Cn;jt++)dr[jt]=C[jt];const Js=[new je(sr,s),new je(tn,s)];return new Xe(H,dr,0,Js,_e.CODE_128,new Date().getTime())}}Oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Oe.MAX_AVG_VARIANCE=.25,Oe.MAX_INDIVIDUAL_VARIANCE=.7,Oe.CODE_SHIFT=98,Oe.CODE_CODE_C=99,Oe.CODE_CODE_B=100,Oe.CODE_CODE_A=101,Oe.CODE_FNC_1=102,Oe.CODE_FNC_2=97,Oe.CODE_FNC_3=96,Oe.CODE_FNC_4_A=101,Oe.CODE_FNC_4_B=100,Oe.CODE_START_A=103,Oe.CODE_START_B=104,Oe.CODE_START_C=105,Oe.CODE_STOP=106;class on extends sn{constructor(s=!1,l=!1){super(),this.usingCheckDigit=s,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,l,c){let f=this.counters;f.fill(0),this.decodeRowResult="";let h=on.findAsteriskPattern(l,f),m=l.getNextSet(h[1]),y=l.getSize(),C,E;do{on.recordPattern(l,m,f);let $=on.toNarrowWidePattern(f);if($<0)throw new se;C=on.patternToChar($),this.decodeRowResult+=C,E=m;for(let X of f)m+=X;m=l.getNextSet(m)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let $ of f)T+=$;let F=m-E-T;if(m!==y&&F*2<T)throw new se;if(this.usingCheckDigit){let $=this.decodeRowResult.length-1,X=0;for(let ne=0;ne<$;ne++)X+=on.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ne));if(this.decodeRowResult.charAt($)!==on.ALPHABET_STRING.charAt(X%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,$)}if(this.decodeRowResult.length===0)throw new se;let H;this.extendedMode?H=on.decodeExtended(this.decodeRowResult):H=this.decodeRowResult;let Z=(h[1]+h[0])/2,z=E+T/2;return new Xe(H,null,0,[new je(Z,s),new je(z,s)],_e.CODE_39,new Date().getTime())}static findAsteriskPattern(s,l){let c=s.getSize(),f=s.getNextSet(0),h=0,m=f,y=!1,C=l.length;for(let E=f;E<c;E++)if(s.get(E)!==y)l[h]++;else{if(h===C-1){if(this.toNarrowWidePattern(l)===on.ASTERISK_ENCODING&&s.isRange(Math.max(0,m-Math.floor((E-m)/2)),m,!1))return[m,E];m+=l[0]+l[1],l.copyWithin(0,2,2+h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,y=!y}throw new se}static toNarrowWidePattern(s){let l=s.length,c=0,f;do{let h=2147483647;for(let C of s)C<h&&C>c&&(h=C);c=h,f=0;let m=0,y=0;for(let C=0;C<l;C++){let E=s[C];E>c&&(y|=1<<l-1-C,f++,m+=E)}if(f===3){for(let C=0;C<l&&f>0;C++){let E=s[C];if(E>c&&(f--,E*2>=m))return-1}return y}}while(f>3);return-1}static patternToChar(s){for(let l=0;l<on.CHARACTER_ENCODINGS.length;l++)if(on.CHARACTER_ENCODINGS[l]===s)return on.ALPHABET_STRING.charAt(l);if(s===on.ASTERISK_ENCODING)return"*";throw new se}static decodeExtended(s){let l=s.length,c="";for(let f=0;f<l;f++){let h=s.charAt(f);if(h==="+"||h==="$"||h==="%"||h==="/"){let m=s.charAt(f+1),y="\0";switch(h){case"+":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)+32);else throw new R;break;case"$":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)-64);else throw new R;break;case"%":if(m>="A"&&m<="E")y=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")y=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")y=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")y="\0";else if(m==="V")y="@";else if(m==="W")y="`";else if(m==="X"||m==="Y"||m==="Z")y="";else throw new R;break;case"/":if(m>="A"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")y=":";else throw new R;break}c+=y,f++}else c+=h}return c}}on.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",on.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],on.ASTERISK_ENCODING=148;class Tt extends sn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,l,c){let f=this.decodeStart(l),h=this.decodeEnd(l),m=new oe;Tt.decodeMiddle(l,f[1],h[0],m);let y=m.toString(),C=null;c!=null&&(C=c.get(B.ALLOWED_LENGTHS)),C==null&&(C=Tt.DEFAULT_ALLOWED_LENGTHS);let E=y.length,T=!1,F=0;for(let z of C){if(E===z){T=!0;break}z>F&&(F=z)}if(!T&&E>F&&(T=!0),!T)throw new R;const H=[new je(f[1],s),new je(h[0],s)];return new Xe(y,null,0,H,_e.ITF,new Date().getTime())}static decodeMiddle(s,l,c,f){let h=new Int32Array(10),m=new Int32Array(5),y=new Int32Array(5);for(h.fill(0),m.fill(0),y.fill(0);l<c;){sn.recordPattern(s,l,h);for(let E=0;E<5;E++){let T=2*E;m[E]=h[T],y[E]=h[T+1]}let C=Tt.decodeDigit(m);f.append(C.toString()),C=this.decodeDigit(y),f.append(C.toString()),h.forEach(function(E){l+=E})}}decodeStart(s){let l=Tt.skipWhiteSpace(s),c=Tt.findGuardPattern(s,l,Tt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(s,c[0]),c}validateQuietZone(s,l){let c=this.narrowLineWidth*10;c=c<l?c:l;for(let f=l-1;c>0&&f>=0&&!s.get(f);f--)c--;if(c!==0)throw new se}static skipWhiteSpace(s){const l=s.getSize(),c=s.getNextSet(0);if(c===l)throw new se;return c}decodeEnd(s){s.reverse();try{let l=Tt.skipWhiteSpace(s),c;try{c=Tt.findGuardPattern(s,l,Tt.END_PATTERN_REVERSED[0])}catch(h){h instanceof se&&(c=Tt.findGuardPattern(s,l,Tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,c[0]);let f=c[0];return c[0]=s.getSize()-c[1],c[1]=s.getSize()-f,c}finally{s.reverse()}}static findGuardPattern(s,l,c){let f=c.length,h=new Int32Array(f),m=s.getSize(),y=!1,C=0,E=l;h.fill(0);for(let T=l;T<m;T++)if(s.get(T)!==y)h[C]++;else{if(C===f-1){if(sn.patternMatchVariance(h,c,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return[E,T];E+=h[0]+h[1],O.arraycopy(h,2,h,0,C-1),h[C-1]=0,h[C]=0,C--}else C++;h[C]=1,y=!y}throw new se}static decodeDigit(s){let l=Tt.MAX_AVG_VARIANCE,c=-1,f=Tt.PATTERNS.length;for(let h=0;h<f;h++){let m=Tt.PATTERNS[h],y=sn.patternMatchVariance(s,m,Tt.MAX_INDIVIDUAL_VARIANCE);y<l?(l=y,c=h):y===l&&(c=-1)}if(c>=0)return c%10;throw new se}}Tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Tt.MAX_AVG_VARIANCE=.38,Tt.MAX_INDIVIDUAL_VARIANCE=.5,Tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Tt.START_PATTERN=Int32Array.from([1,1,1,1]),Tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Yt extends sn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let l=!1,c,f=0,h=Int32Array.from([0,0,0]);for(;!l;){h=Int32Array.from([0,0,0]),c=Yt.findGuardPattern(s,f,!1,this.START_END_PATTERN,h);let m=c[0];f=c[1];let y=m-(f-m);y>=0&&(l=s.isRange(y,m,!1))}return c}static checkChecksum(s){return Yt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let c=parseInt(s.charAt(l-1),10);return Yt.getStandardUPCEANChecksum(s.substring(0,l-1))===c}static getStandardUPCEANChecksum(s){let l=s.length,c=0;for(let f=l-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new R;c+=h}c*=3;for(let f=l-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new R;c+=h}return(1e3-c)%10}static decodeEnd(s,l){return Yt.findGuardPattern(s,l,!1,Yt.START_END_PATTERN,new Int32Array(Yt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,l,c,f){return this.findGuardPattern(s,l,c,f,new Int32Array(f.length))}static findGuardPattern(s,l,c,f,h){let m=s.getSize();l=c?s.getNextUnset(l):s.getNextSet(l);let y=0,C=l,E=f.length,T=c;for(let F=l;F<m;F++)if(s.get(F)!==T)h[y]++;else{if(y===E-1){if(sn.patternMatchVariance(h,f,Yt.MAX_INDIVIDUAL_VARIANCE)<Yt.MAX_AVG_VARIANCE)return Int32Array.from([C,F]);C+=h[0]+h[1];let H=h.slice(2,h.length-1);for(let Z=0;Z<y-1;Z++)h[Z]=H[Z];h[y-1]=0,h[y]=0,y--}else y++;h[y]=1,T=!T}throw new se}static decodeDigit(s,l,c,f){this.recordPattern(s,c,l);let h=this.MAX_AVG_VARIANCE,m=-1,y=f.length;for(let C=0;C<y;C++){let E=f[C],T=sn.patternMatchVariance(l,E,Yt.MAX_INDIVIDUAL_VARIANCE);T<h&&(h=T,m=C)}if(m>=0)return m;throw new se}}Yt.MAX_AVG_VARIANCE=.48,Yt.MAX_INDIVIDUAL_VARIANCE=.7,Yt.START_END_PATTERN=Int32Array.from([1,1,1]),Yt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Yt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Qs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(l,c,f),m=f.toString(),y=Qs.parseExtensionString(m),C=[new je((c[0]+c[1])/2,s),new je(h,s)],E=new Xe(m,null,0,C,_e.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&E.putAllMetadata(y),E}decodeMiddle(s,l,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=l[1],y=0;for(let E=0;E<5&&m<h;E++){let T=Yt.decodeDigit(s,f,m,Yt.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<4-E),E!==4&&(m=s.getNextSet(m),m=s.getNextUnset(m))}if(c.length!==5)throw new se;let C=this.determineCheckDigit(y);if(Qs.extensionChecksum(c.toString())!==C)throw new se;return m}static extensionChecksum(s){let l=s.length,c=0;for(let f=l-2;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);c*=3;for(let f=l-1;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);return c*=3,c%10}determineCheckDigit(s){for(let l=0;l<10;l++)if(s===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new se}static parseExtensionString(s){if(s.length!==5)return null;let l=Qs.parseExtension5String(s);return l==null?null:new Map([[at.SUGGESTED_PRICE,l]])}static parseExtension5String(s){let l;switch(s.charAt(0)){case"0":l="£";break;case"5":l="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let c=parseInt(s.substring(1)),f=(c/100).toString(),h=c%100,m=h<10?"0"+h:h.toString();return l+f+"."+m}}class bo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(l,c,f),m=f.toString(),y=bo.parseExtensionString(m),C=[new je((c[0]+c[1])/2,s),new je(h,s)],E=new Xe(m,null,0,C,_e.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&E.putAllMetadata(y),E}decodeMiddle(s,l,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=l[1],y=0;for(let C=0;C<2&&m<h;C++){let E=Yt.decodeDigit(s,f,m,Yt.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let T of f)m+=T;E>=10&&(y|=1<<1-C),C!==1&&(m=s.getNextSet(m),m=s.getNextUnset(m))}if(c.length!==2)throw new se;if(parseInt(c.toString())%4!==y)throw new se;return m}static parseExtensionString(s){return s.length!==2?null:new Map([[at.ISSUE_NUMBER,parseInt(s)]])}}class Id{static decodeRow(s,l,c){let f=Yt.findGuardPattern(l,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Qs().decodeRow(s,l,f)}catch{return new bo().decodeRow(s,l,f)}}}Id.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ot extends Yt{constructor(){super(),this.decodeRowStringBuffer="",Ot.L_AND_G_PATTERNS=Ot.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let l=Ot.L_PATTERNS[s-10],c=new Int32Array(l.length);for(let f=0;f<l.length;f++)c[f]=l[l.length-f-1];Ot.L_AND_G_PATTERNS[s]=c}}decodeRow(s,l,c){let f=Ot.findStartGuardPattern(l),h=c==null?null:c.get(B.NEED_RESULT_POINT_CALLBACK);if(h!=null){const ve=new je((f[0]+f[1])/2,s);h.foundPossibleResultPoint(ve)}let m=this.decodeMiddle(l,f,this.decodeRowStringBuffer),y=m.rowOffset,C=m.resultString;if(h!=null){const ve=new je(y,s);h.foundPossibleResultPoint(ve)}let E=this.decodeEnd(l,y);if(h!=null){const ve=new je((E[0]+E[1])/2,s);h.foundPossibleResultPoint(ve)}let T=E[1],F=T+(T-E[0]);if(F>=l.getSize()||!l.isRange(T,F,!1))throw new se;let H=C.toString();if(H.length<8)throw new R;if(!Ot.checkChecksum(H))throw new k;let Z=(f[1]+f[0])/2,z=(E[1]+E[0])/2,$=this.getBarcodeFormat(),X=[new je(Z,s),new je(z,s)],ne=new Xe(H,null,0,X,$,new Date().getTime()),he=0;try{let ve=Id.decodeRow(s,l,E[1]);ne.putMetadata(at.UPC_EAN_EXTENSION,ve.getText()),ne.putAllMetadata(ve.getResultMetadata()),ne.addResultPoints(ve.getResultPoints()),he=ve.getText().length}catch{}let me=c==null?null:c.get(B.ALLOWED_EAN_EXTENSIONS);if(me!=null){let ve=!1;for(let Ge in me)if(he.toString()===Ge){ve=!0;break}if(!ve)throw new se}return ne}decodeEnd(s,l){return Ot.findGuardPattern(s,l,!1,Ot.START_END_PATTERN,new Int32Array(Ot.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Ot.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let c=parseInt(s.charAt(l-1),10);return Ot.getStandardUPCEANChecksum(s.substring(0,l-1))===c}static getStandardUPCEANChecksum(s){let l=s.length,c=0;for(let f=l-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new R;c+=h}c*=3;for(let f=l-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new R;c+=h}return(1e3-c)%10}}class xi extends Ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=l[1],y=0;for(let E=0;E<6&&m<h;E++){let T=Ot.decodeDigit(s,f,m,Ot.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<5-E)}c=xi.determineFirstDigit(c,y),m=Ot.findGuardPattern(s,m,!0,Ot.MIDDLE_PATTERN,new Int32Array(Ot.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&m<h;E++){let T=Ot.decodeDigit(s,f,m,Ot.L_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+T);for(let F of f)m+=F}return{rowOffset:m,resultString:c}}getBarcodeFormat(){return _e.EAN_13}static determineFirstDigit(s,l){for(let c=0;c<10;c++)if(l===this.FIRST_DIGIT_ENCODINGS[c])return s=String.fromCharCode("0".charCodeAt(0)+c)+s,s;throw new se}}xi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Rd extends Ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,c){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=l[1];for(let C=0;C<4&&m<h;C++){let E=Ot.decodeDigit(s,f,m,Ot.L_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+E);for(let T of f)m+=T}m=Ot.findGuardPattern(s,m,!0,Ot.MIDDLE_PATTERN,new Int32Array(Ot.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&m<h;C++){let E=Ot.decodeDigit(s,f,m,Ot.L_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+E);for(let T of f)m+=T}return{rowOffset:m,resultString:c}}getBarcodeFormat(){return _e.EAN_8}}class Od extends Ot{constructor(){super(...arguments),this.ean13Reader=new xi}getBarcodeFormat(){return _e.UPC_A}decode(s,l){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,l,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,l,c))}decodeMiddle(s,l,c){return this.ean13Reader.decodeMiddle(s,l,c)}maybeReturnResult(s){let l=s.getText();if(l.charAt(0)==="0"){let c=new Xe(l.substring(1),null,null,s.getResultPoints(),_e.UPC_A);return s.getResultMetadata()!=null&&c.putAllMetadata(s.getResultMetadata()),c}else throw new se}reset(){this.ean13Reader.reset()}}class os extends Ot{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,l,c){const f=this.decodeMiddleCounters.map(E=>E);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const h=s.getSize();let m=l[1],y=0;for(let E=0;E<6&&m<h;E++){const T=os.decodeDigit(s,f,m,os.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<5-E)}let C=os.determineNumSysAndCheckDigit(c,y);return{rowOffset:m,resultString:C}}decodeEnd(s,l){return os.findGuardPatternWithoutCounters(s,l,!0,os.MIDDLE_END_PATTERN)}checkChecksum(s){return Ot.checkChecksum(os.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,l){for(let c=0;c<=1;c++)for(let f=0;f<10;f++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][f]){let h=String.fromCharCode("0".charCodeAt(0)+c),m=String.fromCharCode("0".charCodeAt(0)+f);return h+s+m}throw se.getNotFoundInstance()}getBarcodeFormat(){return _e.UPC_E}static convertUPCEtoUPCA(s){const l=s.slice(1,7).split("").map(h=>h.charCodeAt(0)),c=new oe;c.append(s.charAt(0));let f=l[5];switch(f){case 0:case 1:case 2:c.appendChars(l,0,2),c.append(f),c.append("0000"),c.appendChars(l,2,3);break;case 3:c.appendChars(l,0,3),c.append("00000"),c.appendChars(l,3,2);break;case 4:c.appendChars(l,0,4),c.append("00000"),c.append(l[4]);break;default:c.appendChars(l,0,5),c.append("0000"),c.append(f);break}return s.length>=8&&c.append(s.charAt(7)),c.toString()}}os.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),os.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Pc extends sn{constructor(s){super();let l=s==null?null:s.get(B.POSSIBLE_FORMATS),c=[];r(l)?(c.push(new xi),c.push(new Od),c.push(new Rd),c.push(new os)):(l.indexOf(_e.EAN_13)>-1&&c.push(new xi),l.indexOf(_e.UPC_A)>-1&&c.push(new Od),l.indexOf(_e.EAN_8)>-1&&c.push(new Rd),l.indexOf(_e.UPC_E)>-1&&c.push(new os)),this.readers=c}decodeRow(s,l,c){for(let f of this.readers)try{const h=f.decodeRow(s,l,c),m=h.getBarcodeFormat()===_e.EAN_13&&h.getText().charAt(0)==="0",y=c==null?null:c.get(B.POSSIBLE_FORMATS),C=y==null||y.includes(_e.UPC_A);if(m&&C){const E=h.getRawBytes(),T=new Xe(h.getText().substring(1),E,E?E.length:null,h.getResultPoints(),_e.UPC_A);return T.putAllMetadata(h.getResultMetadata()),T}return h}catch{}throw new se}reset(){for(let s of this.readers)s.reset()}}class tr extends sn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,l){for(let c=0;c<l.length;c++)if(sn.patternMatchVariance(s,l[c],tr.MAX_INDIVIDUAL_VARIANCE)<tr.MAX_AVG_VARIANCE)return c;throw new se}static count(s){return Qe.sum(new Int32Array(s))}static increment(s,l){let c=0,f=l[0];for(let h=1;h<s.length;h++)l[h]>f&&(f=l[h],c=h);s[c]++}static decrement(s,l){let c=0,f=l[0];for(let h=1;h<s.length;h++)l[h]<f&&(f=l[h],c=h);s[c]--}static isFinderPattern(s){let l=s[0]+s[1],c=l+s[2]+s[3],f=l/c;if(f>=tr.MIN_FINDER_PATTERN_RATIO&&f<=tr.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let y of s)y>m&&(m=y),y<h&&(h=y);return m<10*h}return!1}}tr.MAX_AVG_VARIANCE=.2,tr.MAX_INDIVIDUAL_VARIANCE=.45,tr.MIN_FINDER_PATTERN_RATIO=9.5/12,tr.MAX_FINDER_PATTERN_RATIO=12.5/14;class _a{constructor(s,l){this.value=s,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof _a))return!1;const l=s;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class vl{constructor(s,l,c,f,h){this.value=s,this.startEnd=l,this.value=s,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new je(c,h)),this.resultPoints.push(new je(f,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof vl))return!1;const l=s;return this.value===l.value}hashCode(){return this.value}}class As{constructor(){}static getRSSvalue(s,l,c){let f=0;for(let C of s)f+=C;let h=0,m=0,y=s.length;for(let C=0;C<y-1;C++){let E;for(E=1,m|=1<<C;E<s[C];E++,m&=~(1<<C)){let T=As.combins(f-E-1,y-C-2);if(c&&m===0&&f-E-(y-C-1)>=y-C-1&&(T-=As.combins(f-E-(y-C),y-C-2)),y-C-1>1){let F=0;for(let H=f-E-(y-C-2);H>l;H--)F+=As.combins(f-E-H-1,y-C-3);T-=F*(y-1-C)}else f-E>l&&T--;h+=T}f-=E}return h}static combins(s,l){let c,f;s-l>l?(f=l,c=s-l):(f=s-l,c=l);let h=1,m=1;for(let y=s;y>c;y--)h*=y,m<=f&&(h/=m,m++);for(;m<=f;)h/=m,m++;return h}}class Fc{static buildBitArray(s){let l=s.length*2-1;s[s.length-1].getRightChar()==null&&(l-=1);let c=12*l,f=new W(c),h=0,y=s[0].getRightChar().getValue();for(let C=11;C>=0;--C)y&1<<C&&f.set(h),h++;for(let C=1;C<s.length;++C){let E=s[C],T=E.getLeftChar().getValue();for(let F=11;F>=0;--F)T&1<<F&&f.set(h),h++;if(E.getRightChar()!=null){let F=E.getRightChar().getValue();for(let H=11;H>=0;--H)F&1<<H&&f.set(h),h++}}return f}}class Bi{constructor(s,l){l?this.decodedInformation=null:(this.finished=s,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Co{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Cr extends Co{constructor(s,l){super(s),this.value=l}getValue(){return this.value}isFNC1(){return this.value===Cr.FNC1}}Cr.FNC1="$";class Ui extends Co{constructor(s,l,c){super(s),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class $r extends Co{constructor(s,l,c){if(super(s),l<0||l>10||c<0||c>10)throw new R;this.firstDigit=l,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===$r.FNC1}isSecondDigitFNC1(){return this.secondDigit===$r.FNC1}isAnyFNC1(){return this.firstDigit===$r.FNC1||this.secondDigit===$r.FNC1}}$r.FNC1=10;class We{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new se;let l=s.substring(0,2);for(let h of We.TWO_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===We.VARIABLE_LENGTH?We.processVariableAI(2,h[2],s):We.processFixedAI(2,h[1],s);if(s.length<3)throw new se;let c=s.substring(0,3);for(let h of We.THREE_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===We.VARIABLE_LENGTH?We.processVariableAI(3,h[2],s):We.processFixedAI(3,h[1],s);for(let h of We.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===We.VARIABLE_LENGTH?We.processVariableAI(4,h[2],s):We.processFixedAI(4,h[1],s);if(s.length<4)throw new se;let f=s.substring(0,4);for(let h of We.FOUR_DIGIT_DATA_LENGTH)if(h[0]===f)return h[1]===We.VARIABLE_LENGTH?We.processVariableAI(4,h[2],s):We.processFixedAI(4,h[1],s);throw new se}static processFixedAI(s,l,c){if(c.length<s)throw new se;let f=c.substring(0,s);if(c.length<s+l)throw new se;let h=c.substring(s,s+l),m=c.substring(s+l),y="("+f+")"+h,C=We.parseFieldsInGeneralPurpose(m);return C==null?y:y+C}static processVariableAI(s,l,c){let f=c.substring(0,s),h;c.length<s+l?h=c.length:h=s+l;let m=c.substring(s,h),y=c.substring(h),C="("+f+")"+m,E=We.parseFieldsInGeneralPurpose(y);return E==null?C:C+E}}We.VARIABLE_LENGTH=[],We.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",We.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",We.VARIABLE_LENGTH,20],["22",We.VARIABLE_LENGTH,29],["30",We.VARIABLE_LENGTH,8],["37",We.VARIABLE_LENGTH,8],["90",We.VARIABLE_LENGTH,30],["91",We.VARIABLE_LENGTH,30],["92",We.VARIABLE_LENGTH,30],["93",We.VARIABLE_LENGTH,30],["94",We.VARIABLE_LENGTH,30],["95",We.VARIABLE_LENGTH,30],["96",We.VARIABLE_LENGTH,30],["97",We.VARIABLE_LENGTH,3],["98",We.VARIABLE_LENGTH,30],["99",We.VARIABLE_LENGTH,30]],We.THREE_DIGIT_DATA_LENGTH=[["240",We.VARIABLE_LENGTH,30],["241",We.VARIABLE_LENGTH,30],["242",We.VARIABLE_LENGTH,6],["250",We.VARIABLE_LENGTH,30],["251",We.VARIABLE_LENGTH,30],["253",We.VARIABLE_LENGTH,17],["254",We.VARIABLE_LENGTH,20],["400",We.VARIABLE_LENGTH,30],["401",We.VARIABLE_LENGTH,30],["402",17],["403",We.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",We.VARIABLE_LENGTH,20],["421",We.VARIABLE_LENGTH,15],["422",3],["423",We.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],We.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",We.VARIABLE_LENGTH,15],["391",We.VARIABLE_LENGTH,18],["392",We.VARIABLE_LENGTH,15],["393",We.VARIABLE_LENGTH,18],["703",We.VARIABLE_LENGTH,30]],We.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",We.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",We.VARIABLE_LENGTH,20],["8003",We.VARIABLE_LENGTH,30],["8004",We.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",We.VARIABLE_LENGTH,30],["8008",We.VARIABLE_LENGTH,12],["8018",18],["8020",We.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",We.VARIABLE_LENGTH,70],["8200",We.VARIABLE_LENGTH,70]];class Sa{constructor(s){this.buffer=new oe,this.information=s}decodeAllCodes(s,l){let c=l,f=null;do{let h=this.decodeGeneralPurposeField(c,f),m=We.parseFieldsInGeneralPurpose(h.getNewString());if(m!=null&&s.append(m),h.isRemaining()?f=""+h.getRemainingValue():f=null,c===h.getNewPosition())break;c=h.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let l=s;l<s+3;++l)if(this.information.get(l))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(s,4);return h===0?new $r(this.information.getSize(),$r.FNC1,$r.FNC1):new $r(this.information.getSize(),h-1,$r.FNC1)}let l=this.extractNumericValueFromBitArray(s,7),c=(l-8)/11,f=(l-8)%11;return new $r(s+7,c,f)}extractNumericValueFromBitArray(s,l){return Sa.extractNumericValueFromBitArray(this.information,s,l)}static extractNumericValueFromBitArray(s,l,c){let f=0;for(let h=0;h<c;++h)s.get(l+h)&&(f|=1<<c-h-1);return f}decodeGeneralPurposeField(s,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(s);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new Ui(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new Ui(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,l;do{let c=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),s=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),s=l.isFinished()):(l=this.parseNumericBlock(),s=l.isFinished()),!(c!==this.current.getPosition())&&!s)break}while(!s);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let l;return s.isSecondDigitFNC1()?l=new Ui(this.current.getPosition(),this.buffer.toString()):l=new Ui(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Bi(!0,l)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let l=new Ui(this.current.getPosition(),this.buffer.toString());return new Bi(!0,l)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Bi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new Ui(this.current.getPosition(),this.buffer.toString());return new Bi(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Bi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new Ui(this.current.getPosition(),this.buffer.toString());return new Bi(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Bi(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<116)return!0;if(s+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(s,8);return f>=232&&f<253}decodeIsoIec646(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new Cr(s+5,Cr.FNC1);if(l>=5&&l<15)return new Cr(s+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<90)return new Cr(s+7,""+(c+1));if(c>=90&&c<116)return new Cr(s+7,""+(c+7));let f=this.extractNumericValueFromBitArray(s,8),h;switch(f){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new R}return new Cr(s+8,h)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,6);return c>=16&&c<63}decodeAlphanumeric(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new Cr(s+5,Cr.FNC1);if(l>=5&&l<15)return new Cr(s+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(s,6);if(c>=32&&c<58)return new Cr(s+6,""+(c+33));let f;switch(c){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new It("Decoding invalid alphanumeric value: "+c)}return new Cr(s+6,f)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<5&&l+s<this.information.getSize();++l)if(l===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+l))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let l=s;l<s+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<4&&l+s<this.information.getSize();++l)if(this.information.get(s+l))return!1;return!0}}class Bc{constructor(s){this.information=s,this.generalDecoder=new Sa(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Nr extends Bc{constructor(s){super(s)}encodeCompressedGtin(s,l){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,l,c)}encodeCompressedGtinWithoutAI(s,l,c){for(let f=0;f<4;++f){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*f,10);h/100===0&&s.append("0"),h/10===0&&s.append("0"),s.append(h)}Nr.appendCheckDigit(s,c)}static appendCheckDigit(s,l){let c=0;for(let f=0;f<13;f++){let h=s.charAt(f+l).charCodeAt(0)-"0".charCodeAt(0);c+=f&1?h:3*h}c=10-c%10,c===10&&(c=0),s.append(c)}}Nr.GTIN_SIZE=40;class Aa extends Nr{constructor(s){super(s)}parseInformation(){let s=new oe;s.append("(01)");let l=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Aa.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,Aa.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(s,Aa.HEADER_SIZE+44)}}Aa.HEADER_SIZE=1+1+2;class No extends Bc{constructor(s){super(s)}parseInformation(){let s=new oe;return this.getGeneralDecoder().decodeAllCodes(s,No.HEADER_SIZE)}}No.HEADER_SIZE=2+1+2;class yl extends Nr{constructor(s){super(s)}encodeCompressedWeight(s,l,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(l,c);this.addWeightCode(s,f);let h=this.checkWeight(f),m=1e5;for(let y=0;y<5;++y)h/m===0&&s.append("0"),m/=10;s.append(h)}}class js extends yl{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=js.HEADER_SIZE+yl.GTIN_SIZE+js.WEIGHT_SIZE)throw new se;let s=new oe;return this.encodeCompressedGtin(s,js.HEADER_SIZE),this.encodeCompressedWeight(s,js.HEADER_SIZE+yl.GTIN_SIZE,js.WEIGHT_SIZE),s.toString()}}js.HEADER_SIZE=4+1,js.WEIGHT_SIZE=15;class xp extends js{constructor(s){super(s)}addWeightCode(s,l){s.append("(3103)")}checkWeight(s){return s}}class gp extends js{constructor(s){super(s)}addWeightCode(s,l){l<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class ks extends Nr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<ks.HEADER_SIZE+Nr.GTIN_SIZE)throw new se;let s=new oe;this.encodeCompressedGtin(s,ks.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(ks.HEADER_SIZE+Nr.GTIN_SIZE,ks.LAST_DIGIT_SIZE);s.append("(392"),s.append(l),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(ks.HEADER_SIZE+Nr.GTIN_SIZE+ks.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}ks.HEADER_SIZE=5+1+2,ks.LAST_DIGIT_SIZE=2;class xr extends Nr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<xr.HEADER_SIZE+Nr.GTIN_SIZE)throw new se;let s=new oe;this.encodeCompressedGtin(s,xr.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(xr.HEADER_SIZE+Nr.GTIN_SIZE,xr.LAST_DIGIT_SIZE);s.append("(393"),s.append(l),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(xr.HEADER_SIZE+Nr.GTIN_SIZE+xr.LAST_DIGIT_SIZE,xr.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let f=this.getGeneralDecoder().decodeGeneralPurposeField(xr.HEADER_SIZE+Nr.GTIN_SIZE+xr.LAST_DIGIT_SIZE+xr.FIRST_THREE_DIGITS_SIZE,null);return s.append(f.getNewString()),s.toString()}}xr.HEADER_SIZE=5+1+2,xr.LAST_DIGIT_SIZE=2,xr.FIRST_THREE_DIGITS_SIZE=10;class Zt extends yl{constructor(s,l,c){super(s),this.dateCode=c,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=Zt.HEADER_SIZE+Zt.GTIN_SIZE+Zt.WEIGHT_SIZE+Zt.DATE_SIZE)throw new se;let s=new oe;return this.encodeCompressedGtin(s,Zt.HEADER_SIZE),this.encodeCompressedWeight(s,Zt.HEADER_SIZE+Zt.GTIN_SIZE,Zt.WEIGHT_SIZE),this.encodeCompressedDate(s,Zt.HEADER_SIZE+Zt.GTIN_SIZE+Zt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(l,Zt.DATE_SIZE);if(c==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let f=c%32;c/=32;let h=c%12+1;c/=12;let m=c;m/10==0&&s.append("0"),s.append(m),h/10==0&&s.append("0"),s.append(h),f/10==0&&s.append("0"),s.append(f)}addWeightCode(s,l){s.append("("),s.append(this.firstAIdigits),s.append(l/1e5),s.append(")")}checkWeight(s){return s%1e5}}Zt.HEADER_SIZE=7+1,Zt.WEIGHT_SIZE=20,Zt.DATE_SIZE=16;function Md(P){try{if(P.get(1))return new Aa(P);if(!P.get(2))return new No(P);switch(Sa.extractNumericValueFromBitArray(P,1,4)){case 4:return new xp(P);case 5:return new gp(P)}switch(Sa.extractNumericValueFromBitArray(P,1,5)){case 12:return new ks(P);case 13:return new xr(P)}switch(Sa.extractNumericValueFromBitArray(P,1,7)){case 56:return new Zt(P,"310","11");case 57:return new Zt(P,"320","11");case 58:return new Zt(P,"310","13");case 59:return new Zt(P,"320","13");case 60:return new Zt(P,"310","15");case 61:return new Zt(P,"320","15");case 62:return new Zt(P,"310","17");case 63:return new Zt(P,"320","17")}}catch(s){throw console.log(s),new It("unknown decoder: "+P)}}class ls{constructor(s,l,c,f){this.leftchar=s,this.rightchar=l,this.finderpattern=c,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,l){return s instanceof ls?ls.equalsOrNull(s.leftchar,l.leftchar)&&ls.equalsOrNull(s.rightchar,l.rightchar)&&ls.equalsOrNull(s.finderpattern,l.finderpattern):!1}static equalsOrNull(s,l){return s===null?l===null:ls.equals(s,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Uc{constructor(s,l,c){this.pairs=s,this.rowNumber=l,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,l){return s instanceof Uc?this.checkEqualitity(s,l)&&s.wasReversed===l.wasReversed:!1}checkEqualitity(s,l){if(!s||!l)return;let c;return s.forEach((f,h)=>{l.forEach(m=>{f.getLeftChar().getValue()===m.getLeftChar().getValue()&&f.getRightChar().getValue()===m.getRightChar().getValue()&&f.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(c=!0)})}),c}}class Ne extends tr{constructor(s){super(...arguments),this.pairs=new Array(Ne.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,l,c){this.pairs.length=0,this.startFromEven=!1;try{return Ne.constructResult(this.decodeRow2pairs(s,l))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,Ne.constructResult(this.decodeRow2pairs(s,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,l){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,s))}catch(h){if(h instanceof se){if(!this.pairs.length)throw new se;c=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(s,!1),f){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new se}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return s&&(this.rows=this.rows.reverse()),l}checkRows(s,l){for(let c=l;c<this.rows.length;c++){let f=this.rows[c];this.pairs.length=0;for(let m of s)this.pairs.push(m.getPairs());if(this.pairs.push(f.getPairs()),!Ne.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(s);h.push(f);try{return this.checkRows(h,c+1)}catch(m){this.verbose&&console.log(m)}}throw new se}static isValidSequence(s){for(let l of Ne.FINDER_PATTERN_SEQUENCES){if(s.length>l.length)continue;let c=!0;for(let f=0;f<s.length;f++)if(s[f].getFinderPattern().getValue()!=l[f]){c=!1;break}if(c)return!0}return!1}storeRow(s,l){let c=0,f=!1,h=!1;for(;c<this.rows.length;){let m=this.rows[c];if(m.getRowNumber()>s){h=m.isEquivalent(this.pairs);break}f=m.isEquivalent(this.pairs),c++}h||f||Ne.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new Uc(this.pairs,s,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,l){for(let c of l)if(c.getPairs().length!==s.length){for(let f of c.getPairs())for(let h of s)if(ls.equals(f,h))break}}static isPartialRow(s,l){for(let c of l){let f=!0;for(let h of s){let m=!1;for(let y of c.getPairs())if(h.equals(y)){m=!0;break}if(!m){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(s){let l=Fc.buildBitArray(s),f=Md(l).parseInformation(),h=s[0].getFinderPattern().getResultPoints(),m=s[s.length-1].getFinderPattern().getResultPoints(),y=[h[0],h[1],m[0],m[1]];return new Xe(f,null,null,y,_e.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),l=s.getLeftChar(),c=s.getRightChar();if(c==null)return!1;let f=c.getChecksumPortion(),h=2;for(let y=1;y<this.pairs.size();++y){let C=this.pairs.get(y);f+=C.getLeftChar().getChecksumPortion(),h++;let E=C.getRightChar();E!=null&&(f+=E.getChecksumPortion(),h++)}return f%=211,211*(h-4)+f==l.getValue()}static getNextSecondBar(s,l){let c;return s.get(l)?(c=s.getNextUnset(l),c=s.getNextSet(c)):(c=s.getNextSet(l),c=s.getNextUnset(c)),c}retrieveNextPair(s,l,c){let f=l.length%2==0;this.startFromEven&&(f=!f);let h,m=!0,y=-1;do this.findNextPair(s,l,y),h=this.parseFoundFinderPattern(s,c,f),h==null?y=Ne.getNextSecondBar(s,this.startEnd[0]):m=!1;while(m);let C=this.decodeDataCharacter(s,h,f,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new se;let E;try{E=this.decodeDataCharacter(s,h,f,!1)}catch(T){E=null,this.verbose&&console.log(T)}return new ls(C,E,h,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,l,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m;c>=0?m=c:this.isEmptyPair(l)?m=0:m=l[l.length-1].getFinderPattern().getStartEnd()[1];let y=l.length%2!=0;this.startFromEven&&(y=!y);let C=!1;for(;m<h&&(C=!s.get(m),!!C);)m++;let E=0,T=m;for(let F=m;F<h;F++)if(s.get(F)!=C)f[E]++;else{if(E==3){if(y&&Ne.reverseCounters(f),Ne.isFinderPattern(f)){this.startEnd[0]=T,this.startEnd[1]=F;return}y&&Ne.reverseCounters(f),T+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,E--}else E++;f[E]=1,C=!C}throw new se}static reverseCounters(s){let l=s.length;for(let c=0;c<l/2;++c){let f=s[c];s[c]=s[l-c-1],s[l-c-1]=f}}parseFoundFinderPattern(s,l,c){let f,h,m;if(c){let E=this.startEnd[0]-1;for(;E>=0&&!s.get(E);)E--;E++,f=this.startEnd[0]-E,h=E,m=this.startEnd[1]}else h=this.startEnd[0],m=s.getNextUnset(this.startEnd[1]+1),f=m-this.startEnd[1];let y=this.getDecodeFinderCounters();O.arraycopy(y,0,y,1,y.length-1),y[0]=f;let C;try{C=this.parseFinderValue(y,Ne.FINDER_PATTERNS)}catch{return null}return new vl(C,[h,m],h,m,l)}decodeDataCharacter(s,l,c,f){let h=this.getDataCharacterCounters();for(let tn=0;tn<h.length;tn++)h[tn]=0;if(f)Ne.recordPatternInReverse(s,l.getStartEnd()[0],h);else{Ne.recordPattern(s,l.getStartEnd()[1],h);for(let tn=0,Cn=h.length-1;tn<Cn;tn++,Cn--){let dr=h[tn];h[tn]=h[Cn],h[Cn]=dr}}let m=17,y=Qe.sum(new Int32Array(h))/m,C=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(y-C)/C>.3)throw new se;let E=this.getOddCounts(),T=this.getEvenCounts(),F=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let tn=0;tn<h.length;tn++){let Cn=1*h[tn]/y,dr=Cn+.5;if(dr<1){if(Cn<.3)throw new se;dr=1}else if(dr>8){if(Cn>8.7)throw new se;dr=8}let Js=tn/2;tn&1?(T[Js]=dr,H[Js]=Cn-dr):(E[Js]=dr,F[Js]=Cn-dr)}this.adjustOddEvenCounts(m);let Z=4*l.getValue()+(c?0:2)+(f?0:1)-1,z=0,$=0;for(let tn=E.length-1;tn>=0;tn--){if(Ne.isNotA1left(l,c,f)){let Cn=Ne.WEIGHTS[Z][2*tn];$+=E[tn]*Cn}z+=E[tn]}let X=0;for(let tn=T.length-1;tn>=0;tn--)if(Ne.isNotA1left(l,c,f)){let Cn=Ne.WEIGHTS[Z][2*tn+1];X+=T[tn]*Cn}let ne=$+X;if(z&1||z>13||z<4)throw new se;let he=(13-z)/2,me=Ne.SYMBOL_WIDEST[he],ve=9-me,Ge=As.getRSSvalue(E,me,!0),ht=As.getRSSvalue(T,ve,!1),Sr=Ne.EVEN_TOTAL_SUBSET[he],bn=Ne.GSUM[he],sr=Ge*Sr+ht+bn;return new _a(sr,ne)}static isNotA1left(s,l,c){return!(s.getValue()==0&&l&&c)}adjustOddEvenCounts(s){let l=Qe.sum(new Int32Array(this.getOddCounts())),c=Qe.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1;l>13?h=!0:l<4&&(f=!0);let m=!1,y=!1;c>13?y=!0:c<4&&(m=!0);let C=l+c-s,E=(l&1)==1,T=(c&1)==0;if(C==1)if(E){if(T)throw new se;h=!0}else{if(!T)throw new se;y=!0}else if(C==-1)if(E){if(T)throw new se;f=!0}else{if(!T)throw new se;m=!0}else if(C==0){if(E){if(!T)throw new se;l<c?(f=!0,y=!0):(h=!0,m=!0)}else if(T)throw new se}else throw new se;if(f){if(h)throw new se;Ne.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Ne.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new se;Ne.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Ne.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ne.SYMBOL_WIDEST=[7,5,4,3,1],Ne.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ne.GSUM=[0,348,1388,2948,3988],Ne.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ne.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ne.FINDER_PAT_A=0,Ne.FINDER_PAT_B=1,Ne.FINDER_PAT_C=2,Ne.FINDER_PAT_D=3,Ne.FINDER_PAT_E=4,Ne.FINDER_PAT_F=5,Ne.FINDER_PATTERN_SEQUENCES=[[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_C,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_C],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_E],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F]],Ne.MAX_PAIRS=11;class vp extends _a{constructor(s,l,c){super(s,l),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class pn extends tr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,l,c){const f=this.decodePair(l,!1,s,c);pn.addOrTally(this.possibleLeftPairs,f),l.reverse();let h=this.decodePair(l,!0,s,c);pn.addOrTally(this.possibleRightPairs,h),l.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&pn.checkChecksum(m,y))return pn.constructResult(m,y)}throw new se}static addOrTally(s,l){if(l==null)return;let c=!1;for(let f of s)if(f.getValue()===l.getValue()){f.incrementCount(),c=!0;break}c||s.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,l){let c=4537077*s.getValue()+l.getValue(),f=new String(c).toString(),h=new oe;for(let E=13-f.length;E>0;E--)h.append("0");h.append(f);let m=0;for(let E=0;E<13;E++){let T=h.charAt(E).charCodeAt(0)-"0".charCodeAt(0);m+=E&1?T:3*T}m=10-m%10,m===10&&(m=0),h.append(m.toString());let y=s.getFinderPattern().getResultPoints(),C=l.getFinderPattern().getResultPoints();return new Xe(h.toString(),null,0,[y[0],y[1],C[0],C[1]],_e.RSS_14,new Date().getTime())}static checkChecksum(s,l){let c=(s.getChecksumPortion()+16*l.getChecksumPortion())%79,f=9*s.getFinderPattern().getValue()+l.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,c===f}decodePair(s,l,c,f){try{let h=this.findFinderPattern(s,l),m=this.parseFoundFinderPattern(s,c,l,h),y=f==null?null:f.get(B.NEED_RESULT_POINT_CALLBACK);if(y!=null){let T=(h[0]+h[1])/2;l&&(T=s.getSize()-1-T),y.foundPossibleResultPoint(new je(T,c))}let C=this.decodeDataCharacter(s,m,!0),E=this.decodeDataCharacter(s,m,!1);return new vp(1597*C.getValue()+E.getValue(),C.getChecksumPortion()+4*E.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(s,l,c){let f=this.getDataCharacterCounters();for(let X=0;X<f.length;X++)f[X]=0;if(c)sn.recordPatternInReverse(s,l.getStartEnd()[0],f);else{sn.recordPattern(s,l.getStartEnd()[1]+1,f);for(let X=0,ne=f.length-1;X<ne;X++,ne--){let he=f[X];f[X]=f[ne],f[ne]=he}}let h=c?16:15,m=Qe.sum(new Int32Array(f))/h,y=this.getOddCounts(),C=this.getEvenCounts(),E=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let X=0;X<f.length;X++){let ne=f[X]/m,he=Math.floor(ne+.5);he<1?he=1:he>8&&(he=8);let me=Math.floor(X/2);X&1?(C[me]=he,T[me]=ne-he):(y[me]=he,E[me]=ne-he)}this.adjustOddEvenCounts(c,h);let F=0,H=0;for(let X=y.length-1;X>=0;X--)H*=9,H+=y[X],F+=y[X];let Z=0,z=0;for(let X=C.length-1;X>=0;X--)Z*=9,Z+=C[X],z+=C[X];let $=H+3*Z;if(c){if(F&1||F>12||F<4)throw new se;let X=(12-F)/2,ne=pn.OUTSIDE_ODD_WIDEST[X],he=9-ne,me=As.getRSSvalue(y,ne,!1),ve=As.getRSSvalue(C,he,!0),Ge=pn.OUTSIDE_EVEN_TOTAL_SUBSET[X],ht=pn.OUTSIDE_GSUM[X];return new _a(me*Ge+ve+ht,$)}else{if(z&1||z>10||z<4)throw new se;let X=(10-z)/2,ne=pn.INSIDE_ODD_WIDEST[X],he=9-ne,me=As.getRSSvalue(y,ne,!0),ve=As.getRSSvalue(C,he,!1),Ge=pn.INSIDE_ODD_TOTAL_SUBSET[X],ht=pn.INSIDE_GSUM[X];return new _a(ve*Ge+me+ht,$)}}findFinderPattern(s,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=s.getSize(),h=!1,m=0;for(;m<f&&(h=!s.get(m),l!==h);)m++;let y=0,C=m;for(let E=m;E<f;E++)if(s.get(E)!==h)c[y]++;else{if(y===3){if(tr.isFinderPattern(c))return[C,E];C+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,y--}else y++;c[y]=1,h=!h}throw new se}parseFoundFinderPattern(s,l,c,f){let h=s.get(f[0]),m=f[0]-1;for(;m>=0&&h!==s.get(m);)m--;m++;const y=f[0]-m,C=this.getDecodeFinderCounters(),E=new Int32Array(C.length);O.arraycopy(C,0,E,1,C.length-1),E[0]=y;const T=this.parseFinderValue(E,pn.FINDER_PATTERNS);let F=m,H=f[1];return c&&(F=s.getSize()-1-F,H=s.getSize()-1-H),new vl(T,[m,f[1]],F,H,l)}adjustOddEvenCounts(s,l){let c=Qe.sum(new Int32Array(this.getOddCounts())),f=Qe.sum(new Int32Array(this.getEvenCounts())),h=!1,m=!1,y=!1,C=!1;s?(c>12?m=!0:c<4&&(h=!0),f>12?C=!0:f<4&&(y=!0)):(c>11?m=!0:c<5&&(h=!0),f>10?C=!0:f<4&&(y=!0));let E=c+f-l,T=(c&1)===(s?1:0),F=(f&1)===1;if(E===1)if(T){if(F)throw new se;m=!0}else{if(!F)throw new se;C=!0}else if(E===-1)if(T){if(F)throw new se;h=!0}else{if(!F)throw new se;y=!0}else if(E===0){if(T){if(!F)throw new se;c<f?(h=!0,C=!0):(m=!0,y=!0)}else if(F)throw new se}else throw new se;if(h){if(m)throw new se;tr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&tr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(C)throw new se;tr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&tr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}pn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],pn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],pn.OUTSIDE_GSUM=[0,161,961,2015,2715],pn.INSIDE_GSUM=[0,336,1036,1516],pn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],pn.INSIDE_ODD_WIDEST=[2,4,6,8],pn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class zi extends sn{constructor(s,l){super(),this.readers=[],this.verbose=l===!0;const c=s?s.get(B.POSSIBLE_FORMATS):null,f=s&&s.get(B.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(_e.EAN_13)||c.includes(_e.UPC_A)||c.includes(_e.EAN_8)||c.includes(_e.UPC_E))&&this.readers.push(new Pc(s)),c.includes(_e.CODE_39)&&this.readers.push(new on(f)),c.includes(_e.CODE_128)&&this.readers.push(new Oe),c.includes(_e.ITF)&&this.readers.push(new Tt),c.includes(_e.RSS_14)&&this.readers.push(new pn),c.includes(_e.RSS_EXPANDED)&&this.readers.push(new Ne(this.verbose))):(this.readers.push(new Pc(s)),this.readers.push(new on),this.readers.push(new Pc(s)),this.readers.push(new Oe),this.readers.push(new Tt),this.readers.push(new pn),this.readers.push(new Ne(this.verbose)))}decodeRow(s,l,c){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(s,l,c)}catch{}throw new se}reset(){this.readers.forEach(s=>s.reset())}}class Ld extends Ae{constructor(s=500,l){super(new zi(l),s,l)}}class Bt{constructor(s,l,c){this.ecCodewords=s,this.ecBlocks=[l],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Mt{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Et{constructor(s,l,c,f,h,m){this.versionNumber=s,this.symbolSizeRows=l,this.symbolSizeColumns=c,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=h,this.ecBlocks=m;let y=0;const C=m.getECCodewords(),E=m.getECBlocks();for(let T of E)y+=T.getCount()*(T.getDataCodewords()+C);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,l){if(s&1||l&1)throw new R;for(let c of Et.VERSIONS)if(c.symbolSizeRows===s&&c.symbolSizeColumns===l)return c;throw new R}toString(){return""+this.versionNumber}static buildVersions(){return[new Et(1,10,10,8,8,new Bt(5,new Mt(1,3))),new Et(2,12,12,10,10,new Bt(7,new Mt(1,5))),new Et(3,14,14,12,12,new Bt(10,new Mt(1,8))),new Et(4,16,16,14,14,new Bt(12,new Mt(1,12))),new Et(5,18,18,16,16,new Bt(14,new Mt(1,18))),new Et(6,20,20,18,18,new Bt(18,new Mt(1,22))),new Et(7,22,22,20,20,new Bt(20,new Mt(1,30))),new Et(8,24,24,22,22,new Bt(24,new Mt(1,36))),new Et(9,26,26,24,24,new Bt(28,new Mt(1,44))),new Et(10,32,32,14,14,new Bt(36,new Mt(1,62))),new Et(11,36,36,16,16,new Bt(42,new Mt(1,86))),new Et(12,40,40,18,18,new Bt(48,new Mt(1,114))),new Et(13,44,44,20,20,new Bt(56,new Mt(1,144))),new Et(14,48,48,22,22,new Bt(68,new Mt(1,174))),new Et(15,52,52,24,24,new Bt(42,new Mt(2,102))),new Et(16,64,64,14,14,new Bt(56,new Mt(2,140))),new Et(17,72,72,16,16,new Bt(36,new Mt(4,92))),new Et(18,80,80,18,18,new Bt(48,new Mt(4,114))),new Et(19,88,88,20,20,new Bt(56,new Mt(4,144))),new Et(20,96,96,22,22,new Bt(68,new Mt(4,174))),new Et(21,104,104,24,24,new Bt(56,new Mt(6,136))),new Et(22,120,120,18,18,new Bt(68,new Mt(6,175))),new Et(23,132,132,20,20,new Bt(62,new Mt(8,163))),new Et(24,144,144,22,22,new Bt(62,new Mt(8,156),new Mt(2,155))),new Et(25,8,18,6,16,new Bt(7,new Mt(1,5))),new Et(26,8,32,6,14,new Bt(11,new Mt(1,10))),new Et(27,12,26,10,24,new Bt(14,new Mt(1,16))),new Et(28,12,36,10,16,new Bt(18,new Mt(1,22))),new Et(29,16,36,14,16,new Bt(24,new Mt(1,32))),new Et(30,16,48,14,22,new Bt(28,new Mt(1,49)))]}}Et.VERSIONS=Et.buildVersions();class zc{constructor(s){const l=s.getHeight();if(l<8||l>144||l&1)throw new R;this.version=zc.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new ke(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const l=s.getHeight(),c=s.getWidth();return Et.getVersionForDimensions(l,c)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let l=0,c=4,f=0;const h=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let y=!1,C=!1,E=!1,T=!1;do if(c===h&&f===0&&!y)s[l++]=this.readCorner1(h,m)&255,c-=2,f+=2,y=!0;else if(c===h-2&&f===0&&m&3&&!C)s[l++]=this.readCorner2(h,m)&255,c-=2,f+=2,C=!0;else if(c===h+4&&f===2&&!(m&7)&&!E)s[l++]=this.readCorner3(h,m)&255,c-=2,f+=2,E=!0;else if(c===h-2&&f===0&&(m&7)===4&&!T)s[l++]=this.readCorner4(h,m)&255,c-=2,f+=2,T=!0;else{do c<h&&f>=0&&!this.readMappingMatrix.get(f,c)&&(s[l++]=this.readUtah(c,f,h,m)&255),c-=2,f+=2;while(c>=0&&f<m);c+=1,f+=3;do c>=0&&f<m&&!this.readMappingMatrix.get(f,c)&&(s[l++]=this.readUtah(c,f,h,m)&255),c+=2,f-=2;while(c<h&&f>=0);c+=3,f+=1}while(c<h||f<m);if(l!==this.version.getTotalCodewords())throw new R;return s}readModule(s,l,c,f){return s<0&&(s+=c,l+=4-(c+4&7)),l<0&&(l+=f,s+=4-(f+4&7)),this.readMappingMatrix.set(l,s),this.mappingBitMatrix.get(l,s)}readUtah(s,l,c,f){let h=0;return this.readModule(s-2,l-2,c,f)&&(h|=1),h<<=1,this.readModule(s-2,l-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,l-2,c,f)&&(h|=1),h<<=1,this.readModule(s-1,l-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,l,c,f)&&(h|=1),h<<=1,this.readModule(s,l-2,c,f)&&(h|=1),h<<=1,this.readModule(s,l-1,c,f)&&(h|=1),h<<=1,this.readModule(s,l,c,f)&&(h|=1),h}readCorner1(s,l){let c=0;return this.readModule(s-1,0,s,l)&&(c|=1),c<<=1,this.readModule(s-1,1,s,l)&&(c|=1),c<<=1,this.readModule(s-1,2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-1,s,l)&&(c|=1),c<<=1,this.readModule(1,l-1,s,l)&&(c|=1),c<<=1,this.readModule(2,l-1,s,l)&&(c|=1),c<<=1,this.readModule(3,l-1,s,l)&&(c|=1),c}readCorner2(s,l){let c=0;return this.readModule(s-3,0,s,l)&&(c|=1),c<<=1,this.readModule(s-2,0,s,l)&&(c|=1),c<<=1,this.readModule(s-1,0,s,l)&&(c|=1),c<<=1,this.readModule(0,l-4,s,l)&&(c|=1),c<<=1,this.readModule(0,l-3,s,l)&&(c|=1),c<<=1,this.readModule(0,l-2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-1,s,l)&&(c|=1),c<<=1,this.readModule(1,l-1,s,l)&&(c|=1),c}readCorner3(s,l){let c=0;return this.readModule(s-1,0,s,l)&&(c|=1),c<<=1,this.readModule(s-1,l-1,s,l)&&(c|=1),c<<=1,this.readModule(0,l-3,s,l)&&(c|=1),c<<=1,this.readModule(0,l-2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-1,s,l)&&(c|=1),c<<=1,this.readModule(1,l-3,s,l)&&(c|=1),c<<=1,this.readModule(1,l-2,s,l)&&(c|=1),c<<=1,this.readModule(1,l-1,s,l)&&(c|=1),c}readCorner4(s,l){let c=0;return this.readModule(s-3,0,s,l)&&(c|=1),c<<=1,this.readModule(s-2,0,s,l)&&(c|=1),c<<=1,this.readModule(s-1,0,s,l)&&(c|=1),c<<=1,this.readModule(0,l-2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-1,s,l)&&(c|=1),c<<=1,this.readModule(1,l-1,s,l)&&(c|=1),c<<=1,this.readModule(2,l-1,s,l)&&(c|=1),c<<=1,this.readModule(3,l-1,s,l)&&(c|=1),c}extractDataRegion(s){const l=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(s.getHeight()!==l)throw new N("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),m=l/f|0,y=c/h|0,C=m*f,E=y*h,T=new ke(E,C);for(let F=0;F<m;++F){const H=F*f;for(let Z=0;Z<y;++Z){const z=Z*h;for(let $=0;$<f;++$){const X=F*(f+2)+1+$,ne=H+$;for(let he=0;he<h;++he){const me=Z*(h+2)+1+he;if(s.get(me,X)){const ve=z+he;T.set(ve,ne)}}}}}return T}}class wl{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l){const c=l.getECBlocks();let f=0;const h=c.getECBlocks();for(let $ of h)f+=$.getCount();const m=new Array(f);let y=0;for(let $ of h)for(let X=0;X<$.getCount();X++){const ne=$.getDataCodewords(),he=c.getECCodewords()+ne;m[y++]=new wl(ne,new Uint8Array(he))}const E=m[0].codewords.length-c.getECCodewords(),T=E-1;let F=0;for(let $=0;$<T;$++)for(let X=0;X<y;X++)m[X].codewords[$]=s[F++];const H=l.getVersionNumber()===24,Z=H?8:y;for(let $=0;$<Z;$++)m[$].codewords[E-1]=s[F++];const z=m[0].codewords.length;for(let $=E;$<z;$++)for(let X=0;X<y;X++){const ne=H?(X+8)%y:X,he=H&&ne>7?$-1:$;m[ne].codewords[he]=s[F++]}if(F!==s.length)throw new N;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class bl{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new N(""+s);let l=0,c=this.bitOffset,f=this.byteOffset;const h=this.bytes;if(c>0){const m=8-c,y=s<m?s:m,C=m-y,E=255>>8-y<<C;l=(h[f]&E)>>C,s-=y,c+=y,c===8&&(c=0,f++)}if(s>0){for(;s>=8;)l=l<<8|h[f]&255,f++,s-=8;if(s>0){const m=8-s,y=255>>m<<m;l=l<<s|(h[f]&y)>>m,c+=s}}return this.bitOffset=c,this.byteOffset=f,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var In;(function(P){P[P.PAD_ENCODE=0]="PAD_ENCODE",P[P.ASCII_ENCODE=1]="ASCII_ENCODE",P[P.C40_ENCODE=2]="C40_ENCODE",P[P.TEXT_ENCODE=3]="TEXT_ENCODE",P[P.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",P[P.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",P[P.BASE256_ENCODE=6]="BASE256_ENCODE"})(In||(In={}));class Ts{static decode(s){const l=new bl(s),c=new oe,f=new oe,h=new Array;let m=In.ASCII_ENCODE;do if(m===In.ASCII_ENCODE)m=this.decodeAsciiSegment(l,c,f);else{switch(m){case In.C40_ENCODE:this.decodeC40Segment(l,c);break;case In.TEXT_ENCODE:this.decodeTextSegment(l,c);break;case In.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,c);break;case In.EDIFACT_ENCODE:this.decodeEdifactSegment(l,c);break;case In.BASE256_ENCODE:this.decodeBase256Segment(l,c,h);break;default:throw new R}m=In.ASCII_ENCODE}while(m!==In.PAD_ENCODE&&l.available()>0);return f.length()>0&&c.append(f.toString()),new qt(s,c.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(s,l,c){let f=!1;do{let h=s.readBits(8);if(h===0)throw new R;if(h<=128)return f&&(h+=128),l.append(String.fromCharCode(h-1)),In.ASCII_ENCODE;if(h===129)return In.PAD_ENCODE;if(h<=229){const m=h-130;m<10&&l.append("0"),l.append(""+m)}else switch(h){case 230:return In.C40_ENCODE;case 231:return In.BASE256_ENCODE;case 232:l.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:f=!0;break;case 236:l.append("[)>05"),c.insert(0,"");break;case 237:l.append("[)>06"),c.insert(0,"");break;case 238:return In.ANSIX12_ENCODE;case 239:return In.TEXT_ENCODE;case 240:return In.EDIFACT_ENCODE;case 241:break;default:if(h!==254||s.available()!==0)throw new R;break}}while(s.available()>0);return In.ASCII_ENCODE}static decodeC40Segment(s,l){let c=!1;const f=[];let h=0;do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),f);for(let y=0;y<3;y++){const C=f[y];switch(h){case 0:if(C<3)h=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[C];c?(l.append(String.fromCharCode(E.charCodeAt(0)+128)),c=!1):l.append(E)}else throw new R;break;case 1:c?(l.append(String.fromCharCode(C+128)),c=!1):l.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[C];c?(l.append(String.fromCharCode(E.charCodeAt(0)+128)),c=!1):l.append(E)}else switch(C){case 27:l.append(String.fromCharCode(29));break;case 30:c=!0;break;default:throw new R}h=0;break;case 3:c?(l.append(String.fromCharCode(C+224)),c=!1):l.append(String.fromCharCode(C+96)),h=0;break;default:throw new R}}}while(s.available()>0)}static decodeTextSegment(s,l){let c=!1,f=[],h=0;do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),f);for(let y=0;y<3;y++){const C=f[y];switch(h){case 0:if(C<3)h=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[C];c?(l.append(String.fromCharCode(E.charCodeAt(0)+128)),c=!1):l.append(E)}else throw new R;break;case 1:c?(l.append(String.fromCharCode(C+128)),c=!1):l.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[C];c?(l.append(String.fromCharCode(E.charCodeAt(0)+128)),c=!1):l.append(E)}else switch(C){case 27:l.append(String.fromCharCode(29));break;case 30:c=!0;break;default:throw new R}h=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[C];c?(l.append(String.fromCharCode(E.charCodeAt(0)+128)),c=!1):l.append(E),h=0}else throw new R;break;default:throw new R}}}while(s.available()>0)}static decodeAnsiX12Segment(s,l){const c=[];do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let h=0;h<3;h++){const m=c[h];switch(m){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(m<14)l.append(String.fromCharCode(m+44));else if(m<40)l.append(String.fromCharCode(m+51));else throw new R;break}}}while(s.available()>0)}static parseTwoBytes(s,l,c){let f=(s<<8)+l-1,h=Math.floor(f/1600);c[0]=h,f-=h*1600,h=Math.floor(f/40),c[1]=h,c[2]=f-h*40}static decodeEdifactSegment(s,l){do{if(s.available()<=16)return;for(let c=0;c<4;c++){let f=s.readBits(6);if(f===31){const h=8-s.getBitOffset();h!==8&&s.readBits(h);return}f&32||(f|=64),l.append(String.fromCharCode(f))}}while(s.available()>0)}static decodeBase256Segment(s,l,c){let f=1+s.getByteOffset();const h=this.unrandomize255State(s.readBits(8),f++);let m;if(h===0?m=s.available()/8|0:h<250?m=h:m=250*(h-249)+this.unrandomize255State(s.readBits(8),f++),m<0)throw new R;const y=new Uint8Array(m);for(let C=0;C<m;C++){if(s.available()<8)throw new R;y[C]=this.unrandomize255State(s.readBits(8),f++)}c.push(y);try{l.append(ce.decode(y,J.ISO88591))}catch(C){throw new It("Platform does not support required encoding: "+C.message)}}static unrandomize255State(s,l){const c=149*l%255+1,f=s-c;return f>=0?f:f+256}}Ts.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ts.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ts.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ts.TEXT_SHIFT2_SET_CHARS=Ts.C40_SHIFT2_SET_CHARS,Ts.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class yp{constructor(){this.rsDecoder=new ye(Ce.DATA_MATRIX_FIELD_256)}decode(s){const l=new zc(s),c=l.getVersion(),f=l.readCodewords(),h=wl.getDataBlocks(f,c);let m=0;for(let E of h)m+=E.getNumDataCodewords();const y=new Uint8Array(m),C=h.length;for(let E=0;E<C;E++){const T=h[E],F=T.getCodewords(),H=T.getNumDataCodewords();this.correctErrors(F,H);for(let Z=0;Z<H;Z++)y[Z*C+E]=F[Z]}return Ts.decode(y)}correctErrors(s,l){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-l)}catch{throw new k}for(let f=0;f<l;f++)s[f]=c[f]}}class yn{constructor(s){this.image=s,this.rectangleDetector=new Le(this.image)}detect(){const s=this.rectangleDetector.detect();let l=this.detectSolid1(s);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new se;l=this.shiftToModuleCenter(l);const c=l[0],f=l[1],h=l[2],m=l[3];let y=this.transitionsBetween(c,m)+1,C=this.transitionsBetween(h,m)+1;(y&1)===1&&(y+=1),(C&1)===1&&(C+=1),4*y<7*C&&4*C<7*y&&(y=C=Math.max(y,C));let E=yn.sampleGrid(this.image,c,f,h,m,y,C);return new vn(E,[c,f,h,m])}static shiftPoint(s,l,c){let f=(l.getX()-s.getX())/(c+1),h=(l.getY()-s.getY())/(c+1);return new je(s.getX()+f,s.getY()+h)}static moveAway(s,l,c){let f=s.getX(),h=s.getY();return f<l?f-=1:f+=1,h<c?h-=1:h+=1,new je(f,h)}detectSolid1(s){let l=s[0],c=s[1],f=s[3],h=s[2],m=this.transitionsBetween(l,c),y=this.transitionsBetween(c,f),C=this.transitionsBetween(f,h),E=this.transitionsBetween(h,l),T=m,F=[h,l,c,f];return T>y&&(T=y,F[0]=l,F[1]=c,F[2]=f,F[3]=h),T>C&&(T=C,F[0]=c,F[1]=f,F[2]=h,F[3]=l),T>E&&(F[0]=f,F[1]=h,F[2]=l,F[3]=c),F}detectSolid2(s){let l=s[0],c=s[1],f=s[2],h=s[3],m=this.transitionsBetween(l,h),y=yn.shiftPoint(c,f,(m+1)*4),C=yn.shiftPoint(f,c,(m+1)*4),E=this.transitionsBetween(y,l),T=this.transitionsBetween(C,h);return E<T?(s[0]=l,s[1]=c,s[2]=f,s[3]=h):(s[0]=c,s[1]=f,s[2]=h,s[3]=l),s}correctTopRight(s){let l=s[0],c=s[1],f=s[2],h=s[3],m=this.transitionsBetween(l,h),y=this.transitionsBetween(c,h),C=yn.shiftPoint(l,c,(y+1)*4),E=yn.shiftPoint(f,c,(m+1)*4);m=this.transitionsBetween(C,h),y=this.transitionsBetween(E,h);let T=new je(h.getX()+(f.getX()-c.getX())/(m+1),h.getY()+(f.getY()-c.getY())/(m+1)),F=new je(h.getX()+(l.getX()-c.getX())/(y+1),h.getY()+(l.getY()-c.getY())/(y+1));if(!this.isValid(T))return this.isValid(F)?F:null;if(!this.isValid(F))return T;let H=this.transitionsBetween(C,T)+this.transitionsBetween(E,T),Z=this.transitionsBetween(C,F)+this.transitionsBetween(E,F);return H>Z?T:F}shiftToModuleCenter(s){let l=s[0],c=s[1],f=s[2],h=s[3],m=this.transitionsBetween(l,h)+1,y=this.transitionsBetween(f,h)+1,C=yn.shiftPoint(l,c,y*4),E=yn.shiftPoint(f,c,m*4);m=this.transitionsBetween(C,h)+1,y=this.transitionsBetween(E,h)+1,(m&1)===1&&(m+=1),(y&1)===1&&(y+=1);let T=(l.getX()+c.getX()+f.getX()+h.getX())/4,F=(l.getY()+c.getY()+f.getY()+h.getY())/4;l=yn.moveAway(l,T,F),c=yn.moveAway(c,T,F),f=yn.moveAway(f,T,F),h=yn.moveAway(h,T,F);let H,Z;return C=yn.shiftPoint(l,c,y*4),C=yn.shiftPoint(C,h,m*4),H=yn.shiftPoint(c,l,y*4),H=yn.shiftPoint(H,f,m*4),E=yn.shiftPoint(f,h,y*4),E=yn.shiftPoint(E,c,m*4),Z=yn.shiftPoint(h,f,y*4),Z=yn.shiftPoint(Z,l,m*4),[C,H,E,Z]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,l,c,f,h,m,y){return Kt.getInstance().sampleGrid(s,m,y,.5,.5,m-.5,.5,m-.5,y-.5,.5,y-.5,l.getX(),l.getY(),h.getX(),h.getY(),f.getX(),f.getY(),c.getX(),c.getY())}transitionsBetween(s,l){let c=Math.trunc(s.getX()),f=Math.trunc(s.getY()),h=Math.trunc(l.getX()),m=Math.trunc(l.getY()),y=Math.abs(m-f)>Math.abs(h-c);if(y){let $=c;c=f,f=$,$=h,h=m,m=$}let C=Math.abs(h-c),E=Math.abs(m-f),T=-C/2,F=f<m?1:-1,H=c<h?1:-1,Z=0,z=this.image.get(y?f:c,y?c:f);for(let $=c,X=f;$!==h;$+=H){let ne=this.image.get(y?X:$,y?$:X);if(ne!==z&&(Z++,z=ne),T+=E,T>0){if(X===m)break;X+=F,T-=C}}return Z}}class cs{constructor(){this.decoder=new yp}decode(s,l=null){let c,f;if(l!=null&&l.has(B.PURE_BARCODE)){const E=cs.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(E),f=cs.NO_POINTS}else{const E=new yn(s.getBlackMatrix()).detect();c=this.decoder.decode(E.getBits()),f=E.getPoints()}const h=c.getRawBytes(),m=new Xe(c.getText(),h,8*h.length,f,_e.DATA_MATRIX,O.currentTimeMillis()),y=c.getByteSegments();y!=null&&m.putMetadata(at.BYTE_SEGMENTS,y);const C=c.getECLevel();return C!=null&&m.putMetadata(at.ERROR_CORRECTION_LEVEL,C),m}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(l==null||c==null)throw new se;const f=this.moduleSize(l,s);let h=l[1];const m=c[1];let y=l[0];const E=(c[0]-y+1)/f,T=(m-h+1)/f;if(E<=0||T<=0)throw new se;const F=f/2;h+=F,y+=F;const H=new ke(E,T);for(let Z=0;Z<T;Z++){const z=h+Z*f;for(let $=0;$<E;$++)s.get(y+$*f,z)&&H.set($,Z)}return H}static moduleSize(s,l){const c=l.getWidth();let f=s[0];const h=s[1];for(;f<c&&l.get(f,h);)f++;if(f===c)throw new se;const m=f-s[0];if(m===0)throw new se;return m}}cs.NO_POINTS=[];class Pd extends Ae{constructor(s=500){super(new cs,s)}}var ja;(function(P){P[P.L=0]="L",P[P.M=1]="M",P[P.Q=2]="Q",P[P.H=3]="H"})(ja||(ja={}));class Jt{constructor(s,l,c){this.value=s,this.stringValue=l,this.bits=c,Jt.FOR_BITS.set(c,this),Jt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Jt.L;case"M":return Jt.M;case"Q":return Jt.Q;case"H":return Jt.H;default:throw new w(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Jt))return!1;const l=s;return this.value===l.value}static forBits(s){if(s<0||s>=Jt.FOR_BITS.size)throw new N;return Jt.FOR_BITS.get(s)}}Jt.FOR_BITS=new Map,Jt.FOR_VALUE=new Map,Jt.L=new Jt(ja.L,"L",1),Jt.M=new Jt(ja.M,"M",0),Jt.Q=new Jt(ja.Q,"Q",3),Jt.H=new Jt(ja.H,"H",2);class nr{constructor(s){this.errorCorrectionLevel=Jt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,l){return I.bitCount(s^l)}static decodeFormatInformation(s,l){const c=nr.doDecodeFormatInformation(s,l);return c!==null?c:nr.doDecodeFormatInformation(s^nr.FORMAT_INFO_MASK_QR,l^nr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,l){let c=Number.MAX_SAFE_INTEGER,f=0;for(const h of nr.FORMAT_INFO_DECODE_LOOKUP){const m=h[0];if(m===s||m===l)return new nr(h[1]);let y=nr.numBitsDiffering(s,m);y<c&&(f=h[1],c=y),s!==l&&(y=nr.numBitsDiffering(l,m),y<c&&(f=h[1],c=y))}return c<=3?new nr(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof nr))return!1;const l=s;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}nr.FORMAT_INFO_MASK_QR=21522,nr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class le{constructor(s,...l){this.ecCodewordsPerBlock=s,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const l=this.ecBlocks;for(const c of l)s+=c.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class K{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Je{constructor(s,l,...c){this.versionNumber=s,this.alignmentPatternCenters=l,this.ecBlocks=c;let f=0;const h=c[0].getECCodewordsPerBlock(),m=c[0].getECBlocks();for(const y of m)f+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new R;try{return this.getVersionForNumber((s-17)/4)}catch{throw new R}}static getVersionForNumber(s){if(s<1||s>40)throw new N;return Je.VERSIONS[s-1]}static decodeVersionInformation(s){let l=Number.MAX_SAFE_INTEGER,c=0;for(let f=0;f<Je.VERSION_DECODE_INFO.length;f++){const h=Je.VERSION_DECODE_INFO[f];if(h===s)return Je.getVersionForNumber(f+7);const m=nr.numBitsDiffering(s,h);m<l&&(c=f+7,l=m)}return l<=3?Je.getVersionForNumber(c):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),l=new ke(s);l.setRegion(0,0,9,9),l.setRegion(s-8,0,8,9),l.setRegion(0,s-8,9,8);const c=this.alignmentPatternCenters.length;for(let f=0;f<c;f++){const h=this.alignmentPatternCenters[f]-2;for(let m=0;m<c;m++)f===0&&(m===0||m===c-1)||f===c-1&&m===0||l.setRegion(this.alignmentPatternCenters[m]-2,h,5,5)}return l.setRegion(6,9,1,s-17),l.setRegion(9,6,s-17,1),this.versionNumber>6&&(l.setRegion(s-11,0,3,6),l.setRegion(0,s-11,6,3)),l}toString(){return""+this.versionNumber}}Je.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Je.VERSIONS=[new Je(1,new Int32Array(0),new le(7,new K(1,19)),new le(10,new K(1,16)),new le(13,new K(1,13)),new le(17,new K(1,9))),new Je(2,Int32Array.from([6,18]),new le(10,new K(1,34)),new le(16,new K(1,28)),new le(22,new K(1,22)),new le(28,new K(1,16))),new Je(3,Int32Array.from([6,22]),new le(15,new K(1,55)),new le(26,new K(1,44)),new le(18,new K(2,17)),new le(22,new K(2,13))),new Je(4,Int32Array.from([6,26]),new le(20,new K(1,80)),new le(18,new K(2,32)),new le(26,new K(2,24)),new le(16,new K(4,9))),new Je(5,Int32Array.from([6,30]),new le(26,new K(1,108)),new le(24,new K(2,43)),new le(18,new K(2,15),new K(2,16)),new le(22,new K(2,11),new K(2,12))),new Je(6,Int32Array.from([6,34]),new le(18,new K(2,68)),new le(16,new K(4,27)),new le(24,new K(4,19)),new le(28,new K(4,15))),new Je(7,Int32Array.from([6,22,38]),new le(20,new K(2,78)),new le(18,new K(4,31)),new le(18,new K(2,14),new K(4,15)),new le(26,new K(4,13),new K(1,14))),new Je(8,Int32Array.from([6,24,42]),new le(24,new K(2,97)),new le(22,new K(2,38),new K(2,39)),new le(22,new K(4,18),new K(2,19)),new le(26,new K(4,14),new K(2,15))),new Je(9,Int32Array.from([6,26,46]),new le(30,new K(2,116)),new le(22,new K(3,36),new K(2,37)),new le(20,new K(4,16),new K(4,17)),new le(24,new K(4,12),new K(4,13))),new Je(10,Int32Array.from([6,28,50]),new le(18,new K(2,68),new K(2,69)),new le(26,new K(4,43),new K(1,44)),new le(24,new K(6,19),new K(2,20)),new le(28,new K(6,15),new K(2,16))),new Je(11,Int32Array.from([6,30,54]),new le(20,new K(4,81)),new le(30,new K(1,50),new K(4,51)),new le(28,new K(4,22),new K(4,23)),new le(24,new K(3,12),new K(8,13))),new Je(12,Int32Array.from([6,32,58]),new le(24,new K(2,92),new K(2,93)),new le(22,new K(6,36),new K(2,37)),new le(26,new K(4,20),new K(6,21)),new le(28,new K(7,14),new K(4,15))),new Je(13,Int32Array.from([6,34,62]),new le(26,new K(4,107)),new le(22,new K(8,37),new K(1,38)),new le(24,new K(8,20),new K(4,21)),new le(22,new K(12,11),new K(4,12))),new Je(14,Int32Array.from([6,26,46,66]),new le(30,new K(3,115),new K(1,116)),new le(24,new K(4,40),new K(5,41)),new le(20,new K(11,16),new K(5,17)),new le(24,new K(11,12),new K(5,13))),new Je(15,Int32Array.from([6,26,48,70]),new le(22,new K(5,87),new K(1,88)),new le(24,new K(5,41),new K(5,42)),new le(30,new K(5,24),new K(7,25)),new le(24,new K(11,12),new K(7,13))),new Je(16,Int32Array.from([6,26,50,74]),new le(24,new K(5,98),new K(1,99)),new le(28,new K(7,45),new K(3,46)),new le(24,new K(15,19),new K(2,20)),new le(30,new K(3,15),new K(13,16))),new Je(17,Int32Array.from([6,30,54,78]),new le(28,new K(1,107),new K(5,108)),new le(28,new K(10,46),new K(1,47)),new le(28,new K(1,22),new K(15,23)),new le(28,new K(2,14),new K(17,15))),new Je(18,Int32Array.from([6,30,56,82]),new le(30,new K(5,120),new K(1,121)),new le(26,new K(9,43),new K(4,44)),new le(28,new K(17,22),new K(1,23)),new le(28,new K(2,14),new K(19,15))),new Je(19,Int32Array.from([6,30,58,86]),new le(28,new K(3,113),new K(4,114)),new le(26,new K(3,44),new K(11,45)),new le(26,new K(17,21),new K(4,22)),new le(26,new K(9,13),new K(16,14))),new Je(20,Int32Array.from([6,34,62,90]),new le(28,new K(3,107),new K(5,108)),new le(26,new K(3,41),new K(13,42)),new le(30,new K(15,24),new K(5,25)),new le(28,new K(15,15),new K(10,16))),new Je(21,Int32Array.from([6,28,50,72,94]),new le(28,new K(4,116),new K(4,117)),new le(26,new K(17,42)),new le(28,new K(17,22),new K(6,23)),new le(30,new K(19,16),new K(6,17))),new Je(22,Int32Array.from([6,26,50,74,98]),new le(28,new K(2,111),new K(7,112)),new le(28,new K(17,46)),new le(30,new K(7,24),new K(16,25)),new le(24,new K(34,13))),new Je(23,Int32Array.from([6,30,54,78,102]),new le(30,new K(4,121),new K(5,122)),new le(28,new K(4,47),new K(14,48)),new le(30,new K(11,24),new K(14,25)),new le(30,new K(16,15),new K(14,16))),new Je(24,Int32Array.from([6,28,54,80,106]),new le(30,new K(6,117),new K(4,118)),new le(28,new K(6,45),new K(14,46)),new le(30,new K(11,24),new K(16,25)),new le(30,new K(30,16),new K(2,17))),new Je(25,Int32Array.from([6,32,58,84,110]),new le(26,new K(8,106),new K(4,107)),new le(28,new K(8,47),new K(13,48)),new le(30,new K(7,24),new K(22,25)),new le(30,new K(22,15),new K(13,16))),new Je(26,Int32Array.from([6,30,58,86,114]),new le(28,new K(10,114),new K(2,115)),new le(28,new K(19,46),new K(4,47)),new le(28,new K(28,22),new K(6,23)),new le(30,new K(33,16),new K(4,17))),new Je(27,Int32Array.from([6,34,62,90,118]),new le(30,new K(8,122),new K(4,123)),new le(28,new K(22,45),new K(3,46)),new le(30,new K(8,23),new K(26,24)),new le(30,new K(12,15),new K(28,16))),new Je(28,Int32Array.from([6,26,50,74,98,122]),new le(30,new K(3,117),new K(10,118)),new le(28,new K(3,45),new K(23,46)),new le(30,new K(4,24),new K(31,25)),new le(30,new K(11,15),new K(31,16))),new Je(29,Int32Array.from([6,30,54,78,102,126]),new le(30,new K(7,116),new K(7,117)),new le(28,new K(21,45),new K(7,46)),new le(30,new K(1,23),new K(37,24)),new le(30,new K(19,15),new K(26,16))),new Je(30,Int32Array.from([6,26,52,78,104,130]),new le(30,new K(5,115),new K(10,116)),new le(28,new K(19,47),new K(10,48)),new le(30,new K(15,24),new K(25,25)),new le(30,new K(23,15),new K(25,16))),new Je(31,Int32Array.from([6,30,56,82,108,134]),new le(30,new K(13,115),new K(3,116)),new le(28,new K(2,46),new K(29,47)),new le(30,new K(42,24),new K(1,25)),new le(30,new K(23,15),new K(28,16))),new Je(32,Int32Array.from([6,34,60,86,112,138]),new le(30,new K(17,115)),new le(28,new K(10,46),new K(23,47)),new le(30,new K(10,24),new K(35,25)),new le(30,new K(19,15),new K(35,16))),new Je(33,Int32Array.from([6,30,58,86,114,142]),new le(30,new K(17,115),new K(1,116)),new le(28,new K(14,46),new K(21,47)),new le(30,new K(29,24),new K(19,25)),new le(30,new K(11,15),new K(46,16))),new Je(34,Int32Array.from([6,34,62,90,118,146]),new le(30,new K(13,115),new K(6,116)),new le(28,new K(14,46),new K(23,47)),new le(30,new K(44,24),new K(7,25)),new le(30,new K(59,16),new K(1,17))),new Je(35,Int32Array.from([6,30,54,78,102,126,150]),new le(30,new K(12,121),new K(7,122)),new le(28,new K(12,47),new K(26,48)),new le(30,new K(39,24),new K(14,25)),new le(30,new K(22,15),new K(41,16))),new Je(36,Int32Array.from([6,24,50,76,102,128,154]),new le(30,new K(6,121),new K(14,122)),new le(28,new K(6,47),new K(34,48)),new le(30,new K(46,24),new K(10,25)),new le(30,new K(2,15),new K(64,16))),new Je(37,Int32Array.from([6,28,54,80,106,132,158]),new le(30,new K(17,122),new K(4,123)),new le(28,new K(29,46),new K(14,47)),new le(30,new K(49,24),new K(10,25)),new le(30,new K(24,15),new K(46,16))),new Je(38,Int32Array.from([6,32,58,84,110,136,162]),new le(30,new K(4,122),new K(18,123)),new le(28,new K(13,46),new K(32,47)),new le(30,new K(48,24),new K(14,25)),new le(30,new K(42,15),new K(32,16))),new Je(39,Int32Array.from([6,26,54,82,110,138,166]),new le(30,new K(20,117),new K(4,118)),new le(28,new K(40,47),new K(7,48)),new le(30,new K(43,24),new K(22,25)),new le(30,new K(10,15),new K(67,16))),new Je(40,Int32Array.from([6,30,58,86,114,142,170]),new le(30,new K(19,118),new K(6,119)),new le(28,new K(18,47),new K(31,48)),new le(30,new K(34,24),new K(34,25)),new le(30,new K(20,15),new K(61,16)))];var Rn;(function(P){P[P.DATA_MASK_000=0]="DATA_MASK_000",P[P.DATA_MASK_001=1]="DATA_MASK_001",P[P.DATA_MASK_010=2]="DATA_MASK_010",P[P.DATA_MASK_011=3]="DATA_MASK_011",P[P.DATA_MASK_100=4]="DATA_MASK_100",P[P.DATA_MASK_101=5]="DATA_MASK_101",P[P.DATA_MASK_110=6]="DATA_MASK_110",P[P.DATA_MASK_111=7]="DATA_MASK_111"})(Rn||(Rn={}));class Er{constructor(s,l){this.value=s,this.isMasked=l}unmaskBitMatrix(s,l){for(let c=0;c<l;c++)for(let f=0;f<l;f++)this.isMasked(c,f)&&s.flip(f,c)}}Er.values=new Map([[Rn.DATA_MASK_000,new Er(Rn.DATA_MASK_000,(P,s)=>(P+s&1)===0)],[Rn.DATA_MASK_001,new Er(Rn.DATA_MASK_001,(P,s)=>(P&1)===0)],[Rn.DATA_MASK_010,new Er(Rn.DATA_MASK_010,(P,s)=>s%3===0)],[Rn.DATA_MASK_011,new Er(Rn.DATA_MASK_011,(P,s)=>(P+s)%3===0)],[Rn.DATA_MASK_100,new Er(Rn.DATA_MASK_100,(P,s)=>(Math.floor(P/2)+Math.floor(s/3)&1)===0)],[Rn.DATA_MASK_101,new Er(Rn.DATA_MASK_101,(P,s)=>P*s%6===0)],[Rn.DATA_MASK_110,new Er(Rn.DATA_MASK_110,(P,s)=>P*s%6<3)],[Rn.DATA_MASK_111,new Er(Rn.DATA_MASK_111,(P,s)=>(P+s+P*s%3&1)===0)]]);class ka{constructor(s){const l=s.getHeight();if(l<21||(l&3)!==1)throw new R;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let h=0;h<6;h++)s=this.copyBit(h,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let h=5;h>=0;h--)s=this.copyBit(8,h,s);const l=this.bitMatrix.getHeight();let c=0;const f=l-7;for(let h=l-1;h>=f;h--)c=this.copyBit(8,h,c);for(let h=l-8;h<l;h++)c=this.copyBit(h,8,c);if(this.parsedFormatInfo=nr.decodeFormatInformation(s,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new R}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),l=Math.floor((s-17)/4);if(l<=6)return Je.getVersionForNumber(l);let c=0;const f=s-11;for(let m=5;m>=0;m--)for(let y=s-9;y>=f;y--)c=this.copyBit(y,m,c);let h=Je.decodeVersionInformation(c);if(h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;c=0;for(let m=5;m>=0;m--)for(let y=s-9;y>=f;y--)c=this.copyBit(m,y,c);if(h=Je.decodeVersionInformation(c),h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;throw new R}copyBit(s,l,c){return(this.isMirror?this.bitMatrix.get(l,s):this.bitMatrix.get(s,l))?c<<1|1:c<<1}readCodewords(){const s=this.readFormatInformation(),l=this.readVersion(),c=Er.values.get(s.getDataMask()),f=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,f);const h=l.buildFunctionPattern();let m=!0;const y=new Uint8Array(l.getTotalCodewords());let C=0,E=0,T=0;for(let F=f-1;F>0;F-=2){F===6&&F--;for(let H=0;H<f;H++){const Z=m?f-1-H:H;for(let z=0;z<2;z++)h.get(F-z,Z)||(T++,E<<=1,this.bitMatrix.get(F-z,Z)&&(E|=1),T===8&&(y[C++]=E,T=0,E=0))}m=!m}if(C!==l.getTotalCodewords())throw new R;return y}remask(){if(this.parsedFormatInfo===null)return;const s=Er.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let l=0,c=s.getWidth();l<c;l++)for(let f=l+1,h=s.getHeight();f<h;f++)s.get(l,f)!==s.get(f,l)&&(s.flip(f,l),s.flip(l,f))}}class Cl{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l,c){if(s.length!==l.getTotalCodewords())throw new N;const f=l.getECBlocksForLevel(c);let h=0;const m=f.getECBlocks();for(const z of m)h+=z.getCount();const y=new Array(h);let C=0;for(const z of m)for(let $=0;$<z.getCount();$++){const X=z.getDataCodewords(),ne=f.getECCodewordsPerBlock()+X;y[C++]=new Cl(X,new Uint8Array(ne))}const E=y[0].codewords.length;let T=y.length-1;for(;T>=0&&y[T].codewords.length!==E;)T--;T++;const F=E-f.getECCodewordsPerBlock();let H=0;for(let z=0;z<F;z++)for(let $=0;$<C;$++)y[$].codewords[z]=s[H++];for(let z=T;z<C;z++)y[z].codewords[F]=s[H++];const Z=y[0].codewords.length;for(let z=F;z<Z;z++)for(let $=0;$<C;$++){const X=$<T?z:z+1;y[$].codewords[X]=s[H++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Mr;(function(P){P[P.TERMINATOR=0]="TERMINATOR",P[P.NUMERIC=1]="NUMERIC",P[P.ALPHANUMERIC=2]="ALPHANUMERIC",P[P.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",P[P.BYTE=4]="BYTE",P[P.ECI=5]="ECI",P[P.KANJI=6]="KANJI",P[P.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",P[P.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",P[P.HANZI=9]="HANZI"})(Mr||(Mr={}));class rt{constructor(s,l,c,f){this.value=s,this.stringValue=l,this.characterCountBitsForVersions=c,this.bits=f,rt.FOR_BITS.set(f,this),rt.FOR_VALUE.set(s,this)}static forBits(s){const l=rt.FOR_BITS.get(s);if(l===void 0)throw new N;return l}getCharacterCountBits(s){const l=s.getVersionNumber();let c;return l<=9?c=0:l<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof rt))return!1;const l=s;return this.value===l.value}toString(){return this.stringValue}}rt.FOR_BITS=new Map,rt.FOR_VALUE=new Map,rt.TERMINATOR=new rt(Mr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),rt.NUMERIC=new rt(Mr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),rt.ALPHANUMERIC=new rt(Mr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),rt.STRUCTURED_APPEND=new rt(Mr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),rt.BYTE=new rt(Mr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),rt.ECI=new rt(Mr.ECI,"ECI",Int32Array.from([0,0,0]),7),rt.KANJI=new rt(Mr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),rt.FNC1_FIRST_POSITION=new rt(Mr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),rt.FNC1_SECOND_POSITION=new rt(Mr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),rt.HANZI=new rt(Mr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class un{static decode(s,l,c,f){const h=new bl(s);let m=new oe;const y=new Array;let C=-1,E=-1;try{let T=null,F=!1,H;do{if(h.available()<4)H=rt.TERMINATOR;else{const Z=h.readBits(4);H=rt.forBits(Z)}switch(H){case rt.TERMINATOR:break;case rt.FNC1_FIRST_POSITION:case rt.FNC1_SECOND_POSITION:F=!0;break;case rt.STRUCTURED_APPEND:if(h.available()<16)throw new R;C=h.readBits(8),E=h.readBits(8);break;case rt.ECI:const Z=un.parseECIValue(h);if(T=V.getCharacterSetECIByValue(Z),T===null)throw new R;break;case rt.HANZI:const z=h.readBits(4),$=h.readBits(H.getCharacterCountBits(l));z===un.GB2312_SUBSET&&un.decodeHanziSegment(h,m,$);break;default:const X=h.readBits(H.getCharacterCountBits(l));switch(H){case rt.NUMERIC:un.decodeNumericSegment(h,m,X);break;case rt.ALPHANUMERIC:un.decodeAlphanumericSegment(h,m,X,F);break;case rt.BYTE:un.decodeByteSegment(h,m,X,T,y,f);break;case rt.KANJI:un.decodeKanjiSegment(h,m,X);break;default:throw new R}break}}while(H!==rt.TERMINATOR)}catch{throw new R}return new qt(s,m.toString(),y.length===0?null:y,c===null?null:c.toString(),C,E)}static decodeHanziSegment(s,l,c){if(c*13>s.available())throw new R;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const m=s.readBits(13);let y=m/96<<8&4294967295|m%96;y<959?y+=41377:y+=42657,f[h]=y>>8&255,f[h+1]=y&255,h+=2,c--}try{l.append(ce.decode(f,J.GB2312))}catch(m){throw new R(m)}}static decodeKanjiSegment(s,l,c){if(c*13>s.available())throw new R;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const m=s.readBits(13);let y=m/192<<8&4294967295|m%192;y<7936?y+=33088:y+=49472,f[h]=y>>8,f[h+1]=y,h+=2,c--}try{l.append(ce.decode(f,J.SHIFT_JIS))}catch(m){throw new R(m)}}static decodeByteSegment(s,l,c,f,h,m){if(8*c>s.available())throw new R;const y=new Uint8Array(c);for(let E=0;E<c;E++)y[E]=s.readBits(8);let C;f===null?C=J.guessEncoding(y,m):C=f.getName();try{l.append(ce.decode(y,C))}catch(E){throw new R(E)}h.push(y)}static toAlphaNumericChar(s){if(s>=un.ALPHANUMERIC_CHARS.length)throw new R;return un.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,l,c,f){const h=l.length();for(;c>1;){if(s.available()<11)throw new R;const m=s.readBits(11);l.append(un.toAlphaNumericChar(Math.floor(m/45))),l.append(un.toAlphaNumericChar(m%45)),c-=2}if(c===1){if(s.available()<6)throw new R;l.append(un.toAlphaNumericChar(s.readBits(6)))}if(f)for(let m=h;m<l.length();m++)l.charAt(m)==="%"&&(m<l.length()-1&&l.charAt(m+1)==="%"?l.deleteCharAt(m+1):l.setCharAt(m,String.fromCharCode(29)))}static decodeNumericSegment(s,l,c){for(;c>=3;){if(s.available()<10)throw new R;const f=s.readBits(10);if(f>=1e3)throw new R;l.append(un.toAlphaNumericChar(Math.floor(f/100))),l.append(un.toAlphaNumericChar(Math.floor(f/10)%10)),l.append(un.toAlphaNumericChar(f%10)),c-=3}if(c===2){if(s.available()<7)throw new R;const f=s.readBits(7);if(f>=100)throw new R;l.append(un.toAlphaNumericChar(Math.floor(f/10))),l.append(un.toAlphaNumericChar(f%10))}else if(c===1){if(s.available()<4)throw new R;const f=s.readBits(4);if(f>=10)throw new R;l.append(un.toAlphaNumericChar(f))}}static parseECIValue(s){const l=s.readBits(8);if(!(l&128))return l&127;if((l&192)===128){const c=s.readBits(8);return(l&63)<<8&4294967295|c}if((l&224)===192){const c=s.readBits(16);return(l&31)<<16&4294967295|c}throw new R}}un.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",un.GB2312_SUBSET=1;class Wc{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const l=s[0];s[0]=s[2],s[2]=l}}class Fd{constructor(){this.rsDecoder=new ye(Ce.QR_CODE_FIELD_256)}decodeBooleanArray(s,l){return this.decodeBitMatrix(ke.parseFromBooleanArray(s),l)}decodeBitMatrix(s,l){const c=new ka(s);let f=null;try{return this.decodeBitMatrixParser(c,l)}catch(h){f=h}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const h=this.decodeBitMatrixParser(c,l);return h.setOther(new Wc(!0)),h}catch(h){throw f!==null?f:h}}decodeBitMatrixParser(s,l){const c=s.readVersion(),f=s.readFormatInformation().getErrorCorrectionLevel(),h=s.readCodewords(),m=Cl.getDataBlocks(h,c,f);let y=0;for(const T of m)y+=T.getNumDataCodewords();const C=new Uint8Array(y);let E=0;for(const T of m){const F=T.getCodewords(),H=T.getNumDataCodewords();this.correctErrors(F,H);for(let Z=0;Z<H;Z++)C[E++]=F[Z]}return un.decode(C,c,f,l)}correctErrors(s,l){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-l)}catch{throw new k}for(let f=0;f<l;f++)s[f]=c[f]}}class Nl extends je{constructor(s,l,c){super(s,l),this.estimatedModuleSize=c}aboutEquals(s,l,c){if(Math.abs(l-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,l,c){const f=(this.getX()+l)/2,h=(this.getY()+s)/2,m=(this.estimatedModuleSize+c)/2;return new Nl(f,h,m)}}class El{constructor(s,l,c,f,h,m,y){this.image=s,this.startX=l,this.startY=c,this.width=f,this.height=h,this.moduleSize=m,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,l=this.height,c=this.width,f=s+c,h=this.startY+l/2,m=new Int32Array(3),y=this.image;for(let C=0;C<l;C++){const E=h+(C&1?-Math.floor((C+1)/2):Math.floor((C+1)/2));m[0]=0,m[1]=0,m[2]=0;let T=s;for(;T<f&&!y.get(T,E);)T++;let F=0;for(;T<f;){if(y.get(T,E))if(F===1)m[1]++;else if(F===2){if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,E,T);if(H!==null)return H}m[0]=m[2],m[1]=1,m[2]=0,F=1}else m[++F]++;else F===1&&F++,m[F]++;T++}if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,E,f);if(H!==null)return H}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new se}static centerFromEnd(s,l){return l-s[2]-s[1]/2}foundPatternCross(s){const l=this.moduleSize,c=l/2;for(let f=0;f<3;f++)if(Math.abs(l-s[f])>=c)return!1;return!0}crossCheckVertical(s,l,c,f){const h=this.image,m=h.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let C=s;for(;C>=0&&h.get(l,C)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&!h.get(l,C)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<m&&h.get(l,C)&&y[1]<=c;)y[1]++,C++;if(C===m||y[1]>c)return NaN;for(;C<m&&!h.get(l,C)&&y[2]<=c;)y[2]++,C++;if(y[2]>c)return NaN;const E=y[0]+y[1]+y[2];return 5*Math.abs(E-f)>=2*f?NaN:this.foundPatternCross(y)?El.centerFromEnd(y,C):NaN}handlePossibleCenter(s,l,c){const f=s[0]+s[1]+s[2],h=El.centerFromEnd(s,c),m=this.crossCheckVertical(l,h,2*s[1],f);if(!isNaN(m)){const y=(s[0]+s[1]+s[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(y,m,h))return E.combineEstimate(m,h,y);const C=new Nl(h,m,y);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class Hc extends je{constructor(s,l,c,f){super(s,l),this.estimatedModuleSize=c,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,l,c){if(Math.abs(l-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,l,c){const f=this.count+1,h=(this.count*this.getX()+l)/f,m=(this.count*this.getY()+s)/f,y=(this.count*this.estimatedModuleSize+c)/f;return new Hc(h,m,y,f)}}class wp{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Hn{constructor(s,l){this.image=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const l=s!=null&&s.get(B.TRY_HARDER)!==void 0,c=s!=null&&s.get(B.PURE_BARCODE)!==void 0,f=this.image,h=f.getHeight(),m=f.getWidth();let y=Math.floor(3*h/(4*Hn.MAX_MODULES));(y<Hn.MIN_SKIP||l)&&(y=Hn.MIN_SKIP);let C=!1;const E=new Int32Array(5);for(let F=y-1;F<h&&!C;F+=y){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let H=0;for(let Z=0;Z<m;Z++)if(f.get(Z,F))(H&1)===1&&H++,E[H]++;else if(H&1)E[H]++;else if(H===4)if(Hn.foundPatternCross(E)){if(this.handlePossibleCenter(E,F,Z,c)===!0)if(y=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const $=this.findRowSkip();$>E[2]&&(F+=$-E[2]-y,Z=m-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,H=3;continue}H=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,H=3;else E[++H]++;Hn.foundPatternCross(E)&&this.handlePossibleCenter(E,F,m,c)===!0&&(y=E[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return je.orderBestPatterns(T),new wp(T)}static centerFromEnd(s,l){return l-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let l=0;for(let h=0;h<5;h++){const m=s[h];if(m===0)return!1;l+=m}if(l<7)return!1;const c=l/7,f=c/2;return Math.abs(c-s[0])<f&&Math.abs(c-s[1])<f&&Math.abs(3*c-s[2])<3*f&&Math.abs(c-s[3])<f&&Math.abs(c-s[4])<f}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,l,c,f){const h=this.getCrossCheckStateCount();let m=0;const y=this.image;for(;s>=m&&l>=m&&y.get(l-m,s-m);)h[2]++,m++;if(s<m||l<m)return!1;for(;s>=m&&l>=m&&!y.get(l-m,s-m)&&h[1]<=c;)h[1]++,m++;if(s<m||l<m||h[1]>c)return!1;for(;s>=m&&l>=m&&y.get(l-m,s-m)&&h[0]<=c;)h[0]++,m++;if(h[0]>c)return!1;const C=y.getHeight(),E=y.getWidth();for(m=1;s+m<C&&l+m<E&&y.get(l+m,s+m);)h[2]++,m++;if(s+m>=C||l+m>=E)return!1;for(;s+m<C&&l+m<E&&!y.get(l+m,s+m)&&h[3]<c;)h[3]++,m++;if(s+m>=C||l+m>=E||h[3]>=c)return!1;for(;s+m<C&&l+m<E&&y.get(l+m,s+m)&&h[4]<c;)h[4]++,m++;if(h[4]>=c)return!1;const T=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(T-f)<2*f&&Hn.foundPatternCross(h)}crossCheckVertical(s,l,c,f){const h=this.image,m=h.getHeight(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&h.get(l,C);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(l,C)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&h.get(l,C)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<m&&h.get(l,C);)y[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(l,C)&&y[3]<c;)y[3]++,C++;if(C===m||y[3]>=c)return NaN;for(;C<m&&h.get(l,C)&&y[4]<c;)y[4]++,C++;if(y[4]>=c)return NaN;const E=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(E-f)>=2*f?NaN:Hn.foundPatternCross(y)?Hn.centerFromEnd(y,C):NaN}crossCheckHorizontal(s,l,c,f){const h=this.image,m=h.getWidth(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&h.get(C,l);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(C,l)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&h.get(C,l)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<m&&h.get(C,l);)y[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(C,l)&&y[3]<c;)y[3]++,C++;if(C===m||y[3]>=c)return NaN;for(;C<m&&h.get(C,l)&&y[4]<c;)y[4]++,C++;if(y[4]>=c)return NaN;const E=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(E-f)>=f?NaN:Hn.foundPatternCross(y)?Hn.centerFromEnd(y,C):NaN}handlePossibleCenter(s,l,c,f){const h=s[0]+s[1]+s[2]+s[3]+s[4];let m=Hn.centerFromEnd(s,c),y=this.crossCheckVertical(l,Math.floor(m),s[2],h);if(!isNaN(y)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(y),s[2],h),!isNaN(m)&&(!f||this.crossCheckDiagonal(Math.floor(y),Math.floor(m),s[2],h)))){const C=h/7;let E=!1;const T=this.possibleCenters;for(let F=0,H=T.length;F<H;F++){const Z=T[F];if(Z.aboutEquals(C,y,m)){T[F]=Z.combineEstimate(y,m,C),E=!0;break}}if(!E){const F=new Hc(m,y,C);T.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const c of this.possibleCenters)if(c.getCount()>=Hn.CENTER_QUORUM)if(l==null)l=c;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-c.getX())-Math.abs(l.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,l=0;const c=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=Hn.CENTER_QUORUM&&(s++,l+=m.getEstimatedModuleSize());if(s<3)return!1;const f=l/c;let h=0;for(const m of this.possibleCenters)h+=Math.abs(m.getEstimatedModuleSize()-f);return h<=.05*l}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new se;const l=this.possibleCenters;let c;if(s>3){let f=0,h=0;for(const C of this.possibleCenters){const E=C.getEstimatedModuleSize();f+=E,h+=E*E}c=f/s;let m=Math.sqrt(h/s-c*c);l.sort((C,E)=>{const T=Math.abs(E.getEstimatedModuleSize()-c),F=Math.abs(C.getEstimatedModuleSize()-c);return T<F?-1:T>F?1:0});const y=Math.max(.2*c,m);for(let C=0;C<l.length&&l.length>3;C++){const E=l[C];Math.abs(E.getEstimatedModuleSize()-c)>y&&(l.splice(C,1),C--)}}if(l.length>3){let f=0;for(const h of l)f+=h.getEstimatedModuleSize();c=f/l.length,l.sort((h,m)=>{if(m.getCount()===h.getCount()){const y=Math.abs(m.getEstimatedModuleSize()-c),C=Math.abs(h.getEstimatedModuleSize()-c);return y<C?1:y>C?-1:0}else return m.getCount()-h.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}Hn.CENTER_QUORUM=2,Hn.MIN_SKIP=3,Hn.MAX_MODULES=57;class Eo{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(B.NEED_RESULT_POINT_CALLBACK);const c=new Hn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(c)}processFinderPatternInfo(s){const l=s.getTopLeft(),c=s.getTopRight(),f=s.getBottomLeft(),h=this.calculateModuleSize(l,c,f);if(h<1)throw new se("No pattern found in proccess finder.");const m=Eo.computeDimension(l,c,f,h),y=Je.getProvisionalVersionForDimension(m),C=y.getDimensionForVersion()-7;let E=null;if(y.getAlignmentPatternCenters().length>0){const Z=c.getX()-l.getX()+f.getX(),z=c.getY()-l.getY()+f.getY(),$=1-3/C,X=Math.floor(l.getX()+$*(Z-l.getX())),ne=Math.floor(l.getY()+$*(z-l.getY()));for(let he=4;he<=16;he<<=1)try{E=this.findAlignmentInRegion(h,X,ne,he);break}catch(me){if(!(me instanceof se))throw me}}const T=Eo.createTransform(l,c,f,E,m),F=Eo.sampleGrid(this.image,T,m);let H;return E===null?H=[f,l,c]:H=[f,l,c,E],new vn(F,H)}static createTransform(s,l,c,f,h){const m=h-3.5;let y,C,E,T;return f!==null?(y=f.getX(),C=f.getY(),E=m-3,T=E):(y=l.getX()-s.getX()+c.getX(),C=l.getY()-s.getY()+c.getY(),E=m,T=m),Rt.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,E,T,3.5,m,s.getX(),s.getY(),l.getX(),l.getY(),y,C,c.getX(),c.getY())}static sampleGrid(s,l,c){return Kt.getInstance().sampleGridWithTransform(s,c,c,l)}static computeDimension(s,l,c,f){const h=Qe.round(je.distance(s,l)/f),m=Qe.round(je.distance(s,c)/f);let y=Math.floor((h+m)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new se("Dimensions could be not found.")}return y}calculateModuleSize(s,l,c){return(this.calculateModuleSizeOneWay(s,l)+this.calculateModuleSizeOneWay(s,c))/2}calculateModuleSizeOneWay(s,l){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(l.getX()),Math.floor(l.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(c)?f/7:isNaN(f)?c/7:(c+f)/14}sizeOfBlackWhiteBlackRunBothWays(s,l,c,f){let h=this.sizeOfBlackWhiteBlackRun(s,l,c,f),m=1,y=s-(c-s);y<0?(m=s/(s-y),y=0):y>=this.image.getWidth()&&(m=(this.image.getWidth()-1-s)/(y-s),y=this.image.getWidth()-1);let C=Math.floor(l-(f-l)*m);return m=1,C<0?(m=l/(l-C),C=0):C>=this.image.getHeight()&&(m=(this.image.getHeight()-1-l)/(C-l),C=this.image.getHeight()-1),y=Math.floor(s+(y-s)*m),h+=this.sizeOfBlackWhiteBlackRun(s,l,y,C),h-1}sizeOfBlackWhiteBlackRun(s,l,c,f){const h=Math.abs(f-l)>Math.abs(c-s);if(h){let Z=s;s=l,l=Z,Z=c,c=f,f=Z}const m=Math.abs(c-s),y=Math.abs(f-l);let C=-m/2;const E=s<c?1:-1,T=l<f?1:-1;let F=0;const H=c+E;for(let Z=s,z=l;Z!==H;Z+=E){const $=h?z:Z,X=h?Z:z;if(F===1===this.image.get($,X)){if(F===2)return Qe.distance(Z,z,s,l);F++}if(C+=y,C>0){if(z===f)break;z+=T,C-=m}}return F===2?Qe.distance(c+E,f,s,l):NaN}findAlignmentInRegion(s,l,c,f){const h=Math.floor(f*s),m=Math.max(0,l-h),y=Math.min(this.image.getWidth()-1,l+h);if(y-m<s*3)throw new se("Alignment top exceeds estimated module size.");const C=Math.max(0,c-h),E=Math.min(this.image.getHeight()-1,c+h);if(E-C<s*3)throw new se("Alignment bottom exceeds estimated module size.");return new El(this.image,m,C,y-m,E-C,s,this.resultPointCallback).find()}}class gi{constructor(){this.decoder=new Fd}getDecoder(){return this.decoder}decode(s,l){let c,f;if(l!=null&&l.get(B.PURE_BARCODE)!==void 0){const C=gi.extractPureBits(s.getBlackMatrix());c=this.decoder.decodeBitMatrix(C,l),f=gi.NO_POINTS}else{const C=new Eo(s.getBlackMatrix()).detect(l);c=this.decoder.decodeBitMatrix(C.getBits(),l),f=C.getPoints()}c.getOther()instanceof Wc&&c.getOther().applyMirroredCorrection(f);const h=new Xe(c.getText(),c.getRawBytes(),void 0,f,_e.QR_CODE,void 0),m=c.getByteSegments();m!==null&&h.putMetadata(at.BYTE_SEGMENTS,m);const y=c.getECLevel();return y!==null&&h.putMetadata(at.ERROR_CORRECTION_LEVEL,y),c.hasStructuredAppend()&&(h.putMetadata(at.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),h.putMetadata(at.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),h}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(l===null||c===null)throw new se;const f=this.moduleSize(l,s);let h=l[1],m=c[1],y=l[0],C=c[0];if(y>=C||h>=m)throw new se;if(m-h!==C-y&&(C=y+(m-h),C>=s.getWidth()))throw new se;const E=Math.round((C-y+1)/f),T=Math.round((m-h+1)/f);if(E<=0||T<=0)throw new se;if(T!==E)throw new se;const F=Math.floor(f/2);h+=F,y+=F;const H=y+Math.floor((E-1)*f)-C;if(H>0){if(H>F)throw new se;y-=H}const Z=h+Math.floor((T-1)*f)-m;if(Z>0){if(Z>F)throw new se;h-=Z}const z=new ke(E,T);for(let $=0;$<T;$++){const X=h+Math.floor($*f);for(let ne=0;ne<E;ne++)s.get(y+Math.floor(ne*f),X)&&z.set(ne,$)}return z}static moduleSize(s,l){const c=l.getHeight(),f=l.getWidth();let h=s[0],m=s[1],y=!0,C=0;for(;h<f&&m<c;){if(y!==l.get(h,m)){if(++C===5)break;y=!y}h++,m++}if(h===f||m===c)throw new se;return(h-s[0])/7}}gi.NO_POINTS=new Array;class ot{PDF417Common(){}static getBitCountSum(s){return Qe.sum(s)}static toIntArray(s){if(s==null||!s.length)return ot.EMPTY_INT_ARRAY;const l=new Int32Array(s.length);let c=0;for(const f of s)l[c++]=f;return l}static getCodeword(s){const l=j.binarySearch(ot.SYMBOL_TABLE,s&262143);return l<0?-1:(ot.CODEWORD_TABLE[l]-1)%ot.NUMBER_OF_CODEWORDS}}ot.NUMBER_OF_CODEWORDS=929,ot.MAX_CODEWORDS_IN_BARCODE=ot.NUMBER_OF_CODEWORDS-1,ot.MIN_ROWS_IN_BARCODE=3,ot.MAX_ROWS_IN_BARCODE=90,ot.MODULES_IN_CODEWORD=17,ot.MODULES_IN_STOP_PATTERN=18,ot.BARS_IN_MODULE=8,ot.EMPTY_INT_ARRAY=new Int32Array([]),ot.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ot.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class bp{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class pt{static detectMultiple(s,l,c){let f=s.getBlackMatrix(),h=pt.detect(c,f);return h.length||(f=f.clone(),f.rotate180(),h=pt.detect(c,f)),new bp(f,h)}static detect(s,l){const c=new Array;let f=0,h=0,m=!1;for(;f<l.getHeight();){const y=pt.findVertices(l,f,h);if(y[0]==null&&y[3]==null){if(!m)break;m=!1,h=0;for(const C of c)C[1]!=null&&(f=Math.trunc(Math.max(f,C[1].getY()))),C[3]!=null&&(f=Math.max(f,Math.trunc(C[3].getY())));f+=pt.ROW_STEP;continue}if(m=!0,c.push(y),!s)break;y[2]!=null?(h=Math.trunc(y[2].getX()),f=Math.trunc(y[2].getY())):(h=Math.trunc(y[4].getX()),f=Math.trunc(y[4].getY()))}return c}static findVertices(s,l,c){const f=s.getHeight(),h=s.getWidth(),m=new Array(8);return pt.copyToResult(m,pt.findRowsWithPattern(s,f,h,l,c,pt.START_PATTERN),pt.INDEXES_START_PATTERN),m[4]!=null&&(c=Math.trunc(m[4].getX()),l=Math.trunc(m[4].getY())),pt.copyToResult(m,pt.findRowsWithPattern(s,f,h,l,c,pt.STOP_PATTERN),pt.INDEXES_STOP_PATTERN),m}static copyToResult(s,l,c){for(let f=0;f<c.length;f++)s[c[f]]=l[f]}static findRowsWithPattern(s,l,c,f,h,m){const y=new Array(4);let C=!1;const E=new Int32Array(m.length);for(;f<l;f+=pt.ROW_STEP){let F=pt.findGuardPattern(s,h,f,c,!1,m,E);if(F!=null){for(;f>0;){const H=pt.findGuardPattern(s,h,--f,c,!1,m,E);if(H!=null)F=H;else{f++;break}}y[0]=new je(F[0],f),y[1]=new je(F[1],f),C=!0;break}}let T=f+1;if(C){let F=0,H=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;T<l;T++){const Z=pt.findGuardPattern(s,H[0],T,c,!1,m,E);if(Z!=null&&Math.abs(H[0]-Z[0])<pt.MAX_PATTERN_DRIFT&&Math.abs(H[1]-Z[1])<pt.MAX_PATTERN_DRIFT)H=Z,F=0;else{if(F>pt.SKIPPED_ROW_COUNT_MAX)break;F++}}T-=F+1,y[2]=new je(H[0],T),y[3]=new je(H[1],T)}return T-f<pt.BARCODE_MIN_HEIGHT&&j.fill(y,null),y}static findGuardPattern(s,l,c,f,h,m,y){j.fillWithin(y,0,y.length,0);let C=l,E=0;for(;s.get(C,c)&&C>0&&E++<pt.MAX_PIXEL_DRIFT;)C--;let T=C,F=0,H=m.length;for(let Z=h;T<f;T++)if(s.get(T,c)!==Z)y[F]++;else{if(F===H-1){if(pt.patternMatchVariance(y,m,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE)return new Int32Array([C,T]);C+=y[0]+y[1],O.arraycopy(y,2,y,0,F-1),y[F-1]=0,y[F]=0,F--}else F++;y[F]=1,Z=!Z}return F===H-1&&pt.patternMatchVariance(y,m,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE?new Int32Array([C,T-1]):null}static patternMatchVariance(s,l,c){let f=s.length,h=0,m=0;for(let E=0;E<f;E++)h+=s[E],m+=l[E];if(h<m)return 1/0;let y=h/m;c*=y;let C=0;for(let E=0;E<f;E++){let T=s[E],F=l[E]*y,H=T>F?T-F:F-T;if(H>c)return 1/0;C+=H}return C/h}}pt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),pt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),pt.MAX_AVG_VARIANCE=.42,pt.MAX_INDIVIDUAL_VARIANCE=.8,pt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),pt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),pt.MAX_PIXEL_DRIFT=3,pt.MAX_PATTERN_DRIFT=5,pt.SKIPPED_ROW_COUNT_MAX=25,pt.ROW_STEP=5,pt.BARCODE_MIN_HEIGHT=10;class rr{constructor(s,l){if(l.length===0)throw new N;this.field=s;let c=l.length;if(c>1&&l[0]===0){let f=1;for(;f<c&&l[f]===0;)f++;f===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-f),O.arraycopy(l,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let f=0;for(let h of this.coefficients)f=this.field.add(f,h);return f}let l=this.coefficients[0],c=this.coefficients.length;for(let f=1;f<c;f++)l=this.field.add(this.field.multiply(s,l),this.coefficients[f]);return l}add(s){if(!this.field.equals(s.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,c=s.coefficients;if(l.length>c.length){let m=l;l=c,c=m}let f=new Int32Array(c.length),h=c.length-l.length;O.arraycopy(c,0,f,0,h);for(let m=h;m<c.length;m++)f[m]=this.field.add(l[m-h],c[m]);return new rr(this.field,f)}subtract(s){if(!this.field.equals(s.field))throw new N("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof rr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new rr(this.field,new Int32Array([0]));let l=this.coefficients,c=l.length,f=s.coefficients,h=f.length,m=new Int32Array(c+h-1);for(let y=0;y<c;y++){let C=l[y];for(let E=0;E<h;E++)m[y+E]=this.field.add(m[y+E],this.field.multiply(C,f[E]))}return new rr(this.field,m)}negative(){let s=this.coefficients.length,l=new Int32Array(s);for(let c=0;c<s;c++)l[c]=this.field.subtract(0,this.coefficients[c]);return new rr(this.field,l)}multiplyScalar(s){if(s===0)return new rr(this.field,new Int32Array([0]));if(s===1)return this;let l=this.coefficients.length,c=new Int32Array(l);for(let f=0;f<l;f++)c[f]=this.field.multiply(this.coefficients[f],s);return new rr(this.field,c)}multiplyByMonomial(s,l){if(s<0)throw new N;if(l===0)return new rr(this.field,new Int32Array([0]));let c=this.coefficients.length,f=new Int32Array(c+s);for(let h=0;h<c;h++)f[h]=this.field.multiply(this.coefficients[h],l);return new rr(this.field,f)}toString(){let s=new oe;for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);c!==0&&(c<0?(s.append(" - "),c=-c):s.length()>0&&s.append(" + "),(l===0||c!==1)&&s.append(c),l!==0&&(l===1?s.append("x"):(s.append("x^"),s.append(l))))}return s.toString()}}class Cp{add(s,l){return(s+l)%this.modulus}subtract(s,l){return(this.modulus+s-l)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new N;return this.logTable[s]}inverse(s){if(s===0)throw new Wt;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class qc extends Cp{constructor(s,l){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let c=1;for(let f=0;f<s;f++)this.expTable[f]=c,c=c*l%s;for(let f=0;f<s-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new rr(this,new Int32Array([0])),this.one=new rr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new N;if(l===0)return this.zero;let c=new Int32Array(s+1);return c[0]=l,new rr(this,c)}}qc.PDF417_GF=new qc(ot.NUMBER_OF_CODEWORDS,3);class Bd{constructor(){this.field=qc.PDF417_GF}decode(s,l,c){let f=new rr(this.field,s),h=new Int32Array(l),m=!1;for(let z=l;z>0;z--){let $=f.evaluateAt(this.field.exp(z));h[l-z]=$,$!==0&&(m=!0)}if(!m)return 0;let y=this.field.getOne();if(c!=null)for(const z of c){let $=this.field.exp(s.length-1-z),X=new rr(this.field,new Int32Array([this.field.subtract(0,$),1]));y=y.multiply(X)}let C=new rr(this.field,h),E=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),C,l),T=E[0],F=E[1],H=this.findErrorLocations(T),Z=this.findErrorMagnitudes(F,T,H);for(let z=0;z<H.length;z++){let $=s.length-1-this.field.log(H[z]);if($<0)throw k.getChecksumInstance();s[$]=this.field.subtract(s[$],Z[z])}return H.length}runEuclideanAlgorithm(s,l,c){if(s.getDegree()<l.getDegree()){let H=s;s=l,l=H}let f=s,h=l,m=this.field.getZero(),y=this.field.getOne();for(;h.getDegree()>=Math.round(c/2);){let H=f,Z=m;if(f=h,m=y,f.isZero())throw k.getChecksumInstance();h=H;let z=this.field.getZero(),$=f.getCoefficient(f.getDegree()),X=this.field.inverse($);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){let ne=h.getDegree()-f.getDegree(),he=this.field.multiply(h.getCoefficient(h.getDegree()),X);z=z.add(this.field.buildMonomial(ne,he)),h=h.subtract(f.multiplyByMonomial(ne,he))}y=z.multiply(m).subtract(Z).negative()}let C=y.getCoefficient(0);if(C===0)throw k.getChecksumInstance();let E=this.field.inverse(C),T=y.multiply(E),F=h.multiply(E);return[T,F]}findErrorLocations(s){let l=s.getDegree(),c=new Int32Array(l),f=0;for(let h=1;h<this.field.getSize()&&f<l;h++)s.evaluateAt(h)===0&&(c[f]=this.field.inverse(h),f++);if(f!==l)throw k.getChecksumInstance();return c}findErrorMagnitudes(s,l,c){let f=l.getDegree(),h=new Int32Array(f);for(let E=1;E<=f;E++)h[f-E]=this.field.multiply(E,l.getCoefficient(E));let m=new rr(this.field,h),y=c.length,C=new Int32Array(y);for(let E=0;E<y;E++){let T=this.field.inverse(c[E]),F=this.field.subtract(0,s.evaluateAt(T)),H=this.field.inverse(m.evaluateAt(T));C[E]=this.field.multiply(F,H)}return C}}class Wi{constructor(s,l,c,f,h){s instanceof Wi?this.constructor_2(s):this.constructor_1(s,l,c,f,h)}constructor_1(s,l,c,f,h){const m=l==null||c==null,y=f==null||h==null;if(m&&y)throw new se;m?(l=new je(0,f.getY()),c=new je(0,h.getY())):y&&(f=new je(s.getWidth()-1,l.getY()),h=new je(s.getWidth()-1,c.getY())),this.image=s,this.topLeft=l,this.bottomLeft=c,this.topRight=f,this.bottomRight=h,this.minX=Math.trunc(Math.min(l.getX(),c.getX())),this.maxX=Math.trunc(Math.max(f.getX(),h.getX())),this.minY=Math.trunc(Math.min(l.getY(),f.getY())),this.maxY=Math.trunc(Math.max(c.getY(),h.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,l){return s==null?l:l==null?s:new Wi(s.image,s.topLeft,s.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(s,l,c){let f=this.topLeft,h=this.bottomLeft,m=this.topRight,y=this.bottomRight;if(s>0){let C=c?this.topLeft:this.topRight,E=Math.trunc(C.getY()-s);E<0&&(E=0);let T=new je(C.getX(),E);c?f=T:m=T}if(l>0){let C=c?this.bottomLeft:this.bottomRight,E=Math.trunc(C.getY()+l);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let T=new je(C.getX(),E);c?h=T:y=T}return new Wi(this.image,f,h,m,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ln{constructor(s,l,c,f){this.columnCount=s,this.errorCorrectionLevel=f,this.rowCountUpperPart=l,this.rowCountLowerPart=c,this.rowCount=l+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ut{constructor(){this.buffer=""}static form(s,l){let c=-1;function f(m,y,C,E,T,F){if(m==="%%")return"%";if(l[++c]===void 0)return;m=E?parseInt(E.substr(1)):void 0;let H=T?parseInt(T.substr(1)):void 0,Z;switch(F){case"s":Z=l[c];break;case"c":Z=l[c][0];break;case"f":Z=parseFloat(l[c]).toFixed(m);break;case"p":Z=parseFloat(l[c]).toPrecision(m);break;case"e":Z=parseFloat(l[c]).toExponential(m);break;case"x":Z=parseInt(l[c]).toString(H||16);break;case"d":Z=parseFloat(parseInt(l[c],H||10).toPrecision(m)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(H);let z=parseInt(C),$=C&&C[0]+""=="0"?"0":" ";for(;Z.length<z;)Z=y!==void 0?Z+$:$+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}format(s,...l){this.buffer+=Ut.form(s,l)}toString(){return this.buffer}}class _o{constructor(s){this.boundingBox=new Wi(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let l=this.getCodeword(s);if(l!=null)return l;for(let c=1;c<_o.MAX_NEARBY_DISTANCE;c++){let f=this.imageRowToCodewordIndex(s)-c;if(f>=0&&(l=this.codewords[f],l!=null)||(f=this.imageRowToCodewordIndex(s)+c,f<this.codewords.length&&(l=this.codewords[f],l!=null)))return l}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,l){this.codewords[this.imageRowToCodewordIndex(s)]=l}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Ut;let l=0;for(const c of this.codewords){if(c==null){s.format("%3d:    |   %n",l++);continue}s.format("%3d: %3d|%3d%n",l++,c.getRowNumber(),c.getValue())}return s.toString()}}_o.MAX_NEARBY_DISTANCE=5;class So{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let l=this.values.get(s);l==null&&(l=0),l++,this.values.set(s,l)}getValue(){let s=-1,l=new Array;for(const[c,f]of this.values.entries()){const h={getKey:()=>c,getValue:()=>f};h.getValue()>s?(s=h.getValue(),l=[],l.push(h.getKey())):h.getValue()===s&&l.push(h.getKey())}return ot.toIntArray(l)}getConfidence(s){return this.values.get(s)}}class Ud extends _o{constructor(s,l){super(s),this._isLeft=l}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,s);let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),h=this._isLeft?c.getBottomLeft():c.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),C=-1,E=1,T=0;for(let F=m;F<y;F++){if(l[F]==null)continue;let H=l[F],Z=H.getRowNumber()-C;if(Z===0)T++;else if(Z===1)E=Math.max(E,T),T=1,C=H.getRowNumber();else if(Z<0||H.getRowNumber()>=s.getRowCount()||Z>F)l[F]=null;else{let z;E>2?z=(E-2)*Z:z=Z;let $=z>=F;for(let X=1;X<=z&&!$;X++)$=l[F-X]!=null;$?l[F]=null:(C=H.getRowNumber(),T=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let l=new Int32Array(s.getRowCount());for(let c of this.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=l.length)continue;l[f]++}return l}adjustIncompleteIndicatorColumnRowNumbers(s){let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.getCodewords(),C=-1;for(let E=h;E<m;E++){if(y[E]==null)continue;let T=y[E];T.setRowNumberAsRowIndicatorColumn();let F=T.getRowNumber()-C;F===0||(F===1?C=T.getRowNumber():T.getRowNumber()>=s.getRowCount()?y[E]=null:C=T.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),l=new So,c=new So,f=new So,h=new So;for(let y of s){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let C=y.getValue()%30,E=y.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:c.setValue(C*3+1);break;case 1:h.setValue(C/3),f.setValue(C%3);break;case 2:l.setValue(C+1);break}}if(l.getValue().length===0||c.getValue().length===0||f.getValue().length===0||h.getValue().length===0||l.getValue()[0]<1||c.getValue()[0]+f.getValue()[0]<ot.MIN_ROWS_IN_BARCODE||c.getValue()[0]+f.getValue()[0]>ot.MAX_ROWS_IN_BARCODE)return null;let m=new ln(l.getValue()[0],c.getValue()[0],f.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(s,m),m}removeIncorrectCodewords(s,l){for(let c=0;c<s.length;c++){let f=s[c];if(s[c]==null)continue;let h=f.getValue()%30,m=f.getRowNumber();if(m>l.getRowCount()){s[c]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:h*3+1!==l.getRowCountUpperPart()&&(s[c]=null);break;case 1:(Math.trunc(h/3)!==l.getErrorCorrectionLevel()||h%3!==l.getRowCountLowerPart())&&(s[c]=null);break;case 2:h+1!==l.getColumnCount()&&(s[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ao{constructor(s,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=ot.MAX_CODEWORDS_IN_BARCODE,l;do l=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let c=this.detectionResultColumns[l].getCodewords();for(let f=0;f<c.length;f++)c[f]!=null&&(c[f].hasValidRowNumber()||this.adjustRowNumbers(l,f,c))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++)if(s[c]!=null&&l[c]!=null&&s[c].getRowNumber()===l[c].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let h=this.detectionResultColumns[f].getCodewords()[c];h!=null&&(h.setRowNumber(s[c].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let f=l[c].getRowNumber(),h=0;for(let m=this.barcodeColumnCount+1;m>0&&h<this.ADJUST_ROW_NUMBER_SKIP;m--){let y=this.detectionResultColumns[m].getCodewords()[c];y!=null&&(h=Ao.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,l=this.detectionResultColumns[0].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let f=l[c].getRowNumber(),h=0;for(let m=1;m<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;m++){let y=this.detectionResultColumns[m].getCodewords()[c];y!=null&&(h=Ao.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,l,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(s)?(c.setRowNumber(s),l=0):++l),l}adjustRowNumbers(s,l,c){if(!this.detectionResultColumns[s-1])return;let f=c[l],h=this.detectionResultColumns[s-1].getCodewords(),m=h;this.detectionResultColumns[s+1]!=null&&(m=this.detectionResultColumns[s+1].getCodewords());let y=new Array(14);y[2]=h[l],y[3]=m[l],l>0&&(y[0]=c[l-1],y[4]=h[l-1],y[5]=m[l-1]),l>1&&(y[8]=c[l-2],y[10]=h[l-2],y[11]=m[l-2]),l<c.length-1&&(y[1]=c[l+1],y[6]=h[l+1],y[7]=m[l+1]),l<c.length-2&&(y[9]=c[l+2],y[12]=h[l+2],y[13]=m[l+2]);for(let C of y)if(Ao.adjustRowNumber(f,C))return}static adjustRowNumber(s,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===s.getBucket()?(s.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,l){this.detectionResultColumns[s]=l}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new Ut;for(let c=0;c<s.getCodewords().length;c++){l.format("CW %3d:",c);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){l.format("    |   ");continue}let h=this.detectionResultColumns[f].getCodewords()[c];if(h==null){l.format("    |   ");continue}l.format(" %3d|%3d",h.getRowNumber(),h.getValue())}l.format("%n")}return l.toString()}}class jo{constructor(s,l,c,f){this.rowNumber=jo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(l),this.bucket=Math.trunc(c),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==jo.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}jo.BARCODE_ROW_UNKNOWN=-1;class _r{static initialize(){for(let s=0;s<ot.SYMBOL_TABLE.length;s++){let l=ot.SYMBOL_TABLE[s],c=l&1;for(let f=0;f<ot.BARS_IN_MODULE;f++){let h=0;for(;(l&1)===c;)h+=1,l>>=1;c=l&1,_r.RATIOS_TABLE[s]||(_r.RATIOS_TABLE[s]=new Array(ot.BARS_IN_MODULE)),_r.RATIOS_TABLE[s][ot.BARS_IN_MODULE-f-1]=Math.fround(h/ot.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let l=_r.getDecodedCodewordValue(_r.sampleBitCounts(s));return l!==-1?l:_r.getClosestDecodedValue(s)}static sampleBitCounts(s){let l=Qe.sum(s),c=new Int32Array(ot.BARS_IN_MODULE),f=0,h=0;for(let m=0;m<ot.MODULES_IN_CODEWORD;m++){let y=l/(2*ot.MODULES_IN_CODEWORD)+m*l/ot.MODULES_IN_CODEWORD;h+s[f]<=y&&(h+=s[f],f++),c[f]++}return c}static getDecodedCodewordValue(s){let l=_r.getBitValue(s);return ot.getCodeword(l)===-1?-1:l}static getBitValue(s){let l=0;for(let c=0;c<s.length;c++)for(let f=0;f<s[c];f++)l=l<<1|(c%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(s){let l=Qe.sum(s),c=new Array(ot.BARS_IN_MODULE);if(l>1)for(let m=0;m<c.length;m++)c[m]=Math.fround(s[m]/l);let f=Pe.MAX_VALUE,h=-1;this.bSymbolTableReady||_r.initialize();for(let m=0;m<_r.RATIOS_TABLE.length;m++){let y=0,C=_r.RATIOS_TABLE[m];for(let E=0;E<ot.BARS_IN_MODULE;E++){let T=Math.fround(C[E]-c[E]);if(y+=Math.fround(T*T),y>=f)break}y<f&&(f=y,h=ot.SYMBOL_TABLE[m])}return h}}_r.bSymbolTableReady=!1,_r.RATIOS_TABLE=new Array(ot.SYMBOL_TABLE.length).map(P=>new Array(ot.BARS_IN_MODULE));class Vc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class zd{static parseLong(s,l=void 0){return parseInt(s,l)}}class Kn extends v{}Kn.kind="NullPointerException";class Yc{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,l,c){if(s==null)throw new Kn;if(l<0||l>s.length||c<0||l+c>s.length||l+c<0)throw new L;if(c===0)return;for(let f=0;f<c;f++)this.write(s[l+f])}flush(){}close(){}}class Hi extends v{}class Wd extends Yc{constructor(s=32){if(super(),this.count=0,s<0)throw new N("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let c=this.buf.length<<1;if(c-s<0&&(c=s),c<0){if(s<0)throw new Hi;c=I.MAX_VALUE}this.buf=j.copyOfUint8Array(this.buf,c)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,l,c){if(l<0||l>s.length||c<0||l+c-s.length>0)throw new L;this.ensureCapacity(this.count+c),O.arraycopy(s,l,this.buf,this.count,c),this.count+=c}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return j.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var zt;(function(P){P[P.ALPHA=0]="ALPHA",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.PUNCT=3]="PUNCT",P[P.ALPHA_SHIFT=4]="ALPHA_SHIFT",P[P.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(zt||(zt={}));function Lr(){if(typeof window<"u")return window.BigInt||null;if(typeof Ai<"u")return Ai.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ko;function Ks(P){if(typeof ko>"u"&&(ko=Lr()),ko===null)throw new Error("BigInt is not supported!");return ko(P)}function Hd(){let P=[];P[0]=Ks(1);let s=Ks(900);P[1]=s;for(let l=2;l<16;l++)P[l]=P[l-1]*s;return P}class fe{static decode(s,l){let c=new oe(""),f=V.ISO8859_1;c.enableDecoding(f);let h=1,m=s[h++],y=new Vc;for(;h<s[0];){switch(m){case fe.TEXT_COMPACTION_MODE_LATCH:h=fe.textCompaction(s,h,c);break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:h=fe.byteCompaction(m,s,f,h,c);break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h++]);break;case fe.NUMERIC_COMPACTION_MODE_LATCH:h=fe.numericCompaction(s,h,c);break;case fe.ECI_CHARSET:V.getCharacterSetECIByValue(s[h++]);break;case fe.ECI_GENERAL_PURPOSE:h+=2;break;case fe.ECI_USER_DEFINED:h++;break;case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=fe.decodeMacroBlock(s,h,y);break;case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:throw new R;default:h--,h=fe.textCompaction(s,h,c);break}if(h<s.length)m=s[h++];else throw R.getFormatInstance()}if(c.length()===0)throw R.getFormatInstance();let C=new qt(null,c.toString(),null,l);return C.setOther(y),C}static decodeMacroBlock(s,l,c){if(l+fe.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw R.getFormatInstance();let f=new Int32Array(fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<fe.NUMBER_OF_SEQUENCE_CODEWORDS;y++,l++)f[y]=s[l];c.setSegmentIndex(I.parseInt(fe.decodeBase900toBase10(f,fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new oe;l=fe.textCompaction(s,l,h),c.setFileId(h.toString());let m=-1;for(s[l]===fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=l+1);l<s[0];)switch(s[l]){case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,s[l]){case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new oe;l=fe.textCompaction(s,l+1,y),c.setFileName(y.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new oe;l=fe.textCompaction(s,l+1,C),c.setSender(C.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new oe;l=fe.textCompaction(s,l+1,E),c.setAddressee(E.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new oe;l=fe.numericCompaction(s,l+1,T),c.setSegmentCount(I.parseInt(T.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new oe;l=fe.numericCompaction(s,l+1,F),c.setTimestamp(zd.parseLong(F.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let H=new oe;l=fe.numericCompaction(s,l+1,H),c.setChecksum(I.parseInt(H.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Z=new oe;l=fe.numericCompaction(s,l+1,Z),c.setFileSize(zd.parseLong(Z.toString()));break;default:throw R.getFormatInstance()}break;case fe.MACRO_PDF417_TERMINATOR:l++,c.setLastSegment(!0);break;default:throw R.getFormatInstance()}if(m!==-1){let y=l-m;c.isLastSegment()&&y--,c.setOptionalData(j.copyOfRange(s,m,m+y))}return l}static textCompaction(s,l,c){let f=new Int32Array((s[0]-l)*2),h=new Int32Array((s[0]-l)*2),m=0,y=!1;for(;l<s[0]&&!y;){let C=s[l++];if(C<fe.TEXT_COMPACTION_MODE_LATCH)f[m]=C/30,f[m+1]=C%30,m+=2;else switch(C){case fe.TEXT_COMPACTION_MODE_LATCH:f[m++]=fe.TEXT_COMPACTION_MODE_LATCH;break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:l--,y=!0;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[m]=fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=s[l++],h[m]=C,m++;break}}return fe.decodeTextCompaction(f,h,m,c),l}static decodeTextCompaction(s,l,c,f){let h=zt.ALPHA,m=zt.ALPHA,y=0;for(;y<c;){let C=s[y],E="";switch(h){case zt.ALPHA:if(C<26)E=String.fromCharCode(65+C);else switch(C){case 26:E=" ";break;case fe.LL:h=zt.LOWER;break;case fe.ML:h=zt.MIXED;break;case fe.PS:m=h,h=zt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.LOWER:if(C<26)E=String.fromCharCode(97+C);else switch(C){case 26:E=" ";break;case fe.AS:m=h,h=zt.ALPHA_SHIFT;break;case fe.ML:h=zt.MIXED;break;case fe.PS:m=h,h=zt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.MIXED:if(C<fe.PL)E=fe.MIXED_CHARS[C];else switch(C){case fe.PL:h=zt.PUNCT;break;case 26:E=" ";break;case fe.LL:h=zt.LOWER;break;case fe.AL:h=zt.ALPHA;break;case fe.PS:m=h,h=zt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.PUNCT:if(C<fe.PAL)E=fe.PUNCT_CHARS[C];else switch(C){case fe.PAL:h=zt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.ALPHA_SHIFT:if(h=m,C<26)E=String.fromCharCode(65+C);else switch(C){case 26:E=" ";break;case fe.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.PUNCT_SHIFT:if(h=m,C<fe.PAL)E=fe.PUNCT_CHARS[C];else switch(C){case fe.PAL:h=zt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break}E!==""&&f.append(E),y++}}static byteCompaction(s,l,c,f,h){let m=new Wd,y=0,C=0,E=!1;switch(s){case fe.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),F=l[f++];for(;f<l[0]&&!E;)switch(T[y++]=F,C=900*C+F,F=l[f++],F){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:f--,E=!0;break;default:if(y%5===0&&y>0){for(let H=0;H<6;++H)m.write(Number(Ks(C)>>Ks(8*(5-H))));C=0,y=0}break}f===l[0]&&F<fe.TEXT_COMPACTION_MODE_LATCH&&(T[y++]=F);for(let H=0;H<y;H++)m.write(T[H]);break;case fe.BYTE_COMPACTION_MODE_LATCH_6:for(;f<l[0]&&!E;){let H=l[f++];if(H<fe.TEXT_COMPACTION_MODE_LATCH)y++,C=900*C+H;else switch(H){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:f--,E=!0;break}if(y%5===0&&y>0){for(let Z=0;Z<6;++Z)m.write(Number(Ks(C)>>Ks(8*(5-Z))));C=0,y=0}}break}return h.append(ce.decode(m.toByteArray(),c)),f}static numericCompaction(s,l,c){let f=0,h=!1,m=new Int32Array(fe.MAX_NUMERIC_CODEWORDS);for(;l<s[0]&&!h;){let y=s[l++];if(l===s[0]&&(h=!0),y<fe.TEXT_COMPACTION_MODE_LATCH)m[f]=y,f++;else switch(y){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:l--,h=!0;break}(f%fe.MAX_NUMERIC_CODEWORDS===0||y===fe.NUMERIC_COMPACTION_MODE_LATCH||h)&&f>0&&(c.append(fe.decodeBase900toBase10(m,f)),f=0)}return l}static decodeBase900toBase10(s,l){let c=Ks(0);for(let h=0;h<l;h++)c+=fe.EXP900[l-h-1]*Ks(s[h]);let f=c.toString();if(f.charAt(0)!=="1")throw new R;return f.substring(1)}}fe.TEXT_COMPACTION_MODE_LATCH=900,fe.BYTE_COMPACTION_MODE_LATCH=901,fe.NUMERIC_COMPACTION_MODE_LATCH=902,fe.BYTE_COMPACTION_MODE_LATCH_6=924,fe.ECI_USER_DEFINED=925,fe.ECI_GENERAL_PURPOSE=926,fe.ECI_CHARSET=927,fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,fe.MACRO_PDF417_TERMINATOR=922,fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,fe.MAX_NUMERIC_CODEWORDS=15,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,fe.PL=25,fe.LL=27,fe.AS=27,fe.ML=28,fe.AL=28,fe.PS=29,fe.PAL=29,fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",fe.EXP900=Lr()?Hd():[],fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class vt{constructor(){}static decode(s,l,c,f,h,m,y){let C=new Wi(s,l,c,f,h),E=null,T=null,F;for(let z=!0;;z=!1){if(l!=null&&(E=vt.getRowIndicatorColumn(s,C,l,!0,m,y)),f!=null&&(T=vt.getRowIndicatorColumn(s,C,f,!1,m,y)),F=vt.merge(E,T),F==null)throw se.getNotFoundInstance();let $=F.getBoundingBox();if(z&&$!=null&&($.getMinY()<C.getMinY()||$.getMaxY()>C.getMaxY()))C=$;else break}F.setBoundingBox(C);let H=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,E),F.setDetectionResultColumn(H,T);let Z=E!=null;for(let z=1;z<=H;z++){let $=Z?z:H-z;if(F.getDetectionResultColumn($)!==void 0)continue;let X;$===0||$===H?X=new Ud(C,$===0):X=new _o(C),F.setDetectionResultColumn($,X);let ne=-1,he=ne;for(let me=C.getMinY();me<=C.getMaxY();me++){if(ne=vt.getStartColumn(F,$,me,Z),ne<0||ne>C.getMaxX()){if(he===-1)continue;ne=he}let ve=vt.detectCodeword(s,C.getMinX(),C.getMaxX(),Z,ne,me,m,y);ve!=null&&(X.setCodeword(me,ve),he=ne,m=Math.min(m,ve.getWidth()),y=Math.max(y,ve.getWidth()))}}return vt.createDecoderResult(F)}static merge(s,l){if(s==null&&l==null)return null;let c=vt.getBarcodeMetadata(s,l);if(c==null)return null;let f=Wi.merge(vt.adjustBoundingBox(s),vt.adjustBoundingBox(l));return new Ao(c,f)}static adjustBoundingBox(s){if(s==null)return null;let l=s.getRowHeights();if(l==null)return null;let c=vt.getMax(l),f=0;for(let y of l)if(f+=c-y,y>0)break;let h=s.getCodewords();for(let y=0;f>0&&h[y]==null;y++)f--;let m=0;for(let y=l.length-1;y>=0&&(m+=c-l[y],!(l[y]>0));y--);for(let y=h.length-1;m>0&&h[y]==null;y--)m--;return s.getBoundingBox().addMissingRows(f,m,s.isLeft())}static getMax(s){let l=-1;for(let c of s)l=Math.max(l,c);return l}static getBarcodeMetadata(s,l){let c;if(s==null||(c=s.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let f;return l==null||(f=l.getBarcodeMetadata())==null?c:c.getColumnCount()!==f.getColumnCount()&&c.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&c.getRowCount()!==f.getRowCount()?null:c}static getRowIndicatorColumn(s,l,c,f,h,m){let y=new Ud(l,f);for(let C=0;C<2;C++){let E=C===0?1:-1,T=Math.trunc(Math.trunc(c.getX()));for(let F=Math.trunc(Math.trunc(c.getY()));F<=l.getMaxY()&&F>=l.getMinY();F+=E){let H=vt.detectCodeword(s,0,s.getWidth(),f,T,F,h,m);H!=null&&(y.setCodeword(F,H),f?T=H.getStartX():T=H.getEndX())}}return y}static adjustCodewordCount(s,l){let c=l[0][1],f=c.getValue(),h=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-vt.getNumberOfECCodeWords(s.getBarcodeECLevel());if(f.length===0){if(h<1||h>ot.MAX_CODEWORDS_IN_BARCODE)throw se.getNotFoundInstance();c.setValue(h)}else f[0]!==h&&c.setValue(h)}static createDecoderResult(s){let l=vt.createBarcodeMatrix(s);vt.adjustCodewordCount(s,l);let c=new Array,f=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),h=[],m=new Array;for(let C=0;C<s.getBarcodeRowCount();C++)for(let E=0;E<s.getBarcodeColumnCount();E++){let T=l[C][E+1].getValue(),F=C*s.getBarcodeColumnCount()+E;T.length===0?c.push(F):T.length===1?f[F]=T[0]:(m.push(F),h.push(T))}let y=new Array(h.length);for(let C=0;C<y.length;C++)y[C]=h[C];return vt.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),f,ot.toIntArray(c),ot.toIntArray(m),y)}static createDecoderResultFromAmbiguousValues(s,l,c,f,h){let m=new Int32Array(f.length),y=100;for(;y-- >0;){for(let C=0;C<m.length;C++)l[f[C]]=h[C][m[C]];try{return vt.decodeCodewords(l,s,c)}catch(C){if(!(C instanceof k))throw C}if(m.length===0)throw k.getChecksumInstance();for(let C=0;C<m.length;C++)if(m[C]<h[C].length-1){m[C]++;break}else if(m[C]=0,C===m.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(s){let l=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let f=0;f<l.length;f++)for(let h=0;h<l[f].length;h++)l[f][h]=new So;let c=0;for(let f of s.getDetectionResultColumns()){if(f!=null){for(let h of f.getCodewords())if(h!=null){let m=h.getRowNumber();if(m>=0){if(m>=l.length)continue;l[m][c].setValue(h.getValue())}}}c++}return l}static isValidBarcodeColumn(s,l){return l>=0&&l<=s.getBarcodeColumnCount()+1}static getStartColumn(s,l,c,f){let h=f?1:-1,m=null;if(vt.isValidBarcodeColumn(s,l-h)&&(m=s.getDetectionResultColumn(l-h).getCodeword(c)),m!=null)return f?m.getEndX():m.getStartX();if(m=s.getDetectionResultColumn(l).getCodewordNearby(c),m!=null)return f?m.getStartX():m.getEndX();if(vt.isValidBarcodeColumn(s,l-h)&&(m=s.getDetectionResultColumn(l-h).getCodewordNearby(c)),m!=null)return f?m.getEndX():m.getStartX();let y=0;for(;vt.isValidBarcodeColumn(s,l-h);){l-=h;for(let C of s.getDetectionResultColumn(l).getCodewords())if(C!=null)return(f?C.getEndX():C.getStartX())+h*y*(C.getEndX()-C.getStartX());y++}return f?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,l,c,f,h,m,y,C){h=vt.adjustCodewordStartColumn(s,l,c,f,h,m);let E=vt.getModuleBitCount(s,l,c,f,h,m);if(E==null)return null;let T,F=Qe.sum(E);if(f)T=h+F;else{for(let z=0;z<E.length/2;z++){let $=E[z];E[z]=E[E.length-1-z],E[E.length-1-z]=$}T=h,h=T-F}if(!vt.checkCodewordSkew(F,y,C))return null;let H=_r.getDecodedValue(E),Z=ot.getCodeword(H);return Z===-1?null:new jo(h,T,vt.getCodewordBucketNumber(H),Z)}static getModuleBitCount(s,l,c,f,h,m){let y=h,C=new Int32Array(8),E=0,T=f?1:-1,F=f;for(;(f?y<c:y>=l)&&E<C.length;)s.get(y,m)===F?(C[E]++,y+=T):(E++,F=!F);return E===C.length||y===(f?c:l)&&E===C.length-1?C:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,l,c,f,h,m){let y=h,C=f?-1:1;for(let E=0;E<2;E++){for(;(f?y>=l:y<c)&&f===s.get(y,m);){if(Math.abs(h-y)>vt.CODEWORD_SKEW_SIZE)return h;y+=C}C=-C,f=!f}return y}static checkCodewordSkew(s,l,c){return l-vt.CODEWORD_SKEW_SIZE<=s&&s<=c+vt.CODEWORD_SKEW_SIZE}static decodeCodewords(s,l,c){if(s.length===0)throw R.getFormatInstance();let f=1<<l+1,h=vt.correctErrors(s,c,f);vt.verifyCodewordCount(s,f);let m=fe.decode(s,""+l);return m.setErrorsCorrected(h),m.setErasures(c.length),m}static correctErrors(s,l,c){if(l!=null&&l.length>c/2+vt.MAX_ERRORS||c<0||c>vt.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return vt.errorCorrection.decode(s,c,l)}static verifyCodewordCount(s,l){if(s.length<4)throw R.getFormatInstance();let c=s[0];if(c>s.length)throw R.getFormatInstance();if(c===0)if(l<s.length)s[0]=s.length-l;else throw R.getFormatInstance()}static getBitCountForCodeword(s){let l=new Int32Array(8),c=0,f=l.length-1;for(;!((s&1)!==c&&(c=s&1,f--,f<0));)l[f]++,s>>=1;return l}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return vt.getCodewordBucketNumber(vt.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let l=new Ut;for(let c=0;c<s.length;c++){l.format("Row %2d: ",c);for(let f=0;f<s[c].length;f++){let h=s[c][f];h.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}l.format("%n")}return l.toString()}}vt.CODEWORD_SKEW_SIZE=2,vt.MAX_ERRORS=3,vt.MAX_EC_CODEWORDS=512,vt.errorCorrection=new Bd;class Zn{decode(s,l=null){let c=Zn.decode(s,l,!1);if(c==null||c.length===0||c[0]==null)throw se.getNotFoundInstance();return c[0]}decodeMultiple(s,l=null){try{return Zn.decode(s,l,!0)}catch(c){throw c instanceof R||c instanceof k?se.getNotFoundInstance():c}}static decode(s,l,c){const f=new Array,h=pt.detectMultiple(s,l,c);for(const m of h.getPoints()){const y=vt.decode(h.getBits(),m[4],m[5],m[6],m[7],Zn.getMinCodewordWidth(m),Zn.getMaxCodewordWidth(m)),C=new Xe(y.getText(),y.getRawBytes(),void 0,m,_e.PDF_417);C.putMetadata(at.ERROR_CORRECTION_LEVEL,y.getECLevel());const E=y.getOther();E!=null&&C.putMetadata(at.PDF417_EXTRA_METADATA,E),f.push(C)}return f.map(m=>m)}static getMaxWidth(s,l){return s==null||l==null?0:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMinWidth(s,l){return s==null||l==null?I.MAX_VALUE:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Zn.getMaxWidth(s[0],s[4]),Zn.getMaxWidth(s[6],s[2])*ot.MODULES_IN_CODEWORD/ot.MODULES_IN_STOP_PATTERN),Math.max(Zn.getMaxWidth(s[1],s[5]),Zn.getMaxWidth(s[7],s[3])*ot.MODULES_IN_CODEWORD/ot.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Zn.getMinWidth(s[0],s[4]),Zn.getMinWidth(s[6],s[2])*ot.MODULES_IN_CODEWORD/ot.MODULES_IN_STOP_PATTERN),Math.min(Zn.getMinWidth(s[1],s[5]),Zn.getMinWidth(s[7],s[3])*ot.MODULES_IN_CODEWORD/ot.MODULES_IN_STOP_PATTERN)))}reset(){}}class cr extends v{}cr.kind="ReaderException";class qd{constructor(s,l){this.verbose=s===!0,l&&this.setHints(l)}decode(s,l){return l&&this.setHints(l),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const l=!r(s)&&s.get(B.TRY_HARDER)===!0,c=r(s)?null:s.get(B.POSSIBLE_FORMATS),f=new Array;if(!r(c)){const h=c.some(m=>m===_e.UPC_A||m===_e.UPC_E||m===_e.EAN_13||m===_e.EAN_8||m===_e.CODABAR||m===_e.CODE_39||m===_e.CODE_93||m===_e.CODE_128||m===_e.ITF||m===_e.RSS_14||m===_e.RSS_EXPANDED);h&&!l&&f.push(new zi(s,this.verbose)),c.includes(_e.QR_CODE)&&f.push(new gi),c.includes(_e.DATA_MATRIX)&&f.push(new cs),c.includes(_e.AZTEC)&&f.push(new Ss),c.includes(_e.PDF_417)&&f.push(new Zn),h&&l&&f.push(new zi(s,this.verbose))}f.length===0&&(l||f.push(new zi(s,this.verbose)),f.push(new gi),f.push(new cs),f.push(new Ss),f.push(new Zn),l&&f.push(new zi(s,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new cr("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(s,this.hints)}catch(c){if(c instanceof cr)continue}throw new se("No MultiFormat Readers were able to detect the code.")}}class Gr extends Ae{constructor(s=null,l=500){const c=new qd;c.setHints(s),super(c,l)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class Np extends Ae{constructor(s=500){super(new Zn,s)}}class Vd extends Ae{constructor(s=500){super(new gi,s)}}var Ds;(function(P){P[P.ERROR_CORRECTION=0]="ERROR_CORRECTION",P[P.CHARACTER_SET=1]="CHARACTER_SET",P[P.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",P[P.MIN_SIZE=3]="MIN_SIZE",P[P.MAX_SIZE=4]="MAX_SIZE",P[P.MARGIN=5]="MARGIN",P[P.PDF417_COMPACT=6]="PDF417_COMPACT",P[P.PDF417_COMPACTION=7]="PDF417_COMPACTION",P[P.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",P[P.AZTEC_LAYERS=9]="AZTEC_LAYERS",P[P.QR_VERSION=10]="QR_VERSION"})(Ds||(Ds={}));var wn=Ds;class To{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Vt(s,Int32Array.from([1])))}buildGenerator(s){const l=this.cachedGenerators;if(s>=l.length){let c=l[l.length-1];const f=this.field;for(let h=l.length;h<=s;h++){const m=c.multiply(new Vt(f,Int32Array.from([1,f.exp(h-1+f.getGeneratorBase())])));l.push(m),c=m}}return l[s]}encode(s,l){if(l===0)throw new N("No error correction bytes");const c=s.length-l;if(c<=0)throw new N("No data bytes provided");const f=this.buildGenerator(l),h=new Int32Array(c);O.arraycopy(s,0,h,0,c);let m=new Vt(this.field,h);m=m.multiplyByMonomial(l,1);const C=m.divide(f)[1].getCoefficients(),E=l-C.length;for(let T=0;T<E;T++)s[c+T]=0;O.arraycopy(C,0,s,c+E,C.length)}}class dt{constructor(){}static applyMaskPenaltyRule1(s){return dt.applyMaskPenaltyRule1Internal(s,!0)+dt.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let l=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let m=0;m<h-1;m++){const y=c[m];for(let C=0;C<f-1;C++){const E=y[C];E===y[C+1]&&E===c[m+1][C]&&E===c[m+1][C+1]&&l++}}return dt.N2*l}static applyMaskPenaltyRule3(s){let l=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let m=0;m<h;m++)for(let y=0;y<f;y++){const C=c[m];y+6<f&&C[y]===1&&C[y+1]===0&&C[y+2]===1&&C[y+3]===1&&C[y+4]===1&&C[y+5]===0&&C[y+6]===1&&(dt.isWhiteHorizontal(C,y-4,y)||dt.isWhiteHorizontal(C,y+7,y+11))&&l++,m+6<h&&c[m][y]===1&&c[m+1][y]===0&&c[m+2][y]===1&&c[m+3][y]===1&&c[m+4][y]===1&&c[m+5][y]===0&&c[m+6][y]===1&&(dt.isWhiteVertical(c,y,m-4,m)||dt.isWhiteVertical(c,y,m+7,m+11))&&l++}return l*dt.N3}static isWhiteHorizontal(s,l,c){l=Math.max(l,0),c=Math.min(c,s.length);for(let f=l;f<c;f++)if(s[f]===1)return!1;return!0}static isWhiteVertical(s,l,c,f){c=Math.max(c,0),f=Math.min(f,s.length);for(let h=c;h<f;h++)if(s[h][l]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let l=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let C=0;C<h;C++){const E=c[C];for(let T=0;T<f;T++)E[T]===1&&l++}const m=s.getHeight()*s.getWidth();return Math.floor(Math.abs(l*2-m)*10/m)*dt.N4}static getDataMaskBit(s,l,c){let f,h;switch(s){case 0:f=c+l&1;break;case 1:f=c&1;break;case 2:f=l%3;break;case 3:f=(c+l)%3;break;case 4:f=Math.floor(c/2)+Math.floor(l/3)&1;break;case 5:h=c*l,f=(h&1)+h%3;break;case 6:h=c*l,f=(h&1)+h%3&1;break;case 7:h=c*l,f=h%3+(c+l&1)&1;break;default:throw new N("Invalid mask pattern: "+s)}return f===0}static applyMaskPenaltyRule1Internal(s,l){let c=0;const f=l?s.getHeight():s.getWidth(),h=l?s.getWidth():s.getHeight(),m=s.getArray();for(let y=0;y<f;y++){let C=0,E=-1;for(let T=0;T<h;T++){const F=l?m[y][T]:m[T][y];F===E?C++:(C>=5&&(c+=dt.N1+(C-5)),C=1,E=F)}C>=5&&(c+=dt.N1+(C-5))}return c}}dt.N1=3,dt.N2=3,dt.N3=40,dt.N4=10;class us{constructor(s,l){this.width=s,this.height=l;const c=new Array(l);for(let f=0;f!==l;f++)c[f]=new Uint8Array(s);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(s,l){return this.bytes[l][s]}getArray(){return this.bytes}setNumber(s,l,c){this.bytes[l][s]=c}setBoolean(s,l,c){this.bytes[l][s]=c?1:0}clear(s){for(const l of this.bytes)j.fill(l,s)}equals(s){if(!(s instanceof us))return!1;const l=s;if(this.width!==l.width||this.height!==l.height)return!1;for(let c=0,f=this.height;c<f;++c){const h=this.bytes[c],m=l.bytes[c];for(let y=0,C=this.width;y<C;++y)if(h[y]!==m[y])return!1}return!0}toString(){const s=new oe;for(let l=0,c=this.height;l<c;++l){const f=this.bytes[l];for(let h=0,m=this.width;h<m;++h)switch(f[h]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Zs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new oe;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Zs.NUM_MASK_PATTERNS}}Zs.NUM_MASK_PATTERNS=8;class en extends v{}en.kind="WriterException";class st{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,l,c,f,h){st.clearMatrix(h),st.embedBasicPatterns(c,h),st.embedTypeInfo(l,f,h),st.maybeEmbedVersionInfo(c,h),st.embedDataBits(s,f,h)}static embedBasicPatterns(s,l){st.embedPositionDetectionPatternsAndSeparators(l),st.embedDarkDotAtLeftBottomCorner(l),st.maybeEmbedPositionAdjustmentPatterns(s,l),st.embedTimingPatterns(l)}static embedTypeInfo(s,l,c){const f=new W;st.makeTypeInfoBits(s,l,f);for(let h=0,m=f.getSize();h<m;++h){const y=f.get(f.getSize()-1-h),C=st.TYPE_INFO_COORDINATES[h],E=C[0],T=C[1];if(c.setBoolean(E,T,y),h<8){const F=c.getWidth()-h-1,H=8;c.setBoolean(F,H,y)}else{const H=c.getHeight()-7+(h-8);c.setBoolean(8,H,y)}}}static maybeEmbedVersionInfo(s,l){if(s.getVersionNumber()<7)return;const c=new W;st.makeVersionInfoBits(s,c);let f=6*3-1;for(let h=0;h<6;++h)for(let m=0;m<3;++m){const y=c.get(f);f--,l.setBoolean(h,l.getHeight()-11+m,y),l.setBoolean(l.getHeight()-11+m,h,y)}}static embedDataBits(s,l,c){let f=0,h=-1,m=c.getWidth()-1,y=c.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);y>=0&&y<c.getHeight();){for(let C=0;C<2;++C){const E=m-C;if(!st.isEmpty(c.get(E,y)))continue;let T;f<s.getSize()?(T=s.get(f),++f):T=!1,l!==255&&dt.getDataMaskBit(l,E,y)&&(T=!T),c.setBoolean(E,y,T)}y+=h}h=-h,y+=h,m-=2}if(f!==s.getSize())throw new en("Not all bits consumed: "+f+"/"+s.getSize())}static findMSBSet(s){return 32-I.numberOfLeadingZeros(s)}static calculateBCHCode(s,l){if(l===0)throw new N("0 polynomial");const c=st.findMSBSet(l);for(s<<=c-1;st.findMSBSet(s)>=c;)s^=l<<st.findMSBSet(s)-c;return s}static makeTypeInfoBits(s,l,c){if(!Zs.isValidMaskPattern(l))throw new en("Invalid mask pattern");const f=s.getBits()<<3|l;c.appendBits(f,5);const h=st.calculateBCHCode(f,st.TYPE_INFO_POLY);c.appendBits(h,10);const m=new W;if(m.appendBits(st.TYPE_INFO_MASK_PATTERN,15),c.xor(m),c.getSize()!==15)throw new en("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(s,l){l.appendBits(s.getVersionNumber(),6);const c=st.calculateBCHCode(s.getVersionNumber(),st.VERSION_INFO_POLY);if(l.appendBits(c,12),l.getSize()!==18)throw new en("should not happen but we got: "+l.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let l=8;l<s.getWidth()-8;++l){const c=(l+1)%2;st.isEmpty(s.get(l,6))&&s.setNumber(l,6,c),st.isEmpty(s.get(6,l))&&s.setNumber(6,l,c)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new en;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,l,c){for(let f=0;f<8;++f){if(!st.isEmpty(c.get(s+f,l)))throw new en;c.setNumber(s+f,l,0)}}static embedVerticalSeparationPattern(s,l,c){for(let f=0;f<7;++f){if(!st.isEmpty(c.get(s,l+f)))throw new en;c.setNumber(s,l+f,0)}}static embedPositionAdjustmentPattern(s,l,c){for(let f=0;f<5;++f){const h=st.POSITION_ADJUSTMENT_PATTERN[f];for(let m=0;m<5;++m)c.setNumber(s+m,l+f,h[m])}}static embedPositionDetectionPattern(s,l,c){for(let f=0;f<7;++f){const h=st.POSITION_DETECTION_PATTERN[f];for(let m=0;m<7;++m)c.setNumber(s+m,l+f,h[m])}}static embedPositionDetectionPatternsAndSeparators(s){const l=st.POSITION_DETECTION_PATTERN[0].length;st.embedPositionDetectionPattern(0,0,s),st.embedPositionDetectionPattern(s.getWidth()-l,0,s),st.embedPositionDetectionPattern(0,s.getWidth()-l,s);const c=8;st.embedHorizontalSeparationPattern(0,c-1,s),st.embedHorizontalSeparationPattern(s.getWidth()-c,c-1,s),st.embedHorizontalSeparationPattern(0,s.getWidth()-c,s);const f=7;st.embedVerticalSeparationPattern(f,0,s),st.embedVerticalSeparationPattern(s.getHeight()-f-1,0,s),st.embedVerticalSeparationPattern(f,s.getHeight()-f,s)}static maybeEmbedPositionAdjustmentPatterns(s,l){if(s.getVersionNumber()<2)return;const c=s.getVersionNumber()-1,f=st.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let h=0,m=f.length;h!==m;h++){const y=f[h];if(y>=0)for(let C=0;C!==m;C++){const E=f[C];E>=0&&st.isEmpty(l.get(E,y))&&st.embedPositionAdjustmentPattern(E-2,y-2,l)}}}}st.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),st.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),st.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),st.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),st.VERSION_INFO_POLY=7973,st.TYPE_INFO_POLY=1335,st.TYPE_INFO_MASK_PATTERN=21522;class Ep{constructor(s,l){this.dataBytes=s,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class cn{constructor(){}static calculateMaskPenalty(s){return dt.applyMaskPenaltyRule1(s)+dt.applyMaskPenaltyRule2(s)+dt.applyMaskPenaltyRule3(s)+dt.applyMaskPenaltyRule4(s)}static encode(s,l,c=null){let f=cn.DEFAULT_BYTE_MODE_ENCODING;const h=c!==null&&c.get(wn.CHARACTER_SET)!==void 0;h&&(f=c.get(wn.CHARACTER_SET).toString());const m=this.chooseMode(s,f),y=new W;if(m===rt.BYTE&&(h||cn.DEFAULT_BYTE_MODE_ENCODING!==f)){const me=V.getCharacterSetECIByName(f);me!==void 0&&this.appendECI(me,y)}this.appendModeInfo(m,y);const C=new W;this.appendBytes(s,m,C,f);let E;if(c!==null&&c.get(wn.QR_VERSION)!==void 0){const me=Number.parseInt(c.get(wn.QR_VERSION).toString(),10);E=Je.getVersionForNumber(me);const ve=this.calculateBitsNeeded(m,y,C,E);if(!this.willFit(ve,E,l))throw new en("Data too big for requested version")}else E=this.recommendVersion(l,m,y,C);const T=new W;T.appendBitArray(y);const F=m===rt.BYTE?C.getSizeInBytes():s.length;this.appendLengthInfo(F,E,m,T),T.appendBitArray(C);const H=E.getECBlocksForLevel(l),Z=E.getTotalCodewords()-H.getTotalECCodewords();this.terminateBits(Z,T);const z=this.interleaveWithECBytes(T,E.getTotalCodewords(),Z,H.getNumBlocks()),$=new Zs;$.setECLevel(l),$.setMode(m),$.setVersion(E);const X=E.getDimensionForVersion(),ne=new us(X,X),he=this.chooseMaskPattern(z,l,E,ne);return $.setMaskPattern(he),st.buildMatrix(z,l,E,he,ne),$.setMatrix(ne),$}static recommendVersion(s,l,c,f){const h=this.calculateBitsNeeded(l,c,f,Je.getVersionForNumber(1)),m=this.chooseVersion(h,s),y=this.calculateBitsNeeded(l,c,f,m);return this.chooseVersion(y,s)}static calculateBitsNeeded(s,l,c,f){return l.getSize()+s.getCharacterCountBits(f)+c.getSize()}static getAlphanumericCode(s){return s<cn.ALPHANUMERIC_TABLE.length?cn.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,l=null){if(V.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(s))return rt.KANJI;let c=!1,f=!1;for(let h=0,m=s.length;h<m;++h){const y=s.charAt(h);if(cn.isDigit(y))c=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)f=!0;else return rt.BYTE}return f?rt.ALPHANUMERIC:c?rt.NUMERIC:rt.BYTE}static isOnlyDoubleByteKanji(s){let l;try{l=ce.encode(s,V.SJIS)}catch{return!1}const c=l.length;if(c%2!==0)return!1;for(let f=0;f<c;f+=2){const h=l[f]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(s,l,c,f){let h=Number.MAX_SAFE_INTEGER,m=-1;for(let y=0;y<Zs.NUM_MASK_PATTERNS;y++){st.buildMatrix(s,l,c,y,f);let C=this.calculateMaskPenalty(f);C<h&&(h=C,m=y)}return m}static chooseVersion(s,l){for(let c=1;c<=40;c++){const f=Je.getVersionForNumber(c);if(cn.willFit(s,f,l))return f}throw new en("Data too big")}static willFit(s,l,c){const f=l.getTotalCodewords(),m=l.getECBlocksForLevel(c).getTotalECCodewords(),y=f-m,C=(s+7)/8;return y>=C}static terminateBits(s,l){const c=s*8;if(l.getSize()>c)throw new en("data bits cannot fit in the QR Code"+l.getSize()+" > "+c);for(let m=0;m<4&&l.getSize()<c;++m)l.appendBit(!1);const f=l.getSize()&7;if(f>0)for(let m=f;m<8;m++)l.appendBit(!1);const h=s-l.getSizeInBytes();for(let m=0;m<h;++m)l.appendBits(m&1?17:236,8);if(l.getSize()!==c)throw new en("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,l,c,f,h,m){if(f>=c)throw new en("Block ID too large");const y=s%c,C=c-y,E=Math.floor(s/c),T=E+1,F=Math.floor(l/c),H=F+1,Z=E-F,z=T-H;if(Z!==z)throw new en("EC bytes mismatch");if(c!==C+y)throw new en("RS blocks mismatch");if(s!==(F+Z)*C+(H+z)*y)throw new en("Total bytes mismatch");f<C?(h[0]=F,m[0]=Z):(h[0]=H,m[0]=z)}static interleaveWithECBytes(s,l,c,f){if(s.getSizeInBytes()!==c)throw new en("Number of bits and data bytes does not match");let h=0,m=0,y=0;const C=new Array;for(let T=0;T<f;++T){const F=new Int32Array(1),H=new Int32Array(1);cn.getNumDataBytesAndNumECBytesForBlockID(l,c,f,T,F,H);const Z=F[0],z=new Uint8Array(Z);s.toBytes(8*h,z,0,Z);const $=cn.generateECBytes(z,H[0]);C.push(new Ep(z,$)),m=Math.max(m,Z),y=Math.max(y,$.length),h+=F[0]}if(c!==h)throw new en("Data bytes does not match offset");const E=new W;for(let T=0;T<m;++T)for(const F of C){const H=F.getDataBytes();T<H.length&&E.appendBits(H[T],8)}for(let T=0;T<y;++T)for(const F of C){const H=F.getErrorCorrectionBytes();T<H.length&&E.appendBits(H[T],8)}if(l!==E.getSizeInBytes())throw new en("Interleaving error: "+l+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(s,l){const c=s.length,f=new Int32Array(c+l);for(let m=0;m<c;m++)f[m]=s[m]&255;new To(Ce.QR_CODE_FIELD_256).encode(f,l);const h=new Uint8Array(l);for(let m=0;m<l;m++)h[m]=f[c+m];return h}static appendModeInfo(s,l){l.appendBits(s.getBits(),4)}static appendLengthInfo(s,l,c,f){const h=c.getCharacterCountBits(l);if(s>=1<<h)throw new en(s+" is bigger than "+((1<<h)-1));f.appendBits(s,h)}static appendBytes(s,l,c,f){switch(l){case rt.NUMERIC:cn.appendNumericBytes(s,c);break;case rt.ALPHANUMERIC:cn.appendAlphanumericBytes(s,c);break;case rt.BYTE:cn.append8BitBytes(s,c,f);break;case rt.KANJI:cn.appendKanjiBytes(s,c);break;default:throw new en("Invalid mode: "+l)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const l=cn.getDigit(s);return l>=0&&l<=9}static appendNumericBytes(s,l){const c=s.length;let f=0;for(;f<c;){const h=cn.getDigit(s.charAt(f));if(f+2<c){const m=cn.getDigit(s.charAt(f+1)),y=cn.getDigit(s.charAt(f+2));l.appendBits(h*100+m*10+y,10),f+=3}else if(f+1<c){const m=cn.getDigit(s.charAt(f+1));l.appendBits(h*10+m,7),f+=2}else l.appendBits(h,4),f++}}static appendAlphanumericBytes(s,l){const c=s.length;let f=0;for(;f<c;){const h=cn.getAlphanumericCode(s.charCodeAt(f));if(h===-1)throw new en;if(f+1<c){const m=cn.getAlphanumericCode(s.charCodeAt(f+1));if(m===-1)throw new en;l.appendBits(h*45+m,11),f+=2}else l.appendBits(h,6),f++}}static append8BitBytes(s,l,c){let f;try{f=ce.encode(s,c)}catch(h){throw new en(h)}for(let h=0,m=f.length;h!==m;h++){const y=f[h];l.appendBits(y,8)}}static appendKanjiBytes(s,l){let c;try{c=ce.encode(s,V.SJIS)}catch(h){throw new en(h)}const f=c.length;for(let h=0;h<f;h+=2){const m=c[h]&255,y=c[h+1]&255,C=m<<8&4294967295|y;let E=-1;if(C>=33088&&C<=40956?E=C-33088:C>=57408&&C<=60351&&(E=C-49472),E===-1)throw new en("Invalid byte sequence");const T=(E>>8)*192+(E&255);l.appendBits(T,13)}}static appendECI(s,l){l.appendBits(rt.ECI.getBits(),4),l.appendBits(s.getValue(),8)}}cn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),cn.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class qi{write(s,l,c,f=null){if(s.length===0)throw new N("Found empty contents");if(l<0||c<0)throw new N("Requested dimensions are too small: "+l+"x"+c);let h=Jt.L,m=qi.QUIET_ZONE_SIZE;f!==null&&(f.get(wn.ERROR_CORRECTION)!==void 0&&(h=Jt.fromString(f.get(wn.ERROR_CORRECTION).toString())),f.get(wn.MARGIN)!==void 0&&(m=Number.parseInt(f.get(wn.MARGIN).toString(),10)));const y=cn.encode(s,h,f);return this.renderResult(y,l,c,m)}writeToDom(s,l,c,f,h=null){typeof s=="string"&&(s=document.querySelector(s));const m=this.write(l,c,f,h);s&&s.appendChild(m)}renderResult(s,l,c,f){const h=s.getMatrix();if(h===null)throw new It;const m=h.getWidth(),y=h.getHeight(),C=m+f*2,E=y+f*2,T=Math.max(l,C),F=Math.max(c,E),H=Math.min(Math.floor(T/C),Math.floor(F/E)),Z=Math.floor((T-m*H)/2),z=Math.floor((F-y*H)/2),$=this.createSVGElement(T,F);for(let X=0,ne=z;X<y;X++,ne+=H)for(let he=0,me=Z;he<m;he++,me+=H)if(h.get(he,X)===1){const ve=this.createSvgRectElement(me,ne,H,H);$.appendChild(ve)}return $}createSVGElement(s,l){const c=document.createElementNS(qi.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",l.toString()),c}createSvgRectElement(s,l,c,f){const h=document.createElementNS(qi.SVG_NS,"rect");return h.setAttributeNS(null,"x",s.toString()),h.setAttributeNS(null,"y",l.toString()),h.setAttributeNS(null,"height",c.toString()),h.setAttributeNS(null,"width",f.toString()),h.setAttributeNS(null,"fill","#000000"),h}}qi.QUIET_ZONE_SIZE=4,qi.SVG_NS="http://www.w3.org/2000/svg";class Vi{encode(s,l,c,f,h){if(s.length===0)throw new N("Found empty contents");if(l!==_e.QR_CODE)throw new N("Can only encode QR_CODE, but got "+l);if(c<0||f<0)throw new N(`Requested dimensions are too small: ${c}x${f}`);let m=Jt.L,y=Vi.QUIET_ZONE_SIZE;h!==null&&(h.get(wn.ERROR_CORRECTION)!==void 0&&(m=Jt.fromString(h.get(wn.ERROR_CORRECTION).toString())),h.get(wn.MARGIN)!==void 0&&(y=Number.parseInt(h.get(wn.MARGIN).toString(),10)));const C=cn.encode(s,m,h);return Vi.renderResult(C,c,f,y)}static renderResult(s,l,c,f){const h=s.getMatrix();if(h===null)throw new It;const m=h.getWidth(),y=h.getHeight(),C=m+f*2,E=y+f*2,T=Math.max(l,C),F=Math.max(c,E),H=Math.min(Math.floor(T/C),Math.floor(F/E)),Z=Math.floor((T-m*H)/2),z=Math.floor((F-y*H)/2),$=new ke(T,F);for(let X=0,ne=z;X<y;X++,ne+=H)for(let he=0,me=Z;he<m;he++,me+=H)h.get(he,X)===1&&$.setRegion(me,ne,H,H);return $}}Vi.QUIET_ZONE_SIZE=4;class _l{encode(s,l,c,f,h){let m;switch(l){case _e.QR_CODE:m=new Vi;break;default:throw new N("No encoder available for format "+l)}return m.encode(s,l,c,f,h)}}class gr extends ue{constructor(s,l,c,f,h,m,y,C){if(super(m,y),this.yuvData=s,this.dataWidth=l,this.dataHeight=c,this.left=f,this.top=h,f+m>l||h+y>c)throw new N("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(m,y)}getRow(s,l){if(s<0||s>=this.getHeight())throw new N("Requested row is outside the image: "+s);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,f,l,0,c),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.yuvData;const c=s*l,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return O.arraycopy(this.yuvData,h,f,0,c),f;for(let m=0;m<l;m++){const y=m*s;O.arraycopy(this.yuvData,h,f,y,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,l,c,f){return new gr(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+l,c,f,!1)}renderThumbnail(){const s=this.getWidth()/gr.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/gr.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*l),f=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let m=0;m<l;m++){const y=m*s;for(let C=0;C<s;C++){const E=f[h+C*gr.THUMBNAIL_SCALE_FACTOR]&255;c[y+C]=4278190080|E*65793}h+=this.dataWidth*gr.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/gr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/gr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,l){const c=this.yuvData;for(let f=0,h=this.top*this.dataWidth+this.left;f<l;f++,h+=this.dataWidth){const m=h+s/2;for(let y=h,C=h+s-1;y<m;y++,C--){const E=c[y];c[y]=c[C],c[C]=E}}}invert(){return new xe(this)}}gr.THUMBNAIL_SCALE_FACTOR=2;class $c extends ue{constructor(s,l,c,f,h,m,y){if(super(l,c),this.dataWidth=f,this.dataHeight=h,this.left=m,this.top=y,s.BYTES_PER_ELEMENT===4){const C=l*c,E=new Uint8ClampedArray(C);for(let T=0;T<C;T++){const F=s[T],H=F>>16&255,Z=F>>7&510,z=F&255;E[T]=(H+Z+z)/4&255}this.luminances=E}else this.luminances=s;if(f===void 0&&(this.dataWidth=l),h===void 0&&(this.dataHeight=c),m===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+c>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(s,l){if(s<0||s>=this.getHeight())throw new N("Requested row is outside the image: "+s);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,f,l,0,c),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.luminances;const c=s*l,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return O.arraycopy(this.luminances,h,f,0,c),f;for(let m=0;m<l;m++){const y=m*s;O.arraycopy(this.luminances,h,f,y,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,l,c,f){return new $c(this.luminances,c,f,this.dataWidth,this.dataHeight,this.left+s,this.top+l)}invert(){return new xe(this)}}class Gc extends V{static forName(s){return this.getCharacterSetECIByName(s)}}class Sl{}Sl.ISO_8859_1=V.ISO8859_1;class Al{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class jl{static singletonList(s){return[s]}static min(s,l){return s.sort(l)[0]}}class Yd{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Ta extends Yd{constructor(s,l,c){super(s),this.value=l,this.bitCount=c}appendTo(s,l){s.appendBits(this.value,this.bitCount)}add(s,l){return new Ta(this,s,l)}addBinaryShift(s,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ta(this,s,l)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+I.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Do extends Ta{constructor(s,l,c){super(s,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=c}appendTo(s,l){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):c===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(l[this.binaryShiftStart+c],8)}addBinaryShift(s,l){return new Do(this,s,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Xc(P,s,l){return new Do(P,s,l)}function Io(P,s,l){return new Ta(P,s,l)}const $d=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],On=0,Da=1,ur=2,Qc=3,ds=4,_p=new Ta(null,0,0),Kc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function Sp(P){for(let s of P)j.fill(s,-1);return P[On][ds]=0,P[Da][ds]=0,P[Da][On]=28,P[Qc][ds]=0,P[ur][ds]=0,P[ur][On]=15,P}const Gd=Sp(j.createInt32Array(6,6));class Is{constructor(s,l,c,f){this.token=s,this.mode=l,this.binaryShiftByteCount=c,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,l){let c=this.bitCount,f=this.token;if(s!==this.mode){let m=Kc[this.mode][s];f=Io(f,m&65535,m>>16),c+=m>>16}let h=s===ur?4:5;return f=Io(f,l,h),new Is(f,s,0,c+h)}shiftAndAppend(s,l){let c=this.token,f=this.mode===ur?4:5;return c=Io(c,Gd[this.mode][s],f),c=Io(c,l,5),new Is(c,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(s){let l=this.token,c=this.mode,f=this.bitCount;if(this.mode===ds||this.mode===ur){let y=Kc[c][On];l=Io(l,y&65535,y>>16),f+=y>>16,c=On}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new Is(l,c,this.binaryShiftByteCount+1,f+h);return m.binaryShiftByteCount===2047+31&&(m=m.endBinaryShift(s+1)),m}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=Xc(l,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Is(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let l=this.bitCount+(Kc[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?l+=Is.calculateBinaryShiftCost(s)-Is.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(l+=10),l<=s.bitCount}toBitArray(s){let l=[];for(let f=this.endBinaryShift(s.length).token;f!==null;f=f.getPrevious())l.unshift(f);let c=new W;for(const f of l)f.appendTo(c,s);return c}toString(){return J.format("%s bits=%d bytes=%d",$d[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Is.INITIAL_STATE=new Is(_p,On,0,0);function Ia(P){const s=J.getCharCode(" "),l=J.getCharCode("."),c=J.getCharCode(",");P[On][s]=1;const f=J.getCharCode("Z"),h=J.getCharCode("A");for(let H=h;H<=f;H++)P[On][H]=H-h+2;P[Da][s]=1;const m=J.getCharCode("z"),y=J.getCharCode("a");for(let H=y;H<=m;H++)P[Da][H]=H-y+2;P[ur][s]=1;const C=J.getCharCode("9"),E=J.getCharCode("0");for(let H=E;H<=C;H++)P[ur][H]=H-E+2;P[ur][c]=12,P[ur][l]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let H=0;H<T.length;H++)P[Qc][J.getCharCode(T[H])]=H;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let H=0;H<F.length;H++)J.getCharCode(F[H])>0&&(P[ds][J.getCharCode(F[H])]=H);return P}const Zc=Ia(j.createInt32Array(5,256));class Ro{constructor(s){this.text=s}encode(){const s=J.getCharCode(" "),l=J.getCharCode(`
`);let c=jl.singletonList(Is.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let m,y=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case J.getCharCode("\r"):m=y===l?2:0;break;case J.getCharCode("."):m=y===s?3:0;break;case J.getCharCode(","):m=y===s?4:0;break;case J.getCharCode(":"):m=y===s?5:0;break;default:m=0}m>0?(c=Ro.updateStateListForPair(c,h,m),h++):c=this.updateStateListForChar(c,h)}return jl.min(c,(h,m)=>h.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,l){const c=[];for(let f of s)this.updateStateForChar(f,l,c);return Ro.simplifyStates(c)}updateStateForChar(s,l,c){let f=this.text[l]&255,h=Zc[s.getMode()][f]>0,m=null;for(let y=0;y<=ds;y++){let C=Zc[y][f];if(C>0){if(m==null&&(m=s.endBinaryShift(l)),!h||y===s.getMode()||y===ur){const E=m.latchAndAppend(y,C);c.push(E)}if(!h&&Gd[s.getMode()][y]>=0){const E=m.shiftAndAppend(y,C);c.push(E)}}}if(s.getBinaryShiftByteCount()>0||Zc[s.getMode()][f]===0){let y=s.addBinaryShiftChar(l);c.push(y)}}static updateStateListForPair(s,l,c){const f=[];for(let h of s)this.updateStateForPair(h,l,c,f);return this.simplifyStates(f)}static updateStateForPair(s,l,c,f){let h=s.endBinaryShift(l);if(f.push(h.latchAndAppend(ds,c)),s.getMode()!==ds&&f.push(h.shiftAndAppend(ds,c)),c===3||c===4){let m=h.latchAndAppend(ur,16-c).latchAndAppend(ur,1);f.push(m)}if(s.getBinaryShiftByteCount()>0){let m=s.addBinaryShiftChar(l).addBinaryShiftChar(l+1);f.push(m)}}static simplifyStates(s){let l=[];for(const c of s){let f=!0;for(const h of l){if(h.isBetterThanOrEqualTo(c)){f=!1;break}c.isBetterThanOrEqualTo(h)&&(l=l.filter(m=>m!==h))}f&&l.push(c)}return l}}class _t{constructor(){}static encodeBytes(s){return _t.encode(s,_t.DEFAULT_EC_PERCENT,_t.DEFAULT_AZTEC_LAYERS)}static encode(s,l,c){let f=new Ro(s).encode(),h=I.truncDivision(f.getSize()*l,100)+11,m=f.getSize()+h,y,C,E,T,F;if(c!==_t.DEFAULT_AZTEC_LAYERS){if(y=c<0,C=Math.abs(c),C>(y?_t.MAX_NB_BITS_COMPACT:_t.MAX_NB_BITS))throw new N(J.format("Illegal value %s for layers",c));E=_t.totalBitsInLayer(C,y),T=_t.WORD_SIZE[C];let ve=E-E%T;if(F=_t.stuffBits(f,T),F.getSize()+h>ve)throw new N("Data to large for user specified layer");if(y&&F.getSize()>T*64)throw new N("Data to large for user specified layer")}else{T=0,F=null;for(let ve=0;;ve++){if(ve>_t.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(y=ve<=3,C=y?ve+1:ve,E=_t.totalBitsInLayer(C,y),m>E)continue;(F==null||T!==_t.WORD_SIZE[C])&&(T=_t.WORD_SIZE[C],F=_t.stuffBits(f,T));let Ge=E-E%T;if(!(y&&F.getSize()>T*64)&&F.getSize()+h<=Ge)break}}let H=_t.generateCheckWords(F,E,T),Z=F.getSize()/T,z=_t.generateModeMessage(y,C,Z),$=(y?11:14)+C*4,X=new Int32Array($),ne;if(y){ne=$;for(let ve=0;ve<X.length;ve++)X[ve]=ve}else{ne=$+1+2*I.truncDivision(I.truncDivision($,2)-1,15);let ve=I.truncDivision($,2),Ge=I.truncDivision(ne,2);for(let ht=0;ht<ve;ht++){let Sr=ht+I.truncDivision(ht,15);X[ve-ht-1]=Ge-Sr-1,X[ve+ht]=Ge+Sr+1}}let he=new ke(ne);for(let ve=0,Ge=0;ve<C;ve++){let ht=(C-ve)*4+(y?9:12);for(let Sr=0;Sr<ht;Sr++){let bn=Sr*2;for(let sr=0;sr<2;sr++)H.get(Ge+bn+sr)&&he.set(X[ve*2+sr],X[ve*2+Sr]),H.get(Ge+ht*2+bn+sr)&&he.set(X[ve*2+Sr],X[$-1-ve*2-sr]),H.get(Ge+ht*4+bn+sr)&&he.set(X[$-1-ve*2-sr],X[$-1-ve*2-Sr]),H.get(Ge+ht*6+bn+sr)&&he.set(X[$-1-ve*2-Sr],X[ve*2+sr])}Ge+=ht*8}if(_t.drawModeMessage(he,y,ne,z),y)_t.drawBullsEye(he,I.truncDivision(ne,2),5);else{_t.drawBullsEye(he,I.truncDivision(ne,2),7);for(let ve=0,Ge=0;ve<I.truncDivision($,2)-1;ve+=15,Ge+=16)for(let ht=I.truncDivision(ne,2)&1;ht<ne;ht+=2)he.set(I.truncDivision(ne,2)-Ge,ht),he.set(I.truncDivision(ne,2)+Ge,ht),he.set(ht,I.truncDivision(ne,2)-Ge),he.set(ht,I.truncDivision(ne,2)+Ge)}let me=new Al;return me.setCompact(y),me.setSize(ne),me.setLayers(C),me.setCodeWords(Z),me.setMatrix(he),me}static drawBullsEye(s,l,c){for(let f=0;f<c;f+=2)for(let h=l-f;h<=l+f;h++)s.set(h,l-f),s.set(h,l+f),s.set(l-f,h),s.set(l+f,h);s.set(l-c,l-c),s.set(l-c+1,l-c),s.set(l-c,l-c+1),s.set(l+c,l-c),s.set(l+c,l-c+1),s.set(l+c,l+c-1)}static generateModeMessage(s,l,c){let f=new W;return s?(f.appendBits(l-1,2),f.appendBits(c-1,6),f=_t.generateCheckWords(f,28,4)):(f.appendBits(l-1,5),f.appendBits(c-1,11),f=_t.generateCheckWords(f,40,4)),f}static drawModeMessage(s,l,c,f){let h=I.truncDivision(c,2);if(l)for(let m=0;m<7;m++){let y=h-3+m;f.get(m)&&s.set(y,h-5),f.get(m+7)&&s.set(h+5,y),f.get(20-m)&&s.set(y,h+5),f.get(27-m)&&s.set(h-5,y)}else for(let m=0;m<10;m++){let y=h-5+m+I.truncDivision(m,5);f.get(m)&&s.set(y,h-7),f.get(m+10)&&s.set(h+7,y),f.get(29-m)&&s.set(y,h+7),f.get(39-m)&&s.set(h-7,y)}}static generateCheckWords(s,l,c){let f=s.getSize()/c,h=new To(_t.getGF(c)),m=I.truncDivision(l,c),y=_t.bitsToWords(s,c,m);h.encode(y,m-f);let C=l%c,E=new W;E.appendBits(0,C);for(const T of Array.from(y))E.appendBits(T,c);return E}static bitsToWords(s,l,c){let f=new Int32Array(c),h,m;for(h=0,m=s.getSize()/l;h<m;h++){let y=0;for(let C=0;C<l;C++)y|=s.get(h*l+C)?1<<l-C-1:0;f[h]=y}return f}static getGF(s){switch(s){case 4:return Ce.AZTEC_PARAM;case 6:return Ce.AZTEC_DATA_6;case 8:return Ce.AZTEC_DATA_8;case 10:return Ce.AZTEC_DATA_10;case 12:return Ce.AZTEC_DATA_12;default:throw new N("Unsupported word size "+s)}}static stuffBits(s,l){let c=new W,f=s.getSize(),h=(1<<l)-2;for(let m=0;m<f;m+=l){let y=0;for(let C=0;C<l;C++)(m+C>=f||s.get(m+C))&&(y|=1<<l-1-C);(y&h)===h?(c.appendBits(y&h,l),m--):y&h?c.appendBits(y,l):(c.appendBits(y|1,l),m--)}return c}static totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}_t.DEFAULT_EC_PERCENT=33,_t.DEFAULT_AZTEC_LAYERS=0,_t.MAX_NB_BITS=32,_t.MAX_NB_BITS_COMPACT=4,_t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Oo{encode(s,l,c,f){return this.encodeWithHints(s,l,c,f,null)}encodeWithHints(s,l,c,f,h){let m=Sl.ISO_8859_1,y=_t.DEFAULT_EC_PERCENT,C=_t.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(wn.CHARACTER_SET)&&(m=Gc.forName(h.get(wn.CHARACTER_SET).toString())),h.has(wn.ERROR_CORRECTION)&&(y=I.parseInt(h.get(wn.ERROR_CORRECTION).toString())),h.has(wn.AZTEC_LAYERS)&&(C=I.parseInt(h.get(wn.AZTEC_LAYERS).toString()))),Oo.encodeLayers(s,l,c,f,m,y,C)}static encodeLayers(s,l,c,f,h,m,y){if(l!==_e.AZTEC)throw new N("Can only encode AZTEC, but got "+l);let C=_t.encode(J.getBytes(s,h),m,y);return Oo.renderResult(C,c,f)}static renderResult(s,l,c){let f=s.getMatrix();if(f==null)throw new It;let h=f.getWidth(),m=f.getHeight(),y=Math.max(l,h),C=Math.max(c,m),E=Math.min(y/h,C/m),T=(y-h*E)/2,F=(C-m*E)/2,H=new ke(y,C);for(let Z=0,z=F;Z<m;Z++,z+=E)for(let $=0,X=T;$<h;$++,X+=E)f.get($,Z)&&H.setRegion(X,z,E,E);return H}}n.AbstractExpandedDecoder=Bc,n.ArgumentException=w,n.ArithmeticException=Wt,n.AztecCode=Al,n.AztecCodeReader=Ss,n.AztecCodeWriter=Oo,n.AztecDecoder=ze,n.AztecDetector=as,n.AztecDetectorResult=Qn,n.AztecEncoder=_t,n.AztecHighLevelEncoder=Ro,n.AztecPoint=hn,n.BarcodeFormat=_e,n.Binarizer=A,n.BinaryBitmap=_,n.BitArray=W,n.BitMatrix=ke,n.BitSource=bl,n.BrowserAztecCodeReader=Fi,n.BrowserBarcodeReader=Ld,n.BrowserCodeReader=Ae,n.BrowserDatamatrixCodeReader=Pd,n.BrowserMultiFormatReader=Gr,n.BrowserPDF417Reader=Np,n.BrowserQRCodeReader=Vd,n.BrowserQRCodeSvgWriter=qi,n.CharacterSetECI=V,n.ChecksumException=k,n.Code128Reader=Oe,n.Code39Reader=on,n.DataMatrixDecodedBitStreamParser=Ts,n.DataMatrixReader=cs,n.DecodeHintType=B,n.DecoderResult=qt,n.DefaultGridSampler=an,n.DetectorResult=vn,n.EAN13Reader=xi,n.EncodeHintType=wn,n.Exception=v,n.FormatException=R,n.GenericGF=Ce,n.GenericGFPoly=Vt,n.GlobalHistogramBinarizer=Ee,n.GridSampler=et,n.GridSamplerInstance=Kt,n.HTMLCanvasElementLuminanceSource=Me,n.HybridBinarizer=ge,n.ITFReader=Tt,n.IllegalArgumentException=N,n.IllegalStateException=It,n.InvertedLuminanceSource=xe,n.LuminanceSource=ue,n.MathUtils=Qe,n.MultiFormatOneDReader=zi,n.MultiFormatReader=qd,n.MultiFormatWriter=_l,n.NotFoundException=se,n.OneDReader=sn,n.PDF417DecodedBitStreamParser=fe,n.PDF417DecoderErrorCorrection=Bd,n.PDF417Reader=Zn,n.PDF417ResultMetadata=Vc,n.PerspectiveTransform=Rt,n.PlanarYUVLuminanceSource=gr,n.QRCodeByteMatrix=us,n.QRCodeDataMask=Er,n.QRCodeDecodedBitStreamParser=un,n.QRCodeDecoderErrorCorrectionLevel=Jt,n.QRCodeDecoderFormatInformation=nr,n.QRCodeEncoder=cn,n.QRCodeEncoderQRCode=Zs,n.QRCodeMaskUtil=dt,n.QRCodeMatrixUtil=st,n.QRCodeMode=rt,n.QRCodeReader=gi,n.QRCodeVersion=Je,n.QRCodeWriter=Vi,n.RGBLuminanceSource=$c,n.RSS14Reader=pn,n.RSSExpandedReader=Ne,n.ReaderException=cr,n.ReedSolomonDecoder=ye,n.ReedSolomonEncoder=To,n.ReedSolomonException=Ke,n.Result=Xe,n.ResultMetadataType=at,n.ResultPoint=je,n.StringUtils=J,n.UnsupportedOperationException=te,n.VideoInputDevice=Ve,n.WhiteRectangleDetector=Le,n.WriterException=en,n.ZXingArrays=j,n.ZXingCharset=Gc,n.ZXingInteger=I,n.ZXingStandardCharsets=Sl,n.ZXingStringBuilder=oe,n.ZXingStringEncoding=ce,n.ZXingSystem=O,n.createAbstractExpandedDecoder=Md,Object.defineProperty(n,"__esModule",{value:!0})})})(Dx,Dx.exports);var xn=Dx.exports;const iL=Ah(xn),aL=w3({__proto__:null,default:iL},[xn]);var Cb=function(){function e(t,n,r){if(this.formatMap=new Map([[qe.QR_CODE,xn.BarcodeFormat.QR_CODE],[qe.AZTEC,xn.BarcodeFormat.AZTEC],[qe.CODABAR,xn.BarcodeFormat.CODABAR],[qe.CODE_39,xn.BarcodeFormat.CODE_39],[qe.CODE_93,xn.BarcodeFormat.CODE_93],[qe.CODE_128,xn.BarcodeFormat.CODE_128],[qe.DATA_MATRIX,xn.BarcodeFormat.DATA_MATRIX],[qe.MAXICODE,xn.BarcodeFormat.MAXICODE],[qe.ITF,xn.BarcodeFormat.ITF],[qe.EAN_13,xn.BarcodeFormat.EAN_13],[qe.EAN_8,xn.BarcodeFormat.EAN_8],[qe.PDF_417,xn.BarcodeFormat.PDF_417],[qe.RSS_14,xn.BarcodeFormat.RSS_14],[qe.RSS_EXPANDED,xn.BarcodeFormat.RSS_EXPANDED],[qe.UPC_A,xn.BarcodeFormat.UPC_A],[qe.UPC_E,xn.BarcodeFormat.UPC_E],[qe.UPC_EAN_EXTENSION,xn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!aL)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),o=new Map;o.set(xn.DecodeHintType.POSSIBLE_FORMATS,i),o.set(xn.DecodeHintType.TRY_HARDER,!1),this.hints=o}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(o){i(o)}})},e.prototype.decode=function(t){var n=new xn.MultiFormatReader(this.verbose,this.hints),r=new xn.HTMLCanvasElementLuminanceSource(t),i=new xn.BinaryBitmap(new xn.HybridBinarizer(r)),o=n.decode(i);return{text:o.text,format:uE.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),oL=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function x(w){try{v(r.next(w))}catch(N){d(N)}}function g(w){try{v(r.throw(w))}catch(N){d(N)}}function v(w){w.done?o(w.value):i(w.value).then(x,g)}v((r=r.apply(e,t||[])).next())})},lL=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(v){return function(w){return g([v,w])}}function g(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(o=v[0]&2?i.return:v[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,v[1])).done)return o;switch(i=0,o&&(v=[v[0]&2,o.value]),v[0]){case 0:case 1:o=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!o||v[1]>o[0]&&v[1]<o[3])){n.label=v[1];break}if(v[0]===6&&n.label<o[1]){n.label=o[1],o=v;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(v);break}o[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=o=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Nb=function(){function e(t,n,r){if(this.formatMap=new Map([[qe.QR_CODE,"qr_code"],[qe.AZTEC,"aztec"],[qe.CODABAR,"codabar"],[qe.CODE_39,"code_39"],[qe.CODE_93,"code_93"],[qe.CODE_128,"code_128"],[qe.DATA_MATRIX,"data_matrix"],[qe.ITF,"itf"],[qe.EAN_13,"ean_13"],[qe.EAN_8,"ean_8"],[qe.PDF_417,"pdf417"],[qe.UPC_A,"upc_a"],[qe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return oL(this,void 0,void 0,function(){var n,r;return lL(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:uE.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,o=t;i<o.length;i++){var d=o[i],x=d.boundingBox.width*d.boundingBox.height;x>r&&(r=x,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Eb=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function x(w){try{v(r.next(w))}catch(N){d(N)}}function g(w){try{v(r.throw(w))}catch(N){d(N)}}function v(w){w.done?o(w.value):i(w.value).then(x,g)}v((r=r.apply(e,t||[])).next())})},_b=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(v){return function(w){return g([v,w])}}function g(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(o=v[0]&2?i.return:v[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,v[1])).done)return o;switch(i=0,o&&(v=[v[0]&2,o.value]),v[0]){case 0:case 1:o=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!o||v[1]>o[0]&&v[1]<o[3])){n.label=v[1];break}if(v[0]===6&&n.label<o[1]){n.label=o[1],o=v;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(v);break}o[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=o=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},cL=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Nb.isSupported()?(this.primaryDecoder=new Nb(t,r,i),this.secondaryDecoder=new Cb(t,r,i)):this.primaryDecoder=new Cb(t,r,i)}return e.prototype.decodeAsync=function(t){return Eb(this,void 0,void 0,function(){var n;return _b(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Eb(this,void 0,void 0,function(){var n,r;return _b(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var o=t/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),h2=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ph=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function x(w){try{v(r.next(w))}catch(N){d(N)}}function g(w){try{v(r.throw(w))}catch(N){d(N)}}function v(w){w.done?o(w.value):i(w.value).then(x,g)}v((r=r.apply(e,t||[])).next())})},mh=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(v){return function(w){return g([v,w])}}function g(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(o=v[0]&2?i.return:v[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,v[1])).done)return o;switch(i=0,o&&(v=[v[0]&2,o.value]),v[0]){case 0:case 1:o=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!o||v[1]>o[0]&&v[1]<o[3])){n.label=v[1];break}if(v[0]===6&&n.label<o[1]){n.label=o[1],o=v;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(v);break}o[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=o=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},fE=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),uL=function(e){h2(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(fE),dL=function(e){h2(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(uL),fL=function(e){h2(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(fE),hL=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new dL(this.track)},e.prototype.torchFeature=function(){return new fL(this.track)},e}(),pL=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return ph(this,void 0,void 0,function(){var o,d;return mh(this,function(x){switch(x.label){case 0:return o=new e(t,n,i),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:x.sent(),x.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return ph(this,void 0,void 0,function(){return mh(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),o=i.length,d=0;t.mediaStream.getVideoTracks().forEach(function(x){t.mediaStream.removeTrack(x),x.stop(),++d,d>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new hL(this.getFirstTrackOrFail())},e}(),mL=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return ph(this,void 0,void 0,function(){return mh(this,function(i){return[2,pL.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return ph(this,void 0,void 0,function(){var n,r;return mh(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),Sb=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function x(w){try{v(r.next(w))}catch(N){d(N)}}function g(w){try{v(r.throw(w))}catch(N){d(N)}}function v(w){w.done?o(w.value):i(w.value).then(x,g)}v((r=r.apply(e,t||[])).next())})},Ab=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(v){return function(w){return g([v,w])}}function g(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(o=v[0]&2?i.return:v[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,v[1])).done)return o;switch(i=0,o&&(v=[v[0]&2,o.value]),v[0]){case 0:case 1:o=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!o||v[1]>o[0]&&v[1]<o[3])){n.label=v[1];break}if(v[0]===6&&n.label<o[1]){n.label=o[1],o=v;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(v);break}o[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=o=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},xL=function(){function e(){}return e.failIfNotSupported=function(){return Sb(this,void 0,void 0,function(){return Ab(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Sb(this,void 0,void 0,function(){return Ab(this,function(n){return[2,mL.create(t)]})})},e}(),gL=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function x(w){try{v(r.next(w))}catch(N){d(N)}}function g(w){try{v(r.throw(w))}catch(N){d(N)}}function v(w){w.done?o(w.value):i(w.value).then(x,g)}v((r=r.apply(e,t||[])).next())})},vL=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(v){return function(w){return g([v,w])}}function g(v){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(r=1,i&&(o=v[0]&2?i.return:v[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,v[1])).done)return o;switch(i=0,o&&(v=[v[0]&2,o.value]),v[0]){case 0:case 1:o=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,i=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!o||v[1]>o[0]&&v[1]<o[3])){n.label=v[1];break}if(v[0]===6&&n.label<o[1]){n.label=o[1],o=v;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(v);break}o[2]&&n.ops.pop(),n.trys.pop();continue}v=t.call(e,n)}catch(w){v=[6,w],i=0}finally{r=o=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},yL=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Jl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Jl.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return gL(this,void 0,void 0,function(){var t,n,r,i,o,d,x;return vL(this,function(g){switch(g.label){case 0:return t=function(v){for(var w=v.getVideoTracks(),N=0,_=w;N<_.length;N++){var k=_[N];k.enabled=!1,k.stop(),v.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=g.sent(),i=[],o=0,d=r;o<d.length;o++)x=d[o],x.kind==="videoinput"&&i.push({id:x.deviceId,label:x.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(o){for(var d=[],x=0,g=o;x<g.length;x++){var v=g[x];v.kind==="video"&&d.push({id:v.id,label:v.label})}t(d)},i=MediaStreamTrack;i.getSources(r)})},e}(),Ln;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Ln||(Ln={}));var wL=function(){function e(){this.state=Ln.NOT_STARTED,this.onGoingTransactionNewState=Ln.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ln.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ln.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ln.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ln.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ln.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Ln.UNKNOWN:throw"Transition from unknown is not allowed";case Ln.NOT_STARTED:this.failIfNewStateIs(t,[Ln.PAUSED]);break;case Ln.SCANNING:break;case Ln.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];if(t===o)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),bL=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ln.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ln.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ln.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ln.PAUSED},e}(),CL=function(){function e(){}return e.create=function(){return new bL(new wL)},e}(),NL=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xs=function(e){NL(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(nL),EL=function(){function e(t,n){this.logger=n,this.fps=xs.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=xs.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?dE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ra(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),_L=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new sL(this.verbose),this.qrcode=new cL(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=CL.create()}return e.prototype.start=function(t,n,r,i){var o=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;i?d=i:d=this.verbose?this.logger.log:function(){};var x=EL.create(n,this.logger);this.clearElement();var g=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=g,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:xs.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var N=this,_=this.stateManagerProxy.startTransition(Ln.SCANNING);return new Promise(function(k,A){var O=v?x.videoConstraints:N.createVideoConstraints(t);if(!O){_.cancel(),A("videoConstraints should be defined");return}var L={};(!v||x.aspectRatio)&&(L.aspectRatio=x.aspectRatio);var D={onRenderSurfaceReady:function(j,I){N.setupUi(j,I,x),N.isScanning=!0,N.foreverScan(x,r,d)}};xL.failIfNotSupported().then(function(j){j.create(O).then(function(I){return I.render(o.element,L,D).then(function(W){N.renderedCamera=W,_.execute(),k(null)}).catch(function(W){_.cancel(),A(W)})}).catch(function(I){_.cancel(),A(Jl.errorGettingUserMedia(I))})}).catch(function(j){_.cancel(),A(Jl.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ln.PAUSED),this.showPausedState(),(ra(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Ln.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Ln.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var o=document.getElementById(xs.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ra(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var x=d.width,g=d.height,v=document.getElementById(r.elementId),w=v.clientWidth?v.clientWidth:xs.DEFAULT_WIDTH,N=Math.max(v.clientHeight?v.clientHeight:g,xs.FILE_SCAN_MIN_HEIGHT),_=r.computeCanvasDrawConfig(x,g,w,N);if(n){var k=r.createCanvasElement(w,N,"qr-canvas-visible");k.style.display="inline-block",v.appendChild(k);var A=k.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=w,A.canvas.height=N,A.drawImage(d,0,0,x,g,_.x,_.y,_.width,_.height)}var O=xs.FILE_SCAN_HIDDEN_CANVAS_PADDING,L=Math.max(d.width,_.width),D=Math.max(d.height,_.height),j=L+2*O,I=D+2*O,W=r.createCanvasElement(j,I);v.appendChild(W);var Q=W.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=j,Q.canvas.height=I,Q.drawImage(d,0,0,x,g,O,O,L,D);try{r.qrcode.decodeRobustlyAsync(W).then(function(B){i(bb.createFromQrcodeResult(B))}).catch(o)}catch(B){o("QR code parse error, error = ".concat(B))}},d.onerror=o,d.onabort=o,d.onstalled=o,d.onsuspend=o,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return yL.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!dE.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[qe.QR_CODE,qe.AZTEC,qe.CODABAR,qe.CODE_39,qe.CODE_93,qe.CODE_128,qe.DATA_MATRIX,qe.MAXICODE,qe.ITF,qe.EAN_13,qe.EAN_8,qe.PDF_417,qe.RSS_14,qe.RSS_EXPANDED,qe.UPC_A,qe.UPC_E,qe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,o=t.formatsToSupport;i<o.length;i++){var d=o[i];tL(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ra(t))return!0;if(!ra(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ra(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ra(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,o=r.qrbox;this.validateQrboxConfig(o);var d=this.toQrdimensions(t,n,o),x=function(v){if(v<xs.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(xs.MIN_QR_BOX_SIZE,"px.")},g=function(v){return v>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=t),v};x(d.width),x(d.height),d.width=g(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=ra(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,n,i);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&o.height<=n,x={x:0,y:0,width:t,height:n},g=d?this.getShadedRegionBounds(t,n,o):x,v=this.createCanvasElement(g.width,g.height),w={willReadFrequently:!0},N=v.getContext("2d",w);N.canvas.width=g.width,N.canvas.height=g.height,this.element.append(v),d&&this.possiblyInsertShadingElement(this.element,t,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=N,this.canvasElement=v},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Jl.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,bb.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var o=Jl.codeParseError(i);return n(o,rL.createFrom(o)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),d=o.videoWidth/o.clientWidth,x=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*d,v=this.qrRegion.height*x,w=this.qrRegion.x*d,N=this.qrRegion.y*x;this.context.drawImage(o,w,N,g,v,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(k){!k&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){_()})):_()}).catch(function(k){i.logger.logError("Error happend while scanning context",k),_()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},o="exact",d=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},x=Object.keys(t);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var g=Object.keys(t)[0];if(g!==n&&g!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(g===n){var v=t.facingMode;if(typeof v=="string"){if(d(v))return{facingMode:v}}else if(typeof v=="object")if(o in v){if(d(v["".concat(o)]))return{facingMode:{exact:v["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var w=typeof v;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var N=t.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(o in N)return{deviceId:{exact:N["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var _=typeof N;throw"Invalid type of 'deviceId' = ".concat(_)}}}var k=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var o=(r-t)/2,d=(i-n)/2;return{x:o,y:d,width:t,height:n}}else{var x=t,g=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(g)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?xs.BORDER_SHADER_MATCH_COLOR:xs.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,o=n,d=document.createElement("canvas");return d.style.width="".concat(i,"px"),d.style.height="".concat(o,"px"),d.style.display="none",d.id=ra(r)?"qr-canvas":r,d},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var o=document.createElement("div");o.style.position="absolute";var d=(n-i.width)/2,x=(r-i.height)/2;if(o.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(xs.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var g=5,v=40;this.insertShaderBorders(o,v,g,-g,null,0,!0),this.insertShaderBorders(o,v,g,-g,null,0,!1),this.insertShaderBorders(o,v,g,null,-g,0,!0),this.insertShaderBorders(o,v,g,null,-g,0,!1),this.insertShaderBorders(o,g,v+g,-g,null,-g,!0),this.insertShaderBorders(o,g,v+g,null,-g,-g,!0),this.insertShaderBorders(o,g,v+g,-g,null,-g,!1),this.insertShaderBorders(o,g,v+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(o)}},e.prototype.insertShaderBorders=function(t,n,r,i,o,d,x){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=xs.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(n,"px"),g.style.height="".concat(r,"px"),i!==null&&(g.style.top="".concat(i,"px")),o!==null&&(g.style.bottom="".concat(o,"px")),x?g.style.left="".concat(d,"px"):g.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var jb;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(jb||(jb={}));const hE=({onScan:e,onError:t=i=>console.error(i),isOpen:n,onClose:r})=>{const[i,o]=M.useState(!1),[d,x]=M.useState(""),g=M.useRef(null),v=M.useRef(null);M.useEffect(()=>(n&&!i&&w(),()=>{N()}),[n]);const w=async()=>{if(g.current)try{const k=new _L("scanner");v.current=k;const A={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[1,2,3,4,5,6,7,8,9,10,11,12]};await k.start({facingMode:"environment"},A,O=>{e(O),N(),r()},O=>{console.log(O)}),o(!0)}catch(k){console.error("Error starting scanner:",k);let A="",O="";k.name==="NotFoundError"||k.message&&k.message.includes("Requested device not found")?(A="No camera found. Please make sure your device has a camera and you have granted permission to use it.",O="No camera detected. You can manually enter the barcode value instead.",tt.error(O,{icon:"📷❌",toastId:"camera-not-found"})):k.name==="NotAllowedError"||k.message&&k.message.includes("Permission denied")?(A="Camera access denied. Please grant permission to use your camera.",O="Camera access denied. Please check your browser permissions.",tt.error(O,{icon:"🔒",toastId:"camera-permission-denied"})):(A=k&&k.message?k.message:"Failed to start scanner",tt.error("Failed to start barcode scanner. Please try again later.",{toastId:"scanner-error"})),x(A),t(A),r()}},N=async()=>{if(v.current&&i)try{await v.current.stop(),o(!1)}catch(k){console.error("Error stopping scanner:",k)}},_=()=>{N(),r()};return n?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Scan Barcode"}),a.jsx("button",{onClick:_,className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"mb-4",children:a.jsx("div",{id:"scanner",ref:g,className:"w-full h-64 bg-gray-100 rounded flex items-center justify-center",children:d&&a.jsxs("div",{className:"text-center p-4",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-red-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsx("p",{className:"text-red-600 font-medium",children:d}),a.jsx("p",{className:"text-gray-600 mt-2",children:"You can manually enter the barcode value instead."})]})})}),a.jsx("div",{className:"text-sm text-gray-500 mb-4",children:d?"To use the barcode scanner, you need a device with a camera and permission to access it.":"Position the barcode within the scanner area. The scanner will automatically detect and process the code."}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:_,className:"btn btn-outline",children:"Cancel"})})]})}):null};hE.propTypes={onScan:ie.func.isRequired,onError:ie.func,isOpen:ie.bool.isRequired,onClose:ie.func.isRequired};const pE=({id:e="",onScan:t,buttonText:n="",className:r=""})=>{const[i,o]=M.useState(!1),d=()=>{o(!0)},x=()=>{o(!1)},g=v=>{console.error("Scan error:",v)};return a.jsxs(a.Fragment,{children:[a.jsxs("button",{id:e,type:"button",onClick:d,className:`flex items-center justify-center px-3 py-1.5 text-sm font-medium rounded-md
          bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
          hover:border-primary-600 hover:shadow-sm transition-all ${r}`,title:"Scan Barcode",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),n&&a.jsx("span",{className:"ml-1 font-medium",children:n})]}),a.jsx(hE,{isOpen:i,onClose:x,onScan:t,onError:g})]})};pE.propTypes={id:ie.string,onScan:ie.func.isRequired,buttonText:ie.string,className:ie.string};const mE=({id:e,name:t,type:n="text",label:r,placeholder:i,value:o,onChange:d,onBlur:x,error:g,disabled:v=!1,required:w=!1,className:N="",onScan:_,...k})=>{const D=`
    rounded-l-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${g?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${v?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 px-3 text-sm
    w-full
    ${N}
  `,j=`barcode-scan-button-${e}`;return a.jsxs("div",{className:"w-full",children:[r&&a.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${g?"text-red-600":"text-slate-700"}`,children:[r,w&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("div",{className:"flex",style:{display:"flex",width:"100%"},children:[a.jsx("input",{id:e,name:t,type:n,value:o,onChange:d,onBlur:x,placeholder:i,disabled:v,required:w,className:D,style:{width:"calc(100% - 120px)"},...k}),a.jsxs("button",{type:"button",onClick:()=>{const I=document.getElementById(j);I&&I.click()},className:`w-[120px] bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
            hover:border-primary-600 hover:shadow-sm transition-all font-medium flex items-center
            justify-center rounded-r-md border-l-0`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Scan"]}),a.jsx("div",{style:{display:"none"},children:a.jsx(pE,{id:j,onScan:_})})]}),g&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:g})]})};mE.propTypes={id:ie.string.isRequired,name:ie.string.isRequired,type:ie.string,label:ie.string,placeholder:ie.string,value:ie.oneOfType([ie.string,ie.number]),onChange:ie.func,onBlur:ie.func,error:ie.string,disabled:ie.bool,required:ie.bool,className:ie.string,onScan:ie.func.isRequired};const ws=({id:e,name:t,label:n,value:r,onChange:i,onBlur:o,options:d=[],error:x,disabled:g=!1,required:v=!1,placeholder:w="Select an option",className:N="",..._})=>{const L=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none
    ${x?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900"}
    ${g?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 pl-3 pr-10 text-sm
    ${N}
  `;return a.jsxs("div",{className:"w-full",children:[n&&a.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${x?"text-red-600":"text-slate-700"}`,children:[n,v&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{id:e,name:t,value:r,onChange:i,onBlur:o,disabled:g,required:v,className:L,..._,children:[a.jsx("option",{value:"",children:w}),d.map(D=>a.jsx("option",{value:D.value||D,children:D.label||D},D.value||D))]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-slate-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),x&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:x})]})};ws.propTypes={id:ie.string.isRequired,name:ie.string.isRequired,label:ie.string,value:ie.string,onChange:ie.func,onBlur:ie.func,options:ie.arrayOf(ie.oneOfType([ie.string,ie.shape({value:ie.string.isRequired,label:ie.string.isRequired})])),error:ie.string,disabled:ie.bool,required:ie.bool,placeholder:ie.string,className:ie.string};const Fe=({children:e,className:t="",...n})=>a.jsx("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden ${t}`,...n,children:e}),xE=({children:e,className:t="",...n})=>a.jsx("div",{className:`px-6 py-4 border-b border-slate-200 ${t}`,...n,children:e}),gE=({children:e,className:t="",...n})=>a.jsx("h3",{className:`text-lg font-medium text-slate-800 ${t}`,...n,children:e}),vE=({children:e,className:t="",...n})=>a.jsx("div",{className:`p-6 ${t}`,...n,children:e}),yE=({children:e,className:t="",...n})=>a.jsx("div",{className:`px-6 py-4 bg-slate-50 border-t border-slate-200 ${t}`,...n,children:e});Fe.Header=xE;Fe.Title=gE;Fe.Body=vE;Fe.Footer=yE;Fe.propTypes={children:ie.node.isRequired,className:ie.string};xE.propTypes={children:ie.node.isRequired,className:ie.string};gE.propTypes={children:ie.node.isRequired,className:ie.string};vE.propTypes={children:ie.node.isRequired,className:ie.string};yE.propTypes={children:ie.node.isRequired,className:ie.string};const vs=({children:e,variant:t="primary",size:n="md",className:r="",...i})=>{const o="inline-flex items-center font-medium rounded-full",d={primary:"bg-primary-100 text-primary-800",secondary:"bg-slate-100 text-slate-800",success:"bg-green-100 text-green-800",danger:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",info:"bg-blue-100 text-blue-800"},x={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"},g=`
    ${o}
    ${d[t]||d.primary}
    ${x[n]||x.md}
    ${r}
  `;return a.jsx("span",{className:g,...i,children:e})};vs.propTypes={children:ie.node.isRequired,variant:ie.oneOf(["primary","secondary","success","danger","warning","info"]),size:ie.oneOf(["sm","md","lg"]),className:ie.string};function lp(){return typeof window<"u"}function Lc(e){return wE(e)?(e.nodeName||"").toLowerCase():"#document"}function Cs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pi(e){var t;return(t=(wE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wE(e){return lp()?e instanceof Node||e instanceof Cs(e).Node:!1}function Hr(e){return lp()?e instanceof Element||e instanceof Cs(e).Element:!1}function Mi(e){return lp()?e instanceof HTMLElement||e instanceof Cs(e).HTMLElement:!1}function kb(e){return!lp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cs(e).ShadowRoot}function Sd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Gs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function SL(e){return["table","td","th"].includes(Lc(e))}function cp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function p2(e){const t=m2(),n=Hr(e)?Gs(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function AL(e){let t=ho(e);for(;Mi(t)&&!Cc(t);){if(p2(t))return t;if(cp(t))return null;t=ho(t)}return null}function m2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cc(e){return["html","body","#document"].includes(Lc(e))}function Gs(e){return Cs(e).getComputedStyle(e)}function up(e){return Hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ho(e){if(Lc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kb(e)&&e.host||Pi(e);return kb(t)?t.host:t}function bE(e){const t=ho(e);return Cc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mi(t)&&Sd(t)?t:bE(t)}function hd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=bE(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),d=Cs(i);if(o){const x=Ix(d);return t.concat(d,d.visualViewport||[],Sd(i)?i:[],x&&n?hd(x):[])}return t.concat(i,hd(i,[],n))}function Ix(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Nc=Math.min,rl=Math.max,xh=Math.round,Xf=Math.floor,Oi=e=>({x:e,y:e}),jL={left:"right",right:"left",bottom:"top",top:"bottom"},kL={start:"end",end:"start"};function TL(e,t,n){return rl(e,Nc(t,n))}function dp(e,t){return typeof e=="function"?e(t):e}function Ec(e){return e.split("-")[0]}function Ad(e){return e.split("-")[1]}function DL(e){return e==="x"?"y":"x"}function x2(e){return e==="y"?"height":"width"}function oc(e){return["top","bottom"].includes(Ec(e))?"y":"x"}function g2(e){return DL(oc(e))}function IL(e,t,n){n===void 0&&(n=!1);const r=Ad(e),i=g2(e),o=x2(i);let d=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(d=gh(d)),[d,gh(d)]}function RL(e){const t=gh(e);return[Rx(e),t,Rx(t)]}function Rx(e){return e.replace(/start|end/g,t=>kL[t])}function OL(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:d;default:return[]}}function ML(e,t,n,r){const i=Ad(e);let o=OL(Ec(e),n==="start",r);return i&&(o=o.map(d=>d+"-"+i),t&&(o=o.concat(o.map(Rx)))),o}function gh(e){return e.replace(/left|right|bottom|top/g,t=>jL[t])}function LL(e){return{top:0,right:0,bottom:0,left:0,...e}}function CE(e){return typeof e!="number"?LL(e):{top:e,right:e,bottom:e,left:e}}function vh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var yh=typeof document<"u"?M.useLayoutEffect:M.useEffect;const PL={...Gx},FL=PL.useInsertionEffect,BL=FL||(e=>e());function UL(e){const t=M.useRef(()=>{});return BL(()=>{t.current=e}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function Tb(e,t,n){let{reference:r,floating:i}=e;const o=oc(t),d=g2(t),x=x2(d),g=Ec(t),v=o==="y",w=r.x+r.width/2-i.width/2,N=r.y+r.height/2-i.height/2,_=r[x]/2-i[x]/2;let k;switch(g){case"top":k={x:w,y:r.y-i.height};break;case"bottom":k={x:w,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:N};break;case"left":k={x:r.x-i.width,y:N};break;default:k={x:r.x,y:r.y}}switch(Ad(t)){case"start":k[d]-=_*(n&&v?-1:1);break;case"end":k[d]+=_*(n&&v?-1:1);break}return k}const zL=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:d}=n,x=o.filter(Boolean),g=await(d.isRTL==null?void 0:d.isRTL(t));let v=await d.getElementRects({reference:e,floating:t,strategy:i}),{x:w,y:N}=Tb(v,r,g),_=r,k={},A=0;for(let O=0;O<x.length;O++){const{name:L,fn:D}=x[O],{x:j,y:I,data:W,reset:Q}=await D({x:w,y:N,initialPlacement:r,placement:_,strategy:i,middlewareData:k,rects:v,platform:d,elements:{reference:e,floating:t}});w=j??w,N=I??N,k={...k,[L]:{...k[L],...W}},Q&&A<=50&&(A++,typeof Q=="object"&&(Q.placement&&(_=Q.placement),Q.rects&&(v=Q.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:i}):Q.rects),{x:w,y:N}=Tb(v,_,g)),O=-1)}return{x:w,y:N,placement:_,strategy:i,middlewareData:k}};async function WL(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:d,elements:x,strategy:g}=e,{boundary:v="clippingAncestors",rootBoundary:w="viewport",elementContext:N="floating",altBoundary:_=!1,padding:k=0}=dp(t,e),A=CE(k),L=x[_?N==="floating"?"reference":"floating":N],D=vh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(L)))==null||n?L:L.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(x.floating)),boundary:v,rootBoundary:w,strategy:g})),j=N==="floating"?{x:r,y:i,width:d.floating.width,height:d.floating.height}:d.reference,I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(x.floating)),W=await(o.isElement==null?void 0:o.isElement(I))?await(o.getScale==null?void 0:o.getScale(I))||{x:1,y:1}:{x:1,y:1},Q=vh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:x,rect:j,offsetParent:I,strategy:g}):j);return{top:(D.top-Q.top+A.top)/W.y,bottom:(Q.bottom-D.bottom+A.bottom)/W.y,left:(D.left-Q.left+A.left)/W.x,right:(Q.right-D.right+A.right)/W.x}}const HL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:d,elements:x,middlewareData:g}=t,{element:v,padding:w=0}=dp(e,t)||{};if(v==null)return{};const N=CE(w),_={x:n,y:r},k=g2(i),A=x2(k),O=await d.getDimensions(v),L=k==="y",D=L?"top":"left",j=L?"bottom":"right",I=L?"clientHeight":"clientWidth",W=o.reference[A]+o.reference[k]-_[k]-o.floating[A],Q=_[k]-o.reference[k],B=await(d.getOffsetParent==null?void 0:d.getOffsetParent(v));let R=B?B[I]:0;(!R||!await(d.isElement==null?void 0:d.isElement(B)))&&(R=x.floating[I]||o.floating[A]);const q=W/2-Q/2,V=R/2-O[A]/2-1,te=Nc(N[D],V),ce=Nc(N[j],V),J=te,oe=R-O[A]-ce,ke=R/2-O[A]/2+q,se=TL(J,ke,oe),Ee=!g.arrow&&Ad(i)!=null&&ke!==se&&o.reference[A]/2-(ke<J?te:ce)-O[A]/2<0,ge=Ee?ke<J?ke-J:ke-oe:0;return{[k]:_[k]+ge,data:{[k]:se,centerOffset:ke-se-ge,...Ee&&{alignmentOffset:ge}},reset:Ee}}}),qL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:d,initialPlacement:x,platform:g,elements:v}=t,{mainAxis:w=!0,crossAxis:N=!0,fallbackPlacements:_,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:O=!0,...L}=dp(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const D=Ec(i),j=oc(x),I=Ec(x)===x,W=await(g.isRTL==null?void 0:g.isRTL(v.floating)),Q=_||(I||!O?[gh(x)]:RL(x)),B=A!=="none";!_&&B&&Q.push(...ML(x,O,A,W));const R=[x,...Q],q=await WL(t,L),V=[];let te=((r=o.flip)==null?void 0:r.overflows)||[];if(w&&V.push(q[D]),N){const se=IL(i,d,W);V.push(q[se[0]],q[se[1]])}if(te=[...te,{placement:i,overflows:V}],!V.every(se=>se<=0)){var ce,J;const se=(((ce=o.flip)==null?void 0:ce.index)||0)+1,Ee=R[se];if(Ee){var oe;const ue=N==="alignment"?j!==oc(Ee):!1,xe=((oe=te[0])==null?void 0:oe.overflows[0])>0;if(!ue||xe)return{data:{index:se,overflows:te},reset:{placement:Ee}}}let ge=(J=te.filter(ue=>ue.overflows[0]<=0).sort((ue,xe)=>ue.overflows[1]-xe.overflows[1])[0])==null?void 0:J.placement;if(!ge)switch(k){case"bestFit":{var ke;const ue=(ke=te.filter(xe=>{if(B){const Me=oc(xe.placement);return Me===j||Me==="y"}return!0}).map(xe=>[xe.placement,xe.overflows.filter(Me=>Me>0).reduce((Me,Ve)=>Me+Ve,0)]).sort((xe,Me)=>xe[1]-Me[1])[0])==null?void 0:ke[0];ue&&(ge=ue);break}case"initialPlacement":ge=x;break}if(i!==ge)return{reset:{placement:ge}}}return{}}}};async function VL(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),d=Ec(n),x=Ad(n),g=oc(n)==="y",v=["left","top"].includes(d)?-1:1,w=o&&g?-1:1,N=dp(t,e);let{mainAxis:_,crossAxis:k,alignmentAxis:A}=typeof N=="number"?{mainAxis:N,crossAxis:0,alignmentAxis:null}:{mainAxis:N.mainAxis||0,crossAxis:N.crossAxis||0,alignmentAxis:N.alignmentAxis};return x&&typeof A=="number"&&(k=x==="end"?A*-1:A),g?{x:k*w,y:_*v}:{x:_*v,y:k*w}}const YL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:d,middlewareData:x}=t,g=await VL(t,e);return d===((n=x.offset)==null?void 0:n.placement)&&(r=x.arrow)!=null&&r.alignmentOffset?{}:{x:i+g.x,y:o+g.y,data:{...g,placement:d}}}}};function NE(e){const t=Gs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Mi(e),o=i?e.offsetWidth:n,d=i?e.offsetHeight:r,x=xh(n)!==o||xh(r)!==d;return x&&(n=o,r=d),{width:n,height:r,$:x}}function v2(e){return Hr(e)?e:e.contextElement}function lc(e){const t=v2(e);if(!Mi(t))return Oi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=NE(t);let d=(o?xh(n.width):n.width)/r,x=(o?xh(n.height):n.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!x||!Number.isFinite(x))&&(x=1),{x:d,y:x}}const $L=Oi(0);function EE(e){const t=Cs(e);return!m2()||!t.visualViewport?$L:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function GL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cs(e)?!1:t}function hl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=v2(e);let d=Oi(1);t&&(r?Hr(r)&&(d=lc(r)):d=lc(e));const x=GL(o,n,r)?EE(o):Oi(0);let g=(i.left+x.x)/d.x,v=(i.top+x.y)/d.y,w=i.width/d.x,N=i.height/d.y;if(o){const _=Cs(o),k=r&&Hr(r)?Cs(r):r;let A=_,O=Ix(A);for(;O&&r&&k!==A;){const L=lc(O),D=O.getBoundingClientRect(),j=Gs(O),I=D.left+(O.clientLeft+parseFloat(j.paddingLeft))*L.x,W=D.top+(O.clientTop+parseFloat(j.paddingTop))*L.y;g*=L.x,v*=L.y,w*=L.x,N*=L.y,g+=I,v+=W,A=Cs(O),O=Ix(A)}}return vh({width:w,height:N,x:g,y:v})}function y2(e,t){const n=up(e).scrollLeft;return t?t.left+n:hl(Pi(e)).left+n}function _E(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:y2(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function XL(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",d=Pi(r),x=t?cp(t.floating):!1;if(r===d||x&&o)return n;let g={scrollLeft:0,scrollTop:0},v=Oi(1);const w=Oi(0),N=Mi(r);if((N||!N&&!o)&&((Lc(r)!=="body"||Sd(d))&&(g=up(r)),Mi(r))){const k=hl(r);v=lc(r),w.x=k.x+r.clientLeft,w.y=k.y+r.clientTop}const _=d&&!N&&!o?_E(d,g,!0):Oi(0);return{width:n.width*v.x,height:n.height*v.y,x:n.x*v.x-g.scrollLeft*v.x+w.x+_.x,y:n.y*v.y-g.scrollTop*v.y+w.y+_.y}}function QL(e){return Array.from(e.getClientRects())}function KL(e){const t=Pi(e),n=up(e),r=e.ownerDocument.body,i=rl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=rl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let d=-n.scrollLeft+y2(e);const x=-n.scrollTop;return Gs(r).direction==="rtl"&&(d+=rl(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:d,y:x}}function ZL(e,t){const n=Cs(e),r=Pi(e),i=n.visualViewport;let o=r.clientWidth,d=r.clientHeight,x=0,g=0;if(i){o=i.width,d=i.height;const v=m2();(!v||v&&t==="fixed")&&(x=i.offsetLeft,g=i.offsetTop)}return{width:o,height:d,x,y:g}}function JL(e,t){const n=hl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Mi(e)?lc(e):Oi(1),d=e.clientWidth*o.x,x=e.clientHeight*o.y,g=i*o.x,v=r*o.y;return{width:d,height:x,x:g,y:v}}function Db(e,t,n){let r;if(t==="viewport")r=ZL(e,n);else if(t==="document")r=KL(Pi(e));else if(Hr(t))r=JL(t,n);else{const i=EE(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return vh(r)}function SE(e,t){const n=ho(e);return n===t||!Hr(n)||Cc(n)?!1:Gs(n).position==="fixed"||SE(n,t)}function eP(e,t){const n=t.get(e);if(n)return n;let r=hd(e,[],!1).filter(x=>Hr(x)&&Lc(x)!=="body"),i=null;const o=Gs(e).position==="fixed";let d=o?ho(e):e;for(;Hr(d)&&!Cc(d);){const x=Gs(d),g=p2(d);!g&&x.position==="fixed"&&(i=null),(o?!g&&!i:!g&&x.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Sd(d)&&!g&&SE(e,d))?r=r.filter(w=>w!==d):i=x,d=ho(d)}return t.set(e,r),r}function tP(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const d=[...n==="clippingAncestors"?cp(t)?[]:eP(t,this._c):[].concat(n),r],x=d[0],g=d.reduce((v,w)=>{const N=Db(t,w,i);return v.top=rl(N.top,v.top),v.right=Nc(N.right,v.right),v.bottom=Nc(N.bottom,v.bottom),v.left=rl(N.left,v.left),v},Db(t,x,i));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function nP(e){const{width:t,height:n}=NE(e);return{width:t,height:n}}function rP(e,t,n){const r=Mi(t),i=Pi(t),o=n==="fixed",d=hl(e,!0,o,t);let x={scrollLeft:0,scrollTop:0};const g=Oi(0);function v(){g.x=y2(i)}if(r||!r&&!o)if((Lc(t)!=="body"||Sd(i))&&(x=up(t)),r){const k=hl(t,!0,o,t);g.x=k.x+t.clientLeft,g.y=k.y+t.clientTop}else i&&v();o&&!r&&i&&v();const w=i&&!r&&!o?_E(i,x):Oi(0),N=d.left+x.scrollLeft-g.x-w.x,_=d.top+x.scrollTop-g.y-w.y;return{x:N,y:_,width:d.width,height:d.height}}function em(e){return Gs(e).position==="static"}function Ib(e,t){if(!Mi(e)||Gs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Pi(e)===n&&(n=n.ownerDocument.body),n}function AE(e,t){const n=Cs(e);if(cp(e))return n;if(!Mi(e)){let i=ho(e);for(;i&&!Cc(i);){if(Hr(i)&&!em(i))return i;i=ho(i)}return n}let r=Ib(e,t);for(;r&&SL(r)&&em(r);)r=Ib(r,t);return r&&Cc(r)&&em(r)&&!p2(r)?n:r||AL(e)||n}const sP=async function(e){const t=this.getOffsetParent||AE,n=this.getDimensions,r=await n(e.floating);return{reference:rP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iP(e){return Gs(e).direction==="rtl"}const aP={convertOffsetParentRelativeRectToViewportRelativeRect:XL,getDocumentElement:Pi,getClippingRect:tP,getOffsetParent:AE,getElementRects:sP,getClientRects:QL,getDimensions:nP,getScale:lc,isElement:Hr,isRTL:iP};function jE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function oP(e,t){let n=null,r;const i=Pi(e);function o(){var x;clearTimeout(r),(x=n)==null||x.disconnect(),n=null}function d(x,g){x===void 0&&(x=!1),g===void 0&&(g=1),o();const v=e.getBoundingClientRect(),{left:w,top:N,width:_,height:k}=v;if(x||t(),!_||!k)return;const A=Xf(N),O=Xf(i.clientWidth-(w+_)),L=Xf(i.clientHeight-(N+k)),D=Xf(w),I={rootMargin:-A+"px "+-O+"px "+-L+"px "+-D+"px",threshold:rl(0,Nc(1,g))||1};let W=!0;function Q(B){const R=B[0].intersectionRatio;if(R!==g){if(!W)return d();R?d(!1,R):r=setTimeout(()=>{d(!1,1e-7)},1e3)}R===1&&!jE(v,e.getBoundingClientRect())&&d(),W=!1}try{n=new IntersectionObserver(Q,{...I,root:i.ownerDocument})}catch{n=new IntersectionObserver(Q,I)}n.observe(e)}return d(!0),o}function lP(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:x=typeof IntersectionObserver=="function",animationFrame:g=!1}=r,v=v2(e),w=i||o?[...v?hd(v):[],...hd(t)]:[];w.forEach(D=>{i&&D.addEventListener("scroll",n,{passive:!0}),o&&D.addEventListener("resize",n)});const N=v&&x?oP(v,n):null;let _=-1,k=null;d&&(k=new ResizeObserver(D=>{let[j]=D;j&&j.target===v&&k&&(k.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var I;(I=k)==null||I.observe(t)})),n()}),v&&!g&&k.observe(v),k.observe(t));let A,O=g?hl(e):null;g&&L();function L(){const D=hl(e);O&&!jE(O,D)&&n(),O=D,A=requestAnimationFrame(L)}return n(),()=>{var D;w.forEach(j=>{i&&j.removeEventListener("scroll",n),o&&j.removeEventListener("resize",n)}),N==null||N(),(D=k)==null||D.disconnect(),k=null,g&&cancelAnimationFrame(A)}}const cP=YL,uP=qL,Rb=HL,dP=(e,t,n)=>{const r=new Map,i={platform:aP,...n},o={...i.platform,_c:r};return zL(e,t,{...i,platform:o})};var N0=typeof document<"u"?M.useLayoutEffect:M.useEffect;function wh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!wh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!wh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function kE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ob(e,t){const n=kE(e);return Math.round(t*n)/n}function tm(e){const t=M.useRef(e);return N0(()=>{t.current=e}),t}function fP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:d}={},transform:x=!0,whileElementsMounted:g,open:v}=e,[w,N]=M.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[_,k]=M.useState(r);wh(_,r)||k(r);const[A,O]=M.useState(null),[L,D]=M.useState(null),j=M.useCallback(ue=>{ue!==B.current&&(B.current=ue,O(ue))},[]),I=M.useCallback(ue=>{ue!==R.current&&(R.current=ue,D(ue))},[]),W=o||A,Q=d||L,B=M.useRef(null),R=M.useRef(null),q=M.useRef(w),V=g!=null,te=tm(g),ce=tm(i),J=tm(v),oe=M.useCallback(()=>{if(!B.current||!R.current)return;const ue={placement:t,strategy:n,middleware:_};ce.current&&(ue.platform=ce.current),dP(B.current,R.current,ue).then(xe=>{const Me={...xe,isPositioned:J.current!==!1};ke.current&&!wh(q.current,Me)&&(q.current=Me,Bg.flushSync(()=>{N(Me)}))})},[_,t,n,ce,J]);N0(()=>{v===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,N(ue=>({...ue,isPositioned:!1})))},[v]);const ke=M.useRef(!1);N0(()=>(ke.current=!0,()=>{ke.current=!1}),[]),N0(()=>{if(W&&(B.current=W),Q&&(R.current=Q),W&&Q){if(te.current)return te.current(W,Q,oe);oe()}},[W,Q,oe,te,V]);const se=M.useMemo(()=>({reference:B,floating:R,setReference:j,setFloating:I}),[j,I]),Ee=M.useMemo(()=>({reference:W,floating:Q}),[W,Q]),ge=M.useMemo(()=>{const ue={position:n,left:0,top:0};if(!Ee.floating)return ue;const xe=Ob(Ee.floating,w.x),Me=Ob(Ee.floating,w.y);return x?{...ue,transform:"translate("+xe+"px, "+Me+"px)",...kE(Ee.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:xe,top:Me}},[n,x,Ee.floating,w.x,w.y]);return M.useMemo(()=>({...w,update:oe,refs:se,elements:Ee,floatingStyles:ge}),[w,oe,se,Ee,ge])}const hP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Rb({element:r.current,padding:i}).fn(n):{}:r?Rb({element:r,padding:i}).fn(n):{}}}},pP=(e,t)=>({...cP(e),options:[e,t]}),mP=(e,t)=>({...uP(e),options:[e,t]}),xP=(e,t)=>({...hP(e),options:[e,t]}),gP={...Gx};let Mb=!1,vP=0;const Lb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+vP++;function yP(){const[e,t]=M.useState(()=>Mb?Lb():void 0);return yh(()=>{e==null&&t(Lb())},[]),M.useEffect(()=>{Mb=!0},[]),e}const wP=gP.useId,TE=wP||yP,bP=M.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o,shift:d}},width:x=14,height:g=7,tipRadius:v=0,strokeWidth:w=0,staticOffset:N,stroke:_,d:k,style:{transform:A,...O}={},...L}=t,D=TE(),[j,I]=M.useState(!1);if(yh(()=>{if(!i)return;Gs(i).direction==="rtl"&&I(!0)},[i]),!i)return null;const[W,Q]=r.split("-"),B=W==="top"||W==="bottom";let R=N;(B&&d!=null&&d.x||!B&&d!=null&&d.y)&&(R=null);const q=w*2,V=q/2,te=x/2*(v/-8+1),ce=g/2*v/4,J=!!k,oe=R&&Q==="end"?"bottom":"top";let ke=R&&Q==="end"?"right":"left";R&&j&&(ke=Q==="end"?"left":"right");const se=(o==null?void 0:o.x)!=null?R||o.x:"",Ee=(o==null?void 0:o.y)!=null?R||o.y:"",ge=k||"M0,0"+(" H"+x)+(" L"+(x-te)+","+(g-ce))+(" Q"+x/2+","+g+" "+te+","+(g-ce))+" Z",ue={top:J?"rotate(180deg)":"",left:J?"rotate(90deg)":"rotate(-90deg)",bottom:J?"":"rotate(180deg)",right:J?"rotate(-90deg)":"rotate(90deg)"}[W];return a.jsxs("svg",{...L,"aria-hidden":!0,ref:n,width:J?x:x+q,height:x,viewBox:"0 0 "+x+" "+(g>x?g:x),style:{position:"absolute",pointerEvents:"none",[ke]:se,[oe]:Ee,[W]:B||J?"100%":"calc(100% - "+q/2+"px)",transform:[ue,A].filter(xe=>!!xe).join(" "),...O},children:[q>0&&a.jsx("path",{clipPath:"url(#"+D+")",fill:"none",stroke:_,strokeWidth:q+(k?0:1),d:ge}),a.jsx("path",{stroke:q&&!k?L.fill:"none",d:ge}),a.jsx("clipPath",{id:D,children:a.jsx("rect",{x:-V,y:V*(J?-1:1),width:x+q,height:x})})]})});function CP(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const NP=M.createContext(null),EP=M.createContext(null),_P=()=>{var e;return((e=M.useContext(NP))==null?void 0:e.id)||null},SP=()=>M.useContext(EP);function AP(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=TE(),o=M.useRef({}),[d]=M.useState(()=>CP()),x=_P()!=null,[g,v]=M.useState(r.reference),w=UL((k,A,O)=>{o.current.openEvent=k?A:void 0,d.emit("openchange",{open:k,event:A,reason:O,nested:x}),n==null||n(k,A,O)}),N=M.useMemo(()=>({setPositionReference:v}),[]),_=M.useMemo(()=>({reference:g||r.reference||null,floating:r.floating||null,domReference:r.reference}),[g,r.reference,r.floating]);return M.useMemo(()=>({dataRef:o,open:t,onOpenChange:w,elements:_,events:d,floatingId:i,refs:N}),[t,w,_,d,i,N])}function jP(e){e===void 0&&(e={});const{nodeId:t}=e,n=AP({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,d]=M.useState(null),[x,g]=M.useState(null),w=(i==null?void 0:i.domReference)||o,N=M.useRef(null),_=SP();yh(()=>{w&&(N.current=w)},[w]);const k=fP({...e,elements:{...i,...x&&{reference:x}}}),A=M.useCallback(I=>{const W=Hr(I)?{getBoundingClientRect:()=>I.getBoundingClientRect(),getClientRects:()=>I.getClientRects(),contextElement:I}:I;g(W),k.refs.setReference(W)},[k.refs]),O=M.useCallback(I=>{(Hr(I)||I===null)&&(N.current=I,d(I)),(Hr(k.refs.reference.current)||k.refs.reference.current===null||I!==null&&!Hr(I))&&k.refs.setReference(I)},[k.refs]),L=M.useMemo(()=>({...k.refs,setReference:O,setPositionReference:A,domReference:N}),[k.refs,O,A]),D=M.useMemo(()=>({...k.elements,domReference:w}),[k.elements,w]),j=M.useMemo(()=>({...k,...r,refs:L,elements:D,nodeId:t}),[k,L,D,t,r]);return yh(()=>{r.dataRef.current.floatingContext=j;const I=_==null?void 0:_.nodesRef.current.find(W=>W.id===t);I&&(I.context=j)}),M.useMemo(()=>({...k,context:j,refs:L,elements:D}),[k,L,D,j])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Ox=function(t,n){return Ox=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},Ox(t,n)};function mr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ox(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Pt=function(){return Pt=Object.assign||function(n){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(n[d]=r[d])}return n},Pt.apply(this,arguments)};function Di(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var kP=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,o=e.className,d=e.children,x=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return de.createElement("div",{className:o,role:"dialog","aria-label":x,"aria-modal":"true"},d)},TP=function(e,t){var n=M.useRef(null),r=M.useRef(e);r.current=e;var i=M.useCallback(function(o){var d,x=o.composed&&o.composedPath&&o.composedPath().find(function(g){return g instanceof Node})||o.target;n.current&&!n.current.contains(x)&&(t&&x instanceof HTMLElement&&x.classList.contains(t)||(d=r.current)===null||d===void 0||d.call(r,o))},[t]);return M.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},fp=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,o=e.style,d=e.ignoreClass,x=TP(n,d);return de.createElement("div",{className:r,style:o,ref:function(g){x.current=g,i&&(i.current=g)}},t)},Ue;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Ue||(Ue={}));function DE(){var e=typeof window<"u"?window:globalThis;return e}var jd=12;function Gt(e){if(e==null)return new Date;var t=typeof e=="string"?T9(e):$e(e);return hp(t)?t:new Date}function nm(e,t,n,r,i){i===void 0&&(i=Gt());for(var o=_c(n)||_c(w2()),d=Array.isArray(t)?t:[t],x=0,g=d;x<g.length;x++){var v=g[x],w=E9(e,v,i,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(hp(w)&&(!r||e===_n(w,v,n)))return w}return null}function hp(e,t){return ch(e)&&!fl(e,new Date("1/1/1800"))}function _n(e,t,n){if(n==="en")return dd(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?_c(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||_c(w2()),dd(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Bs(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&_n(e,i,r)||""}var IE=" - ";function DP(e,t,n){if(!e)return"";var r=Bs(e,n),i=t?Bs(t,n):"";return"".concat(r).concat(IE).concat(i)}function IP(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?Bs(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=Bs(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}function rm(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,o=i===void 0?0:i,d=t.second,x=d===void 0?0:d;return w0(b0(C0(e,x),o),r)}function RP(e){return c2(e)}function OP(e,t){return _n(e,"ddd",t)}function E0(e){return dl(e)}function lo(e,t,n){var r=_c(t||w2());return wa(e,{locale:r,weekStartsOn:n})}function pa(e){return XN(e)}function Tu(e){return op(e)}function Pb(e){return Sx(e)}function Fb(){return dl(Gt())}function Bb(e){return a2(e)}function MP(e){return DO(e)}function LP(e){return o2(e)}function Si(e,t){return e&&t?j9(e,t):!e&&!t}function zr(e,t){return e&&t?S9(e,t):!e&&!t}function bh(e,t){return e&&t?A9(e,t):!e&&!t}function Lt(e,t){return e&&t?EO(e,t):!e&&!t}function Zo(e,t){return e&&t?kM(e,t):!e&&!t}function Du(e,t,n){var r,i=dl(t),o=a2(n);try{r=fd(e,{start:i,end:o})}catch{r=!1}return r}function w2(){var e=DE();return e.__localeId__}function _c(e){if(typeof e=="string"){var t=DE();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function PP(e,t,n){return t(_n(e,"EEEE",n))}function FP(e,t){return _n(e,"EEEEEE",t)}function BP(e,t){return _n(e,"EEE",t)}function b2(e,t){return _n(Us(Gt(),e),"LLLL",t)}function RE(e,t){return _n(Us(Gt(),e),"LLL",t)}function UP(e,t){return _n(Bl(Gt(),e),"QQQ",t)}function Hs(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,d=n.excludeDateIntervals,x=n.includeDates,g=n.includeDateIntervals,v=n.filterDate;return kd(e,{minDate:r,maxDate:i})||o&&o.some(function(w){return w instanceof Date?Lt(e,w):Lt(e,w.date)})||d&&d.some(function(w){var N=w.start,_=w.end;return fd(e,{start:N,end:_})})||x&&!x.some(function(w){return Lt(e,w)})||g&&!g.some(function(w){var N=w.start,_=w.end;return fd(e,{start:N,end:_})})||v&&!v(Gt(e))||!1}function C2(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var d=o.start,x=o.end;return fd(e,{start:d,end:x})}):r&&r.some(function(o){var d;return o instanceof Date?Lt(e,o):Lt(e,(d=o.date)!==null&&d!==void 0?d:new Date)})||!1}function OE(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,d=n.includeDates,x=n.filterDate;return kd(e,{minDate:r?XN(r):void 0,maxDate:i?o2(i):void 0})||(o==null?void 0:o.some(function(g){return zr(e,g instanceof Date?g:g.date)}))||d&&!d.some(function(g){return zr(e,g)})||x&&!x(Gt(e))||!1}function Qf(e,t,n,r){var i=Nt(e),o=Rr(e),d=Nt(t),x=Rr(t),g=Nt(r);return i===d&&i===g?o<=n&&n<=x:i<d?g===i&&o<=n||g===d&&x>=n||g<d&&g>i:!1}function zP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,d=n.includeDates;return kd(e,{minDate:r,maxDate:i})||o&&o.some(function(x){return zr(x instanceof Date?x:x.date,e)})||d&&!d.some(function(x){return zr(x,e)})||!1}function Kf(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,d=n.includeDates,x=n.filterDate;return kd(e,{minDate:r,maxDate:i})||(o==null?void 0:o.some(function(g){return bh(e,g instanceof Date?g:g.date)}))||d&&!d.some(function(g){return bh(e,g)})||x&&!x(Gt(e))||!1}function Zf(e,t,n){if(!t||!n||!ch(t)||!ch(n))return!1;var r=Nt(t),i=Nt(n);return r<=e&&i>=e}function _0(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,d=n.includeDates,x=n.filterDate,g=new Date(e,0,1);return kd(g,{minDate:r?op(r):void 0,maxDate:i?QN(i):void 0})||(o==null?void 0:o.some(function(v){return Si(g,v instanceof Date?v:v.date)}))||d&&!d.some(function(v){return Si(g,v)})||x&&!x(Gt(g))||!1}function Jf(e,t,n,r){var i=Nt(e),o=tl(e),d=Nt(t),x=tl(t),g=Nt(r);return i===d&&i===g?o<=n&&n<=x:i<d?g===i&&o<=n||g===d&&x>=n||g<d&&g>i:!1}function kd(e,t){var n,r=t===void 0?{}:t,i=r.minDate,o=r.maxDate;return(n=i&&wc(e,i)<0||o&&wc(e,o)>0)!==null&&n!==void 0?n:!1}function Ub(e,t){return t.some(function(n){return fa(n)===fa(e)&&ha(n)===ha(e)&&oo(n)===oo(e)})}function zb(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,o=n.filterTime;return r&&Ub(e,r)||i&&!Ub(e,i)||o&&!o(e)||!1}function Wb(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Gt();i=w0(i,fa(e)),i=b0(i,ha(e)),i=C0(i,oo(e));var o=Gt();o=w0(o,fa(n)),o=b0(o,ha(n)),o=C0(o,oo(n));var d=Gt();d=w0(d,fa(r)),d=b0(d,ha(r)),d=C0(d,oo(r));var x;try{x=!fd(i,{start:o,end:d})}catch{x=!1}return x}function Hb(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=nl(e,1);return r&&ud(r,o)>0||i&&i.every(function(d){return ud(d,o)>0})||!1}function qb(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=hi(e,1);return r&&ud(o,r)>0||i&&i.every(function(d){return ud(o,d)>0})||!1}function WP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=op(e),d=aE(o,1);return r&&uh(r,d)>0||i&&i.every(function(x){return uh(x,d)>0})||!1}function HP(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=QN(e),d=i2(o,1);return r&&uh(d,r)>0||i&&i.every(function(x){return uh(d,x)>0})||!1}function Vb(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=bc(e,1);return r&&dh(r,o)>0||i&&i.every(function(d){return dh(d,o)>0})||!1}function qP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,o=i===void 0?jd:i,d=Tu(bc(e,o)),x=Ka(d,o).endPeriod,g=r&&Nt(r);return g&&g>x||!1}function Yb(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=ua(e,1);return r&&dh(o,r)>0||i&&i.every(function(d){return dh(o,d)>0})||!1}function VP(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,o=i===void 0?jd:i,d=ua(e,o),x=Ka(d,o).startPeriod,g=r&&Nt(r);return g&&g<x||!1}function ME(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return wc(i,t)>=0});return db(r)}else return n?db(n):t}function LE(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return wc(i,t)<=0});return ub(r)}else return n?ub(n):t}function $b(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=e.length;i<o;i++){var d=e[i];if(da(d)){var x=_n(d,"MM.dd.yyyy"),g=r.get(x)||[];g.includes(t)||(g.push(t),r.set(x,g))}else if(typeof d=="object"){var v=Object.keys(d),w=(n=v[0])!==null&&n!==void 0?n:"",N=d[w];if(typeof w=="string"&&Array.isArray(N))for(var _=0,k=N.length;_<k;_++){var A=N[_];if(A){var x=_n(A,"MM.dd.yyyy"),g=r.get(x)||[];g.includes(w)||(g.push(w),r.set(x,g))}}}}return r}function YP(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function $P(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var i=r.date,o=r.holidayName;if(da(i)){var d=_n(i,"MM.dd.yyyy"),x=n.get(d)||{className:"",holidayNames:[]};if(!("className"in x&&x.className===t&&YP(x.holidayNames,[o]))){x.className=t;var g=x.holidayNames;x.holidayNames=g?Di(Di([],g,!0),[o],!1):[o],n.set(d,x)}}}),n}function GP(e,t,n,r,i){for(var o=i.length,d=[],x=0;x<o;x++){var g=e,v=i[x];v&&(g=yO(g,fa(v)),g=_x(g,ha(v)),g=CO(g,oo(v)));var w=_x(e,(n+1)*r);fo(g,t)&&fl(g,w)&&v!=null&&d.push(v)}return d}function Gb(e){return e<10?"0".concat(e):"".concat(e)}function Ka(e,t){t===void 0&&(t=jd);var n=Math.ceil(Nt(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function XP(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function Xb(e){var t=e.getSeconds(),n=e.getMilliseconds();return $e(e.getTime()-t*1e3-n)}function QP(e,t){return Xb(e).getTime()===Xb(t).getTime()}function Qb(e){if(!da(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Kb(e,t){if(!da(e)||!da(t))throw new Error("Invalid date received");var n=Qb(e),r=Qb(t);return fl(n,r)}function PE(e){return e.key===Ue.Space}var KP=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=de.createRef(),r.onTimeChange=function(i){var o,d;r.setState({time:i});var x=r.props.date,g=x instanceof Date&&!isNaN(+x),v=g?x:new Date;if(i!=null&&i.includes(":")){var w=i.split(":"),N=w[0],_=w[1];v.setHours(Number(N)),v.setMinutes(Number(_))}(d=(o=r.props).onChange)===null||d===void 0||d.call(o,v)},r.renderTimeInput=function(){var i=r.state.time,o=r.props,d=o.date,x=o.timeString,g=o.customTimeInput;return g?M.cloneElement(g,{date:d,value:i,onChange:r.onTimeChange}):de.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var v;(v=r.inputRef.current)===null||v===void 0||v.focus()},required:!0,value:i,onChange:function(v){r.onTimeChange(v.target.value||x)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return de.createElement("div",{className:"react-datepicker__input-time-container"},de.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),de.createElement("div",{className:"react-datepicker-time__input-container"},de.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(M.Component),ZP=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=M.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,o,d=r.key;d===Ue.Space&&(r.preventDefault(),r.key=Ue.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isSameDay=function(r){return Lt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(d){return n.isSameDayOrWeek(d)}):n.isSameDayOrWeek(n.props.selected),o=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!o},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Hs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return C2(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Lt(n.props.day,lo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Lt(r,lo(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,o=r.highlightDates;if(!o)return!1;var d=_n(i,"MM.dd.yyyy");return o.get(d)},n.getHolidaysClass=function(){var r,i=n.props,o=i.day,d=i.holidays;if(!d)return[void 0];var x=_n(o,"MM.dd.yyyy");return d.has(x)?[(r=d.get(x))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,o=r.startDate,d=r.endDate;return!o||!d?!1:Du(i,o,d)},n.isInSelectingRange=function(){var r,i=n.props,o=i.day,d=i.selectsStart,x=i.selectsEnd,g=i.selectsRange,v=i.selectsDisabledDaysInRange,w=i.startDate,N=i.endDate,_=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(d||x||g)||!_||!v&&n.isDisabled()?!1:d&&N&&(fl(_,N)||Zo(_,N))?Du(o,_,N):x&&w&&(fo(_,w)||Zo(_,w))||g&&w&&!N&&(fo(_,w)||Zo(_,w))?Du(o,w,_):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,d=i.startDate,x=i.selectsStart,g=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return x?Lt(o,g):Lt(o,d)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,d=i.endDate,x=i.selectsEnd,g=i.selectsRange,v=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return x||g?Lt(o,v):Lt(o,d)},n.isRangeStart=function(){var r=n.props,i=r.day,o=r.startDate,d=r.endDate;return!o||!d?!1:Lt(o,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,o=r.startDate,d=r.endDate;return!o||!d?!1:Lt(d,i)},n.isWeekend=function(){var r=_M(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Rr(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Rr(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Gt())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return En("react-datepicker__day",i,"react-datepicker__day--"+OP(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,o=r.ariaLabelPrefixWhenEnabled,d=o===void 0?"Choose":o,x=r.ariaLabelPrefixWhenDisabled,g=x===void 0?"Not available":x,v=n.isDisabled()||n.isExcluded()?g:d;return"".concat(v," ").concat(_n(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,o=r.holidays,d=o===void 0?new Map:o,x=r.excludeDates,g=_n(i,"MM.dd.yyyy"),v=[];return d.has(g)&&v.push.apply(v,d.get(g).holidayNames),n.isExcluded()&&v.push(x==null?void 0:x.filter(function(w){return w instanceof Date?Lt(w,i):Lt(w==null?void 0:w.date,i)}).map(function(w){if(!(w instanceof Date))return w==null?void 0:w.message})),v.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,o=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Lt(i,r))?0:-1;return o},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(gb(n.props.day),n.props.day):gb(n.props.day)},n.render=function(){return de.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&de.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(M.Component),JP=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=M.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,o,d=r.key;d===Ue.Space&&(r.preventDefault(),r.key=Ue.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Lt(n.props.date,n.props.selected)&&Lt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Lt(n.props.date,n.props.selected)&&Lt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Lt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,o=n.ariaLabelPrefix,d=o===void 0?t.defaultProps.ariaLabelPrefix:o,x=n.onClick,g={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!x&&!i,"react-datepicker__week-number--selected":!!x&&Lt(this.props.date,this.props.selected)};return de.createElement("div",{ref:this.weekNumberEl,className:En(g),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(M.Component),eF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return Hs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,o){for(var d,x,g,v=new Date(r),w=0;w<7;w++){var N=new Date(r);N.setDate(N.getDate()+w);var _=!n.isDisabled(N);if(_){v=N;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(v,i,o),n.props.showWeekPicker&&n.handleDayClick(v,o),((d=n.props.shouldCloseOnSelect)!==null&&d!==void 0?d:t.defaultProps.shouldCloseOnSelect)&&((g=(x=n.props).setOpen)===null||g===void 0||g.call(x,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):RP(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=di(r,6),o=new Date(r);o<=i;){if(!n.isDisabled(o))return!1;o=di(o,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],o=n.formatWeekNumber(r);if(n.props.showWeekNumber){var d=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,o):void 0;i.push(de.createElement(JP,Pt({key:"W"},t.defaultProps,n.props,{weekNumber:o,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:d})))}return i.concat([0,1,2,3,4,5,6].map(function(x){var g=di(r,x);return de.createElement(ZP,Pt({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:g.valueOf(),day:g,onClick:n.handleDayClick.bind(n,g),onMouseEnter:n.handleDayMouseEnter.bind(n,g)}))}))},n.startOfWeek=function(){return lo(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Lt(n.startOfWeek(),n.props.selected)&&Lt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Lt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return de.createElement("div",{className:En(n)},this.renderDays())},t}(M.Component),_u,tF=6,cc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},sm=(_u={},_u[cc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},_u[cc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},_u[cc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},_u),e0=1;function Zb(e,t){return e?cc.FOUR_COLUMNS:t?cc.TWO_COLUMNS:cc.THREE_COLUMNS}var nF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Di([],Array(12),!0).map(function(){return M.createRef()}),n.QUARTER_REFS=Di([],Array(4),!0).map(function(){return M.createRef()}),n.isDisabled=function(r){return Hs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return C2(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var o,d;(d=(o=n.props).onDayClick)===null||d===void 0||d.call(o,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,o;(o=(i=n.props).onDayMouseEnter)===null||o===void 0||o.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,o=i.day,d=i.startDate,x=i.endDate;return!d||!x?!1:zr(Us(o,r),d)},n.isRangeStartQuarter=function(r){var i=n.props,o=i.day,d=i.startDate,x=i.endDate;return!d||!x?!1:bh(Bl(o,r),d)},n.isRangeEndMonth=function(r){var i=n.props,o=i.day,d=i.startDate,x=i.endDate;return!d||!x?!1:zr(Us(o,r),x)},n.isRangeEndQuarter=function(r){var i=n.props,o=i.day,d=i.startDate,x=i.endDate;return!d||!x?!1:bh(Bl(o,r),x)},n.isInSelectingRangeMonth=function(r){var i,o=n.props,d=o.day,x=o.selectsStart,g=o.selectsEnd,v=o.selectsRange,w=o.startDate,N=o.endDate,_=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(x||g||v)||!_?!1:x&&N?Qf(_,N,r,d):g&&w||v&&w&&!N?Qf(w,_,r,d):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,d=o.day,x=o.startDate,g=o.selectsStart,v=Us(d,r),w=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return g?zr(v,w):zr(v,x)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,d=o.day,x=o.endDate,g=o.selectsEnd,v=o.selectsRange,w=Us(d,r),N=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return g||v?zr(w,N):zr(w,x)},n.isInSelectingRangeQuarter=function(r){var i,o=n.props,d=o.day,x=o.selectsStart,g=o.selectsEnd,v=o.selectsRange,w=o.startDate,N=o.endDate,_=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(x||g||v)||!_?!1:x&&N?Jf(_,N,r,d):g&&w||v&&w&&!N?Jf(w,_,r,d):!1},n.isWeekInMonth=function(r){var i=n.props.day,o=di(r,6);return zr(r,i)||zr(o,i)},n.isCurrentMonth=function(r,i){return Nt(r)===Nt(Gt())&&i===Rr(Gt())},n.isCurrentQuarter=function(r,i){return Nt(r)===Nt(Gt())&&i===tl(Gt())},n.isSelectedMonth=function(r,i,o){return Rr(o)===i&&Nt(r)===Nt(o)},n.isSelectMonthInList=function(r,i,o){return o.some(function(d){return n.isSelectedMonth(r,i,d)})},n.isSelectedQuarter=function(r,i,o){return tl(r)===i&&Nt(r)===Nt(o)},n.isMonthSelected=function(){var r=n.props,i=r.day,o=r.selected,d=r.selectedDates,x=r.selectsMultiple,g=Rr(i);return x?d==null?void 0:d.some(function(v){return n.isSelectedMonth(i,g,v)}):!!o&&n.isSelectedMonth(i,g,o)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,o=0,d=!1,x=lo(pa(n.props.day),n.props.locale,n.props.calendarStartDay),g=function(A){return n.props.showWeekPicker?lo(A,n.props.locale,n.props.calendarStartDay):n.props.preSelection},v=function(A){return n.props.showWeekPicker?lo(A,n.props.locale,n.props.calendarStartDay):n.props.selected},w=n.props.selected?v(n.props.selected):void 0,N=n.props.preSelection?g(n.props.preSelection):void 0;r.push(de.createElement(eF,Pt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:o,day:x,month:Rr(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:w,preSelection:N,showWeekNumber:n.props.showWeekNumbers}))),!d;){o++,x=lh(x,1);var _=i&&o>=tF,k=!i&&!n.isWeekInMonth(x);if(_||k)if(n.props.peekNextMonth)d=!0;else break}return r},n.onMonthClick=function(r,i){var o=n.isMonthDisabledForLabelDate(i),d=o.isDisabled,x=o.labelDate;d||n.handleDayClick(pa(x),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),o=i.isDisabled,d=i.labelDate;o||n.handleDayMouseEnter(pa(d))},n.handleMonthNavigation=function(r,i){var o,d,x,g;(d=(o=n.props).setPreSelection)===null||d===void 0||d.call(o,i),(g=(x=n.MONTH_REFS[r])===null||x===void 0?void 0:x.current)===null||g===void 0||g.focus()},n.handleKeyboardNavigation=function(r,i,o){var d,x=n.props,g=x.selected,v=x.preSelection,w=x.setPreSelection,N=x.minDate,_=x.maxDate,k=x.showFourColumnMonthYearPicker,A=x.showTwoColumnMonthYearPicker;if(v){var O=Zb(k,A),L=n.getVerticalOffset(O),D=(d=sm[O])===null||d===void 0?void 0:d.grid,j=function(R,q,V){var te,ce,J=q,oe=V;switch(R){case Ue.ArrowRight:J=hi(q,e0),oe=V===11?0:V+e0;break;case Ue.ArrowLeft:J=nl(q,e0),oe=V===0?11:V-e0;break;case Ue.ArrowUp:J=nl(q,L),oe=!((te=D==null?void 0:D[0])===null||te===void 0)&&te.includes(V)?V+12-L:V-L;break;case Ue.ArrowDown:J=hi(q,L),oe=!((ce=D==null?void 0:D[D.length-1])===null||ce===void 0)&&ce.includes(V)?V-12+L:V+L;break}return{newCalculatedDate:J,newCalculatedMonth:oe}},I=function(R,q,V){for(var te=40,ce=R,J=!1,oe=0,ke=j(ce,q,V),se=ke.newCalculatedDate,Ee=ke.newCalculatedMonth;!J;){if(oe>=te){se=q,Ee=V;break}if(N&&se<N){ce=Ue.ArrowRight;var ge=j(ce,se,Ee);se=ge.newCalculatedDate,Ee=ge.newCalculatedMonth}if(_&&se>_){ce=Ue.ArrowLeft;var ge=j(ce,se,Ee);se=ge.newCalculatedDate,Ee=ge.newCalculatedMonth}if(zP(se,n.props)){var ge=j(ce,se,Ee);se=ge.newCalculatedDate,Ee=ge.newCalculatedMonth}else J=!0;oe++}return{newCalculatedDate:se,newCalculatedMonth:Ee}};if(i===Ue.Enter){n.isMonthDisabled(o)||(n.onMonthClick(r,o),w==null||w(g));return}var W=I(i,v,o),Q=W.newCalculatedDate,B=W.newCalculatedMonth;switch(i){case Ue.ArrowRight:case Ue.ArrowLeft:case Ue.ArrowUp:case Ue.ArrowDown:n.handleMonthNavigation(B,Q);break}}},n.getVerticalOffset=function(r){var i,o;return(o=(i=sm[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},n.onMonthKeyDown=function(r,i){var o=n.props,d=o.disabledKeyboardNavigation,x=o.handleOnMonthKeyDown,g=r.key;g!==Ue.Tab&&r.preventDefault(),d||n.handleKeyboardNavigation(r,g,i),x&&x(r)},n.onQuarterClick=function(r,i){var o=Bl(n.props.day,i);Kf(o,n.props)||n.handleDayClick(Pb(o),r)},n.onQuarterMouseEnter=function(r){var i=Bl(n.props.day,r);Kf(i,n.props)||n.handleDayMouseEnter(Pb(i))},n.handleQuarterNavigation=function(r,i){var o,d,x,g;n.isDisabled(i)||n.isExcluded(i)||((d=(o=n.props).setPreSelection)===null||d===void 0||d.call(o,i),(g=(x=n.QUARTER_REFS[r-1])===null||x===void 0?void 0:x.current)===null||g===void 0||g.focus())},n.onQuarterKeyDown=function(r,i){var o,d,x=r.key;if(!n.props.disabledKeyboardNavigation)switch(x){case Ue.Enter:n.onQuarterClick(r,i),(d=(o=n.props).setPreSelection)===null||d===void 0||d.call(o,n.props.selected);break;case Ue.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,i2(n.props.preSelection,1));break;case Ue.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,aE(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,o=n.props,d=o.day,x=o.minDate,g=o.maxDate,v=o.excludeDates,w=o.includeDates,N=Us(d,r);return{isDisabled:(i=(x||g||v||w)&&OE(N,n.props))!==null&&i!==void 0?i:!1,labelDate:N}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,o=i.day,d=i.startDate,x=i.endDate,g=i.preSelection,v=i.monthClassName,w=v?v(Us(o,r)):void 0,N=n.getSelection();return En("react-datepicker__month-text","react-datepicker__month-".concat(r),w,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":N?n.isSelectMonthInList(o,r,N):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&g&&n.isSelectedMonth(o,r,g)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":d&&x?Qf(d,x,r,o):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(o,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Rr(n.props.preSelection),o=n.isMonthDisabledForLabelDate(i).isDisabled,d=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=tl(n.props.preSelection),o=Kf(n.props.day,n.props),d=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getAriaLabel=function(r){var i=n.props,o=i.chooseDayAriaLabelPrefix,d=o===void 0?"Choose":o,x=i.disabledDayAriaLabelPrefix,g=x===void 0?"Not available":x,v=i.day,w=i.locale,N=Us(v,r),_=n.isDisabled(N)||n.isExcluded(N)?g:d;return"".concat(_," ").concat(_n(N,"MMMM yyyy",w))},n.getQuarterClassNames=function(r){var i=n.props,o=i.day,d=i.startDate,x=i.endDate,g=i.selected,v=i.minDate,w=i.maxDate,N=i.excludeDates,_=i.includeDates,k=i.filterDate,A=i.preSelection,O=i.disabledKeyboardNavigation,L=(v||w||N||_||k)&&Kf(Bl(o,r),n.props);return En("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":L,"react-datepicker__quarter-text--selected":g?n.isSelectedQuarter(o,r,g):void 0,"react-datepicker__quarter-text--keyboard-selected":!O&&A&&n.isSelectedQuarter(o,r,A)&&!L,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":d&&x?Jf(d,x,r,o):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(o,r)})},n.getMonthContent=function(r){var i=n.props,o=i.showFullMonthYearPicker,d=i.renderMonthContent,x=i.locale,g=i.day,v=RE(r,x),w=b2(r,x);return d?d(r,v,w,g):o?w:v},n.getQuarterContent=function(r){var i,o=n.props,d=o.renderQuarterContent,x=o.locale,g=UP(r,x);return(i=d==null?void 0:d(r,g))!==null&&i!==void 0?i:g},n.renderMonths=function(){var r,i=n.props,o=i.showTwoColumnMonthYearPicker,d=i.showFourColumnMonthYearPicker,x=i.day,g=i.selected,v=(r=sm[Zb(d,o)])===null||r===void 0?void 0:r.grid;return v==null?void 0:v.map(function(w,N){return de.createElement("div",{className:"react-datepicker__month-wrapper",key:N},w.map(function(_,k){return de.createElement("div",{ref:n.MONTH_REFS[_],key:k,onClick:function(A){n.onMonthClick(A,_)},onKeyDown:function(A){PE(A)&&(A.preventDefault(),A.key=Ue.Enter),n.onMonthKeyDown(A,_)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(_)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(_)}:void 0,tabIndex:Number(n.getTabIndex(_)),className:n.getMonthClassNames(_),"aria-disabled":n.isMonthDisabled(_),role:"option","aria-label":n.getAriaLabel(_),"aria-current":n.isCurrentMonth(x,_)?"date":void 0,"aria-selected":g?n.isSelectedMonth(x,_,g):void 0},n.getMonthContent(_))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,o=r.selected,d=[1,2,3,4];return de.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(x,g){return de.createElement("div",{key:g,ref:n.QUARTER_REFS[g],role:"option",onClick:function(v){n.onQuarterClick(v,x)},onKeyDown:function(v){n.onQuarterKeyDown(v,x)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(x)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(x)}:void 0,className:n.getQuarterClassNames(x),"aria-selected":o?n.isSelectedQuarter(i,x,o):void 0,tabIndex:Number(n.getQuarterTabIndex(x)),"aria-current":n.isCurrentQuarter(i,x)?"date":void 0},n.getQuarterContent(x))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,o=r.selectsStart,d=r.selectsEnd,x=r.showMonthYearPicker,g=r.showQuarterYearPicker,v=r.showWeekPicker;return En("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||d)},{"react-datepicker__monthPicker":x},{"react-datepicker__quarterPicker":g},{"react-datepicker__weekPicker":v})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,o=n.selectsMultiple;if(o)return i;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,o=n.day,d=n.ariaLabelPrefix,x=d===void 0?"Month ":d,g=x?x.trim()+" ":"";return de.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(g).concat(_n(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},t}(M.Component),rF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return de.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?de.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return de.createElement(fp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(M.Component),sF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,o){return de.createElement("option",{key:i,value:o},i)})},n.renderSelectMode=function(r){return de.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return de.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},de.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),de.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return de.createElement(rF,Pt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,o=[n.renderReadView(!i,r)];return i&&o.unshift(n.renderDropdown(r)),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return RE(o,n.props.locale)}:function(o){return b2(o,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return de.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t}(M.Component);function iF(e,t){for(var n=[],r=pa(e),i=pa(t);!fo(r,i);)n.push(Gt(r)),r=hi(r,1);return n}var aF=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var o=kx(i),d=Si(r.props.date,i)&&zr(r.props.date,i);return de.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":d?"true":void 0},d?de.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",_n(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:iF(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=En({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return de.createElement(fp,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(M.Component),oF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=pa(n.props.minDate),i=pa(n.props.maxDate),o=[];!fo(r,i);){var d=kx(r);o.push(de.createElement("option",{key:d,value:d},_n(r,n.props.dateFormat,n.props.locale))),r=hi(r,1)}return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return de.createElement("select",{value:kx(pa(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=_n(n.props.date,n.props.dateFormat,n.props.locale);return de.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},de.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),de.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return de.createElement(aF,Pt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Gt(r);Si(n.props.date,i)&&zr(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return de.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(M.Component),lF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,o;n.list&&(n.list.scrollTop=(o=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&o!==void 0?o:0)})},n.handleClick=function(r){var i,o;(n.props.minTime||n.props.maxTime)&&Wb(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&zb(r,n.props)||(o=(i=n.props).onChange)===null||o===void 0||o.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&QP(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&Wb(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&zb(r,n.props)},n.liClasses=function(r){var i,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(fa(r)*3600+ha(r)*60+oo(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(r,i){var o,d;r.key===Ue.Space&&(r.preventDefault(),r.key=Ue.Enter),(r.key===Ue.ArrowUp||r.key===Ue.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ue.ArrowDown||r.key===Ue.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ue.Enter&&n.handleClick(i),(d=(o=n.props).handleOnKeyDown)===null||d===void 0||d.call(o,r)},n.renderTimes=function(){for(var r,i=[],o=typeof n.props.format=="string"?n.props.format:"p",d=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,x=n.props.selected||n.props.openToDate||Gt(),g=E0(x),v=n.props.injectTimes&&n.props.injectTimes.sort(function(L,D){return L.getTime()-D.getTime()}),w=60*XP(x),N=w/d,_=0;_<N;_++){var k=_x(g,_*d);if(i.push(k),v){var A=GP(g,k,_,d,v);i=i.concat(A)}}var O=i.reduce(function(L,D){return D.getTime()<=x.getTime()?D:L},i[0]);return i.map(function(L){return de.createElement("li",{key:L.valueOf(),onClick:n.handleClick.bind(n,L),className:n.liClasses(L),ref:function(D){L===O&&(n.centerLi=D)},onKeyDown:function(D){n.handleOnKeyDown(D,L)},tabIndex:L===O?0:-1,role:"option","aria-selected":n.isSelectedTime(L)?"true":void 0,"aria-disabled":n.isDisabledTime(L)?"true":void 0},_n(L,o,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?de.createElement(de.Fragment,null):de.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},de.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,i=this.state.height;return de.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),de.createElement("div",{className:"react-datepicker__time"},de.createElement("div",{className:"react-datepicker__time-box"},de.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(M.Component),Jb=3,cF=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=Di([],Array(r.props.yearItemNumber),!0).map(function(){return M.createRef()}),r.isDisabled=function(i){return Hs(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return C2(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var o=function(){var d,x;(x=(d=r.YEAR_REFS[i])===null||d===void 0?void 0:d.current)===null||x===void 0||x.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)},r.handleYearNavigation=function(i,o){var d,x,g,v,w=r.props,N=w.date,_=w.yearItemNumber;if(!(N===void 0||_===void 0)){var k=Ka(N,_).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((x=(d=r.props).setPreSelection)===null||x===void 0||x.call(d,o),i-k<0?r.updateFocusOnPaginate(_-(k-i)):i-k>=_?r.updateFocusOnPaginate(Math.abs(_-(i-k))):(v=(g=r.YEAR_REFS[i-k])===null||g===void 0?void 0:g.current)===null||v===void 0||v.focus())}},r.isSameDay=function(i,o){return Lt(i,o)},r.isCurrentYear=function(i){return i===Nt(Gt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Si(_i(Gt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Si(_i(Gt(),i),r.props.endDate)},r.isInRange=function(i){return Zf(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var o=r.props,d=o.selectsStart,x=o.selectsEnd,g=o.selectsRange,v=o.startDate,w=o.endDate;return!(d||x||g)||!r.selectingDate()?!1:d&&w?Zf(i,r.selectingDate(),w):x&&v||g&&v&&!w?Zf(i,v,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var o;if(!r.isInSelectingRange(i))return!1;var d=r.props,x=d.startDate,g=d.selectsStart,v=_i(Gt(),i);return g?Si(v,(o=r.selectingDate())!==null&&o!==void 0?o:null):Si(v,x??null)},r.isSelectingRangeEnd=function(i){var o;if(!r.isInSelectingRange(i))return!1;var d=r.props,x=d.endDate,g=d.selectsEnd,v=d.selectsRange,w=_i(Gt(),i);return g||v?Si(w,(o=r.selectingDate())!==null&&o!==void 0?o:null):Si(w,x??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,d=o.minDate,x=o.maxDate,g=o.excludeDates,v=o.includeDates,w=o.filterDate,N=Tu(_i(r.props.date,i)),_=(d||x||g||v||w)&&_0(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Lt(N,Tu(r.props.selected))&&Lt(N,Tu(r.props.preSelection))&&!_}},r.isSelectedYear=function(i){var o=r.props,d=o.selectsMultiple,x=o.selected,g=o.selectedDates;return d?g==null?void 0:g.some(function(v){return i===Nt(v)}):!!x&&i===Nt(x)},r.onYearClick=function(i,o){var d=r.props.date;d!==void 0&&r.handleYearClick(Tu(_i(d,o)),i)},r.onYearKeyDown=function(i,o){var d,x,g=i.key,v=r.props,w=v.date,N=v.yearItemNumber,_=v.handleOnKeyDown;if(g!==Ue.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(g){case Ue.Enter:if(r.props.selected==null)break;r.onYearClick(i,o),(x=(d=r.props).setPreSelection)===null||x===void 0||x.call(d,r.props.selected);break;case Ue.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,ua(r.props.preSelection,1));break;case Ue.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,bc(r.props.preSelection,1));break;case Ue.ArrowUp:{if(w===void 0||N===void 0||r.props.preSelection==null)break;var k=Ka(w,N).startPeriod,A=Jb,O=o-A;if(O<k){var L=N%A;o>=k&&o<k+L?A=L:A+=L,O=o-A}r.handleYearNavigation(O,bc(r.props.preSelection,A));break}case Ue.ArrowDown:{if(w===void 0||N===void 0||r.props.preSelection==null)break;var D=Ka(w,N).endPeriod,A=Jb,O=o+A;if(O>D){var L=N%A;o<=D&&o>D-L?A=L:A+=L,O=o+A}r.handleYearNavigation(O,ua(r.props.preSelection,A));break}}_&&_(i)},r.getYearClassNames=function(i){var o=r.props,d=o.date,x=o.minDate,g=o.maxDate,v=o.excludeDates,w=o.includeDates,N=o.filterDate,_=o.yearClassName;return En("react-datepicker__year-text","react-datepicker__year-".concat(i),d?_==null?void 0:_(_i(d,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(x||g||v||w||N)&&_0(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=Nt(r.props.preSelection),d=_0(i,r.props);return i===o&&!d?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return t.prototype.render=function(){var n=this,r=[],i=this.props,o=i.date,d=i.yearItemNumber,x=i.onYearMouseEnter,g=i.onYearMouseLeave;if(o===void 0)return null;for(var v=Ka(o,d),w=v.startPeriod,N=v.endPeriod,_=function(O){r.push(de.createElement("div",{ref:k.YEAR_REFS[O-w],onClick:function(L){n.onYearClick(L,O)},onKeyDown:function(L){PE(L)&&(L.preventDefault(),L.key=Ue.Enter),n.onYearKeyDown(L,O)},tabIndex:Number(k.getYearTabIndex(O)),className:k.getYearClassNames(O),onMouseEnter:k.props.usePointerEvent?void 0:function(L){return x(L,O)},onPointerEnter:k.props.usePointerEvent?function(L){return x(L,O)}:void 0,onMouseLeave:k.props.usePointerEvent?void 0:function(L){return g(L,O)},onPointerLeave:k.props.usePointerEvent?function(L){return g(L,O)}:void 0,key:O,"aria-current":k.isCurrentYear(O)?"date":void 0},k.getYearContent(O)))},k=this,A=w;A<=N;A++)_(A);return de.createElement("div",{className:"react-datepicker__year"},de.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(M.Component);function uF(e,t,n,r){for(var i=[],o=0;o<2*t+1;o++){var d=e+t-o,x=!0;n&&(x=Nt(n)<=d),r&&x&&(x=Nt(r)>=d),x&&i.push(d)}return i}var dF=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var x=r.props.year,g=r.state.yearsList.map(function(N){return de.createElement("div",{className:x===N?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:N,onClick:r.onChange.bind(r,N),"aria-selected":x===N?"true":void 0},x===N?de.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",N)}),v=r.props.minDate?Nt(r.props.minDate):null,w=r.props.maxDate?Nt(r.props.maxDate):null;return(!w||!r.state.yearsList.find(function(N){return N===w}))&&g.unshift(de.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},de.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!v||!r.state.yearsList.find(function(N){return N===v}))&&g.push(de.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},de.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),g},r.onChange=function(x){r.props.onChange(x)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(x){var g=r.state.yearsList.map(function(v){return v+x});r.setState({yearsList:g})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,d=i||(o?10:5);return r.state={yearsList:uF(r.props.year,d,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(o){return o.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=En({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return de.createElement(fp,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(M.Component),fF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?Nt(n.props.minDate):1900,i=n.props.maxDate?Nt(n.props.maxDate):2100,o=[],d=r;d<=i;d++)o.push(de.createElement("option",{key:d,value:d},d));return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return de.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return de.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},de.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),de.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return de.createElement(dF,Pt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var o;(o=n.onSelect)===null||o===void 0||o.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var o,d;(d=(o=n.props).onSelect)===null||d===void 0||d.call(o,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return de.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(M.Component),hF=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],pF=function(e){var t=(e.className||"").split(/\s+/);return hF.some(function(n){return t.indexOf(n)>=0})},mF=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var o,d;pF(i.target)&&((d=(o=r.props).onDropdownFocus)===null||d===void 0||d.call(o,i))},r.getDateInView=function(){var i=r.props,o=i.preSelection,d=i.selected,x=i.openToDate,g=ME(r.props),v=LE(r.props),w=Gt(),N=x||d||o;return N||(g&&fl(w,g)?g:v&&fo(w,v)?v:w)},r.increaseMonth=function(){r.setState(function(i){var o=i.date;return{date:hi(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var o=i.date;return{date:nl(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,o,d){r.props.onSelect(i,o,d),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,o){r.setState({selectingDate:_i(Gt(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)},r.handleYearMouseLeave=function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)},r.handleYearChange=function(i){var o,d,x,g;(d=(o=r.props).onYearChange)===null||d===void 0||d.call(o,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(g=(x=r.props).setOpen)===null||g===void 0||g.call(x,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Hs(i,r.props))return i;for(var o=pa(i),d=LP(i),x=_O(d,o),g=null,v=0;v<=x;v++){var w=di(o,v);if(!Hs(w,r.props)){g=w;break}}return g},r.handleMonthChange=function(i){var o,d,x,g=(o=r.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;r.handleCustomMonthChange(g),r.props.adjustDateOnChange&&(r.props.onSelect(g),(x=(d=r.props).setOpen)===null||x===void 0||x.call(d,!0)),r.props.setPreSelection&&r.props.setPreSelection(g)},r.handleCustomMonthChange=function(i){var o,d;(d=(o=r.props).onMonthChange)===null||d===void 0||d.call(o,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(o){var d=o.date;return{date:_i(d,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(o){var d=o.date;return{date:Us(d,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(o){var d=o.date;return{date:_i(Us(d,Rr(i)),Nt(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var o=lo(i,r.props.locale,r.props.calendarStartDay),d=[];return r.props.showWeekNumbers&&d.push(de.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(x){var g=di(o,x),v=r.formatWeekday(g,r.props.locale),w=r.props.weekDayClassName?r.props.weekDayClassName(g):void 0;return de.createElement("div",{key:x,"aria-label":_n(g,"EEEE",r.props.locale),className:En("react-datepicker__day-name",w)},v)}))},r.formatWeekday=function(i,o){return r.props.formatWeekDay?PP(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?BP(i,o):FP(i,o)},r.decreaseYear=function(){r.setState(function(i){var o,d=i.date;return{date:bc(d,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,o,d;if(!r.props.renderCustomHeader){var x=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,g=r.props.showPreviousMonths?x-1:0,v=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:g,w=nl(r.state.date,v),N;switch(!0){case r.props.showMonthYearPicker:N=Vb(r.state.date,r.props);break;case r.props.showYearPicker:N=qP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:N=WP(r.state.date,r.props);break;default:N=Hb(w,r.props);break}if(!(!((d=r.props.forceShowMonthNavigation)!==null&&d!==void 0?d:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&N||r.props.showTimeSelectOnly)){var _=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],k=["react-datepicker__navigation","react-datepicker__navigation--previous"],A=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(A=r.decreaseYear),N&&r.props.showDisabledMonthNavigation&&(k.push("react-datepicker__navigation--previous--disabled"),A=void 0);var O=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,L=r.props,D=L.previousMonthButtonLabel,j=D===void 0?t.defaultProps.previousMonthButtonLabel:D,I=L.previousYearButtonLabel,W=I===void 0?t.defaultProps.previousYearButtonLabel:I,Q=r.props,B=Q.previousMonthAriaLabel,R=B===void 0?typeof j=="string"?j:"Previous Month":B,q=Q.previousYearAriaLabel,V=q===void 0?typeof W=="string"?W:"Previous Year":q;return de.createElement("button",{type:"button",className:k.join(" "),onClick:A,onKeyDown:r.props.handleOnKeyDown,"aria-label":O?V:R},de.createElement("span",{className:_.join(" ")},O?W:j))}}},r.increaseYear=function(){r.setState(function(i){var o,d=i.date;return{date:ua(d,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=Yb(r.state.date,r.props);break;case r.props.showYearPicker:o=VP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=HP(r.state.date,r.props);break;default:o=qb(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var g=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),g=void 0);var v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,N=w.nextMonthButtonLabel,_=N===void 0?t.defaultProps.nextMonthButtonLabel:N,k=w.nextYearButtonLabel,A=k===void 0?t.defaultProps.nextYearButtonLabel:k,O=r.props,L=O.nextMonthAriaLabel,D=L===void 0?typeof _=="string"?_:"Next Month":L,j=O.nextYearAriaLabel,I=j===void 0?typeof A=="string"?A:"Next Year":j;return de.createElement("button",{type:"button",className:d.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":v?I:D},de.createElement("span",{className:x.join(" ")},v?A:_))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),de.createElement("h2",{className:o.join(" ")},_n(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return de.createElement(fF,Pt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Nt(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return de.createElement(sF,Pt({},t.defaultProps,r.props,{month:Rr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return de.createElement(oF,Pt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(Fb(),i),r.props.setPreSelection&&r.props.setPreSelection(Fb())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return de.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var o=i.monthDate,d=i.i;return de.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),de.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(d!==0),r.renderMonthYearDropdown(d!==0),r.renderYearDropdown(d!==0)),de.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(i){var o,d,x=i.monthDate,g=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var v=Hb(r.state.date,r.props),w=qb(r.state.date,r.props),N=Vb(r.state.date,r.props),_=Yb(r.state.date,r.props),k=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return de.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(d=(o=r.props).renderCustomHeader)===null||d===void 0?void 0:d.call(o,Pt(Pt({},r.state),{customHeaderCount:g,monthDate:x,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:v,nextMonthButtonDisabled:w,prevYearButtonDisabled:N,nextYearButtonDisabled:_})),k&&de.createElement("div",{className:"react-datepicker__day-names"},r.header(x)))},r.renderYearHeader=function(i){var o=i.monthDate,d=r.props,x=d.showYearPicker,g=d.yearItemNumber,v=g===void 0?t.defaultProps.yearItemNumber:g,w=Ka(o,v),N=w.startPeriod,_=w.endPeriod;return de.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},x?"".concat(N," - ").concat(_):Nt(o))},r.renderHeader=function(i){var o=i.monthDate,d=i.i,x=d===void 0?0:d,g={monthDate:o,i:x};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(g);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(g);default:return r.renderDefaultHeader(g)}},r.renderMonths=function(){var i,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var d=[],x=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,g=r.props.showPreviousMonths?x-1:0,v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ua(r.state.date,g):nl(r.state.date,g),w=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:g,N=0;N<x;++N){var _=N-w+g,k=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ua(v,_):hi(v,_),A="month-".concat(N),O=N<x-1,L=N>0;d.push(de.createElement("div",{key:A,ref:function(D){r.monthContainer=D??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:k,i:N}),de.createElement(nF,Pt({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:k,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:N,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:O,monthShowsDuplicateDaysStart:L}))))}return d}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return de.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),de.createElement(cF,Pt({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return de.createElement(lF,Pt({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,o=i&&hp(i)&&!!r.props.selected,d=o?"".concat(Gb(i.getHours()),":").concat(Gb(i.getMinutes())):"";if(r.props.showTimeInput)return de.createElement(KP,Pt({},t.defaultProps,r.props,{date:i,timeString:d,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,o=Ka(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),d=o.startPeriod,x=o.endPeriod,g;return r.props.showYearPicker?g="".concat(d," - ").concat(x):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?g=Nt(r.state.date):g="".concat(b2(Rr(r.state.date),r.props.locale)," ").concat(Nt(r.state.date)),de.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&g)},r.renderChildren=function(){if(r.props.children)return de.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=M.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:jd}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Lt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!zr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Lt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||kP;return de.createElement(fp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},de.createElement("div",{style:{display:"contents"},ref:this.containerRef},de.createElement(n,{className:En("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(M.Component),xF=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,i=e.onClick,o="react-datepicker__calendar-icon";if(typeof t=="string")return de.createElement("i",{className:"".concat(o," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i});if(de.isValidElement(t)){var d=t;return de.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(o," ").concat(r),onClick:function(x){typeof d.props.onClick=="function"&&d.props.onClick(x),typeof i=="function"&&i(x)}})}return de.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},de.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},FE=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return WT.createPortal(this.props.children,this.el)},t}(M.Component),gF="[tabindex], a, button, input, select, textarea",vF=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},BE=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(gF),1,-1).filter(vF)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=M.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?de.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},de.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,de.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(M.Component);function yF(e){var t=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,o=M.useRef(null),d=jP(Pt({open:!i,whileElementsMounted:lP,placement:n.popperPlacement,middleware:Di([mP({padding:15}),pP(10),xP({element:o})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),x=Pt(Pt({},n),{hidePopper:i,popperProps:Pt(Pt({},d),{arrowRef:o})});return de.createElement(e,Pt({},x))};return t}var wF=function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,o=n.hidePopper,d=o===void 0?t.defaultProps.hidePopper:o,x=n.popperComponent,g=n.targetComponent,v=n.enableTabLoop,w=n.popperOnKeyDown,N=n.portalId,_=n.portalHost,k=n.popperProps,A=n.showArrow,O=void 0;if(!d){var L=En("react-datepicker-popper",r);O=de.createElement(BE,{enableTabLoop:v},de.createElement("div",{ref:k.refs.setFloating,style:k.floatingStyles,className:L,"data-placement":k.placement,onKeyDown:w},x,A&&de.createElement(bP,{ref:k.arrowRef,context:k.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(O=M.createElement(this.props.popperContainer,{},O)),N&&!d&&(O=de.createElement(FE,{portalId:N,portalHost:_},O));var D=En("react-datepicker-wrapper",i);return de.createElement(de.Fragment,null,de.createElement("div",{ref:k.refs.setReference,className:D},g),O)},t}(M.Component),bF=yF(wF),e3="react-datepicker-ignore-onclickoutside";function CF(e,t){return e&&t?Rr(e)!==Rr(t)||Nt(e)!==Nt(t):e!==t}var im="Date input not valid.",UE=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Gt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,d){var x=new Date(d.date);return hp(x)?Di(Di([],o,!0),[Pt(Pt({},d),{date:x})],!1):o},[])},r.calcInitialState=function(){var i,o=r.getPreSelection(),d=ME(r.props),x=LE(r.props),g=d&&fl(o,E0(d))?d:x&&fo(o,Bb(x))?x:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:g,highlightDates:$b(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Pt(Pt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Pt(Pt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,o;(o=(i=r.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},r.setBlur=function(){var i,o;(o=(i=r.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,o){o===void 0&&(o=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:am},function(){i||r.setState(function(d){return{focused:o?d.focused:!1}},function(){!o&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return da(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var o,d,x=r.state.wasHidden,g=x?r.state.open:!0;x&&r.resetHiddenStatus(),r.state.preventFocus||((d=(o=r.props).onFocus)===null||d===void 0||d.call(o,i),g&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var o,d;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((d=(o=r.props).onBlur)===null||d===void 0||d.call(o,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var o,d;r.props.inline||r.setOpen(!1),(d=(o=r.props).onClickOutside)===null||d===void 0||d.call(o,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,o,d,x,g,v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];var N=v[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,v),!N||typeof N.isDefaultPrevented!="function"||N.isDefaultPrevented()))){r.setState({inputValue:(N==null?void 0:N.target)instanceof HTMLInputElement?N.target.value:null,lastPreSelectChange:NF});var _=r.props,k=_.selectsRange,A=_.startDate,O=_.endDate,L=(i=r.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,D=(o=r.props.strictParsing)!==null&&o!==void 0?o:t.defaultProps.strictParsing,j=(N==null?void 0:N.target)instanceof HTMLInputElement?N.target.value:"";if(k){var I=j.split(L.includes("-")?IE:"-",2).map(function(ce){return ce.trim()}),W=I[0],Q=I[1],B=nm(W??"",L,r.props.locale,D),R=nm(Q??"",L,r.props.locale,D),q=(A==null?void 0:A.getTime())!==(B==null?void 0:B.getTime()),V=(O==null?void 0:O.getTime())!==(R==null?void 0:R.getTime());if(!q&&!V||B&&Hs(B,r.props)||R&&Hs(R,r.props))return;(x=(d=r.props).onChange)===null||x===void 0||x.call(d,[B,R],N)}else{var te=nm(j,L,r.props.locale,D,(g=r.props.selected)!==null&&g!==void 0?g:void 0);(te||!j)&&r.setSelected(te,N,!0)}}},r.handleSelect=function(i,o,d){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(i,o,!1,d),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var x=r.props,g=x.startDate,v=x.endDate;g&&!v&&(r.props.swapRange||!Kb(i,g))&&r.setOpen(!1)}}},r.setSelected=function(i,o,d,x){var g,v,w=i;if(r.props.showYearPicker){if(w!==null&&_0(Nt(w),r.props))return}else if(r.props.showMonthYearPicker){if(w!==null&&OE(w,r.props))return}else if(w!==null&&Hs(w,r.props))return;var N=r.props,_=N.onChange,k=N.selectsRange,A=N.startDate,O=N.endDate,L=N.selectsMultiple,D=N.selectedDates,j=N.minTime,I=N.swapRange;if(!Zo(r.props.selected,w)||r.props.allowSameDay||k||L)if(w!==null&&(r.props.selected&&(!d||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(w=rm(w,{hour:fa(r.props.selected),minute:ha(r.props.selected),second:oo(r.props.selected)})),!d&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&j&&(w=rm(w,{hour:j.getHours(),minute:j.getMinutes(),second:j.getSeconds()})),r.props.inline||r.setState({preSelection:w}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:x})),k){var W=!A&&!O,Q=A&&!O,B=A&&O;W?_==null||_([w,null],o):Q&&(w===null?_==null||_([null,null],o):Kb(w,A)?I?_==null||_([w,A],o):_==null||_([w,null],o):_==null||_([A,w],o)),B&&(_==null||_([w,null],o))}else if(L){if(w!==null)if(!(D!=null&&D.length))_==null||_([w],o);else{var R=D.some(function(V){return Lt(V,w)});if(R){var q=D.filter(function(V){return!Lt(V,w)});_==null||_(q,o)}else _==null||_(Di(Di([],D,!0),[w],!1),o)}}else _==null||_(w,o);d||((v=(g=r.props).onSelect)===null||v===void 0||v.call(g,w,o),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var o=da(r.props.minDate),d=da(r.props.maxDate),x=!0;if(i){var g=E0(i);if(o&&d)x=Du(i,r.props.minDate,r.props.maxDate);else if(o){var v=E0(r.props.minDate);x=fo(i,v)||Zo(g,v)}else if(d){var w=Bb(r.props.maxDate);x=fl(i,w)||Zo(g,w)}}x&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var o,d;if(!(r.props.selectsRange||r.props.selectsMultiple)){var x=r.props.selected?r.props.selected:r.getPreSelection(),g=r.props.selected?i:rm(x,{hour:fa(i),minute:ha(i)});r.setState({preSelection:g}),(d=(o=r.props).onChange)===null||d===void 0||d.call(o,g),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(i=r.props).onInputClick)===null||o===void 0||o.call(i)},r.onInputKeyDown=function(i){var o,d,x,g,v,w;(d=(o=r.props).onKeyDown)===null||d===void 0||d.call(o,i);var N=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(N===Ue.ArrowDown||N===Ue.ArrowUp||N===Ue.Enter)&&((x=r.onInputClick)===null||x===void 0||x.call(r));return}if(r.state.open){if(N===Ue.ArrowDown||N===Ue.ArrowUp){i.preventDefault();var _=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',k=((g=r.calendar)===null||g===void 0?void 0:g.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(_);k instanceof HTMLElement&&k.focus({preventScroll:!0});return}var A=Gt(r.state.preSelection);N===Ue.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===am?(r.handleSelect(A,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(A)):r.setOpen(!1)):N===Ue.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):N===Ue.Tab&&r.setOpen(!1),r.inputOk()||(w=(v=r.props).onInputError)===null||w===void 0||w.call(v,{code:1,msg:im})}},r.onPortalKeyDown=function(i){var o=i.key;o===Ue.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var o,d,x,g,v,w,N=r.props,_=N.minDate,k=N.maxDate,A=N.disabledKeyboardNavigation,O=N.showWeekPicker,L=N.shouldCloseOnSelect,D=N.locale,j=N.calendarStartDay,I=N.adjustDateOnChange,W=N.inline;if((d=(o=r.props).onKeyDown)===null||d===void 0||d.call(o,i),!A){var Q=i.key,B=i.shiftKey,R=Gt(r.state.preSelection),q=function(se,Ee){var ge=Ee;switch(se){case Ue.ArrowRight:ge=O?lh(Ee,1):di(Ee,1);break;case Ue.ArrowLeft:ge=O?vb(Ee,1):k9(Ee,1);break;case Ue.ArrowUp:ge=vb(Ee,1);break;case Ue.ArrowDown:ge=lh(Ee,1);break;case Ue.PageUp:ge=B?bc(Ee,1):nl(Ee,1);break;case Ue.PageDown:ge=B?ua(Ee,1):hi(Ee,1);break;case Ue.Home:ge=lo(Ee,D,j);break;case Ue.End:ge=MP(Ee);break}return ge},V=function(se,Ee){for(var ge=40,ue=se,xe=!1,Me=0,Ve=q(se,Ee);!xe;){if(Me>=ge){Ve=Ee;break}_&&Ve<_&&(ue=Ue.ArrowRight,Ve=Hs(_,r.props)?q(ue,Ve):_),k&&Ve>k&&(ue=Ue.ArrowLeft,Ve=Hs(k,r.props)?q(ue,Ve):k),Hs(Ve,r.props)?((ue===Ue.PageUp||ue===Ue.Home)&&(ue=Ue.ArrowRight),(ue===Ue.PageDown||ue===Ue.End)&&(ue=Ue.ArrowLeft),Ve=q(ue,Ve)):xe=!0,Me++}return Ve};if(Q===Ue.Enter){i.preventDefault(),r.handleSelect(R,i),!L&&r.setPreSelection(R);return}else if(Q===Ue.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(g=(x=r.props).onInputError)===null||g===void 0||g.call(x,{code:1,msg:im});return}var te=null;switch(Q){case Ue.ArrowLeft:case Ue.ArrowRight:case Ue.ArrowUp:case Ue.ArrowDown:case Ue.PageUp:case Ue.PageDown:case Ue.Home:case Ue.End:te=V(Q,R);break}if(!te){(w=(v=r.props).onInputError)===null||w===void 0||w.call(v,{code:1,msg:im});return}if(i.preventDefault(),r.setState({lastPreSelectChange:am}),I&&r.setSelected(te),r.setPreSelection(te),W){var ce=Rr(R),J=Rr(te),oe=Nt(R),ke=Nt(te);ce!==J||oe!==ke?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var o=i.key;o===Ue.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var o=r.props,d=o.selectsRange,x=o.onChange;d?x==null||x([null,null],i):x==null||x(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,o;return!r.props.inline&&!r.isCalendarOpen()?null:de.createElement(mF,Pt({showMonthYearDropdown:void 0,ref:function(d){r.calendar=d}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:$P(r.modifyHolidays()),outsideClickIgnoreClass:e3,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,o=i.dateFormat,d=o===void 0?t.defaultProps.dateFormat:o,x=i.locale,g=r.props.showTimeInput||r.props.showTimeSelect,v=g?"PPPPp":"PPPP",w;return r.props.selectsRange?w="Selected start date: ".concat(Bs(r.props.startDate,{dateFormat:v,locale:x}),". ").concat(r.props.endDate?"End date: "+Bs(r.props.endDate,{dateFormat:v,locale:x}):""):r.props.showTimeSelectOnly?w="Selected time: ".concat(Bs(r.props.selected,{dateFormat:d,locale:x})):r.props.showYearPicker?w="Selected year: ".concat(Bs(r.props.selected,{dateFormat:"yyyy",locale:x})):r.props.showMonthYearPicker?w="Selected month: ".concat(Bs(r.props.selected,{dateFormat:"MMMM yyyy",locale:x})):r.props.showQuarterYearPicker?w="Selected quarter: ".concat(Bs(r.props.selected,{dateFormat:"yyyy, QQQ",locale:x})):w="Selected date: ".concat(Bs(r.props.selected,{dateFormat:v,locale:x})),de.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},w)},r.renderDateInput=function(){var i,o,d,x=En(r.props.className,(i={},i[e3]=r.state.open,i)),g=r.props.customInput||de.createElement("input",{type:"text"}),v=r.props.customInputRef||"ref",w=r.props,N=w.dateFormat,_=N===void 0?t.defaultProps.dateFormat:N,k=w.locale,A=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?DP(r.props.startDate,r.props.endDate,{dateFormat:_,locale:k}):r.props.selectsMultiple?IP((d=r.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:_,locale:k}):Bs(r.props.selected,{dateFormat:_,locale:k});return M.cloneElement(g,(o={},o[v]=function(O){r.input=O},o.value=A,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=En(g.props.className,x),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var i=r.props,o=i.isClearable,d=i.disabled,x=i.selected,g=i.startDate,v=i.endDate,w=i.clearButtonTitle,N=i.clearButtonClassName,_=N===void 0?"":N,k=i.ariaLabelClose,A=k===void 0?"Close":k,O=i.selectedDates,L=i.readOnly;return o&&!L&&(x!=null||g!=null||v!=null||O!=null&&O.length)?de.createElement("button",{type:"button",className:En("react-datepicker__close-icon",_,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":A,onClick:r.onClearClick,title:w,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:jd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var i,o,d,x;n.inline&&CF(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:$b(this.props.highlightDates)}),!r.focused&&!Zo(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),r.open===!0&&this.state.open===!1&&((x=(d=this.props).onCalendarClose)===null||x===void 0||x.call(d)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,o=n.calendarIconClassname,d=n.calendarIconClassName,x=n.toggleCalendarOnIconClick,g=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),de.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&de.createElement(xF,Pt({icon:i,className:En(d,!d&&o,g&&"react-datepicker-ignore-onclickoutside")},x?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?de.createElement(BE,{enableTabLoop:this.props.enableTabLoop},de.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=de.createElement(FE,Pt({portalId:this.props.portalId},this.props),r)),de.createElement("div",null,this.renderInputContainer(),r)}return de.createElement(bF,Pt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(M.Component),NF="input",am="navigate";var Ch={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ch.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",x="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",v=500,w="__lodash_placeholder__",N=1,_=2,k=4,A=1,O=2,L=1,D=2,j=4,I=8,W=16,Q=32,B=64,R=128,q=256,V=512,te=30,ce="...",J=800,oe=16,ke=1,se=2,Ee=3,ge=1/0,ue=9007199254740991,xe=17976931348623157e292,Me=0/0,Ve=4294967295,nt=Ve-1,Ae=Ve>>>1,Xe=[["ary",R],["bind",L],["bindKey",D],["curry",I],["curryRight",W],["flip",V],["partial",Q],["partialRight",B],["rearg",q]],it="[object Arguments]",_e="[object Array]",De="[object AsyncFunction]",at="[object Boolean]",qt="[object Date]",Qt="[object DOMException]",Vt="[object Error]",Wt="[object Function]",Ce="[object GeneratorFunction]",Ke="[object Map]",It="[object Number]",ye="[object Null]",Se="[object Object]",ze="[object Promise]",Qe="[object Proxy]",Pe="[object RegExp]",je="[object Set]",vn="[object String]",Qn="[object Symbol]",Le="[object Undefined]",et="[object WeakMap]",Rt="[object WeakSet]",an="[object ArrayBuffer]",Kt="[object DataView]",hn="[object Float32Array]",as="[object Float64Array]",Ss="[object Int8Array]",Fi="[object Int16Array]",sn="[object Int32Array]",Oe="[object Uint8Array]",on="[object Uint8ClampedArray]",Tt="[object Uint16Array]",Yt="[object Uint32Array]",Qs=/\b__p \+= '';/g,bo=/\b(__p \+=) '' \+/g,Id=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ot=/&(?:amp|lt|gt|quot|#39);/g,xi=/[&<>"']/g,Rd=RegExp(Ot.source),Od=RegExp(xi.source),os=/<%-([\s\S]+?)%>/g,Pc=/<%([\s\S]+?)%>/g,tr=/<%=([\s\S]+?)%>/g,_a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vl=/^\w*$/,As=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fc=/[\\^$.*+?()[\]{}|]/g,Bi=RegExp(Fc.source),Co=/^\s+/,Cr=/\s/,Ui=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$r=/\{\n\/\* \[wrapped with (.+)\] \*/,We=/,? & /,Sa=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bc=/[()=,{}\[\]\/\s]/,Nr=/\\(\\)?/g,Aa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,No=/\w*$/,yl=/^[-+]0x[0-9a-f]+$/i,js=/^0b[01]+$/i,xp=/^\[object .+?Constructor\]$/,gp=/^0o[0-7]+$/i,ks=/^(?:0|[1-9]\d*)$/,xr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zt=/($^)/,Md=/['\n\r\u2028\u2029\\]/g,ls="\\ud800-\\udfff",Uc="\\u0300-\\u036f",Ne="\\ufe20-\\ufe2f",vp="\\u20d0-\\u20ff",pn=Uc+Ne+vp,zi="\\u2700-\\u27bf",Ld="a-z\\xdf-\\xf6\\xf8-\\xff",Bt="\\xac\\xb1\\xd7\\xf7",Mt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Et="\\u2000-\\u206f",zc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wl="A-Z\\xc0-\\xd6\\xd8-\\xde",bl="\\ufe0e\\ufe0f",In=Bt+Mt+Et+zc,Ts="['’]",yp="["+ls+"]",yn="["+In+"]",cs="["+pn+"]",Pd="\\d+",ja="["+zi+"]",Jt="["+Ld+"]",nr="[^"+ls+In+Pd+zi+Ld+wl+"]",le="\\ud83c[\\udffb-\\udfff]",K="(?:"+cs+"|"+le+")",Je="[^"+ls+"]",Rn="(?:\\ud83c[\\udde6-\\uddff]){2}",Er="[\\ud800-\\udbff][\\udc00-\\udfff]",ka="["+wl+"]",Cl="\\u200d",Mr="(?:"+Jt+"|"+nr+")",rt="(?:"+ka+"|"+nr+")",un="(?:"+Ts+"(?:d|ll|m|re|s|t|ve))?",Wc="(?:"+Ts+"(?:D|LL|M|RE|S|T|VE))?",Fd=K+"?",Nl="["+bl+"]?",El="(?:"+Cl+"(?:"+[Je,Rn,Er].join("|")+")"+Nl+Fd+")*",Hc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Hn=Nl+Fd+El,Eo="(?:"+[ja,Rn,Er].join("|")+")"+Hn,gi="(?:"+[Je+cs+"?",cs,Rn,Er,yp].join("|")+")",ot=RegExp(Ts,"g"),bp=RegExp(cs,"g"),pt=RegExp(le+"(?="+le+")|"+gi+Hn,"g"),rr=RegExp([ka+"?"+Jt+"+"+un+"(?="+[yn,ka,"$"].join("|")+")",rt+"+"+Wc+"(?="+[yn,ka+Mr,"$"].join("|")+")",ka+"?"+Mr+"+"+un,ka+"+"+Wc,wp,Hc,Pd,Eo].join("|"),"g"),Cp=RegExp("["+Cl+ls+pn+bl+"]"),qc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wi=-1,ln={};ln[hn]=ln[as]=ln[Ss]=ln[Fi]=ln[sn]=ln[Oe]=ln[on]=ln[Tt]=ln[Yt]=!0,ln[it]=ln[_e]=ln[an]=ln[at]=ln[Kt]=ln[qt]=ln[Vt]=ln[Wt]=ln[Ke]=ln[It]=ln[Se]=ln[Pe]=ln[je]=ln[vn]=ln[et]=!1;var Ut={};Ut[it]=Ut[_e]=Ut[an]=Ut[Kt]=Ut[at]=Ut[qt]=Ut[hn]=Ut[as]=Ut[Ss]=Ut[Fi]=Ut[sn]=Ut[Ke]=Ut[It]=Ut[Se]=Ut[Pe]=Ut[je]=Ut[vn]=Ut[Qn]=Ut[Oe]=Ut[on]=Ut[Tt]=Ut[Yt]=!0,Ut[Vt]=Ut[Wt]=Ut[et]=!1;var _o={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},So={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ud={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ao={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jo=parseFloat,_r=parseInt,Vc=typeof Ai=="object"&&Ai&&Ai.Object===Object&&Ai,zd=typeof self=="object"&&self&&self.Object===Object&&self,Kn=Vc||zd||Function("return this")(),Yc=t&&!t.nodeType&&t,Hi=Yc&&!0&&e&&!e.nodeType&&e,Wd=Hi&&Hi.exports===Yc,zt=Wd&&Vc.process,Lr=function(){try{var z=Hi&&Hi.require&&Hi.require("util").types;return z||zt&&zt.binding&&zt.binding("util")}catch{}}(),ko=Lr&&Lr.isArrayBuffer,Ks=Lr&&Lr.isDate,Hd=Lr&&Lr.isMap,fe=Lr&&Lr.isRegExp,vt=Lr&&Lr.isSet,Zn=Lr&&Lr.isTypedArray;function cr(z,$,X){switch(X.length){case 0:return z.call($);case 1:return z.call($,X[0]);case 2:return z.call($,X[0],X[1]);case 3:return z.call($,X[0],X[1],X[2])}return z.apply($,X)}function qd(z,$,X,ne){for(var he=-1,me=z==null?0:z.length;++he<me;){var ve=z[he];$(ne,ve,X(ve),z)}return ne}function Gr(z,$){for(var X=-1,ne=z==null?0:z.length;++X<ne&&$(z[X],X,z)!==!1;);return z}function Np(z,$){for(var X=z==null?0:z.length;X--&&$(z[X],X,z)!==!1;);return z}function Vd(z,$){for(var X=-1,ne=z==null?0:z.length;++X<ne;)if(!$(z[X],X,z))return!1;return!0}function Ds(z,$){for(var X=-1,ne=z==null?0:z.length,he=0,me=[];++X<ne;){var ve=z[X];$(ve,X,z)&&(me[he++]=ve)}return me}function wn(z,$){var X=z==null?0:z.length;return!!X&&gr(z,$,0)>-1}function To(z,$,X){for(var ne=-1,he=z==null?0:z.length;++ne<he;)if(X($,z[ne]))return!0;return!1}function dt(z,$){for(var X=-1,ne=z==null?0:z.length,he=Array(ne);++X<ne;)he[X]=$(z[X],X,z);return he}function us(z,$){for(var X=-1,ne=$.length,he=z.length;++X<ne;)z[he+X]=$[X];return z}function Zs(z,$,X,ne){var he=-1,me=z==null?0:z.length;for(ne&&me&&(X=z[++he]);++he<me;)X=$(X,z[he],he,z);return X}function en(z,$,X,ne){var he=z==null?0:z.length;for(ne&&he&&(X=z[--he]);he--;)X=$(X,z[he],he,z);return X}function st(z,$){for(var X=-1,ne=z==null?0:z.length;++X<ne;)if($(z[X],X,z))return!0;return!1}var Ep=Al("length");function cn(z){return z.split("")}function qi(z){return z.match(Sa)||[]}function Vi(z,$,X){var ne;return X(z,function(he,me,ve){if($(he,me,ve))return ne=me,!1}),ne}function _l(z,$,X,ne){for(var he=z.length,me=X+(ne?1:-1);ne?me--:++me<he;)if($(z[me],me,z))return me;return-1}function gr(z,$,X){return $===$?c(z,$,X):_l(z,Gc,X)}function $c(z,$,X,ne){for(var he=X-1,me=z.length;++he<me;)if(ne(z[he],$))return he;return-1}function Gc(z){return z!==z}function Sl(z,$){var X=z==null?0:z.length;return X?Do(z,$)/X:Me}function Al(z){return function($){return $==null?n:$[z]}}function jl(z){return function($){return z==null?n:z[$]}}function Yd(z,$,X,ne,he){return he(z,function(me,ve,Ge){X=ne?(ne=!1,me):$(X,me,ve,Ge)}),X}function Ta(z,$){var X=z.length;for(z.sort($);X--;)z[X]=z[X].value;return z}function Do(z,$){for(var X,ne=-1,he=z.length;++ne<he;){var me=$(z[ne]);me!==n&&(X=X===n?me:X+me)}return X}function Xc(z,$){for(var X=-1,ne=Array(z);++X<z;)ne[X]=$(X);return ne}function Io(z,$){return dt($,function(X){return[X,z[X]]})}function $d(z){return z&&z.slice(0,y(z)+1).replace(Co,"")}function On(z){return function($){return z($)}}function Da(z,$){return dt($,function(X){return z[X]})}function ur(z,$){return z.has($)}function Qc(z,$){for(var X=-1,ne=z.length;++X<ne&&gr($,z[X],0)>-1;);return X}function ds(z,$){for(var X=z.length;X--&&gr($,z[X],0)>-1;);return X}function _p(z,$){for(var X=z.length,ne=0;X--;)z[X]===$&&++ne;return ne}var Kc=jl(_o),Sp=jl(So);function Gd(z){return"\\"+Ao[z]}function Is(z,$){return z==null?n:z[$]}function Ia(z){return Cp.test(z)}function Zc(z){return qc.test(z)}function Ro(z){for(var $,X=[];!($=z.next()).done;)X.push($.value);return X}function _t(z){var $=-1,X=Array(z.size);return z.forEach(function(ne,he){X[++$]=[he,ne]}),X}function Oo(z,$){return function(X){return z($(X))}}function P(z,$){for(var X=-1,ne=z.length,he=0,me=[];++X<ne;){var ve=z[X];(ve===$||ve===w)&&(z[X]=w,me[he++]=X)}return me}function s(z){var $=-1,X=Array(z.size);return z.forEach(function(ne){X[++$]=ne}),X}function l(z){var $=-1,X=Array(z.size);return z.forEach(function(ne){X[++$]=[ne,ne]}),X}function c(z,$,X){for(var ne=X-1,he=z.length;++ne<he;)if(z[ne]===$)return ne;return-1}function f(z,$,X){for(var ne=X+1;ne--;)if(z[ne]===$)return ne;return ne}function h(z){return Ia(z)?E(z):Ep(z)}function m(z){return Ia(z)?T(z):cn(z)}function y(z){for(var $=z.length;$--&&Cr.test(z.charAt($)););return $}var C=jl(Ud);function E(z){for(var $=pt.lastIndex=0;pt.test(z);)++$;return $}function T(z){return z.match(pt)||[]}function F(z){return z.match(rr)||[]}var H=function z($){$=$==null?Kn:Z.defaults(Kn.Object(),$,Z.pick(Kn,Bd));var X=$.Array,ne=$.Date,he=$.Error,me=$.Function,ve=$.Math,Ge=$.Object,ht=$.RegExp,Sr=$.String,bn=$.TypeError,sr=X.prototype,tn=me.prototype,Cn=Ge.prototype,dr=$["__core-js_shared__"],Js=tn.toString,jt=Cn.hasOwnProperty,Ap=0,Xd=function(){var u=/[^.]+$/.exec(dr&&dr.keys&&dr.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Qd=Cn.toString,d5=Js.call(Ge),f5=Kn._,h5=ht("^"+Js.call(jt).replace(Fc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kd=Wd?$.Buffer:n,Ra=$.Symbol,Zd=$.Uint8Array,T2=Kd?Kd.allocUnsafe:n,Jd=Oo(Ge.getPrototypeOf,Ge),D2=Ge.create,I2=Cn.propertyIsEnumerable,ef=sr.splice,R2=Ra?Ra.isConcatSpreadable:n,Jc=Ra?Ra.iterator:n,Mo=Ra?Ra.toStringTag:n,tf=function(){try{var u=Uo(Ge,"defineProperty");return u({},"",{}),u}catch{}}(),p5=$.clearTimeout!==Kn.clearTimeout&&$.clearTimeout,m5=ne&&ne.now!==Kn.Date.now&&ne.now,x5=$.setTimeout!==Kn.setTimeout&&$.setTimeout,nf=ve.ceil,rf=ve.floor,jp=Ge.getOwnPropertySymbols,g5=Kd?Kd.isBuffer:n,O2=$.isFinite,v5=sr.join,y5=Oo(Ge.keys,Ge),ir=ve.max,Ar=ve.min,w5=ne.now,b5=$.parseInt,M2=ve.random,C5=sr.reverse,kp=Uo($,"DataView"),eu=Uo($,"Map"),Tp=Uo($,"Promise"),kl=Uo($,"Set"),tu=Uo($,"WeakMap"),nu=Uo(Ge,"create"),sf=tu&&new tu,Tl={},N5=zo(kp),E5=zo(eu),_5=zo(Tp),S5=zo(kl),A5=zo(tu),af=Ra?Ra.prototype:n,ru=af?af.valueOf:n,L2=af?af.toString:n;function Y(u){if(Mn(u)&&!mt(u)&&!(u instanceof kt)){if(u instanceof Rs)return u;if(jt.call(u,"__wrapped__"))return Pv(u)}return new Rs(u)}var Dl=function(){function u(){}return function(p){if(!Sn(p))return{};if(D2)return D2(p);u.prototype=p;var b=new u;return u.prototype=n,b}}();function of(){}function Rs(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}Y.templateSettings={escape:os,evaluate:Pc,interpolate:tr,variable:"",imports:{_:Y}},Y.prototype=of.prototype,Y.prototype.constructor=Y,Rs.prototype=Dl(of.prototype),Rs.prototype.constructor=Rs;function kt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ve,this.__views__=[]}function j5(){var u=new kt(this.__wrapped__);return u.__actions__=Xr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Xr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Xr(this.__views__),u}function k5(){if(this.__filtered__){var u=new kt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function T5(){var u=this.__wrapped__.value(),p=this.__dir__,b=mt(u),S=p<0,U=b?u.length:0,G=W_(0,U,this.__views__),ee=G.start,re=G.end,ae=re-ee,we=S?re:ee-1,be=this.__iteratees__,Te=be.length,Be=0,Ze=Ar(ae,this.__takeCount__);if(!b||!S&&U==ae&&Ze==ae)return av(u,this.__actions__);var ct=[];e:for(;ae--&&Be<Ze;){we+=p;for(var bt=-1,ut=u[we];++bt<Te;){var St=be[bt],Dt=St.iteratee,ps=St.type,Br=Dt(ut);if(ps==se)ut=Br;else if(!Br){if(ps==ke)continue e;break e}}ct[Be++]=ut}return ct}kt.prototype=Dl(of.prototype),kt.prototype.constructor=kt;function Lo(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var S=u[p];this.set(S[0],S[1])}}function D5(){this.__data__=nu?nu(null):{},this.size=0}function I5(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p}function R5(u){var p=this.__data__;if(nu){var b=p[u];return b===g?n:b}return jt.call(p,u)?p[u]:n}function O5(u){var p=this.__data__;return nu?p[u]!==n:jt.call(p,u)}function M5(u,p){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=nu&&p===n?g:p,this}Lo.prototype.clear=D5,Lo.prototype.delete=I5,Lo.prototype.get=R5,Lo.prototype.has=O5,Lo.prototype.set=M5;function Yi(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var S=u[p];this.set(S[0],S[1])}}function L5(){this.__data__=[],this.size=0}function P5(u){var p=this.__data__,b=lf(p,u);if(b<0)return!1;var S=p.length-1;return b==S?p.pop():ef.call(p,b,1),--this.size,!0}function F5(u){var p=this.__data__,b=lf(p,u);return b<0?n:p[b][1]}function B5(u){return lf(this.__data__,u)>-1}function U5(u,p){var b=this.__data__,S=lf(b,u);return S<0?(++this.size,b.push([u,p])):b[S][1]=p,this}Yi.prototype.clear=L5,Yi.prototype.delete=P5,Yi.prototype.get=F5,Yi.prototype.has=B5,Yi.prototype.set=U5;function $i(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var S=u[p];this.set(S[0],S[1])}}function z5(){this.size=0,this.__data__={hash:new Lo,map:new(eu||Yi),string:new Lo}}function W5(u){var p=wf(this,u).delete(u);return this.size-=p?1:0,p}function H5(u){return wf(this,u).get(u)}function q5(u){return wf(this,u).has(u)}function V5(u,p){var b=wf(this,u),S=b.size;return b.set(u,p),this.size+=b.size==S?0:1,this}$i.prototype.clear=z5,$i.prototype.delete=W5,$i.prototype.get=H5,$i.prototype.has=q5,$i.prototype.set=V5;function Po(u){var p=-1,b=u==null?0:u.length;for(this.__data__=new $i;++p<b;)this.add(u[p])}function Y5(u){return this.__data__.set(u,g),this}function $5(u){return this.__data__.has(u)}Po.prototype.add=Po.prototype.push=Y5,Po.prototype.has=$5;function ei(u){var p=this.__data__=new Yi(u);this.size=p.size}function G5(){this.__data__=new Yi,this.size=0}function X5(u){var p=this.__data__,b=p.delete(u);return this.size=p.size,b}function Q5(u){return this.__data__.get(u)}function K5(u){return this.__data__.has(u)}function Z5(u,p){var b=this.__data__;if(b instanceof Yi){var S=b.__data__;if(!eu||S.length<i-1)return S.push([u,p]),this.size=++b.size,this;b=this.__data__=new $i(S)}return b.set(u,p),this.size=b.size,this}ei.prototype.clear=G5,ei.prototype.delete=X5,ei.prototype.get=Q5,ei.prototype.has=K5,ei.prototype.set=Z5;function P2(u,p){var b=mt(u),S=!b&&Wo(u),U=!b&&!S&&Fa(u),G=!b&&!S&&!U&&Ml(u),ee=b||S||U||G,re=ee?Xc(u.length,Sr):[],ae=re.length;for(var we in u)(p||jt.call(u,we))&&!(ee&&(we=="length"||U&&(we=="offset"||we=="parent")||G&&(we=="buffer"||we=="byteLength"||we=="byteOffset")||Ki(we,ae)))&&re.push(we);return re}function F2(u){var p=u.length;return p?u[zp(0,p-1)]:n}function J5(u,p){return bf(Xr(u),Fo(p,0,u.length))}function e_(u){return bf(Xr(u))}function Dp(u,p,b){(b!==n&&!ti(u[p],b)||b===n&&!(p in u))&&Gi(u,p,b)}function su(u,p,b){var S=u[p];(!(jt.call(u,p)&&ti(S,b))||b===n&&!(p in u))&&Gi(u,p,b)}function lf(u,p){for(var b=u.length;b--;)if(ti(u[b][0],p))return b;return-1}function t_(u,p,b,S){return Oa(u,function(U,G,ee){p(S,U,b(U),ee)}),S}function B2(u,p){return u&&yi(p,fr(p),u)}function n_(u,p){return u&&yi(p,Kr(p),u)}function Gi(u,p,b){p=="__proto__"&&tf?tf(u,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[p]=b}function Ip(u,p){for(var b=-1,S=p.length,U=X(S),G=u==null;++b<S;)U[b]=G?n:f1(u,p[b]);return U}function Fo(u,p,b){return u===u&&(b!==n&&(u=u<=b?u:b),p!==n&&(u=u>=p?u:p)),u}function Os(u,p,b,S,U,G){var ee,re=p&N,ae=p&_,we=p&k;if(b&&(ee=U?b(u,S,U,G):b(u)),ee!==n)return ee;if(!Sn(u))return u;var be=mt(u);if(be){if(ee=q_(u),!re)return Xr(u,ee)}else{var Te=jr(u),Be=Te==Wt||Te==Ce;if(Fa(u))return cv(u,re);if(Te==Se||Te==it||Be&&!U){if(ee=ae||Be?{}:jv(u),!re)return ae?R_(u,n_(ee,u)):I_(u,B2(ee,u))}else{if(!Ut[Te])return U?u:{};ee=V_(u,Te,re)}}G||(G=new ei);var Ze=G.get(u);if(Ze)return Ze;G.set(u,ee),ry(u)?u.forEach(function(ut){ee.add(Os(ut,p,b,ut,u,G))}):ty(u)&&u.forEach(function(ut,St){ee.set(St,Os(ut,p,b,St,u,G))});var ct=we?ae?Zp:Kp:ae?Kr:fr,bt=be?n:ct(u);return Gr(bt||u,function(ut,St){bt&&(St=ut,ut=u[St]),su(ee,St,Os(ut,p,b,St,u,G))}),ee}function r_(u){var p=fr(u);return function(b){return U2(b,u,p)}}function U2(u,p,b){var S=b.length;if(u==null)return!S;for(u=Ge(u);S--;){var U=b[S],G=p[U],ee=u[U];if(ee===n&&!(U in u)||!G(ee))return!1}return!0}function z2(u,p,b){if(typeof u!="function")throw new bn(d);return du(function(){u.apply(n,b)},p)}function iu(u,p,b,S){var U=-1,G=wn,ee=!0,re=u.length,ae=[],we=p.length;if(!re)return ae;b&&(p=dt(p,On(b))),S?(G=To,ee=!1):p.length>=i&&(G=ur,ee=!1,p=new Po(p));e:for(;++U<re;){var be=u[U],Te=b==null?be:b(be);if(be=S||be!==0?be:0,ee&&Te===Te){for(var Be=we;Be--;)if(p[Be]===Te)continue e;ae.push(be)}else G(p,Te,S)||ae.push(be)}return ae}var Oa=pv(vi),W2=pv(Op,!0);function s_(u,p){var b=!0;return Oa(u,function(S,U,G){return b=!!p(S,U,G),b}),b}function cf(u,p,b){for(var S=-1,U=u.length;++S<U;){var G=u[S],ee=p(G);if(ee!=null&&(re===n?ee===ee&&!hs(ee):b(ee,re)))var re=ee,ae=G}return ae}function i_(u,p,b,S){var U=u.length;for(b=wt(b),b<0&&(b=-b>U?0:U+b),S=S===n||S>U?U:wt(S),S<0&&(S+=U),S=b>S?0:iy(S);b<S;)u[b++]=p;return u}function H2(u,p){var b=[];return Oa(u,function(S,U,G){p(S,U,G)&&b.push(S)}),b}function vr(u,p,b,S,U){var G=-1,ee=u.length;for(b||(b=$_),U||(U=[]);++G<ee;){var re=u[G];p>0&&b(re)?p>1?vr(re,p-1,b,S,U):us(U,re):S||(U[U.length]=re)}return U}var Rp=mv(),q2=mv(!0);function vi(u,p){return u&&Rp(u,p,fr)}function Op(u,p){return u&&q2(u,p,fr)}function uf(u,p){return Ds(p,function(b){return Zi(u[b])})}function Bo(u,p){p=La(p,u);for(var b=0,S=p.length;u!=null&&b<S;)u=u[wi(p[b++])];return b&&b==S?u:n}function V2(u,p,b){var S=p(u);return mt(u)?S:us(S,b(u))}function Pr(u){return u==null?u===n?Le:ye:Mo&&Mo in Ge(u)?z_(u):eS(u)}function Mp(u,p){return u>p}function a_(u,p){return u!=null&&jt.call(u,p)}function o_(u,p){return u!=null&&p in Ge(u)}function l_(u,p,b){return u>=Ar(p,b)&&u<ir(p,b)}function Lp(u,p,b){for(var S=b?To:wn,U=u[0].length,G=u.length,ee=G,re=X(G),ae=1/0,we=[];ee--;){var be=u[ee];ee&&p&&(be=dt(be,On(p))),ae=Ar(be.length,ae),re[ee]=!b&&(p||U>=120&&be.length>=120)?new Po(ee&&be):n}be=u[0];var Te=-1,Be=re[0];e:for(;++Te<U&&we.length<ae;){var Ze=be[Te],ct=p?p(Ze):Ze;if(Ze=b||Ze!==0?Ze:0,!(Be?ur(Be,ct):S(we,ct,b))){for(ee=G;--ee;){var bt=re[ee];if(!(bt?ur(bt,ct):S(u[ee],ct,b)))continue e}Be&&Be.push(ct),we.push(Ze)}}return we}function c_(u,p,b,S){return vi(u,function(U,G,ee){p(S,b(U),G,ee)}),S}function au(u,p,b){p=La(p,u),u=Iv(u,p);var S=u==null?u:u[wi(Ls(p))];return S==null?n:cr(S,u,b)}function Y2(u){return Mn(u)&&Pr(u)==it}function u_(u){return Mn(u)&&Pr(u)==an}function d_(u){return Mn(u)&&Pr(u)==qt}function ou(u,p,b,S,U){return u===p?!0:u==null||p==null||!Mn(u)&&!Mn(p)?u!==u&&p!==p:f_(u,p,b,S,ou,U)}function f_(u,p,b,S,U,G){var ee=mt(u),re=mt(p),ae=ee?_e:jr(u),we=re?_e:jr(p);ae=ae==it?Se:ae,we=we==it?Se:we;var be=ae==Se,Te=we==Se,Be=ae==we;if(Be&&Fa(u)){if(!Fa(p))return!1;ee=!0,be=!1}if(Be&&!be)return G||(G=new ei),ee||Ml(u)?_v(u,p,b,S,U,G):B_(u,p,ae,b,S,U,G);if(!(b&A)){var Ze=be&&jt.call(u,"__wrapped__"),ct=Te&&jt.call(p,"__wrapped__");if(Ze||ct){var bt=Ze?u.value():u,ut=ct?p.value():p;return G||(G=new ei),U(bt,ut,b,S,G)}}return Be?(G||(G=new ei),U_(u,p,b,S,U,G)):!1}function h_(u){return Mn(u)&&jr(u)==Ke}function Pp(u,p,b,S){var U=b.length,G=U,ee=!S;if(u==null)return!G;for(u=Ge(u);U--;){var re=b[U];if(ee&&re[2]?re[1]!==u[re[0]]:!(re[0]in u))return!1}for(;++U<G;){re=b[U];var ae=re[0],we=u[ae],be=re[1];if(ee&&re[2]){if(we===n&&!(ae in u))return!1}else{var Te=new ei;if(S)var Be=S(we,be,ae,u,p,Te);if(!(Be===n?ou(be,we,A|O,S,Te):Be))return!1}}return!0}function $2(u){if(!Sn(u)||X_(u))return!1;var p=Zi(u)?h5:xp;return p.test(zo(u))}function p_(u){return Mn(u)&&Pr(u)==Pe}function m_(u){return Mn(u)&&jr(u)==je}function x_(u){return Mn(u)&&Af(u.length)&&!!ln[Pr(u)]}function G2(u){return typeof u=="function"?u:u==null?Zr:typeof u=="object"?mt(u)?K2(u[0],u[1]):Q2(u):xy(u)}function Fp(u){if(!uu(u))return y5(u);var p=[];for(var b in Ge(u))jt.call(u,b)&&b!="constructor"&&p.push(b);return p}function g_(u){if(!Sn(u))return J_(u);var p=uu(u),b=[];for(var S in u)S=="constructor"&&(p||!jt.call(u,S))||b.push(S);return b}function Bp(u,p){return u<p}function X2(u,p){var b=-1,S=Qr(u)?X(u.length):[];return Oa(u,function(U,G,ee){S[++b]=p(U,G,ee)}),S}function Q2(u){var p=e1(u);return p.length==1&&p[0][2]?Tv(p[0][0],p[0][1]):function(b){return b===u||Pp(b,u,p)}}function K2(u,p){return n1(u)&&kv(p)?Tv(wi(u),p):function(b){var S=f1(b,u);return S===n&&S===p?h1(b,u):ou(p,S,A|O)}}function df(u,p,b,S,U){u!==p&&Rp(p,function(G,ee){if(U||(U=new ei),Sn(G))v_(u,p,ee,b,df,S,U);else{var re=S?S(s1(u,ee),G,ee+"",u,p,U):n;re===n&&(re=G),Dp(u,ee,re)}},Kr)}function v_(u,p,b,S,U,G,ee){var re=s1(u,b),ae=s1(p,b),we=ee.get(ae);if(we){Dp(u,b,we);return}var be=G?G(re,ae,b+"",u,p,ee):n,Te=be===n;if(Te){var Be=mt(ae),Ze=!Be&&Fa(ae),ct=!Be&&!Ze&&Ml(ae);be=ae,Be||Ze||ct?mt(re)?be=re:qn(re)?be=Xr(re):Ze?(Te=!1,be=cv(ae,!0)):ct?(Te=!1,be=uv(ae,!0)):be=[]:fu(ae)||Wo(ae)?(be=re,Wo(re)?be=ay(re):(!Sn(re)||Zi(re))&&(be=jv(ae))):Te=!1}Te&&(ee.set(ae,be),U(be,ae,S,G,ee),ee.delete(ae)),Dp(u,b,be)}function Z2(u,p){var b=u.length;if(b)return p+=p<0?b:0,Ki(p,b)?u[p]:n}function J2(u,p,b){p.length?p=dt(p,function(G){return mt(G)?function(ee){return Bo(ee,G.length===1?G[0]:G)}:G}):p=[Zr];var S=-1;p=dt(p,On(lt()));var U=X2(u,function(G,ee,re){var ae=dt(p,function(we){return we(G)});return{criteria:ae,index:++S,value:G}});return Ta(U,function(G,ee){return D_(G,ee,b)})}function y_(u,p){return ev(u,p,function(b,S){return h1(u,S)})}function ev(u,p,b){for(var S=-1,U=p.length,G={};++S<U;){var ee=p[S],re=Bo(u,ee);b(re,ee)&&lu(G,La(ee,u),re)}return G}function w_(u){return function(p){return Bo(p,u)}}function Up(u,p,b,S){var U=S?$c:gr,G=-1,ee=p.length,re=u;for(u===p&&(p=Xr(p)),b&&(re=dt(u,On(b)));++G<ee;)for(var ae=0,we=p[G],be=b?b(we):we;(ae=U(re,be,ae,S))>-1;)re!==u&&ef.call(re,ae,1),ef.call(u,ae,1);return u}function tv(u,p){for(var b=u?p.length:0,S=b-1;b--;){var U=p[b];if(b==S||U!==G){var G=U;Ki(U)?ef.call(u,U,1):qp(u,U)}}return u}function zp(u,p){return u+rf(M2()*(p-u+1))}function b_(u,p,b,S){for(var U=-1,G=ir(nf((p-u)/(b||1)),0),ee=X(G);G--;)ee[S?G:++U]=u,u+=b;return ee}function Wp(u,p){var b="";if(!u||p<1||p>ue)return b;do p%2&&(b+=u),p=rf(p/2),p&&(u+=u);while(p);return b}function Ct(u,p){return i1(Dv(u,p,Zr),u+"")}function C_(u){return F2(Ll(u))}function N_(u,p){var b=Ll(u);return bf(b,Fo(p,0,b.length))}function lu(u,p,b,S){if(!Sn(u))return u;p=La(p,u);for(var U=-1,G=p.length,ee=G-1,re=u;re!=null&&++U<G;){var ae=wi(p[U]),we=b;if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return u;if(U!=ee){var be=re[ae];we=S?S(be,ae,re):n,we===n&&(we=Sn(be)?be:Ki(p[U+1])?[]:{})}su(re,ae,we),re=re[ae]}return u}var nv=sf?function(u,p){return sf.set(u,p),u}:Zr,E_=tf?function(u,p){return tf(u,"toString",{configurable:!0,enumerable:!1,value:m1(p),writable:!0})}:Zr;function __(u){return bf(Ll(u))}function Ms(u,p,b){var S=-1,U=u.length;p<0&&(p=-p>U?0:U+p),b=b>U?U:b,b<0&&(b+=U),U=p>b?0:b-p>>>0,p>>>=0;for(var G=X(U);++S<U;)G[S]=u[S+p];return G}function S_(u,p){var b;return Oa(u,function(S,U,G){return b=p(S,U,G),!b}),!!b}function ff(u,p,b){var S=0,U=u==null?S:u.length;if(typeof p=="number"&&p===p&&U<=Ae){for(;S<U;){var G=S+U>>>1,ee=u[G];ee!==null&&!hs(ee)&&(b?ee<=p:ee<p)?S=G+1:U=G}return U}return Hp(u,p,Zr,b)}function Hp(u,p,b,S){var U=0,G=u==null?0:u.length;if(G===0)return 0;p=b(p);for(var ee=p!==p,re=p===null,ae=hs(p),we=p===n;U<G;){var be=rf((U+G)/2),Te=b(u[be]),Be=Te!==n,Ze=Te===null,ct=Te===Te,bt=hs(Te);if(ee)var ut=S||ct;else we?ut=ct&&(S||Be):re?ut=ct&&Be&&(S||!Ze):ae?ut=ct&&Be&&!Ze&&(S||!bt):Ze||bt?ut=!1:ut=S?Te<=p:Te<p;ut?U=be+1:G=be}return Ar(G,nt)}function rv(u,p){for(var b=-1,S=u.length,U=0,G=[];++b<S;){var ee=u[b],re=p?p(ee):ee;if(!b||!ti(re,ae)){var ae=re;G[U++]=ee===0?0:ee}}return G}function sv(u){return typeof u=="number"?u:hs(u)?Me:+u}function fs(u){if(typeof u=="string")return u;if(mt(u))return dt(u,fs)+"";if(hs(u))return L2?L2.call(u):"";var p=u+"";return p=="0"&&1/u==-ge?"-0":p}function Ma(u,p,b){var S=-1,U=wn,G=u.length,ee=!0,re=[],ae=re;if(b)ee=!1,U=To;else if(G>=i){var we=p?null:P_(u);if(we)return s(we);ee=!1,U=ur,ae=new Po}else ae=p?[]:re;e:for(;++S<G;){var be=u[S],Te=p?p(be):be;if(be=b||be!==0?be:0,ee&&Te===Te){for(var Be=ae.length;Be--;)if(ae[Be]===Te)continue e;p&&ae.push(Te),re.push(be)}else U(ae,Te,b)||(ae!==re&&ae.push(Te),re.push(be))}return re}function qp(u,p){return p=La(p,u),u=Iv(u,p),u==null||delete u[wi(Ls(p))]}function iv(u,p,b,S){return lu(u,p,b(Bo(u,p)),S)}function hf(u,p,b,S){for(var U=u.length,G=S?U:-1;(S?G--:++G<U)&&p(u[G],G,u););return b?Ms(u,S?0:G,S?G+1:U):Ms(u,S?G+1:0,S?U:G)}function av(u,p){var b=u;return b instanceof kt&&(b=b.value()),Zs(p,function(S,U){return U.func.apply(U.thisArg,us([S],U.args))},b)}function Vp(u,p,b){var S=u.length;if(S<2)return S?Ma(u[0]):[];for(var U=-1,G=X(S);++U<S;)for(var ee=u[U],re=-1;++re<S;)re!=U&&(G[U]=iu(G[U]||ee,u[re],p,b));return Ma(vr(G,1),p,b)}function ov(u,p,b){for(var S=-1,U=u.length,G=p.length,ee={};++S<U;){var re=S<G?p[S]:n;b(ee,u[S],re)}return ee}function Yp(u){return qn(u)?u:[]}function $p(u){return typeof u=="function"?u:Zr}function La(u,p){return mt(u)?u:n1(u,p)?[u]:Lv($t(u))}var A_=Ct;function Pa(u,p,b){var S=u.length;return b=b===n?S:b,!p&&b>=S?u:Ms(u,p,b)}var lv=p5||function(u){return Kn.clearTimeout(u)};function cv(u,p){if(p)return u.slice();var b=u.length,S=T2?T2(b):new u.constructor(b);return u.copy(S),S}function Gp(u){var p=new u.constructor(u.byteLength);return new Zd(p).set(new Zd(u)),p}function j_(u,p){var b=p?Gp(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function k_(u){var p=new u.constructor(u.source,No.exec(u));return p.lastIndex=u.lastIndex,p}function T_(u){return ru?Ge(ru.call(u)):{}}function uv(u,p){var b=p?Gp(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function dv(u,p){if(u!==p){var b=u!==n,S=u===null,U=u===u,G=hs(u),ee=p!==n,re=p===null,ae=p===p,we=hs(p);if(!re&&!we&&!G&&u>p||G&&ee&&ae&&!re&&!we||S&&ee&&ae||!b&&ae||!U)return 1;if(!S&&!G&&!we&&u<p||we&&b&&U&&!S&&!G||re&&b&&U||!ee&&U||!ae)return-1}return 0}function D_(u,p,b){for(var S=-1,U=u.criteria,G=p.criteria,ee=U.length,re=b.length;++S<ee;){var ae=dv(U[S],G[S]);if(ae){if(S>=re)return ae;var we=b[S];return ae*(we=="desc"?-1:1)}}return u.index-p.index}function fv(u,p,b,S){for(var U=-1,G=u.length,ee=b.length,re=-1,ae=p.length,we=ir(G-ee,0),be=X(ae+we),Te=!S;++re<ae;)be[re]=p[re];for(;++U<ee;)(Te||U<G)&&(be[b[U]]=u[U]);for(;we--;)be[re++]=u[U++];return be}function hv(u,p,b,S){for(var U=-1,G=u.length,ee=-1,re=b.length,ae=-1,we=p.length,be=ir(G-re,0),Te=X(be+we),Be=!S;++U<be;)Te[U]=u[U];for(var Ze=U;++ae<we;)Te[Ze+ae]=p[ae];for(;++ee<re;)(Be||U<G)&&(Te[Ze+b[ee]]=u[U++]);return Te}function Xr(u,p){var b=-1,S=u.length;for(p||(p=X(S));++b<S;)p[b]=u[b];return p}function yi(u,p,b,S){var U=!b;b||(b={});for(var G=-1,ee=p.length;++G<ee;){var re=p[G],ae=S?S(b[re],u[re],re,b,u):n;ae===n&&(ae=u[re]),U?Gi(b,re,ae):su(b,re,ae)}return b}function I_(u,p){return yi(u,t1(u),p)}function R_(u,p){return yi(u,Sv(u),p)}function pf(u,p){return function(b,S){var U=mt(b)?qd:t_,G=p?p():{};return U(b,u,lt(S,2),G)}}function Il(u){return Ct(function(p,b){var S=-1,U=b.length,G=U>1?b[U-1]:n,ee=U>2?b[2]:n;for(G=u.length>3&&typeof G=="function"?(U--,G):n,ee&&Fr(b[0],b[1],ee)&&(G=U<3?n:G,U=1),p=Ge(p);++S<U;){var re=b[S];re&&u(p,re,S,G)}return p})}function pv(u,p){return function(b,S){if(b==null)return b;if(!Qr(b))return u(b,S);for(var U=b.length,G=p?U:-1,ee=Ge(b);(p?G--:++G<U)&&S(ee[G],G,ee)!==!1;);return b}}function mv(u){return function(p,b,S){for(var U=-1,G=Ge(p),ee=S(p),re=ee.length;re--;){var ae=ee[u?re:++U];if(b(G[ae],ae,G)===!1)break}return p}}function O_(u,p,b){var S=p&L,U=cu(u);function G(){var ee=this&&this!==Kn&&this instanceof G?U:u;return ee.apply(S?b:this,arguments)}return G}function xv(u){return function(p){p=$t(p);var b=Ia(p)?m(p):n,S=b?b[0]:p.charAt(0),U=b?Pa(b,1).join(""):p.slice(1);return S[u]()+U}}function Rl(u){return function(p){return Zs(py(hy(p).replace(ot,"")),u,"")}}function cu(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=Dl(u.prototype),S=u.apply(b,p);return Sn(S)?S:b}}function M_(u,p,b){var S=cu(u);function U(){for(var G=arguments.length,ee=X(G),re=G,ae=Ol(U);re--;)ee[re]=arguments[re];var we=G<3&&ee[0]!==ae&&ee[G-1]!==ae?[]:P(ee,ae);if(G-=we.length,G<b)return bv(u,p,mf,U.placeholder,n,ee,we,n,n,b-G);var be=this&&this!==Kn&&this instanceof U?S:u;return cr(be,this,ee)}return U}function gv(u){return function(p,b,S){var U=Ge(p);if(!Qr(p)){var G=lt(b,3);p=fr(p),b=function(re){return G(U[re],re,U)}}var ee=u(p,b,S);return ee>-1?U[G?p[ee]:ee]:n}}function vv(u){return Qi(function(p){var b=p.length,S=b,U=Rs.prototype.thru;for(u&&p.reverse();S--;){var G=p[S];if(typeof G!="function")throw new bn(d);if(U&&!ee&&yf(G)=="wrapper")var ee=new Rs([],!0)}for(S=ee?S:b;++S<b;){G=p[S];var re=yf(G),ae=re=="wrapper"?Jp(G):n;ae&&r1(ae[0])&&ae[1]==(R|I|Q|q)&&!ae[4].length&&ae[9]==1?ee=ee[yf(ae[0])].apply(ee,ae[3]):ee=G.length==1&&r1(G)?ee[re]():ee.thru(G)}return function(){var we=arguments,be=we[0];if(ee&&we.length==1&&mt(be))return ee.plant(be).value();for(var Te=0,Be=b?p[Te].apply(this,we):be;++Te<b;)Be=p[Te].call(this,Be);return Be}})}function mf(u,p,b,S,U,G,ee,re,ae,we){var be=p&R,Te=p&L,Be=p&D,Ze=p&(I|W),ct=p&V,bt=Be?n:cu(u);function ut(){for(var St=arguments.length,Dt=X(St),ps=St;ps--;)Dt[ps]=arguments[ps];if(Ze)var Br=Ol(ut),ms=_p(Dt,Br);if(S&&(Dt=fv(Dt,S,U,Ze)),G&&(Dt=hv(Dt,G,ee,Ze)),St-=ms,Ze&&St<we){var Vn=P(Dt,Br);return bv(u,p,mf,ut.placeholder,b,Dt,Vn,re,ae,we-St)}var ni=Te?b:this,ea=Be?ni[u]:u;return St=Dt.length,re?Dt=tS(Dt,re):ct&&St>1&&Dt.reverse(),be&&ae<St&&(Dt.length=ae),this&&this!==Kn&&this instanceof ut&&(ea=bt||cu(ea)),ea.apply(ni,Dt)}return ut}function yv(u,p){return function(b,S){return c_(b,u,p(S),{})}}function xf(u,p){return function(b,S){var U;if(b===n&&S===n)return p;if(b!==n&&(U=b),S!==n){if(U===n)return S;typeof b=="string"||typeof S=="string"?(b=fs(b),S=fs(S)):(b=sv(b),S=sv(S)),U=u(b,S)}return U}}function Xp(u){return Qi(function(p){return p=dt(p,On(lt())),Ct(function(b){var S=this;return u(p,function(U){return cr(U,S,b)})})})}function gf(u,p){p=p===n?" ":fs(p);var b=p.length;if(b<2)return b?Wp(p,u):p;var S=Wp(p,nf(u/h(p)));return Ia(p)?Pa(m(S),0,u).join(""):S.slice(0,u)}function L_(u,p,b,S){var U=p&L,G=cu(u);function ee(){for(var re=-1,ae=arguments.length,we=-1,be=S.length,Te=X(be+ae),Be=this&&this!==Kn&&this instanceof ee?G:u;++we<be;)Te[we]=S[we];for(;ae--;)Te[we++]=arguments[++re];return cr(Be,U?b:this,Te)}return ee}function wv(u){return function(p,b,S){return S&&typeof S!="number"&&Fr(p,b,S)&&(b=S=n),p=Ji(p),b===n?(b=p,p=0):b=Ji(b),S=S===n?p<b?1:-1:Ji(S),b_(p,b,S,u)}}function vf(u){return function(p,b){return typeof p=="string"&&typeof b=="string"||(p=Ps(p),b=Ps(b)),u(p,b)}}function bv(u,p,b,S,U,G,ee,re,ae,we){var be=p&I,Te=be?ee:n,Be=be?n:ee,Ze=be?G:n,ct=be?n:G;p|=be?Q:B,p&=~(be?B:Q),p&j||(p&=~(L|D));var bt=[u,p,U,Ze,Te,ct,Be,re,ae,we],ut=b.apply(n,bt);return r1(u)&&Rv(ut,bt),ut.placeholder=S,Ov(ut,u,p)}function Qp(u){var p=ve[u];return function(b,S){if(b=Ps(b),S=S==null?0:Ar(wt(S),292),S&&O2(b)){var U=($t(b)+"e").split("e"),G=p(U[0]+"e"+(+U[1]+S));return U=($t(G)+"e").split("e"),+(U[0]+"e"+(+U[1]-S))}return p(b)}}var P_=kl&&1/s(new kl([,-0]))[1]==ge?function(u){return new kl(u)}:v1;function Cv(u){return function(p){var b=jr(p);return b==Ke?_t(p):b==je?l(p):Io(p,u(p))}}function Xi(u,p,b,S,U,G,ee,re){var ae=p&D;if(!ae&&typeof u!="function")throw new bn(d);var we=S?S.length:0;if(we||(p&=~(Q|B),S=U=n),ee=ee===n?ee:ir(wt(ee),0),re=re===n?re:wt(re),we-=U?U.length:0,p&B){var be=S,Te=U;S=U=n}var Be=ae?n:Jp(u),Ze=[u,p,b,S,U,be,Te,G,ee,re];if(Be&&Z_(Ze,Be),u=Ze[0],p=Ze[1],b=Ze[2],S=Ze[3],U=Ze[4],re=Ze[9]=Ze[9]===n?ae?0:u.length:ir(Ze[9]-we,0),!re&&p&(I|W)&&(p&=~(I|W)),!p||p==L)var ct=O_(u,p,b);else p==I||p==W?ct=M_(u,p,re):(p==Q||p==(L|Q))&&!U.length?ct=L_(u,p,b,S):ct=mf.apply(n,Ze);var bt=Be?nv:Rv;return Ov(bt(ct,Ze),u,p)}function Nv(u,p,b,S){return u===n||ti(u,Cn[b])&&!jt.call(S,b)?p:u}function Ev(u,p,b,S,U,G){return Sn(u)&&Sn(p)&&(G.set(p,u),df(u,p,n,Ev,G),G.delete(p)),u}function F_(u){return fu(u)?n:u}function _v(u,p,b,S,U,G){var ee=b&A,re=u.length,ae=p.length;if(re!=ae&&!(ee&&ae>re))return!1;var we=G.get(u),be=G.get(p);if(we&&be)return we==p&&be==u;var Te=-1,Be=!0,Ze=b&O?new Po:n;for(G.set(u,p),G.set(p,u);++Te<re;){var ct=u[Te],bt=p[Te];if(S)var ut=ee?S(bt,ct,Te,p,u,G):S(ct,bt,Te,u,p,G);if(ut!==n){if(ut)continue;Be=!1;break}if(Ze){if(!st(p,function(St,Dt){if(!ur(Ze,Dt)&&(ct===St||U(ct,St,b,S,G)))return Ze.push(Dt)})){Be=!1;break}}else if(!(ct===bt||U(ct,bt,b,S,G))){Be=!1;break}}return G.delete(u),G.delete(p),Be}function B_(u,p,b,S,U,G,ee){switch(b){case Kt:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case an:return!(u.byteLength!=p.byteLength||!G(new Zd(u),new Zd(p)));case at:case qt:case It:return ti(+u,+p);case Vt:return u.name==p.name&&u.message==p.message;case Pe:case vn:return u==p+"";case Ke:var re=_t;case je:var ae=S&A;if(re||(re=s),u.size!=p.size&&!ae)return!1;var we=ee.get(u);if(we)return we==p;S|=O,ee.set(u,p);var be=_v(re(u),re(p),S,U,G,ee);return ee.delete(u),be;case Qn:if(ru)return ru.call(u)==ru.call(p)}return!1}function U_(u,p,b,S,U,G){var ee=b&A,re=Kp(u),ae=re.length,we=Kp(p),be=we.length;if(ae!=be&&!ee)return!1;for(var Te=ae;Te--;){var Be=re[Te];if(!(ee?Be in p:jt.call(p,Be)))return!1}var Ze=G.get(u),ct=G.get(p);if(Ze&&ct)return Ze==p&&ct==u;var bt=!0;G.set(u,p),G.set(p,u);for(var ut=ee;++Te<ae;){Be=re[Te];var St=u[Be],Dt=p[Be];if(S)var ps=ee?S(Dt,St,Be,p,u,G):S(St,Dt,Be,u,p,G);if(!(ps===n?St===Dt||U(St,Dt,b,S,G):ps)){bt=!1;break}ut||(ut=Be=="constructor")}if(bt&&!ut){var Br=u.constructor,ms=p.constructor;Br!=ms&&"constructor"in u&&"constructor"in p&&!(typeof Br=="function"&&Br instanceof Br&&typeof ms=="function"&&ms instanceof ms)&&(bt=!1)}return G.delete(u),G.delete(p),bt}function Qi(u){return i1(Dv(u,n,Uv),u+"")}function Kp(u){return V2(u,fr,t1)}function Zp(u){return V2(u,Kr,Sv)}var Jp=sf?function(u){return sf.get(u)}:v1;function yf(u){for(var p=u.name+"",b=Tl[p],S=jt.call(Tl,p)?b.length:0;S--;){var U=b[S],G=U.func;if(G==null||G==u)return U.name}return p}function Ol(u){var p=jt.call(Y,"placeholder")?Y:u;return p.placeholder}function lt(){var u=Y.iteratee||x1;return u=u===x1?G2:u,arguments.length?u(arguments[0],arguments[1]):u}function wf(u,p){var b=u.__data__;return G_(p)?b[typeof p=="string"?"string":"hash"]:b.map}function e1(u){for(var p=fr(u),b=p.length;b--;){var S=p[b],U=u[S];p[b]=[S,U,kv(U)]}return p}function Uo(u,p){var b=Is(u,p);return $2(b)?b:n}function z_(u){var p=jt.call(u,Mo),b=u[Mo];try{u[Mo]=n;var S=!0}catch{}var U=Qd.call(u);return S&&(p?u[Mo]=b:delete u[Mo]),U}var t1=jp?function(u){return u==null?[]:(u=Ge(u),Ds(jp(u),function(p){return I2.call(u,p)}))}:y1,Sv=jp?function(u){for(var p=[];u;)us(p,t1(u)),u=Jd(u);return p}:y1,jr=Pr;(kp&&jr(new kp(new ArrayBuffer(1)))!=Kt||eu&&jr(new eu)!=Ke||Tp&&jr(Tp.resolve())!=ze||kl&&jr(new kl)!=je||tu&&jr(new tu)!=et)&&(jr=function(u){var p=Pr(u),b=p==Se?u.constructor:n,S=b?zo(b):"";if(S)switch(S){case N5:return Kt;case E5:return Ke;case _5:return ze;case S5:return je;case A5:return et}return p});function W_(u,p,b){for(var S=-1,U=b.length;++S<U;){var G=b[S],ee=G.size;switch(G.type){case"drop":u+=ee;break;case"dropRight":p-=ee;break;case"take":p=Ar(p,u+ee);break;case"takeRight":u=ir(u,p-ee);break}}return{start:u,end:p}}function H_(u){var p=u.match($r);return p?p[1].split(We):[]}function Av(u,p,b){p=La(p,u);for(var S=-1,U=p.length,G=!1;++S<U;){var ee=wi(p[S]);if(!(G=u!=null&&b(u,ee)))break;u=u[ee]}return G||++S!=U?G:(U=u==null?0:u.length,!!U&&Af(U)&&Ki(ee,U)&&(mt(u)||Wo(u)))}function q_(u){var p=u.length,b=new u.constructor(p);return p&&typeof u[0]=="string"&&jt.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function jv(u){return typeof u.constructor=="function"&&!uu(u)?Dl(Jd(u)):{}}function V_(u,p,b){var S=u.constructor;switch(p){case an:return Gp(u);case at:case qt:return new S(+u);case Kt:return j_(u,b);case hn:case as:case Ss:case Fi:case sn:case Oe:case on:case Tt:case Yt:return uv(u,b);case Ke:return new S;case It:case vn:return new S(u);case Pe:return k_(u);case je:return new S;case Qn:return T_(u)}}function Y_(u,p){var b=p.length;if(!b)return u;var S=b-1;return p[S]=(b>1?"& ":"")+p[S],p=p.join(b>2?", ":" "),u.replace(Ui,`{
/* [wrapped with `+p+`] */
`)}function $_(u){return mt(u)||Wo(u)||!!(R2&&u&&u[R2])}function Ki(u,p){var b=typeof u;return p=p??ue,!!p&&(b=="number"||b!="symbol"&&ks.test(u))&&u>-1&&u%1==0&&u<p}function Fr(u,p,b){if(!Sn(b))return!1;var S=typeof p;return(S=="number"?Qr(b)&&Ki(p,b.length):S=="string"&&p in b)?ti(b[p],u):!1}function n1(u,p){if(mt(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||hs(u)?!0:vl.test(u)||!_a.test(u)||p!=null&&u in Ge(p)}function G_(u){var p=typeof u;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?u!=="__proto__":u===null}function r1(u){var p=yf(u),b=Y[p];if(typeof b!="function"||!(p in kt.prototype))return!1;if(u===b)return!0;var S=Jp(b);return!!S&&u===S[0]}function X_(u){return!!Xd&&Xd in u}var Q_=dr?Zi:w1;function uu(u){var p=u&&u.constructor,b=typeof p=="function"&&p.prototype||Cn;return u===b}function kv(u){return u===u&&!Sn(u)}function Tv(u,p){return function(b){return b==null?!1:b[u]===p&&(p!==n||u in Ge(b))}}function K_(u){var p=_f(u,function(S){return b.size===v&&b.clear(),S}),b=p.cache;return p}function Z_(u,p){var b=u[1],S=p[1],U=b|S,G=U<(L|D|R),ee=S==R&&b==I||S==R&&b==q&&u[7].length<=p[8]||S==(R|q)&&p[7].length<=p[8]&&b==I;if(!(G||ee))return u;S&L&&(u[2]=p[2],U|=b&L?0:j);var re=p[3];if(re){var ae=u[3];u[3]=ae?fv(ae,re,p[4]):re,u[4]=ae?P(u[3],w):p[4]}return re=p[5],re&&(ae=u[5],u[5]=ae?hv(ae,re,p[6]):re,u[6]=ae?P(u[5],w):p[6]),re=p[7],re&&(u[7]=re),S&R&&(u[8]=u[8]==null?p[8]:Ar(u[8],p[8])),u[9]==null&&(u[9]=p[9]),u[0]=p[0],u[1]=U,u}function J_(u){var p=[];if(u!=null)for(var b in Ge(u))p.push(b);return p}function eS(u){return Qd.call(u)}function Dv(u,p,b){return p=ir(p===n?u.length-1:p,0),function(){for(var S=arguments,U=-1,G=ir(S.length-p,0),ee=X(G);++U<G;)ee[U]=S[p+U];U=-1;for(var re=X(p+1);++U<p;)re[U]=S[U];return re[p]=b(ee),cr(u,this,re)}}function Iv(u,p){return p.length<2?u:Bo(u,Ms(p,0,-1))}function tS(u,p){for(var b=u.length,S=Ar(p.length,b),U=Xr(u);S--;){var G=p[S];u[S]=Ki(G,b)?U[G]:n}return u}function s1(u,p){if(!(p==="constructor"&&typeof u[p]=="function")&&p!="__proto__")return u[p]}var Rv=Mv(nv),du=x5||function(u,p){return Kn.setTimeout(u,p)},i1=Mv(E_);function Ov(u,p,b){var S=p+"";return i1(u,Y_(S,nS(H_(S),b)))}function Mv(u){var p=0,b=0;return function(){var S=w5(),U=oe-(S-b);if(b=S,U>0){if(++p>=J)return arguments[0]}else p=0;return u.apply(n,arguments)}}function bf(u,p){var b=-1,S=u.length,U=S-1;for(p=p===n?S:p;++b<p;){var G=zp(b,U),ee=u[G];u[G]=u[b],u[b]=ee}return u.length=p,u}var Lv=K_(function(u){var p=[];return u.charCodeAt(0)===46&&p.push(""),u.replace(As,function(b,S,U,G){p.push(U?G.replace(Nr,"$1"):S||b)}),p});function wi(u){if(typeof u=="string"||hs(u))return u;var p=u+"";return p=="0"&&1/u==-ge?"-0":p}function zo(u){if(u!=null){try{return Js.call(u)}catch{}try{return u+""}catch{}}return""}function nS(u,p){return Gr(Xe,function(b){var S="_."+b[0];p&b[1]&&!wn(u,S)&&u.push(S)}),u.sort()}function Pv(u){if(u instanceof kt)return u.clone();var p=new Rs(u.__wrapped__,u.__chain__);return p.__actions__=Xr(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}function rS(u,p,b){(b?Fr(u,p,b):p===n)?p=1:p=ir(wt(p),0);var S=u==null?0:u.length;if(!S||p<1)return[];for(var U=0,G=0,ee=X(nf(S/p));U<S;)ee[G++]=Ms(u,U,U+=p);return ee}function sS(u){for(var p=-1,b=u==null?0:u.length,S=0,U=[];++p<b;){var G=u[p];G&&(U[S++]=G)}return U}function iS(){var u=arguments.length;if(!u)return[];for(var p=X(u-1),b=arguments[0],S=u;S--;)p[S-1]=arguments[S];return us(mt(b)?Xr(b):[b],vr(p,1))}var aS=Ct(function(u,p){return qn(u)?iu(u,vr(p,1,qn,!0)):[]}),oS=Ct(function(u,p){var b=Ls(p);return qn(b)&&(b=n),qn(u)?iu(u,vr(p,1,qn,!0),lt(b,2)):[]}),lS=Ct(function(u,p){var b=Ls(p);return qn(b)&&(b=n),qn(u)?iu(u,vr(p,1,qn,!0),n,b):[]});function cS(u,p,b){var S=u==null?0:u.length;return S?(p=b||p===n?1:wt(p),Ms(u,p<0?0:p,S)):[]}function uS(u,p,b){var S=u==null?0:u.length;return S?(p=b||p===n?1:wt(p),p=S-p,Ms(u,0,p<0?0:p)):[]}function dS(u,p){return u&&u.length?hf(u,lt(p,3),!0,!0):[]}function fS(u,p){return u&&u.length?hf(u,lt(p,3),!0):[]}function hS(u,p,b,S){var U=u==null?0:u.length;return U?(b&&typeof b!="number"&&Fr(u,p,b)&&(b=0,S=U),i_(u,p,b,S)):[]}function Fv(u,p,b){var S=u==null?0:u.length;if(!S)return-1;var U=b==null?0:wt(b);return U<0&&(U=ir(S+U,0)),_l(u,lt(p,3),U)}function Bv(u,p,b){var S=u==null?0:u.length;if(!S)return-1;var U=S-1;return b!==n&&(U=wt(b),U=b<0?ir(S+U,0):Ar(U,S-1)),_l(u,lt(p,3),U,!0)}function Uv(u){var p=u==null?0:u.length;return p?vr(u,1):[]}function pS(u){var p=u==null?0:u.length;return p?vr(u,ge):[]}function mS(u,p){var b=u==null?0:u.length;return b?(p=p===n?1:wt(p),vr(u,p)):[]}function xS(u){for(var p=-1,b=u==null?0:u.length,S={};++p<b;){var U=u[p];S[U[0]]=U[1]}return S}function zv(u){return u&&u.length?u[0]:n}function gS(u,p,b){var S=u==null?0:u.length;if(!S)return-1;var U=b==null?0:wt(b);return U<0&&(U=ir(S+U,0)),gr(u,p,U)}function vS(u){var p=u==null?0:u.length;return p?Ms(u,0,-1):[]}var yS=Ct(function(u){var p=dt(u,Yp);return p.length&&p[0]===u[0]?Lp(p):[]}),wS=Ct(function(u){var p=Ls(u),b=dt(u,Yp);return p===Ls(b)?p=n:b.pop(),b.length&&b[0]===u[0]?Lp(b,lt(p,2)):[]}),bS=Ct(function(u){var p=Ls(u),b=dt(u,Yp);return p=typeof p=="function"?p:n,p&&b.pop(),b.length&&b[0]===u[0]?Lp(b,n,p):[]});function CS(u,p){return u==null?"":v5.call(u,p)}function Ls(u){var p=u==null?0:u.length;return p?u[p-1]:n}function NS(u,p,b){var S=u==null?0:u.length;if(!S)return-1;var U=S;return b!==n&&(U=wt(b),U=U<0?ir(S+U,0):Ar(U,S-1)),p===p?f(u,p,U):_l(u,Gc,U,!0)}function ES(u,p){return u&&u.length?Z2(u,wt(p)):n}var _S=Ct(Wv);function Wv(u,p){return u&&u.length&&p&&p.length?Up(u,p):u}function SS(u,p,b){return u&&u.length&&p&&p.length?Up(u,p,lt(b,2)):u}function AS(u,p,b){return u&&u.length&&p&&p.length?Up(u,p,n,b):u}var jS=Qi(function(u,p){var b=u==null?0:u.length,S=Ip(u,p);return tv(u,dt(p,function(U){return Ki(U,b)?+U:U}).sort(dv)),S});function kS(u,p){var b=[];if(!(u&&u.length))return b;var S=-1,U=[],G=u.length;for(p=lt(p,3);++S<G;){var ee=u[S];p(ee,S,u)&&(b.push(ee),U.push(S))}return tv(u,U),b}function a1(u){return u==null?u:C5.call(u)}function TS(u,p,b){var S=u==null?0:u.length;return S?(b&&typeof b!="number"&&Fr(u,p,b)?(p=0,b=S):(p=p==null?0:wt(p),b=b===n?S:wt(b)),Ms(u,p,b)):[]}function DS(u,p){return ff(u,p)}function IS(u,p,b){return Hp(u,p,lt(b,2))}function RS(u,p){var b=u==null?0:u.length;if(b){var S=ff(u,p);if(S<b&&ti(u[S],p))return S}return-1}function OS(u,p){return ff(u,p,!0)}function MS(u,p,b){return Hp(u,p,lt(b,2),!0)}function LS(u,p){var b=u==null?0:u.length;if(b){var S=ff(u,p,!0)-1;if(ti(u[S],p))return S}return-1}function PS(u){return u&&u.length?rv(u):[]}function FS(u,p){return u&&u.length?rv(u,lt(p,2)):[]}function BS(u){var p=u==null?0:u.length;return p?Ms(u,1,p):[]}function US(u,p,b){return u&&u.length?(p=b||p===n?1:wt(p),Ms(u,0,p<0?0:p)):[]}function zS(u,p,b){var S=u==null?0:u.length;return S?(p=b||p===n?1:wt(p),p=S-p,Ms(u,p<0?0:p,S)):[]}function WS(u,p){return u&&u.length?hf(u,lt(p,3),!1,!0):[]}function HS(u,p){return u&&u.length?hf(u,lt(p,3)):[]}var qS=Ct(function(u){return Ma(vr(u,1,qn,!0))}),VS=Ct(function(u){var p=Ls(u);return qn(p)&&(p=n),Ma(vr(u,1,qn,!0),lt(p,2))}),YS=Ct(function(u){var p=Ls(u);return p=typeof p=="function"?p:n,Ma(vr(u,1,qn,!0),n,p)});function $S(u){return u&&u.length?Ma(u):[]}function GS(u,p){return u&&u.length?Ma(u,lt(p,2)):[]}function XS(u,p){return p=typeof p=="function"?p:n,u&&u.length?Ma(u,n,p):[]}function o1(u){if(!(u&&u.length))return[];var p=0;return u=Ds(u,function(b){if(qn(b))return p=ir(b.length,p),!0}),Xc(p,function(b){return dt(u,Al(b))})}function Hv(u,p){if(!(u&&u.length))return[];var b=o1(u);return p==null?b:dt(b,function(S){return cr(p,n,S)})}var QS=Ct(function(u,p){return qn(u)?iu(u,p):[]}),KS=Ct(function(u){return Vp(Ds(u,qn))}),ZS=Ct(function(u){var p=Ls(u);return qn(p)&&(p=n),Vp(Ds(u,qn),lt(p,2))}),JS=Ct(function(u){var p=Ls(u);return p=typeof p=="function"?p:n,Vp(Ds(u,qn),n,p)}),e8=Ct(o1);function t8(u,p){return ov(u||[],p||[],su)}function n8(u,p){return ov(u||[],p||[],lu)}var r8=Ct(function(u){var p=u.length,b=p>1?u[p-1]:n;return b=typeof b=="function"?(u.pop(),b):n,Hv(u,b)});function qv(u){var p=Y(u);return p.__chain__=!0,p}function s8(u,p){return p(u),u}function Cf(u,p){return p(u)}var i8=Qi(function(u){var p=u.length,b=p?u[0]:0,S=this.__wrapped__,U=function(G){return Ip(G,u)};return p>1||this.__actions__.length||!(S instanceof kt)||!Ki(b)?this.thru(U):(S=S.slice(b,+b+(p?1:0)),S.__actions__.push({func:Cf,args:[U],thisArg:n}),new Rs(S,this.__chain__).thru(function(G){return p&&!G.length&&G.push(n),G}))});function a8(){return qv(this)}function o8(){return new Rs(this.value(),this.__chain__)}function l8(){this.__values__===n&&(this.__values__=sy(this.value()));var u=this.__index__>=this.__values__.length,p=u?n:this.__values__[this.__index__++];return{done:u,value:p}}function c8(){return this}function u8(u){for(var p,b=this;b instanceof of;){var S=Pv(b);S.__index__=0,S.__values__=n,p?U.__wrapped__=S:p=S;var U=S;b=b.__wrapped__}return U.__wrapped__=u,p}function d8(){var u=this.__wrapped__;if(u instanceof kt){var p=u;return this.__actions__.length&&(p=new kt(this)),p=p.reverse(),p.__actions__.push({func:Cf,args:[a1],thisArg:n}),new Rs(p,this.__chain__)}return this.thru(a1)}function f8(){return av(this.__wrapped__,this.__actions__)}var h8=pf(function(u,p,b){jt.call(u,b)?++u[b]:Gi(u,b,1)});function p8(u,p,b){var S=mt(u)?Vd:s_;return b&&Fr(u,p,b)&&(p=n),S(u,lt(p,3))}function m8(u,p){var b=mt(u)?Ds:H2;return b(u,lt(p,3))}var x8=gv(Fv),g8=gv(Bv);function v8(u,p){return vr(Nf(u,p),1)}function y8(u,p){return vr(Nf(u,p),ge)}function w8(u,p,b){return b=b===n?1:wt(b),vr(Nf(u,p),b)}function Vv(u,p){var b=mt(u)?Gr:Oa;return b(u,lt(p,3))}function Yv(u,p){var b=mt(u)?Np:W2;return b(u,lt(p,3))}var b8=pf(function(u,p,b){jt.call(u,b)?u[b].push(p):Gi(u,b,[p])});function C8(u,p,b,S){u=Qr(u)?u:Ll(u),b=b&&!S?wt(b):0;var U=u.length;return b<0&&(b=ir(U+b,0)),jf(u)?b<=U&&u.indexOf(p,b)>-1:!!U&&gr(u,p,b)>-1}var N8=Ct(function(u,p,b){var S=-1,U=typeof p=="function",G=Qr(u)?X(u.length):[];return Oa(u,function(ee){G[++S]=U?cr(p,ee,b):au(ee,p,b)}),G}),E8=pf(function(u,p,b){Gi(u,b,p)});function Nf(u,p){var b=mt(u)?dt:X2;return b(u,lt(p,3))}function _8(u,p,b,S){return u==null?[]:(mt(p)||(p=p==null?[]:[p]),b=S?n:b,mt(b)||(b=b==null?[]:[b]),J2(u,p,b))}var S8=pf(function(u,p,b){u[b?0:1].push(p)},function(){return[[],[]]});function A8(u,p,b){var S=mt(u)?Zs:Yd,U=arguments.length<3;return S(u,lt(p,4),b,U,Oa)}function j8(u,p,b){var S=mt(u)?en:Yd,U=arguments.length<3;return S(u,lt(p,4),b,U,W2)}function k8(u,p){var b=mt(u)?Ds:H2;return b(u,Sf(lt(p,3)))}function T8(u){var p=mt(u)?F2:C_;return p(u)}function D8(u,p,b){(b?Fr(u,p,b):p===n)?p=1:p=wt(p);var S=mt(u)?J5:N_;return S(u,p)}function I8(u){var p=mt(u)?e_:__;return p(u)}function R8(u){if(u==null)return 0;if(Qr(u))return jf(u)?h(u):u.length;var p=jr(u);return p==Ke||p==je?u.size:Fp(u).length}function O8(u,p,b){var S=mt(u)?st:S_;return b&&Fr(u,p,b)&&(p=n),S(u,lt(p,3))}var M8=Ct(function(u,p){if(u==null)return[];var b=p.length;return b>1&&Fr(u,p[0],p[1])?p=[]:b>2&&Fr(p[0],p[1],p[2])&&(p=[p[0]]),J2(u,vr(p,1),[])}),Ef=m5||function(){return Kn.Date.now()};function L8(u,p){if(typeof p!="function")throw new bn(d);return u=wt(u),function(){if(--u<1)return p.apply(this,arguments)}}function $v(u,p,b){return p=b?n:p,p=u&&p==null?u.length:p,Xi(u,R,n,n,n,n,p)}function Gv(u,p){var b;if(typeof p!="function")throw new bn(d);return u=wt(u),function(){return--u>0&&(b=p.apply(this,arguments)),u<=1&&(p=n),b}}var l1=Ct(function(u,p,b){var S=L;if(b.length){var U=P(b,Ol(l1));S|=Q}return Xi(u,S,p,b,U)}),Xv=Ct(function(u,p,b){var S=L|D;if(b.length){var U=P(b,Ol(Xv));S|=Q}return Xi(p,S,u,b,U)});function Qv(u,p,b){p=b?n:p;var S=Xi(u,I,n,n,n,n,n,p);return S.placeholder=Qv.placeholder,S}function Kv(u,p,b){p=b?n:p;var S=Xi(u,W,n,n,n,n,n,p);return S.placeholder=Kv.placeholder,S}function Zv(u,p,b){var S,U,G,ee,re,ae,we=0,be=!1,Te=!1,Be=!0;if(typeof u!="function")throw new bn(d);p=Ps(p)||0,Sn(b)&&(be=!!b.leading,Te="maxWait"in b,G=Te?ir(Ps(b.maxWait)||0,p):G,Be="trailing"in b?!!b.trailing:Be);function Ze(Vn){var ni=S,ea=U;return S=U=n,we=Vn,ee=u.apply(ea,ni),ee}function ct(Vn){return we=Vn,re=du(St,p),be?Ze(Vn):ee}function bt(Vn){var ni=Vn-ae,ea=Vn-we,gy=p-ni;return Te?Ar(gy,G-ea):gy}function ut(Vn){var ni=Vn-ae,ea=Vn-we;return ae===n||ni>=p||ni<0||Te&&ea>=G}function St(){var Vn=Ef();if(ut(Vn))return Dt(Vn);re=du(St,bt(Vn))}function Dt(Vn){return re=n,Be&&S?Ze(Vn):(S=U=n,ee)}function ps(){re!==n&&lv(re),we=0,S=ae=U=re=n}function Br(){return re===n?ee:Dt(Ef())}function ms(){var Vn=Ef(),ni=ut(Vn);if(S=arguments,U=this,ae=Vn,ni){if(re===n)return ct(ae);if(Te)return lv(re),re=du(St,p),Ze(ae)}return re===n&&(re=du(St,p)),ee}return ms.cancel=ps,ms.flush=Br,ms}var P8=Ct(function(u,p){return z2(u,1,p)}),F8=Ct(function(u,p,b){return z2(u,Ps(p)||0,b)});function B8(u){return Xi(u,V)}function _f(u,p){if(typeof u!="function"||p!=null&&typeof p!="function")throw new bn(d);var b=function(){var S=arguments,U=p?p.apply(this,S):S[0],G=b.cache;if(G.has(U))return G.get(U);var ee=u.apply(this,S);return b.cache=G.set(U,ee)||G,ee};return b.cache=new(_f.Cache||$i),b}_f.Cache=$i;function Sf(u){if(typeof u!="function")throw new bn(d);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}function U8(u){return Gv(2,u)}var z8=A_(function(u,p){p=p.length==1&&mt(p[0])?dt(p[0],On(lt())):dt(vr(p,1),On(lt()));var b=p.length;return Ct(function(S){for(var U=-1,G=Ar(S.length,b);++U<G;)S[U]=p[U].call(this,S[U]);return cr(u,this,S)})}),c1=Ct(function(u,p){var b=P(p,Ol(c1));return Xi(u,Q,n,p,b)}),Jv=Ct(function(u,p){var b=P(p,Ol(Jv));return Xi(u,B,n,p,b)}),W8=Qi(function(u,p){return Xi(u,q,n,n,n,p)});function H8(u,p){if(typeof u!="function")throw new bn(d);return p=p===n?p:wt(p),Ct(u,p)}function q8(u,p){if(typeof u!="function")throw new bn(d);return p=p==null?0:ir(wt(p),0),Ct(function(b){var S=b[p],U=Pa(b,0,p);return S&&us(U,S),cr(u,this,U)})}function V8(u,p,b){var S=!0,U=!0;if(typeof u!="function")throw new bn(d);return Sn(b)&&(S="leading"in b?!!b.leading:S,U="trailing"in b?!!b.trailing:U),Zv(u,p,{leading:S,maxWait:p,trailing:U})}function Y8(u){return $v(u,1)}function $8(u,p){return c1($p(p),u)}function G8(){if(!arguments.length)return[];var u=arguments[0];return mt(u)?u:[u]}function X8(u){return Os(u,k)}function Q8(u,p){return p=typeof p=="function"?p:n,Os(u,k,p)}function K8(u){return Os(u,N|k)}function Z8(u,p){return p=typeof p=="function"?p:n,Os(u,N|k,p)}function J8(u,p){return p==null||U2(u,p,fr(p))}function ti(u,p){return u===p||u!==u&&p!==p}var e6=vf(Mp),t6=vf(function(u,p){return u>=p}),Wo=Y2(function(){return arguments}())?Y2:function(u){return Mn(u)&&jt.call(u,"callee")&&!I2.call(u,"callee")},mt=X.isArray,n6=ko?On(ko):u_;function Qr(u){return u!=null&&Af(u.length)&&!Zi(u)}function qn(u){return Mn(u)&&Qr(u)}function r6(u){return u===!0||u===!1||Mn(u)&&Pr(u)==at}var Fa=g5||w1,s6=Ks?On(Ks):d_;function i6(u){return Mn(u)&&u.nodeType===1&&!fu(u)}function a6(u){if(u==null)return!0;if(Qr(u)&&(mt(u)||typeof u=="string"||typeof u.splice=="function"||Fa(u)||Ml(u)||Wo(u)))return!u.length;var p=jr(u);if(p==Ke||p==je)return!u.size;if(uu(u))return!Fp(u).length;for(var b in u)if(jt.call(u,b))return!1;return!0}function o6(u,p){return ou(u,p)}function l6(u,p,b){b=typeof b=="function"?b:n;var S=b?b(u,p):n;return S===n?ou(u,p,n,b):!!S}function u1(u){if(!Mn(u))return!1;var p=Pr(u);return p==Vt||p==Qt||typeof u.message=="string"&&typeof u.name=="string"&&!fu(u)}function c6(u){return typeof u=="number"&&O2(u)}function Zi(u){if(!Sn(u))return!1;var p=Pr(u);return p==Wt||p==Ce||p==De||p==Qe}function ey(u){return typeof u=="number"&&u==wt(u)}function Af(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ue}function Sn(u){var p=typeof u;return u!=null&&(p=="object"||p=="function")}function Mn(u){return u!=null&&typeof u=="object"}var ty=Hd?On(Hd):h_;function u6(u,p){return u===p||Pp(u,p,e1(p))}function d6(u,p,b){return b=typeof b=="function"?b:n,Pp(u,p,e1(p),b)}function f6(u){return ny(u)&&u!=+u}function h6(u){if(Q_(u))throw new he(o);return $2(u)}function p6(u){return u===null}function m6(u){return u==null}function ny(u){return typeof u=="number"||Mn(u)&&Pr(u)==It}function fu(u){if(!Mn(u)||Pr(u)!=Se)return!1;var p=Jd(u);if(p===null)return!0;var b=jt.call(p,"constructor")&&p.constructor;return typeof b=="function"&&b instanceof b&&Js.call(b)==d5}var d1=fe?On(fe):p_;function x6(u){return ey(u)&&u>=-ue&&u<=ue}var ry=vt?On(vt):m_;function jf(u){return typeof u=="string"||!mt(u)&&Mn(u)&&Pr(u)==vn}function hs(u){return typeof u=="symbol"||Mn(u)&&Pr(u)==Qn}var Ml=Zn?On(Zn):x_;function g6(u){return u===n}function v6(u){return Mn(u)&&jr(u)==et}function y6(u){return Mn(u)&&Pr(u)==Rt}var w6=vf(Bp),b6=vf(function(u,p){return u<=p});function sy(u){if(!u)return[];if(Qr(u))return jf(u)?m(u):Xr(u);if(Jc&&u[Jc])return Ro(u[Jc]());var p=jr(u),b=p==Ke?_t:p==je?s:Ll;return b(u)}function Ji(u){if(!u)return u===0?u:0;if(u=Ps(u),u===ge||u===-ge){var p=u<0?-1:1;return p*xe}return u===u?u:0}function wt(u){var p=Ji(u),b=p%1;return p===p?b?p-b:p:0}function iy(u){return u?Fo(wt(u),0,Ve):0}function Ps(u){if(typeof u=="number")return u;if(hs(u))return Me;if(Sn(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=Sn(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=$d(u);var b=js.test(u);return b||gp.test(u)?_r(u.slice(2),b?2:8):yl.test(u)?Me:+u}function ay(u){return yi(u,Kr(u))}function C6(u){return u?Fo(wt(u),-ue,ue):u===0?u:0}function $t(u){return u==null?"":fs(u)}var N6=Il(function(u,p){if(uu(p)||Qr(p)){yi(p,fr(p),u);return}for(var b in p)jt.call(p,b)&&su(u,b,p[b])}),oy=Il(function(u,p){yi(p,Kr(p),u)}),kf=Il(function(u,p,b,S){yi(p,Kr(p),u,S)}),E6=Il(function(u,p,b,S){yi(p,fr(p),u,S)}),_6=Qi(Ip);function S6(u,p){var b=Dl(u);return p==null?b:B2(b,p)}var A6=Ct(function(u,p){u=Ge(u);var b=-1,S=p.length,U=S>2?p[2]:n;for(U&&Fr(p[0],p[1],U)&&(S=1);++b<S;)for(var G=p[b],ee=Kr(G),re=-1,ae=ee.length;++re<ae;){var we=ee[re],be=u[we];(be===n||ti(be,Cn[we])&&!jt.call(u,we))&&(u[we]=G[we])}return u}),j6=Ct(function(u){return u.push(n,Ev),cr(ly,n,u)});function k6(u,p){return Vi(u,lt(p,3),vi)}function T6(u,p){return Vi(u,lt(p,3),Op)}function D6(u,p){return u==null?u:Rp(u,lt(p,3),Kr)}function I6(u,p){return u==null?u:q2(u,lt(p,3),Kr)}function R6(u,p){return u&&vi(u,lt(p,3))}function O6(u,p){return u&&Op(u,lt(p,3))}function M6(u){return u==null?[]:uf(u,fr(u))}function L6(u){return u==null?[]:uf(u,Kr(u))}function f1(u,p,b){var S=u==null?n:Bo(u,p);return S===n?b:S}function P6(u,p){return u!=null&&Av(u,p,a_)}function h1(u,p){return u!=null&&Av(u,p,o_)}var F6=yv(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Qd.call(p)),u[p]=b},m1(Zr)),B6=yv(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Qd.call(p)),jt.call(u,p)?u[p].push(b):u[p]=[b]},lt),U6=Ct(au);function fr(u){return Qr(u)?P2(u):Fp(u)}function Kr(u){return Qr(u)?P2(u,!0):g_(u)}function z6(u,p){var b={};return p=lt(p,3),vi(u,function(S,U,G){Gi(b,p(S,U,G),S)}),b}function W6(u,p){var b={};return p=lt(p,3),vi(u,function(S,U,G){Gi(b,U,p(S,U,G))}),b}var H6=Il(function(u,p,b){df(u,p,b)}),ly=Il(function(u,p,b,S){df(u,p,b,S)}),q6=Qi(function(u,p){var b={};if(u==null)return b;var S=!1;p=dt(p,function(G){return G=La(G,u),S||(S=G.length>1),G}),yi(u,Zp(u),b),S&&(b=Os(b,N|_|k,F_));for(var U=p.length;U--;)qp(b,p[U]);return b});function V6(u,p){return cy(u,Sf(lt(p)))}var Y6=Qi(function(u,p){return u==null?{}:y_(u,p)});function cy(u,p){if(u==null)return{};var b=dt(Zp(u),function(S){return[S]});return p=lt(p),ev(u,b,function(S,U){return p(S,U[0])})}function $6(u,p,b){p=La(p,u);var S=-1,U=p.length;for(U||(U=1,u=n);++S<U;){var G=u==null?n:u[wi(p[S])];G===n&&(S=U,G=b),u=Zi(G)?G.call(u):G}return u}function G6(u,p,b){return u==null?u:lu(u,p,b)}function X6(u,p,b,S){return S=typeof S=="function"?S:n,u==null?u:lu(u,p,b,S)}var uy=Cv(fr),dy=Cv(Kr);function Q6(u,p,b){var S=mt(u),U=S||Fa(u)||Ml(u);if(p=lt(p,4),b==null){var G=u&&u.constructor;U?b=S?new G:[]:Sn(u)?b=Zi(G)?Dl(Jd(u)):{}:b={}}return(U?Gr:vi)(u,function(ee,re,ae){return p(b,ee,re,ae)}),b}function K6(u,p){return u==null?!0:qp(u,p)}function Z6(u,p,b){return u==null?u:iv(u,p,$p(b))}function J6(u,p,b,S){return S=typeof S=="function"?S:n,u==null?u:iv(u,p,$p(b),S)}function Ll(u){return u==null?[]:Da(u,fr(u))}function eA(u){return u==null?[]:Da(u,Kr(u))}function tA(u,p,b){return b===n&&(b=p,p=n),b!==n&&(b=Ps(b),b=b===b?b:0),p!==n&&(p=Ps(p),p=p===p?p:0),Fo(Ps(u),p,b)}function nA(u,p,b){return p=Ji(p),b===n?(b=p,p=0):b=Ji(b),u=Ps(u),l_(u,p,b)}function rA(u,p,b){if(b&&typeof b!="boolean"&&Fr(u,p,b)&&(p=b=n),b===n&&(typeof p=="boolean"?(b=p,p=n):typeof u=="boolean"&&(b=u,u=n)),u===n&&p===n?(u=0,p=1):(u=Ji(u),p===n?(p=u,u=0):p=Ji(p)),u>p){var S=u;u=p,p=S}if(b||u%1||p%1){var U=M2();return Ar(u+U*(p-u+jo("1e-"+((U+"").length-1))),p)}return zp(u,p)}var sA=Rl(function(u,p,b){return p=p.toLowerCase(),u+(b?fy(p):p)});function fy(u){return p1($t(u).toLowerCase())}function hy(u){return u=$t(u),u&&u.replace(xr,Kc).replace(bp,"")}function iA(u,p,b){u=$t(u),p=fs(p);var S=u.length;b=b===n?S:Fo(wt(b),0,S);var U=b;return b-=p.length,b>=0&&u.slice(b,U)==p}function aA(u){return u=$t(u),u&&Od.test(u)?u.replace(xi,Sp):u}function oA(u){return u=$t(u),u&&Bi.test(u)?u.replace(Fc,"\\$&"):u}var lA=Rl(function(u,p,b){return u+(b?"-":"")+p.toLowerCase()}),cA=Rl(function(u,p,b){return u+(b?" ":"")+p.toLowerCase()}),uA=xv("toLowerCase");function dA(u,p,b){u=$t(u),p=wt(p);var S=p?h(u):0;if(!p||S>=p)return u;var U=(p-S)/2;return gf(rf(U),b)+u+gf(nf(U),b)}function fA(u,p,b){u=$t(u),p=wt(p);var S=p?h(u):0;return p&&S<p?u+gf(p-S,b):u}function hA(u,p,b){u=$t(u),p=wt(p);var S=p?h(u):0;return p&&S<p?gf(p-S,b)+u:u}function pA(u,p,b){return b||p==null?p=0:p&&(p=+p),b5($t(u).replace(Co,""),p||0)}function mA(u,p,b){return(b?Fr(u,p,b):p===n)?p=1:p=wt(p),Wp($t(u),p)}function xA(){var u=arguments,p=$t(u[0]);return u.length<3?p:p.replace(u[1],u[2])}var gA=Rl(function(u,p,b){return u+(b?"_":"")+p.toLowerCase()});function vA(u,p,b){return b&&typeof b!="number"&&Fr(u,p,b)&&(p=b=n),b=b===n?Ve:b>>>0,b?(u=$t(u),u&&(typeof p=="string"||p!=null&&!d1(p))&&(p=fs(p),!p&&Ia(u))?Pa(m(u),0,b):u.split(p,b)):[]}var yA=Rl(function(u,p,b){return u+(b?" ":"")+p1(p)});function wA(u,p,b){return u=$t(u),b=b==null?0:Fo(wt(b),0,u.length),p=fs(p),u.slice(b,b+p.length)==p}function bA(u,p,b){var S=Y.templateSettings;b&&Fr(u,p,b)&&(p=n),u=$t(u),p=kf({},p,S,Nv);var U=kf({},p.imports,S.imports,Nv),G=fr(U),ee=Da(U,G),re,ae,we=0,be=p.interpolate||Zt,Te="__p += '",Be=ht((p.escape||Zt).source+"|"+be.source+"|"+(be===tr?Aa:Zt).source+"|"+(p.evaluate||Zt).source+"|$","g"),Ze="//# sourceURL="+(jt.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Wi+"]")+`
`;u.replace(Be,function(ut,St,Dt,ps,Br,ms){return Dt||(Dt=ps),Te+=u.slice(we,ms).replace(Md,Gd),St&&(re=!0,Te+=`' +
__e(`+St+`) +
'`),Br&&(ae=!0,Te+=`';
`+Br+`;
__p += '`),Dt&&(Te+=`' +
((__t = (`+Dt+`)) == null ? '' : __t) +
'`),we=ms+ut.length,ut}),Te+=`';
`;var ct=jt.call(p,"variable")&&p.variable;if(!ct)Te=`with (obj) {
`+Te+`
}
`;else if(Bc.test(ct))throw new he(x);Te=(ae?Te.replace(Qs,""):Te).replace(bo,"$1").replace(Id,"$1;"),Te="function("+(ct||"obj")+`) {
`+(ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(re?", __e = _.escape":"")+(ae?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Te+`return __p
}`;var bt=my(function(){return me(G,Ze+"return "+Te).apply(n,ee)});if(bt.source=Te,u1(bt))throw bt;return bt}function CA(u){return $t(u).toLowerCase()}function NA(u){return $t(u).toUpperCase()}function EA(u,p,b){if(u=$t(u),u&&(b||p===n))return $d(u);if(!u||!(p=fs(p)))return u;var S=m(u),U=m(p),G=Qc(S,U),ee=ds(S,U)+1;return Pa(S,G,ee).join("")}function _A(u,p,b){if(u=$t(u),u&&(b||p===n))return u.slice(0,y(u)+1);if(!u||!(p=fs(p)))return u;var S=m(u),U=ds(S,m(p))+1;return Pa(S,0,U).join("")}function SA(u,p,b){if(u=$t(u),u&&(b||p===n))return u.replace(Co,"");if(!u||!(p=fs(p)))return u;var S=m(u),U=Qc(S,m(p));return Pa(S,U).join("")}function AA(u,p){var b=te,S=ce;if(Sn(p)){var U="separator"in p?p.separator:U;b="length"in p?wt(p.length):b,S="omission"in p?fs(p.omission):S}u=$t(u);var G=u.length;if(Ia(u)){var ee=m(u);G=ee.length}if(b>=G)return u;var re=b-h(S);if(re<1)return S;var ae=ee?Pa(ee,0,re).join(""):u.slice(0,re);if(U===n)return ae+S;if(ee&&(re+=ae.length-re),d1(U)){if(u.slice(re).search(U)){var we,be=ae;for(U.global||(U=ht(U.source,$t(No.exec(U))+"g")),U.lastIndex=0;we=U.exec(be);)var Te=we.index;ae=ae.slice(0,Te===n?re:Te)}}else if(u.indexOf(fs(U),re)!=re){var Be=ae.lastIndexOf(U);Be>-1&&(ae=ae.slice(0,Be))}return ae+S}function jA(u){return u=$t(u),u&&Rd.test(u)?u.replace(Ot,C):u}var kA=Rl(function(u,p,b){return u+(b?" ":"")+p.toUpperCase()}),p1=xv("toUpperCase");function py(u,p,b){return u=$t(u),p=b?n:p,p===n?Zc(u)?F(u):qi(u):u.match(p)||[]}var my=Ct(function(u,p){try{return cr(u,n,p)}catch(b){return u1(b)?b:new he(b)}}),TA=Qi(function(u,p){return Gr(p,function(b){b=wi(b),Gi(u,b,l1(u[b],u))}),u});function DA(u){var p=u==null?0:u.length,b=lt();return u=p?dt(u,function(S){if(typeof S[1]!="function")throw new bn(d);return[b(S[0]),S[1]]}):[],Ct(function(S){for(var U=-1;++U<p;){var G=u[U];if(cr(G[0],this,S))return cr(G[1],this,S)}})}function IA(u){return r_(Os(u,N))}function m1(u){return function(){return u}}function RA(u,p){return u==null||u!==u?p:u}var OA=vv(),MA=vv(!0);function Zr(u){return u}function x1(u){return G2(typeof u=="function"?u:Os(u,N))}function LA(u){return Q2(Os(u,N))}function PA(u,p){return K2(u,Os(p,N))}var FA=Ct(function(u,p){return function(b){return au(b,u,p)}}),BA=Ct(function(u,p){return function(b){return au(u,b,p)}});function g1(u,p,b){var S=fr(p),U=uf(p,S);b==null&&!(Sn(p)&&(U.length||!S.length))&&(b=p,p=u,u=this,U=uf(p,fr(p)));var G=!(Sn(b)&&"chain"in b)||!!b.chain,ee=Zi(u);return Gr(U,function(re){var ae=p[re];u[re]=ae,ee&&(u.prototype[re]=function(){var we=this.__chain__;if(G||we){var be=u(this.__wrapped__),Te=be.__actions__=Xr(this.__actions__);return Te.push({func:ae,args:arguments,thisArg:u}),be.__chain__=we,be}return ae.apply(u,us([this.value()],arguments))})}),u}function UA(){return Kn._===this&&(Kn._=f5),this}function v1(){}function zA(u){return u=wt(u),Ct(function(p){return Z2(p,u)})}var WA=Xp(dt),HA=Xp(Vd),qA=Xp(st);function xy(u){return n1(u)?Al(wi(u)):w_(u)}function VA(u){return function(p){return u==null?n:Bo(u,p)}}var YA=wv(),$A=wv(!0);function y1(){return[]}function w1(){return!1}function GA(){return{}}function XA(){return""}function QA(){return!0}function KA(u,p){if(u=wt(u),u<1||u>ue)return[];var b=Ve,S=Ar(u,Ve);p=lt(p),u-=Ve;for(var U=Xc(S,p);++b<u;)p(b);return U}function ZA(u){return mt(u)?dt(u,wi):hs(u)?[u]:Xr(Lv($t(u)))}function JA(u){var p=++Ap;return $t(u)+p}var ej=xf(function(u,p){return u+p},0),tj=Qp("ceil"),nj=xf(function(u,p){return u/p},1),rj=Qp("floor");function sj(u){return u&&u.length?cf(u,Zr,Mp):n}function ij(u,p){return u&&u.length?cf(u,lt(p,2),Mp):n}function aj(u){return Sl(u,Zr)}function oj(u,p){return Sl(u,lt(p,2))}function lj(u){return u&&u.length?cf(u,Zr,Bp):n}function cj(u,p){return u&&u.length?cf(u,lt(p,2),Bp):n}var uj=xf(function(u,p){return u*p},1),dj=Qp("round"),fj=xf(function(u,p){return u-p},0);function hj(u){return u&&u.length?Do(u,Zr):0}function pj(u,p){return u&&u.length?Do(u,lt(p,2)):0}return Y.after=L8,Y.ary=$v,Y.assign=N6,Y.assignIn=oy,Y.assignInWith=kf,Y.assignWith=E6,Y.at=_6,Y.before=Gv,Y.bind=l1,Y.bindAll=TA,Y.bindKey=Xv,Y.castArray=G8,Y.chain=qv,Y.chunk=rS,Y.compact=sS,Y.concat=iS,Y.cond=DA,Y.conforms=IA,Y.constant=m1,Y.countBy=h8,Y.create=S6,Y.curry=Qv,Y.curryRight=Kv,Y.debounce=Zv,Y.defaults=A6,Y.defaultsDeep=j6,Y.defer=P8,Y.delay=F8,Y.difference=aS,Y.differenceBy=oS,Y.differenceWith=lS,Y.drop=cS,Y.dropRight=uS,Y.dropRightWhile=dS,Y.dropWhile=fS,Y.fill=hS,Y.filter=m8,Y.flatMap=v8,Y.flatMapDeep=y8,Y.flatMapDepth=w8,Y.flatten=Uv,Y.flattenDeep=pS,Y.flattenDepth=mS,Y.flip=B8,Y.flow=OA,Y.flowRight=MA,Y.fromPairs=xS,Y.functions=M6,Y.functionsIn=L6,Y.groupBy=b8,Y.initial=vS,Y.intersection=yS,Y.intersectionBy=wS,Y.intersectionWith=bS,Y.invert=F6,Y.invertBy=B6,Y.invokeMap=N8,Y.iteratee=x1,Y.keyBy=E8,Y.keys=fr,Y.keysIn=Kr,Y.map=Nf,Y.mapKeys=z6,Y.mapValues=W6,Y.matches=LA,Y.matchesProperty=PA,Y.memoize=_f,Y.merge=H6,Y.mergeWith=ly,Y.method=FA,Y.methodOf=BA,Y.mixin=g1,Y.negate=Sf,Y.nthArg=zA,Y.omit=q6,Y.omitBy=V6,Y.once=U8,Y.orderBy=_8,Y.over=WA,Y.overArgs=z8,Y.overEvery=HA,Y.overSome=qA,Y.partial=c1,Y.partialRight=Jv,Y.partition=S8,Y.pick=Y6,Y.pickBy=cy,Y.property=xy,Y.propertyOf=VA,Y.pull=_S,Y.pullAll=Wv,Y.pullAllBy=SS,Y.pullAllWith=AS,Y.pullAt=jS,Y.range=YA,Y.rangeRight=$A,Y.rearg=W8,Y.reject=k8,Y.remove=kS,Y.rest=H8,Y.reverse=a1,Y.sampleSize=D8,Y.set=G6,Y.setWith=X6,Y.shuffle=I8,Y.slice=TS,Y.sortBy=M8,Y.sortedUniq=PS,Y.sortedUniqBy=FS,Y.split=vA,Y.spread=q8,Y.tail=BS,Y.take=US,Y.takeRight=zS,Y.takeRightWhile=WS,Y.takeWhile=HS,Y.tap=s8,Y.throttle=V8,Y.thru=Cf,Y.toArray=sy,Y.toPairs=uy,Y.toPairsIn=dy,Y.toPath=ZA,Y.toPlainObject=ay,Y.transform=Q6,Y.unary=Y8,Y.union=qS,Y.unionBy=VS,Y.unionWith=YS,Y.uniq=$S,Y.uniqBy=GS,Y.uniqWith=XS,Y.unset=K6,Y.unzip=o1,Y.unzipWith=Hv,Y.update=Z6,Y.updateWith=J6,Y.values=Ll,Y.valuesIn=eA,Y.without=QS,Y.words=py,Y.wrap=$8,Y.xor=KS,Y.xorBy=ZS,Y.xorWith=JS,Y.zip=e8,Y.zipObject=t8,Y.zipObjectDeep=n8,Y.zipWith=r8,Y.entries=uy,Y.entriesIn=dy,Y.extend=oy,Y.extendWith=kf,g1(Y,Y),Y.add=ej,Y.attempt=my,Y.camelCase=sA,Y.capitalize=fy,Y.ceil=tj,Y.clamp=tA,Y.clone=X8,Y.cloneDeep=K8,Y.cloneDeepWith=Z8,Y.cloneWith=Q8,Y.conformsTo=J8,Y.deburr=hy,Y.defaultTo=RA,Y.divide=nj,Y.endsWith=iA,Y.eq=ti,Y.escape=aA,Y.escapeRegExp=oA,Y.every=p8,Y.find=x8,Y.findIndex=Fv,Y.findKey=k6,Y.findLast=g8,Y.findLastIndex=Bv,Y.findLastKey=T6,Y.floor=rj,Y.forEach=Vv,Y.forEachRight=Yv,Y.forIn=D6,Y.forInRight=I6,Y.forOwn=R6,Y.forOwnRight=O6,Y.get=f1,Y.gt=e6,Y.gte=t6,Y.has=P6,Y.hasIn=h1,Y.head=zv,Y.identity=Zr,Y.includes=C8,Y.indexOf=gS,Y.inRange=nA,Y.invoke=U6,Y.isArguments=Wo,Y.isArray=mt,Y.isArrayBuffer=n6,Y.isArrayLike=Qr,Y.isArrayLikeObject=qn,Y.isBoolean=r6,Y.isBuffer=Fa,Y.isDate=s6,Y.isElement=i6,Y.isEmpty=a6,Y.isEqual=o6,Y.isEqualWith=l6,Y.isError=u1,Y.isFinite=c6,Y.isFunction=Zi,Y.isInteger=ey,Y.isLength=Af,Y.isMap=ty,Y.isMatch=u6,Y.isMatchWith=d6,Y.isNaN=f6,Y.isNative=h6,Y.isNil=m6,Y.isNull=p6,Y.isNumber=ny,Y.isObject=Sn,Y.isObjectLike=Mn,Y.isPlainObject=fu,Y.isRegExp=d1,Y.isSafeInteger=x6,Y.isSet=ry,Y.isString=jf,Y.isSymbol=hs,Y.isTypedArray=Ml,Y.isUndefined=g6,Y.isWeakMap=v6,Y.isWeakSet=y6,Y.join=CS,Y.kebabCase=lA,Y.last=Ls,Y.lastIndexOf=NS,Y.lowerCase=cA,Y.lowerFirst=uA,Y.lt=w6,Y.lte=b6,Y.max=sj,Y.maxBy=ij,Y.mean=aj,Y.meanBy=oj,Y.min=lj,Y.minBy=cj,Y.stubArray=y1,Y.stubFalse=w1,Y.stubObject=GA,Y.stubString=XA,Y.stubTrue=QA,Y.multiply=uj,Y.nth=ES,Y.noConflict=UA,Y.noop=v1,Y.now=Ef,Y.pad=dA,Y.padEnd=fA,Y.padStart=hA,Y.parseInt=pA,Y.random=rA,Y.reduce=A8,Y.reduceRight=j8,Y.repeat=mA,Y.replace=xA,Y.result=$6,Y.round=dj,Y.runInContext=z,Y.sample=T8,Y.size=R8,Y.snakeCase=gA,Y.some=O8,Y.sortedIndex=DS,Y.sortedIndexBy=IS,Y.sortedIndexOf=RS,Y.sortedLastIndex=OS,Y.sortedLastIndexBy=MS,Y.sortedLastIndexOf=LS,Y.startCase=yA,Y.startsWith=wA,Y.subtract=fj,Y.sum=hj,Y.sumBy=pj,Y.template=bA,Y.times=KA,Y.toFinite=Ji,Y.toInteger=wt,Y.toLength=iy,Y.toLower=CA,Y.toNumber=Ps,Y.toSafeInteger=C6,Y.toString=$t,Y.toUpper=NA,Y.trim=EA,Y.trimEnd=_A,Y.trimStart=SA,Y.truncate=AA,Y.unescape=jA,Y.uniqueId=JA,Y.upperCase=kA,Y.upperFirst=p1,Y.each=Vv,Y.eachRight=Yv,Y.first=zv,g1(Y,function(){var u={};return vi(Y,function(p,b){jt.call(Y.prototype,b)||(u[b]=p)}),u}(),{chain:!1}),Y.VERSION=r,Gr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Y[u].placeholder=Y}),Gr(["drop","take"],function(u,p){kt.prototype[u]=function(b){b=b===n?1:ir(wt(b),0);var S=this.__filtered__&&!p?new kt(this):this.clone();return S.__filtered__?S.__takeCount__=Ar(b,S.__takeCount__):S.__views__.push({size:Ar(b,Ve),type:u+(S.__dir__<0?"Right":"")}),S},kt.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),Gr(["filter","map","takeWhile"],function(u,p){var b=p+1,S=b==ke||b==Ee;kt.prototype[u]=function(U){var G=this.clone();return G.__iteratees__.push({iteratee:lt(U,3),type:b}),G.__filtered__=G.__filtered__||S,G}}),Gr(["head","last"],function(u,p){var b="take"+(p?"Right":"");kt.prototype[u]=function(){return this[b](1).value()[0]}}),Gr(["initial","tail"],function(u,p){var b="drop"+(p?"":"Right");kt.prototype[u]=function(){return this.__filtered__?new kt(this):this[b](1)}}),kt.prototype.compact=function(){return this.filter(Zr)},kt.prototype.find=function(u){return this.filter(u).head()},kt.prototype.findLast=function(u){return this.reverse().find(u)},kt.prototype.invokeMap=Ct(function(u,p){return typeof u=="function"?new kt(this):this.map(function(b){return au(b,u,p)})}),kt.prototype.reject=function(u){return this.filter(Sf(lt(u)))},kt.prototype.slice=function(u,p){u=wt(u);var b=this;return b.__filtered__&&(u>0||p<0)?new kt(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),p!==n&&(p=wt(p),b=p<0?b.dropRight(-p):b.take(p-u)),b)},kt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},kt.prototype.toArray=function(){return this.take(Ve)},vi(kt.prototype,function(u,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),S=/^(?:head|last)$/.test(p),U=Y[S?"take"+(p=="last"?"Right":""):p],G=S||/^find/.test(p);U&&(Y.prototype[p]=function(){var ee=this.__wrapped__,re=S?[1]:arguments,ae=ee instanceof kt,we=re[0],be=ae||mt(ee),Te=function(St){var Dt=U.apply(Y,us([St],re));return S&&Be?Dt[0]:Dt};be&&b&&typeof we=="function"&&we.length!=1&&(ae=be=!1);var Be=this.__chain__,Ze=!!this.__actions__.length,ct=G&&!Be,bt=ae&&!Ze;if(!G&&be){ee=bt?ee:new kt(this);var ut=u.apply(ee,re);return ut.__actions__.push({func:Cf,args:[Te],thisArg:n}),new Rs(ut,Be)}return ct&&bt?u.apply(this,re):(ut=this.thru(Te),ct?S?ut.value()[0]:ut.value():ut)})}),Gr(["pop","push","shift","sort","splice","unshift"],function(u){var p=sr[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",S=/^(?:pop|shift)$/.test(u);Y.prototype[u]=function(){var U=arguments;if(S&&!this.__chain__){var G=this.value();return p.apply(mt(G)?G:[],U)}return this[b](function(ee){return p.apply(mt(ee)?ee:[],U)})}}),vi(kt.prototype,function(u,p){var b=Y[p];if(b){var S=b.name+"";jt.call(Tl,S)||(Tl[S]=[]),Tl[S].push({name:p,func:b})}}),Tl[mf(n,D).name]=[{name:"wrapper",func:n}],kt.prototype.clone=j5,kt.prototype.reverse=k5,kt.prototype.value=T5,Y.prototype.at=i8,Y.prototype.chain=a8,Y.prototype.commit=o8,Y.prototype.next=l8,Y.prototype.plant=u8,Y.prototype.reverse=d8,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=f8,Y.prototype.first=Y.prototype.head,Jc&&(Y.prototype[Jc]=c8),Y},Z=H();Hi?((Hi.exports=Z)._=Z,Yc._=Z):Kn._=Z}).call(Ai)})(Ch,Ch.exports);var zE=Ch.exports;const EF=({search:e,onApply:t,onDelete:n})=>a.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[a.jsx("button",{onClick:()=>t(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),a.jsx("button",{onClick:()=>n(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),om=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),t3=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),_F=({equipmentData:e,onFilterChange:t,currentFilters:n,isLoading:r})=>{const o=(()=>{if(!e||e.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const g={total:e.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},v=new Date;return v.setDate(v.getDate()-7),e.forEach(w=>{w.status==="available"?g.available++:w.status==="in-use"?g.inUse++:w.status==="maintenance"&&g.maintenance++;const N=w.category||"Uncategorized";g.categories[N]=(g.categories[N]||0)+1;const _=w.type||"Unknown";g.types[_]=(g.types[_]||0)+1;const k=w.location||"No Location";g.locations[k]=(g.locations[k]||0)+1;const A=w.brand||"Unknown";g.brands[A]=(g.brands[A]||0)+1,new Date(w.created_at)>v&&g.recentlyAdded++}),g})(),d=[{title:"Total Equipment",value:o.total,icon:a.jsx(t3,{}),color:"blue",filter:{status:""},description:"All equipment in system"},{title:"Available",value:o.available,icon:a.jsx(om,{}),color:"green",filter:{status:"available"},description:"Ready for use"},{title:"In Use",value:o.inUse,icon:a.jsx(om,{}),color:"yellow",filter:{status:"in-use"},description:"Currently deployed"},{title:"Maintenance",value:o.maintenance,icon:a.jsx(om,{}),color:"red",filter:{status:"maintenance"},description:"Under repair"}],x=(g,v=!1)=>{const w={blue:{bg:v?"bg-blue-100 border-blue-500":"bg-blue-50 hover:bg-blue-100",text:"text-blue-700",border:"border-l-4 border-blue-500",icon:"text-blue-600"},green:{bg:v?"bg-green-100 border-green-500":"bg-green-50 hover:bg-green-100",text:"text-green-700",border:"border-l-4 border-green-500",icon:"text-green-600"},yellow:{bg:v?"bg-yellow-100 border-yellow-500":"bg-yellow-50 hover:bg-yellow-100",text:"text-yellow-700",border:"border-l-4 border-yellow-500",icon:"text-yellow-600"},red:{bg:v?"bg-red-100 border-red-500":"bg-red-50 hover:bg-red-100",text:"text-red-700",border:"border-l-4 border-red-500",icon:"text-red-600"}};return w[g]||w.blue};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(t3,{}),"Equipment Analytics"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map((g,v)=>{const w=n.status===g.filter.status,N=x(g.color,w);return a.jsx("button",{onClick:()=>t(g.filter),className:`${N.bg} ${N.border} p-4 rounded-lg transition-all duration-200 hover:shadow-md cursor-pointer text-left group ${w?"ring-2 ring-offset-2 ring-blue-500":""}`,title:`Filter by ${g.title.toLowerCase()}: ${g.description}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`text-sm font-medium ${N.text} mb-1`,children:g.title}),a.jsx("p",{className:`text-2xl font-bold ${N.text}`,children:r?"...":g.value.toLocaleString()}),a.jsx("p",{className:`text-xs ${N.text} opacity-75 mt-1`,children:g.description})]}),a.jsx("div",{className:`${N.icon} group-hover:scale-110 transition-transform`,children:g.icon})]})},v)})})]}),a.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(o.brands).length}),a.jsx("p",{className:"text-sm text-primary-600",children:"Brands"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(o.types).length}),a.jsx("p",{className:"text-sm text-primary-600",children:"Types"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(o.locations).length}),a.jsx("p",{className:"text-sm text-primary-600",children:"Locations"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-green-700",children:o.recentlyAdded}),a.jsx("p",{className:"text-sm text-green-600",children:"Added This Week"})]})]})})]})},SF=()=>{var Vt,Wt;const{user:e,canEditEquipment:t}=lr(),n=Wn(),r=M.useRef(null),[i,o]=M.useState({search:"",type:"",brand:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[d,x]=M.useState("updated_at"),[g,v]=M.useState("desc"),[w,N]=M.useState(""),[_,k]=M.useState(!1),[A,O]=M.useState(!1),[L,D]=M.useState(!1),[j,I]=M.useState(""),[W,Q]=M.useState(!1),{data:B,isLoading:R}=gt(["equipment-summary"],()=>la({limit:1e3}));(()=>{if(!(B!=null&&B.equipment))return{total:0,available:0,inUse:0,maintenance:0};const Ce={total:B.equipment.length,available:0,inUse:0,maintenance:0,types:{}};return B.equipment.forEach(Ke=>{Ke.status==="available"?Ce.available++:Ke.status==="in-use"?Ce.inUse++:Ke.status==="maintenance"&&Ce.maintenance++,Ce.types[Ke.type]?Ce.types[Ke.type]++:Ce.types[Ke.type]=1}),Ce})();const{data:V,fetchNextPage:te,hasNextPage:ce,isFetchingNextPage:J,isLoading:oe,isError:ke,error:se}=$g(["equipment",i,d,g],async({pageParam:Ce=1})=>{const Ke={page:Ce,limit:20,...i,sortBy:d,sortOrder:g};return i.dateRange.startDate&&i.dateRange.endDate&&(Ke.startDate=i.dateRange.startDate.toISOString(),Ke.endDate=i.dateRange.endDate.toISOString()),la(Ke)},{getNextPageParam:Ce=>{if(Ce.page<Ce.totalPages)return Ce.page+1},keepPreviousData:!0}),{data:Ee,isLoading:ge}=gt(["equipment-suggestions",w],()=>la({search:w,limit:5}),{enabled:!!w&&w.length>2,keepPreviousData:!0}),{data:ue}=gt(["saved-searches"],oE,{enabled:t()}),{data:xe}=gt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5});gt({queryKey:["categories"],queryFn:xl});const{data:Me}=gt(["equipment-analytics"],()=>la({limit:1e4}),{keepPreviousData:!0}),Ve=M.useCallback(zE.debounce(Ce=>{N(Ce)},300),[]),nt=Ce=>{const Ke=Ce.target.value,It={...i,search:Ke};o(It),Ve(Ke),Ke.length>2?k(!0):k(!1);const ye=Object.values(It).some(Se=>Se!==""&&Se!==null&&(typeof Se!="object"||It.dateRange.startDate||It.dateRange.endDate));O(ye)},Ae=Ce=>{const{name:Ke,value:It}=Ce.target,ye={...i,[Ke]:It};o(ye);const Se=Object.values(ye).some(ze=>ze!==""&&ze!==null&&(typeof ze!="object"||ze.startDate||ze.endDate));O(Se)},Xe=Ce=>{const Ke={...i,...Ce};o(Ke),O(!0),Q(!0)},it=()=>{o({search:"",status:"",type:"",brand:"",location:"",dateRange:{startDate:null,endDate:null}}),O(!1),Q(!1)},_e=Ce=>{const[Ke,It]=Ce,ye={...i,dateRange:{startDate:Ke,endDate:It}};o(ye);const Se=Object.values(ye).some(ze=>ze!==""&&ze!==null&&(typeof ze!="object"||ye.dateRange.startDate||ye.dateRange.endDate));O(Se)},De=async()=>{if(!j.trim()){tt.error("Please enter a name for your saved search");return}try{await lE({name:j,filters:JSON.stringify(i),sortBy:d,sortOrder:g}),n.invalidateQueries(["saved-searches"]),I(""),D(!1),tt.success("Search saved successfully")}catch(Ce){tt.error("Failed to save search"),console.error("Save search error:",Ce)}},at=Ce=>{try{const Ke=JSON.parse(Ce.filters);o(Ke),x(Ce.sortBy||"updated_at"),v(Ce.sortOrder||"desc"),O(!0),tt.info(`Applied saved search: ${Ce.name}`)}catch(Ke){tt.error("Failed to apply saved search"),console.error("Apply saved search error:",Ke)}},qt=async Ce=>{try{await cE(Ce),n.invalidateQueries(["saved-searches"]),tt.success("Search deleted successfully")}catch(Ke){tt.error("Failed to delete search"),console.error("Delete saved search error:",Ke)}};M.useEffect(()=>{const Ce=new IntersectionObserver(Ke=>{Ke[0].isIntersecting&&ce&&!J&&te()},{threshold:.5});return r.current&&Ce.observe(r.current),()=>{r.current&&Ce.unobserve(r.current)}},[r,te,ce,J]);const Qt=(V==null?void 0:V.pages.flatMap(Ce=>Ce.equipment))||[];return a.jsxs("div",{className:"space-y-6",children:[a.jsx(rp,{position:"top-right",autoClose:3e3}),a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Dashboard"}),a.jsx(Fn,{to:"/equipment/new",className:"btn btn-primary",children:"Add New Equipment"})]}),a.jsxs("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:i.search,onChange:nt,className:"w-full px-4 py-3 pl-10 rounded-full shadow-md border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","aria-label":"Search equipment catalog"}),a.jsx(n2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),_&&((Vt=Ee==null?void 0:Ee.equipment)==null?void 0:Vt.length)>0&&a.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:Ee.equipment.map(Ce=>a.jsxs(Fn,{to:`/equipment/${Ce.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[a.jsxs("div",{className:"font-medium",children:[Ce.brand," ",Ce.model]}),a.jsxs("div",{className:"text-sm text-slate-500",children:[Ce.type," • SN: ",Ce.serial_number]})]},Ce.id))})]}),a.jsx("div",{className:"flex justify-between mt-2",children:a.jsxs("button",{onClick:()=>Q(!W),className:"flex items-center text-sm text-slate-600 hover:text-primary-600",children:[a.jsx(r2,{className:"w-4 h-4 mr-1"}),W?"Hide Filters":"Show Advanced Filters"]})})]}),t()&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),L?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:j,onChange:Ce=>I(Ce.target.value),className:"w-48 px-3 py-1 text-sm border border-slate-300 rounded-lg"}),a.jsx("button",{className:"px-3 py-1 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700",onClick:De,children:"Save"}),a.jsx("button",{className:"px-3 py-1 text-sm border border-slate-300 rounded-lg hover:bg-slate-50",onClick:()=>{D(!1),I("")},children:"Cancel"})]}):a.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 text-sm border border-slate-300 rounded-lg hover:bg-slate-50",onClick:()=>D(!0),children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),a.jsx("span",{children:"Save Current Search"})]})]}),a.jsx("div",{className:"flex flex-wrap",children:((Wt=ue==null?void 0:ue.searches)==null?void 0:Wt.length)>0?ue.searches.map(Ce=>a.jsx(EF,{search:Ce,onApply:at,onDelete:qt},Ce.id)):a.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),a.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${W?"max-h-96 opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Equipment Type"}),a.jsxs("select",{name:"type",value:i.type,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[a.jsx("option",{value:"",children:"All Types"}),xe!=null&&xe.types&&xe.types.length>0?xe.types.map(Ce=>a.jsx("option",{value:Ce.name.toLowerCase(),children:Ce.name},Ce.id)):a.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Brand"}),a.jsx("input",{type:"text",name:"brand",value:i.brand,onChange:Ae,placeholder:"Filter by brand",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",value:i.status,onChange:Ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"in-use",children:"In Use"}),a.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),a.jsx("input",{type:"text",name:"location",value:i.location,onChange:Ae,placeholder:"Filter by location",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),a.jsx(UE,{selectsRange:!0,startDate:i.dateRange.startDate,endDate:i.dateRange.endDate,onChange:_e,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),a.jsxs("select",{value:d,onChange:Ce=>x(Ce.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[a.jsx("option",{value:"updated_at",children:"Last Updated"}),a.jsx("option",{value:"brand",children:"Brand"}),a.jsx("option",{value:"model",children:"Model"}),a.jsx("option",{value:"type",children:"Type"}),a.jsx("option",{value:"status",children:"Status"}),a.jsx("option",{value:"location",children:"Location"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort Order"}),a.jsxs("select",{value:g,onChange:Ce=>v(Ce.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[a.jsx("option",{value:"asc",children:"Ascending"}),a.jsx("option",{value:"desc",children:"Descending"})]})]})]})]})}),A?a.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Search Results"}),a.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[Qt.length," items found"]})]}),a.jsxs("button",{onClick:it,className:"px-3 py-2 text-sm bg-white border border-slate-300 rounded-lg hover:bg-slate-50 flex items-center",title:"Clear all filters and return to dashboard",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear Filters"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-left",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Brand"}),a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Model"}),a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Serial Number"}),a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:oe?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-slate-500",children:a.jsxs("div",{className:"flex justify-center items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mr-2"}),"Loading..."]})})}):ke?a.jsx("tr",{children:a.jsxs("td",{colSpan:"7",className:"px-6 py-4 text-center text-red-500",children:["Error loading equipment: ",se.message]})}):Qt.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-slate-500",children:"No equipment found matching your search criteria"})}):Qt.map(Ce=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ce.type}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ce.brand}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ce.model}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ce.serial_number}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ce.status==="available"?"bg-green-100 text-green-800":Ce.status==="in-use"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:Ce.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ce.location||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Fn,{to:`/equipment/${Ce.id}`,className:"text-primary-600 hover:text-primary-900",title:"View details",children:a.jsx(oh,{className:"w-5 h-5"})}),t()&&a.jsx(a.Fragment,{children:a.jsx(Fn,{to:`/equipment/${Ce.id}/edit`,className:"text-slate-600 hover:text-slate-900",title:"Edit equipment",children:a.jsx(ac,{className:"w-5 h-5"})})})]})})]},Ce.id))})]})}),a.jsx("div",{ref:r,className:"py-4 text-center",children:J?a.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),a.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):ce?a.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):a.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]}):a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsx(_F,{equipmentData:(Me==null?void 0:Me.equipment)||[],onFilterChange:Xe,currentFilters:i,isLoading:R})})]})},AF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),jF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),kF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})}),TF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),DF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),IF=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),a.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),RF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),lm=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),zu=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),OF=({equipmentData:e,onFilterChange:t,currentFilters:n,isLoading:r})=>{const o=(()=>{if(!e||e.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const g={total:e.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},v=new Date;return v.setDate(v.getDate()-7),e.forEach(w=>{w.status==="available"?g.available++:w.status==="in-use"?g.inUse++:w.status==="maintenance"&&g.maintenance++;const N=w.category||"Uncategorized";g.categories[N]=(g.categories[N]||0)+1;const _=w.type||"Unknown";g.types[_]=(g.types[_]||0)+1;const k=w.location||"No Location";g.locations[k]=(g.locations[k]||0)+1;const A=w.brand||"Unknown";g.brands[A]=(g.brands[A]||0)+1,new Date(w.created_at)>v&&g.recentlyAdded++}),g})(),d=[{title:"Total Equipment",value:o.total,icon:a.jsx(zu,{}),color:"blue",filter:{status:""},description:"All equipment in system"},{title:"Available",value:o.available,icon:a.jsx(lm,{}),color:"green",filter:{status:"available"},description:"Ready for use"},{title:"In Use",value:o.inUse,icon:a.jsx(lm,{}),color:"yellow",filter:{status:"in-use"},description:"Currently deployed"},{title:"Maintenance",value:o.maintenance,icon:a.jsx(lm,{}),color:"red",filter:{status:"maintenance"},description:"Under repair"}],x=(g,v=!1)=>{const w={blue:{bg:v?"bg-blue-100 border-blue-500":"bg-blue-50 hover:bg-blue-100",text:"text-blue-700",border:"border-l-4 border-blue-500",icon:"text-blue-600"},green:{bg:v?"bg-green-100 border-green-500":"bg-green-50 hover:bg-green-100",text:"text-green-700",border:"border-l-4 border-green-500",icon:"text-green-600"},yellow:{bg:v?"bg-yellow-100 border-yellow-500":"bg-yellow-50 hover:bg-yellow-100",text:"text-yellow-700",border:"border-l-4 border-yellow-500",icon:"text-yellow-600"},red:{bg:v?"bg-red-100 border-red-500":"bg-red-50 hover:bg-red-100",text:"text-red-700",border:"border-l-4 border-red-500",icon:"text-red-600"}};return w[g]||w.blue};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(zu,{}),"Equipment Analytics"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map((g,v)=>{const w=n.status===g.filter.status,N=x(g.color,w);return a.jsx("button",{onClick:()=>t(g.filter),className:`${N.bg} ${N.border} p-4 rounded-lg transition-all duration-200 hover:shadow-md cursor-pointer text-left group ${w?"ring-2 ring-offset-2 ring-blue-500":""}`,title:`Filter by ${g.title.toLowerCase()}: ${g.description}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`text-sm font-medium ${N.text} mb-1`,children:g.title}),a.jsx("p",{className:`text-2xl font-bold ${N.text}`,children:r?"...":g.value.toLocaleString()}),a.jsx("p",{className:`text-xs ${N.text} opacity-75 mt-1`,children:g.description})]}),a.jsx("div",{className:`${N.icon} group-hover:scale-110 transition-transform`,children:g.icon})]})},v)})})]}),a.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(o.brands).length}),a.jsx("p",{className:"text-sm text-primary-600",children:"Brands"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(o.types).length}),a.jsx("p",{className:"text-sm text-primary-600",children:"Types"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(o.locations).length}),a.jsx("p",{className:"text-sm text-primary-600",children:"Locations"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-green-700",children:o.recentlyAdded}),a.jsx("p",{className:"text-sm text-green-600",children:"Added This Week"})]})]})})]})},MF=({equipment:e,canEdit:t,searchTerm:n})=>{const[r,i]=M.useState(!1);let o=null;if(e.reference_image_id)o=ah(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const g=e.files.find(v=>v.file_type==="image");g&&(o=ah(g.id,!0))}const d=g=>{switch(g){case"available":return a.jsx(vs,{variant:"success",children:g});case"in-use":return a.jsx(vs,{variant:"info",children:g});case"maintenance":return a.jsx(vs,{variant:"warning",children:g});case"unavailable":return a.jsx(vs,{variant:"secondary",children:g});case"broken":return a.jsx(vs,{variant:"danger",children:g});default:return a.jsx(vs,{children:g})}},x=(g,v)=>{if(!v||!g)return g;const w=new RegExp(`(${v})`,"gi");return g.split(w).map((_,k)=>w.test(_)?a.jsx("span",{className:"bg-yellow-200 font-medium",children:_},k):_)};return a.jsxs(Fe,{className:"h-full transition-all duration-300 hover:shadow-lg hover:scale-[1.02] relative",children:[a.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[o?a.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:a.jsx("img",{src:o,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):a.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:a.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})}),r&&a.jsxs("div",{className:"absolute inset-0 bg-slate-900 bg-opacity-80 p-4 text-white overflow-y-auto",children:[a.jsxs("h4",{className:"font-medium",children:[e.brand," ",e.model]}),a.jsx("p",{className:"text-sm mt-1",children:e.description||"No description available"}),a.jsxs("p",{className:"text-sm mt-2",children:["Serial: ",e.serial_number]}),a.jsxs("p",{className:"text-sm",children:["Location: ",e.location||"Not specified"]})]})]}),a.jsxs(Fe.Body,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&a.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),d(e.status)]}),a.jsx("h2",{className:"text-lg font-semibold mb-1",children:n?a.jsxs(a.Fragment,{children:[x(e.brand,n)," ",x(e.model,n)]}):`${e.brand} ${e.model}`}),a.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",n?x(e.serial_number,n):e.serial_number]}),a.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[a.jsxs(Fn,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[a.jsx(IF,{})," View"]}),t&&a.jsxs(Fn,{to:`/equipment/${e.id}/edit`,className:"text-slate-600 hover:text-slate-800 flex items-center gap-1",children:[a.jsx(DF,{})," Edit"]})]})]})]})},LF=({equipment:e,canEdit:t,navigate:n})=>{const r=(i,o)=>{o.target.closest("button")||o.target.closest("a")||n(`/equipment/${i}`)};return a.jsxs("tr",{className:"table-row hover:bg-slate-50 cursor-pointer",onClick:i=>r(e.id,i),children:[a.jsx("td",{className:"table-cell",children:a.jsxs("span",{className:"font-medium text-slate-800",children:[e.brand," ",e.model]})}),a.jsx("td",{className:"table-cell",children:e.type}),a.jsx("td",{className:"table-cell",children:e.category||"-"}),a.jsx("td",{className:"table-cell",children:e.serial_number}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`badge ${e.status==="available"?"badge-success":e.status==="in-use"?"badge-info":e.status==="maintenance"?"badge-warning":e.status==="unavailable"?"badge-secondary":e.status==="broken"?"badge-danger":"badge-secondary"}`,children:e.status})}),a.jsx("td",{className:"table-cell",children:e.location||"-"}),a.jsx("td",{className:"table-cell",children:e.quantity||1}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fn,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",onClick:i=>i.stopPropagation(),children:"View"}),t?a.jsx(Fn,{to:`/equipment/${e.id}/edit`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium underline",onClick:i=>{i.stopPropagation(),console.log("Edit link clicked for equipment:",e.id)},children:"Edit"}):a.jsx("span",{className:"text-gray-400 text-sm",children:"Edit"})]})})]})},PF=()=>a.jsxs("div",{className:"bg-white rounded-lg shadow-soft overflow-hidden h-full animate-pulse",children:[a.jsx("div",{className:"h-40 bg-slate-200"}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"})]}),a.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2 mb-4"}),a.jsxs("div",{className:"border-t border-slate-100 pt-2 flex justify-between",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]})]}),FF=({search:e,onApply:t,onDelete:n})=>a.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[a.jsx("button",{onClick:()=>t(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),a.jsx("button",{onClick:()=>n(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:a.jsx(TF,{className:"w-4 h-4"})})]}),n3=()=>{var Ke,It;const{user:e,canEditEquipment:t}=lr(),n=Wn(),r=Xs(),i=M.useRef(null),[o,d]=M.useState({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[x,g]=M.useState(""),[v,w]=M.useState(!1),[N,_]=M.useState(!1),[k,A]=M.useState("updated_at"),[O,L]=M.useState("desc"),[D,j]=M.useState(""),[I,W]=M.useState(!1),[Q,B]=M.useState("list"),{data:R,fetchNextPage:q,hasNextPage:V,isFetchingNextPage:te,isLoading:ce,isError:J,error:oe}=$g(["equipment",o,k,O],async({pageParam:ye=1})=>{const Se={page:ye,limit:20,...o,sortBy:k,sortOrder:O};return o.dateRange.startDate&&o.dateRange.endDate&&(Se.startDate=o.dateRange.startDate.toISOString(),Se.endDate=o.dateRange.endDate.toISOString()),la(Se)},{getNextPageParam:ye=>{if(ye.page<ye.totalPages)return ye.page+1},keepPreviousData:!0}),{data:ke,isLoading:se}=gt(["equipment-suggestions",x],()=>la({search:x,limit:5}),{enabled:!!x&&x.length>2,keepPreviousData:!0}),{data:Ee}=gt(["saved-searches"],oE,{enabled:t()}),{data:ge=[]}=gt({queryKey:["equipmentTypes"],queryFn:Li}),ue=Array.isArray(ge)?ge:ge.types||[],{data:xe={categories:[]}}=gt({queryKey:["categories"],queryFn:xl}),Me=xe.categories||[],Ve=M.useCallback(zE.debounce(ye=>{g(ye)},300),[]),nt=ye=>{const Se=ye.target.value;d(ze=>({...ze,search:Se})),Ve(Se),Se.length>2?w(!0):w(!1)},Ae=ye=>{const{name:Se,value:ze}=ye.target;d(Qe=>({...Qe,[Se]:ze}))},Xe=ye=>{const[Se,ze]=ye;d(Qe=>({...Qe,dateRange:{startDate:Se,endDate:ze}}))},it=()=>{d({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),g(""),w(!1)},_e=async()=>{if(!D.trim()){tt.error("Please enter a name for your saved search");return}try{await lE({name:D,filters:JSON.stringify(o),sortBy:k,sortOrder:O}),n.invalidateQueries(["saved-searches"]),j(""),W(!1),tt.success("Search saved successfully")}catch(ye){tt.error("Failed to save search"),console.error("Save search error:",ye)}},De=ye=>{try{const Se=JSON.parse(ye.filters);d(Se),A(ye.sortBy||"updated_at"),L(ye.sortOrder||"desc"),tt.info(`Applied saved search: ${ye.name}`)}catch(Se){tt.error("Failed to apply saved search"),console.error("Apply saved search error:",Se)}},at=async ye=>{try{await cE(ye),n.invalidateQueries(["saved-searches"]),tt.success("Search deleted successfully")}catch(Se){tt.error("Failed to delete search"),console.error("Delete saved search error:",Se)}};M.useEffect(()=>{const ye=new IntersectionObserver(ze=>{ze[0].isIntersecting&&V&&!te&&q()},{threshold:.5}),Se=i.current;return Se&&ye.observe(Se),()=>{Se&&ye.unobserve(Se)}},[i,q,V,te]);const qt=(R==null?void 0:R.pages.flatMap(ye=>ye.equipment))||[],{data:Qt}=gt(["equipment-analytics"],()=>la({limit:1e4}),{keepPreviousData:!0}),Wt=(()=>{const ye=(Qt==null?void 0:Qt.equipment)||[];if(!ye||ye.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const Se={total:ye.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},ze=new Date;return ze.setDate(ze.getDate()-7),ye.forEach(Qe=>{Qe.status==="available"?Se.available++:Qe.status==="in-use"?Se.inUse++:Qe.status==="maintenance"&&Se.maintenance++;const Pe=Qe.category||"Uncategorized";Se.categories[Pe]=(Se.categories[Pe]||0)+1;const je=Qe.type||"Unknown";Se.types[je]=(Se.types[je]||0)+1;const vn=Qe.location||"No Location";Se.locations[vn]=(Se.locations[vn]||0)+1;const Qn=Qe.brand||"Unknown";Se.brands[Qn]=(Se.brands[Qn]||0)+1,new Date(Qe.created_at)>ze&&Se.recentlyAdded++}),Se})(),Ce=ye=>{d(Se=>({...Se,...ye}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(rp,{position:"top-right",autoClose:3e3}),a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Dashboard"})}),a.jsx(OF,{equipmentData:(Qt==null?void 0:Qt.equipment)||[],onFilterChange:Ce,currentFilters:o,isLoading:ce}),a.jsx("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:a.jsxs("div",{className:"relative",children:[a.jsx(xt,{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:o.search,onChange:nt,icon:a.jsx(AF,{}),className:"rounded-full shadow-md","aria-label":"Search equipment catalog"}),v&&((Ke=ke==null?void 0:ke.equipment)==null?void 0:Ke.length)>0&&a.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:ke.equipment.map(ye=>a.jsxs(Fn,{to:`/equipment/${ye.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[a.jsxs("div",{className:"font-medium",children:[ye.brand," ",ye.model]}),a.jsxs("div",{className:"text-sm text-slate-500",children:[ye.type," • SN: ",ye.serial_number]})]},ye.id))}),a.jsxs("div",{className:"flex mt-2 gap-2",children:[a.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>_(!N),className:"flex items-center gap-1","aria-expanded":N,"aria-controls":"filter-panel",children:[a.jsx(jF,{}),a.jsx("span",{children:N?"Hide Filters":"Show Filters"})]}),Object.values(o).some(ye=>ye&&(typeof ye=="string"?ye.trim()!=="":!0))&&a.jsxs(Re,{variant:"outline",size:"sm",onClick:it,className:"flex items-center gap-1 text-slate-600",children:[a.jsx(RF,{}),a.jsx("span",{children:"Clear Filters"})]}),a.jsx("div",{className:"ml-auto",children:a.jsx(ws,{id:"sort",name:"sort",value:`${k}-${O}`,onChange:ye=>{const[Se,ze]=ye.target.value.split("-");A(Se),L(ze)},options:[{value:"updated_at-desc",label:"Newest First"},{value:"updated_at-asc",label:"Oldest First"},{value:"brand-asc",label:"Brand (A-Z)"},{value:"brand-desc",label:"Brand (Z-A)"},{value:"model-asc",label:"Model (A-Z)"},{value:"model-desc",label:"Model (Z-A)"}],className:"w-40"})})]})]})}),t()&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),I?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xt,{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:D,onChange:ye=>j(ye.target.value),className:"w-48"}),a.jsx(Re,{variant:"primary",size:"sm",onClick:_e,children:"Save"}),a.jsx(Re,{variant:"outline",size:"sm",onClick:()=>{W(!1),j("")},children:"Cancel"})]}):a.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>W(!0),className:"flex items-center gap-1",children:[a.jsx(kF,{}),a.jsx("span",{children:"Save Current Search"})]})]}),a.jsx("div",{className:"flex flex-wrap",children:((It=Ee==null?void 0:Ee.searches)==null?void 0:It.length)>0?Ee.searches.map(ye=>a.jsx(FF,{search:ye,onApply:De,onDelete:at},ye.id)):a.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),a.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${N?"max-h-[800px] opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[a.jsxs(Fe,{className:"h-fit",children:[a.jsx(Fe.Header,{children:a.jsxs(Fe.Title,{className:"flex items-center gap-2",children:[a.jsx(zu,{}),"Equipment Types"]})}),a.jsx(Fe.Body,{className:"p-4",children:ce?a.jsx("div",{className:"space-y-2",children:[...Array(3)].map((ye,Se)=>a.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},Se))}):Object.keys(Wt.types).length>0?a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(Wt.types).sort(([,ye],[,Se])=>Se-ye).slice(0,10).map(([ye,Se])=>{const ze=o.type===ye;return a.jsxs("button",{onClick:()=>d(Qe=>({...Qe,type:ze?"":ye})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${ze?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${ye} equipment`,children:[a.jsx("span",{className:"capitalize font-medium",children:ye}),a.jsx(vs,{variant:ze?"primary":"secondary",size:"sm",children:Se})]},ye)})}):a.jsx("p",{className:"text-slate-500 text-sm",children:"No equipment types available"})})]}),a.jsxs(Fe,{className:"h-fit",children:[a.jsx(Fe.Header,{children:a.jsxs(Fe.Title,{className:"flex items-center gap-2",children:[a.jsx(zu,{}),"Categories"]})}),a.jsx(Fe.Body,{className:"p-4",children:ce?a.jsx("div",{className:"space-y-2",children:[...Array(3)].map((ye,Se)=>a.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},Se))}):Object.keys(Wt.categories).length>0?a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(Wt.categories).sort(([,ye],[,Se])=>Se-ye).slice(0,10).map(([ye,Se])=>{const ze=o.category===ye;return a.jsxs("button",{onClick:()=>d(Qe=>({...Qe,category:ze?"":ye})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${ze?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${ye} category`,children:[a.jsx("span",{className:"font-medium",children:ye}),a.jsx(vs,{variant:ze?"primary":"secondary",size:"sm",children:Se})]},ye)})}):a.jsx("p",{className:"text-slate-500 text-sm",children:"No categories available"})})]}),a.jsxs(Fe,{className:"h-fit",children:[a.jsx(Fe.Header,{children:a.jsxs(Fe.Title,{className:"flex items-center gap-2",children:[a.jsx(zu,{}),"Top Locations"]})}),a.jsx(Fe.Body,{className:"p-4",children:ce?a.jsx("div",{className:"space-y-2",children:[...Array(3)].map((ye,Se)=>a.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},Se))}):Object.keys(Wt.locations).length>0?a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(Wt.locations).sort(([,ye],[,Se])=>Se-ye).slice(0,10).map(([ye,Se])=>{const ze=o.location===ye;return a.jsxs("button",{onClick:()=>d(Qe=>({...Qe,location:ze?"":ye})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${ze?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${ye} location`,children:[a.jsx("span",{className:"font-medium truncate",children:ye}),a.jsx(vs,{variant:ze?"primary":"secondary",size:"sm",children:Se})]},ye)})}):a.jsx("p",{className:"text-slate-500 text-sm",children:"No locations available"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ws,{id:"category",name:"category",label:"Category",value:o.category,onChange:Ae,options:[{value:"",label:"All Categories"},...(Me||[]).map(ye=>({value:ye.name,label:ye.name}))]}),a.jsx(ws,{id:"type",name:"type",label:"Equipment Type",value:o.type,onChange:Ae,options:[{value:"",label:"All Types"},...(ue||[]).map(ye=>({value:ye.name,label:ye.name}))]}),a.jsx(ws,{id:"status",name:"status",label:"Status",value:o.status,onChange:Ae,options:[{value:"",label:"All Statuses"},{value:"available",label:"Available"},{value:"in-use",label:"In Use"},{value:"maintenance",label:"Maintenance"},{value:"unavailable",label:"Unavailable"},{value:"broken",label:"Broken"}]}),a.jsx(xt,{id:"location",name:"location",label:"Location",placeholder:"Filter by location",value:o.location,onChange:Ae}),a.jsxs("div",{className:"md:col-span-3",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),a.jsx(UE,{selectsRange:!0,startDate:o.dateRange.startDate,endDate:o.dateRange.endDate,onChange:Xe,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]})]})]})}),a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-slate-800",children:["Equipment Results (",qt.length," items)"]}),a.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden bg-white shadow-sm",children:[a.jsxs("button",{onClick:()=>B("list"),className:`px-4 py-2 text-sm font-medium transition-all flex items-center gap-2 ${Q==="list"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"List view",children:[a.jsx(Ed,{className:"h-4 w-4"}),a.jsx("span",{children:"List"})]}),a.jsxs("button",{onClick:()=>B("card"),className:`px-4 py-2 text-sm font-medium transition-all flex items-center gap-2 ${Q==="card"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:[a.jsx(_d,{className:"h-4 w-4"}),a.jsx("span",{children:"Cards"})]})]})]}),a.jsx("div",{children:ce?a.jsxs(a.Fragment,{children:[Q==="card"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((ye,Se)=>a.jsx(PF,{},Se))}),Q==="list"&&a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell",children:"Equipment"}),a.jsx("th",{className:"table-header-cell",children:"Type"}),a.jsx("th",{className:"table-header-cell",children:"Category"}),a.jsx("th",{className:"table-header-cell",children:"Serial Number"}),a.jsx("th",{className:"table-header-cell",children:"Status"}),a.jsx("th",{className:"table-header-cell",children:"Location"}),a.jsx("th",{className:"table-header-cell",children:"Quantity"}),a.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),a.jsx("tbody",{className:"table-body",children:Array.from({length:6}).map((ye,Se)=>a.jsxs("tr",{className:"table-row animate-pulse",children:[a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"})}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-4 bg-slate-200 rounded w-2/3"})}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-6 bg-slate-200 rounded-full w-16"})}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-4 bg-slate-200 rounded w-8"})}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-12"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-8"})]})})]},Se))})]})})})]}):J?a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:(oe==null?void 0:oe.message)||"Failed to load equipment data. Please try again."})})]})]})}):qt.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No equipment found"}),a.jsx("p",{className:"mt-2 text-slate-500",children:"Try adjusting your search or filter criteria to find what you're looking for."}),a.jsx(Re,{variant:"outline",className:"mt-4",onClick:it,children:"Clear All Filters"})]}):a.jsxs(a.Fragment,{children:[Q==="card"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:qt.map(ye=>a.jsx(MF,{equipment:ye,canEdit:t(),searchTerm:o.search},ye.id))}),Q==="list"&&a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell",children:"Equipment"}),a.jsx("th",{className:"table-header-cell",children:"Type"}),a.jsx("th",{className:"table-header-cell",children:"Category"}),a.jsx("th",{className:"table-header-cell",children:"Serial Number"}),a.jsx("th",{className:"table-header-cell",children:"Status"}),a.jsx("th",{className:"table-header-cell",children:"Location"}),a.jsx("th",{className:"table-header-cell",children:"Quantity"}),a.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),a.jsx("tbody",{className:"table-body",children:qt.map(ye=>a.jsx(LF,{equipment:ye,canEdit:t(),navigate:r},ye.id))})]})})}),a.jsx("div",{ref:i,className:"py-4 text-center",children:te?a.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),a.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):V?a.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):a.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})})]})},BF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),UF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),zF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),WF=()=>{const{isAdmin:e}=lr(),t=Wn(),[n,r]=M.useState(""),[i,o]=M.useState(null),[d,x]=M.useState(""),[g,v]=M.useState(""),{data:w,isLoading:N,isError:_}=gt({queryKey:["equipmentTypes"],queryFn:Li}),k=(w==null?void 0:w.types)||[],A=fn({mutationFn:nO,onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),r(""),v("")},onError:B=>{var R,q;v(((q=(R=B.response)==null?void 0:R.data)==null?void 0:q.message)||"Failed to create equipment type")}}),O=fn({mutationFn:({id:B,name:R})=>rO(B,R),onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),o(null),x(""),v("")},onError:B=>{var R,q;v(((q=(R=B.response)==null?void 0:R.data)==null?void 0:q.message)||"Failed to update equipment type")}}),L=fn({mutationFn:sO,onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),v("")},onError:B=>{var R,q;v(((q=(R=B.response)==null?void 0:R.data)==null?void 0:q.message)||"Failed to delete equipment type")}}),D=B=>{if(B.preventDefault(),!n.trim()){v("Type name is required");return}A.mutate(n),document.getElementById("addTypeModal").style.display="none"},j=B=>{o(B),x(B.name)},I=()=>{if(!d.trim()){v("Type name is required");return}O.mutate({id:i.id,name:d})},W=()=>{o(null),x("")},Q=B=>{window.confirm("Are you sure you want to delete this equipment type?")&&L.mutate(B)};return e()?a.jsxs("div",{className:"space-y-6",children:[g&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:a.jsx("span",{children:g})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Types"}),a.jsxs(Re,{variant:"primary",onClick:()=>{r(""),document.getElementById("addTypeModal").style.display="block"},className:"flex items-center gap-2",children:[a.jsx(zF,{}),"Add Type"]})]}),a.jsx(Fe,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell",children:"Name"}),a.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"table-body",children:N?a.jsx("tr",{children:a.jsx("td",{colSpan:"2",className:"table-cell text-center py-4",children:a.jsx("div",{className:"flex justify-center items-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):_?a.jsx("tr",{children:a.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-red-600",children:"Error loading equipment types. Please try again."})}):k&&k.length>0?k.map(B=>a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"table-cell",children:B.name}),a.jsx("td",{className:"table-cell text-right",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsxs(Re,{onClick:()=>j(B),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[a.jsx(BF,{}),"Edit"]}),a.jsxs(Re,{onClick:()=>Q(B.id),variant:"danger",size:"sm",disabled:L.isLoading&&L.variables===B.id,className:"flex items-center gap-1",children:[a.jsx(UF,{}),L.isLoading&&L.variables===B.id?"Deleting...":"Delete"]})]})})]},B.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-slate-500",children:"No equipment types found"})})})]})})}),a.jsx("div",{className:"modal-backdrop",id:"addTypeModal",style:{display:"none"},children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Add Equipment Type"}),a.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"×"})]}),a.jsxs("form",{onSubmit:D,children:[a.jsx("div",{className:"modal-body",children:a.jsx("div",{className:"space-y-4",children:a.jsx(xt,{id:"newTypeName",name:"newTypeName",type:"text",label:"Type Name",value:n,onChange:B=>r(B.target.value),placeholder:"Enter equipment type name",required:!0})})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Re,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"Cancel"}),a.jsx(Re,{type:"submit",variant:"primary",disabled:A.isLoading,className:"flex items-center gap-2",children:A.isLoading?"Adding...":"Add Type"})]})]})]})}),i&&a.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Edit Equipment Type"}),a.jsx("button",{className:"modal-close",onClick:W,children:"×"})]}),a.jsxs("form",{onSubmit:B=>{B.preventDefault(),I()},children:[a.jsx("div",{className:"modal-body",children:a.jsx("div",{className:"space-y-4",children:a.jsx(xt,{id:"editTypeName",name:"editTypeName",type:"text",label:"Type Name",value:d,onChange:B=>x(B.target.value),required:!0})})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Re,{type:"button",variant:"secondary",onClick:W,children:"Cancel"}),a.jsx(Re,{type:"submit",variant:"primary",disabled:O.isLoading,className:"flex items-center gap-2",children:O.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4 rounded",children:a.jsx("p",{children:"Only administrators can manage equipment types."})})},HF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),qF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),VF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),YF=()=>{const{isAdmin:e}=lr(),t=Wn(),[n,r]=M.useState(""),[i,o]=M.useState(""),[d,x]=M.useState(null),[g,v]=M.useState(""),[w,N]=M.useState(""),[_,k]=M.useState(""),{data:A,isLoading:O,isError:L}=gt({queryKey:["categories"],queryFn:xl}),D=(A==null?void 0:A.categories)||[],j=fn({mutationFn:({name:te,description:ce})=>Z9(te,ce),onSuccess:()=>{t.invalidateQueries(["categories"]),r(""),o(""),k("")},onError:te=>{var ce,J;k(((J=(ce=te.response)==null?void 0:ce.data)==null?void 0:J.message)||"Failed to create category")}}),I=fn({mutationFn:({id:te,name:ce,description:J})=>J9(te,ce,J),onSuccess:()=>{t.invalidateQueries(["categories"]),x(null),v(""),N(""),k("")},onError:te=>{var ce,J;k(((J=(ce=te.response)==null?void 0:ce.data)==null?void 0:J.message)||"Failed to update category")}}),W=fn({mutationFn:eL,onSuccess:()=>{t.invalidateQueries(["categories"]),k("")},onError:te=>{var ce,J;k(((J=(ce=te.response)==null?void 0:ce.data)==null?void 0:J.message)||"Failed to delete category")}}),Q=te=>{if(te.preventDefault(),!n.trim()){k("Category name is required");return}j.mutate({name:n,description:i}),document.getElementById("addCategoryModal").style.display="none"},B=te=>{x(te),v(te.name),N(te.description||"")},R=()=>{if(!g.trim()){k("Category name is required");return}I.mutate({id:d.id,name:g,description:w})},q=()=>{x(null),v(""),N("")},V=te=>{window.confirm("Are you sure you want to delete this category?")&&W.mutate(te)};return e()?a.jsxs("div",{className:"space-y-6",children:[_&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:a.jsx("p",{children:_})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Categories"}),a.jsxs(Re,{variant:"primary",onClick:()=>{r(""),o(""),document.getElementById("addCategoryModal").style.display="block"},className:"flex items-center gap-2",children:[a.jsx(VF,{}),"Add Category"]})]}),a.jsx(Fe,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell",children:"Name"}),a.jsx("th",{className:"table-header-cell",children:"Description"}),a.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"table-body",children:O?a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"table-cell text-center py-4",children:a.jsx("div",{className:"flex justify-center items-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):L?a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-red-600",children:"Error loading categories. Please try again."})}):D&&D.length>0?D.map(te=>a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"table-cell",children:te.name}),a.jsx("td",{className:"table-cell",children:te.description||"-"}),a.jsx("td",{className:"table-cell text-right",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsxs(Re,{onClick:()=>B(te),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[a.jsx(HF,{}),"Edit"]}),a.jsxs(Re,{onClick:()=>V(te.id),variant:"danger",size:"sm",disabled:W.isLoading&&W.variables===te.id,className:"flex items-center gap-1",children:[a.jsx(qF,{}),W.isLoading&&W.variables===te.id?"Deleting...":"Delete"]})]})})]},te.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-slate-500",children:"No categories found"})})})]})})}),a.jsx("div",{className:"modal-backdrop",id:"addCategoryModal",style:{display:"none"},children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Add Category"}),a.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"×"})]}),a.jsxs("form",{onSubmit:Q,children:[a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(xt,{id:"newCategoryName",name:"newCategoryName",type:"text",label:"Category Name",value:n,onChange:te=>r(te.target.value),placeholder:"Enter category name",required:!0}),a.jsx(xt,{id:"newCategoryDescription",name:"newCategoryDescription",type:"text",label:"Description (optional)",value:i,onChange:te=>o(te.target.value),placeholder:"Enter category description"})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Re,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"Cancel"}),a.jsx(Re,{type:"submit",variant:"primary",disabled:j.isLoading,className:"flex items-center gap-2",children:j.isLoading?"Adding...":"Add Category"})]})]})]})}),d&&a.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Edit Category"}),a.jsx("button",{className:"modal-close",onClick:q,children:"×"})]}),a.jsxs("form",{onSubmit:te=>{te.preventDefault(),R()},children:[a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(xt,{id:"editCategoryName",name:"editCategoryName",type:"text",label:"Category Name",value:g,onChange:te=>v(te.target.value),required:!0}),a.jsx(xt,{id:"editCategoryDescription",name:"editCategoryDescription",type:"text",label:"Description (optional)",value:w,onChange:te=>N(te.target.value),placeholder:"Enter category description"})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Re,{type:"button",variant:"secondary",onClick:q,children:"Cancel"}),a.jsx(Re,{type:"submit",variant:"primary",disabled:I.isLoading,className:"flex items-center gap-2",children:I.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):a.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",children:a.jsx("p",{children:"Only administrators can manage equipment categories."})})},yo=async()=>(await ft.get("/api/locations")).data,$F=async e=>(await ft.post("/api/locations",e)).data,GF=async(e,t)=>(await ft.put(`/api/locations/${e}`,t)).data,XF=async e=>(await ft.delete(`/api/locations/${e}`)).data,QF=()=>{var q;const{isAdmin:e}=lr(),t=Wn(),[n,r]=M.useState(!1),[i,o]=M.useState(!1),[d,x]=M.useState(!1),[g,v]=M.useState(null),[w,N]=M.useState({name:"",street:"",postal_code:"",city:"",region:"",country:""}),{data:_,isLoading:k,isError:A}=gt(["locations"],yo),O=fn($F,{onSuccess:()=>{t.invalidateQueries(["locations"]),r(!1),N({name:"",street:"",postal_code:"",city:"",region:"",country:""}),alert("Location created successfully")},onError:V=>{var te,ce;alert(`Error creating location: ${((ce=(te=V.response)==null?void 0:te.data)==null?void 0:ce.message)||V.message}`)}}),L=fn(V=>GF(V.id,V.locationData),{onSuccess:()=>{t.invalidateQueries(["locations"]),o(!1),v(null),alert("Location updated successfully")},onError:V=>{var te,ce;alert(`Error updating location: ${((ce=(te=V.response)==null?void 0:te.data)==null?void 0:ce.message)||V.message}`)}}),D=fn(XF,{onSuccess:()=>{t.invalidateQueries(["locations"]),x(!1),v(null),alert("Location deleted successfully")},onError:V=>{var te,ce;alert(`Error deleting location: ${((ce=(te=V.response)==null?void 0:te.data)==null?void 0:ce.message)||V.message}`)}}),j=V=>{const{name:te,value:ce}=V.target;N(J=>({...J,[te]:ce}))},I=V=>{V.preventDefault(),O.mutate(w)},W=V=>{V.preventDefault(),L.mutate({id:g.id,locationData:w})},Q=()=>{D.mutate(g.id)},B=V=>{v(V),N({name:V.name,street:V.street||"",postal_code:V.postal_code||"",city:V.city||"",region:V.region||"",country:V.country||""}),o(!0)},R=V=>{v(V),x(!0)};return k?a.jsx("div",{className:"text-center py-4",children:"Loading locations..."}):A?a.jsx("div",{className:"text-center py-4 text-red-600",children:"Error loading locations"}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Locations"}),e()&&a.jsx(Re,{variant:"primary",onClick:()=>{N({name:"",street:"",postal_code:"",city:"",region:"",country:""}),r(!0)},children:"Add Location"})]}),a.jsx(Fe,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell",children:"Name"}),a.jsx("th",{className:"table-header-cell",children:"Street"}),a.jsx("th",{className:"table-header-cell",children:"Postal Code"}),a.jsx("th",{className:"table-header-cell",children:"City"}),a.jsx("th",{className:"table-header-cell",children:"Region"}),a.jsx("th",{className:"table-header-cell",children:"Country"}),e()&&a.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),a.jsx("tbody",{className:"table-body",children:((q=_==null?void 0:_.locations)==null?void 0:q.length)>0?_.locations.map(V=>a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"table-cell",children:V.name}),a.jsx("td",{className:"table-cell",children:V.street||"-"}),a.jsx("td",{className:"table-cell",children:V.postal_code||"-"}),a.jsx("td",{className:"table-cell",children:V.city||"-"}),a.jsx("td",{className:"table-cell",children:V.region||"-"}),a.jsx("td",{className:"table-cell",children:V.country||"-"}),e()&&a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Re,{variant:"outline",size:"sm",onClick:()=>B(V),children:"Edit"}),a.jsx(Re,{variant:"danger",size:"sm",onClick:()=>R(V),children:"Delete"})]})})]},V.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:e()?7:6,className:"table-cell text-center py-4 text-slate-500",children:"No locations found"})})})]})})}),n&&a.jsx("div",{className:"modal-backdrop",children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Add Location"}),a.jsx("button",{className:"modal-close",onClick:()=>r(!1),children:"×"})]}),a.jsxs("form",{onSubmit:I,children:[a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(xt,{id:"name",name:"name",label:"Location Name",value:w.name,onChange:j,placeholder:"Enter location name",required:!0}),a.jsx(xt,{id:"street",name:"street",label:"Street",value:w.street,onChange:j,placeholder:"Enter street (optional)"}),a.jsx(xt,{id:"postal_code",name:"postal_code",label:"Postal Code",value:w.postal_code,onChange:j,placeholder:"Enter postal code (optional)"}),a.jsx(xt,{id:"city",name:"city",label:"City",value:w.city,onChange:j,placeholder:"Enter city (optional)"}),a.jsx(xt,{id:"region",name:"region",label:"Region/State",value:w.region,onChange:j,placeholder:"Enter region or state (optional)"}),a.jsx(xt,{id:"country",name:"country",label:"Country",value:w.country,onChange:j,placeholder:"Enter country (optional)"})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Re,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),a.jsx(Re,{type:"submit",variant:"primary",disabled:O.isLoading,children:O.isLoading?"Adding...":"Add Location"})]})]})]})}),i&&g&&a.jsx("div",{className:"modal-backdrop",children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Edit Location"}),a.jsx("button",{className:"modal-close",onClick:()=>o(!1),children:"×"})]}),a.jsxs("form",{onSubmit:W,children:[a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(xt,{id:"edit-name",name:"name",label:"Location Name",value:w.name,onChange:j,placeholder:"Enter location name",required:!0}),a.jsx(xt,{id:"edit-street",name:"street",label:"Street",value:w.street,onChange:j,placeholder:"Enter street (optional)"}),a.jsx(xt,{id:"edit-postal_code",name:"postal_code",label:"Postal Code",value:w.postal_code,onChange:j,placeholder:"Enter postal code (optional)"}),a.jsx(xt,{id:"edit-city",name:"city",label:"City",value:w.city,onChange:j,placeholder:"Enter city (optional)"}),a.jsx(xt,{id:"edit-region",name:"region",label:"Region/State",value:w.region,onChange:j,placeholder:"Enter region or state (optional)"}),a.jsx(xt,{id:"edit-country",name:"country",label:"Country",value:w.country,onChange:j,placeholder:"Enter country (optional)"})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Re,{type:"button",variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),a.jsx(Re,{type:"submit",variant:"primary",disabled:L.isLoading,children:L.isLoading?"Saving...":"Save Changes"})]})]})]})}),d&&g&&a.jsx("div",{className:"modal-backdrop",children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Delete Location"}),a.jsx("button",{className:"modal-close",onClick:()=>x(!1),children:"×"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("p",{children:['Are you sure you want to delete the location "',g.name,'"? This action cannot be undone.']}),a.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Note: You cannot delete a location that is currently assigned to equipment."})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Re,{type:"button",variant:"secondary",onClick:()=>x(!1),children:"Cancel"}),a.jsx(Re,{type:"button",variant:"danger",onClick:Q,disabled:D.isLoading,children:D.isLoading?"Deleting...":"Delete Location"})]})]})})]})},ba="https://tonlager.kinsta.app",KF=async()=>{try{console.log("[DATABASE SERVICE] Testing connection to:",`${ba}/api/database/test`);const e=await fetch(`${ba}/api/database/test`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log("[DATABASE SERVICE] Test response status:",e.status),!e.ok){const n=await e.text();throw console.error("[DATABASE SERVICE] Test error response:",n),new Error(`HTTP error! status: ${e.status} - ${n}`)}const t=await e.json();return console.log("[DATABASE SERVICE] Test data:",t),t}catch(e){throw console.error("Error testing database connection:",e),e}},ZF=async()=>{try{console.log("[DATABASE SERVICE] Fetching tables from:",`${ba}/api/database/tables`),console.log("[DATABASE SERVICE] Token:",localStorage.getItem("token")?"Present":"Missing");const e=await fetch(`${ba}/api/database/tables`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log("[DATABASE SERVICE] Response status:",e.status),!e.ok){const n=await e.text();throw console.error("[DATABASE SERVICE] Error response:",n),new Error(`HTTP error! status: ${e.status} - ${n}`)}const t=await e.json();return console.log("[DATABASE SERVICE] Tables data:",t),t}catch(e){throw console.error("Error fetching database tables:",e),e}},JF=async e=>{try{const t=await fetch(`${ba}/api/database/tables/${e}/structure`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching table structure:",t),t}},eB=async(e,t=1,n=50)=>{try{const r=await fetch(`${ba}/api/database/tables/${e}/data?page=${t}&limit=${n}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("Error fetching table data:",r),r}},tB=async e=>{try{const t=await fetch(`${ba}/api/database/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({query:e})});if(!t.ok){const n=await t.json();throw new Error(n.message||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error("Error executing query:",t),t}},nB=async(e,t,n)=>{try{const r=await fetch(`${ba}/api/database/tables/${e}/rows/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(n)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("Error updating table row:",r),r}},rB=async()=>{try{const e=await fetch(`${ba}/api/database/info`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching database info:",e),e}},sB=({onClose:e})=>{var Ee,ge,ue,xe,Me,Ve,nt,Ae,Xe,it,_e;const[t,n]=M.useState("tables"),[r,i]=M.useState(null),[o,d]=M.useState(1),[x,g]=M.useState(""),[v,w]=M.useState(null),[N,_]=M.useState(null),[k,A]=M.useState({}),O=Wn(),{data:L}=gt({queryKey:["database-info"],queryFn:rB}),{data:D,isLoading:j,error:I}=gt({queryKey:["database-tables"],queryFn:ZF,retry:1,onError:De=>{console.error("[DATABASE MANAGER] Tables query error:",De),tt.error(`Failed to load tables: ${De.message}`)}}),{data:W}=gt({queryKey:["table-structure",r],queryFn:()=>JF(r),enabled:!!r}),{data:Q,isLoading:B}=gt({queryKey:["table-data",r,o],queryFn:()=>eB(r,o,50),enabled:!!r}),R=fn({mutationFn:tB,onSuccess:De=>{w(De),tt.success("Query executed successfully")},onError:De=>{tt.error(`Query failed: ${De.message}`)}}),q=fn({mutationFn:({tableName:De,id:at,data:qt})=>nB(De,at,qt),onSuccess:()=>{tt.success("Row updated successfully"),_(null),A({}),O.invalidateQueries(["table-data",r])},onError:De=>{tt.error(`Update failed: ${De.message}`)}}),V=()=>{if(!x.trim()){tt.error("Please enter a SQL query");return}R.mutate(x)},te=De=>{_(De.id),A({...De})},ce=()=>{q.mutate({tableName:r,id:N,data:k})},J=()=>{_(null),A({})},oe=async()=>{try{const De=await KF();tt.success(`Database connection successful! Database: ${De.database}`),console.log("[DATABASE MANAGER] Connection test result:",De)}catch(De){tt.error(`Database connection failed: ${De.message}`),console.error("[DATABASE MANAGER] Connection test failed:",De)}},ke=De=>De===null?"NULL":typeof De=="boolean"?De?"TRUE":"FALSE":typeof De=="object"?JSON.stringify(De):String(De),se=[{id:"tables",label:"Tables",icon:"📊"},{id:"query",label:"Query",icon:"🔍"},{id:"info",label:"Database Info",icon:"ℹ️"}];return a.jsxs("div",{className:"fixed inset-0 bg-slate-50 z-50 flex flex-col",children:[a.jsx("div",{className:"bg-white border-b border-slate-200 px-6 py-4 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Database Manager"}),a.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Connected to: ",a.jsx("span",{className:"font-mono text-primary-600",children:"ton-lager1-cv8k6-mysql"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Connected"})]}),a.jsx(Re,{size:"sm",variant:"outline",onClick:oe,children:"Test Connection"}),a.jsx(Re,{size:"sm",variant:"outline",onClick:e||(()=>window.history.back()),children:"← Back to Settings"})]})]})}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("div",{className:"px-6 py-6",children:[a.jsx("div",{className:"border-b border-slate-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:se.map(De=>a.jsxs("button",{onClick:()=>n(De.id),className:`py-3 px-4 border-b-2 font-medium text-base flex items-center space-x-3 transition-colors ${t===De.id?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 hover:bg-slate-50"}`,children:[a.jsx("span",{className:"text-lg",children:De.icon}),a.jsx("span",{children:De.label})]},De.id))})}),t==="tables"&&a.jsxs("div",{className:"flex gap-6 min-h-0",children:[a.jsx("div",{className:"w-80 flex-shrink-0",children:a.jsxs(Fe,{className:"h-fit max-h-screen overflow-hidden flex flex-col",children:[a.jsx(Fe.Header,{className:"flex-shrink-0",children:a.jsx("h3",{className:"text-lg font-semibold",children:"Database Tables"})}),a.jsx(Fe.Body,{className:"p-0 flex-1 overflow-auto",children:j?a.jsx("div",{className:"p-4 text-center text-slate-500",children:"Loading tables..."}):I?a.jsxs("div",{className:"p-4 text-center",children:[a.jsx("div",{className:"text-red-600 mb-2",children:"❌ Error loading tables"}),a.jsx("div",{className:"text-sm text-slate-600",children:I.message}),a.jsx(Re,{size:"sm",variant:"outline",className:"mt-2",onClick:()=>O.invalidateQueries(["database-tables"]),children:"Retry"})]}):(Ee=D==null?void 0:D.tables)!=null&&Ee.length?a.jsx("div",{className:"divide-y divide-slate-100",children:D.tables.map(De=>a.jsxs("button",{onClick:()=>{i(De.TABLE_NAME),d(1)},className:`w-full text-left p-4 hover:bg-slate-50 transition-colors ${r===De.TABLE_NAME?"bg-primary-50 border-r-2 border-primary-500":""}`,children:[a.jsx("div",{className:"font-medium text-slate-800",children:De.TABLE_NAME}),a.jsxs("div",{className:"text-sm text-slate-500",children:[De.TABLE_ROWS||0," rows"]})]},De.TABLE_NAME))}):a.jsx("div",{className:"p-4 text-center text-slate-500",children:"No tables found in database"})})]})}),a.jsxs("div",{className:"flex-1 flex flex-col gap-6 min-w-0 overflow-auto",children:[r&&a.jsxs(Fe,{className:"flex-shrink-0",children:[a.jsx(Fe.Header,{children:a.jsxs("h3",{className:"text-lg font-semibold",children:["Table Structure: ",r]})}),a.jsx(Fe.Body,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Column"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Type"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Null"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Key"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:(ge=W==null?void 0:W.columns)==null?void 0:ge.map(De=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-4 py-2 text-sm font-medium text-slate-800",children:De.COLUMN_NAME}),a.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:De.DATA_TYPE}),a.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:De.IS_NULLABLE}),a.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:De.COLUMN_KEY})]},De.COLUMN_NAME))})]})})})]}),r&&a.jsxs(Fe,{className:"flex-1 flex flex-col min-h-0",children:[a.jsx(Fe.Header,{className:"flex-shrink-0",children:a.jsxs("h3",{className:"text-lg font-semibold",children:["Table Data: ",r]})}),a.jsx(Fe.Body,{className:"p-0 flex-1 flex flex-col min-h-0",children:B?a.jsx("div",{className:"p-4 text-center text-slate-500",children:"Loading data..."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50 sticky top-0",children:a.jsxs("tr",{children:[((ue=Q==null?void 0:Q.data)==null?void 0:ue[0])&&Object.keys(Q.data[0]).map(De=>a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:De},De)),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:(xe=Q==null?void 0:Q.data)==null?void 0:xe.map(De=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[Object.entries(De).map(([at,qt])=>a.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:N===De.id?a.jsx(xt,{value:k[at]||"",onChange:Qt=>A({...k,[at]:Qt.target.value}),className:"text-xs"}):a.jsx("span",{className:"font-mono text-xs",children:ke(qt)})},at)),a.jsx("td",{className:"px-4 py-2 text-sm",children:N===De.id?a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(Re,{size:"sm",onClick:ce,children:"Save"}),a.jsx(Re,{size:"sm",variant:"outline",onClick:J,children:"Cancel"})]}):a.jsx(Re,{size:"sm",variant:"outline",onClick:()=>te(De),children:"Edit"})})]},De.id))})]})}),(Q==null?void 0:Q.pagination)&&a.jsxs("div",{className:"p-4 border-t border-slate-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",Q.pagination.page," of ",Q.pagination.totalPages,"(",Q.pagination.total," total rows)"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Re,{size:"sm",variant:"outline",onClick:()=>d(Math.max(1,o-1)),disabled:o===1,children:"Previous"}),a.jsx(Re,{size:"sm",variant:"outline",onClick:()=>d(o+1),disabled:o>=Q.pagination.totalPages,children:"Next"})]})]})]})})]})]})]}),t==="query"&&a.jsxs("div",{className:"flex flex-col gap-6 min-h-0",children:[a.jsxs(Fe,{className:"flex-shrink-0",children:[a.jsxs(Fe.Header,{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"SQL Query Editor"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Execute SELECT queries to view data. Dangerous operations are restricted."})]}),a.jsx(Fe.Body,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"SQL Query"}),a.jsx("textarea",{value:x,onChange:De=>g(De.target.value),placeholder:"SELECT * FROM equipment WHERE status = 'available';",className:"w-full h-48 p-4 border border-slate-300 rounded-md font-mono text-base focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-y"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-sm text-slate-500",children:"💡 Tip: Only SELECT queries are allowed for security"}),a.jsx(Re,{onClick:V,disabled:R.isPending,children:R.isPending?"Executing...":"Execute Query"})]})]})})]}),v&&a.jsxs(Fe,{className:"flex-1 flex flex-col min-h-0",children:[a.jsxs(Fe.Header,{className:"flex-shrink-0",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Query Results"}),a.jsxs("p",{className:"text-sm text-slate-600",children:[(Me=v.metadata)==null?void 0:Me.rowCount," rows returned"]})]}),a.jsx(Fe.Body,{className:"p-0 flex-1 flex flex-col min-h-0",children:a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50 sticky top-0",children:a.jsx("tr",{children:((Ve=v.results)==null?void 0:Ve[0])&&Object.keys(v.results[0]).map(De=>a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:De},De))})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:(nt=v.results)==null?void 0:nt.map((De,at)=>a.jsx("tr",{className:"hover:bg-slate-50",children:Object.entries(De).map(([qt,Qt])=>a.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:a.jsx("span",{className:"font-mono text-xs",children:ke(Qt)})},qt))},at))})]})})})]})]}),t==="info"&&a.jsxs(Fe,{className:"max-w-4xl",children:[a.jsx(Fe.Header,{children:a.jsx("h3",{className:"text-lg font-semibold",children:"Database Information"})}),a.jsx(Fe.Body,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Connection Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Host:"}),a.jsx("span",{className:"font-mono",children:"ton-lager1-cv8k6-mysql.ton-lager1-cv8k6.svc.cluster.local"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Port:"}),a.jsx("span",{className:"font-mono",children:"3306"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Database:"}),a.jsx("span",{className:"font-mono",children:((Ae=L==null?void 0:L.database)==null?void 0:Ae.database_name)||"substantial-gray-unicorn"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"User:"}),a.jsx("span",{className:"font-mono",children:"canid"})]})]})]}),L&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Server Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"MySQL Version:"}),a.jsx("span",{className:"font-mono",children:(Xe=L.server)==null?void 0:Xe.version})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Character Set:"}),a.jsx("span",{className:"font-mono",children:(it=L.database)==null?void 0:it.charset})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Collation:"}),a.jsx("span",{className:"font-mono",children:(_e=L.database)==null?void 0:_e.collation})]})]})]})]})})]})]})})]})},iB=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),aB=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),r3=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),s3=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"}),a.jsx("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"}),a.jsx("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"})]}),oB=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),lB=()=>{const{user:e}=lr(),[t,n]=M.useState("profile"),[r,i]=M.useState(""),[o,d]=M.useState(""),[x,g]=M.useState(""),[v,w]=M.useState(""),[N,_]=M.useState(""),[k,A]=M.useState(!1),O=[{id:"profile",label:"Profile",icon:a.jsx(iB,{})},{id:"security",label:"Security",icon:a.jsx(aB,{})}];(e==null?void 0:e.role)==="admin"&&(O.push({id:"equipmentTypes",label:"Equipment Types",icon:a.jsx(r3,{})}),O.push({id:"categories",label:"Categories",icon:a.jsx(r3,{})}),O.push({id:"locations",label:"Locations",icon:a.jsx(oB,{})}),O.push({id:"database",label:"Database",icon:a.jsx(s3,{})}));const L=D=>{if(D.preventDefault(),w(""),_(""),!r){w("Current password is required");return}if(!o){w("New password is required");return}if(o!==x){w("New passwords do not match");return}if(o.length<8){w("New password must be at least 8 characters");return}_("Password changed successfully"),i(""),d(""),g("")};return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-8",children:"User Settings"}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsx("div",{className:"w-full md:w-64",children:a.jsx(Fe,{children:a.jsx(Fe.Body,{className:"p-0",children:a.jsx("nav",{children:a.jsx("ul",{className:"divide-y divide-slate-100",children:O.map(D=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>n(D.id),className:`w-full text-left px-4 py-3 flex items-center transition-colors ${t===D.id?"bg-primary-50 text-primary-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,"aria-current":t===D.id?"page":void 0,children:[a.jsx("span",{className:"mr-3 text-slate-500",children:D.icon}),D.label]})},D.id))})})})})}),a.jsx("div",{className:"flex-1",children:a.jsx(Fe,{children:a.jsxs(Fe.Body,{children:[t==="profile"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Profile Settings"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),a.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200",children:e==null?void 0:e.username})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),a.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200 capitalize",children:e==null?void 0:e.role})]})]})]}),t==="security"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Security Settings"}),v&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:v}),N&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:N}),a.jsxs("form",{onSubmit:L,className:"space-y-4",children:[a.jsx(xt,{type:"password",id:"current-password",label:"Current Password",value:r,onChange:D=>i(D.target.value),placeholder:"Enter your current password"}),a.jsx(xt,{type:"password",id:"new-password",label:"New Password",value:o,onChange:D=>d(D.target.value),placeholder:"Enter your new password"}),a.jsx(xt,{type:"password",id:"confirm-password",label:"Confirm New Password",value:x,onChange:D=>g(D.target.value),placeholder:"Confirm your new password"}),a.jsx("div",{children:a.jsx(Re,{type:"submit",variant:"primary",children:"Change Password"})})]})]}),t==="equipmentTypes"&&(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Types"}),a.jsx(WF,{})]}),t==="categories"&&(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Categories"}),a.jsx(YF,{})]}),t==="locations"&&(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Locations"}),a.jsx(QF,{})]}),t==="database"&&(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Database Management"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Database Manager"}),a.jsx("p",{className:"text-slate-600 mb-4",children:"Access the full-featured database management interface to view tables, execute queries, and manage your MySQL database directly."}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-500",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"Connected to ton-lager1-cv8k6-mysql"})]}),a.jsx("span",{children:"•"}),a.jsx("span",{children:"MySQL 9.0"}),a.jsx("span",{children:"•"}),a.jsx("span",{children:"Database: substantial-gray-unicorn"})]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(Re,{onClick:()=>A(!0),variant:"primary",className:"flex items-center space-x-2",children:[a.jsx(s3,{}),a.jsx("span",{children:"Open Database Manager"})]}),a.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Opens in full-screen mode"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"📊 Browse Tables"}),a.jsx("p",{className:"text-sm text-slate-600",children:"View all database tables, their structure, and data with inline editing capabilities."})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"🔍 Execute Queries"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Run SELECT queries to analyze data and generate custom reports."})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"ℹ️ Database Info"}),a.jsx("p",{className:"text-sm text-slate-600",children:"View connection details, server information, and database statistics."})]})]})]})]})]})})})]}),k&&a.jsx(sB,{onClose:()=>A(!1)})]})},cB=({isOpen:e,onClose:t,equipmentId:n})=>{const r=Wn(),[i,o]=M.useState(""),[d,x]=M.useState(null),[g,v]=M.useState(!1),[w,N]=M.useState(null);M.useEffect(()=>{e&&n&&(v(!0),sp(n).then(A=>{x(A),o(`${A.serial_number}-COPY`),v(!1)}).catch(A=>{console.error("Error fetching equipment details:",A),N("Failed to load equipment details"),v(!1)}))},[e,n]);const _=fn({mutationFn:async()=>{if(!d)return null;console.log("Original equipment data:",d);const A={type_id:d.type_id||1,brand:d.brand,model:d.model,serial_number:i,status:d.status||"available",location:d.location||"",description:d.description||""};return console.log("Duplicate data being sent:",A),e2(A)},onSuccess:A=>{console.log("Successfully duplicated equipment:",A),r.invalidateQueries(["equipment"]),t()},onError:A=>{var O,L;console.error("Error duplicating equipment:",A),(L=(O=A.response)==null?void 0:O.data)!=null&&L.message?N(A.response.data.message):N("Failed to duplicate equipment. Please check all required fields.")}}),k=A=>{if(A.preventDefault(),!i.trim()){N("Serial number is required");return}_.mutate()};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Duplicate Equipment"}),g?a.jsx("div",{className:"text-center py-4",children:"Loading..."}):w?a.jsx("div",{className:"text-red-600 mb-4",children:w}):a.jsxs("form",{onSubmit:k,children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-gray-600 mb-2",children:["You are about to duplicate: ",a.jsxs("span",{className:"font-medium",children:[d==null?void 0:d.brand," ",d==null?void 0:d.model]})]}),a.jsx("label",{htmlFor:"serialNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),a.jsx("input",{type:"text",id:"serialNumber",value:i,onChange:A=>o(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,autoFocus:!0}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please provide a unique serial number for the duplicated equipment."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                  hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                  hover:shadow-sm transition-all`,children:"Cancel"}),a.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                  hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                  hover:shadow-sm transition-all focus:outline-none focus:ring-1 focus:ring-primary-500`,disabled:_.isLoading,children:_.isLoading?"Duplicating...":"Duplicate"})]})]})]})}):null},uB=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{var V,te,ce;const i=r.length>0?r:n?[n]:[],o=Wn(),[d,x]=M.useState(2),[g,v]=M.useState(""),[w,N]=M.useState([]),[_,k]=M.useState([]),[A,O]=M.useState(!1),[L,D]=M.useState(null),[j,I]=M.useState(0),[W,Q]=M.useState(!1);M.useEffect(()=>{if(e&&i.length>0){O(!0),k([]);const J=i.map(oe=>sp(oe));Promise.all(J).then(oe=>{if(k(oe),oe.length===1){const ke=`${oe[0].serial_number}-{n}`;v(ke)}else v("BATCH-{n}");O(!1)}).catch(oe=>{console.error("Error fetching equipment details:",oe),D("Failed to load equipment details"),O(!1)})}},[e,i]),M.useEffect(()=>{if(g&&d>0){const J=[];for(let oe=1;oe<=Math.min(d,5);oe++)J.push(B(g,oe));d>5&&(J.push("..."),J.push(B(g,d))),N(J)}},[g,d]);const B=(J,oe)=>J.replace("{n}",oe),R=fn({mutationFn:async({equipmentData:J,serialNumber:oe})=>{if(!J)return null;const ke={type:J.type,type_id:J.type_id||1,category:J.category||"",...J.category_id?{category_id:J.category_id}:{},brand:J.brand,model:J.model,serial_number:oe,status:J.status||"available",location:J.location||"",...J.location_id?{location_id:J.location_id}:{},description:J.description||"",...J.reference_image_id?{reference_image_id:J.reference_image_id}:{}};return e2(ke)}}),q=async()=>{var J,oe;if(_.length!==0){Q(!0),I(0);try{const ke=_.length*d;let se=0;for(const Ee of _)for(let ge=1;ge<=d;ge++){let ue;_.length===1?ue=B(g,ge):ue=B(g.replace("{n}",`${Ee.id}-{n}`),ge),console.log(`Creating duplicate ${ge} for equipment ID ${Ee.id} with serial number ${ue}`),console.log("Original equipment data:",JSON.stringify(Ee,null,2));try{await R.mutateAsync({equipmentData:Ee,serialNumber:ue}),console.log(`Successfully created duplicate ${ge} for equipment ID ${Ee.id}`)}catch(xe){throw console.error(`Error creating duplicate ${ge} for equipment ID ${Ee.id}:`,xe),xe}se++,I(Math.floor(se/ke*100))}o.invalidateQueries(["equipment"]),t()}catch(ke){console.error("Error in batch duplication:",ke);let se="Failed to duplicate equipment";(oe=(J=ke.response)==null?void 0:J.data)!=null&&oe.message?se=ke.response.data.message:ke.message&&(se=ke.message),D(se)}finally{Q(!1)}}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Batch Duplicate Equipment"}),A?a.jsx("div",{className:"text-center py-4",children:"Loading..."}):L?a.jsx("div",{className:"text-red-600 mb-4",children:L}):a.jsxs("div",{children:[a.jsxs("div",{className:"text-gray-600 mb-4",children:[a.jsxs("p",{children:["You are about to duplicate ",_.length," item",_.length!==1?"s":"",":"]}),_.length===1?a.jsxs("p",{className:"font-medium mt-1",children:[(V=_[0])==null?void 0:V.brand," ",(te=_[0])==null?void 0:te.model," (SN: ",(ce=_[0])==null?void 0:ce.serial_number,")"]}):a.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border border-gray-200 rounded-md p-2",children:a.jsx("ul",{className:"text-sm",children:_.map((J,oe)=>a.jsxs("li",{className:"mb-1",children:[J.brand," ",J.model," (SN: ",J.serial_number,")"]},oe))})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"count",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Copies"}),a.jsx("input",{type:"number",id:"count",min:"1",max:"50",value:d,onChange:J=>x(Math.min(50,Math.max(1,parseInt(J.target.value)||1))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"serialNumberPattern",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Pattern"}),a.jsx("input",{type:"text",id:"serialNumberPattern",value:g,onChange:J=>v(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Use {n} for the copy number"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Use ","{n}"," as a placeholder for the copy number."]})]}),w.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Preview"}),a.jsx("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200",children:a.jsx("ul",{className:"text-sm text-gray-600",children:w.map((J,oe)=>a.jsx("li",{children:J},oe))})})]}),W&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${j}%`}})}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1 text-center",children:[j,"% Complete"]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(Re,{variant:"outline",onClick:t,disabled:W,children:"Cancel"}),a.jsx(Re,{variant:"primary",onClick:q,disabled:W||!g.includes("{n}"),children:W?"Processing...":"Create Copies"})]})]})]})}):null},WE=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{const i=r.length>0?r:n?[n]:[],[o,d]=M.useState("available");M.useState(1);const[x,g]=M.useState(!1),[v,w]=M.useState(""),[N,_]=M.useState(""),k=Wn(),A=["available","in-use","maintenance","unavailable","broken"],O=fn({mutationFn:async D=>{const j=D.equipmentIds.map(I=>KR(I,D.status));return Promise.all(j)},onSuccess:()=>{k.invalidateQueries(["equipment"]),_(`Status successfully updated to ${o} for ${i.length} item${i.length!==1?"s":""}`),g(!1),setTimeout(()=>{t(),_("")},2e3)},onError:D=>{var j,I;console.error("Error updating status:",D),w(((I=(j=D.response)==null?void 0:j.data)==null?void 0:I.message)||"Failed to update status"),g(!1)}}),L=D=>{if(D.preventDefault(),i.length===0){w("No equipment items selected");return}g(!0),w(""),_(""),O.mutate({equipmentIds:i,status:o})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Status"}),a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-gray-600",children:["You are updating the status of ",i.length," item",i.length!==1?"s":"","."]})}),v&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:v}),N&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:N}),a.jsxs("form",{onSubmit:L,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Status"}),a.jsx("select",{id:"status",value:o,onChange:D=>d(D.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:A.map(D=>a.jsx("option",{value:D,children:D.charAt(0).toUpperCase()+D.slice(1)},D))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:x,children:"Cancel"}),a.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:x,children:x?"Updating...":"Update Status"})]})]})]})}):null};WE.propTypes={isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,equipmentId:ie.oneOfType([ie.string,ie.number]),selectedItems:ie.array};const HE=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{var B;const i=r.length>0?r:n?[n]:[],[o,d]=M.useState(""),[x,g]=M.useState(""),[v,w]=M.useState(!1),[N,_]=M.useState(!1),[k,A]=M.useState(""),[O,L]=M.useState(""),D=Wn(),{data:j}=gt({queryKey:["locations"],queryFn:yo,staleTime:3e5}),I=fn({mutationFn:async R=>{const q=R.equipmentIds.map(V=>ZR(V,R.locationData));return Promise.all(q)},onSuccess:()=>{var q;D.invalidateQueries(["equipment"]);const R=v?x:((q=j==null?void 0:j.locations.find(V=>V.id.toString()===o))==null?void 0:q.name)||"selected location";L(`Location successfully updated to ${R} for ${i.length} item${i.length!==1?"s":""}`),_(!1),setTimeout(()=>{t(),L("")},2e3)},onError:R=>{var q,V;console.error("Error updating location:",R),A(((V=(q=R.response)==null?void 0:q.data)==null?void 0:V.message)||"Failed to update location"),_(!1)}}),W=R=>{if(R.preventDefault(),i.length===0){A("No equipment items selected");return}_(!0),A(""),L("");const q=v?{location:x}:{location_id:o};I.mutate({equipmentIds:i,locationData:q})},Q=()=>{w(!v),d(""),g("")};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Location"}),a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-gray-600",children:["You are updating the location of ",i.length," item",i.length!==1?"s":"","."]})}),k&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),O&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:O}),a.jsxs("form",{onSubmit:W,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"flex items-center mb-3",children:a.jsx("button",{type:"button",onClick:Q,className:"text-sm text-primary-600 hover:text-primary-800",children:v?"Select from existing locations":"Enter custom location"})}),v?a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customLocation",className:"block text-sm font-medium text-slate-700 mb-1",children:"Custom Location"}),a.jsx("input",{type:"text",id:"customLocation",value:x,onChange:R=>g(R.target.value),className:"w-full p-2 border border-slate-300 rounded-md",placeholder:"Enter location name",required:!0})]}):a.jsxs("div",{children:[a.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),a.jsxs("select",{id:"locationId",value:o,onChange:R=>d(R.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[a.jsx("option",{value:"",children:"Select a location"}),(B=j==null?void 0:j.locations)==null?void 0:B.map(R=>a.jsx("option",{value:R.id.toString(),children:R.name},R.id))]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:N,children:"Cancel"}),a.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:N||!o&&!x,children:N?"Updating...":"Update Location"})]})]})]})}):null};HE.propTypes={isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,equipmentId:ie.oneOfType([ie.string,ie.number]),selectedItems:ie.array};const qE=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=M.useState(""),[o,d]=M.useState(!1),[x,g]=M.useState(""),[v,w]=M.useState(""),N=Wn(),{data:_,isLoading:k}=gt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5});M.useEffect(()=>{_!=null&&_.types&&_.types.length>0&&!r&&i(_.types[0].id.toString())},[_,r]);const A=fn({mutationFn:async L=>{const D=L.equipmentIds.map(j=>JR(j,L.typeId));return Promise.all(D)},onSuccess:()=>{var D;N.invalidateQueries(["equipment"]);const L=((D=_==null?void 0:_.types.find(j=>j.id.toString()===r))==null?void 0:D.name)||"selected type";w(`Type successfully updated to ${L} for ${n.length} item${n.length!==1?"s":""}`),d(!1),setTimeout(()=>{t(),w("")},2e3)},onError:L=>{var D,j;console.error("Error updating type:",L),g(((j=(D=L.response)==null?void 0:D.data)==null?void 0:j.message)||"Failed to update type"),d(!1)}}),O=L=>{if(L.preventDefault(),n.length===0){g("No equipment items selected");return}if(!r){g("Please select a type");return}d(!0),g(""),w(""),A.mutate({equipmentIds:n,typeId:r})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Type"}),a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-gray-600",children:["You are updating the type of ",n.length," item",n.length!==1?"s":"","."]})}),x&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),v&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:v}),a.jsxs("form",{onSubmit:O,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Type"}),a.jsxs("select",{id:"type",value:r,onChange:L=>i(L.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[a.jsx("option",{value:"",children:"Select a type"}),_!=null&&_.types&&_.types.length>0?_.types.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id)):a.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(Re,{variant:"outline",onClick:t,disabled:o,children:"Cancel"}),a.jsx(Re,{variant:"primary",type:"submit",disabled:o||!r,children:o?"Updating...":"Update Type"})]})]})]})}):null};qE.propTypes={isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,selectedItems:ie.array};const VE=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=M.useState(""),[o,d]=M.useState(!1),[x,g]=M.useState(""),[v,w]=M.useState(""),N=Wn(),{data:_,isLoading:k}=gt({queryKey:["categories"],queryFn:xl,staleTime:3e5});M.useEffect(()=>{_!=null&&_.categories&&_.categories.length>0&&!r&&i(_.categories[0].id.toString())},[_,r]);const A=fn({mutationFn:async L=>{const D=L.equipmentIds.map(j=>eO(j,L.categoryId));return Promise.all(D)},onSuccess:()=>{var D;N.invalidateQueries(["equipment"]);const L=((D=_==null?void 0:_.categories.find(j=>j.id.toString()===r))==null?void 0:D.name)||"selected category";w(`Category successfully updated to ${L} for ${n.length} item${n.length!==1?"s":""}`),d(!1),setTimeout(()=>{t(),w("")},2e3)},onError:L=>{var D,j;console.error("Error updating category:",L),g(((j=(D=L.response)==null?void 0:D.data)==null?void 0:j.message)||"Failed to update category"),d(!1)}}),O=L=>{if(L.preventDefault(),n.length===0){g("No equipment items selected");return}d(!0),g(""),w(""),A.mutate({equipmentIds:n,categoryId:r||null})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Category"}),a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-gray-600",children:["You are updating the category of ",n.length," item",n.length!==1?"s":"","."]})}),x&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),v&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:v}),a.jsxs("form",{onSubmit:O,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Category"}),a.jsxs("select",{id:"category",value:r,onChange:L=>i(L.target.value),className:"w-full p-2 border border-slate-300 rounded-md",children:[a.jsx("option",{value:"",children:"None (Remove Category)"}),_!=null&&_.categories&&_.categories.length>0?_.categories.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id)):a.jsx("option",{value:"",disabled:!0,children:"Loading categories..."})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(Re,{variant:"outline",onClick:t,disabled:o,children:"Cancel"}),a.jsx(Re,{variant:"primary",type:"submit",disabled:o,children:o?"Updating...":"Update Category"})]})]})]})}):null};VE.propTypes={isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,selectedItems:ie.array};const YE=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=M.useState(""),[o,d]=M.useState(""),[x,g]=M.useState(!0),[v,w]=M.useState(!0),[N,_]=M.useState(!1),[k,A]=M.useState(""),[O,L]=M.useState(""),D=Wn(),j=fn({mutationFn:async W=>{const Q=W.equipmentIds.map(B=>tO(B,W.updateData));return Promise.all(Q)},onSuccess:()=>{D.invalidateQueries(["equipment"]);let W="Successfully updated ";x&&v?W+=`brand to "${r}" and model to "${o}"`:x?W+=`brand to "${r}"`:v&&(W+=`model to "${o}"`),L(`${W} for ${n.length} item${n.length!==1?"s":""}`),_(!1),setTimeout(()=>{t(),L("")},2e3)},onError:W=>{var Q,B;console.error("Error updating brand/model:",W),A(((B=(Q=W.response)==null?void 0:Q.data)==null?void 0:B.message)||"Failed to update brand/model"),_(!1)}}),I=W=>{if(W.preventDefault(),n.length===0){A("No equipment items selected");return}if(!x&&!v){A("Please select at least one field to update");return}if(x&&!r||v&&!o){A("Please fill in all selected fields");return}_(!0),A(""),L("");const Q={};x&&(Q.brand=r),v&&(Q.model=o),j.mutate({equipmentIds:n,updateData:Q})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Brand & Model"}),a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-gray-600",children:["You are updating ",n.length," item",n.length!==1?"s":"","."]})}),k&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),O&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:O}),a.jsxs("form",{onSubmit:I,children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("input",{type:"checkbox",id:"updateBrand",checked:x,onChange:W=>g(W.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"updateBrand",className:"text-sm font-medium text-slate-700",children:"Update Brand"})]}),a.jsx("input",{type:"text",id:"brand",value:r,onChange:W=>i(W.target.value),disabled:!x,className:`w-full p-2 border border-slate-300 rounded-md ${x?"":"bg-slate-100"}`,placeholder:"Enter new brand"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("input",{type:"checkbox",id:"updateModel",checked:v,onChange:W=>w(W.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"updateModel",className:"text-sm font-medium text-slate-700",children:"Update Model"})]}),a.jsx("input",{type:"text",id:"model",value:o,onChange:W=>d(W.target.value),disabled:!v,className:`w-full p-2 border border-slate-300 rounded-md ${v?"":"bg-slate-100"}`,placeholder:"Enter new model"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(Re,{variant:"outline",onClick:t,disabled:N,children:"Cancel"}),a.jsx(Re,{variant:"primary",type:"submit",disabled:N||!x&&!v||x&&!r||v&&!o,children:N?"Updating...":"Update"})]})]})]})}):null};YE.propTypes={isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,selectedItems:ie.array};const N2=({onBatchDuplicate:e,onBatchStatusUpdate:t,onBatchLocationChange:n,equipmentId:r})=>{const[i,o]=M.useState(!1),d=M.useRef(null),x=Xs();M.useEffect(()=>{const A=O=>{d.current&&!d.current.contains(O.target)&&o(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]);const g=()=>{o(!i)},v=()=>{o(!1),x(`/equipment/${r}`)},w=()=>{o(!1),x(`/equipment/${r}/edit`)},N=()=>{o(!1),e(r)},_=()=>{o(!1),t&&t(r)},k=()=>{o(!1),n&&n(r)};return a.jsxs("div",{className:"relative",ref:d,children:[a.jsx("button",{onClick:g,className:"p-1 rounded-md hover:bg-slate-100 border border-slate-200",title:"Actions","aria-label":"Actions menu",children:a.jsx(VN,{className:"w-4 h-4 text-slate-600"})}),i&&a.jsx("div",{className:"dropdown-menu",children:a.jsxs("div",{className:"py-0.5",children:[a.jsxs("button",{onClick:v,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx(oh,{className:"w-3.5 h-3.5 mr-1.5"}),"View Details"]}),a.jsxs("button",{onClick:w,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx(ac,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit"]}),a.jsxs("button",{onClick:N,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx(s2,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),a.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"⟳"}),"Update Status"]}),a.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📍"}),"Change Location"]})]})})]})};N2.propTypes={onBatchDuplicate:ie.func.isRequired,onBatchStatusUpdate:ie.func,onBatchLocationChange:ie.func,equipmentId:ie.oneOfType([ie.string,ie.number]).isRequired};const $E=({selectedItems:e,onBatchDuplicate:t,onBatchStatusUpdate:n,onBatchLocationChange:r,onBatchTypeChange:i,onBatchCategoryChange:o,onBatchBrandModelChange:d,onClearSelection:x})=>{const[g,v]=M.useState(!1),w=M.useRef(null);gt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),gt({queryKey:["locations"],queryFn:yo,staleTime:3e5}),gt({queryKey:["categories"],queryFn:xl,staleTime:3e5}),M.useEffect(()=>{const j=I=>{w.current&&!w.current.contains(I.target)&&v(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const N=()=>{v(!g)},_=()=>{v(!1),t()},k=()=>{v(!1),n()},A=()=>{v(!1),r()},O=()=>{v(!1),i()},L=()=>{v(!1),o()},D=()=>{v(!1),d()};return a.jsxs("div",{className:"relative",ref:w,children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-2 py-1 rounded-md border border-blue-100",children:[a.jsxs("span",{className:"text-xs font-medium text-blue-700",children:[e.length," item",e.length!==1?"s":""," selected"]}),a.jsx(Re,{variant:"outline",size:"sm",onClick:x,className:"text-xs py-0.5 px-2 bg-white",children:"Clear"}),a.jsxs(Re,{variant:"outline",size:"sm",onClick:N,className:"flex items-center text-xs py-0.5 px-2 bg-white",children:["Actions ",a.jsx(VN,{className:"w-3 h-3 ml-1"})]})]}),g&&a.jsx("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white rounded-md shadow-lg border border-slate-200 w-48",children:a.jsxs("div",{className:"py-0.5",children:[a.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx(s2,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),a.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"⟳"}),"Update Status"]}),a.jsxs("button",{onClick:A,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📍"}),"Change Location"]}),a.jsxs("button",{onClick:O,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"🏷️"}),"Change Type"]}),a.jsxs("button",{onClick:L,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"📂"}),"Change Category"]}),a.jsxs("button",{onClick:D,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:"🔖"}),"Update Brand/Model"]})]})})]})};$E.propTypes={selectedItems:ie.array.isRequired,onBatchDuplicate:ie.func.isRequired,onBatchStatusUpdate:ie.func.isRequired,onBatchLocationChange:ie.func.isRequired,onBatchTypeChange:ie.func,onBatchCategoryChange:ie.func,onBatchBrandModelChange:ie.func,onClearSelection:ie.func.isRequired};const GE=({equipment:e,onDuplicate:t,onSelect:n,isSelected:r})=>{const i=Xs();lr();const[o,d]=M.useState(!1);let x=null;if(e.reference_image_id)x=ah(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const w=e.files.find(N=>N.file_type==="image");w&&(x=ah(w.id,!0))}const g=w=>{switch(w){case"available":return"badge-success";case"in-use":return"badge-info";case"maintenance":return"badge-warning";case"unavailable":return"badge-secondary";case"broken":return"badge-danger";default:return"badge-secondary"}},v=w=>{w.target.type==="checkbox"||w.target.closest("button")||w.target.closest("a")||w.target.closest(".btn-icon")||i(`/equipment/${e.id}`)};return a.jsxs("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden h-full ${r?"bg-blue-50 border-2 border-blue-300":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:v,children:[a.jsx("div",{className:"absolute top-2 left-2 z-10",children:a.jsx("input",{type:"checkbox",checked:r,onChange:()=>n&&n(e.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})}),a.jsx("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:x?a.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:a.jsx("img",{src:x,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):a.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:a.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})})}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&a.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),a.jsx("span",{className:`badge ${g(e.status)}`,children:e.status})]}),a.jsxs("h2",{className:"text-lg font-semibold mb-1",children:[e.brand," ",e.model]}),a.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",e.serial_number]}),e.location&&a.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Location: ",e.location]}),a.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[a.jsx(Fn,{to:`/equipment/${e.id}/edit`,className:"btn-icon text-slate-600 hover:text-slate-800 hover:bg-slate-50",title:"Edit equipment",children:a.jsx(ac,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>t(e.id),className:"btn-icon text-green-600 hover:text-green-800 hover:bg-green-50",title:"Duplicate equipment",children:a.jsx(s2,{className:"w-5 h-5"})}),a.jsx(N2,{equipmentId:e.id,onBatchDuplicate:()=>{const w=new CustomEvent("batchDuplicate",{detail:{id:e.id}});document.dispatchEvent(w)},onBatchStatusUpdate:()=>{const w=new CustomEvent("batchStatusUpdate",{detail:{id:e.id}});document.dispatchEvent(w)},onBatchLocationChange:()=>{const w=new CustomEvent("batchLocationChange",{detail:{id:e.id}});document.dispatchEvent(w)}})]})]})]})};GE.propTypes={equipment:ie.object.isRequired,onDuplicate:ie.func.isRequired,onSelect:ie.func,isSelected:ie.bool};const za=({field:e,label:t,currentSortField:n,currentSortOrder:r,onSort:i,className:o=""})=>{const d=n===e;return a.jsx("th",{className:`table-header-cell cursor-pointer select-none ${o}`,onClick:()=>i(e),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:t}),a.jsx("div",{className:"flex flex-col h-4 justify-center",children:d?r==="asc"?a.jsx(ab,{className:"w-3 h-3 text-primary-600"}):a.jsx(hO,{className:"w-3 h-3 text-primary-600"}):a.jsx("div",{className:"w-3 h-3 opacity-60",children:a.jsx(ab,{className:"w-3 h-3 text-gray-500"})})})]})})};za.propTypes={field:ie.string.isRequired,label:ie.string.isRequired,currentSortField:ie.string.isRequired,currentSortOrder:ie.string.isRequired,onSort:ie.func.isRequired,className:ie.string};function gl(e,t,n,r){function i(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function x(w){try{v(r.next(w))}catch(N){d(N)}}function g(w){try{v(r.throw(w))}catch(N){d(N)}}function v(w){w.done?o(w.value):i(w.value).then(x,g)}v((r=r.apply(e,t||[])).next())})}const dB=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Sc(e,t,n){const r=fB(e),{webkitRelativePath:i}=e,o=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&i3(r,"path",o),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),i3(r,"relativePath",o),r}function fB(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=dB.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function i3(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const hB=[".DS_Store","Thumbs.db"];function pB(e){return gl(this,void 0,void 0,function*(){return Nh(e)&&mB(e.dataTransfer)?yB(e.dataTransfer,e.type):xB(e)?gB(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?vB(e):[]})}function mB(e){return Nh(e)}function xB(e){return Nh(e)&&Nh(e.target)}function Nh(e){return typeof e=="object"&&e!==null}function gB(e){return Mx(e.target.files).map(t=>Sc(t))}function vB(e){return gl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Sc(n))})}function yB(e,t){return gl(this,void 0,void 0,function*(){if(e.items){const n=Mx(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(wB));return a3(XE(r))}return a3(Mx(e.files).map(n=>Sc(n)))})}function a3(e){return e.filter(t=>hB.indexOf(t.name)===-1)}function Mx(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function wB(e){if(typeof e.webkitGetAsEntry!="function")return o3(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?QE(t):o3(e,t)}function XE(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?XE(n):[n]],[])}function o3(e,t){return gl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const d=yield o.getFile();return d.handle=o,Sc(d)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Sc(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function bB(e){return gl(this,void 0,void 0,function*(){return e.isDirectory?QE(e):CB(e)})}function QE(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function o(){t.readEntries(d=>gl(this,void 0,void 0,function*(){if(d.length){const x=Promise.all(d.map(bB));i.push(x),o()}else try{const x=yield Promise.all(i);n(x)}catch(x){r(x)}}),d=>{r(d)})}o()})}function CB(e){return gl(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=Sc(r,e.fullPath);t(i)},r=>{n(r)})})})}var cm=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(d){var x=d.trim().toLowerCase();return x.charAt(0)==="."?r.toLowerCase().endsWith(x):x.endsWith("/*")?o===x.replace(/\/.*$/,""):i===x})}return!0};function l3(e){return _B(e)||EB(e)||ZE(e)||NB()}function NB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _B(e){if(Array.isArray(e))return Lx(e)}function c3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(n),!0).forEach(function(r){KE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pd(e,t){return jB(e)||AB(e,t)||ZE(e,t)||SB()}function SB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZE(e,t){if(e){if(typeof e=="string")return Lx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lx(e,t)}}function Lx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,d,x;try{for(n=n.call(e);!(i=(d=n.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(g){o=!0,x=g}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw x}}return r}}function jB(e){if(Array.isArray(e))return e}var kB=typeof cm=="function"?cm:cm.default,TB="file-invalid-type",DB="file-too-large",IB="file-too-small",RB="too-many-files",OB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:TB,message:"File type must be ".concat(r)}},d3=function(t){return{code:DB,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},f3=function(t){return{code:IB,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},MB={code:RB,message:"Too many files"};function JE(e,t){var n=e.type==="application/x-moz-file"||kB(e,t);return[n,n?null:OB(t)]}function e5(e,t,n){if(Yo(e.size))if(Yo(t)&&Yo(n)){if(e.size>n)return[!1,d3(n)];if(e.size<t)return[!1,f3(t)]}else{if(Yo(t)&&e.size<t)return[!1,f3(t)];if(Yo(n)&&e.size>n)return[!1,d3(n)]}return[!0,null]}function Yo(e){return e!=null}function LB(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,d=e.maxFiles,x=e.validator;return!o&&t.length>1||o&&d>=1&&t.length>d?!1:t.every(function(g){var v=JE(g,n),w=pd(v,1),N=w[0],_=e5(g,r,i),k=pd(_,1),A=k[0],O=x?x(g):null;return N&&A&&!O})}function Eh(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function t0(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function h3(e){e.preventDefault()}function PB(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function FB(e){return e.indexOf("Edge/")!==-1}function BB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return PB(e)||FB(e)}function Ni(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),d=1;d<i;d++)o[d-1]=arguments[d];return t.some(function(x){return!Eh(r)&&x&&x.apply(void 0,[r].concat(o)),Eh(r)})}}function UB(){return"showOpenFilePicker"in window}function zB(e){if(Yo(e)){var t=Object.entries(e).filter(function(n){var r=pd(n,2),i=r[0],o=r[1],d=!0;return t5(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(o)||!o.every(n5))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(n,r){var i=pd(r,2),o=i[0],d=i[1];return u3(u3({},n),{},KE({},o,d))},{});return[{description:"Files",accept:t}]}return e}function WB(e){if(Yo(e))return Object.entries(e).reduce(function(t,n){var r=pd(n,2),i=r[0],o=r[1];return[].concat(l3(t),[i],l3(o))},[]).filter(function(t){return t5(t)||n5(t)}).join(",")}function HB(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function qB(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function t5(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function n5(e){return/^.*\.[\w]+$/.test(e)}var VB=["children"],YB=["open"],$B=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],GB=["refKey","onChange","onClick"];function XB(e){return ZB(e)||KB(e)||r5(e)||QB()}function QB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZB(e){if(Array.isArray(e))return Px(e)}function um(e,t){return tU(e)||eU(e,t)||r5(e,t)||JB()}function JB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r5(e,t){if(e){if(typeof e=="string")return Px(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Px(e,t)}}function Px(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,d,x;try{for(n=n.call(e);!(i=(d=n.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(g){o=!0,x=g}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw x}}return r}}function tU(e){if(Array.isArray(e))return e}function p3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(n),!0).forEach(function(r){Fx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _h(e,t){if(e==null)return{};var n=nU(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var E2=M.forwardRef(function(e,t){var n=e.children,r=_h(e,VB),i=Td(r),o=i.open,d=_h(i,YB);return M.useImperativeHandle(t,function(){return{open:o}},[o]),de.createElement(M.Fragment,null,n(An(An({},d),{},{open:o})))});E2.displayName="Dropzone";var s5={disabled:!1,getFilesFromEvent:pB,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};E2.defaultProps=s5;E2.propTypes={children:ie.func,accept:ie.objectOf(ie.arrayOf(ie.string)),multiple:ie.bool,preventDropOnDocument:ie.bool,noClick:ie.bool,noKeyboard:ie.bool,noDrag:ie.bool,noDragEventsBubbling:ie.bool,minSize:ie.number,maxSize:ie.number,maxFiles:ie.number,disabled:ie.bool,getFilesFromEvent:ie.func,onFileDialogCancel:ie.func,onFileDialogOpen:ie.func,useFsAccessApi:ie.bool,autoFocus:ie.bool,onDragEnter:ie.func,onDragLeave:ie.func,onDragOver:ie.func,onDrop:ie.func,onDropAccepted:ie.func,onDropRejected:ie.func,onError:ie.func,validator:ie.func};var Bx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Td(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=An(An({},s5),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,d=t.minSize,x=t.multiple,g=t.maxFiles,v=t.onDragEnter,w=t.onDragLeave,N=t.onDragOver,_=t.onDrop,k=t.onDropAccepted,A=t.onDropRejected,O=t.onFileDialogCancel,L=t.onFileDialogOpen,D=t.useFsAccessApi,j=t.autoFocus,I=t.preventDropOnDocument,W=t.noClick,Q=t.noKeyboard,B=t.noDrag,R=t.noDragEventsBubbling,q=t.onError,V=t.validator,te=M.useMemo(function(){return WB(n)},[n]),ce=M.useMemo(function(){return zB(n)},[n]),J=M.useMemo(function(){return typeof L=="function"?L:m3},[L]),oe=M.useMemo(function(){return typeof O=="function"?O:m3},[O]),ke=M.useRef(null),se=M.useRef(null),Ee=M.useReducer(rU,Bx),ge=um(Ee,2),ue=ge[0],xe=ge[1],Me=ue.isFocused,Ve=ue.isFileDialogActive,nt=M.useRef(typeof window<"u"&&window.isSecureContext&&D&&UB()),Ae=function(){!nt.current&&Ve&&setTimeout(function(){if(se.current){var et=se.current.files;et.length||(xe({type:"closeDialog"}),oe())}},300)};M.useEffect(function(){return window.addEventListener("focus",Ae,!1),function(){window.removeEventListener("focus",Ae,!1)}},[se,Ve,oe,nt]);var Xe=M.useRef([]),it=function(et){ke.current&&ke.current.contains(et.target)||(et.preventDefault(),Xe.current=[])};M.useEffect(function(){return I&&(document.addEventListener("dragover",h3,!1),document.addEventListener("drop",it,!1)),function(){I&&(document.removeEventListener("dragover",h3),document.removeEventListener("drop",it))}},[ke,I]),M.useEffect(function(){return!r&&j&&ke.current&&ke.current.focus(),function(){}},[ke,j,r]);var _e=M.useCallback(function(Le){q?q(Le):console.error(Le)},[q]),De=M.useCallback(function(Le){Le.preventDefault(),Le.persist(),Pe(Le),Xe.current=[].concat(XB(Xe.current),[Le.target]),t0(Le)&&Promise.resolve(i(Le)).then(function(et){if(!(Eh(Le)&&!R)){var Rt=et.length,an=Rt>0&&LB({files:et,accept:te,minSize:d,maxSize:o,multiple:x,maxFiles:g,validator:V}),Kt=Rt>0&&!an;xe({isDragAccept:an,isDragReject:Kt,isDragActive:!0,type:"setDraggedFiles"}),v&&v(Le)}}).catch(function(et){return _e(et)})},[i,v,_e,R,te,d,o,x,g,V]),at=M.useCallback(function(Le){Le.preventDefault(),Le.persist(),Pe(Le);var et=t0(Le);if(et&&Le.dataTransfer)try{Le.dataTransfer.dropEffect="copy"}catch{}return et&&N&&N(Le),!1},[N,R]),qt=M.useCallback(function(Le){Le.preventDefault(),Le.persist(),Pe(Le);var et=Xe.current.filter(function(an){return ke.current&&ke.current.contains(an)}),Rt=et.indexOf(Le.target);Rt!==-1&&et.splice(Rt,1),Xe.current=et,!(et.length>0)&&(xe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),t0(Le)&&w&&w(Le))},[ke,w,R]),Qt=M.useCallback(function(Le,et){var Rt=[],an=[];Le.forEach(function(Kt){var hn=JE(Kt,te),as=um(hn,2),Ss=as[0],Fi=as[1],sn=e5(Kt,d,o),Oe=um(sn,2),on=Oe[0],Tt=Oe[1],Yt=V?V(Kt):null;if(Ss&&on&&!Yt)Rt.push(Kt);else{var Qs=[Fi,Tt];Yt&&(Qs=Qs.concat(Yt)),an.push({file:Kt,errors:Qs.filter(function(bo){return bo})})}}),(!x&&Rt.length>1||x&&g>=1&&Rt.length>g)&&(Rt.forEach(function(Kt){an.push({file:Kt,errors:[MB]})}),Rt.splice(0)),xe({acceptedFiles:Rt,fileRejections:an,isDragReject:an.length>0,type:"setFiles"}),_&&_(Rt,an,et),an.length>0&&A&&A(an,et),Rt.length>0&&k&&k(Rt,et)},[xe,x,te,d,o,g,_,k,A,V]),Vt=M.useCallback(function(Le){Le.preventDefault(),Le.persist(),Pe(Le),Xe.current=[],t0(Le)&&Promise.resolve(i(Le)).then(function(et){Eh(Le)&&!R||Qt(et,Le)}).catch(function(et){return _e(et)}),xe({type:"reset"})},[i,Qt,_e,R]),Wt=M.useCallback(function(){if(nt.current){xe({type:"openDialog"}),J();var Le={multiple:x,types:ce};window.showOpenFilePicker(Le).then(function(et){return i(et)}).then(function(et){Qt(et,null),xe({type:"closeDialog"})}).catch(function(et){HB(et)?(oe(et),xe({type:"closeDialog"})):qB(et)?(nt.current=!1,se.current?(se.current.value=null,se.current.click()):_e(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):_e(et)});return}se.current&&(xe({type:"openDialog"}),J(),se.current.value=null,se.current.click())},[xe,J,oe,D,Qt,_e,ce,x]),Ce=M.useCallback(function(Le){!ke.current||!ke.current.isEqualNode(Le.target)||(Le.key===" "||Le.key==="Enter"||Le.keyCode===32||Le.keyCode===13)&&(Le.preventDefault(),Wt())},[ke,Wt]),Ke=M.useCallback(function(){xe({type:"focus"})},[]),It=M.useCallback(function(){xe({type:"blur"})},[]),ye=M.useCallback(function(){W||(BB()?setTimeout(Wt,0):Wt())},[W,Wt]),Se=function(et){return r?null:et},ze=function(et){return Q?null:Se(et)},Qe=function(et){return B?null:Se(et)},Pe=function(et){R&&et.stopPropagation()},je=M.useMemo(function(){return function(){var Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=Le.refKey,Rt=et===void 0?"ref":et,an=Le.role,Kt=Le.onKeyDown,hn=Le.onFocus,as=Le.onBlur,Ss=Le.onClick,Fi=Le.onDragEnter,sn=Le.onDragOver,Oe=Le.onDragLeave,on=Le.onDrop,Tt=_h(Le,$B);return An(An(Fx({onKeyDown:ze(Ni(Kt,Ce)),onFocus:ze(Ni(hn,Ke)),onBlur:ze(Ni(as,It)),onClick:Se(Ni(Ss,ye)),onDragEnter:Qe(Ni(Fi,De)),onDragOver:Qe(Ni(sn,at)),onDragLeave:Qe(Ni(Oe,qt)),onDrop:Qe(Ni(on,Vt)),role:typeof an=="string"&&an!==""?an:"presentation"},Rt,ke),!r&&!Q?{tabIndex:0}:{}),Tt)}},[ke,Ce,Ke,It,ye,De,at,qt,Vt,Q,B,r]),vn=M.useCallback(function(Le){Le.stopPropagation()},[]),Qn=M.useMemo(function(){return function(){var Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=Le.refKey,Rt=et===void 0?"ref":et,an=Le.onChange,Kt=Le.onClick,hn=_h(Le,GB),as=Fx({accept:te,multiple:x,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Se(Ni(an,Vt)),onClick:Se(Ni(Kt,vn)),tabIndex:-1},Rt,se);return An(An({},as),hn)}},[se,n,x,Vt,r]);return An(An({},ue),{},{isFocused:Me&&!r,getRootProps:je,getInputProps:Qn,rootRef:ke,inputRef:se,open:Se(Wt)})}function rU(e,t){switch(t.type){case"focus":return An(An({},e),{},{isFocused:!0});case"blur":return An(An({},e),{},{isFocused:!1});case"openDialog":return An(An({},Bx),{},{isFileDialogActive:!0});case"closeDialog":return An(An({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return An(An({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return An(An({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return An({},Bx);default:return e}}function m3(){}const sU=async(e="csv",t={})=>{try{const n={format:e};return Object.entries(t).forEach(([i,o])=>{i==="selectedIds"&&Array.isArray(o)&&o.length>0?n.selectedIds=JSON.stringify(o):n[i]=o}),console.log("Export params:",n),(await ft.get("/api/import-export/export",{params:n,responseType:"blob"})).data}catch(n){throw console.error("Error exporting equipment:",n),n}},iU=async(e,t={})=>{try{const n=new FormData;return n.append("file",e),Object.entries(t).forEach(([i,o])=>{n.append(i,o)}),(await ft.post("/api/import-export/import",n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error importing equipment:",n),n}},aU=(e,t)=>{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)},oU=({isOpen:e,onClose:t,filters:n={},selectedItems:r=[]})=>{const[i,o]=M.useState("export"),[d,x]=M.useState("csv"),[g,v]=M.useState(!1),[w,N]=M.useState(!1),[_,k]=M.useState(null),[A,O]=M.useState(!0),[L,D]=M.useState(null),[j,I]=M.useState(""),{user:W}=lr(),Q=Wn(),B=W&&(W.role==="admin"||W.role==="advanced"),{getRootProps:R,getInputProps:q,isDragActive:V}=Td({onDrop:J=>{J.length>0&&(k(J[0]),I(""))},accept:{"text/csv":[".csv"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/json":[".json"]},maxFiles:1}),te=async()=>{try{N(!0),I("");const J=new Date().toISOString().split("T")[0],oe={...n};g&&r.length>0&&(oe.selectedIds=r);const ke=await sU(d,oe);let se;const Ee=g&&r.length>0?`equipment_selected_${r.length}_items_${J}`:`equipment_export_${J}`;switch(d){case"csv":se=`${Ee}.csv`;break;case"xlsx":se=`${Ee}.xlsx`;break;case"json":se=`${Ee}.json`;break;default:se=Ee}aU(ke,se),N(!1)}catch(J){console.error("Export error:",J),I("Failed to export data. Please try again."),N(!1)}},ce=async()=>{if(!_){I("Please select a file to import");return}try{N(!0),I(""),D(null);const J=await iU(_,{updateExisting:A});D(J.results),Q.invalidateQueries(["equipment"]),N(!1),k(null),J.results.errors.length===0&&setTimeout(()=>{t()},3e3)}catch(J){console.error("Import error:",J),I("Failed to import data. Please check your file and try again."),N(!1)}};return!e||!B?null:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Import/Export Equipment"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"flex border-b",children:[a.jsx("button",{className:`px-4 py-2 ${i==="export"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>o("export"),children:"Export"}),a.jsx("button",{className:`px-4 py-2 ${i==="import"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>o("import"),children:"Import"})]}),a.jsx("div",{className:"p-4",children:i==="export"?a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Format"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"csv",checked:d==="csv",onChange:()=>x("csv")}),a.jsx("span",{className:"ml-2",children:"CSV"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"xlsx",checked:d==="xlsx",onChange:()=>x("xlsx")}),a.jsx("span",{className:"ml-2",children:"Excel (XLSX)"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"json",checked:d==="json",onChange:()=>x("json")}),a.jsx("span",{className:"ml-2",children:"JSON"})]})]})]}),r.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Scope"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:!g,onChange:()=>v(!1)}),a.jsx("span",{className:"ml-2",children:"All equipment (with filters)"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:g,onChange:()=>v(!0)}),a.jsxs("span",{className:"ml-2",children:["Selected items only (",r.length,")"]})]})]})]}),a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-sm text-gray-600",children:g&&r.length>0?`This will export ${r.length} selected equipment items.`:"This will export all equipment data based on your current filters."})}),j&&a.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:j}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:t,disabled:w,className:"btn btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:te,disabled:w,className:`btn ${w?"bg-blue-400":"btn-primary"}`,children:w?a.jsxs("div",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):"Export"})]})]}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload File"}),a.jsxs("div",{...R(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${V?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[a.jsx("input",{...q()}),_?a.jsxs("div",{children:[a.jsxs("p",{className:"text-green-600",children:["File selected: ",_.name]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[(_.size/1024).toFixed(2)," KB"]})]}):V?a.jsx("p",{className:"text-blue-500",children:"Drop the file here..."}):a.jsxs("div",{children:[a.jsx("p",{className:"mb-2",children:"Drag & drop a file here, or click to select a file"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Accepted file types: CSV, XLSX, JSON"})]})]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox",checked:A,onChange:J=>O(J.target.checked)}),a.jsx("span",{className:"ml-2",children:"Update existing equipment if found"})]})}),j&&a.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:j}),L&&a.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded",children:[a.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Import Results"}),a.jsxs("ul",{className:"text-sm text-green-700",children:[a.jsxs("li",{children:["Total records processed: ",L.total]}),a.jsxs("li",{children:["New records created: ",L.created]}),a.jsxs("li",{children:["Existing records updated: ",L.updated]}),a.jsxs("li",{children:["Errors: ",L.errors.length]})]}),L.errors.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("h4",{className:"font-medium text-red-800",children:"Errors:"}),a.jsx("ul",{className:"text-sm text-red-700 mt-1 max-h-32 overflow-y-auto",children:L.errors.map((J,oe)=>a.jsxs("li",{children:[J.record.serial_number||J.record.id||`Row ${oe+1}`,": ",J.error]},oe))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:t,disabled:w,className:"btn btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:ce,disabled:w||!_,className:`btn ${w?"bg-blue-400":"btn-primary"}`,children:w?a.jsxs("div",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):"Import"})]})]})})]})})},lU=()=>{var Qe;const e=Xs(),t=M.useRef(null),[n]=M.useState(20),[r,i]=M.useState({type:"",brand:"",status:"",location_id:"",search:""}),[o,d]=M.useState([]),[x,g]=M.useState(!1),[v,w]=M.useState("updated_at"),[N,_]=M.useState("desc"),[k,A]=M.useState("list"),[O,L]=M.useState(!1);M.useEffect(()=>{const Pe=localStorage.getItem("equipmentViewMode");Pe&&A(Pe);const je=localStorage.getItem("equipmentShowThumbnails");je!==null&&L(je==="true")},[]),M.useEffect(()=>{localStorage.setItem("equipmentViewMode",k)},[k]),M.useEffect(()=>{localStorage.setItem("equipmentShowThumbnails",O.toString())},[O]);const[D,j]=M.useState(!1),[I,W]=M.useState(!1),[Q,B]=M.useState(!1),[R,q]=M.useState(!1),[V,te]=M.useState(!1),[ce,J]=M.useState(!1),[oe,ke]=M.useState(!1),[se,Ee]=M.useState(!1),[ge,ue]=M.useState(null);M.useEffect(()=>{const Pe=Qn=>{const{id:Le}=Qn.detail;ue(Le),W(!0)},je=Qn=>{const{id:Le}=Qn.detail;ue(Le),B(!0)},vn=Qn=>{const{id:Le}=Qn.detail;ue(Le),q(!0)};return document.addEventListener("batchDuplicate",Pe),document.addEventListener("batchStatusUpdate",je),document.addEventListener("batchLocationChange",vn),()=>{document.removeEventListener("batchDuplicate",Pe),document.removeEventListener("batchStatusUpdate",je),document.removeEventListener("batchLocationChange",vn)}},[]);const{data:xe,fetchNextPage:Me,hasNextPage:Ve,isFetchingNextPage:nt,isLoading:Ae,isError:Xe,error:it}=$g(["equipment",r,v,N],async({pageParam:Pe=1})=>{const je={page:Pe,limit:n,...r,sortBy:v,sortOrder:N};return la(je)},{getNextPageParam:Pe=>{if(Pe.page<Pe.totalPages)return Pe.page+1},keepPreviousData:!0}),{data:_e}=gt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),{data:De}=gt(["locations"],yo),at=(xe==null?void 0:xe.pages.flatMap(Pe=>Pe.equipment))||[];M.useEffect(()=>{const Pe=new IntersectionObserver(je=>{je[0].isIntersecting&&Ve&&!nt&&Me()},{threshold:.5});return t.current&&Pe.observe(t.current),()=>{t.current&&Pe.unobserve(t.current)}},[t,Me,Ve,nt]);const qt=Pe=>{ue(Pe),j(!0)},Qt=()=>{j(!1),ue(null)},Vt=()=>{W(!1),ue(null)},Wt=Pe=>{const{name:je,value:vn}=Pe.target;i(Qn=>({...Qn,[je]:vn}))},Ce=Pe=>{Pe.preventDefault()},Ke=Pe=>{v===Pe?_(je=>je==="asc"?"desc":"asc"):(w(Pe),_("desc"))},It=Pe=>{d(je=>je.includes(Pe)?je.filter(vn=>vn!==Pe):[...je,Pe])},ye=()=>{if(x)d([]);else{const Pe=at.map(je=>je.id);d(Pe)}g(!x)},Se=()=>{d([]),g(!1)},ze=(Pe,je)=>{je.target.type==="checkbox"||je.target.closest("button")||je.target.closest("a")||je.target.closest(".btn-icon")||e(`/equipment/${Pe}`)};return Ae?a.jsx("div",{className:"text-center py-10",children:"Loading..."}):Xe?a.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",it.message||"Failed to load equipment"]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(cB,{isOpen:D,onClose:Qt,equipmentId:ge}),a.jsx(uB,{isOpen:I,onClose:Vt,equipmentId:ge,selectedItems:o}),a.jsx(WE,{isOpen:Q,onClose:()=>B(!1),equipmentId:ge,selectedItems:o}),a.jsx(HE,{isOpen:R,onClose:()=>q(!1),equipmentId:ge,selectedItems:o}),a.jsx(qE,{isOpen:V,onClose:()=>te(!1),selectedItems:o}),a.jsx(VE,{isOpen:ce,onClose:()=>J(!1),selectedItems:o}),a.jsx(YE,{isOpen:oe,onClose:()=>ke(!1),selectedItems:o}),a.jsx(oU,{isOpen:se,onClose:()=>Ee(!1),filters:r,selectedItems:o}),a.jsx("div",{className:"card",children:a.jsxs("form",{onSubmit:Ce,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),a.jsxs("div",{className:"input-group",children:[a.jsx(n2,{className:"input-icon w-4 h-4"}),a.jsx("input",{type:"text",id:"search",name:"search",value:r.search,onChange:Wt,placeholder:"Search equipment...",className:"input input-with-icon"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"label",children:"Type"}),a.jsxs("select",{id:"type",name:"type",value:r.type,onChange:Wt,className:"input",children:[a.jsx("option",{value:"",children:"All Types"}),_e!=null&&_e.types&&_e.types.length>0?_e.types.map(Pe=>a.jsx("option",{value:Pe.name.toLowerCase(),children:Pe.name},Pe.id)):a.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"label",children:"Status"}),a.jsxs("select",{id:"status",name:"status",value:r.status,onChange:Wt,className:"input",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"in-use",children:"In Use"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"unavailable",children:"Unavailable"}),a.jsx("option",{value:"broken",children:"Broken"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),a.jsxs("select",{id:"location_id",name:"location_id",value:r.location_id,onChange:Wt,className:"input",children:[a.jsx("option",{value:"",children:"All Locations"}),(Qe=De==null?void 0:De.locations)==null?void 0:Qe.map(Pe=>a.jsx("option",{value:Pe.id.toString(),children:Pe.name},Pe.id))]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:()=>{i({type:"",brand:"",status:"",location_id:"",search:""})},className:"btn btn-outline w-full",children:"Clear All Filters"})}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[a.jsx(r2,{className:"w-4 h-4"}),a.jsx("span",{children:"Apply Filters"})]})})]})}),a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"flex flex-col space-y-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mr-4",children:"Equipment List"}),a.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden mr-2",children:[a.jsx("button",{onClick:()=>A("list"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="list"?"bg-white text-primary-600 border-r border-slate-200 hover:bg-primary-50":"bg-white text-slate-600 border-r border-slate-200 hover:bg-slate-50"}`,title:"List view",children:a.jsx(Ed,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>A("card"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="card"?"bg-white text-primary-600 hover:bg-primary-50":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:a.jsx(_d,{className:"h-4 w-4"})})]}),o.length>0&&a.jsx("div",{className:"ml-2",children:a.jsx($E,{selectedItems:o,onBatchDuplicate:()=>W(!0),onBatchStatusUpdate:()=>B(!0),onBatchLocationChange:()=>q(!0),onBatchTypeChange:()=>te(!0),onBatchCategoryChange:()=>J(!0),onBatchBrandModelChange:()=>ke(!0),onClearSelection:Se})})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>Ee(!0),className:"btn btn-secondary btn-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(mO,{className:"w-4 h-4 mr-1"}),a.jsx(xO,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:"Import/Export"})]})}),a.jsxs(Fn,{to:"/equipment/new",className:"btn btn-primary btn-sm",children:[a.jsx(t2,{className:"w-4 h-4"}),a.jsx("span",{children:"Add New Equipment"})]})]})]})}),k==="card"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:at.length>0?at.map(Pe=>a.jsx(GE,{equipment:Pe,onDuplicate:qt,onSelect:It,isSelected:o.includes(Pe.id)},Pe.id)):a.jsx("div",{className:"col-span-3 py-8 text-center text-gray-500",children:"No equipment found"})}),k==="list"&&a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell w-10",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("input",{type:"checkbox",checked:x,onChange:ye,className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),a.jsx(za,{field:"type",label:"Type",currentSortField:v,currentSortOrder:N,onSort:Ke}),a.jsx(za,{field:"category",label:"Category",currentSortField:v,currentSortOrder:N,onSort:Ke}),a.jsx(za,{field:"brand",label:"Brand",currentSortField:v,currentSortOrder:N,onSort:Ke}),a.jsx(za,{field:"model",label:"Model",currentSortField:v,currentSortOrder:N,onSort:Ke}),a.jsx(za,{field:"serial_number",label:"Serial Number",currentSortField:v,currentSortOrder:N,onSort:Ke}),a.jsx(za,{field:"status",label:"Status",currentSortField:v,currentSortOrder:N,onSort:Ke}),a.jsx(za,{field:"location",label:"Location",currentSortField:v,currentSortOrder:N,onSort:Ke}),a.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),a.jsx("tbody",{className:"table-body",children:at.length>0?at.map(Pe=>{var je;return a.jsxs("tr",{className:`table-row ${o.includes(Pe.id)?"bg-blue-50":""} cursor-pointer hover:bg-slate-50`,onClick:vn=>ze(Pe.id,vn),children:[a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("input",{type:"checkbox",checked:o.includes(Pe.id),onChange:()=>It(Pe.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),a.jsx("td",{className:"table-cell",children:Pe.type}),a.jsx("td",{className:"table-cell",children:Pe.category||"-"}),a.jsx("td",{className:"table-cell",children:Pe.brand}),a.jsx("td",{className:"table-cell",children:Pe.model}),a.jsx("td",{className:"table-cell",children:Pe.serial_number}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`badge ${Pe.status==="available"?"badge-success":Pe.status==="in-use"?"badge-info":Pe.status==="maintenance"?"badge-warning":Pe.status==="unavailable"?"badge-secondary":Pe.status==="broken"?"badge-danger":"badge-secondary"}`,children:Pe.status})}),a.jsx("td",{className:"table-cell",children:((je=Pe.locationDetails)==null?void 0:je.name)||Pe.location||"-"}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"flex items-center justify-end",children:a.jsx(N2,{equipmentId:Pe.id,onBatchDuplicate:()=>{ue(Pe.id),W(!0)},onBatchStatusUpdate:()=>{ue(Pe.id),B(!0)},onBatchLocationChange:()=>{ue(Pe.id),q(!0)}})})})]},Pe.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"px-6 py-4 text-center text-gray-500",children:"No equipment found"})})})]})}),a.jsx("div",{ref:t,className:"py-4 text-center",children:nt?a.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),a.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):Ve?a.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):a.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})]})},cU=async({page:e=1,limit:t=20,equipmentId:n,userId:r,actionType:i,search:o,type:d,status:x,location_id:g,sortBy:v="created_at",sortOrder:w="desc"})=>{const N={page:e,limit:t};return n&&(N.equipmentId=n),r&&(N.userId=r),i&&(N.actionType=i),o&&(N.search=o),d&&(N.type=d),x&&(N.status=x),g&&(N.location_id=g),v&&(N.sortBy=v),w&&(N.sortOrder=w),(await ft.get("/api/equipment-logs",{params:N})).data},uU=async(e,{page:t=1,limit:n=20}={})=>{const r={page:t,limit:n};return(await ft.get(`/api/equipment-logs/equipment/${e}`,{params:r})).data},i5=({equipmentId:e})=>{var w;const[t,n]=M.useState(1),[r]=M.useState(10),{data:i,isLoading:o,isError:d,error:x}=gt(["equipmentLogs",e,t,r],()=>uU(e,{page:t,limit:r}),{keepPreviousData:!0,enabled:!!e}),g=N=>N.split("_").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" "),v=N=>{n(N)};return o?a.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[a.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{className:"text-slate-600",children:"Loading movement history..."})]}):d?a.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[a.jsx("div",{className:"bg-red-100 p-3 rounded-full mb-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("p",{className:"text-red-600 font-medium mb-1",children:"Error Loading Movement History"}),a.jsx("p",{className:"text-slate-500 text-sm",children:x.message||"Failed to load equipment logs"})]}):(w=i==null?void 0:i.logs)!=null&&w.length?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Date"]})}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"User"]})}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Action"]})}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Details"]})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:i.logs.map((N,_)=>{var k,A,O;return a.jsxs("tr",{className:`hover:bg-slate-50 ${_%2===0?"bg-white":"bg-slate-50/50"}`,children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium",children:dd(new Date(N.created_at),"MMM d, yyyy")}),a.jsx("span",{className:"ml-2 text-slate-500",children:dd(new Date(N.created_at),"h:mm a")})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 font-medium",children:(k=N.user)!=null&&k.username?N.user.username.charAt(0).toUpperCase():"?"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"text-sm font-medium text-slate-800",children:((A=N.user)==null?void 0:A.username)||"Unknown"}),a.jsx("div",{className:"text-xs text-slate-500 capitalize",children:((O=N.user)==null?void 0:O.role)||""})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`px-2.5 py-1.5 inline-flex text-xs leading-5 font-semibold rounded-full
                    ${N.action_type==="created"?"bg-green-100 text-green-800":N.action_type==="updated"?"bg-blue-100 text-blue-800":N.action_type==="deleted"?"bg-red-100 text-red-800":N.action_type==="status_change"?"bg-yellow-100 text-yellow-800":N.action_type==="location_change"?"bg-indigo-100 text-indigo-800":"bg-slate-100 text-slate-800"}`,children:[N.action_type==="created"&&a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),N.action_type==="updated"&&a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),N.action_type==="deleted"&&a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),N.action_type==="status_change"&&a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),N.action_type==="location_change"&&a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),g(N.action_type)]})}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[N.action_type==="status_change"&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium text-slate-700",children:"Status:"}),a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:N.previous_status}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:N.new_status})]}),N.action_type==="location_change"&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium text-slate-700",children:"Location:"}),a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:N.previous_location||"None"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:N.new_location||"None"})]}),N.details&&a.jsx("div",{className:"mt-2 text-slate-600",children:N.details})]})]},N.id)})})]})}),i.totalPages>1&&a.jsxs("div",{className:"flex justify-between items-center mt-4 px-2",children:[a.jsxs("div",{className:"text-sm text-slate-600 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Showing ",a.jsx("span",{className:"font-medium text-slate-800 mx-1",children:(t-1)*r+1})," to"," ",a.jsx("span",{className:"font-medium text-slate-800 mx-1",children:Math.min(t*r,i.total)})," of"," ",a.jsx("span",{className:"font-medium text-slate-800 mx-1",children:i.total})," logs"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>v(t-1),disabled:t===1,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${t===1?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-1 ${t===1?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),a.jsxs("button",{onClick:()=>v(t+1),disabled:t===i.totalPages,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${t===i.totalPages?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:["Next",a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ml-1 ${t===i.totalPages?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}):a.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[a.jsx("div",{className:"bg-slate-100 p-3 rounded-full mb-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("p",{className:"text-slate-600 font-medium",children:"No movement history found"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"This equipment has no recorded movements or status changes"})]})},a5=({isOpen:e,title:t="Confirm Action",message:n="Are you sure you want to proceed?",confirmText:r="Confirm",cancelText:i="Cancel",onConfirm:o,onCancel:d,isDestructive:x=!1})=>e?a.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-soft max-w-md w-full p-6 animate-fade-in",children:[a.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:t}),a.jsx("p",{className:"text-slate-600 mb-6",children:n}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(Re,{variant:"secondary",onClick:d,children:i}),a.jsx(Re,{variant:x?"danger":"primary",onClick:o,children:r})]})]})}):null;a5.propTypes={isOpen:ie.bool.isRequired,title:ie.string,message:ie.string,confirmText:ie.string,cancelText:ie.string,onConfirm:ie.func.isRequired,onCancel:ie.func.isRequired,isDestructive:ie.bool};const _2=({onImageSelect:e,existingImage:t=null,onImageDelete:n})=>{const[r,i]=M.useState(null),[o,d]=M.useState(null);M.useEffect(()=>{d(t?`/api/files/${t.id}?thumbnail=true`:null)},[t]),M.useEffect(()=>()=>{o&&!o.startsWith("/api/files/")&&URL.revokeObjectURL(o)},[o]);const x=M.useCallback(k=>{if(k.length>0){const A=k[0];if(A.size>10*1024*1024){alert("Image is too large. Maximum size is 10MB.");return}i(A),d(URL.createObjectURL(A)),e(A)}},[e]),g=()=>{i(null),o&&!o.startsWith("/api/files/")&&URL.revokeObjectURL(o),d(null),e(null)},v=()=>{n&&t&&(n(t.id),d(null))},{getRootProps:w,getInputProps:N,isDragActive:_}=Td({onDrop:x,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},maxFiles:1,multiple:!1});return a.jsx("div",{children:o?a.jsx("div",{className:"mt-4",children:a.jsxs("div",{className:"bg-slate-50 p-4 rounded-md border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),a.jsx("span",{className:"text-sm font-medium",children:t?t.file_name:(r==null?void 0:r.name)||"Reference Image"})]}),a.jsx("button",{type:"button",onClick:t?v:g,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a.jsx("div",{className:"mt-2 flex justify-center",style:{height:"200px"},children:a.jsx("div",{className:"relative w-full h-full flex items-center justify-center overflow-hidden bg-slate-100 rounded-md",children:a.jsx("img",{src:o,alt:"Reference Image Preview",className:"rounded-md max-h-full max-w-full",style:{objectFit:"contain",objectPosition:"center"},onError:k=>{console.error("Error loading image:",k),k.target.src="/placeholder-image.png",k.target.onerror=null}})})})]})}):a.jsxs("div",{...w(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${_?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[a.jsx("input",{...N()}),_?a.jsx("p",{className:"text-primary-500",children:"Drop the image here..."}):a.jsxs("div",{children:[a.jsx("p",{className:"mb-2",children:"Drag & drop a reference image here, or click to select"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Accepted file types: JPEG, PNG (Max: 10MB)"})]})]})})};_2.propTypes={onImageSelect:ie.func.isRequired,existingImage:ie.object,onImageDelete:ie.func};const S2=({isOpen:e,onClose:t,equipmentId:n,existingImage:r=null})=>{const[i,o]=M.useState(null),[d,x]=M.useState(!1),[g,v]=M.useState(""),w=Wn(),N=O=>{o(O)},_=fn({mutationFn:async O=>WN(n,{},[],[],O.referenceImageFile,O.removeReferenceImage),onSuccess:()=>{w.invalidateQueries(["equipment",n]),t()},onError:O=>{var L,D;console.error("Error updating reference image:",O),v(((D=(L=O.response)==null?void 0:L.data)==null?void 0:D.message)||"Failed to update reference image"),x(!1)}}),k=O=>{if(O.preventDefault(),!i){v("Please select an image file");return}x(!0),v(""),_.mutate({referenceImageFile:i})},A=()=>{x(!0),v(""),_.mutate({referenceImageFile:null,removeReferenceImage:!0})};return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:a.jsx("div",{className:"absolute inset-0 bg-slate-500 opacity-75"})}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),a.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:a.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:a.jsx("div",{className:"sm:flex sm:items-start",children:a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-slate-900 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Change Reference Image"]}),a.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"This image will be displayed prominently on the equipment details page and in search results."}),a.jsxs("div",{className:"mt-4",children:[g&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:a.jsx("p",{className:"text-red-700",children:g})}),a.jsxs("form",{onSubmit:k,children:[a.jsx("div",{className:"mb-4",children:a.jsx(_2,{onImageSelect:N,existingImage:r})}),a.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[a.jsx(Re,{type:"submit",variant:"primary",disabled:d||!i,className:"w-full sm:ml-3 sm:w-auto",children:d?"Saving...":"Save Changes"}),a.jsx(Re,{type:"button",variant:"secondary",onClick:t,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"}),r&&a.jsx(Re,{type:"button",variant:"danger",onClick:A,className:"mt-3 w-full sm:mt-0 sm:mr-auto sm:w-auto",children:"Remove Image"})]})]})]})]})})})})]})}):null};S2.propTypes={isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,equipmentId:ie.string.isRequired,existingImage:ie.object};const Ux=({fileType:e,fileUrl:t,fileName:n,className:r="",style:i={},showFileName:o=!0,size:d="medium",interactive:x=!0,useThumbnail:g=!0})=>{const[v,w]=M.useState(!0),[N,_]=M.useState(null),[k,A]=M.useState(!1),O=()=>{switch(d){case"small":return"h-24";case"large":return"h-48";case"medium":default:return"h-32"}},L=()=>{console.log("Image loaded successfully"),w(!1)},D=()=>{console.error("Image failed to load completely"),w(!1),_("Failed to load image")};M.useEffect(()=>{if(v&&e==="image"){const Q=setTimeout(()=>{console.log("Loading timeout reached, resetting loading state"),w(!1)},5e3);return()=>clearTimeout(Q)}},[v,e]),M.useEffect(()=>{!t&&e==="image"&&(console.log("No file URL provided, showing error state"),w(!1),_("No image available"))},[t,e]);const j=()=>{x&&e==="image"&&A(!k)},I=()=>{switch(e){case"image":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"pdf":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},W=()=>{if(v&&e==="image")return a.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("span",{className:"text-slate-400 text-xs",children:"Loading..."})]})});if(N)return a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-red-50",children:a.jsxs("div",{className:"flex flex-col items-center p-2",children:[a.jsx("svg",{className:"w-8 h-8 text-red-500 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsx("span",{className:"text-red-500 text-xs text-center",children:N})]})});switch(e){case"image":if(!t)return console.error("No file URL provided for image"),a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-100",children:a.jsxs("div",{className:"flex flex-col items-center p-2",children:[a.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsx("span",{className:"text-slate-400 text-xs text-center",children:"No image"})]})});const Q=new Date().getTime();let B=t;return B.includes("t=")||(B+=(B.includes("?")?"&":"?")+`t=${Q}`),a.jsx("div",{className:`w-full h-full flex items-center justify-center overflow-hidden ${x?"cursor-pointer":""}`,onClick:j,children:a.jsx("img",{src:B,alt:n||"Image preview",className:`max-h-full max-w-full object-contain transition-transform duration-300 ${k?"scale-150":""}`,onLoad:R=>{console.log("Image loaded successfully:",B),L()},onError:R=>{console.error("Image failed to load:",B);const q=R.target;if(t.includes("thumbnail=true")){console.log("Thumbnail failed to load, trying original image");const te=`${t.split("?")[0]}?t=${new Date().getTime()}`;console.log("Trying with URL:",te),q.src=te}else{console.log("Original image failed to load, trying with new cache busting");const V=t.includes("?")?`${t.split("?")[0]}?t=${new Date().getTime()}`:`${t}?t=${new Date().getTime()}`;console.log("Trying with URL:",V),q.src=V,q.dataset.retried?(console.error("Multiple load attempts failed, showing error"),D()):q.dataset.retried="true"}}},`img-${B}`)});case"audio":return a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:[a.jsx("div",{className:"mb-2",children:I()}),x?a.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[a.jsx("source",{src:t,type:"audio/mpeg"}),"Your browser does not support the audio element."]}):a.jsx("div",{className:"text-sm text-slate-500",children:"Audio file"})]});case"pdf":return a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[a.jsx("div",{className:"mb-2",children:I()}),x?a.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800 text-sm underline",children:"View PDF"}):a.jsx("div",{className:"text-sm text-slate-500",children:"PDF document"})]});default:return a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:I()})}};return a.jsxs("div",{className:`bg-slate-100 rounded-md overflow-hidden ${O()} ${r}`,style:i,children:[W(),o&&n&&a.jsx("div",{className:"bg-slate-800 bg-opacity-70 text-white text-xs py-1 px-2 absolute bottom-0 left-0 right-0 truncate",children:n})]})};Ux.propTypes={fileType:ie.oneOf(["image","audio","pdf"]).isRequired,fileUrl:ie.string.isRequired,fileName:ie.string,className:ie.string,style:ie.object,showFileName:ie.bool,size:ie.oneOf(["small","medium","large"]),interactive:ie.bool,useThumbnail:ie.bool};const A2=({files:e=[],onFileDelete:t,canDelete:n=!1,showDownload:r=!0,layout:i="grid",size:o="medium"})=>{const[d,x]=M.useState(null),g=A=>{x(A)},v=()=>{x(null)},w=(A,O=!1,L=!1)=>{let D=`/api/files/${A}`;const j=[];return O&&j.push("download=true"),L&&j.push("thumbnail=true"),j.length>0&&(D+=`?${j.join("&")}`),D},N=()=>d?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:v,children:a.jsxs("div",{className:"bg-white rounded-lg overflow-hidden max-w-3xl w-full max-h-[90vh] flex flex-col",onClick:A=>A.stopPropagation(),children:[a.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900",children:d.file_name}),a.jsx("button",{type:"button",onClick:v,className:"text-slate-400 hover:text-slate-500",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center",children:d.file_type==="image"?a.jsx("img",{src:w(d.id),alt:d.file_name,className:"max-w-full max-h-[70vh] object-contain",onError:A=>{console.error("Error loading image in modal:",A),A.target.src=`${w(d.id)}?t=${new Date().getTime()}`}}):d.file_type==="audio"?a.jsxs("div",{className:"w-full max-w-md p-4",children:[a.jsx("div",{className:"mb-4 text-center",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})})}),a.jsxs("audio",{controls:!0,className:"w-full",children:[a.jsx("source",{src:w(d.id),type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):d.file_type==="pdf"?a.jsx("div",{className:"w-full h-[70vh]",children:a.jsx("iframe",{src:`${w(d.id)}#view=FitH`,title:d.file_name,className:"w-full h-full"})}):a.jsx("div",{className:"text-center p-4",children:a.jsx("p",{children:"This file type cannot be previewed."})})}),a.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end space-x-2",children:[a.jsx("a",{href:w(d.id,!0),download:!0,className:"btn btn-secondary",children:"Download"}),n&&a.jsx("button",{type:"button",onClick:()=>{t(d.id),v()},className:"btn btn-danger",children:"Delete"})]})]})}):null,_=()=>a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(A=>a.jsxs("div",{className:"relative group",children:[a.jsxs("div",{className:"cursor-pointer rounded-lg overflow-hidden border border-slate-200 bg-white shadow-sm hover:shadow-md transition-shadow",onClick:()=>g(A),children:[a.jsx(Ux,{fileType:A.file_type,fileUrl:w(A.id,!1,A.file_type==="image"),fileName:A.file_name,size:o,interactive:!1,useThumbnail:A.file_type==="image"}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"text-sm font-medium truncate",title:A.file_name,children:A.file_name}),a.jsx("p",{className:"text-xs text-slate-500 capitalize",children:A.file_type})]})]}),a.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[r&&a.jsx("a",{href:w(A.id,!0),download:!0,onClick:O=>O.stopPropagation(),className:"bg-white p-1.5 rounded-full shadow-md text-primary-600 hover:text-primary-800",title:"Download file",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),n&&a.jsx("button",{type:"button",onClick:O=>{O.stopPropagation(),t(A.id)},className:"bg-white p-1.5 rounded-full shadow-md text-red-600 hover:text-red-800",title:"Delete file",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},A.id))}),k=()=>a.jsx("div",{className:"divide-y divide-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:e.map(A=>a.jsxs("div",{className:"flex items-center p-3 hover:bg-slate-50 cursor-pointer",onClick:()=>g(A),children:[a.jsx("div",{className:"flex-shrink-0 mr-3 w-12 h-12 relative",children:a.jsx(Ux,{fileType:A.file_type,fileUrl:w(A.id,!1,A.file_type==="image"),fileName:A.file_name,size:"small",showFileName:!1,interactive:!1,useThumbnail:A.file_type==="image"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",title:A.file_name,children:A.file_name}),a.jsx("p",{className:"text-xs text-slate-500 capitalize",children:A.file_type})]}),a.jsxs("div",{className:"flex space-x-2 ml-2",children:[r&&a.jsx("a",{href:w(A.id,!0),download:!0,onClick:O=>O.stopPropagation(),className:"text-primary-600 hover:text-primary-800 p-1.5",title:"Download file",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),n&&a.jsx("button",{type:"button",onClick:O=>{O.stopPropagation(),t(A.id)},className:"text-red-600 hover:text-red-800 p-1.5",title:"Delete file",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},A.id))});return e.length===0?a.jsx("p",{className:"text-slate-500 italic",children:"No files available"}):a.jsxs("div",{children:[i==="grid"?_():k(),N()]})};A2.propTypes={files:ie.arrayOf(ie.shape({id:ie.number.isRequired,file_type:ie.string.isRequired,file_name:ie.string.isRequired})).isRequired,onFileDelete:ie.func,canDelete:ie.bool,showDownload:ie.bool,layout:ie.oneOf(["grid","list"]),size:ie.oneOf(["small","medium","large"])};const dU=async(e,t,n)=>{try{const r=new FormData;for(const o of t)r.append("files",o);return(await ft.post(`/api/files/upload/${e}`,r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n?o=>{const d=Math.round(o.loaded*100/o.total);n(d)}:void 0})).data}catch(r){throw console.error("Error uploading files:",r),r}};let fU={data:""},hU=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||fU,pU=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mU=/\/\*[^]*?\*\/|  +/g,x3=/\n+/g,$a=(e,t)=>{let n="",r="",i="";for(let o in e){let d=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+d+";":r+=o[1]=="f"?$a(d,o):o+"{"+$a(d,o[1]=="k"?"":t)+"}":typeof d=="object"?r+=$a(d,t?t.replace(/([^,])+/g,x=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,x):x?x+" "+g:g)):o):d!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=$a.p?$a.p(o,d):o+":"+d+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ta={},o5=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+o5(e[n]);return t}return e},xU=(e,t,n,r,i)=>{let o=o5(e),d=ta[o]||(ta[o]=(g=>{let v=0,w=11;for(;v<g.length;)w=101*w+g.charCodeAt(v++)>>>0;return"go"+w})(o));if(!ta[d]){let g=o!==e?e:(v=>{let w,N,_=[{}];for(;w=pU.exec(v.replace(mU,""));)w[4]?_.shift():w[3]?(N=w[3].replace(x3," ").trim(),_.unshift(_[0][N]=_[0][N]||{})):_[0][w[1]]=w[2].replace(x3," ").trim();return _[0]})(e);ta[d]=$a(i?{["@keyframes "+d]:g}:g,n?"":"."+d)}let x=n&&ta.g?ta.g:null;return n&&(ta.g=ta[d]),((g,v,w,N)=>{N?v.data=v.data.replace(N,g):v.data.indexOf(g)===-1&&(v.data=w?g+v.data:v.data+g)})(ta[d],t,r,x),d},gU=(e,t,n)=>e.reduce((r,i,o)=>{let d=t[o];if(d&&d.call){let x=d(n),g=x&&x.props&&x.props.className||/^go/.test(x)&&x;d=g?"."+g:x&&typeof x=="object"?x.props?"":$a(x,""):x===!1?"":x}return r+i+(d??"")},"");function pp(e){let t=this||{},n=e.call?e(t.p):e;return xU(n.unshift?n.raw?gU(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,hU(t.target),t.g,t.o,t.k)}let l5,zx,Wx;pp.bind({g:1});let Ca=pp.bind({k:1});function vU(e,t,n,r){$a.p=t,l5=e,zx=n,Wx=r}function wo(e,t){let n=this||{};return function(){let r=arguments;function i(o,d){let x=Object.assign({},o),g=x.className||i.className;n.p=Object.assign({theme:zx&&zx()},x),n.o=/ *go\d+/.test(g),x.className=pp.apply(n,r)+(g?" "+g:""),t&&(x.ref=d);let v=e;return e[0]&&(v=x.as||e,delete x.as),Wx&&v[0]&&Wx(x),l5(v,x)}return t?t(i):i}}var yU=e=>typeof e=="function",Hx=(e,t)=>yU(e)?e(t):e,wU=(()=>{let e=0;return()=>(++e).toString()})(),bU=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),CU=20,c5=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,CU)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return c5(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},NU=[],dm={toasts:[],pausedAt:void 0},j2=e=>{dm=c5(dm,e),NU.forEach(t=>{t(dm)})},EU=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||wU()}),Dd=e=>(t,n)=>{let r=EU(t,e,n);return j2({type:2,toast:r}),r.id},Bn=(e,t)=>Dd("blank")(e,t);Bn.error=Dd("error");Bn.success=Dd("success");Bn.loading=Dd("loading");Bn.custom=Dd("custom");Bn.dismiss=e=>{j2({type:3,toastId:e})};Bn.remove=e=>j2({type:4,toastId:e});Bn.promise=(e,t,n)=>{let r=Bn.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?Hx(t.success,i):void 0;return o?Bn.success(o,{id:r,...n,...n==null?void 0:n.success}):Bn.dismiss(r),i}).catch(i=>{let o=t.error?Hx(t.error,i):void 0;o?Bn.error(o,{id:r,...n,...n==null?void 0:n.error}):Bn.dismiss(r)}),e};var _U=Ca`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,SU=Ca`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,AU=Ca`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jU=wo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_U} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${SU} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${AU} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,kU=Ca`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,TU=wo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${kU} 1s linear infinite;
`,DU=Ca`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,IU=Ca`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,RU=wo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${IU} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,OU=wo("div")`
  position: absolute;
`,MU=wo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,LU=Ca`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,PU=wo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${LU} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,FU=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?M.createElement(PU,null,t):t:n==="blank"?null:M.createElement(MU,null,M.createElement(TU,{...r}),n!=="loading"&&M.createElement(OU,null,n==="error"?M.createElement(jU,{...r}):M.createElement(RU,{...r})))},BU=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,UU=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,zU="0%{opacity:0;} 100%{opacity:1;}",WU="0%{opacity:1;} 100%{opacity:0;}",HU=wo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,qU=wo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,VU=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=bU()?[zU,WU]:[BU(n),UU(n)];return{animation:t?`${Ca(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ca(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};M.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?VU(e.position||t||"top-center",e.visible):{opacity:0},o=M.createElement(FU,{toast:e}),d=M.createElement(qU,{...e.ariaProps},Hx(e.message,e));return M.createElement(HU,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:o,message:d}):M.createElement(M.Fragment,null,o,d))});vU(M.createElement);pp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const k2=({equipmentId:e,isOpen:t,onClose:n,onSuccess:r})=>{const[i,o]=M.useState([]),[d,x]=M.useState(!1),[g,v]=M.useState(0),[w,N]=M.useState([]),_=50*1024*1024,k=5,A=M.useCallback((B,R)=>{o(V=>[...V,...B]);const q=R.map(V=>V.file.size>_?`${V.file.name} is too large. Maximum file size is 50MB.`:`${V.file.name} is not a supported file type.`);q.length>0&&N(V=>[...V,...q])},[]),{getRootProps:O,getInputProps:L,isDragActive:D}=Td({onDrop:A,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:k,maxSize:_}),j=B=>{o(R=>R.filter((q,V)=>V!==B))},I=()=>{o([]),N([])},W=B=>{switch(B){case"image/jpeg":case"image/png":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},Q=async()=>{if(i.length===0){Bn.error("Please select at least one file to upload");return}x(!0),v(0);try{const B=await dU(e,i,R=>v(R));Bn.success(`Successfully uploaded ${B.files.length} files`),o([]),N([]),r&&r(B.files),n()}catch(B){console.error("Error uploading files:",B),Bn.error("Failed to upload files. Please try again.")}finally{x(!1)}};return t?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:a.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[a.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:a.jsx("div",{className:"sm:flex sm:items-start",children:a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Upload Documents"}),a.jsxs("div",{...O(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer mb-4 ${D?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[a.jsx("input",{...L()}),D?a.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):a.jsxs("div",{children:[a.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",k," files, ",Math.round(_/(1024*1024)),"MB each)"]})]})]}),w.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-500 mb-1",children:"Errors:"}),a.jsx("ul",{className:"text-sm text-red-500 list-disc pl-5",children:w.map((B,R)=>a.jsx("li",{children:B},R))})]}),i.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Selected Files:"}),a.jsx("button",{type:"button",onClick:I,className:"text-sm text-red-500 hover:text-red-700",children:"Clear All"})]}),a.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-md overflow-hidden",children:i.map((B,R)=>a.jsxs("li",{className:"flex items-center justify-between p-3 hover:bg-slate-50",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-2",children:W(B.type)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium truncate max-w-xs",title:B.name,children:B.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:[(B.size/1024).toFixed(1)," KB"]})]})]}),a.jsx("button",{type:"button",onClick:()=>j(R),className:"text-red-500 hover:text-red-700",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},R))})]}),d&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${g}%`}})}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",g,"%"]})]})]})})}),a.jsxs("div",{className:"bg-slate-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[a.jsx(Re,{variant:"primary",size:"sm",onClick:Q,disabled:d||i.length===0,className:"w-full sm:w-auto sm:ml-3",children:d?"Uploading...":"Upload"}),a.jsx(Re,{variant:"outline",size:"sm",onClick:n,disabled:d,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"})]})]})]})}):null};k2.propTypes={equipmentId:ie.number.isRequired,isOpen:ie.bool.isRequired,onClose:ie.func.isRequired,onSuccess:ie.func};const g3=(e,t=!1)=>`/api/files/${e}${t?"?thumbnail=true":""}`,YU=()=>{var J;const{id:e}=BC(),t=Xs(),n=Wn(),{user:r}=lr(),[i,o]=M.useState(!1),[d,x]=M.useState(!1),[g,v]=M.useState(!1),[w,N]=M.useState("details"),[_,k]=M.useState("grid"),{data:A,isLoading:O,isError:L,error:D}=gt({queryKey:["equipment",e],queryFn:()=>sp(e)}),j=fn({mutationFn:()=>QR(e),onSuccess:()=>{n.invalidateQueries(["equipment"]),t("/equipment")}}),I=()=>{t(`/equipment/${e}/edit`)},W=oe=>{n.invalidateQueries(["equipment",e]),tt.success(`Successfully uploaded ${oe.length} file(s)`)},Q=()=>{o(!0)},B=()=>{j.mutate(),o(!1)},R=()=>{o(!1)},q=()=>{t("/equipment")};if(O)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(L)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:(D==null?void 0:D.message)||"Failed to load equipment details"})}),a.jsx("div",{className:"mt-4",children:a.jsx(Re,{variant:"outline",size:"sm",onClick:q,children:"Back to Equipment List"})})]})]})})]});const V=oe=>{switch(oe){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";case"unavailable":return"secondary";case"broken":return"danger";default:return"secondary"}},te=A.reference_image_id?parseInt(A.reference_image_id):null,ce=(J=A.files)==null?void 0:J.find(oe=>oe.id===te);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"}),a.jsxs("p",{className:"text-slate-500 text-sm",children:[A.brand," ",A.model," • ",A.serial_number]})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(Re,{variant:"outline",onClick:q,className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to List"]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&a.jsxs(Re,{variant:"primary",onClick:I,className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(r==null?void 0:r.role)==="admin"&&a.jsxs(Re,{variant:"danger",onClick:Q,className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex -mb-px",children:[a.jsxs("button",{type:"button",onClick:()=>N("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),a.jsxs("button",{type:"button",onClick:()=>N("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]}),a.jsxs("button",{type:"button",onClick:()=>N("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]})]})}),a.jsxs("div",{className:"p-6",children:[w==="details"&&a.jsx("div",{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:a.jsx("div",{className:"md:col-span-1",children:a.jsxs(Fe,{className:"h-full",children:[a.jsx(Fe.Header,{className:"bg-slate-50",children:a.jsxs(Fe.Title,{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),a.jsxs(Fe.Body,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Category"}),a.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.category||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Type"}),a.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.type})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Brand"}),a.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.brand})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Model"}),a.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.model})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Serial Number"}),a.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.serial_number})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Status"}),a.jsx("div",{className:"mt-1",children:A.status&&a.jsx(vs,{variant:V(A.status),size:"md",children:A.status.charAt(0).toUpperCase()+A.status.slice(1).replace("-"," ")})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Quantity"}),a.jsxs("p",{className:"mt-1 text-base font-medium text-slate-900",children:[A.quantity||1," item",(A.quantity||1)!==1?"s":""]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Location"}),a.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:A.location||"Not specified"})]})]}),A.description&&a.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),a.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Description"})]}),a.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:a.jsx("p",{className:"text-base text-slate-800 whitespace-pre-line",children:A.description})})]})]})]})})})}),w==="documents"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&a.jsxs(Re,{variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>v(!0),children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),A.files&&A.files.filter(oe=>!ce||oe.id!==ce.id).length>0?a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[A.files.filter(oe=>!ce||oe.id!==ce.id).length,A.files.filter(oe=>!ce||oe.id!==ce.id).length===1?" file":" files"," attached"]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("grid"),children:a.jsx(_d,{className:"h-4 w-4"})}),a.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("list"),children:a.jsx(Ed,{className:"h-4 w-4"})})]})]}),a.jsx(A2,{files:A.files.filter(oe=>!ce||oe.id!==ce.id),layout:_,size:"medium",showDownload:!0,canDelete:!1})]}):a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&a.jsx("div",{className:"mt-4",children:a.jsxs(Re,{variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>v(!0),children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),w==="history"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),a.jsx(i5,{equipmentId:e})]})]})]})]})}),a.jsx("div",{className:"md:col-span-1",children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),a.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:ce?a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"relative pb-4",children:[a.jsx("img",{src:g3(ce.id,!0),alt:`${A.brand} ${A.model}`,className:"w-full h-auto object-contain rounded-md",onError:oe=>{console.error("Error loading thumbnail, falling back to original image"),oe.target.src=g3(ce.id),oe.target.onerror=null}}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&a.jsx("button",{onClick:()=>x(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),a.jsx("div",{className:"text-sm text-gray-500 text-center",children:ce.file_name})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&a.jsxs("button",{onClick:()=>x(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsx("div",{className:"md:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[a.jsx("div",{className:"p-4 border-b border-slate-200",children:a.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info"]})}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.category||"Not specified"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.type})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),a.jsx("div",{children:A.status&&a.jsx(vs,{variant:V(A.status),size:"md",children:A.status.charAt(0).toUpperCase()+A.status.slice(1).replace("-"," ")})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Quantity"})]}),a.jsxs("p",{className:"text-sm font-medium text-slate-800",children:[A.quantity||1," item",(A.quantity||1)!==1?"s":""]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.location||"Not specified"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:A.serial_number})]})]})]})}),a.jsx("div",{className:"md:col-span-1",children:a.jsxs(Fe,{className:"h-full",children:[a.jsx(Fe.Header,{className:"bg-slate-50",children:a.jsxs(Fe.Title,{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),a.jsx(Fe.Body,{children:a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:A.created_by||"Unknown"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:A.created_at?new Date(A.created_at).toLocaleString():"Unknown"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:A.updated_at?new Date(A.updated_at).toLocaleString():"Never"})]})]}),A.locationDetails&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[a.jsxs("h4",{className:"text-sm font-medium text-slate-700 mb-3 flex items-center",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Location Details"]}),a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-sm",children:[a.jsx("p",{className:"font-medium text-slate-800",children:A.locationDetails.name}),A.locationDetails.street&&a.jsx("p",{className:"text-slate-600 mt-1",children:A.locationDetails.street}),(A.locationDetails.postal_code||A.locationDetails.city)&&a.jsxs("p",{className:"text-slate-600",children:[A.locationDetails.postal_code&&`${A.locationDetails.postal_code} `,A.locationDetails.city]}),(A.locationDetails.region||A.locationDetails.country)&&a.jsxs("p",{className:"text-slate-600",children:[A.locationDetails.region&&`${A.locationDetails.region}, `,A.locationDetails.country]})]})]})]})})]})})]}),i&&a.jsx(a5,{isOpen:i,title:"Delete Equipment",message:"Are you sure you want to delete this equipment? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:B,onCancel:R,isDestructive:!0}),a.jsx(S2,{isOpen:d,onClose:()=>x(!1),equipmentId:e,existingImage:ce}),a.jsx(k2,{equipmentId:parseInt(e),isOpen:g,onClose:()=>v(!1),onSuccess:W})]})},v3=(e,t=!1)=>`/api/files/${e}${t?"?thumbnail=true":""}`,$U=()=>{var Me,Ve,nt;const{id:e}=BC(),t=Xs(),n=Wn();lr();const[r,i]=M.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:"",quantity:1}),[o,d]=M.useState([]),[x,g]=M.useState([]);M.useState(0);const[v,w]=M.useState(""),[N,_]=M.useState(!1),[k,A]=M.useState(!1),[O,L]=M.useState("details"),[D,j]=M.useState("grid"),{data:I}=gt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),{data:W}=gt({queryKey:["categories"],queryFn:xl,staleTime:3e5}),{data:Q}=gt({queryKey:["locations"],queryFn:yo,staleTime:3e5}),B=["available","in-use","maintenance","unavailable","broken"],{data:R,isLoading:q,isError:V,error:te}=gt({queryKey:["equipment",e],queryFn:()=>sp(e),onSuccess:Ae=>{console.log("Equipment data loaded:",Ae),console.log("Location ID:",Ae.location_id,typeof Ae.location_id),i({type_id:Ae.type_id?Ae.type_id.toString():"",category_id:Ae.category_id?Ae.category_id.toString():"",category:Ae.category||"",brand:Ae.brand||"",model:Ae.model||"",serial_number:Ae.serial_number||"",status:Ae.status||"available",location:Ae.location||"",location_id:Ae.location_id?Ae.location_id.toString():"",description:Ae.description||"",reference_image_id:Ae.reference_image_id?Ae.reference_image_id.toString():"",quantity:Ae.quantity||1}),Ae.locationDetails&&console.log("Location details:",Ae.locationDetails)}}),ce=fn({mutationFn:async Ae=>{const Xe=Object.fromEntries(Object.entries(Ae.equipment).filter(([it,_e])=>_e!=null));return WN(e,Xe,Ae.filesToUpload,Ae.filesToDelete)},onSuccess:()=>{n.invalidateQueries(["equipment"]),t(`/equipment/${e}`)},onError:Ae=>{var Xe,it;console.error("Error updating equipment:",Ae),w(((it=(Xe=Ae.response)==null?void 0:Xe.data)==null?void 0:it.message)||"Failed to update equipment")}}),J=Ae=>{const{name:Xe,value:it}=Ae.target;let _e={...r,[Xe]:it};if(Xe==="category_id"&&it&&(W!=null&&W.categories)){const De=W.categories.find(at=>at.id.toString()===it);De&&(console.log("Selected category:",De),_e={..._e,category_id:it,category:De.name})}if(Xe==="location_id"&&it){const De=Q==null?void 0:Q.locations.find(at=>at.id.toString()===it);De&&(console.log("Selected location:",De),_e={..._e,location_id:it,location:De.name},De.name.toLowerCase()==="lager"?(_e.status="available",console.log('Setting status to "available" because location is Lager')):_e.status==="available"&&(_e.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${De.name})`)))}else Xe==="location"&&it&&(_e={..._e,location:it,location_id:""},it.toLowerCase()==="lager"?(_e.status="available",console.log('Setting status to "available" because custom location is Lager')):_e.status==="available"&&(_e.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${it})`)));if(Xe==="quantity"){const De=parseInt(it)||1;_e.quantity=Math.max(1,De),console.log(`Setting quantity to: ${_e.quantity}`)}else Xe==="status"&&(console.log(`User manually changed status to: ${it}`),(r.location||"").toLowerCase()==="lager"&&it!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),_e.status="available"));i(_e)},oe=Ae=>{r.reference_image_id===Ae.toString()&&i({...r,reference_image_id:""}),g(Xe=>[...Xe,Ae])},ke=Ae=>{if(Ae.preventDefault(),!r.type_id||!r.brand||!r.model||!r.serial_number){w("Type, brand, model, and serial number are required");return}const Xe=o.find((at,qt)=>r.reference_image_id==="new"),it=Xe?o.filter(at=>at!==Xe):o,_e=r.reference_image_id==="",De={...r,quantity:parseInt(r.quantity)||1,type_id:r.type_id?parseInt(r.type_id):null,category_id:r.category_id?parseInt(r.category_id):null,location_id:r.location_id?parseInt(r.location_id):null,reference_image_id:r.reference_image_id==="new"?"new":r.reference_image_id};console.log("Submitting equipment data:",De),ce.mutate({equipment:De,filesToUpload:it,filesToDelete:x,referenceImageFile:Xe||null,removeReferenceImage:_e})},se=()=>{t(`/equipment/${e}`)},Ee=Ae=>{switch(Ae){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";case"unavailable":return"secondary";case"broken":return"danger";default:return"secondary"}},ge=Ae=>{n.invalidateQueries(["equipment",e]),tt.success(`Successfully uploaded ${Ae.length} file(s)`)};if(q)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(V)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:(te==null?void 0:te.message)||"Failed to load equipment details"})}),a.jsx("div",{className:"mt-4",children:a.jsx(Re,{variant:"outline",size:"sm",onClick:se,children:"Back to Details"})})]})]})})]});const ue=R!=null&&R.reference_image_id?parseInt(R.reference_image_id):null,xe=(Me=R==null?void 0:R.files)==null?void 0:Me.find(Ae=>Ae.id===ue);return a.jsxs("form",{onSubmit:ke,className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"}),a.jsxs("p",{className:"text-slate-500 text-sm",children:[r.brand," ",r.model," • ",r.serial_number]})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(Re,{type:"button",variant:"outline",onClick:se,className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Details"]}),a.jsxs(Re,{type:"submit",variant:"primary",disabled:ce.isLoading,className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),ce.isLoading?"Saving...":"Save Changes"]})]})]}),v&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:v})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex -mb-px",children:[a.jsxs("button",{type:"button",onClick:()=>L("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${O==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${O==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),a.jsxs("button",{type:"button",onClick:()=>L("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${O==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${O==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]}),a.jsxs("button",{type:"button",onClick:()=>L("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${O==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${O==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]})]})}),a.jsxs("div",{className:"p-6",children:[O==="details"&&a.jsx("div",{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:a.jsx("div",{className:"md:col-span-1",children:a.jsxs(Fe,{className:"h-full",children:[a.jsx(Fe.Header,{className:"bg-slate-50",children:a.jsxs(Fe.Title,{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),a.jsxs(Fe.Body,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsx(ws,{id:"category_id",name:"category_id",label:"Category",value:r.category_id||"",onChange:J,options:[{value:"",label:"Select Category"},...((W==null?void 0:W.categories)||[]).map(Ae=>({value:Ae.id.toString(),label:Ae.name}))]})}),a.jsx("div",{children:a.jsx(ws,{id:"type_id",name:"type_id",label:"Type",value:r.type_id||"",onChange:J,options:[{value:"",label:"Select Type"},...((I==null?void 0:I.types)||[]).map(Ae=>({value:Ae.id.toString(),label:Ae.name}))],required:!0})}),a.jsx("div",{children:a.jsx(xt,{id:"brand",name:"brand",label:"Brand",value:r.brand,onChange:J,placeholder:"Enter brand",required:!0})}),a.jsx("div",{children:a.jsx(xt,{id:"model",name:"model",label:"Model",value:r.model,onChange:J,placeholder:"Enter model",required:!0})}),a.jsx("div",{children:a.jsx(xt,{id:"serial_number",name:"serial_number",label:"Serial Number",value:r.serial_number,onChange:J,placeholder:"Enter serial number",required:!0})}),a.jsx("div",{children:a.jsx(ws,{id:"status",name:"status",label:"Status",value:r.status,onChange:J,options:B.map(Ae=>({value:Ae,label:Ae.charAt(0).toUpperCase()+Ae.slice(1).replace("-"," ")})),required:!0})}),a.jsx("div",{children:a.jsx(xt,{id:"quantity",name:"quantity",label:"Quantity",type:"number",min:"1",value:r.quantity||1,onChange:J,placeholder:"Enter quantity",required:!0,helpText:"Number of items (minimum: 1)"})}),a.jsxs("div",{children:[a.jsx(ws,{id:"location_id",name:"location_id",label:"Location",value:r.location_id?r.location_id.toString():"",onChange:J,options:[{value:"",label:"Select Location"},...((Q==null?void 0:Q.locations)||[]).map(Ae=>{let Xe=Ae.name;const it=[];return Ae.city&&it.push(Ae.city),Ae.region&&it.push(Ae.region),Ae.country&&it.push(Ae.country),it.length>0&&(Xe+=` (${it.join(", ")})`),{value:Ae.id.toString(),label:Xe}})]}),a.jsx("div",{className:"mt-2",children:a.jsx(xt,{id:"location",name:"location",label:"Custom Location (if not in list)",value:r.location||"",onChange:J,placeholder:"Enter custom location"})})]})]}),a.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),a.jsx("label",{htmlFor:"description",className:"text-sm font-medium text-slate-700",children:"Description"})]}),a.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:J,rows:"4",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]})]})]})})})}),O==="documents"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),a.jsxs(Re,{type:"button",variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>A(!0),children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),R!=null&&R.files&&R.files.filter(Ae=>!xe||Ae.id!==xe.id).length>0?a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[R.files.filter(Ae=>!xe||Ae.id!==xe.id).length,R.files.filter(Ae=>!xe||Ae.id!==xe.id).length===1?" file":" files"," attached"]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${D==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>j("grid"),children:a.jsx(_d,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${D==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>j("list"),children:a.jsx(Ed,{className:"h-4 w-4"})})]})]}),a.jsx(A2,{files:R.files.filter(Ae=>!xe||Ae.id!==xe.id),layout:D,size:"medium",showDownload:!0,canDelete:!0,onDelete:oe})]}):a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),a.jsx("div",{className:"mt-4",children:a.jsxs(Re,{type:"button",variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>A(!0),children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),O==="history"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),a.jsx(i5,{equipmentId:e})]})]})]})]})}),a.jsx("div",{className:"md:col-span-1",children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),a.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:xe?a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"relative pb-4",children:[a.jsx("img",{src:v3(xe.id,!0),alt:`${r.brand} ${r.model}`,className:"w-full h-auto object-contain rounded-md",onError:Ae=>{console.error("Error loading thumbnail, falling back to original image"),Ae.target.src=v3(xe.id),Ae.target.onerror=null}}),a.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),a.jsx("div",{className:"text-sm text-gray-500 text-center",children:xe.file_name})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),a.jsxs("button",{type:"button",onClick:()=>_(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsx("div",{className:"md:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[a.jsx("div",{className:"p-4 border-b border-slate-200",children:a.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info Preview"]})}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.category||"Not specified"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:((nt=(Ve=I==null?void 0:I.types)==null?void 0:Ve.find(Ae=>Ae.id.toString()===r.type_id))==null?void 0:nt.name)||"Not specified"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),a.jsx("div",{children:r.status&&a.jsx(vs,{variant:Ee(r.status),size:"md",children:r.status.charAt(0).toUpperCase()+r.status.slice(1).replace("-"," ")})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Quantity"})]}),a.jsxs("p",{className:"text-sm font-medium text-slate-800",children:[r.quantity||1," item",(r.quantity||1)!==1?"s":""]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.location||"Not specified"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.serial_number})]})]})]})}),a.jsx("div",{className:"md:col-span-1",children:a.jsxs(Fe,{className:"h-full",children:[a.jsx(Fe.Header,{className:"bg-slate-50",children:a.jsxs(Fe.Title,{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),a.jsx(Fe.Body,{children:a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:(R==null?void 0:R.created_by)||"Unknown"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:R!=null&&R.created_at?new Date(R.created_at).toLocaleString():"Unknown"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:R!=null&&R.updated_at?new Date(R.updated_at).toLocaleString():"Never"})]})]})]})})]})})]}),a.jsx(S2,{isOpen:N,onClose:()=>_(!1),equipmentId:e,existingImage:xe}),a.jsx(k2,{equipmentId:parseInt(e),isOpen:k,onClose:()=>A(!1),onSuccess:ge})]})},GU=({onFileSelect:e,uploadProgress:t=0,existingFiles:n=[],onFileDelete:r,multiple:i=!1,maxFiles:o=5,maxFileSize:d=50*1024*1024})=>{const[x,g]=M.useState([]),[v,w]=M.useState({}),[N,_]=M.useState([]);M.useEffect(()=>{Object.values(v).forEach(R=>{R&&R.startsWith("blob:")&&URL.revokeObjectURL(R)});const B={};return x.forEach((R,q)=>{R.type.startsWith("image/")&&(B[`new-${q}`]=URL.createObjectURL(R))}),n.forEach(R=>{R.file_type==="image"&&(B[`existing-${R.id}`]=`/api/files/${R.id}`)}),w(B),()=>{Object.values(B).forEach(R=>{R&&R.startsWith("blob:")&&URL.revokeObjectURL(R)})}},[x,n]);const k=B=>{const R=[],q=[];return B.forEach(V=>{if(V.size>d){R.push(`${V.name} exceeds the maximum file size of ${Math.round(d/(1024*1024))}MB`);return}if(!["image/jpeg","image/png","audio/mpeg","application/pdf"].includes(V.type)){R.push(`${V.name} has an unsupported file type. Only JPEG, PNG, MP3, and PDF files are allowed.`);return}q.push(V)}),{validFiles:q,errors:R}},A=M.useCallback((B,R)=>{if(R&&R.length>0){const te=R.map(ce=>`${ce.file.name}: ${ce.errors.map(J=>J.message).join(", ")}`);_(te)}else _([]);const{validFiles:q,errors:V}=k(B);if(V.length>0&&_(te=>[...te,...V]),i&&x.length+q.length>o){_(ce=>[...ce,`You can only upload a maximum of ${o} files.`]);const te=o-x.length;if(te>0){const ce=q.slice(0,te);g(J=>[...J,...ce]),e(ce)}}else g(i?te=>[...te,...q]:q),e(q)},[e,x,i,o,d]),O=B=>{const R=[...x];R.splice(B,1),g(R),e(i?R:R.length>0?[R[0]]:[]),_([])},L=B=>{if(r){console.log(`FileUpload: Deleting file with ID ${B}`);try{r(B)}catch(R){console.error(`Error deleting file with ID ${B}:`,R)}}else console.warn(`FileUpload: No onFileDelete handler provided for file ID ${B}`)},{getRootProps:D,getInputProps:j,isDragActive:I,fileRejections:W}=Td({onDrop:A,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:i?o:1,multiple:i,maxSize:d}),Q=B=>{switch(B){case"image/jpeg":case"image/png":case"image":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":case"audio":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":case"pdf":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}};return a.jsxs("div",{children:[a.jsxs("div",{...D(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${I?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[a.jsx("input",{...j()}),I?a.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):a.jsxs("div",{children:[a.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",o," files, ",Math.round(d/(1024*1024)),"MB each)"]})]})]}),N.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"File validation errors:"}),a.jsx("ul",{className:"list-disc pl-5 text-xs text-red-700",children:N.map((B,R)=>a.jsx("li",{children:B},R))})]}),x.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Files to upload:"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:x.map((B,R)=>a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[B.type.startsWith("image/")?a.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:v[`new-${R}`]?a.jsx("img",{src:v[`new-${R}`],alt:B.name,className:"max-h-full max-w-full object-contain"}):a.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):a.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:a.jsx("div",{className:"text-4xl",children:Q(B.type)})}),a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",title:B.name,children:B.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:[(B.size/(1024*1024)).toFixed(2)," MB"]})]}),a.jsx("button",{type:"button",onClick:()=>O(R),className:"ml-2 text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Remove ${B.name}`,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})]},R))})]}),n.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Existing files:"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:n.map(B=>a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[B.file_type==="image"?a.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:v[`existing-${B.id}`]?a.jsx("img",{src:v[`existing-${B.id}`],alt:B.file_name,className:"max-h-full max-w-full object-contain"}):a.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):B.file_type==="audio"?a.jsxs("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex flex-col items-center justify-center p-2",children:[a.jsx("div",{className:"text-4xl mb-2",children:Q(B.file_type)}),a.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[a.jsx("source",{src:`/api/files/${B.id}`,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):a.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:a.jsx("div",{className:"text-4xl",children:Q(B.file_type)})}),a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",title:B.file_name,children:B.file_name}),a.jsx("p",{className:"text-xs text-slate-500 capitalize",children:B.file_type})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("a",{href:`/api/files/${B.id}?download=true`,download:!0,className:"text-primary-600 hover:text-primary-800 p-1 rounded-full hover:bg-primary-50","aria-label":`Download ${B.file_name}`,onClick:R=>{R.stopPropagation(),console.log(`Downloading file: ${B.id}`)},children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),r&&a.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),console.log(`Deleting file: ${B.id}`),L(B.id)},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Delete ${B.file_name}`,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})]},B.id))})]}),t>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${t}%`}})}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",t,"%"]})]})]})},u5=({formData:e,equipmentTypes:t,categoriesData:n,statusOptions:r,handleInputChange:i,handleFileChange:o,handleSubmit:d,handleCancel:x,isLoading:g,error:v,isEditing:w=!1,files:N=[],uploadProgress:_=0,existingFiles:k=[],handleFileDelete:A,handleSetReferenceImage:O})=>{const[L,D]=M.useState(null),[j,I]=M.useState(null),{data:W}=gt(["locations"],yo,{staleTime:3e5});M.useEffect(()=>{if(k&&k.length>0&&e.reference_image_id){const R=k.find(q=>q.id.toString()===e.reference_image_id);if(R){D(R);return}}D(null)},[k,e.reference_image_id]);const Q=R=>{I(R),i(R?{target:{name:"reference_image_id",value:"new"}}:{target:{name:"reference_image_id",value:""}})},B=R=>{D(null),i({target:{name:"reference_image_id",value:""}}),A&&A(R)};return a.jsxs(Fe,{children:[v&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 m-6 mt-0",children:a.jsx("p",{className:"text-red-700",children:v})}),a.jsxs("form",{onSubmit:d,children:[a.jsxs(Fe.Body,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(ws,{id:"category_id",name:"category_id",label:"Category",value:e.category_id||"",onChange:i,options:[{value:"",label:"Select Category"},...(n||[]).map(R=>({value:R.id.toString(),label:R.name}))]}),a.jsx(ws,{id:"type_id",name:"type_id",label:"Type",value:e.type_id||"",onChange:i,options:[{value:"",label:"Select Type"},...t.map(R=>({value:R.id.toString(),label:R.name}))],required:!0}),a.jsx(xt,{id:"brand",name:"brand",label:"Brand",value:e.brand,onChange:i,placeholder:"Enter brand",required:!0}),a.jsx(xt,{id:"model",name:"model",label:"Model",value:e.model,onChange:i,placeholder:"Enter model",required:!0}),a.jsx(mE,{id:"serial_number",name:"serial_number",label:"Serial Number",value:e.serial_number,onChange:i,placeholder:"Enter serial number",required:!0,onScan:R=>{i({target:{name:"serial_number",value:R}})}}),a.jsx(ws,{id:"status",name:"status",label:"Status",value:e.status,onChange:i,options:r.map(R=>({value:R,label:R.charAt(0).toUpperCase()+R.slice(1).replace("-"," ")})),required:!0}),a.jsx(xt,{id:"quantity",name:"quantity",label:"Quantity",type:"number",min:"1",value:e.quantity||1,onChange:i,placeholder:"Enter quantity",required:!0,helpText:"Number of items (minimum: 1)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ws,{id:"location_id",name:"location_id",label:"Location",value:e.location_id?e.location_id.toString():"",onChange:i,options:[{value:"",label:"Select Location"},...((W==null?void 0:W.locations)||[]).map(R=>{let q=R.name;const V=[];return R.city&&V.push(R.city),R.region&&V.push(R.region),R.country&&V.push(R.country),V.length>0&&(q+=` (${V.join(", ")})`),{value:R.id.toString(),label:q}})]}),a.jsx(xt,{id:"location",name:"location",label:"Custom Location (if not in list)",value:e.location||"",onChange:i,placeholder:"Enter custom location"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:i,rows:"4",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-100 rounded-lg",children:[a.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]}),a.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Upload a ",a.jsx("strong",{children:"single reference image"})," that best represents this equipment. This image will be displayed prominently on the equipment details page and in search results."]}),a.jsx(_2,{onImageSelect:Q,existingImage:L,onImageDelete:B})]}),a.jsxs("div",{className:"mt-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[a.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Documents & Attachments"]}),a.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Upload additional documents and images related to this equipment (manuals, invoices, additional photos, etc.). These will be shown in the Documents tab."}),a.jsx(GU,{onFileSelect:o,uploadProgress:_,existingFiles:k,onFileDelete:A,multiple:!0,maxFiles:5})]})]}),a.jsxs(Fe.Footer,{className:"flex justify-end space-x-3",children:[a.jsx(Re,{type:"button",variant:"secondary",onClick:x,children:"Cancel"}),a.jsx(Re,{type:"submit",variant:"primary",disabled:g,children:g?"Saving...":w?"Save Changes":"Create Equipment"})]})]})]})};u5.propTypes={formData:ie.object.isRequired,equipmentTypes:ie.array.isRequired,categoriesData:ie.array,statusOptions:ie.array.isRequired,locationsData:ie.object,handleInputChange:ie.func.isRequired,handleFileChange:ie.func.isRequired,handleSubmit:ie.func.isRequired,handleCancel:ie.func.isRequired,isLoading:ie.bool,error:ie.string,isEditing:ie.bool,files:ie.array,uploadProgress:ie.number,existingFiles:ie.array,handleFileDelete:ie.func,handleSetReferenceImage:ie.func};const XU=()=>{const e=Xs(),t=Wn(),{user:n}=lr(),[r,i]=M.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:"",quantity:1}),[o,d]=M.useState([]),[x,g]=M.useState(""),[v,w]=M.useState(0),{data:N}=gt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),{data:_}=gt({queryKey:["categories"],queryFn:xl,staleTime:3e5}),{data:k}=gt({queryKey:["locations"],queryFn:yo,staleTime:3e5}),A=["available","in-use","maintenance","unavailable","broken"],O=fn({mutationFn:async B=>e2(B.equipment,B.files),onSuccess:()=>{t.invalidateQueries(["equipment"]),e("/equipment")},onError:B=>{var R,q;console.error("Error creating equipment:",B),g(((q=(R=B.response)==null?void 0:R.data)==null?void 0:q.message)||"Failed to create equipment")}}),L=B=>{const{name:R,value:q}=B.target;let V={...r,[R]:q};if(R==="category_id"&&q&&(_!=null&&_.categories)){const te=_.categories.find(ce=>ce.id.toString()===q);te&&(console.log("Selected category:",te),V={...V,category_id:q,category:te.name})}else if(R==="location_id"&&q){const te=k==null?void 0:k.locations.find(ce=>ce.id.toString()===q);te&&(console.log("Selected location:",te),V={...V,location_id:q,location:te.name},te.name.toLowerCase()==="lager"?(V.status="available",console.log('Setting status to "available" because location is Lager')):V.status==="available"&&(V.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${te.name})`)))}else if(R==="location"&&q)V={...V,location:q,location_id:""},q.toLowerCase()==="lager"?(V.status="available",console.log('Setting status to "available" because custom location is Lager')):V.status==="available"&&(V.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${q})`));else if(R==="quantity"){const te=parseInt(q)||1;V.quantity=Math.max(1,te),console.log(`Setting quantity to: ${V.quantity}`)}else R==="status"&&(console.log(`User manually changed status to: ${q}`),(r.location||"").toLowerCase()==="lager"&&q!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),V.status="available"));i(V)},D=B=>{d(B)},j=B=>{i({...r,reference_image_id:B.toString()})},I=B=>{const R=[...o];r.reference_image_id===B.toString()&&i({...r,reference_image_id:""}),R.splice(B,1),d(R)},W=B=>{if(B.preventDefault(),!r.type_id||!r.brand||!r.model||!r.serial_number){g("Type, brand, model, and serial number are required");return}const R=r.reference_image_id==="new"&&o.length>0?o.find((V,te)=>te===0):null,q=R?o.filter(V=>V!==R):o;O.mutate({equipment:{...r,reference_image_id:r.reference_image_id==="new"?"new":r.reference_image_id},files:q,referenceImageFile:R})},Q=()=>{e("/equipment")};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Add New Equipment"})}),a.jsx(u5,{formData:r,equipmentTypes:(N==null?void 0:N.types)||[],categoriesData:(_==null?void 0:_.categories)||[],statusOptions:A,locationsData:k,handleInputChange:L,handleFileChange:D,handleSubmit:W,handleCancel:Q,isLoading:O.isLoading,error:x,files:o,uploadProgress:v,handleSetReferenceImage:j,handleFileDelete:I}),(n==null?void 0:n.role)==="admin"&&a.jsx(Fe,{className:"mt-6",children:a.jsxs(Fe.Body,{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 text-primary-500",children:a.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-800",children:"Equipment Type Management"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"You can manage equipment types in the Settings page."}),a.jsx("div",{className:"mt-3",children:a.jsx(Re,{variant:"outline",size:"sm",onClick:()=>e("/settings"),children:"Go to Settings"})})]})]})})]})},QU=()=>{const{isAdmin:e,getUsers:t,impersonateUser:n,register:r,user:i}=lr(),o=Xs(),d=Wn(),[x,g]=M.useState(null),[v,w]=M.useState(!1),[N,_]=M.useState(!1),[k,A]=M.useState({username:"",password:"",role:"basic"}),[O,L]=M.useState({});M.useEffect(()=>{e()||o("/")},[e,o]);const{data:D,isLoading:j,isError:I,error:W,refetch:Q}=gt({queryKey:["users"],queryFn:t,enabled:e()}),B=fn({mutationFn:r,onSuccess:()=>{d.invalidateQueries(["users"]),_(!1),A({username:"",password:"",role:"basic"}),tt.success("User created successfully")},onError:oe=>{var ke,se;tt.error(((se=(ke=oe.response)==null?void 0:ke.data)==null?void 0:se.message)||"Failed to create user")}}),R=oe=>{const{name:ke,value:se}=oe.target;A(Ee=>({...Ee,[ke]:se})),O[ke]&&L(Ee=>({...Ee,[ke]:""}))},q=()=>{const oe={};return k.username.trim()||(oe.username="Username is required"),k.password.trim()?k.password.length<6&&(oe.password="Password must be at least 6 characters"):oe.password="Password is required",L(oe),Object.keys(oe).length===0},V=oe=>{oe.preventDefault(),q()&&B.mutate(k)},te=async()=>{if(x)try{await n(x.id),w(!1),tt.info(`You are now impersonating ${x.username}`),o("/")}catch(oe){tt.error("Failed to impersonate user"),console.error("Failed to impersonate user:",oe)}},ce=oe=>new Date(oe).toLocaleString(),J=oe=>{switch(oe){case"admin":return"bg-red-100 text-red-800";case"advanced":return"bg-blue-100 text-blue-800";case"basic":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e()?j?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):I?a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative my-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",(W==null?void 0:W.message)||"Failed to load users."]}),a.jsx("button",{onClick:Q,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Retry"})]}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx(rp,{position:"top-right",autoClose:3e3}),a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:[a.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"User Management"}),a.jsxs("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create User"]})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Username"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created At"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:D==null?void 0:D.map(oe=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:[oe.username,oe.id===i.id&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"You"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${J(oe.role)}`,children:oe.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:ce(oe.created_at)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:oe.id!==i.id&&a.jsx("button",{onClick:()=>{g(oe),w(!0)},className:"text-indigo-600 hover:text-indigo-900","aria-label":`Impersonate ${oe.username}`,children:"Impersonate"})})]},oe.id))})]})})})]}),N&&a.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Create New User"}),a.jsxs("form",{onSubmit:V,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),a.jsx("input",{type:"text",id:"username",name:"username",value:k.username,onChange:R,className:`w-full px-3 py-2 border ${O.username?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),O.username&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.username})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),a.jsx("input",{type:"password",id:"password",name:"password",value:k.password,onChange:R,className:`w-full px-3 py-2 border ${O.password?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),O.password&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.password})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),a.jsxs("select",{id:"role",name:"role",value:k.role,onChange:R,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"basic",children:"Basic"}),a.jsx("option",{value:"advanced",children:"Advanced"}),a.jsx("option",{value:"admin",children:"Admin"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:B.isLoading,children:B.isLoading?"Creating...":"Create User"})]})]})]})}),v&&x&&a.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Confirm Impersonation"}),a.jsxs("p",{className:"text-slate-500 mb-4",children:["You are about to impersonate ",a.jsx("strong",{children:x.username})," with role ",a.jsx("strong",{children:x.role}),". You will have the same permissions as this user until you end the impersonation."]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),a.jsx("button",{onClick:te,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Impersonate"})]})]})})]}):a.jsx("div",{className:"text-center py-10",children:"Access denied. Admin privileges required."})},KU=()=>{var W,Q;const[e,t]=M.useState(1),[n]=M.useState(20),[r,i]=M.useState("created_at"),[o,d]=M.useState("desc"),[x,g]=M.useState({equipmentId:"",actionType:"",search:"",type:"",status:"",location_id:""}),{data:v}=gt({queryKey:["equipment-types"],queryFn:Li,staleTime:3e5}),{data:w}=gt(["locations"],yo),{data:N,isLoading:_,isError:k,error:A}=gt(["allEquipmentLogs",e,n,x,r,o],()=>cU({page:e,limit:n,equipmentId:x.equipmentId||void 0,actionType:x.actionType||void 0,search:x.search||void 0,type:x.type||void 0,status:x.status||void 0,location_id:x.location_id||void 0,sortBy:r,sortOrder:o}),{keepPreviousData:!0}),O=B=>{switch(B){case"created":return"badge-success";case"updated":return"badge-info";case"deleted":return"badge-danger";case"status_change":return"badge-warning";case"location_change":return"badge-primary";default:return"badge-secondary"}},L=B=>B.split("_").map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(" "),D=B=>{const{name:R,value:q}=B.target;g(V=>({...V,[R]:q})),t(1)},j=B=>{B.preventDefault()},I=B=>{t(B)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Movement Logs"})}),a.jsx("div",{className:"card",children:a.jsxs("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),a.jsxs("div",{className:"input-group",children:[a.jsx(n2,{className:"input-icon w-4 h-4"}),a.jsx("input",{type:"text",id:"search",name:"search",value:x.search,onChange:D,placeholder:"Search logs...",className:"input input-with-icon"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"label",children:"Equipment Type"}),a.jsxs("select",{id:"type",name:"type",value:x.type,onChange:D,className:"input",children:[a.jsx("option",{value:"",children:"All Types"}),v!=null&&v.types&&v.types.length>0?v.types.map(B=>a.jsx("option",{value:B.name.toLowerCase(),children:B.name},B.id)):a.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"label",children:"Equipment Status"}),a.jsxs("select",{id:"status",name:"status",value:x.status,onChange:D,className:"input",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"in-use",children:"In Use"}),a.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),a.jsxs("select",{id:"location_id",name:"location_id",value:x.location_id,onChange:D,className:"input",children:[a.jsx("option",{value:"",children:"All Locations"}),(W=w==null?void 0:w.locations)==null?void 0:W.map(B=>a.jsx("option",{value:B.id.toString(),children:B.name},B.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"actionType",className:"label",children:"Action Type"}),a.jsxs("select",{id:"actionType",name:"actionType",value:x.actionType,onChange:D,className:"input",children:[a.jsx("option",{value:"",children:"All Actions"}),a.jsx("option",{value:"created",children:"Created"}),a.jsx("option",{value:"updated",children:"Updated"}),a.jsx("option",{value:"deleted",children:"Deleted"}),a.jsx("option",{value:"status_change",children:"Status Change"}),a.jsx("option",{value:"location_change",children:"Location Change"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[a.jsx(r2,{className:"w-4 h-4"}),a.jsx("span",{children:"Apply Filters"})]})})]})}),a.jsxs("div",{className:"card",children:[_?a.jsx("div",{className:"text-center py-10",children:"Loading..."}):k?a.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",A.message||"Failed to load equipment logs"]}):(Q=N==null?void 0:N.logs)!=null&&Q.length?a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell",children:"Date"}),a.jsx("th",{className:"table-header-cell",children:"Equipment"}),a.jsx("th",{className:"table-header-cell",children:"User"}),a.jsx("th",{className:"table-header-cell",children:"Action"}),a.jsx("th",{className:"table-header-cell",children:"Details"})]})}),a.jsx("tbody",{className:"table-body",children:N.logs.map(B=>{var R,q;return a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"table-cell whitespace-nowrap",children:dd(new Date(B.created_at),"MMM d, yyyy h:mm a")}),a.jsx("td",{className:"table-cell",children:B.equipment?a.jsxs(Fn,{to:`/equipment/${B.equipment.id}`,className:"text-primary-600 hover:text-primary-800",children:[B.equipment.brand," ",B.equipment.model,a.jsxs("span",{className:"text-xs text-slate-500 block",children:["SN: ",B.equipment.serial_number]})]}):a.jsx("span",{className:"text-slate-400",children:"Deleted equipment"})}),a.jsxs("td",{className:"table-cell",children:[((R=B.user)==null?void 0:R.username)||"Unknown",a.jsx("span",{className:"text-xs text-slate-500 block",children:((q=B.user)==null?void 0:q.role)||""})]}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`badge ${O(B.action_type)}`,children:L(B.action_type)})}),a.jsxs("td",{className:"table-cell",children:[B.action_type==="status_change"&&a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Status:"})," ",a.jsx("span",{className:"badge badge-outline-secondary",children:B.previous_status})," ",a.jsx("span",{className:"text-slate-400",children:"→"})," ",a.jsx("span",{className:"badge badge-outline-primary",children:B.new_status})]}),B.action_type==="location_change"&&a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Location:"})," ",a.jsx("span",{className:"badge badge-outline-secondary",children:B.previous_location||"None"})," ",a.jsx("span",{className:"text-slate-400",children:"→"})," ",a.jsx("span",{className:"badge badge-outline-primary",children:B.new_location||"None"})]}),B.details&&a.jsx("div",{className:"text-sm mt-1",children:B.details})]})]},B.id)})})]})}):a.jsx("div",{className:"text-center py-10 text-slate-500",children:x.search||x.equipmentId||x.actionType?"No logs found matching your search criteria.":"No logs found."}),(N==null?void 0:N.totalPages)>1&&a.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-slate-200",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("span",{className:"font-medium text-slate-800",children:(e-1)*n+1})," to"," ",a.jsx("span",{className:"font-medium text-slate-800",children:Math.min(e*n,N.total)})," of"," ",a.jsx("span",{className:"font-medium text-slate-800",children:N.total})," logs"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>I(e-1),disabled:e===1,className:`btn ${e===1?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Previous"}),a.jsx("button",{onClick:()=>I(e+1),disabled:e===N.totalPages,className:`btn ${e===N.totalPages?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Next"})]})]})]})]})},mp="https://tonlager.kinsta.app",ZU=async(e={})=>{try{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.search&&t.append("search",e.search),e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset);const n=await fetch(`${mp}/api/shows?${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(t){throw console.error("Error fetching shows:",t),t}},JU=async e=>{try{const t=await fetch(`${mp}/api/shows`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.message||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error("Error creating show:",t),t}},ez=async(e,t)=>{try{const n=await fetch(`${mp}/api/shows/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)});if(!n.ok){const r=await n.json();throw new Error(r.message||`HTTP error! status: ${n.status}`)}return await n.json()}catch(n){throw console.error("Error updating show:",n),n}},tz=async e=>{try{const t=await fetch(`${mp}/api/shows/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok){const n=await t.json();throw new Error(n.message||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error("Error deleting show:",t),t}},nz=()=>{const e=Wn(),{data:t,isLoading:n,error:r}=gt({queryKey:["shows"],queryFn:()=>ZU(),onError:J=>{Bn.error(`Failed to load shows: ${J.message}`)}}),i=(t==null?void 0:t.shows)||[],o=fn({mutationFn:JU,onSuccess:()=>{e.invalidateQueries(["shows"]),Bn.success("Show created successfully"),N(!1),Q({name:"",date:"",venue:"",director:"",description:""})},onError:J=>{Bn.error(`Failed to create show: ${J.message}`)}}),d=fn({mutationFn:({id:J,...oe})=>ez(J,oe),onSuccess:()=>{e.invalidateQueries(["shows"]),Bn.success("Show updated successfully"),D(!1),I(null)},onError:J=>{Bn.error(`Failed to update show: ${J.message}`)}}),x=fn({mutationFn:tz,onSuccess:()=>{e.invalidateQueries(["shows"]),Bn.success("Show deleted successfully")},onError:J=>{Bn.error(`Failed to delete show: ${J.message}`)}}),[g,v]=M.useState("list"),[w,N]=M.useState(!1),[_,k]=M.useState(null),[A,O]=M.useState(!1),[L,D]=M.useState(!1),[j,I]=M.useState(null),[W,Q]=M.useState({name:"",date:"",venue:"",director:"",description:""}),B=J=>{switch(J){case"planning":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},R=()=>{W.name&&W.date&&o.mutate(W)},q=J=>{k(J),O(!0)},V=J=>{I({...J}),D(!0)},te=()=>{j.name&&j.date&&d.mutate(j)},ce=J=>{window.confirm("Are you sure you want to delete this show?")&&x.mutate(J)};return n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"Loading shows..."})]})}):r?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:"❌ Error loading shows"}),a.jsx("p",{className:"text-slate-600 mb-4",children:r.message}),a.jsx(Re,{onClick:()=>e.invalidateQueries(["shows"]),children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center space-x-3",children:[a.jsx(Ex,{className:"w-8 h-8 text-primary-600"}),a.jsx("span",{children:"Show List"})]}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Manage theater shows and their equipment allocations"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center bg-slate-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>v("list"),className:`p-2 rounded-md transition-colors ${g==="list"?"bg-white text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,title:"List View",children:a.jsx(Ed,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>v("card"),className:`p-2 rounded-md transition-colors ${g==="card"?"bg-white text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,title:"Card View",children:a.jsx(_d,{className:"w-4 h-4"})})]}),a.jsxs(Re,{onClick:()=>N(!0),className:"flex items-center space-x-2",children:[a.jsx(t2,{className:"w-4 h-4"}),a.jsx("span",{children:"Create New Show"})]})]})]}),i.length===0?a.jsx(Fe,{className:"text-center py-12",children:a.jsxs(Fe.Body,{children:[a.jsx(Ex,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:"No shows yet"}),a.jsx("p",{className:"text-slate-600 mb-4",children:"Create your first show to start managing equipment allocations"}),a.jsx(Re,{onClick:()=>N(!0),children:"Create New Show"})]})}):g==="list"?a.jsx(Fe,{children:a.jsx(Fe.Body,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Show"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Venue"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Director"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Equipment"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:i.map(J=>a.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer",onClick:()=>q(J),children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-800",children:J.name}),J.description&&a.jsx("div",{className:"text-sm text-slate-500 truncate max-w-xs",children:J.description})]})}),a.jsx("td",{className:"py-3 px-4 text-slate-600",children:new Date(J.date).toLocaleDateString()}),a.jsx("td",{className:"py-3 px-4 text-slate-600",children:J.venue}),a.jsx("td",{className:"py-3 px-4 text-slate-600",children:J.director}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B(J.status)}`,children:J.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"font-medium text-primary-600",children:J.equipmentCount})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex space-x-1",onClick:oe=>oe.stopPropagation(),children:[a.jsx(Re,{size:"sm",variant:"outline",onClick:()=>q(J),className:"p-1",title:"View",children:a.jsx(oh,{className:"w-4 h-4"})}),a.jsx(Re,{size:"sm",variant:"outline",onClick:()=>V(J),className:"p-1",title:"Edit",children:a.jsx(ac,{className:"w-4 h-4"})}),a.jsx(Re,{size:"sm",variant:"outline",onClick:()=>ce(J.id),className:"p-1 text-red-600 hover:text-red-700",title:"Delete",children:a.jsx(ob,{className:"w-4 h-4"})})]})})]},J.id))})]})})})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(J=>a.jsxs(Fe,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Fe.Header,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:J.name}),a.jsx("p",{className:"text-sm text-slate-600",children:J.venue})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B(J.status)}`,children:J.status})]})}),a.jsx(Fe.Body,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Date:"}),a.jsx("span",{className:"font-medium",children:new Date(J.date).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Director:"}),a.jsx("span",{className:"font-medium",children:J.director})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Equipment Items:"}),a.jsx("span",{className:"font-medium text-primary-600",children:J.equipmentCount})]})]})}),a.jsx(Fe.Footer,{children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Re,{size:"sm",variant:"outline",onClick:()=>q(J),className:"flex-1 flex items-center justify-center space-x-1",children:[a.jsx(oh,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]}),a.jsxs(Re,{size:"sm",variant:"outline",onClick:()=>V(J),className:"flex-1 flex items-center justify-center space-x-1",children:[a.jsx(ac,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}),a.jsx(Re,{size:"sm",variant:"outline",onClick:()=>ce(J.id),className:"flex items-center justify-center px-3 text-red-600 hover:text-red-700",children:a.jsx(ob,{className:"w-4 h-4"})})]})})]},J.id))}),w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Create New Show"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Show Name *"}),a.jsx(xt,{value:W.name,onChange:J=>Q({...W,name:J.target.value}),placeholder:"Enter show name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date *"}),a.jsx(xt,{type:"date",value:W.date,onChange:J=>Q({...W,date:J.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Venue"}),a.jsx(xt,{value:W.venue,onChange:J=>Q({...W,venue:J.target.value}),placeholder:"Enter venue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Director"}),a.jsx(xt,{value:W.director,onChange:J=>Q({...W,director:J.target.value}),placeholder:"Enter director name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{value:W.description,onChange:J=>Q({...W,description:J.target.value}),placeholder:"Enter show description",className:"w-full p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:"3"})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx(Re,{variant:"outline",onClick:()=>N(!1),className:"flex-1",children:"Cancel"}),a.jsx(Re,{onClick:R,className:"flex-1",disabled:!W.name||!W.date||o.isLoading,children:o.isLoading?"Creating...":"Create Show"})]})]})}),A&&_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:_.name}),a.jsx("p",{className:"text-slate-600 mt-1",children:_.venue})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${B(_.status)}`,children:_.status}),a.jsx(Re,{variant:"outline",onClick:()=>O(!1),className:"text-slate-500",children:"✕"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Fe,{children:[a.jsx(Fe.Header,{children:a.jsx("h3",{className:"text-lg font-semibold",children:"Show Information"})}),a.jsx(Fe.Body,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),a.jsx("p",{className:"text-slate-900",children:new Date(_.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Director"}),a.jsx("p",{className:"text-slate-900",children:_.director||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("p",{className:"text-slate-900",children:_.description||"No description provided"})]})]})})]}),a.jsxs(Fe,{children:[a.jsx(Fe.Header,{children:a.jsx("h3",{className:"text-lg font-semibold",children:"Equipment Summary"})}),a.jsx(Fe.Body,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:_.equipmentCount}),a.jsx("p",{className:"text-slate-600",children:"Equipment Items Allocated"})]}),a.jsx(Re,{className:"w-full",disabled:!0,children:"Manage Equipment (Coming Soon)"})]})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-slate-200",children:[a.jsx(Re,{variant:"outline",onClick:()=>O(!1),children:"Close"}),a.jsxs(Re,{onClick:()=>{O(!1),V(_)},className:"flex items-center space-x-2",children:[a.jsx(ac,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit Show"})]})]})]})})}),L&&j&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Edit Show"}),a.jsx(Re,{variant:"outline",onClick:()=>D(!1),className:"text-slate-500",children:"✕"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Fe,{children:[a.jsx(Fe.Header,{children:a.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"})}),a.jsx(Fe.Body,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Show Name *"}),a.jsx(xt,{value:j.name,onChange:J=>I({...j,name:J.target.value}),placeholder:"Enter show name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date *"}),a.jsx(xt,{type:"date",value:j.date,onChange:J=>I({...j,date:J.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Venue"}),a.jsx(xt,{value:j.venue,onChange:J=>I({...j,venue:J.target.value}),placeholder:"Enter venue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Director"}),a.jsx(xt,{value:j.director,onChange:J=>I({...j,director:J.target.value}),placeholder:"Enter director name"})]})]})})]}),a.jsxs(Fe,{children:[a.jsx(Fe.Header,{children:a.jsx("h3",{className:"text-lg font-semibold",children:"Additional Details"})}),a.jsx(Fe.Body,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),a.jsxs("select",{value:j.status,onChange:J=>I({...j,status:J.target.value}),className:"w-full p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"planning",children:"Planning"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"archived",children:"Archived"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{value:j.description,onChange:J=>I({...j,description:J.target.value}),placeholder:"Enter show description",className:"w-full p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:"6"})]})]})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-slate-200",children:[a.jsx(Re,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),a.jsx(Re,{onClick:te,disabled:!j.name||!j.date||d.isLoading,className:"flex items-center space-x-2",children:a.jsx("span",{children:d.isLoading?"Saving...":"Save Changes"})})]})]})})})]})},rz=new r7({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),na=({children:e})=>{const{user:t,loading:n}=lr();return n?a.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?e:a.jsx(Z0,{to:"/login"})},y3=({children:e})=>{const{user:t,loading:n,isAdmin:r}=lr();return n?a.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?r()?e:a.jsx(Z0,{to:"/dashboard"}):a.jsx(Z0,{to:"/login"})},si=({children:e})=>{const[t,n]=M.useState(!0),[r,i]=M.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx(Q9,{}),a.jsx($9,{}),a.jsx(X9,{isOpen:t,isCollapsed:r,toggleSidebar:n,toggleCollapse:i}),a.jsx("main",{className:`main-content pt-16 ${t?r?"main-content-with-sidebar-collapsed":"main-content-with-sidebar":""}`,children:a.jsx("div",{className:"container-app",children:a.jsx("div",{className:"space-y-6",children:e})})})]})},sz=()=>a.jsx(BD,{children:a.jsxs(ID,{children:[a.jsx(Jr,{path:"/login",element:a.jsx(K9,{})}),a.jsx(Jr,{path:"/",element:a.jsx(na,{children:a.jsx(si,{children:a.jsx(n3,{})})})}),a.jsx(Jr,{path:"/dashboard",element:a.jsx(na,{children:a.jsx(si,{children:a.jsx(n3,{})})})}),a.jsx(Jr,{path:"/simple-dashboard",element:a.jsx(na,{children:a.jsx(si,{children:a.jsx(SF,{})})})}),a.jsx(Jr,{path:"/equipment/new",element:a.jsx(na,{children:a.jsx(si,{children:a.jsx(XU,{})})})}),a.jsx(Jr,{path:"/equipment/:id/edit",element:a.jsx(na,{children:a.jsx(si,{children:a.jsx($U,{})})})}),a.jsx(Jr,{path:"/equipment/:id",element:a.jsx(na,{children:a.jsx(si,{children:a.jsx(YU,{})})})}),a.jsx(Jr,{path:"/equipment",element:a.jsx(na,{children:a.jsx(si,{children:a.jsx(lU,{})})})}),a.jsx(Jr,{path:"/show-list",element:a.jsx(na,{children:a.jsx(si,{children:a.jsx(nz,{})})})}),a.jsx(Jr,{path:"/admin",element:a.jsx(y3,{children:a.jsx(si,{children:a.jsx(QU,{})})})}),a.jsx(Jr,{path:"/equipment-logs",element:a.jsx(y3,{children:a.jsx(si,{children:a.jsx(KU,{})})})}),a.jsx(Jr,{path:"/settings",element:a.jsx(na,{children:a.jsx(si,{children:a.jsx(lB,{})})})}),a.jsx(Jr,{path:"*",element:a.jsx(Z0,{to:"/"})})]})}),iz=()=>a.jsx(v7,{client:rz,children:a.jsx(uR,{children:a.jsxs(qN,{children:[a.jsx(rp,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),a.jsx(sz,{})]})})});const az=async()=>{try{return(await ft.get("/api/csrf-token",{withCredentials:!0})).data.csrfToken}catch(e){return console.error("Failed to fetch CSRF token:",e),null}},oz=async()=>{ft.defaults.withCredentials=!0;const e=localStorage.getItem("token");e&&(ft.defaults.headers.common.Authorization=`Bearer ${e}`),ft.interceptors.response.use(t=>t,async t=>{var r;const n=t.config;if(n&&(n.url.includes("/files/")||n.url.includes("/public-files/")))return console.log("File access error:",t),Promise.reject(t);if(((r=t.response)==null?void 0:r.status)===401&&!n._retry){n._retry=!0;try{return window.location.pathname!=="/login"&&(localStorage.removeItem("token"),delete ft.defaults.headers.common.Authorization,alert("Your session has expired. Please log in again."),window.location.href="/login"),Promise.reject(t)}catch(i){return Promise.reject(i)}}return Promise.reject(t)});{const t=await az();t&&ft.interceptors.request.use(async n=>(n.method!=="get"&&(n.headers["CSRF-Token"]=t),n),n=>Promise.reject(n))}return ft};console.log("API URL:","https://tonlager.kinsta.app");console.log("Environment PROD:",!0);console.log("Environment MODE:","production");console.log("🚀 Theater Equipment Catalog - Kinsta Deployment v3");let Sh;window.location.hostname==="tonlager.kinsta.app"?(Sh="",console.log("🎯 Kinsta detected - using relative URL")):(Sh="",console.log("🏭 Production mode - using relative URL"));ft.defaults.baseURL=Sh;console.log("Setting axios baseURL to:",Sh);const lz=async()=>{await oz(),fm.createRoot(document.getElementById("root")).render(a.jsx(de.StrictMode,{children:a.jsx(iz,{})}))};lz();
//# sourceMappingURL=index-bc643544.js.map
